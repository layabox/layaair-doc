#Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‚ç…§



##ä¸€ã€LayaAirIDEã§Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹

###1.1 Clipã®ä½œæˆ
Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ“ãƒƒãƒˆãƒãƒƒãƒ—ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚Clipã¯ã€å„ã‚¹ãƒ©ã‚¤ã‚¹ã®å¹…clipWidthã€ç¸¦æ–¹å‘ã«åˆ†å‰²ã—ã€å„ã‚¹ãƒ©ã‚¤ã‚¹ã®é«˜ã•clipHeightã‚’æ¨ªæ–¹å‘ã«åˆ†å‰²ã—ã€å·¦ã‹ã‚‰å³ã«ã€ä¸Šã‹ã‚‰ä¸‹ã«åˆ†å‰²ã—ã¦ã€ä¸€ã¤ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«çµåˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ã‚¹ãƒ©ã‚¤ã‚¹å‹•ç”»ã‚’å†ç”Ÿã—ã€ã‚¹ãƒ©ã‚¤ã‚¹å‹•ç”»ã®ã‚ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ãƒãƒ«ã®Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒšãƒ¼ã‚¸ç·¨é›†ã‚¨ãƒªã‚¢ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¾ã™ã€‚Tabã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒšãƒ¼ã‚¸ã«è¿½åŠ ã§ãã¾ã™ã€‚
Clipã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å‚ç…§[Clip API](http://layaair.ldc.layabox.com/api/index.html?category=Core&class=laya.ui.Clip)

Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒªã‚½ãƒ¼ã‚¹ä¾‹ï¼š



â€‹        ![å›¾ç‰‡0.png](img/1.png)<br/>
ï¼ˆå›³1ï¼‰

clipXå±æ€§ã®å€¤ã‚’10ã«è¨­å®šã—ãŸå¾Œã®è¡¨ç¤ºåŠ¹æœï¼š

â€‹![å›¾ç‰‡0.png](img/2.png)<br/>
ï¼ˆå›³2ï¼‰

indexå±æ€§ã®å€¤ã‚’1ã«è¨­å®šã—ãŸå¾Œã®è¡¨ç¤ºåŠ¹æœ:

â€‹![å›¾ç‰‡0.png](img/3.png)<br/>
ï¼ˆå›³3ï¼‰

###1.2 Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸€èˆ¬çš„ãªå±æ€§

â€‹![å›¾ç‰‡0.png](img/4.png)<br/>
ï¼ˆå›³4ï¼‰

ğ“œ**å±æ€§**ğ“œ**æ©Ÿèƒ½èª¬æ˜**ğ“œ
|------|---------------------------------|
ç¾åœ¨ã®åˆ‡ç‰‡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«å†ç”Ÿã•ã‚Œã‚‹ã‹ã©ã†ã‹ã‚’ç¤ºã—ã¾ã™ã€‚ğ“œ
|clip Widthğ“œãŒç”»åƒãƒªã‚½ãƒ¼ã‚¹ã‚’æ¨ªæ–¹å‘ã«åˆ†å‰²ã™ã‚‹å ´åˆã€å„ã‚¹ãƒ©ã‚¤ã‚¹ã®å¹…ã€‚ğ“œ
|clipHeightğ“œãŒç”»åƒãƒªã‚½ãƒ¼ã‚¹ã‚’ç¸¦ã«åˆ†å‰²ã™ã‚‹å ´åˆã€å„ã‚¹ãƒ©ã‚¤ã‚¹ã®é«˜ã•ã€‚ğ“œ
|clipX|ãŒç”»åƒè³‡æºã‚’æ¨ªã«åˆ†å‰²ã™ã‚‹å ´åˆã€ç­‰å¹…ã«åˆ‡æ–­ã•ã‚ŒãŸéƒ¨æ•°ã€‚ğ“œ
|clipY|ãŒç”»åƒãƒªã‚½ãƒ¼ã‚¹ã‚’ç¸¦ã«åˆ†å‰²ã™ã‚‹å ´åˆãªã©ã€é«˜ã‚«ãƒƒãƒˆã®éƒ¨æ•°ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚ğ“œ
ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ç¾åœ¨è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ğ“œ
ãƒ†ãƒ¬ãƒ“ã‚¢ãƒ‹ãƒ¡ã®æ”¾é€é–“éš”ã€‚ğ“œ
|sizeGridç”»åƒãƒªã‚½ãƒ¼ã‚¹ã®æœ‰åŠ¹ã‚°ãƒªãƒƒãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒãƒ¤ãƒ¼ã‚°ãƒ‡ãƒ¼ã‚¿ï¼‰ã€‚ğ“œ
|skin 124;ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®ç”»åƒãƒªã‚½ãƒ¼ã‚¹ã€‚ğ“œ



##äºŒã€ã‚³ãƒ¼ãƒ‰ã§Clipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹

ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ™‚ã¯ã€ã‚³ãƒ¼ãƒ‰åˆ¶å¾¡UIã‚’é€šã—ã¦ä½œæˆã™ã‚‹ã“ã¨ãŒé¿ã‘ã‚‰ã‚Œã¾ã›ã‚“ã€‚`UI_Clip`ã‚¯ãƒ©ã‚¹ã¯ã€ã‚³ãƒ¼ãƒ‰ã§Clipé–¢é€£ã®å±æ€§ã‚’è¨­å®šã—ã¾ã™ã€‚

**å®Ÿè¡Œä¾‹ã®åŠ¹æœ:**

â€‹	![1](gif/1.gif)<br/>
ï¼ˆå›³5ï¼‰ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã‚«ã‚¦ãƒ³ã‚¿ä½œæˆ

â€‹![1](img/5.png)<br/>
ï¼ˆå›³6ï¼‰

Clipã®ä»–ã®å±æ€§ã‚‚ã‚³ãƒ¼ãƒ‰ã§è¨­å®šã§ãã€ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€å„ç§’ã”ã¨ã«clip.clipXã‚¹ãƒ©ã‚¤ã‚¹ã‚’æ›´æ–°ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ãƒ‡ã‚¸ã‚¿ãƒ«ã‚’æ¯ç§’æ›´æ–°ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ã‚¿ã‚¤ãƒã®æ©Ÿèƒ½ãŒå®Ÿç¾ã•ã‚Œã¾ã™ã€‚èˆˆå‘³ã®ã‚ã‚‹èª­è€…ã¯è‡ªåˆ†ã§ã‚³ãƒ¼ãƒ‰è¨­å®šClipã‚’é€šã˜ã¦ã€è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªClipã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

**ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰:**


```typescript

(function()
{
	var Stage   = Laya.Stage;
	var Button  = Laya.Button;
	var Clip    = Laya.Clip;
	var Image   = Laya.Image;
	var Handler = Laya.Handler;
	var WebGL   = Laya.WebGL;

	var buttonSkin = "res/ui/button-7.png";
	var clipSkin = "res/ui/num0-9.png";
	var bgSkin = "res/ui/coutDown.png";

	var counter, currFrame, controller;

	(function()
	{
		// ä¸æ”¯æŒWebGLæ—¶è‡ªåŠ¨åˆ‡æ¢è‡³Canvas
		Laya.init(800, 600, WebGL);

		Laya.stage.alignV = Stage.ALIGN_MIDDLE;
		Laya.stage.alignH = Stage.ALIGN_CENTER;

		Laya.stage.scaleMode = Stage.SCALE_SHOWALL;
		Laya.stage.bgColor = "#232628";
		//é¢„åŠ è½½èµ„æº
		Laya.loader.load([buttonSkin, clipSkin, bgSkin], laya.utils.Handler.create(this, onSkinLoaded));
	})();

	function onSkinLoaded()
	{
		showBg();
		createTimerAnimation();
		showTotalSeconds();
		createController();
	}

	function showBg()
	{
		var bg = new Image(bgSkin);
		bg.size(224, 302);
		bg.pos(Laya.stage.width - bg.width >> 1, Laya.stage.height - bg.height >> 1);
		Laya.stage.addChild(bg);
	}

	function createTimerAnimation()
	{
		counter = new Clip(clipSkin, 10, 1);
		counter.autoPlay = true;
		counter.interval = 1000;

		counter.x = (Laya.stage.width - counter.width) / 2 - 35;
		counter.y = (Laya.stage.height - counter.height) / 2 - 40;

		Laya.stage.addChild(counter);
	}

	function showTotalSeconds()
	{
		var clip = new Clip(clipSkin, 10, 1);
		clip.index = clip.clipX - 1;
		clip.pos(counter.x + 60, counter.y);
		Laya.stage.addChild(clip);
	}

	function createController()
	{
		controller = new Button(buttonSkin, "æš‚åœ");
		controller.labelBold = true;
		controller.labelColors = "#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF";
		controller.size(84, 30);

		controller.on('click', this, onClipSwitchState);

		controller.x = (Laya.stage.width - controller.width) / 2;
		controller.y = (Laya.stage.height - controller.height) / 2 + 110;
		Laya.stage.addChild(controller);
	}

	function onClipSwitchState()
	{
		if (counter.isPlaying)
		{
			counter.stop();
			currFrame = counter.index;
			controller.label = "æ’­æ”¾";
		}
		else
		{
			counter.play();
			counter.index = currFrame;
			controller.label = "æš‚åœ";
		}
	}
})();
```








 