
/***********************************/
/*http://www.layabox.com  2017/12/12*/
/***********************************/
var Laya=window.Laya=(function(window,document){
	var Laya={
		__internals:[],
		__packages:{},
		__classmap:{'Object':Object,'Function':Function,'Array':Array,'String':String},
		__sysClass:{'object':'Object','array':'Array','string':'String','dictionary':'Dictionary'},
		__propun:{writable: true,enumerable: false,configurable: true},
		__presubstr:String.prototype.substr,
		__substr:function(ofs,sz){return arguments.length==1?Laya.__presubstr.call(this,ofs):Laya.__presubstr.call(this,ofs,sz>0?sz:(this.length+sz));},
		__init:function(_classs){_classs.forEach(function(o){o.__init$ && o.__init$();});},
		__isClass:function(o){return o && (o.__isclass || o==Object || o==String || o==Array);},
		__newvec:function(sz,value){
			var d=[];
			d.length=sz;
			for(var i=0;i<sz;i++) d[i]=value;
			return d;
		},
		__extend:function(d,b){
			for (var p in b){
				if (!b.hasOwnProperty(p)) continue;
				var gs=Object.getOwnPropertyDescriptor(b, p);
				var g = gs.get, s = gs.set; 
				if ( g || s ) {
					if ( g && s)
						Object.defineProperty(d,p,gs);
					else{
						g && Object.defineProperty(d, p, g);
						s && Object.defineProperty(d, p, s);
					}
				}
				else d[p] = b[p];
			}
			function __() { Laya.un(this,'constructor',d); }__.prototype=b.prototype;d.prototype=new __();Laya.un(d.prototype,'__imps',Laya.__copy({},b.prototype.__imps));
		},
		__copy:function(dec,src){
			if(!src) return null;
			dec=dec||{};
			for(var i in src) dec[i]=src[i];
			return dec;
		},
		__package:function(name,o){
			if(Laya.__packages[name]) return;
			Laya.__packages[name]=true;
			var p=window,strs=name.split('.');
			if(strs.length>1){
				for(var i=0,sz=strs.length-1;i<sz;i++){
					var c=p[strs[i]];
					p=c?c:(p[strs[i]]={});
				}
			}
			p[strs[strs.length-1]] || (p[strs[strs.length-1]]=o||{});
		},
		__hasOwnProperty:function(name,o){
			o=o ||this;
		    function classHas(name,o){
				if(Object.hasOwnProperty.call(o.prototype,name)) return true;
				var s=o.prototype.__super;
				return s==null?null:classHas(name,s);
			}
			return (Object.hasOwnProperty.call(o,name)) || classHas(name,o.__class);
		},
		__typeof:function(o,value){
			if(!o || !value) return false;
			if(value===String) return (typeof o==='string');
			if(value===Number) return (typeof o==='number');
			if(value.__interface__) value=value.__interface__;
			else if(typeof value!='string')  return (o instanceof value);
			return (o.__imps && o.__imps[value]) || (o.__class==value);
		},
		__as:function(value,type){
			return (this.__typeof(value,type))?value:null;
		},
        __int:function(value){
            return value?parseInt(value):0;
        },
		interface:function(name,_super){
			Laya.__package(name,{});
			var ins=Laya.__internals;
			var a=ins[name]=ins[name] || {self:name};
			if(_super)
			{
				var supers=_super.split(',');
				a.extend=[];
				for(var i=0;i<supers.length;i++){
					var nm=supers[i];
					ins[nm]=ins[nm] || {self:nm};
					a.extend.push(ins[nm]);
				}
			}
			var o=window,words=name.split('.');
			for(var i=0;i<words.length-1;i++) o=o[words[i]];
			o[words[words.length-1]]={__interface__:name};
		},
		class:function(o,fullName,_super,miniName){
			_super && Laya.__extend(o,_super);
			if(fullName){
				Laya.__package(fullName,o);
				Laya.__classmap[fullName]=o;
				if(fullName.indexOf('.')>0){
					if(fullName.indexOf('laya.')==0){
						var paths=fullName.split('.');
						miniName=miniName || paths[paths.length-1];
						if(Laya[miniName]) console.log("Warning!,this class["+miniName+"] already exist:",Laya[miniName]);
						Laya[miniName]=o;
					}
				}
				else {
					if(fullName=="Main")
						window.Main=o;
					else{
						if(Laya[fullName]){
							console.log("Error!,this class["+fullName+"] already exist:",Laya[fullName]);
						}
						Laya[fullName]=o;
					}
				}
			}
			var un=Laya.un,p=o.prototype;
			un(p,'hasOwnProperty',Laya.__hasOwnProperty);
			un(p,'__class',o);
			un(p,'__super',_super);
			un(p,'__className',fullName);
			un(o,'__super',_super);
			un(o,'__className',fullName);
			un(o,'__isclass',true);
			un(o,'super',function(o){this.__super.call(o);});
		},
		imps:function(dec,src){
			if(!src) return null;
			var d=dec.__imps|| Laya.un(dec,'__imps',{});
			function __(name){
				var c,exs;
				if(! (c=Laya.__internals[name]) ) return;
				d[name]=true;
				if(!(exs=c.extend)) return;
				for(var i=0;i<exs.length;i++){
					__(exs[i].self);
				}
			}
			for(var i in src) __(i);
		},
        superSet:function(clas,o,prop,value){
            var fun = clas.prototype["_$set_"+prop];
            fun && fun.call(o,value);
        },
        superGet:function(clas,o,prop){
            var fun = clas.prototype["_$get_"+prop];
           	return fun?fun.call(o):null;
        },
		getset:function(isStatic,o,name,getfn,setfn){
			if(!isStatic){
				getfn && Laya.un(o,'_$get_'+name,getfn);
				setfn && Laya.un(o,'_$set_'+name,setfn);
			}
			else{
				getfn && (o['_$GET_'+name]=getfn);
				setfn && (o['_$SET_'+name]=setfn);
			}
			if(getfn && setfn) 
				Object.defineProperty(o,name,{get:getfn,set:setfn,enumerable:false,configurable:true});
			else{
				getfn && Object.defineProperty(o,name,{get:getfn,enumerable:false,configurable:true});
				setfn && Object.defineProperty(o,name,{set:setfn,enumerable:false,configurable:true});
			}
		},
		static:function(_class,def){
				for(var i=0,sz=def.length;i<sz;i+=2){
					if(def[i]=='length') 
						_class.length=def[i+1].call(_class);
					else{
						function tmp(){
							var name=def[i];
							var getfn=def[i+1];
							Object.defineProperty(_class,name,{
								get:function(){delete this[name];return this[name]=getfn.call(this);},
								set:function(v){delete this[name];this[name]=v;},enumerable: true,configurable: true});
						}
						tmp();
					}
				}
		},		
		un:function(obj,name,value){
			value || (value=obj[name]);
			Laya.__propun.value=value;
			Object.defineProperty(obj, name, Laya.__propun);
			return value;
		},
		uns:function(obj,names){
			names.forEach(function(o){Laya.un(obj,o)});
		}
	};

    window.console=window.console || ({log:function(){}});
	window.trace=window.console.log;
	Error.prototype.throwError=function(){throw arguments;};
	//String.prototype.substr=Laya.__substr;
	Object.defineProperty(Array.prototype,'fixed',{enumerable: false});

	return Laya;
})(window,document);

(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/IItem.as=======1100000100.000119/1100000100.000119
Laya.interface('laya.ui.IItem');
	//file:///H:/work/sniper/layaLib/src/fs/IFSConnect.as=======1100000100.000113/1100000100.000113
Laya.interface('fs.IFSConnect');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ISelect.as=======1100000100.000087/1100000100.000087
Laya.interface('laya.ui.ISelect');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/IRender.as=======1100000100.000087/1100000100.000087
Laya.interface('laya.ui.IRender');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/IMessage.as=======1100000100.000061/1100000100.000061
Laya.interface('laya.data.IMessage');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/IClone.as=======1100000100.000058/1100000100.000058
Laya.interface('laya.d3.core.IClone');
	//file:///H:/work/sniper/Platform/src/platform/sdk/IUnion.as=======1100000100.000054/1100000100.000054
Laya.interface('platform.sdk.IUnion');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/IMarket.as=======1100000100.000049/1100000100.000049
Laya.interface('laya.runtime.IMarket');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/IFilter.as=======1100000100.000048/1100000100.000048
Laya.interface('laya.filters.IFilter');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/ItipInfo.as=======1100000100.000041/1100000100.000041
Laya.interface('wlb.dream.tip.ItipInfo');
	//file:///H:/work/sniper/Platform/src/platform/game/IMessage.as=======1100000100.000041/1100000100.000041
Laya.interface('platform.game.IMessage');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/IDispose.as=======1100000100.000040/1100000100.000040
Laya.interface('laya.resource.IDispose');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/IListPool.as=======1100000100.000036/1100000100.000036
Laya.interface('laya.resource.IListPool');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shapes/IShape.as=======1100000100.000035/1100000100.000035
Laya.interface('laya.webgl.shapes.IShape');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/IVertex.as=======1100000100.000034/1100000100.000034
Laya.interface('laya.d3.graphics.IVertex');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/ISubmit.as=======1100000100.000031/1100000100.000031
Laya.interface('laya.webgl.submit.ISubmit');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/ItipTrigger.as=======1100000100.000031/1100000100.000031
Laya.interface('wlb.dream.tip.ItipTrigger');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/IFilterAction.as=======1100000100.000029/1100000100.000029
Laya.interface('laya.filters.IFilterAction');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/scene/ITreeNode.as=======1100000100.000026/1100000100.000026
Laya.interface('laya.d3.core.scene.ITreeNode');
	//file:///H:/work/sniper/layaLib/src/laya/libs/recover/Irecovery.as=======1100000100.000026/1100000100.000026
Laya.interface('laya.libs.recover.Irecovery');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/ItweenMnger.as=======1100000100.000025/1100000100.000025
Laya.interface('wlb.dream.tweens.ItweenMnger');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/ICPlatformClass.as=======1100000100.000025/1100000100.000025
Laya.interface('laya.runtime.ICPlatformClass');
	//file:///H:/work/sniper/layaLib/src/laya/libs/group/IGroupMember.as=======1100000100.000025/1100000100.000025
Laya.interface('laya.libs.group.IGroupMember');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/ICreateResource.as=======1100000100.000023/1100000100.000023
Laya.interface('laya.resource.ICreateResource');
	//file:///H:/work/sniper/layaLib/src/laya/libs/rocker/IRockerTarget.as=======1100000100.000022/1100000100.000022
Laya.interface('laya.libs.rocker.IRockerTarget');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/popMngers/IpopManager.as=======1100000100.000021/1100000100.000021
Laya.interface('wlb.dream.popMngers.IpopManager');
	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/IpropertyProxy.as=======1100000100.000020/1100000100.000020
Laya.interface('laya.libs.proxy.IpropertyProxy');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/ISaveData.as=======1100000100.000020/1100000100.000020
Laya.interface('laya.webgl.canvas.save.ISaveData');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/keyManagers/IkeyControl.as=======1100000100.000018/1100000100.000018
Laya.interface('wlb.dream.keyManagers.IkeyControl');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/IEventDispatcher.as=======1100000100.000016/1100000100.000016
Laya.interface('wlb.dream.displays.IEventDispatcher');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/IActionCheck.as=======1100000100.000015/1100000100.000015
Laya.interface('laya.game.client.plugins.IActionCheck');
	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/IWorldDraw.as=======1100000100.000015/1100000100.000015
Laya.interface('laya.game.libs.collision2D.IWorldDraw');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/plugins/ItweenPlugIn.as=======1100000100.000014/1100000100.000014
Laya.interface('wlb.dream.tweens.plugins.ItweenPlugIn');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/layoutMngers/IvirtualLayout.as=======1100000100.000014/1100000100.000014
Laya.interface('wlb.dream.layoutMngers.IvirtualLayout');
	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/IShapes.as=======1100000100.000013/1100000100.000013
Laya.interface('laya.game.libs.collision2D.shape.IShapes');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/IGameObjectShape.as=======1100000100.000012/1100000100.000012
Laya.interface('laya.game.client.plugins.IGameObjectShape');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/interactions/Interaction.as=======1100000100.000011/1100000100.000011
Laya.interface('laya.game.client.interactions.Interaction');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/findway/IFind.as=======1100000100.000010/1100000100.000010
Laya.interface('laya.game.client.plugins.scene.findway.IFind');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/interactions/InteractionRoute.as=======1100000100.000009/1100000100.000009
Laya.interface('laya.game.client.interactions.InteractionRoute');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/IcollisionDraw.as=======1100000100.000008/1100000100.000008
Laya.interface('laya.game.client.plugins.collision.IcollisionDraw');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/IWalkableManager.as=======1100000100.000008/1100000100.000008
Laya.interface('laya.game.client.plugins.collision.IWalkableManager');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/interfaces/IStateMachine.as=======1100000100.000006/1100000100.000006
Laya.interface('laya.game.client.plugins.character.interfaces.IStateMachine');
	//file:///H:/work/sniper/layaLib/src/fs/IOPData.as=======1100000000.000204/1100000000.000204
Laya.interface('fs.IOPData','laya.data.IMessage');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/Itip.as=======1100000000.000061/1100000000.000061
Laya.interface('wlb.dream.tip.Itip','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/WLBLaya/src/game/dream/gameUI/IgameUI.as=======1100000000.000035/1100000000.000035
Laya.interface('game.dream.gameUI.IgameUI','wlb.dream.displays.IdisplayObject,wlb.dream.tip.ItipTarget');
	//file:///H:/work/sniper/layaLib/src/laya/libs/plugin/IPlugin.as=======1100000000.000034/1100000000.000034
Laya.interface('laya.libs.plugin.IPlugin','laya.libs.recover.Irecovery,laya.libs.proxy.IpropertyProxy');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/ItipTarget.as=======1100000000.000034/1100000000.000034
Laya.interface('wlb.dream.tip.ItipTarget','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/IasynItem.as=======1100000000.000031/1100000000.000031
Laya.interface('wlb.dream.async.IasynItem','wlb.dream.tweens.ItweenMnger');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/Ipanel.as=======1100000000.000031/1100000000.000031
Laya.interface('wlb.dream.displays.Ipanel','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/IPath.as=======1100000000.000028/1100000000.000028
Laya.interface('laya.game.client.path.IPath','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/sniper/client/src/view/battle/ui/ICustomPaint.as=======1100000000.000027/1100000000.000027
Laya.interface('view.battle.ui.ICustomPaint','laya.libs.recover.Irecovery');
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/IFilterActionGL.as=======1100000000.000026/1100000000.000026
Laya.interface('laya.filters.IFilterActionGL','laya.filters.IFilterAction');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/ICamera.as=======1100000000.000023/1100000000.000023
Laya.interface('laya.game.client.scene.ICamera','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/IinputText.as=======1100000000.000021/1100000000.000021
Laya.interface('org.coms.components.IinputText','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/IControl.as=======1100000000.000021/1100000000.000021
Laya.interface('laya.game.client.scene.IControl','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/IeditProty.as=======1100000000.000019/1100000000.000019
Laya.interface('tool.dream.protyEdits.IeditProty','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/IlistItem.as=======1100000000.000018/1100000000.000018
Laya.interface('wlb.dream.displays.coms.IlistItem','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/IdisplayObject.as=======1100000000.000018/1100000000.000018
Laya.interface('wlb.dream.displays.IdisplayObject','wlb.dream.displays.IEventDispatcher');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/ISceneExtend.as=======1100000000.000016/1100000000.000016
Laya.interface('laya.game.client.scene.ISceneExtend','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/IdisplayContainer.as=======1100000000.000015/1100000000.000015
Laya.interface('wlb.dream.displays.IdisplayContainer','wlb.dream.displays.IdisplayObject');
	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/keyManagers/IkeyContainCtrl.as=======1100000000.000014/1100000000.000014
Laya.interface('wlb.dream.keyManagers.IkeyContainCtrl','wlb.dream.keyManagers.IkeyControl');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/IMove.as=======1100000000.000012/1100000000.000012
Laya.interface('laya.game.client.plugins.character.IMove','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/interfaces/IAI.as=======1100000000.000009/1100000000.000009
Laya.interface('laya.game.client.plugins.character.interfaces.IAI','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/interfaces/IAvatar.as=======1100000000.000007/1100000000.000007
Laya.interface('laya.game.client.plugins.character.interfaces.IAvatar','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/IcollisionManager.as=======1100000000.000007/1100000000.000007
Laya.interface('laya.game.client.plugins.collision.IcollisionManager','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/interfaces/ICharacterExtend.as=======1100000000.000005/1100000000.000005
Laya.interface('laya.game.client.plugins.character.interfaces.ICharacterExtend','laya.libs.plugin.IPlugin');
	//file:///H:/work/sniper/WLBLaya/src/wlb/getQualifiedClassName.as=======100000000.000000/100000000.000000
Laya.__package('wlb');
wlb.getQualifiedClassName=function(obj){
	if(!(Laya.__isClass(obj))){
		obj=obj.constructor;
	}

	return obj.__className;
}


	//file:///H:/work/sniper/WLBLaya/src/wlb/getClassName.as=======100000000.000000/100000000.000000
Laya.__package('wlb');
wlb.getClassName=function(obj){
	if(!(Laya.__isClass(obj))){
		obj=obj.constructor;
	}

	return obj.name;
}


	//file:///H:/work/sniper/sniper/client/libs/laya/src/Laya.as=======1000199.999018/1000199.999018
/**
*<code>Laya</code> 是全局对象的引用入口集。
*Laya类引用了一些常用的全局对象，比如Laya.stage：舞台，Laya.timer：时间管理器，Laya.loader：加载管理器，使用时注意大小写。
*/
//class Laya
var ___Laya=(function(){
	//function Laya(){}
	/**
	*表示是否捕获全局错误并弹出提示。默认为false。
	*适用于移动设备等不方便调试的时候，设置为true后，如有未知错误，可以弹窗抛出详细错误堆栈。
	*/
	__getset(1,Laya,'alertGlobalError',null,function(value){
		var erralert=0;
		if (value){
			Browser.window.onerror=function (msg,url,line,column,detail){
				if (erralert++< 5 && detail)
					alert("出错啦，请把此信息截图给研发商\n"+msg+"\n"+detail.stack);
			}
			}else {
			Browser.window.onerror=null;
		}
	});

	Laya.init=function(width,height,__plugins){
		var plugins=[];for(var i=2,sz=arguments.length;i<sz;i++)plugins.push(arguments[i]);
		if (Laya._isinit)return;
		Laya._isinit=true;
		if (window.conch)RunDriver.enableNative();
		ArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice=Laya._arrayBufferSlice);
		Browser.__init__();
		if (!Render.isConchApp){
			Context.__init__();
		}
		Laya.timer=new Timer();
		Laya.startTimer=new Timer();
		Laya.physicsTimer=new Timer();
		Laya.updateTimer=new Timer();
		Laya.lateTimer=new Timer();
		Laya.renderTimer=new Timer();
		Laya.loader=new LoaderManager();
		WeakObject.__init__();
		for (var i=0,n=plugins.length;i < n;i++){
			if (plugins[i].enable)plugins[i].enable();
		}
		ResourceManager.__init__();
		CacheManger.beginCheck();
		Laya._currentStage=Laya.stage=new Stage();
		var location=Browser.window.location;
		var pathName=location.pathname;
		pathName=pathName.charAt(2)==':' ? pathName.substring(1):pathName;
		URL.rootPath=URL.basePath=URL.getPath(location.protocol=="file:" ? pathName :location.protocol+"//"+location.host+location.pathname);
		Laya.render=new Render(0,0);
		Laya.stage.size(width,height);
		window.stage=Laya.stage;
		RenderSprite.__init__();
		KeyBoardManager.__init__();
		MouseManager.instance.__init__(Laya.stage,Render.canvas);
		Input.__init__();
		SoundManager.autoStopMusic=true;
		LayaNative2D.__init__();
		return Render.canvas;
	}

	Laya._arrayBufferSlice=function(start,end){
		var arr=this;
		var arrU8List=new Uint8Array(arr,start,end-start);
		var newU8List=new Uint8Array(arrU8List.length);
		newU8List.set(arrU8List);
		return newU8List.buffer;
	}

	Laya._runScript=function(script){
		return Browser.window["e"+String.fromCharCode(100+10+8)+"a"+"l"](script);
	}

	Laya.enableDebugPanel=function(debugJsPath){
		(debugJsPath===void 0)&& (debugJsPath="libs/laya.debugtool.js");
		var script=Browser.createElement("script");
		script.onload=function (){
			Laya.DebugPanel.init();;
		}
		script.src=debugJsPath;
		Browser.document.body.appendChild(script);
	}

	Laya.stage=null;
	Laya.timer=null;
	Laya.startTimer=null;
	Laya.physicsTimer=null;
	Laya.updateTimer=null;
	Laya.lateTimer=null;
	Laya.renderTimer=null;
	Laya.loader=null;
	Laya.version="1.7.7beta";
	Laya.render=null;
	Laya._currentStage=null;
	Laya._isinit=false;
	__static(Laya,
	['conchMarket',function(){return this.conchMarket=window.conch?conchMarket:null;},'PlatformClass',function(){return this.PlatformClass=window.PlatformClass;}
	]);
	return Laya;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveBase.as=======199.999083/200.999083
//class laya.webgl.canvas.save.SaveBase
var SaveBase=(function(){
	function SaveBase(){
		//this._valueName=null;
		//this._value=null;
		//this._dataObj=null;
		//this._newSubmit=false;
	}

	__class(SaveBase,'laya.webgl.canvas.save.SaveBase');
	var __proto=SaveBase.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){return false;}
	__proto.restore=function(context){
		this._dataObj[this._valueName]=this._value;
		SaveBase.POOL[SaveBase.POOL._length++]=this;
		this._newSubmit && (context._curSubmit=Submit.RENDERBASE);
	}

	SaveBase._createArray=function(){
		var value=[];
		value._length=0;
		return value;
	}

	SaveBase._init=function(){
		var namemap=SaveBase._namemap={};
		namemap[0x1]="ALPHA";
		namemap[0x2]="fillStyle";
		namemap[0x8]="font";
		namemap[0x100]="lineWidth";
		namemap[0x200]="strokeStyle";
		namemap[0x2000]="_mergeID";
		namemap[0x400]=namemap[0x800]=namemap[0x1000]=[];
		namemap[0x4000]="textBaseline";
		namemap[0x8000]="textAlign";
		namemap[0x10000]="_nBlendType";
		namemap[0x100000]="shader";
		namemap[0x200000]="filters";
		return namemap;
	}

	SaveBase.save=function(context,type,dataObj,newSubmit){
		if ((context._saveMark._saveuse & type)!==type){
			context._saveMark._saveuse |=type;
			var cache=SaveBase.POOL;
			var o=cache._length > 0 ? cache[--cache._length] :(new SaveBase());
			o._value=dataObj[o._valueName=SaveBase._namemap[type]];
			o._dataObj=dataObj;
			o._newSubmit=newSubmit;
			var _save=context._save;
			_save[_save._length++]=o;
		}
	}

	SaveBase.POOL=laya.webgl.canvas.save.SaveBase._createArray();
	SaveBase._namemap=SaveBase._init();
	return SaveBase;
})()


	//file:///H:/work/sniper/sniper/client/src/common/AreaData.as=======199.999999/199.999999
/**
*...
*@author rpw
*/
//class common.AreaData
var AreaData=(function(){
	function AreaData(){
		/*区域id*/
		this.id=0;
		/*区域显示对象*/
		this.area=null;
		/*区域的本地坐标*/
		this.localPos=null;
		/*上个节点坐标*/
		this.startPos=null;
		/*上个桥的方向*/
		this.indir=0;
		/*区域的世界坐标*/
		this.worldPos=null;
		/*怪物出生点,locPos,转成外面需要转成world*/
		this._monsterSeedLocal=null;
		/*怪物出生点,locPos,转成外面需要转成world*/
		this._monsterSeedWorld=null;
		/*连接区域坐标点*/
		this.linkPoints=null;
		/*当前需要连接的方向*/
		this.currentLinkDir=0;
		/*判断出界的X,Z贴图的路径*/
		this.aStarXZMapUrl=null;
		/*判断出界的计算Y值的贴图的路径*/
		this.aStarYMapUrl=null;
		/*判断出界的X,Z贴图*/
		this.aStarXZMap=null;
		/*判断出界的Y贴图*/
		this.aStarYMap=null;
		/*下一个桥的开始位置*/
		this.nextBridgePos=null;
		/*区域信息*/
		this.mapData=null;
		//是否第一次创建的区域数据，如果是则不需要把怪物点作为寻路点
		this.isFirst=false;
		this.path=new Array;
	}

	__class(AreaData,'common.AreaData');
	var __proto=AreaData.prototype;
	__proto.getWorldPos=function(){
		if (isNaN(this.indir)){
			this.worldPos=new Vector3(0,0,0);
		}
		else{
			this.worldPos=new Vector3();
			var areaDirPos=this.linkPoints[this.indir];
			Vector3.subtract(this.startPos,areaDirPos,this.worldPos);
		}
	}

	__proto.getCurrentBriageStartPos=function(){
		var dir=this.currentLinkDir;
		var tem=new Vector3;
		var areaDirPos=this.linkPoints[dir];
		Vector3.add(this.worldPos,areaDirPos,tem);
		this.nextBridgePos=tem;
		return tem;
	}

	/*获得当前area中的寻路点，每个点包括区域的横穿两个端点，和中间的刷怪点*/
	__proto.getPath=function(){
		this.path.length=0;
		var start=new MovePoint;
		start.point=this.startPos;
		start.data=this;
		this.path.push(start);
		if (!this.isFirst){
			var monster=new MovePoint;
			monster.data=this;
			monster.point=this._monsterSeedWorld;
			this.path.push(monster);
		};
		var end=new MovePoint;
		end.data=this;
		if (this.nextBridgePos){
			end.point=this.nextBridgePos;
		}
		else {
			this.getCurrentBriageStartPos();
			end.point=this.nextBridgePos;
		}
		this.path.push(end);
		return this.path;
	}

	__proto.calcMonsterSeed=function(){
		this._monsterSeedWorld=this.worldPos.clone();
		return;
		if (!this._monsterSeedLocal){
			this._monsterSeedWorld=this.worldPos.clone();
			return;
		};
		var len=this._monsterSeedLocal.length;
		var randomIndex=Math.floor((Math.random()*len));
		var local=this._monsterSeedLocal[randomIndex];
		var rPos=new Vector3;
		Vector3.transformV3ToV3(local,this.area.transform.worldMatrix,rPos);
		this._monsterSeedWorld=this._localToWorld(rPos);
	}

	__proto._localToWorld=function(source){
		var tar=new Vector3;
		Vector3.add(this.worldPos,source,tar);
		return tar;
	}

	__getset(0,__proto,'monsterSeedLocal',null,function(value){
		this._monsterSeedLocal=value;
	});

	__getset(0,__proto,'monsterSeed',function(){
		return this._monsterSeedWorld;
	});

	return AreaData;
})()


	//file:///H:/work/sniper/sniper/client/src/common/GameConfig.as=======199.999997/199.999997
//class common.GameConfig
var GameConfig=(function(){
	function GameConfig(){}
	__class(GameConfig,'common.GameConfig');
	__static(GameConfig,
	['SheetArray',function(){return this.SheetArray=[
		"data/Character.bd",
		"data/Effect.bd",
		"data/Action.bd",
		"data/PlayerAction.bd",
		"data/Scene.bd",
		"data/Group.bd",
		"data/Music.bd",
		"data/Buff.bd",
		"data/LevelUp.bd",
		"data/SceneLevel.bd",
		"data/Property.bd",
		"data/MonsterConfig.bd",
		"data/Item.bd",
		"data/Gun.bd",
		"data/GunProperty.bd",
		"data/FSM.bd",
		"data/MaterialEffect.bd"];}
	]);
	return GameConfig;
})()


	//file:///H:/work/sniper/sniper/client/src/common/GameSniper.as=======199.999996/199.999996
//class common.GameSniper
var GameSniper=(function(){
	function GameSniper(){}
	__class(GameSniper,'common.GameSniper');
	GameSniper.setRoomConnect=function(_room,_connect){
		if(GameSniper.room){
			GameSniper.room.onGameOver();
		}
		GameSniper.room=_room;
		FSGame.setRoom(_room);
		FSGame.setConnect(_connect);
	}

	GameSniper.room=null;
	__static(GameSniper,
	['localConnect',function(){return this.localConnect=new FSLocalConnect();},'layaConnect',function(){return this.layaConnect=new FSLayaConnect();},'netRoom',function(){return this.netRoom=new SniperRoom();},'localRoom',function(){return this.localRoom=new LocalRoom();}
	]);
	return GameSniper;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/EventDispatcher.as=======199.999991/199.999991
/**
*<code>EventDispatcher</code> 类是可调度事件的所有类的基类。
*/
//class laya.events.EventDispatcher
var EventDispatcher=(function(){
	var EventHandler;
	function EventDispatcher(){
		/**@private */
		this._$0__events=null;
	}

	__class(EventDispatcher,'laya.events.EventDispatcher');
	var __proto=EventDispatcher.prototype;
	/**
	*检查 EventDispatcher 对象是否为特定事件类型注册了任何侦听器。
	*@param type 事件的类型。
	*@return 如果指定类型的侦听器已注册，则值为 true；否则，值为 false。
	*/
	__proto.hasListener=function(type){
		var listener=this._$0__events && this._$0__events[type];
		return !!listener;
	}

	/**
	*派发事件。
	*@param type 事件类型。
	*@param data （可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
	*@return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
	*/
	__proto.event=function(type,data){
		if (!this._$0__events || !this._$0__events[type])return false;
		var listeners=this._$0__events[type];
		if (listeners.run){
			if (listeners.once)delete this._$0__events[type];
			data !=null ? listeners.runWith(data):listeners.run();
			}else {
			for (var i=0,n=listeners.length;i < n;i++){
				var listener=listeners[i];
				if (listener){
					(data !=null)? listener.runWith(data):listener.run();
				}
				if (!listener || listener.once){
					listeners.splice(i,1);
					i--;
					n--;
				}
			}
			if (listeners.length===0 && this._$0__events)delete this._$0__events[type];
		}
		return true;
	}

	/**
	*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		return this._createListener(type,caller,listener,args,false);
	}

	/**
	*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知，此侦听事件响应一次后自动移除。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		return this._createListener(type,caller,listener,args,true);
	}

	/**@private */
	__proto._createListener=function(type,caller,listener,args,once,offBefore){
		(offBefore===void 0)&& (offBefore=true);
		offBefore && this.off(type,caller,listener,once);
		var handler=EventHandler.create(caller || this,listener,args,once);
		this._$0__events || (this._$0__events={});
		var events=this._$0__events;
		if (!events[type])events[type]=handler;
		else {
			if (!events[type].run)events[type].push(handler);
			else events[type]=[events[type],handler];
		}
		return this;
	}

	/**
	*从 EventDispatcher 对象中删除侦听器。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param onceOnly （可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.off=function(type,caller,listener,onceOnly){
		(onceOnly===void 0)&& (onceOnly=false);
		if (!this._$0__events || !this._$0__events[type])return this;
		var listeners=this._$0__events[type];
		if (listener !=null){
			if (listeners.run){
				if ((!caller || listeners.caller===caller)&& (!listener || listeners.method===listener)&& (!onceOnly || listeners.once)){
					delete this._$0__events[type];
					listeners.recover();
				}
				}else {
				var count=0;
				for (var i=0,n=listeners.length;i < n;i++){
					var item=listeners[i];
					if (item && (!caller || item.caller===caller)&& (!listener || item.method===listener)&& (!onceOnly || item.once)){
						count++;
						listeners[i]=null;
						item.recover();
					}
				}
				if (count===n)delete this._$0__events[type];
			}
		}
		return this;
	}

	/**
	*从 EventDispatcher 对象中删除指定事件类型的所有侦听器。
	*@param type （可选）事件类型，如果值为 null，则移除本对象所有类型的侦听器。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.offAll=function(type){
		var events=this._$0__events;
		if (!events)return this;
		if (type){
			this._recoverHandlers(events[type]);
			delete events[type];
			}else {
			for (var name in events){
				this._recoverHandlers(events[name]);
			}
			this._$0__events=null;
		}
		return this;
	}

	/**
	*移除caller为target的所有事件监听
	*@param caller caller对象
	*/
	__proto.offAllCaller=function(caller){
		if (caller && this._$0__events){
			for (var name in this._$0__events){
				this.off(name,caller,null);
			}
		}
		return this;
	}

	__proto._recoverHandlers=function(arr){
		if (!arr)return;
		if (arr.run){
			arr.recover();
			}else {
			for (var i=arr.length-1;i >-1;i--){
				if (arr[i]){
					arr[i].recover();
					arr[i]=null;
				}
			}
		}
	}

	/**
	*检测指定事件类型是否是鼠标事件。
	*@param type 事件的类型。
	*@return 如果是鼠标事件，则值为 true;否则，值为 false。
	*/
	__proto.isMouseEvent=function(type){
		return EventDispatcher.MOUSE_EVENTS[type] || false;
	}

	EventDispatcher.MOUSE_EVENTS={"rightmousedown":true,"rightmouseup":true,"rightclick":true,"mousedown":true,"mouseup":true,"mousemove":true,"mouseover":true,"mouseout":true,"click":true,"doubleclick":true};
	EventDispatcher.__init$=function(){
		Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:false,writable:true});
		/**@private */
		//class EventHandler extends laya.utils.Handler
		EventHandler=(function(_super){
			function EventHandler(caller,method,args,once){
				EventHandler.__super.call(this,caller,method,args,once);
			}
			__class(EventHandler,'',_super);
			var __proto=EventHandler.prototype;
			__proto.recover=function(){
				if (this._id > 0){
					this._id=0;
					EventHandler._pool.push(this.clear());
				}
			}
			EventHandler.create=function(caller,method,args,once){
				(once===void 0)&& (once=true);
				if (EventHandler._pool.length)return EventHandler._pool.pop().setTo(caller,method,args,once);
				return new EventHandler(caller,method,args,once);
			}
			EventHandler._pool=[];
			return EventHandler;
		})(Handler)
	}

	return EventDispatcher;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Handler.as=======199.999989/199.999989
/**
*<p><code>Handler</code> 是事件处理器类。</p>
*<p>推荐使用 Handler.create()方法从对象池创建，减少对象创建消耗。创建的 Handler 对象不再使用后，可以使用 Handler.recover()将其回收到对象池，回收后不要再使用此对象，否则会导致不可预料的错误。</p>
*<p><b>注意：</b>由于鼠标事件也用本对象池，不正确的回收及调用，可能会影响鼠标事件的执行。</p>
*/
//class laya.utils.Handler
var Handler=(function(){
	function Handler(caller,method,args,once){
		/**执行域(this)。*/
		//this.caller=null;
		/**处理方法。*/
		//this.method=null;
		/**参数。*/
		//this.args=null;
		/**表示是否只执行一次。如果为true，回调后执行recover()进行回收，回收后会被再利用，默认为false 。*/
		this.once=false;
		/**@private */
		this._id=0;
		(once===void 0)&& (once=false);
		this.setTo(caller,method,args,once);
	}

	__class(Handler,'laya.utils.Handler');
	var __proto=Handler.prototype;
	/**
	*设置此对象的指定属性值。
	*@param caller 执行域(this)。
	*@param method 回调方法。
	*@param args 携带的参数。
	*@param once 是否只执行一次，如果为true，执行后执行recover()进行回收。
	*@return 返回 handler 本身。
	*/
	__proto.setTo=function(caller,method,args,once){
		this._id=Handler._gid++;
		this.caller=caller;
		this.method=method;
		this.args=args;
		this.once=once;
		return this;
	}

	/**
	*执行处理器。
	*/
	__proto.run=function(){
		if (this.method==null)return null;
		var id=this._id;
		var result=this.method.apply(this.caller,this.args);
		this._id===id && this.once && this.recover();
		return result;
	}

	/**
	*执行处理器，并携带额外数据。
	*@param data 附加的回调数据，可以是单数据或者Array(作为多参)。
	*/
	__proto.runWith=function(data){
		if (this.method==null)return null;
		var id=this._id;
		if (data==null)
			var result=this.method.apply(this.caller,this.args);
		else if (!this.args && !data.unshift)result=this.method.call(this.caller,data);
		else if (this.args)result=this.method.apply(this.caller,this.args.concat(data));
		else result=this.method.apply(this.caller,data);
		this._id===id && this.once && this.recover();
		return result;
	}

	/**
	*清理对象引用。
	*/
	__proto.clear=function(){
		this.caller=null;
		this.method=null;
		this.args=null;
		return this;
	}

	/**
	*清理并回收到 Handler 对象池内。
	*/
	__proto.recover=function(){
		if (this._id > 0){
			this._id=0;
			Handler._pool.push(this.clear());
		}
	}

	Handler.create=function(caller,method,args,once){
		(once===void 0)&& (once=true);
		if (Handler._pool.length)return Handler._pool.pop().setTo(caller,method,args,once);
		return new Handler(caller,method,args,once);
	}

	Handler._pool=[];
	Handler._gid=1;
	return Handler;
})()


	//file:///H:/work/sniper/sniper/client/src/db/Alias.as=======199.999986/199.999986
//class db.Alias
var Alias=(function(){
	function Alias(){}
	__class(Alias,'db.Alias');
	Alias.__init$=function(){
		ClassUtils.regClass("GameScene",GameScene);
		ClassUtils.regClass("Scene3DExtend",Scene3DExtend);
		ClassUtils.regClass("Camera3D",Camera3D);
		ClassUtils.regClass("Finder",Finder);
		ClassUtils.regClass("Avatar3D",Avatar3D);
		ClassUtils.regClass("ActionController",ActionController);
		ClassUtils.regClass("StateMachine",StateMachine$1);
		ClassUtils.regClass("MoveCtrl3D",MoveCtrl3D);
		ClassUtils.regClass("Character",Character);
		ClassUtils.regClass("Effect3D",Effect3D);
		ClassUtils.regClass("DistanceCollision",DistanceCollision);
		ClassUtils.regClass("Avatar3DExtend",Avatar3DExtend);
		ClassUtils.regClass("Effect2D",Effect2D);
		ClassUtils.regClass("StaticEffect3D",StaticEffect3D);
		ClassUtils.regClass("PlayerAI",PlayerAI);
		ClassUtils.regClass("PlayerExtend",PlayerExtend);
		ClassUtils.regClass("Camera3DExtend",Camera3DExtend);
		ClassUtils.regClass("MoveCtrl3DExtend",MoveCtrl3DExtend);
		ClassUtils.regClass("GameSceneExtend",GameSceneExtend);
		ClassUtils.regClass("EProgressBar",EProgressBar);
		ClassUtils.regClass("DropImage",DropImage);
		ClassUtils.regClass("EFontClip",EFontClip);
		ClassUtils.regClass("MonsterAI",MonsterAI);
		ClassUtils.regClass("MonsterExtend",MonsterExtend);
		ClassUtils.regClass("RoleMessage",RoleMessage);
		ClassUtils.regClass("BatchSeedPlugin",BatchSeedPlugin);
		ClassUtils.regClass("Buff",Buff);
		ClassUtils.regClass("HPBuff",HPBuff);
		ClassUtils.regClass("BuffPlugin",BuffPlugin);
	}

	return Alias;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/MessageBase.as=======199.999983/199.999983
/**
*消息基类，提供自动序列化和反序列化消息功能
*消息的定义用类的定义方式替代，使用起来简单，并且有代码提示
*/
//class laya.data.MessageBase
var MessageBase=(function(){
	function MessageBase(){}
	__class(MessageBase,'laya.data.MessageBase');
	var __proto=MessageBase.prototype;
	Laya.imps(__proto,{"laya.data.IMessage":true})
	/**
	*@private
	*/
	__proto.read=function(byte){
		var des=MessageUtils.getDesByObject(this);
		var i=0,len=0;
		len=des.length;
		var tArr;
		for (i=0;i < len;i++){
			tArr=des[i];
			this[tArr[0]]=this._readObj(byte,tArr[1],tArr[2]);
		}
		return true;
	}

	/**
	*@private
	*/
	__proto.write=function(byte){
		this.writeByDes(this,byte,MessageUtils.getDesByObject(this));
		return true;
	}

	/**
	*@private
	*/
	__proto.clear=function(){}
	/**
	*@private
	*/
	__proto._readObj=function(byte,type,des){
		var v;
		if ((type instanceof Array))return this.readArray(byte,type);
		if ((typeof type=='function'))return this.readClass(byte,type);
		switch (type){
			case 0:
				v=byte.getUint8()!=0;
				break ;
			case 1:
				v=byte.readByte();
				break ;
			case 2:
				v=byte.getUint8();
				break ;
			case 3:
				v=byte.getInt16();
				break ;
			case 4:
				v=byte.getUint16();
				break ;
			case 5:
				v=byte.getInt32();
				break ;
			case 6:
				v=byte.getUint32();
				break ;
			case 7:
				v=byte.getFloat32();
				break ;
			case 8:
				v=byte.getFloat64();
				break ;
			case 9:
				v=byte.readUTFString();
				break ;
			case 11:
				v=this.readClass(byte,des);
				break ;
			case 12:
				v=this.readClass(byte,this["getClass"]());
				break ;
			case 10:
				v=this.readArray(byte,des);
				break ;
			}
		return v;
	}

	/**
	*@private
	*/
	__proto.readClass=function(byte,Clz){
		Clz=MessageUtils.getClassByID(MessageUtils.getClassID(Clz));
		var rst=new Clz();
		rst.read(byte);
		return rst;
	}

	/**
	*@private
	*/
	__proto.readArray=function(byte,des){
		var rst;
		var i=0,len=0;
		len=byte.getInt32();
		if (len < 0)return null;
		rst=[];
		rst.length=len;
		for (i=0;i < len;i++){
			rst[i]=this._readObj(byte,des[0],des[1]);
		}
		return rst;
	}

	/**
	*@private
	*/
	__proto.writeByDes=function(data,byte,des){
		var i=0,len=0;
		len=des.length;
		var tArr;
		for (i=0;i < len;i++){
			tArr=des[i];
			var v=data[tArr[0]];
			this._writeObj(v,byte,tArr[1],tArr[2]);
		}
	}

	//}
	__proto._writeObj=function(v,byte,type,des){
		if ((type instanceof Array)){
			this.writeArray(v,byte,type);
			return;
		}
		if ((typeof type=='function')){
			this.writeClass(v,byte,type);
			return;
		}
		switch (type){
			case 0:
				byte.writeUint8(v ? 1 :0);
				break ;
			case 1:
				byte.writeByte(v);
				break ;
			case 2:
				byte.writeUint8(v);
				break ;
			case 3:
				byte.writeInt16(v);
				break ;
			case 4:
				byte.writeUint16(v);
				break ;
			case 5:
				byte.writeInt32(v);
				break ;
			case 6:
				byte.writeUint32(v);
				break ;
			case 7:
				byte.writeFloat32(v);
				break ;
			case 8:
				byte.writeFloat64(v);
				break ;
			case 9:
				byte.writeUTFString(v);
				break ;
			case 11:
				this.writeClass(v,byte,des);
				break ;
			case 12:
				this.writeClass(v,byte,this["getClass"]());
				break ;
			case 10:
				this.writeArray(v,byte,des);
				break ;
			}
	}

	/**
	*@private
	*/
	__proto.writeClass=function(data,byte,clz){
		data.writeByDes(data,byte,clz["DES"]);
	}

	/**
	*@private
	*/
	__proto.writeArray=function(arr,byte,des){
		if (!arr)byte.writeInt32(-1);
		var i=0,len=0;
		len=arr.length;
		byte.writeInt32(len);
		for (i=0;i < len;i++){
			this._writeObj(arr[i],byte,des[0],des[1]);
		}
	}

	/**@private */
	__getset(0,__proto,'msgId',function(){
		return MessageUtils.getObjectClassID(this);
	});

	/**@private */
	__getset(0,__proto,'msgKey',function(){
		return MessageUtils.getObjectClass(this)["KEY"];
	});

	MessageBase.DES_SIGN="DES";
	MessageBase.BOOLEAN=0;
	MessageBase.INT8=1;
	MessageBase.UINT8=2;
	MessageBase.INT16=3;
	MessageBase.UINT16=4;
	MessageBase.INT32=5;
	MessageBase.UINT32=6;
	MessageBase.FLOAT32=7;
	MessageBase.FLOAT64=8;
	MessageBase.STRING=9;
	MessageBase.ARRAY=10;
	MessageBase.CLASS=11;
	MessageBase.DYNAMIC=12;
	return MessageBase;
})()


	//file:///H:/work/sniper/sniper/client/src/db/GunData.as=======199.999967/199.999967
//class db.GunData
var GunData=(function(){
	function GunData(){
		/**
		*物品ID
		*/
		this.id=null;
		/**
		*武器名字
		*/
		this.name=null;
		/**
		*枪类型
		*/
		this.type=null;
		/**
		*枪支的描述
		*/
		this.desc=null;
		/**
		*属性ID
		*/
		this.propertyId=NaN;
		/**
		*ICON
		*/
		this.iconUrl=null;
		/**
		*外观模型
		*/
		this.model=null;
		/**
		*枪口特效
		*/
		this.muzzleEffect=NaN;
		/**
		*开枪声音
		*/
		this.fireSound=NaN;
		/**
		*弹壳掉落声音
		*/
		this.shellSound=NaN;
		/**
		*换弹夹声音
		*/
		this.reloadSound=NaN;
		/**
		*开枪的动作
		*/
		this.fireAction=null;
		/**
		*换弹的动作
		*/
		this.reloadAction=null;
		/**
		*不开镜准星样式
		*/
		this.sight=null;
		/**
		*开镜准星样式
		*/
		this.aimSight=null;
		/**
		*枪的长度
		*/
		this.gunLength=NaN;
		/**
		*跑步上身动作
		*/
		this.run0=NaN;
		/**
		*跑步下身动作
		*/
		this.run1=NaN;
		/**
		*蹲下上半身动作
		*/
		this.squat0=NaN;
		/**
		*蹲下下半身动作
		*/
		this.squat1=NaN;
	}

	__class(GunData,'db.GunData');
	GunData.sheet=function(){
		return Sheet.get("Gun");
	}

	GunData.getData=function(id){
		return Sheet.getData("Gun",id);
	}

	GunData.getByID=function(id){
		return Sheet.getByID("Gun",id);
	}

	GunData.ID_FIELD="id";
	GunData.NAME_FIELD="name";
	GunData.TYPE_FIELD="type";
	GunData.DESC_FIELD="desc";
	GunData.PROPERTYID_FIELD="propertyId";
	GunData.ICONURL_FIELD="iconUrl";
	GunData.MODEL_FIELD="model";
	GunData.MUZZLEEFFECT_FIELD="muzzleEffect";
	GunData.FIRESOUND_FIELD="fireSound";
	GunData.SHELLSOUND_FIELD="shellSound";
	GunData.RELOADSOUND_FIELD="reloadSound";
	GunData.FIREACTION_FIELD="fireAction";
	GunData.RELOADACTION_FIELD="reloadAction";
	GunData.SIGHT_FIELD="sight";
	GunData.AIMSIGHT_FIELD="aimSight";
	GunData.GUNLENGTH_FIELD="gunLength";
	GunData.RUN0_FIELD="run0";
	GunData.RUN1_FIELD="run1";
	GunData.SQUAT0_FIELD="squat0";
	GunData.SQUAT1_FIELD="squat1";
	return GunData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/GunPropertyData.as=======199.999966/199.999966
//class db.GunPropertyData
var GunPropertyData=(function(){
	function GunPropertyData(){
		/**
		*物品ID
		*/
		this.id=null;
		/**
		*穿戴等级
		*/
		this.level=NaN;
		/**
		*重量
		*/
		this.weight=NaN;
		/**
		*后坐力
		*/
		this.recoil=NaN;
		/**
		*精准度
		*/
		this.accuracy=NaN;
		/**
		*弹夹初始容量
		*/
		this.capacity=NaN;
		/**
		*射击间隔
		*/
		this.interval=NaN;
		/**
		*伤害
		*/
		this.damage=NaN;
		/**
		*开镜倍率
		*/
		this.ratio=NaN;
		/**
		*耐久度
		*/
		this.durable=NaN;
		/**
		*子弹出膛速度(每秒多少米)
		*/
		this.velocity=NaN;
		/**
		*射程
		*/
		this.distacne=NaN;
		/**
		*开镜时间（毫秒）
		*/
		this.aimtime=NaN;
		/**
		*抖动角度
		*/
		this.shakeAngle=NaN;
		/**
		*装弹时间
		*/
		this.reloadTime=NaN;
	}

	__class(GunPropertyData,'db.GunPropertyData');
	GunPropertyData.sheet=function(){
		return Sheet.get("GunProperty");
	}

	GunPropertyData.getData=function(id){
		return Sheet.getData("GunProperty",id);
	}

	GunPropertyData.getByID=function(id){
		return Sheet.getByID("GunProperty",id);
	}

	GunPropertyData.ID_FIELD="id";
	GunPropertyData.LEVEL_FIELD="level";
	GunPropertyData.WEIGHT_FIELD="weight";
	GunPropertyData.RECOIL_FIELD="recoil";
	GunPropertyData.ACCURACY_FIELD="accuracy";
	GunPropertyData.CAPACITY_FIELD="capacity";
	GunPropertyData.INTERVAL_FIELD="interval";
	GunPropertyData.DAMAGE_FIELD="damage";
	GunPropertyData.RATIO_FIELD="ratio";
	GunPropertyData.DURABLE_FIELD="durable";
	GunPropertyData.VELOCITY_FIELD="velocity";
	GunPropertyData.DISTACNE_FIELD="distacne";
	GunPropertyData.AIMTIME_FIELD="aimtime";
	GunPropertyData.SHAKEANGLE_FIELD="shakeAngle";
	GunPropertyData.RELOADTIME_FIELD="reloadTime";
	return GunPropertyData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/LevelUpData.as=======199.999963/199.999963
//class db.LevelUpData
var LevelUpData=(function(){
	function LevelUpData(){
		/**
		*角色等级
		*/
		this.id=NaN;
		/**
		*累加经验
		*/
		this.exp=NaN;
		/**
		*标准怪物经验
		*/
		this.monsterExp=NaN;
		/**
		*标准怪物金币
		*/
		this.monsterMoney=NaN;
		/**
		*标准怪物值
		*/
		this.monsterValue=NaN;
		/**
		*技能升级消耗
		*/
		this.levelUpCost=null;
		/**
		*装备强化消耗
		*/
		this.strengthCost=null;
		/**
		*背包容量
		*/
		this.bagSize=NaN;
		/**
		*购买背包容量价格
		*/
		this.bagCost=null;
	}

	__class(LevelUpData,'db.LevelUpData');
	LevelUpData.sheet=function(){
		return Sheet.get("LevelUp");
	}

	LevelUpData.getData=function(id){
		return Sheet.getData("LevelUp",id);
	}

	LevelUpData.getByID=function(id){
		return Sheet.getByID("LevelUp",id);
	}

	LevelUpData.ID_FIELD="id";
	LevelUpData.EXP_FIELD="exp";
	LevelUpData.MONSTEREXP_FIELD="monsterExp";
	LevelUpData.MONSTERMONEY_FIELD="monsterMoney";
	LevelUpData.MONSTERVALUE_FIELD="monsterValue";
	LevelUpData.LEVELUPCOST_FIELD="levelUpCost";
	LevelUpData.STRENGTHCOST_FIELD="strengthCost";
	LevelUpData.BAGSIZE_FIELD="bagSize";
	LevelUpData.BAGCOST_FIELD="bagCost";
	return LevelUpData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/MaterialEffectData.as=======199.999962/199.999962
//class db.MaterialEffectData
var MaterialEffectData=(function(){
	function MaterialEffectData(){
		/**
		*材质名
		*/
		this.id=null;
		/**
		*特效ID
		*/
		this.value=null;
	}

	__class(MaterialEffectData,'db.MaterialEffectData');
	MaterialEffectData.sheet=function(){
		return Sheet.get("MaterialEffect");
	}

	MaterialEffectData.getData=function(id){
		return Sheet.getData("MaterialEffect",id);
	}

	MaterialEffectData.getByID=function(id){
		return Sheet.getByID("MaterialEffect",id);
	}

	MaterialEffectData.ID_FIELD="id";
	MaterialEffectData.VALUE_FIELD="value";
	return MaterialEffectData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/MonsterConfigData.as=======199.999960/199.999960
//class db.MonsterConfigData
var MonsterConfigData=(function(){
	function MonsterConfigData(){
		/**
		*怪物ID
		*/
		this.id=NaN;
		/**
		*怪物名称
		*/
		this.name=null;
		/**
		*怪物形象资源
		*/
		this.characterId=NaN;
		/**
		*警戒范围(单位你们定)
		*/
		this.alert=NaN;
		/**
		*是否BOSS
		*/
		this.boss_whether=NaN;
		/**
		*血条叠加层数(最小值=最大值，之间随机)0是就一条血条
		*/
		this.hp_strip=NaN;
		/**
		*攻击间隔
		*/
		this.bat=NaN;
		/**
		*默认技能
		*/
		this.skill=NaN;
	}

	__class(MonsterConfigData,'db.MonsterConfigData');
	MonsterConfigData.sheet=function(){
		return Sheet.get("MonsterConfig");
	}

	MonsterConfigData.getData=function(id){
		return Sheet.getData("MonsterConfig",id);
	}

	MonsterConfigData.getByID=function(id){
		return Sheet.getByID("MonsterConfig",id);
	}

	MonsterConfigData.ID_FIELD="id";
	MonsterConfigData.NAME_FIELD="name";
	MonsterConfigData.CHARACTERID_FIELD="characterId";
	MonsterConfigData.ALERT_FIELD="alert";
	MonsterConfigData.BOSS_WHETHER_FIELD="boss_whether";
	MonsterConfigData.HP_STRIP_FIELD="hp_strip";
	MonsterConfigData.BAT_FIELD="bat";
	MonsterConfigData.SKILL_FIELD="skill";
	return MonsterConfigData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/PropertyData.as=======199.999951/199.999951
//class db.PropertyData
var PropertyData=(function(){
	function PropertyData(){
		/**
		*ID
		*/
		this.id=NaN;
		/**
		*类型ID
		*/
		this.characterId=NaN;
		/**
		*攻击
		*/
		this.attack=NaN;
		/**
		*防御
		*/
		this.defense=NaN;
		/**
		*生命值
		*/
		this.HP=NaN;
		/**
		*移动速度
		*/
		this.speed=NaN;
		/**
		*头部护甲
		*/
		this.headArmor=NaN;
		/**
		*身体护甲
		*/
		this.bodyArmor=NaN;
	}

	__class(PropertyData,'db.PropertyData');
	PropertyData.sheet=function(){
		return Sheet.get("Property");
	}

	PropertyData.getData=function(id){
		return Sheet.getData("Property",id);
	}

	PropertyData.getByID=function(id){
		return Sheet.getByID("Property",id);
	}

	PropertyData.ID_FIELD="id";
	PropertyData.CHARACTERID_FIELD="characterId";
	PropertyData.ATTACK_FIELD="attack";
	PropertyData.DEFENSE_FIELD="defense";
	PropertyData.HP_FIELD="HP";
	PropertyData.SPEED_FIELD="speed";
	PropertyData.HEADARMOR_FIELD="headArmor";
	PropertyData.BODYARMOR_FIELD="bodyArmor";
	return PropertyData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/SceneLevelData.as=======199.999947/199.999947
//class db.SceneLevelData
var SceneLevelData=(function(){
	function SceneLevelData(){
		/**
		*关卡ID
		*/
		this.id=NaN;
		/**
		*关卡名称
		*/
		this.map_name=null;
		/**
		*场景id
		*/
		this.scene_id=NaN;
		/**
		*资源文件
		*/
		this.src=null;
		/**
		*种怪器ID（小怪）
		*/
		this.seed=null;
		/**
		*种怪器ID（BOSS）
		*/
		this.seedBoss=null;
		/**
		*开放等级
		*/
		this.openLevel=NaN;
		/**
		*前置关卡ID
		*/
		this.previous_id=NaN;
		/**
		*杀怪值
		*/
		this.totalValue=NaN;
		/**
		*掉落展示
		*/
		this.drop_show=null;
		/**
		*挑战时间
		*/
		this.challenge=NaN;
		/**
		*关卡类型
		*/
		this.missionType=NaN;
	}

	__class(SceneLevelData,'db.SceneLevelData');
	SceneLevelData.sheet=function(){
		return Sheet.get("SceneLevel");
	}

	SceneLevelData.getData=function(id){
		return Sheet.getData("SceneLevel",id);
	}

	SceneLevelData.getByID=function(id){
		return Sheet.getByID("SceneLevel",id);
	}

	SceneLevelData.ID_FIELD="id";
	SceneLevelData.MAP_NAME_FIELD="map_name";
	SceneLevelData.SCENE_ID_FIELD="scene_id";
	SceneLevelData.SRC_FIELD="src";
	SceneLevelData.SEED_FIELD="seed";
	SceneLevelData.SEEDBOSS_FIELD="seedBoss";
	SceneLevelData.OPENLEVEL_FIELD="openLevel";
	SceneLevelData.PREVIOUS_ID_FIELD="previous_id";
	SceneLevelData.TOTALVALUE_FIELD="totalValue";
	SceneLevelData.DROP_SHOW_FIELD="drop_show";
	SceneLevelData.CHALLENGE_FIELD="challenge";
	SceneLevelData.MISSIONTYPE_FIELD="missionType";
	return SceneLevelData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/ShopData.as=======199.999943/199.999943
//class db.ShopData
var ShopData=(function(){
	function ShopData(){
		this._itemID=NaN;
		this._itemType=NaN;
		this._itemName=null;
		this._dropOut=NaN;
		this._discount=NaN;
		this._cost=null;
		this._icon=NaN;
	}

	__class(ShopData,'db.ShopData');
	var __proto=ShopData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Shop."+prop);
		Sheet.notify("Shop");
	}

	__getset(0,__proto,'itemID',function(){
		return this._itemID;
		},function(value){
		this._itemID=value;
		this.notify("itemID");
	});

	__getset(0,__proto,'discount',function(){
		return this._discount;
		},function(value){
		this._discount=value;
		this.notify("discount");
	});

	__getset(0,__proto,'itemType',function(){
		return this._itemType;
		},function(value){
		this._itemType=value;
		this.notify("itemType");
	});

	__getset(0,__proto,'itemName',function(){
		return this._itemName;
		},function(value){
		this._itemName=value;
		this.notify("itemName");
	});

	__getset(0,__proto,'icon',function(){
		return this._icon;
		},function(value){
		this._icon=value;
		this.notify("icon");
	});

	__getset(0,__proto,'cost',function(){
		return this._cost;
		},function(value){
		this._cost=value;
		this.notify("cost");
	});

	__getset(0,__proto,'dropOut',function(){
		return this._dropOut;
		},function(value){
		this._dropOut=value;
		this.notify("dropOut");
	});

	ShopData.sheet=function(){
		return Sheet.get("Shop");
	}

	ShopData.getData=function(id){
		return Sheet.getData("Shop",id);
	}

	return ShopData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/SkillDataData.as=======199.999941/199.999941
//class db.SkillDataData
var SkillDataData=(function(){
	function SkillDataData(){
		/**
		*ID
		*/
		this.id=null;
		/**
		*效果类型
		*/
		this.type=NaN;
		/**
		*效果参数
		*/
		this.param=null;
		/**
		*攻击范围形状
		*/
		this.rangeForm=null;
		/**
		*形状参数
		*/
		this.formParam=null;
		/**
		*范围位置
		*/
		this.rangePos=null;
		/**
		*范围大小
		*/
		this.rangeSize=null;
		/**
		*攻击目标数量
		*/
		this.hit_number=NaN;
		/**
		*被击特效
		*/
		this.hitEffectID=null;
		/**
		*被击音效
		*/
		this.hitSound=null;
		/**
		*特殊判定
		*/
		this.judge=NaN;
		/**
		*攻击震屏参数
		*/
		this.shakeParam=null;
		/**
		*被击震屏参数
		*/
		this.beShakeParam=null;
	}

	__class(SkillDataData,'db.SkillDataData');
	SkillDataData.sheet=function(){
		return Sheet.get("SkillData");
	}

	SkillDataData.getData=function(id){
		return Sheet.getData("SkillData",id);
	}

	SkillDataData.getByID=function(id){
		return Sheet.getByID("SkillData",id);
	}

	SkillDataData.ID_FIELD="id";
	SkillDataData.TYPE_FIELD="type";
	SkillDataData.PARAM_FIELD="param";
	SkillDataData.RANGEFORM_FIELD="rangeForm";
	SkillDataData.FORMPARAM_FIELD="formParam";
	SkillDataData.RANGEPOS_FIELD="rangePos";
	SkillDataData.RANGESIZE_FIELD="rangeSize";
	SkillDataData.HIT_NUMBER_FIELD="hit_number";
	SkillDataData.HITEFFECTID_FIELD="hitEffectID";
	SkillDataData.HITSOUND_FIELD="hitSound";
	SkillDataData.JUDGE_FIELD="judge";
	SkillDataData.SHAKEPARAM_FIELD="shakeParam";
	SkillDataData.BESHAKEPARAM_FIELD="beShakeParam";
	return SkillDataData;
})()


	//file:///H:/work/sniper/sniper/client/src/db/TipsTypeData.as=======199.999929/199.999929
//class db.TipsTypeData
var TipsTypeData=(function(){
	function TipsTypeData(){
		this.id=NaN;
		this.type=null;
	}

	__class(TipsTypeData,'db.TipsTypeData');
	TipsTypeData.sheet=function(){
		return Sheet.get("TipsType");
	}

	TipsTypeData.getData=function(id){
		return Sheet.getData("TipsType",id);
	}

	TipsTypeData.getByID=function(id){
		return Sheet.getByID("TipsType",id);
	}

	return TipsTypeData;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/BattleCount.as=======199.999924/199.999924
/**
*战斗统计计数器
*@author zhanghj
*/
//class extend.BattleCount
var BattleCount=(function(){
	function BattleCount(){
		this.isFirstBlood=false;
		this.roleData={};
		this.data=new BattleData();
		this.data.init();
	}

	__class(BattleCount,'extend.BattleCount');
	var __proto=BattleCount.prototype;
	/**
	*重置计数器
	*/
	__proto.reset=function(){
		this.isFirstBlood=false;
	}

	__proto.getRoleData=function(id){
		var _roleData=this.roleData[id];
		if(!_roleData){
			_roleData=new RoleData();
			_roleData.uid=id;
			this.roleData[id]=_roleData;
		}
		return _roleData;
	}

	/**
	*狙击枪上弹时间
	*@param time
	*/
	__proto.sniperReloadTime=function(time){
		this.data.reloadTime.value=time;
	}

	/**
	*设置连杀
	*/
	__proto.addMultiKill=function(attacker){
		var attackRoleData=this.getRoleData(attacker.id);
		var _now=Browser.now();
		if(_now-attackRoleData.multiTime >=2000){
			attackRoleData.multiKill=1;
			}else{
			attackRoleData.multiKill+=1;
		}
		attackRoleData.multiTime=_now;
		if(attacker==GameSystem.hero){
			this.data.multiKill.value=attackRoleData.multiKill;
		}
	}

	/**
	*增加战斗记录
	*@param attacker 击杀者
	*@param beAttacker 被击杀者
	*@param part 击中部位
	*/
	__proto.addRecord=function(attacker,beAttacker,part){
		var beAttackRoleData=this.getRoleData(beAttacker.id);
		this.data.event("kill",[attacker.id,beAttacker.id]);
		beAttackRoleData.murderId=attacker.id;
		if(this.data.firstBlood.value==""){
			this.data.firstBlood.value=attacker.id;
		}
		this.addMultiKill(attacker);
		if(beAttacker==GameSystem.hero){
			this.data.selfDeadNum.value+=1;
			this.data.enemy.value=attacker.id;
			if(beAttackRoleData.multiKill>0){
				this.data.stopMultiKill.value=true;
				beAttackRoleData.multiKill=0;
				this.data.multiKill.value=0;
			}
			}else{
			this.data.stopMultiKill.value=false;
		}
		if(attacker==GameSystem.hero){
			this.data.selfKillNum.value+=1;
			if(part=="head"){
				this.data.headShotNum.value+=1;
			}
			this.checkRevenge(attacker,beAttacker);
		}
		if(attacker.groupID==11){
			this.data.redKillNum.value+=1;
			}else{
			this.data.blueKillNum.value+=1;
		}
	}

	/**
	*设置当前角色的血量
	*@param role
	*@param value
	*/
	__proto.setCurrentRoleHP=function(role,value){
		if(role==GameSystem.hero){
			this.data.selfCurrenHP.value=value;
		}
	}

	/**
	*设置最大血量
	*@param role
	*@param value
	*/
	__proto.setMaxRoleHP=function(role,value){
		if(role==GameSystem.hero){
			this.data.selfMaxHP.value=value;
		}
	}

	/**
	*检查是否复仇
	*@param attacker
	*@param beAttacker
	*/
	__proto.checkRevenge=function(attacker,beAttacker){
		if (this.data.enemy.value==beAttacker.id){
			this.data.event("revenge",beAttacker.id);
			this.data.enemy.value="";
			return true;
		}
		return false;
	}

	/**
	*检查是否一血
	*@param attacker
	*/
	__proto.checkFirstBlood=function(attacker){
		if (!this.isFirstBlood){
			this.isFirstBlood=true;
			return true;
		}
		return false;
	}

	BattleCount.multiIntervel=2000;
	__static(BattleCount,
	['I',function(){return this.I=new BattleCount();}
	]);
	return BattleCount;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/recover/BaseRecovery.as=======199.999921/199.999921
/**
*垃圾回收对象基类
*@author wulongbin
*
*/
//class laya.libs.recover.BaseRecovery
var BaseRecovery=(function(){
	function BaseRecovery(){
		this._recoverName='';
	}

	__class(BaseRecovery,'laya.libs.recover.BaseRecovery');
	var __proto=BaseRecovery.prototype;
	Laya.imps(__proto,{"laya.libs.recover.Irecovery":true})
	/**
	*构造函数
	*/
	__proto.onConstruct=function(){}
	/**
	*析构函数：允许延时销毁的处理
	*
	*/
	__proto.onDestruct=function(){}
	__proto.recovery=function(){
		CycleFactory.recoveryObject(this);
	}

	__getset(0,__proto,'recoverName',function(){
		return this._recoverName;
		},function(value){
		this._recoverName=value;
	});

	__getset(0,__proto,'isRecovery',function(){
		return !this._recoverName;
	});

	return BaseRecovery;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/enum/GEnumConstant.as=======199.999919/199.999919
//class extend.enum.GEnumConstant
var GEnumConstant=(function(){
	function GEnumConstant(){}
	__class(GEnumConstant,'extend.enum.GEnumConstant');
	GEnumConstant.MUSIC_CHANGEGUN="1020";
	GEnumConstant.MUSIC_SHOULEIBOMB="1003";
	GEnumConstant.BIND_HEADBONE="Bip001 HeadNub";
	return GEnumConstant;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/enum/GEnumPart.as=======199.999918/199.999918
/**
*...
*@author ...
*/
//class extend.enum.GEnumPart
var GEnumPart=(function(){
	function GEnumPart(){}
	__class(GEnumPart,'extend.enum.GEnumPart');
	GEnumPart.HEAD="head";
	GEnumPart.BODY="body";
	GEnumPart.GRENADE="grenade";
	return GEnumPart;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/enum/GEnumSheet.as=======199.999916/199.999916
/**
*项目表
*@author wulongbin
*
*/
//class extend.enum.GEnumSheet
var GEnumSheet=(function(){
	function GEnumSheet(){}
	__class(GEnumSheet,'extend.enum.GEnumSheet');
	GEnumSheet.Monster='Monster';
	GEnumSheet.Seed='Seed';
	GEnumSheet.Career='Career';
	GEnumSheet.Property='Property';
	GEnumSheet.MonsterAttribute='MonsterAttribute';
	GEnumSheet.SkillData='SkillData';
	GEnumSheet.Effect='Effect';
	GEnumSheet.MaterialEffect='MaterialEffect';
	return GEnumSheet;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/enum/GEnumState.as=======199.999915/199.999915
//class extend.enum.GEnumState
var GEnumState=(function(){
	function GEnumState(){}
	__class(GEnumState,'extend.enum.GEnumState');
	GEnumState.STAND="stand";
	GEnumState.SQUAT="squat";
	return GEnumState;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/enum/GEnumType.as=======199.999914/199.999914
//class extend.enum.GEnumType
var GEnumType=(function(){
	function GEnumType(){}
	__class(GEnumType,'extend.enum.GEnumType');
	GEnumType.CHARACTER_ROLE="ROLE";
	GEnumType.CHARACTER_PET="PET";
	GEnumType.CHARACTER_MONSTER="MONSTER";
	GEnumType.CHARACTER_BOSS="BOSS";
	GEnumType.GUNTYPE_SNIPER="1";
	GEnumType.GUNTYPE_MACHINE="2";
	GEnumType.TEAM_RED=11;
	GEnumType.TEAM_BLUE=12;
	return GEnumType;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/components/Component.as=======199.999910/199.999910
/**
*<code>Component</code> 类用于创建组件的父类。
*/
//class laya.components.Component
var Component=(function(){
	function Component(){
		/**@private */
		//this._awaked=false;
		/**@private */
		//this._active=false;
		/**@private [实现IListPool接口]*/
		this._indexInList=-1;
		/**@private */
		//this._owner=null;
		/**@private */
		//this._id=0;
		/**@private */
		//this._enabled=false;
		/**@private */
		//this._customAdded=false;
		this._id=Utils.getGID();
		this._enabled=true;
		this._awaked=false;
		this._customAdded=true;
		this._active=false;
	}

	__class(Component,'laya.components.Component');
	var __proto=Component.prototype;
	Laya.imps(__proto,{"laya.resource.IListPool":true})
	/**
	*@private [实现IListPool接口]
	*/
	__proto._getIndexInList=function(){
		return this._indexInList;
	}

	/**
	*@private [实现IListPool接口]
	*/
	__proto._setIndexInList=function(index){
		this._indexInList=index;
	}

	/**
	*@private
	*/
	__proto._added=function(){}
	/**
	*@private
	*/
	__proto._awake=function(){}
	/**
	*@private
	*/
	__proto._onEnable=function(){}
	/**
	*@private
	*/
	__proto._onDisable=function(){}
	/**
	*@private
	*/
	__proto._onEnableInScene=function(){}
	/**
	*@private
	*/
	__proto._onDisableInScene=function(){}
	/**
	*@private
	*/
	__proto._onDestroy=function(){}
	/**
	*@private
	*/
	__proto._parse=function(data,innerResouMap){}
	/**
	*@private
	*/
	__proto._cloneTo=function(dest){}
	/**
	*@private
	*/
	__proto._setActive=function(value){
		if (value){
			if (this._customAdded){
				if (!this._awaked){
					this._awaked=true;
					this._awake();
				}
				this._enabled && this._onEnable();
			}
			}else {
			this._enabled && this._onDisable();
		}
	}

	/**
	*@private
	*/
	__proto._setActiveInScene=function(value){
		if (value)
			this._onEnableInScene();
		else
		this._onDisableInScene();
	}

	/**
	*@private
	*/
	__proto._doAwake=function(){
		this._customAdded=true;
		if (this.owner.activeInHierarchy){
			if (!this._awaked){
				this._awaked=true;
				this._awake();
			}
			if (!this._active){
				this._active=true;
				this._enabled && this._onEnable();
			}
		}
	}

	/**
	*@private
	*/
	__proto._destroy=function(){
		this._owner.activeInHierarchy && this._setActive(false);
		this._owner._scene && this._setActiveInScene(false);
		this._onDestroy();
		this._enabled=true;
		this._awaked=false;
		this._customAdded=true;
		this._owner=null;
	}

	/**
	*销毁组件
	*/
	__proto.destroy=function(){
		if (this._owner)
			this._owner._destroyComponent(this);
	}

	/**
	*获取唯一标识ID。
	*@return 唯一标识ID。
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*设置是否启用。
	*@param value 是否启动
	*/
	/**
	*获取是否启用。
	*@return 是否启动。
	*/
	__getset(0,__proto,'enabled',function(){
		return this._enabled;
		},function(value){
		this._enabled=value;
		if (value)
			this._owner.activeInHierarchy && this._onEnable();
		else
		this._owner.activeInHierarchy && this._onDisable();
	});

	/**
	*获取所属Node节点。
	*@return 所属Node节点。
	*/
	__getset(0,__proto,'owner',function(){
		return this._owner;
	});

	/**
	*获取是否为单实例组件。
	*@return 是否为单实例组件。
	*/
	__getset(0,__proto,'isSingleton',function(){
		return true;
	});

	return Component;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/recover/CycleFactory.as=======199.999906/199.999906
/**
*回收工厂
*@author wulongbin
*
*/
//class laya.libs.recover.CycleFactory
var CycleFactory=(function(){
	// }
	function CycleFactory(){}
	__class(CycleFactory,'laya.libs.recover.CycleFactory');
	CycleFactory.registerClass=function(name,clas){
		ClassUtils._classMap[name]=clas;
	}

	CycleFactory.registerClass2=function(clas){
		var a=clas.__className.split(".");
		var str=a.pop();
		ClassUtils._classMap[str]=clas;
	}

	CycleFactory.hasRegisterClass=function(name){
		return ClassUtils._classMap[name]!=null;
	}

	CycleFactory.createByID=function(sheetName,id){
		var sheet=Sheet.get(sheetName);
		var keys=sheet.key;
		var values=sheet.data[id];
		if(!values){
			return null;
		};
		var box;
		var comp;
		var comps=CycleFactory.tempComps;
		for (var i=0,n=keys.length;i <n;i++){
			var key=keys[i];
			var value=values[i];
			if (key==="ClassName"){
				if(!value){
					comp=null;
					continue ;
				}
				comp=CycleFactory.createObjectByClass(value,ClassUtils.getClass(value));
				if (!box){
					box=comp;
				}
				else{
					comps.push(comp);
				}
			}
			else if(comp){
				if (key==="var"){
					comp.bindProperty=value;
				}
				else if(comp.hasOwnProperty(key)){
					comp[key]=value;
				}
			}
		}
		for(i=0,n=comps.length;i<n;i++){
			box.addPlugin(comps[i]);
		}
		comps.length=0;
		return box;
	}

	CycleFactory.createObjectByClass=function(name,cls){
		if (!cls){
			throw "can not find class:"+name;
		};
		var recover=Pool.getItemByClass(name,cls);
		recover.recoverName=name;
		recover.onConstruct();
		return recover;
	}

	CycleFactory.createObject=function(name){
		return CycleFactory.createObjectByClass(name,ClassUtils._classMap[name]);
	}

	CycleFactory.createObject2=function(cla){
		var a=cla.__className.split(".");
		var str=a.pop();
		return CycleFactory.createObjectByClass(str,cla);
	}

	CycleFactory.recoveryObject=function(value){
		var name=value.recoverName;
		if(!name){
			throw '对象未指定回收池，或已经回收！'
		}
		value.recoverName='';
		value.onDestruct();
		Pool.recover(name,value);
	}

	CycleFactory.tempComps=[];
	return CycleFactory;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/RockerExtendLeft.as=======199.999884/199.999884
/**
*摇杆控制器
*@author Administrator
*
*/
//class extend.RockerExtendLeft
var RockerExtendLeft=(function(){
	function RockerExtendLeft(rocket){
		this.rocket=null;
		// Laya.timer.clear(this,onMove);
		this.speed=10;
		this.radian=0;
		this.res=new Quaternion();
		this.rocket=rocket;
	}

	__class(RockerExtendLeft,'extend.RockerExtendLeft');
	var __proto=RockerExtendLeft.prototype;
	Laya.imps(__proto,{"laya.libs.rocker.IRockerTarget":true})
	__proto.moveBegin=function(angle){}
	// Laya.timer.frameLoop(1,this,onMove);
	__proto.moveEnd=function(){}
	__proto.moveUpdate=function(angle){
		angle=360-angle-90;
		this.radian=(angle/180*Math.PI);
	}

	__proto.onMove=function(){}
	return RockerExtendLeft;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/RockerExtendRight.as=======199.999883/199.999883
//class extend.RockerExtendRight
var RockerExtendRight=(function(){
	function RockerExtendRight(rocket){
		this.rocket=null;
		this.speed=30;
		this.radius=0;
		this.rocket=rocket;
	}

	__class(RockerExtendRight,'extend.RockerExtendRight');
	var __proto=RockerExtendRight.prototype;
	Laya.imps(__proto,{"laya.libs.rocker.IRockerTarget":true})
	__proto.moveBegin=function(angle){
		Laya.timer.frameLoop(1,this,this.onMove);
	}

	__proto.moveEnd=function(){
		Laya.timer.clear(this,this.onMove);
	}

	__proto.moveUpdate=function(angle){}
	// radius=(angle/180*Math.PI);
	__proto.onMove=function(){}
	return RockerExtendRight;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/scene/AreaDefine.as=======199.999882/199.999882
/**
*从ls文件读出areaDefine数据封装的数据类
*@author rpw
*/
//class extend.scene.AreaDefine
var AreaDefine=(function(){
	function AreaDefine(){
		/*区域块的名称，在Unity中是节点名称*/
		this.name=null;
		/*区域块从自己节点到根节点的名称路径*/
		this.renderSprite=null;
		/*区域块的桥节点坐标*/
		this.openPoint=null;
		/*怪物刷怪点*/
		this.monsterPoint=null;
	}

	__class(AreaDefine,'extend.scene.AreaDefine');
	return AreaDefine;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/scene/MovePoint.as=======199.999879/199.999879
/**
*游戏世界物体移动点定义，目的点上携带其他数据，比如携带这个点所在哪个区域数据
*@author rpw
*/
//class extend.scene.MovePoint
var MovePoint=(function(){
	function MovePoint(){
		/*移动点的坐标位置*/
		this.point=null;
		/*所携带的数据信息*/
		this.data=null;
	}

	__class(MovePoint,'extend.scene.MovePoint');
	return MovePoint;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/SniperBlock.as=======199.999869/199.999869
//class extend.SniperBlock
var SniperBlock=(function(){
	function SniperBlock(){
		this.groups={};
		this.witdhNum=0;
		this.heightNum=0;
		this.destoryMax=9;
		this.camp=NaN;
		this.parts=new Array;
	}

	__class(SniperBlock,'extend.SniperBlock');
	var __proto=SniperBlock.prototype;
	__proto.init=function(root,camp){
		this.camp=camp;
		for (var i=0,len=root._children.length;i < len;i++){
			var part=root._children[i];
			if(part.name.indexOf("group")!=-1){
				this.addPartGroup(part);
				this.witdhNum+=1;
			}
		}
	}

	/**
	*增加一列障碍物
	*@param root
	*/
	__proto.addPartGroup=function(root){
		var name=root.name;
		var parts=new Array;
		for (var j=0,len=root._children.length;j < len;j++){
			var part=root._children[j];
			if(part.name.indexOf("part")!=-1){
				parts[this.getPartIndex(part)-1]=part;
			}
		}
		this.groups[name]=parts;
	}

	__proto.removePart=function(part){
		var groupName=part.parent.name;
		var group=this.groups[groupName];
		var index=this.getPartIndex(part)-1;
		for (var i=index,len=group.length;i < len;i++){
			if(group[i]){
				this.destroyPart(group[i]);
				group[i]=null;
			}
		}
	}

	__proto.destroyPart=function(part){
		part.removeSelf();
		var effectId=GameUtils.getMaterialEffect(this.getPartMaterial(part));
		if(effectId==null){
			return;
		};
		var eff=StaticEffect3D.createStaticEffect3D(effectId);
		eff.onInit(GameSystem.scene.node,part.transform.position);
	}

	/**获取部件的索引*/
	__proto.getPartIndex=function(part){
		var partName=part.name.split('_')[0];
		return parseInt(partName.replace('part',''));
	}

	/**获取部件的材质*/
	__proto.getPartMaterial=function(part){
		return part.name.split('_')[1];
	}

	return SniperBlock;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/utils/GameUtils.as=======199.999860/199.999860
//class extend.utils.GameUtils
var GameUtils=(function(){
	function GameUtils(){}
	__class(GameUtils,'extend.utils.GameUtils');
	GameUtils.getMaterialEffect=function(name){
		if(GameUtils._me[name] !=null){
			return GameUtils._me[name];
		};
		var sheet=Sheet.get('MaterialEffect');
		for (var i=0,len=sheet.length;i < len;i++){
			var data=sheet[i];
			if(name.indexOf(data.id)!=-1){
				GameUtils._me[name]=data.value;
				return data.value;
			}
		}
		return null;
	}

	GameUtils._me={};
	return GameUtils;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/utils/SheetUtil.as=======199.999858/199.999858
//class extend.utils.SheetUtil
var SheetUtil=(function(){
	function SheetUtil(){}
	__class(SheetUtil,'extend.utils.SheetUtil');
	SheetUtil.decode2Array=function(str){
		var arr=str.split(',');
		var i=0;
		var len=arr.length;
		for(;i<len;i++){
			arr[i]=(arr [i]).split('=');
			arr[i][1]=parseFloat(arr[i][1]);
		}
		return arr;
	}

	SheetUtil.decode2Range=function(str){
		var arr=str.split('=');
		arr[0]=parseFloat(arr[0]);
		arr[1]=parseFloat(arr[1]);
		return arr;
	}

	SheetUtil.decode2ArrayInt=function(str){
		var arr=str.split(',');
		var len=arr.length;
		for(var i=0;i<len;i++){
			arr[i]=parseFloat(arr[i]);
		}
		return arr;
	}

	return SheetUtil;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/weapons/Bullet.as=======199.999854/199.999854
/**
*子弹
*@author wulongbin
*
*/
//class extend.weapons.Bullet
var Bullet=(function(){
	function Bullet(){
		/**
		*子弹特效
		*/
		this.bullet=null;
		/**
		*子弹速度
		*/
		this._bulletSpeed=NaN;
		/**
		*射程
		*/
		this._remainDistance=NaN;
		this.onHit=null;
		this._trail=null;
		this._rayStart=new Vector3;
		this._rayDirect=new Vector3;
		this._ray=new Ray(this._rayStart,this._rayDirect);
		this['__onHit']=this.__onHit.bind(this);
	}

	__class(Bullet,'extend.weapons.Bullet');
	var __proto=Bullet.prototype;
	/**
	*
	*@param startPos 起始位置
	*@param direct 方向
	*@param aimTarget 目标
	*@param speed 速度
	*@param effectID 效果
	*@param distance 距离
	*@param onHit 击中回调
	*/
	__proto.init=function(startPos,direct,aimTarget,speed,effectID,distance,onHit){
		this.onHit=onHit;
		this._bulletSpeed=speed/1000;
		this._remainDistance=distance;
		startPos.cloneTo(this._rayStart);
		direct.cloneTo(this._rayDirect);
		var scene=GameSystem.scene;
		var createObjInfo=scene.getGameObjParam();
		createObjInfo.clear().setConfig(10000,"Effect");
		this.bullet=createObjInfo.create();
		this.bullet.pos.setValue(this._rayStart.x,this._rayStart.y,this._rayStart.z);
		this.bullet.lookAt(aimTarget);
		var model=this.bullet.node.getChildAt(0);
		var trail=this.getTrailModel(model);
		trail && trail.reset();
	}

	__proto.getTrailModel=function(node){
		if(this._trail){
			return this._trail;
		};
		var model=this.bullet.node.getChildAt(0);
		var trail=(model && model.getChildAt(0)&& model.getChildAt(0).getChildByName("tuowei"));
		if(trail){
			this._trail=trail;
		}
		return this._trail;
	}

	// private var _outHitAllInfo:Vector.<RaycastHit>=new Vector.<RaycastHit>();
	__proto.onLoop=function(delta){
		var _spd=delta*this._bulletSpeed;
		var rayLength=Math.min(this._remainDistance,_spd);
		this._remainDistance-=_spd;
		SniperObj.CheckShoot(GameSystem.scene.node,this._ray,rayLength,this.__onHit);
		if(this.bullet){
			this._rayStart.x+=this._rayDirect.x*_spd;
			this._rayStart.y+=this._rayDirect.y*_spd;
			this._rayStart.z+=this._rayDirect.z*_spd;
			this.bullet.pos.setValue(this._rayStart.x,this._rayStart.y,this._rayStart.z);
		}
		if(this._remainDistance<=0){
			this.destory();
		}
	}

	// }
	__proto.__onHit=function(target,part){
		if(part){
			this.onHit(target,part);
			this.destory();
		}
		else{
			if(this._remainDistance<=0){
				this.destory();
			}
		}
	}

	__proto.destory=function(){
		this.bullet && this.bullet.destroyMe();
		this.bullet=null;
	}

	return Bullet;
})()


	//file:///H:/work/sniper/sniper/client/src/extend/weapons/Gun.as=======199.999853/199.999853
/**
*枪
*@author wulongbin
*
*/
//class extend.weapons.Gun
var Gun=(function(){
	function Gun(){
		this.owner=null;
		this.gunData=null;
		this.propertyData=null;
		/**当前弹夹的容量*/
		this.capacity=0;
		this.capacityMax=0;
		/**当前耐久度*/
		this.durable=0;
		/**武器模型*/
		this.model=null;
		/**枪口点*/
		this.muzzle=null;
		this.gunId=null;
		this._bullets=new Array;
		this['onHit']=this.onHit.bind(this);
	}

	__class(Gun,'extend.weapons.Gun');
	var __proto=Gun.prototype;
	__proto.init=function(gunID,propertyID){
		this.gunData=GunData.getByID(gunID);
		this.propertyData=GunPropertyData.getByID(propertyID);
		this.capacity=this.propertyData.capacity;
		this.capacityMax=this.propertyData.capacity;
		this.durable=this.propertyData.durable;
		this.gunId=gunID;
	}

	__proto.fire=function(start,direct,target){
		if(this.owner.isDead || this.gunState()==3 || this.gunState()==1){
			return;
		}
		BattleCount.I.sniperReloadTime(0);
		this.owner.actionController.playActionById(this.gunData.fireAction);
		Vector3.add(start,direct,Gun.tempTarget);
		var bullet=new Bullet;
		bullet.init(start,direct,target?target:Gun.tempTarget,this.propertyData.velocity,10000,this.propertyData.distacne,this.onHit);
		this._bullets.push(bullet);
		GameSoundManager.instance.playSound(String(this.gunData.fireSound));
		var effect=StaticEffect3D.createStaticEffect3D(this.gunData.muzzleEffect);
		effect.onInit(this.owner.scene.node,start);
		var rotate=this.owner.node.transform.rotation;
		rotate.getYawPitchRoll(OnceTool.tempVector3);
		var tmp=OnceTool.tempVector3.x;
		OnceTool.tempVector3.x=OnceTool.tempVector3.y;
		OnceTool.tempVector3.y=tmp;
		if(--this.capacity==0){
			this.owner.isAim=false;
			this.reload();
		}
	}

	/**
	*获取枪口位置
	*/
	__proto.getFirePosition=function(){
		if(!this.muzzle){
			return null;
		}
		return this.muzzle.transform.position;
	}

	__proto.setModel=function(sprite){
		this.model=sprite;
		this.muzzle=this.getMuzzle(sprite);
	}

	/**
	*获取枪口坐标
	*@param node 枪的模型
	*@return
	*/
	__proto.getMuzzle=function(node){
		for (var i=0,len=node.numChildren;i < len;++i){
			var sp=(node.getChildAt(i));
			var res=(sp.getChildByName("qiangkou"));
			if(res){
				return res;
			}
			return this.getMuzzle(sp);
		}
	}

	/**
	*能否开枪
	*@return 错误码
	*/
	__proto.gunState=function(){
		if (this.capacity==0){
			return 1;
		}
		else if (this.capacity==this.capacityMax){
			return 2;
		}
		else if (this.durable==0){
			return 3;
		}
		return 0;
	}

	__proto.canFire=function(){
		return this.capacity !=0;
	}

	/**
	*重新装弹
	*/
	__proto.reload=function(){
		if(this.owner.isDead){
			return;
		}
		if(this.owner.isSelf){
			BattleCount.I.data.event("reloadTime",this.propertyData.reloadTime);
		}
		this.owner.isAim=false;
		this.owner.actionController.playActionById('1015');
		this.owner.scene.timer.once(this.propertyData.reloadTime,this,this.reloaded);
		GameSoundManager.instance.playSound(String(this.gunData.reloadSound));
	}

	__proto.reloaded=function(){
		this.capacity=this.propertyData.capacity;
	}

	/**
	*停止换弹
	*/
	__proto.stopReload=function(){
		this.owner.scene.timer.clear(this,this.reloaded);
	}

	__proto.onHit=function(target,part){
		if(target){
			if(target.isDead || target==this.owner){
				return;
			}
			(target.extend).beAttack(this.owner,part);
		}
		else{
			var sprite3D=part.sprite3D;
			(this.owner.scene).attackBlock(sprite3D);
			var partNormal=new Vector3;
			Vector3.add(part.position,part.triangleNormals[0],partNormal);
			var scene=GameSystem.scene;
			if(part.sprite3D.name.indexOf("part")!=-1){
				return;
			};
			var createObjInfo=scene.getGameObjParam();
			createObjInfo.clear().setConfig(2003,"Effect");
			var danpian=createObjInfo.create();
			danpian.angle.z=Math.PI/2;
			danpian.pos.setValue(part.position.x,part.position.y,part.position.z);
			danpian.scaleSize(50);
			var material=part.sprite3D.name;
			console.log("material = "+material);
			var effectId=GameUtils.getMaterialEffect(part.sprite3D.name);
			if(effectId==null){
				return;
			};
			var eff=StaticEffect3D.createStaticEffect3D(effectId);
			eff && eff.onInit(GameSystem.scene.node,part.position);
			eff.lookAt(partNormal);
		}
	}

	// danpian.lookAt(partNormal);
	__proto.onLoop=function(delta){
		var i=0;
		for(i=0;i<this._bullets.length;i++){
			this._bullets[i].onLoop(delta);
			if(!this._bullets[i].bullet){
				this._bullets.splice(i,1);
				i--;
			}
		}
	}

	__getset(0,__proto,'targetDistance',function(){
		return this.gunData.gunLength+this.propertyData.distacne
	});

	Gun.CAPACITY_EMPETY=1;
	Gun.CAPACITY_FULL=2;
	Gun.BREAK_DOWN=3;
	__static(Gun,
	['tempTarget',function(){return this.tempTarget=new Vector3;}
	]);
	return Gun;
})()


	//file:///H:/work/sniper/sniper/client/src/gameUIViews/component/TipsComponent.as=======199.999850/199.999850
//class gameUIViews.component.TipsComponent
var TipsComponent=(function(){
	function TipsComponent(){
		this._target=null;
		this.id=0;
		this.dbName=null;
		this.layoutType=0;
	}

	__class(TipsComponent,'gameUIViews.component.TipsComponent');
	var __proto=TipsComponent.prototype;
	__proto.onClickHandler=function(){
		TipsManager.instance.show(this.id,this.dbName,this.layoutType,this._target);
	}

	__getset(0,__proto,'target',null,function(value){
		this._target=value;
		this._target.on("click",this,this.onClickHandler);
	});

	return TipsComponent;
})()


	//file:///H:/work/sniper/sniper/client/src/gameUIViews/view/TipsManager.as=======199.999816/199.999816
//class gameUIViews.view.TipsManager
var TipsManager=(function(){
	function TipsManager(){
		this.tipsView=null;
		this._data=null;
		this._id=0;
		this._layoutType=0;
		this.tipsView=new TipsUI();
		this.tipsView.btn_close.on("click",this,this.hide);
	}

	__class(TipsManager,'gameUIViews.view.TipsManager');
	var __proto=TipsManager.prototype;
	__proto.show=function(id,dbName,layoutType,target){
		this._data=Sheet.get(dbName);
		this._id=id;
		this._layoutType=layoutType;
		var point=(target).localToGlobal(new Point(0,0));
		this.layout();
		Laya.stage.addChild(this.tipsView);
		this.tipsView.x=point.x+target.width;
		this.tipsView.y=point.y;
		var stageWidth=Laya.stage.width;
		var stageHeight=Laya.stage.height;
		if(this.tipsView.x+this.tipsView.width > stageWidth){
			this.tipsView.x=stageWidth-this.tipsView.width-5;
		}
		if(this.tipsView.y+this.tipsView.height > stageHeight){
			this.tipsView.y=stageHeight-this.tipsView.height-5;
		}
	}

	__proto.hide=function(){
		if(null !=this.tipsView.parent){
			this.tipsView.parent.removeChild(this.tipsView);
		}
	}

	__proto.update=function(id,dbName,layoutType){}
	__proto.layout=function(){
		this.tipsView.blockSpt.removeChildren();
		var tipsTypeData=TipsTypeData.getData(this._layoutType-1);
		var types=tipsTypeData.type.split(",");
		var offY=0;
		var spt;
		for (var i=0,size=types.length;i < size;i++){
			var cls=ClassUtils.getRegClass(types[i]);
			spt=new cls();
			var watchMap=spt._watchMap;
			for (var name in watchMap){
				var watcher;
				for(var $each_watcher in watchMap[name]){
					watcher=watchMap[name][$each_watcher];
					var value=watcher.value;
					var itemData=this._data.getByID(this._id);
					var fun=UIUtils.getBindFun(value);
					watcher.comp[watcher.prop]=fun.call(this,itemData);
				}
			}
			this.tipsView.blockSpt.addChild(spt);
			spt.y=offY;
			offY+=spt.height;
		}
		this.tipsView.bg.height=spt.height+spt.y;
	}

	__proto.init=function(){}
	__getset(1,TipsManager,'instance',function(){
		if(null==TipsManager._instance){
			TipsManager._instance=new TipsManager();
		}
		return TipsManager._instance;
	});

	TipsManager._instance=null;
	return TipsManager;
})()


	//file:///H:/work/sniper/sniper/client/src/model/battle/RoleData.as=======199.999814/199.999814
//class model.battle.RoleData
var RoleData=(function(){
	function RoleData(){
		/**角色ID*/
		this.uid=null;
		/**连杀数*/
		this.multiKill=0;
		/**产生连杀的时间*/
		this.multiTime=0;
		/**击杀者id*/
		this.murderId=null;
	}

	__class(RoleData,'model.battle.RoleData');
	return RoleData;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSRoom.as=======199.999810/199.999810
/**
*...
*@author 帧同步 房间
*封装了厘米秀进入房间接口
*/
//class fs.FSRoom
var FSRoom=(function(){
	function FSRoom(){
		/**
		*是否是房主
		*/
		this.isOwner=false;
		/**
		*是否已经进入房间
		*/
		this.isEnterRoom=false;
		/**
		*准备就绪人数
		*/
		this.readyMemberNum=0;
	}

	__class(FSRoom,'fs.FSRoom');
	var __proto=FSRoom.prototype;
	/**
	*房间入口
	*
	*/
	__proto.main=function(){
		FSGame.connect.regMessageList([RoomReadyMsg]);
		this.readyMemberNum=0;
		this.isOwner=false;
		this.isEnterRoom=false;
		this.onMain();
	}

	/**
	*房间入口，用于重载是创建房间或加入房间
	*
	*/
	__proto.onMain=function(){}
	/**
	*准备就绪，当所有玩家都调用ready后，将立即开始游戏
	*@param isForce 强行开始（只适用于房主）
	*/
	__proto.ready=function(isForce){
		(isForce===void 0)&& (isForce=false);
		if(!this.isEnterRoom){
			throw '还未进入房间，无法准备!';
		}
		if(this.isOwner){
			if(isForce){
				FSGame.connect.startGame();
			}
			else{
				Laya.timer.frameLoop(1,this,this.onCheckAllReady);
			}
		}
		else{
			FSRoom.readyMsg.userID=FSGame.userID;
			FSGame.connect.broadcast(FSRoom.readyMsg);
		}
	}

	/**
	*创建房间
	*
	*/
	__proto.createRoom=function(){
		this.isOwner=true;
		FSGame.connect.createRoom(FSGame.userID);
	}

	/**
	*加入房间
	*@param roomID 房间id
	*
	*/
	__proto.joinRoom=function(roomID){
		this.isOwner=false;
		FSGame.connect.joinRoom(FSGame.userID,roomID);
	}

	/**
	*匹配房间
	*
	*/
	__proto.match=function(){
		FSGame.connect.match(FSGame.userID);
	}

	/**
	*有人进入房间
	*
	*/
	__proto._onJoinRoom=function(data){
		if(!this.isEnterRoom){
			this.doEnterRoom(data);
			this.onSelfJoinRoom(data);
		}
		else{
			this.onOtherJoinRoom(data);
		}
	}

	/**
	*自身进入房间
	*
	*/
	__proto.onSelfJoinRoom=function(data){}
	/**
	*其他人进入房间
	*
	*/
	__proto.onOtherJoinRoom=function(data){}
	/**
	*检验是否所有人准备就绪
	*
	*/
	__proto.onCheckAllReady=function(){
		if(this.readyMemberNum==this.memberNum-1){
			Laya.timer.clear(this,this.onCheckAllReady);
			FSGame.connect.startGame();
		}
	}

	/**
	*有人离开房间
	*@param userID
	*
	*/
	__proto._onLeaveRoom=function(userID){
		if(userID==FSGame.userID){
			this.doLeaveRoom();
			this.onSelfLeaveRoom();
		}
		else{
			this.onOtherLeaveRoom(userID);
		}
	}

	//进入房间初始化数据
	__proto.doEnterRoom=function(data){
		this.isEnterRoom=true;
		if(this.isOwner){
			FSGame.connect.listenBroadcast(RoomReadyMsg,this,this.onOtherReady);
		}
	}

	//离开房间清楚数据
	__proto.doLeaveRoom=function(){
		if(this.isOwner){
			FSGame.connect.cancleBroadcast(RoomReadyMsg,this,this.onOtherReady);
		}
		this.isEnterRoom=false;
	}

	//房主以外的玩家准备
	__proto.onOtherReady=function(){
		this.readyMemberNum++;
	}

	/**
	*自己离开房间
	*
	*/
	__proto.onSelfLeaveRoom=function(){}
	/**
	*他人离开房间
	*@param userID
	*
	*/
	__proto.onOtherLeaveRoom=function(userID){}
	/**
	*游戏开始回调
	*
	*/
	__proto._onGameStart=function(){
		FSGame.fsm.onGameStart();
		this.onGameStart();
		FSGame.game.onGameStart();
	}

	/**
	*游戏开始回调 用于重载
	*
	*/
	__proto.onGameStart=function(){}
	__getset(0,__proto,'memberNum',function(){
		return FSGame.connect.playerNum;
	});

	/**
	*房间ID
	*@return
	*
	*/
	__getset(0,__proto,'roomID',function(){
		return FSGame.connect.roomID;
	});

	__static(FSRoom,
	['readyMsg',function(){return this.readyMsg=new RoomReadyMsg;}
	]);
	return FSRoom;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSGame.as=======199.999803/199.999803
/**
*...
*@author Laya
*/
//class fs.FSGame
var FSGame=(function(){
	function FSGame(){}
	__class(FSGame,'fs.FSGame');
	var __proto=FSGame.prototype;
	/**
	*初始化环境
	*@param userID 玩家ID
	*@param gameID 游戏类型ID
	*@param room 房间流程
	*@param connect 网络连接
	*
	*/
	__proto.init=function(room,connect,userID,gameID){
		(userID===void 0)&& (userID=0);
		(gameID===void 0)&& (gameID=0);
		FSGame.game=this;
		fs.FSGame.userID=userID;
		fs.FSGame.gameID=gameID;
		fs.FSGame.room=room;
		fs.FSGame.connect=connect;
		FSGame.isLocalMode=fs.FSGame.connect.isLocalMode;
		this.onInit();
	}

	/**
	*入口函数，用于初始化环境
	*
	*/
	__proto.onInit=function(){}
	/**
	*准备进入房间
	*
	*/
	__proto.ready=function(){
		FSGame.room.main();
	}

	/**
	*游戏开始回调
	*
	*/
	__proto.onGameStart=function(){}
	FSGame.setConnect=function(connect){
		fs.FSGame.connect=connect;
		FSGame.isLocalMode=fs.FSGame.connect.isLocalMode;
	}

	FSGame.setRoom=function(inRoom){
		fs.FSGame.room=inRoom;
	}

	FSGame.room=null;
	FSGame.connect=null;
	FSGame.game=null;
	FSGame.gameID=1000;
	FSGame.userID=0;
	FSGame.isLocalMode=false;
	__static(FSGame,
	['fsm',function(){return this.fsm=new FSManage;}
	]);
	return FSGame;
})()


	//file:///H:/work/sniper/sniper/client/src/Test.as=======199.999802/199.999802
//class Test
var Test=(function(){
	function Test(){
		Laya3D.init(0,0,true);
		Laya.stage.scaleMode="full";
		Laya.stage.screenMode="none";
		Stat.show();
		var scene=Laya.stage.addChild(new laya.d3.core.scene.Scene());
		scene.ambientColor=new Vector3(1,1,1);
		var camera=scene.addChild(new Camera(0,0.1,100));
		camera.transform.translate(new Vector3(0,0.5,1));
		camera.transform.rotate(new Vector3(-15,0,0),true,false);
		var layaMonkey=scene.addChild(Sprite3D.load('res/character/sniper4/role.lh'));
	}

	__class(Test,'Test');
	return Test;
})()


	//file:///H:/work/sniper/layaLib/src/fs/OPSprite.as=======199.999784/199.999784
/**
*执行操作的精灵
*@author wulongbin
*
*/
//class fs.OPSprite
var OPSprite=(function(){
	function OPSprite(id){
		this.ID=NaN;
		this._isOpenSimulation=false;
		this._dealOPLib={};
		(id===void 0)&& (id=0);
		this.ID=id;
	}

	__class(OPSprite,'fs.OPSprite');
	var __proto=OPSprite.prototype;
	/**
	*注册进帧同步管理器后初始化
	*
	*/
	__proto.onInit=function(){}
	/**
	*注册移除时调用
	*
	*/
	__proto.onDestuctor=function(){}
	/**
	*发送操作
	*@param op
	*
	*/
	__proto.sendOP=function(op){
		FSGame.fsm.sendSyncOpt(this.ID,op);
		if(this._isOpenSimulation){
			this.dealSimulationOP(op);
		}
	}

	__proto.registerDealOP=function(clz,func){
		this._dealOPLib[MessageUtils.getClassKey(clz)]=func;
	}

	/**
	*处理操作
	*@param op
	*
	*/
	__proto.dealOP=function(op){
		var dealFunc=this._dealOPLib[(op).msgKey];
		if(dealFunc){
			dealFunc(op);
		}
	}

	/**
	*处理模拟操作
	*@param op
	*
	*/
	__proto.dealSimulationOP=function(op){}
	/**
	*服务端帧轮询
	*@param now
	*
	*/
	__proto.onLoop=function(){}
	/**
	*
	*客户端模拟帧轮询
	*(需开启前端模拟)
	*@param now
	*
	*/
	__proto.onSimulationLoop=function(){}
	/**
	*@private
	*/
	/**
	*是否开启前端模拟
	*(该功能用于服务端数据与客户端模拟器数据进行插值，实现网络延迟容错表现，按需使用)
	*/
	__getset(0,__proto,'isOpenSimulation',function(){
		return this._isOpenSimulation;
		},function(value){
		this._isOpenSimulation=value;
		if(this._isOpenSimulation){
			Laya.timer.frameLoop(1,this,this.onSimulationLoop);
		}
		else{
			Laya.timer.clear(this,this.onSimulationLoop);
		}
	});

	return OPSprite;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/Config.as=======199.999725/199.999725
/**
*Config 用于配置一些全局参数。如需更改，请在初始化引擎之前设置。
*/
//class Config
var Config=(function(){
	function Config(){}
	__class(Config,'Config');
	Config.WebGLTextCacheCount=500;
	Config.atlasEnable=false;
	Config.animationInterval=50;
	Config.isAntialias=false;
	Config.isAlpha=false;
	Config.premultipliedAlpha=true;
	Config.isStencil=true;
	Config.preserveDrawingBuffer=false;
	Config.smartCache=false;
	Config.webGL2D_MeshAllocMaxMem=true;
	Config.useWebGL2=true;
	return Config;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationContent.as=======199.999724/199.999724
/**
*@private
*@author ...
*/
//class laya.ani.AnimationContent
var AnimationContent=(function(){
	function AnimationContent(){
		this.nodes=null;
		this.name=null;
		this.playTime=NaN;
		this.bone3DMap=null;
		this.totalKeyframeDatasLength=0;
	}

	__class(AnimationContent,'laya.ani.AnimationContent');
	return AnimationContent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationNodeContent.as=======199.999723/199.999723
/**
*@private
*@author ...
*/
//class laya.ani.AnimationNodeContent
var AnimationNodeContent=(function(){
	function AnimationNodeContent(){
		this.name=null;
		this.parentIndex=0;
		this.parent=null;
		this.keyframeWidth=0;
		this.lerpType=0;
		this.interpolationMethod=null;
		this.childs=null;
		this.keyFrame=null;
		//=new Vector.<KeyFramesContent>;
		this.playTime=NaN;
		this.extenData=null;
		this.dataOffset=0;
	}

	__class(AnimationNodeContent,'laya.ani.AnimationNodeContent');
	return AnimationNodeContent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationParser01.as=======199.999722/199.999722
/**
*@private
*/
//class laya.ani.AnimationParser01
var AnimationParser01=(function(){
	function AnimationParser01(){}
	__class(AnimationParser01,'laya.ani.AnimationParser01');
	AnimationParser01.parse=function(templet,reader){
		var data=reader.__getBuffer();
		var i=0,j=0,k=0,n=0,l=0,m=0,o=0;
		var aniClassName=reader.readUTFString();
		templet._aniClassName=aniClassName;
		var strList=reader.readUTFString().split("\n");
		var aniCount=reader.getUint8();
		var publicDataPos=reader.getUint32();
		var publicExtDataPos=reader.getUint32();
		var publicData;
		if (publicDataPos > 0)
			publicData=data.slice(publicDataPos,publicExtDataPos);
		var publicRead=new Byte(publicData);
		if (publicExtDataPos > 0)
			templet._publicExtData=data.slice(publicExtDataPos,data.byteLength);
		templet._useParent=!!reader.getUint8();
		templet._anis.length=aniCount;
		for (i=0;i < aniCount;i++){
			var ani=templet._anis[i]=new AnimationContent();
			{};
			ani.nodes=new Array;
			var name=ani.name=strList[reader.getUint16()];
			templet._aniMap[name]=i;
			ani.bone3DMap={};
			ani.playTime=reader.getFloat32();
			var boneCount=ani.nodes.length=reader.getUint8();
			ani.totalKeyframeDatasLength=0;
			for (j=0;j < boneCount;j++){
				var node=ani.nodes[j]=new AnimationNodeContent();
				{};
				node.childs=[];
				var nameIndex=reader.getInt16();
				if (nameIndex >=0){
					node.name=strList[nameIndex];
					ani.bone3DMap[node.name]=j;
				}
				node.keyFrame=new Array;
				node.parentIndex=reader.getInt16();
				node.parentIndex==-1 ? node.parent=null :node.parent=ani.nodes[node.parentIndex]
				node.lerpType=reader.getUint8();
				var keyframeParamsOffset=reader.getUint32();
				publicRead.pos=keyframeParamsOffset;
				var keyframeDataCount=node.keyframeWidth=publicRead.getUint16();
				ani.totalKeyframeDatasLength+=keyframeDataCount;
				if (node.lerpType===0 || node.lerpType===1){
					node.interpolationMethod=[];
					node.interpolationMethod.length=keyframeDataCount;
					for (k=0;k < keyframeDataCount;k++)
					node.interpolationMethod[k]=AnimationTemplet.interpolation[publicRead.getUint8()];
				}
				if (node.parent !=null)
					node.parent.childs.push(node);
				var privateDataLen=reader.getUint16();
				if (privateDataLen > 0){
					node.extenData=data.slice(reader.pos,reader.pos+privateDataLen);
					reader.pos+=privateDataLen;
				};
				var keyframeCount=reader.getUint16();
				node.keyFrame.length=keyframeCount;
				var startTime=0;
				var keyFrame;
				for (k=0,n=keyframeCount;k < n;k++){
					keyFrame=node.keyFrame[k]=new KeyFramesContent();
					{};
					keyFrame.duration=reader.getFloat32();
					keyFrame.startTime=startTime;
					if (node.lerpType===2){
						keyFrame.interpolationData=[];
						var interDataLength=reader.getUint8();
						var lerpType=0;
						lerpType=reader.getFloat32();
						switch (lerpType){
							case 254:
								keyFrame.interpolationData.length=keyframeDataCount;
								for (o=0;o < keyframeDataCount;o++)
								keyFrame.interpolationData[o]=0;
								break ;
							case 255:
								keyFrame.interpolationData.length=keyframeDataCount;
								for (o=0;o < keyframeDataCount;o++)
								keyFrame.interpolationData[o]=5;
								break ;
							default :
								keyFrame.interpolationData.push(lerpType);
								for (m=1;m < interDataLength;m++){
									keyFrame.interpolationData.push(reader.getFloat32());
								}
							}
					}
					keyFrame.data=new Float32Array(keyframeDataCount);
					keyFrame.dData=new Float32Array(keyframeDataCount);
					keyFrame.nextData=new Float32Array(keyframeDataCount);
					for (l=0;l < keyframeDataCount;l++){
						keyFrame.data[l]=reader.getFloat32();
						if (keyFrame.data[l] >-0.00000001 && keyFrame.data[l] < 0.00000001)keyFrame.data[l]=0;
					}
					startTime+=keyFrame.duration;
				}
				keyFrame.startTime=ani.playTime;
				node.playTime=ani.playTime;
				templet._calculateKeyFrame(node,keyframeCount,keyframeDataCount);
			}
		}
	}

	return AnimationParser01;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationParser02.as=======199.999721/199.999721
/**
*@private
*/
//class laya.ani.AnimationParser02
var AnimationParser02=(function(){
	function AnimationParser02(){}
	__class(AnimationParser02,'laya.ani.AnimationParser02');
	AnimationParser02.READ_DATA=function(){
		AnimationParser02._DATA.offset=AnimationParser02._reader.getUint32();
		AnimationParser02._DATA.size=AnimationParser02._reader.getUint32();
	}

	AnimationParser02.READ_BLOCK=function(){
		var count=AnimationParser02._BLOCK.count=AnimationParser02._reader.getUint16();
		var blockStarts=AnimationParser02._BLOCK.blockStarts=[];
		var blockLengths=AnimationParser02._BLOCK.blockLengths=[];
		for (var i=0;i < count;i++){
			blockStarts.push(AnimationParser02._reader.getUint32());
			blockLengths.push(AnimationParser02._reader.getUint32());
		}
	}

	AnimationParser02.READ_STRINGS=function(){
		var offset=AnimationParser02._reader.getUint32();
		var count=AnimationParser02._reader.getUint16();
		var prePos=AnimationParser02._reader.pos;
		AnimationParser02._reader.pos=offset+AnimationParser02._DATA.offset;
		for (var i=0;i < count;i++)
		AnimationParser02._strings[i]=AnimationParser02._reader.readUTFString();
		AnimationParser02._reader.pos=prePos;
	}

	AnimationParser02.parse=function(templet,reader){
		AnimationParser02._templet=templet;
		AnimationParser02._reader=reader;
		var arrayBuffer=reader.__getBuffer();
		AnimationParser02.READ_DATA();
		AnimationParser02.READ_BLOCK();
		AnimationParser02.READ_STRINGS();
		for (var i=0,n=AnimationParser02._BLOCK.count;i < n;i++){
			var index=reader.getUint16();
			var blockName=AnimationParser02._strings[index];
			var fn=AnimationParser02["READ_"+blockName];
			if (fn==null)
				throw new Error("model file err,no this function:"+index+" "+blockName);
			else
			fn.call();
		}
	}

	AnimationParser02.READ_ANIMATIONS=function(){
		var reader=AnimationParser02._reader;
		var arrayBuffer=reader.__getBuffer();
		var i=0,j=0,k=0,n=0,l=0;
		var keyframeWidth=reader.getUint16();
		var interpolationMethod=[];
		interpolationMethod.length=keyframeWidth;
		for (i=0;i < keyframeWidth;i++)
		interpolationMethod[i]=AnimationTemplet.interpolation[reader.getByte()];
		var aniCount=reader.getUint8();
		AnimationParser02._templet._anis.length=aniCount;
		for (i=0;i < aniCount;i++){
			var ani=AnimationParser02._templet._anis[i]=
			{};
			ani.nodes=new Array;
			var aniName=ani.name=AnimationParser02._strings[reader.getUint16()];
			AnimationParser02._templet._aniMap[aniName]=i;
			ani.bone3DMap={};
			ani.playTime=reader.getFloat32();
			var boneCount=ani.nodes.length=reader.getInt16();
			ani.totalKeyframeDatasLength=0;
			for (j=0;j < boneCount;j++){
				var node=ani.nodes[j]=
				{};
				node.keyframeWidth=keyframeWidth;
				node.childs=[];
				var nameIndex=reader.getUint16();
				if (nameIndex >=0){
					node.name=AnimationParser02._strings[nameIndex];
					ani.bone3DMap[node.name]=j;
				}
				node.keyFrame=new Array;
				node.parentIndex=reader.getInt16();
				node.parentIndex==-1 ? node.parent=null :node.parent=ani.nodes[node.parentIndex]
				ani.totalKeyframeDatasLength+=keyframeWidth;
				node.interpolationMethod=interpolationMethod;
				if (node.parent !=null)
					node.parent.childs.push(node);
				var keyframeCount=reader.getUint16();
				node.keyFrame.length=keyframeCount;
				var keyFrame=null,lastKeyFrame=null;
				for (k=0,n=keyframeCount;k < n;k++){
					keyFrame=node.keyFrame[k]=
					{};
					keyFrame.startTime=reader.getFloat32();
					(lastKeyFrame)&& (lastKeyFrame.duration=keyFrame.startTime-lastKeyFrame.startTime);
					keyFrame.dData=new Float32Array(keyframeWidth);
					keyFrame.nextData=new Float32Array(keyframeWidth);
					var offset=AnimationParser02._DATA.offset;
					var keyframeDataOffset=reader.getUint32();
					var keyframeDataLength=keyframeWidth *4;
					var keyframeArrayBuffer=arrayBuffer.slice(offset+keyframeDataOffset,offset+keyframeDataOffset+keyframeDataLength);
					keyFrame.data=new Float32Array(keyframeArrayBuffer);
					lastKeyFrame=keyFrame;
				}
				keyFrame.duration=0;
				node.playTime=ani.playTime;
				AnimationParser02._templet._calculateKeyFrame(node,keyframeCount,keyframeWidth);
			}
		}
	}

	AnimationParser02._templet=null;
	AnimationParser02._reader=null;
	AnimationParser02._strings=[];
	__static(AnimationParser02,
	['_BLOCK',function(){return this._BLOCK={count:0};},'_DATA',function(){return this._DATA={offset:0,size:0};}
	]);
	return AnimationParser02;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationState.as=======199.999719/199.999719
/**
*@private
*/
//class laya.ani.AnimationState
var AnimationState=(function(){
	function AnimationState(){}
	__class(AnimationState,'laya.ani.AnimationState');
	AnimationState.stopped=0;
	AnimationState.paused=1;
	AnimationState.playing=2;
	return AnimationState;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/Bone.as=======199.999716/199.999716
/**
*@private
*/
//class laya.ani.bone.Bone
var Bone=(function(){
	function Bone(){
		this.name=null;
		this.root=null;
		this.parentBone=null;
		this.length=10;
		this.transform=null;
		this.inheritScale=true;
		this.inheritRotation=true;
		this.rotation=NaN;
		this.resultRotation=NaN;
		this.d=-1;
		this._tempMatrix=null;
		this._sprite=null;
		this.resultTransform=new Transform();
		this.resultMatrix=new Matrix();
		this._children=[];
	}

	__class(Bone,'laya.ani.bone.Bone');
	var __proto=Bone.prototype;
	__proto.setTempMatrix=function(matrix){
		this._tempMatrix=matrix;
		var i=0,n=0;
		var tBone;
		for (i=0,n=this._children.length;i < n;i++){
			tBone=this._children[i];
			tBone.setTempMatrix(this._tempMatrix);
		}
	}

	__proto.update=function(pMatrix){
		this.rotation=this.transform.skX;
		var tResultMatrix;
		if (pMatrix){
			tResultMatrix=this.resultTransform.getMatrix();
			Matrix.mul(tResultMatrix,pMatrix,this.resultMatrix);
			this.resultRotation=this.rotation;
		}
		else {
			this.resultRotation=this.rotation+this.parentBone.resultRotation;
			if (this.parentBone){
				if (this.inheritRotation && this.inheritScale){
					tResultMatrix=this.resultTransform.getMatrix();
					Matrix.mul(tResultMatrix,this.parentBone.resultMatrix,this.resultMatrix);
				}
				else {
					var temp=0;
					var parent=this.parentBone;
					var tAngle=NaN;
					var cos=NaN;
					var sin=NaN;
					var tParentMatrix=this.parentBone.resultMatrix;
					tResultMatrix=this.resultTransform.getMatrix();
					var worldX=tParentMatrix.a *tResultMatrix.tx+tParentMatrix.c *tResultMatrix.ty+tParentMatrix.tx;
					var worldY=tParentMatrix.b *tResultMatrix.tx+tParentMatrix.d *tResultMatrix.ty+tParentMatrix.ty;
					var tTestMatrix=new Matrix();
					if (this.inheritRotation){
						tAngle=Math.atan2(parent.resultMatrix.b,parent.resultMatrix.a);
						cos=Math.cos(tAngle),sin=Math.sin(tAngle);
						tTestMatrix.setTo(cos,sin,-sin,cos,0,0);
						Matrix.mul(this._tempMatrix,tTestMatrix,Matrix.TEMP);
						Matrix.TEMP.copyTo(tTestMatrix);
						tResultMatrix=this.resultTransform.getMatrix();
						Matrix.mul(tResultMatrix,tTestMatrix,this.resultMatrix);
						if (this.resultTransform.scX *this.resultTransform.scY < 0){
							this.resultMatrix.rotate(Math.PI*0.5);
						}
						this.resultMatrix.tx=worldX;
						this.resultMatrix.ty=worldY;
					}
					else if (this.inheritScale){
						tResultMatrix=this.resultTransform.getMatrix();
						Matrix.TEMP.identity();
						Matrix.TEMP.d=this.d;
						Matrix.mul(tResultMatrix,Matrix.TEMP,this.resultMatrix);
						this.resultMatrix.tx=worldX;
						this.resultMatrix.ty=worldY;
					}
					else {
						tResultMatrix=this.resultTransform.getMatrix();
						Matrix.TEMP.identity();
						Matrix.TEMP.d=this.d;
						Matrix.mul(tResultMatrix,Matrix.TEMP,this.resultMatrix);
						this.resultMatrix.tx=worldX;
						this.resultMatrix.ty=worldY;
					}
				}
			}
			else {
				tResultMatrix=this.resultTransform.getMatrix();
				tResultMatrix.copyTo(this.resultMatrix);
			}
		};
		var i=0,n=0;
		var tBone;
		for (i=0,n=this._children.length;i < n;i++){
			tBone=this._children[i];
			tBone.update();
		}
	}

	__proto.updateChild=function(){
		var i=0,n=0;
		var tBone;
		for (i=0,n=this._children.length;i < n;i++){
			tBone=this._children[i];
			tBone.update();
		}
	}

	__proto.setRotation=function(rd){
		if (this._sprite){
			this._sprite.rotation=rd *180 / Math.PI;
		}
	}

	__proto.updateDraw=function(x,y){
		if (!Bone.ShowBones || Bone.ShowBones[this.name]){
			if (this._sprite){
				this._sprite.x=x+this.resultMatrix.tx;
				this._sprite.y=y+this.resultMatrix.ty;
			}
			else {
				this._sprite=new Sprite();
				this._sprite.graphics.drawCircle(0,0,5,"#ff0000");
				this._sprite.graphics.drawLine(0,0,this.length,0,"#00ff00");
				this._sprite.graphics.fillText(this.name,0,0,"20px Arial","#00ff00","center");
				Laya.stage.addChild(this._sprite);
				this._sprite.x=x+this.resultMatrix.tx;
				this._sprite.y=y+this.resultMatrix.ty;
			}
		};
		var i=0,n=0;
		var tBone;
		for (i=0,n=this._children.length;i < n;i++){
			tBone=this._children[i];
			tBone.updateDraw(x,y);
		}
	}

	__proto.addChild=function(bone){
		this._children.push(bone);
		bone.parentBone=this;
	}

	__proto.findBone=function(boneName){
		if (this.name==boneName){
			return this;
		}
		else {
			var i=0,n=0;
			var tBone;
			var tResult;
			for (i=0,n=this._children.length;i < n;i++){
				tBone=this._children[i];
				tResult=tBone.findBone(boneName);
				if (tResult){
					return tResult;
				}
			}
		}
		return null;
	}

	__proto.localToWorld=function(local){
		var localX=local[0];
		var localY=local[1];
		local[0]=localX *this.resultMatrix.a+localY *this.resultMatrix.c+this.resultMatrix.tx;
		local[1]=localX *this.resultMatrix.b+localY *this.resultMatrix.d+this.resultMatrix.ty;
	}

	Bone.ShowBones={};
	return Bone;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/BoneSlot.as=======199.999715/199.999715
/**
*@private
*/
//class laya.ani.bone.BoneSlot
var BoneSlot=(function(){
	function BoneSlot(){
		/**插槽名称 */
		this.name=null;
		/**插槽绑定的骨骼名称 */
		this.parent=null;
		/**插糟显示数据数据的名称 */
		this.attachmentName=null;
		/**原始数据的索引 */
		this.srcDisplayIndex=-1;
		/**判断对象是否是原对象 */
		this.type="src";
		/**模板的指针 */
		this.templet=null;
		/**当前插槽对应的数据 */
		this.currSlotData=null;
		/**当前插槽显示的纹理 */
		this.currTexture=null;
		/**显示对象对应的数据 */
		this.currDisplayData=null;
		/**显示皮肤的索引 */
		this.displayIndex=-1;
		/**用户自定义的皮肤 */
		this._diyTexture=null;
		this._parentMatrix=null;
		this._resultMatrix=null;
		/**索引替换表 */
		this._replaceDic={};
		/**当前diyTexture的动画纹理 */
		this._curDiyUV=null;
		this._curDiyVS=null;
		/**实时模式下，复用使用 */
		this._skinSprite=null;
		/**@private 变形动画数据 */
		this.deformData=null;
		this._mVerticleArr=null;
		this._preGraphicVerticle=null;
		this._preGraphicMatrix=null;
	}

	__class(BoneSlot,'laya.ani.bone.BoneSlot');
	var __proto=BoneSlot.prototype;
	/**
	*设置要显示的插槽数据
	*@param slotData
	*@param disIndex
	*@param freshIndex 是否重置纹理
	*/
	__proto.showSlotData=function(slotData,freshIndex){
		(freshIndex===void 0)&& (freshIndex=true);
		this.currSlotData=slotData;
		if(freshIndex)
			this.displayIndex=this.srcDisplayIndex;
		this.currDisplayData=null;
		this.currTexture=null;
	}

	/**
	*通过名字显示指定对象
	*@param name
	*/
	__proto.showDisplayByName=function(name){
		if (this.currSlotData){
			this.showDisplayByIndex(this.currSlotData.getDisplayByName(name));
		}
	}

	/**
	*替换贴图名
	*@param tarName 要替换的贴图名
	*@param newName 替换后的贴图名
	*/
	__proto.replaceDisplayByName=function(tarName,newName){
		if (!this.currSlotData)return;
		var preIndex=0;
		preIndex=this.currSlotData.getDisplayByName(tarName);
		var newIndex=0;
		newIndex=this.currSlotData.getDisplayByName(newName);
		this.replaceDisplayByIndex(preIndex,newIndex);
	}

	/**
	*替换贴图索引
	*@param tarIndex 要替换的索引
	*@param newIndex 替换后的索引
	*/
	__proto.replaceDisplayByIndex=function(tarIndex,newIndex){
		if (!this.currSlotData)return;
		this._replaceDic[tarIndex]=newIndex;
		if (this.displayIndex==tarIndex){
			this.showDisplayByIndex(tarIndex);
		}
	}

	/**
	*指定显示对象
	*@param index
	*/
	__proto.showDisplayByIndex=function(index){
		if (this._replaceDic[index])index=this._replaceDic[index];
		if (this.currSlotData && index >-1 && index < this.currSlotData.displayArr.length){
			this.displayIndex=index;
			this.currDisplayData=this.currSlotData.displayArr[index];
			if (this.currDisplayData){
				var tName=this.currDisplayData.name;
				this.currTexture=this.templet.getTexture(tName);
				if (this.currTexture && Render.isWebGL && this.currDisplayData.type==0 && this.currDisplayData.uvs){
					this.currTexture=this.currDisplayData.createTexture(this.currTexture);
				}
			}
			}else {
			this.displayIndex=-1;
			this.currDisplayData=null;
			this.currTexture=null;
		}
	}

	/**
	*替换皮肤
	*@param _texture
	*/
	__proto.replaceSkin=function(_texture){
		this._diyTexture=_texture;
		if (this._curDiyUV)this._curDiyUV.length=0;
		if (this.currDisplayData&&this._diyTexture==this.currDisplayData.texture){
			this._diyTexture=null;
		}
	}

	/**
	*保存父矩阵的索引
	*@param parentMatrix
	*/
	__proto.setParentMatrix=function(parentMatrix){
		this._parentMatrix=parentMatrix;
	}

	__proto.getSaveVerticle=function(tArr){
		if (BoneSlot.useSameMatrixAndVerticle&&this._preGraphicVerticle && BoneSlot.isSameArr(tArr,this._preGraphicVerticle)){
			tArr=this._preGraphicVerticle;
			}else{
			tArr=Utils.copyArray([],tArr);
			this._preGraphicVerticle=tArr;
		}
		return tArr;
	}

	__proto.getSaveMatrix=function(tResultMatrix){
		if (BoneSlot.useSameMatrixAndVerticle&&this._preGraphicMatrix && BoneSlot.isSameMatrix(tResultMatrix,this._preGraphicMatrix)){
			tResultMatrix=this._preGraphicMatrix;
			}else{
			var newMatrix=tResultMatrix.clone();
			tResultMatrix=newMatrix;
			this._preGraphicMatrix=tResultMatrix;
		}
		return tResultMatrix;
	}

	/**
	*把纹理画到Graphics上
	*@param graphics
	*@param noUseSave
	*/
	__proto.draw=function(graphics,boneMatrixArray,noUseSave,alpha){
		(noUseSave===void 0)&& (noUseSave=false);
		(alpha===void 0)&& (alpha=1);
		if ((this._diyTexture==null && this.currTexture==null)|| this.currDisplayData==null){
			if (!(this.currDisplayData && this.currDisplayData.type==3)){
				return;
			}
		};
		var tTexture=this.currTexture;
		if (this._diyTexture)tTexture=this._diyTexture;
		var tSkinSprite;
		switch (this.currDisplayData.type){
			case 0:
				if (graphics){
					var tCurrentMatrix=this.getDisplayMatrix();
					if (this._parentMatrix){
						var tRotateKey=false;
						if (tCurrentMatrix){
							Matrix.mul(tCurrentMatrix,this._parentMatrix,Matrix.TEMP);
							var tResultMatrix;
							if (noUseSave){
								if (this._resultMatrix==null)this._resultMatrix=new Matrix();
								tResultMatrix=this._resultMatrix;
								}else {
								tResultMatrix=BoneSlot._tempResultMatrix;
							}
							if ((!Render.isWebGL && this.currDisplayData.uvs)|| (Render.isWebGL && this._diyTexture && this.currDisplayData.uvs)){
								var tTestMatrix=BoneSlot._tempMatrix;
								tTestMatrix.identity();
								if (this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5]){
									tTestMatrix.d=-1;
								}
								if (this.currDisplayData.uvs[0] > this.currDisplayData.uvs[4]
									&& this.currDisplayData.uvs[1] > this.currDisplayData.uvs[5]){
									tRotateKey=true;
									tTestMatrix.rotate(-Math.PI/2);
								}
								Matrix.mul(tTestMatrix,Matrix.TEMP,tResultMatrix);
								}else {
								Matrix.TEMP.copyTo(tResultMatrix);
							}
							if (!noUseSave){
								tResultMatrix=this.getSaveMatrix(tResultMatrix);
							}
							if (tRotateKey){
								graphics.drawTexture(tTexture,-this.currDisplayData.height / 2,-this.currDisplayData.width / 2,this.currDisplayData.height,this.currDisplayData.width,tResultMatrix);
								}else {
								graphics.drawTexture(tTexture,-this.currDisplayData.width / 2,-this.currDisplayData.height / 2,this.currDisplayData.width,this.currDisplayData.height,tResultMatrix);
							}
						}
					}
				}
				break ;
			case 1:
				if (noUseSave){
					if (this._skinSprite==null){
						this._skinSprite=BoneSlot.createSkinMesh();
					}
					tSkinSprite=this._skinSprite;
					}else {
					tSkinSprite=BoneSlot.createSkinMesh();
				}
				if (tSkinSprite==null){
					return;
				};
				var tIBArray;
				var tRed=1;
				var tGreed=1;
				var tBlue=1;
				var tAlpha=1;
				if (this.currDisplayData.bones==null){
					var tVertices=this.currDisplayData.weights;
					if (this.deformData){
						tVertices=this.deformData;
					};
					var tUVs;
					if (this._diyTexture){
						if (!this._curDiyUV){
							this._curDiyUV=[];
						}
						if (this._curDiyUV.length==0){
							this._curDiyUV=UVTools.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV);
							this._curDiyUV=UVTools.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV);
						}
						tUVs=this._curDiyUV;
						}else{
						tUVs=this.currDisplayData.uvs;
					}
					this._mVerticleArr=tVertices;
					var tTriangleNum=this.currDisplayData.triangles.length / 3;
					tIBArray=this.currDisplayData.triangles;
					if (this.deformData){
						if (!noUseSave){
							this._mVerticleArr=this.getSaveVerticle(this._mVerticleArr);
						}
					}
					tSkinSprite.init2(tTexture,tIBArray,this._mVerticleArr,tUVs);
					var tCurrentMatrix2=this.getDisplayMatrix();
					if (this._parentMatrix){
						if (tCurrentMatrix2){
							Matrix.mul(tCurrentMatrix2,this._parentMatrix,Matrix.TEMP);
							var tResultMatrix2;
							if (noUseSave){
								if (this._resultMatrix==null)this._resultMatrix=new Matrix();
								tResultMatrix2=this._resultMatrix;
								}else {
								tResultMatrix2=BoneSlot._tempResultMatrix;
							}
							Matrix.TEMP.copyTo(tResultMatrix2);
							if (!noUseSave){
								tResultMatrix2=this.getSaveMatrix(tResultMatrix2);
							}
							tSkinSprite.transform=tResultMatrix2;
						}
					}
					}else {
					this.skinMesh(boneMatrixArray,tSkinSprite,alpha);
				}
				graphics.drawSkin(tSkinSprite);
				break ;
			case 2:
				if (noUseSave){
					if (this._skinSprite==null){
						this._skinSprite=BoneSlot.createSkinMesh();
					}
					tSkinSprite=this._skinSprite;
					}else {
					tSkinSprite=BoneSlot.createSkinMesh();
				}
				if (tSkinSprite==null){
					return;
				}
				this.skinMesh(boneMatrixArray,tSkinSprite,alpha);
				graphics.drawSkin(tSkinSprite);
				break ;
			case 3:
				break ;
			}
	}

	/**
	*显示蒙皮动画
	*@param boneMatrixArray 当前帧的骨骼矩阵
	*/
	__proto.skinMesh=function(boneMatrixArray,skinSprite,alpha){
		var tTexture=this.currTexture;
		var tBones=this.currDisplayData.bones;
		var tUvs;
		if (this._diyTexture){
			tTexture=this._diyTexture;
			if (!this._curDiyUV){
				this._curDiyUV=[];
			}
			if (this._curDiyUV.length==0){
				this._curDiyUV=UVTools.getRelativeUV(this.currTexture.uv,this.currDisplayData.uvs,this._curDiyUV);
				this._curDiyUV=UVTools.getAbsoluteUV(this._diyTexture.uv,this._curDiyUV,this._curDiyUV);
			}
			tUvs=this._curDiyUV;
			}else{
			tUvs=this.currDisplayData.uvs;
		};
		var tWeights=this.currDisplayData.weights;
		var tTriangles=this.currDisplayData.triangles;
		var tIBArray;
		var tRx=0;
		var tRy=0;
		var nn=0;
		var tMatrix;
		var tX=NaN;
		var tY=NaN;
		var tB=0;
		var tWeight=0;
		var tVertices;
		var i=0,j=0,n=0;
		var tRed=1;
		var tGreed=1;
		var tBlue=1;
		var tAlpha=alpha;
		BoneSlot._tempVerticleArr.length=0;
		tVertices=BoneSlot._tempVerticleArr;
		if (this.deformData && this.deformData.length > 0){
			var f=0;
			for (i=0,n=tBones.length;i < n;){
				nn=tBones[i++]+i;
				tRx=0,tRy=0;
				for (;i < nn;i++){
					tMatrix=boneMatrixArray[tBones[i]]
					tX=tWeights[tB]+this.deformData[f++];
					tY=tWeights[tB+1]+this.deformData[f++];
					tWeight=tWeights[tB+2];
					tRx+=(tX *tMatrix.a+tY *tMatrix.c+tMatrix.tx)*tWeight;
					tRy+=(tX *tMatrix.b+tY *tMatrix.d+tMatrix.ty)*tWeight;
					tB+=3;
				}
				tVertices.push(tRx,tRy);
			}
			}else {
			for (i=0,n=tBones.length;i < n;){
				nn=tBones[i++]+i;
				tRx=0,tRy=0;
				for (;i < nn;i++){
					tMatrix=boneMatrixArray[tBones[i]]
					tX=tWeights[tB];
					tY=tWeights[tB+1];
					tWeight=tWeights[tB+2];
					tRx+=(tX *tMatrix.a+tY *tMatrix.c+tMatrix.tx)*tWeight;
					tRy+=(tX *tMatrix.b+tY *tMatrix.d+tMatrix.ty)*tWeight;
					tB+=3;
				}
				tVertices.push(tRx,tRy);
			}
		}
		this._mVerticleArr=tVertices;
		tIBArray=tTriangles;
		this._mVerticleArr=this.getSaveVerticle(this._mVerticleArr);
		skinSprite.init2(tTexture,tIBArray,this._mVerticleArr,tUvs);
	}

	/**
	*画骨骼的起始点，方便调试
	*@param graphics
	*/
	__proto.drawBonePoint=function(graphics){
		if (graphics && this._parentMatrix){
			graphics.drawCircle(this._parentMatrix.tx,this._parentMatrix.ty,5,"#ff0000");
		}
	}

	/**
	*得到显示对象的矩阵
	*@return
	*/
	__proto.getDisplayMatrix=function(){
		if (this.currDisplayData){
			return this.currDisplayData.transform.getMatrix();
		}
		return null;
	}

	/**
	*得到插糟的矩阵
	*@return
	*/
	__proto.getMatrix=function(){
		return this._resultMatrix;
	}

	/**
	*用原始数据拷贝出一个
	*@return
	*/
	__proto.copy=function(){
		var tBoneSlot=new BoneSlot();
		tBoneSlot.type="copy";
		tBoneSlot.name=this.name;
		tBoneSlot.attachmentName=this.attachmentName;
		tBoneSlot.srcDisplayIndex=this.srcDisplayIndex;
		tBoneSlot.parent=this.parent;
		tBoneSlot.displayIndex=this.displayIndex;
		tBoneSlot.templet=this.templet;
		tBoneSlot.currSlotData=this.currSlotData;
		tBoneSlot.currTexture=this.currTexture;
		tBoneSlot.currDisplayData=this.currDisplayData;
		return tBoneSlot;
	}

	BoneSlot.createSkinMesh=function(){
		if (Render.isWebGL || Render.isConchApp){
			return RunDriver.skinAniSprite();
			}else{
			if (!Render.isWebGL){
				if (Skeleton.useSimpleMeshInCanvas){
					return new SimpleSkinMeshCanvas();
					}else{
					return new SkinMeshCanvas();
				}
			}
		}
		return null;
	}

	BoneSlot.isSameArr=function(arrA,arrB){
		if (arrA.length !=arrB.length)return false;
		var i=0,len=0;
		len=arrA.length;
		for (i=0;i < len;i++){
			if (arrA[i] !=arrB[i])return false;
		}
		return true;
	}

	BoneSlot.isSameMatrix=function(mtA,mtB){
		return mtA.a==mtB.a && mtA.b==mtB.b && mtA.c==mtB.c && mtA.d==mtB.d && Math.abs(mtA.tx-mtB.tx)<0.00001 && Math.abs(mtA.ty-mtB.ty)<0.00001;
	}

	BoneSlot.useSameMatrixAndVerticle=true;
	BoneSlot._tempVerticleArr=[];
	__static(BoneSlot,
	['_tempMatrix',function(){return this._tempMatrix=new Matrix();},'_tempResultMatrix',function(){return this._tempResultMatrix=new Matrix();}
	]);
	return BoneSlot;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/canvasmesh/CanvasMeshRender.as=======199.999712/199.999712
/**
*@private
*canvas mesh渲染器
*/
//class laya.ani.bone.canvasmesh.CanvasMeshRender
var CanvasMeshRender=(function(){
	function CanvasMeshRender(){
		/**
		*mesh数据
		*/
		this.mesh=null;
		/**
		*矩阵
		*/
		this.transform=null;
		/**
		*绘图环境
		*/
		this.context=null;
		/**
		*绘制mesh的模式 0:顶点索引模式 1：无顶点索引模式
		*/
		this.mode=0;
	}

	__class(CanvasMeshRender,'laya.ani.bone.canvasmesh.CanvasMeshRender');
	var __proto=CanvasMeshRender.prototype;
	/**
	*将mesh数据渲染到context上面
	*@param context
	*
	*/
	__proto.renderToContext=function(context){
		this.context=context;
		if (this.mesh){
			if (this.mode==0){
				this._renderWithIndexes(this.mesh);
				}else{
				this._renderNoIndexes(this.mesh);
			}
		}
	}

	/**
	*无顶点索引的模式
	*@param mesh
	*
	*/
	__proto._renderNoIndexes=function(mesh){
		var i=0,len=mesh.vertices.length / 2;
		var index=0;
		for (i=0;i < len-2;i++){
			index=i *2;
			this._renderDrawTriangle(mesh,index,(index+2),(index+4));
		}
	}

	/**
	*使用顶点索引模式绘制
	*@param mesh
	*
	*/
	__proto._renderWithIndexes=function(mesh){
		var indexes=mesh.indexes;
		var i=0,len=indexes.length;
		for (i=0;i < len;i+=3){
			var index0=indexes[i] *2;
			var index1=indexes[i+1] *2;
			var index2=indexes[i+2] *2;
			this._renderDrawTriangle(mesh,index0,index1,index2);
		}
	}

	/**
	*绘制三角形
	*@param mesh mesh
	*@param index0 顶点0
	*@param index1 顶点1
	*@param index2 顶点2
	*
	*/
	__proto._renderDrawTriangle=function(mesh,index0,index1,index2){
		var context=this.context;
		var uvs=mesh.uvs;
		var vertices=mesh.vertices;
		var texture=mesh.texture;
		var source=texture.bitmap;
		var textureSource=source.source;
		var textureWidth=texture.width;
		var textureHeight=texture.height;
		var sourceWidth=source.width;
		var sourceHeight=source.height;
		var u0=NaN;
		var u1=NaN;
		var u2=NaN;
		var v0=NaN;
		var v1=NaN;
		var v2=NaN;
		if (mesh.useUvTransform){
			var ut=mesh.uvTransform;
			u0=((uvs[index0] *ut.a)+(uvs[index0+1] *ut.c)+ut.tx)*sourceWidth;
			u1=((uvs[index1] *ut.a)+(uvs[index1+1] *ut.c)+ut.tx)*sourceWidth;
			u2=((uvs[index2] *ut.a)+(uvs[index2+1] *ut.c)+ut.tx)*sourceWidth;
			v0=((uvs[index0] *ut.b)+(uvs[index0+1] *ut.d)+ut.ty)*sourceHeight;
			v1=((uvs[index1] *ut.b)+(uvs[index1+1] *ut.d)+ut.ty)*sourceHeight;
			v2=((uvs[index2] *ut.b)+(uvs[index2+1] *ut.d)+ut.ty)*sourceHeight;
		}
		else {
			u0=uvs[index0] *sourceWidth;
			u1=uvs[index1] *sourceWidth;
			u2=uvs[index2] *sourceWidth;
			v0=uvs[index0+1] *sourceHeight;
			v1=uvs[index1+1] *sourceHeight;
			v2=uvs[index2+1] *sourceHeight;
		};
		var x0=vertices[index0];
		var x1=vertices[index1];
		var x2=vertices[index2];
		var y0=vertices[index0+1];
		var y1=vertices[index1+1];
		var y2=vertices[index2+1];
		if (mesh.canvasPadding > 0){
			var paddingX=mesh.canvasPadding;
			var paddingY=mesh.canvasPadding;
			var centerX=(x0+x1+x2)/ 3;
			var centerY=(y0+y1+y2)/ 3;
			var normX=x0-centerX;
			var normY=y0-centerY;
			var dist=Math.sqrt((normX *normX)+(normY *normY));
			x0=centerX+((normX / dist)*(dist+paddingX));
			y0=centerY+((normY / dist)*(dist+paddingY));
			normX=x1-centerX;
			normY=y1-centerY;
			dist=Math.sqrt((normX *normX)+(normY *normY));
			x1=centerX+((normX / dist)*(dist+paddingX));
			y1=centerY+((normY / dist)*(dist+paddingY));
			normX=x2-centerX;
			normY=y2-centerY;
			dist=Math.sqrt((normX *normX)+(normY *normY));
			x2=centerX+((normX / dist)*(dist+paddingX));
			y2=centerY+((normY / dist)*(dist+paddingY));
		}
		context.save();
		if (this.transform){
			var mt=this.transform;
			context.transform(mt.a,mt.b,mt.c,mt.d,mt.tx,mt.ty);
		}
		context.beginPath();
		context.moveTo(x0,y0);
		context.lineTo(x1,y1);
		context.lineTo(x2,y2);
		context.closePath();
		context.clip();
		var delta=(u0 *v1)+(v0 *u2)+(u1 *v2)-(v1 *u2)-(v0 *u1)-(u0 *v2);
		var dDelta=1 / delta;
		var deltaA=(x0 *v1)+(v0 *x2)+(x1 *v2)-(v1 *x2)-(v0 *x1)-(x0 *v2);
		var deltaB=(u0 *x1)+(x0 *u2)+(u1 *x2)-(x1 *u2)-(x0 *u1)-(u0 *x2);
		var deltaC=(u0 *v1 *x2)+(v0 *x1 *u2)+(x0 *u1 *v2)-(x0 *v1 *u2)-(v0 *u1 *x2)-(u0 *x1 *v2);
		var deltaD=(y0 *v1)+(v0 *y2)+(y1 *v2)-(v1 *y2)-(v0 *y1)-(y0 *v2);
		var deltaE=(u0 *y1)+(y0 *u2)+(u1 *y2)-(y1 *u2)-(y0 *u1)-(u0 *y2);
		var deltaF=(u0 *v1 *y2)+(v0 *y1 *u2)+(y0 *u1 *v2)-(y0 *v1 *u2)-(v0 *u1 *y2)-(u0 *y1 *v2);
		context.transform(deltaA *dDelta,deltaD *dDelta,deltaB *dDelta,deltaE*dDelta,deltaC *dDelta,deltaF *dDelta);
		context.drawImage(textureSource,texture.uv[0]*sourceWidth,texture.uv[1]*sourceHeight,textureWidth,textureHeight,texture.uv[0]*sourceWidth,texture.uv[1]*sourceHeight,textureWidth,textureHeight);
		context.restore();
	}

	return CanvasMeshRender;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/canvasmesh/MeshData.as=======199.999711/199.999711
/**
*@private
*/
//class laya.ani.bone.canvasmesh.MeshData
var MeshData=(function(){
	function MeshData(){
		/**
		*纹理
		*/
		this.texture=null;
		/**
		*uv数据
		*/
		this.uvs=[0,0,1,0,1,1,0,1];
		/**
		*顶点数据
		*/
		this.vertices=[0,0,100,0,100,100,0,100];
		/**
		*顶点索引
		*/
		this.indexes=[0,1,3,3,1,2];
		/**
		*uv变换矩阵
		*/
		this.uvTransform=null;
		/**
		*是否有uv变化矩阵
		*/
		this.useUvTransform=false;
		/**
		*扩展像素,用来去除黑边
		*/
		this.canvasPadding=1;
	}

	__class(MeshData,'laya.ani.bone.canvasmesh.MeshData');
	var __proto=MeshData.prototype;
	/**
	*计算mesh的Bounds
	*@return
	*
	*/
	__proto.getBounds=function(){
		return Rectangle._getWrapRec(this.vertices);
	}

	return MeshData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/DeformAniData.as=======199.999709/199.999709
/**
*@private
*/
//class laya.ani.bone.DeformAniData
var DeformAniData=(function(){
	function DeformAniData(){
		this.skinName=null;
		this.deformSlotDataList=[];
	}

	__class(DeformAniData,'laya.ani.bone.DeformAniData');
	return DeformAniData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/DeformSlotData.as=======199.999708/199.999708
/**
*@private
*/
//class laya.ani.bone.DeformSlotData
var DeformSlotData=(function(){
	function DeformSlotData(){
		this.deformSlotDisplayList=[];
	}

	__class(DeformSlotData,'laya.ani.bone.DeformSlotData');
	return DeformSlotData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/DeformSlotDisplayData.as=======199.999707/199.999707
/**
*@private
*/
//class laya.ani.bone.DeformSlotDisplayData
var DeformSlotDisplayData=(function(){
	function DeformSlotDisplayData(){
		this.boneSlot=null;
		this.slotIndex=-1;
		this.attachment=null;
		this.deformData=null;
		this.frameIndex=0;
		this.timeList=[];
		this.vectices=[];
		this.tweenKeyList=[];
	}

	__class(DeformSlotDisplayData,'laya.ani.bone.DeformSlotDisplayData');
	var __proto=DeformSlotDisplayData.prototype;
	__proto.binarySearch1=function(values,target){
		var low=0;
		var high=values.length-2;
		if (high==0)
			return 1;
		var current=high >>> 1;
		while (true){
			if (values[Math.floor(current+1)] <=target)
				low=current+1;
			else
			high=current;
			if (low==high)
				return low+1;
			current=(low+high)>>> 1;
		}
		return 0;
	}

	// Can't happen.
	__proto.apply=function(time,boneSlot,alpha){
		(alpha===void 0)&& (alpha=1);
		time+=0.05;
		if (this.timeList.length <=0){
			return;
		};
		var i=0;
		var n=0;
		var tTime=this.timeList[0];
		if (time < tTime){
			return;
		};
		var tVertexCount=this.vectices[0].length;
		var tVertices=[];
		var tFrameIndex=this.binarySearch1(this.timeList,time);
		this.frameIndex=tFrameIndex;
		if (time >=this.timeList[this.timeList.length-1]){
			var lastVertices=this.vectices[this.vectices.length-1];
			if (alpha < 1){
				for (i=0;i < tVertexCount;i++){
					tVertices[i]+=(lastVertices[i]-tVertices[i])*alpha;
				}
				}else {
				for (i=0;i < tVertexCount;i++){
					tVertices[i]=lastVertices[i];
				}
			}
			this.deformData=tVertices;
			return;
		};
		var tTweenKey=this.tweenKeyList[this.frameIndex];
		var tPrevVertices=this.vectices[this.frameIndex-1];
		var tNextVertices=this.vectices[this.frameIndex];
		var tPreFrameTime=this.timeList[this.frameIndex-1];
		var tFrameTime=this.timeList[this.frameIndex];
		if (this.tweenKeyList[tFrameIndex-1]){
			alpha=(time-tPreFrameTime)/ (tFrameTime-tPreFrameTime);
			}else {
			alpha=0;
		};
		var tPrev=NaN;
		for (i=0;i < tVertexCount;i++){
			tPrev=tPrevVertices[i];
			tVertices[i]=tPrev+(tNextVertices[i]-tPrev)*alpha;
		}
		this.deformData=tVertices;
	}

	return DeformSlotDisplayData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/DrawOrderData.as=======199.999706/199.999706
/**
*@private
*/
//class laya.ani.bone.DrawOrderData
var DrawOrderData=(function(){
	function DrawOrderData(){
		this.time=NaN;
		this.drawOrder=[];
	}

	__class(DrawOrderData,'laya.ani.bone.DrawOrderData');
	return DrawOrderData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/EventData.as=======199.999705/199.999705
/**
*@private
*/
//class laya.ani.bone.EventData
var EventData=(function(){
	function EventData(){
		this.name=null;
		this.intValue=0;
		this.floatValue=NaN;
		this.stringValue=null;
		this.time=NaN;
	}

	__class(EventData,'laya.ani.bone.EventData');
	return EventData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/IkConstraint.as=======199.999704/199.999704
/**
*@private
*/
//class laya.ani.bone.IkConstraint
var IkConstraint=(function(){
	function IkConstraint(data,bones){
		this._targetBone=null;
		this._bones=null;
		this._data=null;
		this.name=null;
		this.mix=NaN;
		this.bendDirection=NaN;
		this.isSpine=true;
		//debug相关代码
		this._sp=null;
		this.isDebug=false;
		this._data=data;
		this._targetBone=bones[data.targetBoneIndex];
		this.isSpine=data.isSpine;
		if (this._bones==null)this._bones=[];
		this._bones.length=0;
		for (var i=0,n=data.boneIndexs.length;i < n;i++){
			this._bones.push(bones[data.boneIndexs[i]]);
		}
		this.name=data.name;
		this.mix=data.mix;
		this.bendDirection=data.bendDirection;
	}

	__class(IkConstraint,'laya.ani.bone.IkConstraint');
	var __proto=IkConstraint.prototype;
	__proto.apply=function(){
		switch (this._bones.length){
			case 1:
				this._applyIk1(this._bones[0],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.mix);
				break ;
			case 2:
				if (this.isSpine){
					this._applyIk2(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix);
					}else{
					this._applyIk3(this._bones[0],this._bones[1],this._targetBone.resultMatrix.tx,this._targetBone.resultMatrix.ty,this.bendDirection,this.mix);
				}
				break ;
			}
	}

	__proto._applyIk1=function(bone,targetX,targetY,alpha){
		var pp=bone.parentBone;
		var id=1 / (pp.resultMatrix.a *pp.resultMatrix.d-pp.resultMatrix.b *pp.resultMatrix.c);
		var x=targetX-pp.resultMatrix.tx;
		var y=targetY-pp.resultMatrix.ty;
		var tx=(x *pp.resultMatrix.d-y *pp.resultMatrix.c)*id-bone.transform.x;
		var ty=(y *pp.resultMatrix.a-x *pp.resultMatrix.b)*id-bone.transform.y;
		var rotationIK=Math.atan2(ty,tx)*IkConstraint.radDeg-0-bone.transform.skX;
		if (bone.transform.scX < 0)rotationIK+=180;
		if (rotationIK > 180)
			rotationIK-=360;
		else if (rotationIK <-180)rotationIK+=360;
		bone.transform.skX=bone.transform.skY=bone.transform.skX+rotationIK *alpha;
		bone.update();
	}

	__proto.updatePos=function(x,y){
		if (this._sp){
			this._sp.pos(x,y);
		}
	}

	__proto._applyIk2=function(parent,child,targetX,targetY,bendDir,alpha){
		if (alpha==0){
			return;
		};
		var px=parent.resultTransform.x,py=parent.resultTransform.y;
		var psx=parent.transform.scX,psy=parent.transform.scY;
		var csx=child.transform.scX;
		var os1=0,os2=0,s2=0;
		if (psx < 0){
			psx=-psx;
			os1=180;
			s2=-1;
			}else {
			os1=0;
			s2=1;
		}
		if (psy < 0){
			psy=-psy;
			s2=-s2;
		}
		if (csx < 0){
			csx=-csx;
			os2=180;
			}else {
			os2=0
		};
		var cx=child.resultTransform.x,cy=NaN,cwx=NaN,cwy=NaN;
		var a=parent.resultMatrix.a,b=parent.resultMatrix.c;
		var c=parent.resultMatrix.b,d=parent.resultMatrix.d;
		var u=Math.abs(psx-psy)<=0.0001;
		if (!u){
			cy=0;
			cwx=a *cx+parent.resultMatrix.tx;
			cwy=c *cx+parent.resultMatrix.ty;
			}else {
			cy=child.resultTransform.y;
			cwx=a *cx+b *cy+parent.resultMatrix.tx;
			cwy=c *cx+d *cy+parent.resultMatrix.ty;
		}
		if (this.isDebug){
			if (!this._sp){
				this._sp=new Sprite();
				Laya.stage.addChild(this._sp);
			}
			this._sp.graphics.clear(true);
			this._sp.graphics.drawCircle(targetX,targetY,15,"#ffff00");
			this._sp.graphics.drawCircle(cwx,cwy,15,"#ff00ff");
		}
		parent.setRotation(Math.atan2(cwy-parent.resultMatrix.ty,cwx-parent.resultMatrix.tx));
		var pp=parent.parentBone;
		a=pp.resultMatrix.a;
		b=pp.resultMatrix.c;
		c=pp.resultMatrix.b;
		d=pp.resultMatrix.d;
		var id=1 / (a *d-b *c);
		var x=targetX-pp.resultMatrix.tx,y=targetY-pp.resultMatrix.ty;
		var tx=(x *d-y *b)*id-px;
		var ty=(y *a-x *c)*id-py;
		x=cwx-pp.resultMatrix.tx;
		y=cwy-pp.resultMatrix.ty;
		var dx=(x *d-y *b)*id-px;
		var dy=(y *a-x *c)*id-py;
		var l1=Math.sqrt(dx *dx+dy *dy);
		var l2=child.length *csx;
		var a1=NaN,a2=NaN;
		if (u){
			l2 *=psx;
			var cos=(tx *tx+ty *ty-l1 *l1-l2 *l2)/ (2 *l1 *l2);
			if (cos <-1)
				cos=-1;
			else if (cos > 1)cos=1;
			a2=Math.acos(cos)*bendDir;
			a=l1+l2 *cos;
			b=l2 *Math.sin(a2);
			a1=Math.atan2(ty *a-tx *b,tx *a+ty *b);
			}else {
			a=psx *l2;
			b=psy *l2;
			var aa=a *a,bb=b *b,dd=tx *tx+ty *ty,ta=Math.atan2(ty,tx);
			c=bb *l1 *l1+aa *dd-aa *bb;
			var c1=-2 *bb *l1,c2=bb-aa;
			d=c1 *c1-4 *c2 *c;
			if (d > 0){
				var q=Math.sqrt(d);
				if (c1 < 0)q=-q;
				q=-(c1+q)/ 2;
				var r0=q / c2,r1=c / q;
				var r=Math.abs(r0)< Math.abs(r1)? r0 :r1;
				if (r *r <=dd){
					y=Math.sqrt(dd-r *r)*bendDir;
					a1=ta-Math.atan2(y,r);
					a2=Math.atan2(y / psy,(r-l1)/ psx);
				}
			};
			var minAngle=0,minDist=Number.MAX_VALUE,minX=0,minY=0;
			var maxAngle=0,maxDist=0,maxX=0,maxY=0;
			x=l1+a;
			d=x *x;
			if (d > maxDist){
				maxAngle=0;
				maxDist=d;
				maxX=x;
			}
			x=l1-a;
			d=x *x;
			if (d < minDist){
				minAngle=Math.PI;
				minDist=d;
				minX=x;
			};
			var angle=Math.acos(-a *l1 / (aa-bb));
			x=a *Math.cos(angle)+l1;
			y=b *Math.sin(angle);
			d=x *x+y *y;
			if (d < minDist){
				minAngle=angle;
				minDist=d;
				minX=x;
				minY=y;
			}
			if (d > maxDist){
				maxAngle=angle;
				maxDist=d;
				maxX=x;
				maxY=y;
			}
			if (dd <=(minDist+maxDist)/ 2){
				a1=ta-Math.atan2(minY *bendDir,minX);
				a2=minAngle *bendDir;
				}else {
				a1=ta-Math.atan2(maxY *bendDir,maxX);
				a2=maxAngle *bendDir;
			}
		};
		var os=Math.atan2(cy,cx)*s2;
		var rotation=parent.resultTransform.skX;
		a1=(a1-os)*IkConstraint.radDeg+os1-rotation;
		if (a1 > 180)
			a1-=360;
		else if (a1 <-180)a1+=360;
		parent.resultTransform.x=px;
		parent.resultTransform.y=py;
		parent.resultTransform.skX=parent.resultTransform.skY=rotation+a1 *alpha;
		rotation=child.resultTransform.skX;
		rotation=rotation % 360;
		a2=((a2+os)*IkConstraint.radDeg-0)*s2+os2-rotation;
		if (a2 > 180)
			a2-=360;
		else if (a2 <-180)a2+=360;
		child.resultTransform.x=cx;
		child.resultTransform.y=cy;
		child.resultTransform.skX=child.resultTransform.skY=child.resultTransform.skY+a2 *alpha;
		parent.update();
	}

	__proto._applyIk3=function(parent,child,targetX,targetY,bendDir,alpha){
		if (alpha==0){
			return;
		};
		var cwx=NaN,cwy=NaN;
		var x=child.resultMatrix.a *child.length;
		var y=child.resultMatrix.b *child.length;
		var lLL=x *x+y *y;
		var lL=Math.sqrt(lLL);
		var parentX=parent.resultMatrix.tx;
		var parentY=parent.resultMatrix.ty;
		var childX=child.resultMatrix.tx;
		var childY=child.resultMatrix.ty;
		var dX=childX-parentX;
		var dY=childY-parentY;
		var lPP=dX *dX+dY *dY;
		var lP=Math.sqrt(lPP);
		dX=targetX-parent.resultMatrix.tx;
		dY=targetY-parent.resultMatrix.ty;
		var lTT=dX *dX+dY *dY;
		var lT=Math.sqrt(lTT);
		var ikRadianA=0;
		if (lL+lP <=lT || lT+lL <=lP || lT+lP <=lL){
			var rate=NaN;
			if (lL+lP <=lT){
				rate=1;
				}else{
				rate=-1;
			}
			childX=parentX+rate*(targetX-parentX)*lP / lT;
			childY=parentY+rate*(targetY-parentY)*lP / lT;
		}
		else{
			var h=(lPP-lLL+lTT)/ (2 *lTT);
			var r=Math.sqrt(lPP-h *h *lTT)/ lT;
			var hX=parentX+(dX *h);
			var hY=parentY+(dY *h);
			var rX=-dY *r;
			var rY=dX *r;
			if (bendDir>0){
				childX=hX-rX;
				childY=hY-rY;
			}
			else{
				childX=hX+rX;
				childY=hY+rY;
			}
		}
		cwx=childX;
		cwy=childY;
		if (this.isDebug){
			if (!this._sp){
				this._sp=new Sprite();
				Laya.stage.addChild(this._sp);
			}
			this._sp.graphics.clear(true);
			this._sp.graphics.drawCircle(parentX,parentY,15,"#ff00ff");
			this._sp.graphics.drawCircle(targetX,targetY,15,"#ffff00");
			this._sp.graphics.drawCircle(cwx,cwy,15,"#ff00ff");
		};
		var pRotation=NaN;
		pRotation=Math.atan2(cwy-parent.resultMatrix.ty,cwx-parent.resultMatrix.tx);
		parent.setRotation(pRotation);
		var pTarMatrix;
		pTarMatrix=IkConstraint._tempMatrix;
		pTarMatrix.identity();
		pTarMatrix.rotate(pRotation);
		pTarMatrix.scale(parent.resultMatrix.getScaleX(),parent.resultMatrix.getScaleY());
		pTarMatrix.translate(parent.resultMatrix.tx,parent.resultMatrix.ty);
		pTarMatrix.copyTo(parent.resultMatrix);
		parent.updateChild();
		var childRotation=NaN;
		childRotation=Math.atan2(targetY-cwy,targetX-cwx);
		child.setRotation(childRotation);
		var childTarMatrix;
		childTarMatrix=IkConstraint._tempMatrix;
		childTarMatrix.identity();
		childTarMatrix.rotate(childRotation);
		childTarMatrix.scale(child.resultMatrix.getScaleX(),child.resultMatrix.getScaleY());
		childTarMatrix.translate(cwx,cwy);
		pTarMatrix.copyTo(child.resultMatrix);
		child.updateChild();
	}

	__static(IkConstraint,
	['radDeg',function(){return this.radDeg=180 / Math.PI;},'degRad',function(){return this.degRad=Math.PI / 180;},'_tempMatrix',function(){return this._tempMatrix=new Matrix();}
	]);
	return IkConstraint;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/IkConstraintData.as=======199.999703/199.999703
/**
*@private
*/
//class laya.ani.bone.IkConstraintData
var IkConstraintData=(function(){
	function IkConstraintData(){
		this.name=null;
		this.targetBoneName=null;
		this.bendDirection=1;
		this.mix=1;
		this.isSpine=true;
		this.targetBoneIndex=-1;
		this.boneNames=[];
		this.boneIndexs=[];
	}

	__class(IkConstraintData,'laya.ani.bone.IkConstraintData');
	return IkConstraintData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/MeshTools.as=======199.999702/199.999702
/**
*@private
*Mesh数据处理工具
*@version 1.0
*
*@created 2017-4-28 下午2:46:23
*/
//class laya.ani.bone.MeshTools
var MeshTools=(function(){
	function MeshTools(){}
	__class(MeshTools,'laya.ani.bone.MeshTools');
	MeshTools.findEdge=function(verticles,offI,min){
		(offI===void 0)&& (offI=0);
		(min===void 0)&& (min=true);
		var i=0,len=0;
		var tIndex=0;
		len=verticles.length;
		tIndex=-1;
		for (i=0;i < len;i+=2){
			if (tIndex < 0 || (min==(verticles[tIndex+offI] < verticles[i+offI]))){
				tIndex=i;
			}
		}
		return tIndex;
	}

	MeshTools.findBestTriangle=function(verticles){
		var topI=0;
		topI=MeshTools.findEdge(verticles,1,true);
		var bottomI=0;
		bottomI=MeshTools.findEdge(verticles,1,false);
		var leftI=0;
		leftI=MeshTools.findEdge(verticles,0,true);
		var rightI=0;
		rightI=MeshTools.findEdge(verticles,0,false);
		var rst;
		rst=MeshTools._bestTriangle;
		rst.length=0;
		rst.push(leftI,rightI);
		if (rst.indexOf(topI)< 0)rst.push(topI);
		if (rst.indexOf(bottomI)< 0)rst.push(bottomI);
		return rst;
	}

	MeshTools.solveMesh=function(mesh,rst){
		rst=rst||[];
		rst.length=0;
		var mUv;
		mUv=mesh.uvs;
		var mVer;
		mVer=mesh.vertices;
		var uvAbs;
		var indexs;
		indexs=MeshTools.findBestTriangle(mUv);
		var index0=0;
		var index1=0;
		var index2=0;
		index0=indexs[0];
		index1=indexs[1];
		index2=indexs[2];
		MeshTools._absArr.length=0;
		uvAbs=MeshTools.solvePoints(mesh.texture.uv,mUv[index0],mUv[index0+1],mUv[index1]-mUv[index0],mUv[index1+1]-mUv[index0+1],mUv[index2]-mUv[index0],mUv[index2+1]-mUv[index0+1],MeshTools._absArr);
		var newVerticles;
		newVerticles=MeshTools.transPoints(uvAbs,mVer[index0],mVer[index0+1],mVer[index1]-mVer[index0],mVer[index1+1]-mVer[index0+1],mVer[index2]-mVer[index0],mVer[index2+1]-mVer[index0+1],rst);
		return newVerticles;
	}

	MeshTools.solvePoints=function(pointList,oX,oY,v1x,v1y,v2x,v2y,rst){
		rst=rst||[];
		var i=0,len=0;
		len=pointList.length;
		var tRst;
		for (i=0;i < len;i+=2){
			tRst=MeshTools.solve2(pointList[i],pointList[i+1],oX,oY,v1x,v1y,v2x,v2y);
			rst.push(tRst[0],tRst[1]);
		}
		return rst;
	}

	MeshTools.transPoints=function(abs,oX,oY,v1x,v1y,v2x,v2y,rst){
		rst=rst|| [];
		var i=0,len=0;
		len=abs.length;
		var tRst;
		for (i=0;i < len;i+=2){
			tRst=MeshTools.transPoint(abs[i],abs[i+1],oX,oY,v1x,v1y,v2x,v2y,rst);
		}
		return rst;
	}

	MeshTools.transPoint=function(a,b,oX,oY,v1x,v1y,v2x,v2y,rst){
		rst=rst|| [];
		var nX=NaN;
		var nY=NaN;
		nX=oX+v1x *a+v2x *b;
		nY=oY+v1y *a+v2y *b;
		rst.push(nX,nY)
		return rst;
	}

	MeshTools.solve2=function(rx,ry,oX,oY,v1x,v1y,v2x,v2y,rv,rst){
		(rv===void 0)&& (rv=false);
		rst=rst||[];
		var a=NaN,b=NaN;
		if (v1x==0){
			return MeshTools.solve2(rx,ry,oX,oY,v2x,v2y,v1x,v1y,true,rst);
		};
		var dX=NaN;
		var dY=NaN;
		dX=rx-oX;
		dY=ry-oY;
		b=(dY-dX *v1y / v1x)/ (v2y-v2x *v1y / v1x);
		a=(dX-b *v2x)/ v1x;
		if(rv){
			rst.push(b,a);
			}else{
			rst.push(a,b);
		}
		return rst;
	}

	MeshTools.solve=function(pointC,point0,v1,v2){
		return MeshTools.solve2(pointC.x,pointC.y,point0.x,point0.y,v1.x,v1.y,v2.x,v2.y);
	}

	MeshTools._bestTriangle=[];
	MeshTools._absArr=[];
	return MeshTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/PathConstraint.as=======199.999701/199.999701
/**
*@private
*路径作用器
*1，生成根据骨骼计算控制点
*2，根据控制点生成路径，并计算路径上的节点
*3，根据节点，重新调整骨骼位置
*/
//class laya.ani.bone.PathConstraint
var PathConstraint=(function(){
	function PathConstraint(data,bones){
		this.target=null;
		this.data=null;
		this.bones=null;
		this.position=NaN;
		this.spacing=NaN;
		this.rotateMix=NaN;
		this.translateMix=NaN;
		this._debugKey=false;
		this._spaces=null;
		this._segments=[];
		this._curves=[];
		this.data=data;
		this.position=data.position;
		this.spacing=data.spacing;
		this.rotateMix=data.rotateMix;
		this.translateMix=data.translateMix;
		this.bones=[];
		var tBoneIds=this.data.bones;
		for (var i=0,n=tBoneIds.length;i < n;i++){
			this.bones.push(bones[tBoneIds[i]]);
		}
	}

	__class(PathConstraint,'laya.ani.bone.PathConstraint');
	var __proto=PathConstraint.prototype;
	/**
	*计算骨骼在路径上的节点
	*@param boneSlot
	*@param boneMatrixArray
	*@param graphics
	*/
	__proto.apply=function(boneList,graphics){
		var tTranslateMix=this.translateMix;
		var tRotateMix=this.translateMix;
		var tTranslate=tTranslateMix > 0;
		var tRotate=tRotateMix > 0;
		var tSpacingMode=this.data.spacingMode;
		var tLengthSpacing=tSpacingMode=="length";
		var tRotateMode=this.data.rotateMode;
		var tTangents=tRotateMode=="tangent";
		var tScale=tRotateMode=="chainScale";
		var lengths=[];
		var boneCount=this.bones.length;
		var spacesCount=tTangents ? boneCount :boneCount+1;
		var spaces=[];
		this._spaces=spaces;
		spaces[0]=this.position;
		var spacing=this.spacing;
		if (tScale || tLengthSpacing){
			for (var i=0,n=spacesCount-1;i < n;){
				var bone=this.bones[i];
				var length=bone.length;
				var x=length *bone.resultMatrix.a;
				var y=length *bone.resultMatrix.b;
				length=Math.sqrt(x *x+y *y);
				if (tScale)
					lengths[i]=length;
				spaces[++i]=tLengthSpacing ? Math.max(0,length+spacing):spacing;
			}
		}
		else {
			for (i=1;i < spacesCount;i++){
				spaces[i]=spacing;
			}
		};
		var positions=this.computeWorldPositions(this.target,boneList,graphics,spacesCount,tTangents,this.data.positionMode=="percent",tSpacingMode=="percent");
		if (this._debugKey){
			for (i=0;i < positions.length;i++){
				graphics.drawCircle(positions[i++],positions[i++],5,"#00ff00");
			};
			var tLinePos=[];
			for (i=0;i < positions.length;i++){
				tLinePos.push(positions[i++],positions[i++]);
			}
			graphics.drawLines(0,0,tLinePos,"#ff0000");
		};
		var skeletonX=NaN;
		var skeletonY=NaN;
		var boneX=positions[0];
		var boneY=positions[1];
		var offsetRotation=this.data.offsetRotation;
		var tip=tRotateMode=="chain" && offsetRotation==0;
		var p=NaN;
		for (i=0,p=3;i < boneCount;i++,p+=3){
			bone=this.bones[i];
			bone.resultMatrix.tx+=(boneX-bone.resultMatrix.tx)*tTranslateMix;
			bone.resultMatrix.ty+=(boneY-bone.resultMatrix.ty)*tTranslateMix;
			x=positions[p];
			y=positions[p+1];
			var dx=x-boneX,dy=y-boneY;
			if (tScale){
				length=lengths[i];
				if (length !=0){
					var s=(Math.sqrt(dx *dx+dy *dy)/ length-1)*tRotateMix+1;
					bone.resultMatrix.a *=s;
					bone.resultMatrix.c *=s;
				}
			}
			boneX=x;
			boneY=y;
			if (tRotate){
				var a=bone.resultMatrix.a;
				var b=bone.resultMatrix.c;
				var c=bone.resultMatrix.b;
				var d=bone.resultMatrix.d;
				var r=NaN;
				var cos=NaN;
				var sin=NaN;
				if (tTangents){
					r=positions[p-1];
				}
				else if (spaces[i+1]==0){
					r=positions[p+2];
				}
				else {
					r=Math.atan2(dy,dx);
				}
				r-=Math.atan2(c,a)-offsetRotation / 180 *Math.PI;
				if (tip){
					cos=Math.cos(r);
					sin=Math.sin(r);
					length=bone.length;
					boneX+=(length *(cos *a-sin *c)-dx)*tRotateMix;
					boneY+=(length *(sin *a+cos *c)-dy)*tRotateMix;
				}
				if (r > Math.PI){
					r-=(Math.PI *2);
				}
				else if (r <-Math.PI){
					r+=(Math.PI *2);
				}
				r *=tRotateMix;
				cos=Math.cos(r);
				sin=Math.sin(r);
				bone.resultMatrix.a=cos *a-sin *c;
				bone.resultMatrix.c=cos *b-sin *d;
				bone.resultMatrix.b=sin *a+cos *c;
				bone.resultMatrix.d=sin *b+cos *d;
			}
		}
	}

	/**
	*计算顶点的世界坐标
	*@param boneSlot
	*@param boneList
	*@param start
	*@param count
	*@param worldVertices
	*@param offset
	*/
	__proto.computeWorldVertices2=function(boneSlot,boneList,start,count,worldVertices,offset){
		var tBones=boneSlot.currDisplayData.bones;
		var tWeights=boneSlot.currDisplayData.weights;
		var tTriangles=boneSlot.currDisplayData.triangles;
		var tMatrix;
		var i=0;
		var v=0;
		var skip=0;
		var n=0;
		var w=0;
		var b=0;
		var wx=0;
		var wy=0;
		var vx=0;
		var vy=0;
		var bone;
		var len=0;
		if (tBones==null){
			if (!tTriangles)tTriangles=tWeights;
			if (boneSlot.deformData)
				tTriangles=boneSlot.deformData;
			var parentName;
			parentName=boneSlot.parent;
			if (boneList){
				len=boneList.length;
				for (i=0;i < len;i++){
					if (boneList[i].name==parentName){
						bone=boneList[i];
						break ;
					}
				}
			};
			var tBoneMt;
			if (bone){
				tBoneMt=bone.resultMatrix;
			}
			if (!tBoneMt)tBoneMt=PathConstraint._tempMt;
			var x=tBoneMt.tx;
			var y=tBoneMt.ty;
			var a=tBoneMt.a,bb=tBoneMt.b,c=tBoneMt.c,d=tBoneMt.d;
			if(bone)d*=bone.d;
			for (v=start,w=offset;w < count;v+=2,w+=2){
				vx=tTriangles[v],vy=tTriangles[v+1];
				worldVertices[w]=vx *a+vy *bb+x;
				worldVertices[w+1]=-(vx *c+vy *d+y);
			}
			return;
		}
		for (i=0;i < start;i+=2){
			n=tBones[v];
			v+=n+1;
			skip+=n;
		};
		var skeletonBones=boneList;
		for (w=offset,b=skip *3;w < count;w+=2){
			wx=0,wy=0;
			n=tBones[v++];
			n+=v;
			for (;v < n;v++,b+=3){
				tMatrix=skeletonBones[tBones[v]].resultMatrix;
				vx=tWeights[b];
				vy=tWeights[b+1];
				var weight=tWeights[b+2];
				wx+=(vx *tMatrix.a+vy *tMatrix.c+tMatrix.tx)*weight;
				wy+=(vx *tMatrix.b+vy *tMatrix.d+tMatrix.ty)*weight;
			}
			worldVertices[w]=wx;
			worldVertices[w+1]=wy;
		}
	}

	/**
	*计算路径上的节点
	*@param boneSlot
	*@param boneList
	*@param graphics
	*@param spacesCount
	*@param tangents
	*@param percentPosition
	*@param percentSpacing
	*@return
	*/
	__proto.computeWorldPositions=function(boneSlot,boneList,graphics,spacesCount,tangents,percentPosition,percentSpacing){
		var tBones=boneSlot.currDisplayData.bones;
		var tWeights=boneSlot.currDisplayData.weights;
		var tTriangles=boneSlot.currDisplayData.triangles;
		var tRx=0;
		var tRy=0;
		var nn=0;
		var tMatrix;
		var tX=NaN;
		var tY=NaN;
		var tB=0;
		var tWeight=0;
		var tVertices=[];
		var i=0,j=0,n=0;
		var verticesLength=boneSlot.currDisplayData.verLen;
		var target=boneSlot;
		var position=this.position;
		var spaces=this._spaces;
		var world=[];
		var out=[];
		var closed=false;
		var curveCount=verticesLength / 6;
		var prevCurve=-1;
		var pathLength=NaN;
		var o=0,curve=0;
		var p=NaN;
		var space=NaN;
		var prev=NaN;
		var length=NaN;
		if (!true){
			var lengths=boneSlot.currDisplayData.lengths;
			curveCount-=closed ? 1 :2;
			pathLength=lengths[curveCount];
			if (percentPosition)
				position *=pathLength;
			if (percentSpacing){
				for (i=0;i < spacesCount;i++)
				spaces[i] *=pathLength;
			}
			world.length=8;
			for (i=0,o=0,curve=0;i < spacesCount;i++,o+=3){
				space=spaces[i];
				position+=space;
				p=position;
				if (closed){
					p %=pathLength;
					if (p < 0)
						p+=pathLength;
					curve=0;
				}
				else if (p < 0){
					if (prevCurve !=PathConstraint.BEFORE){
						prevCurve=PathConstraint.BEFORE;
						this.computeWorldVertices2(target,boneList,2,4,world,0);
					}
					this.addBeforePosition(p,world,0,out,o);
					continue ;
				}
				else if (p > pathLength){
					if (prevCurve !=PathConstraint.AFTER){
						prevCurve=PathConstraint.AFTER;
						this.computeWorldVertices2(target,boneList,verticesLength-6,4,world,0);
					}
					this.addAfterPosition(p-pathLength,world,0,out,o);
					continue ;
				}
				for (;;curve++){
					length=lengths[curve];
					if (p > length)
						continue ;
					if (curve==0)
						p /=length;
					else {
						prev=lengths[curve-1];
						p=(p-prev)/ (length-prev);
					}
					break ;
				}
				if (curve !=prevCurve){
					prevCurve=curve;
					if (closed && curve==curveCount){
						this.computeWorldVertices2(target,boneList,verticesLength-4,4,world,0);
						this.computeWorldVertices2(target,boneList,0,4,world,4);
					}
					else
					this.computeWorldVertices2(target,boneList,curve *6+2,8,world,0);
				}
				this.addCurvePosition(p,world[0],world[1],world[2],world[3],world[4],world[5],world[6],world[7],out,o,tangents || (i > 0 && space==0));
			}
			return out;
		}
		if (closed){
			verticesLength+=2;
			world[verticesLength-2]=world[0];
			world[verticesLength-1]=world[1];
		}
		else {
			curveCount--;
			verticesLength-=4;
			this.computeWorldVertices2(boneSlot,boneList,2,verticesLength,tVertices,0);
			if (this._debugKey){
				for (i=0;i < tVertices.length;){
					graphics.drawCircle(tVertices[i++],tVertices[i++],10,"#ff0000");
				}
			}
			world=tVertices;
		}
		this._curves.length=curveCount;
		var curves=this._curves;
		pathLength=0;
		var x1=world[0],y1=world[1],cx1=0,cy1=0,cx2=0,cy2=0,x2=0,y2=0;
		var tmpx=NaN,tmpy=NaN,dddfx=NaN,dddfy=NaN,ddfx=NaN,ddfy=NaN,dfx=NaN,dfy=NaN;
		var w=0;
		for (i=0,w=2;i < curveCount;i++,w+=6){
			cx1=world[w];
			cy1=world[w+1];
			cx2=world[w+2];
			cy2=world[w+3];
			x2=world[w+4];
			y2=world[w+5];
			tmpx=(x1-cx1 *2+cx2)*0.1875;
			tmpy=(y1-cy1 *2+cy2)*0.1875;
			dddfx=((cx1-cx2)*3-x1+x2)*0.09375;
			dddfy=((cy1-cy2)*3-y1+y2)*0.09375;
			ddfx=tmpx *2+dddfx;
			ddfy=tmpy *2+dddfy;
			dfx=(cx1-x1)*0.75+tmpx+dddfx *0.16666667;
			dfy=(cy1-y1)*0.75+tmpy+dddfy *0.16666667;
			pathLength+=Math.sqrt(dfx *dfx+dfy *dfy);
			dfx+=ddfx;
			dfy+=ddfy;
			ddfx+=dddfx;
			ddfy+=dddfy;
			pathLength+=Math.sqrt(dfx *dfx+dfy *dfy);
			dfx+=ddfx;
			dfy+=ddfy;
			pathLength+=Math.sqrt(dfx *dfx+dfy *dfy);
			dfx+=ddfx+dddfx;
			dfy+=ddfy+dddfy;
			pathLength+=Math.sqrt(dfx *dfx+dfy *dfy);
			curves[i]=pathLength;
			x1=x2;
			y1=y2;
		}
		if (percentPosition)
			position *=pathLength;
		if (percentSpacing){
			for (i=0;i < spacesCount;i++)
			spaces[i] *=pathLength;
		};
		var segments=this._segments;
		var curveLength=0;
		var segment=0;
		for (i=0,o=0,curve=0,segment=0;i < spacesCount;i++,o+=3){
			space=spaces[i];
			position+=space;
			p=position;
			if (closed){
				p %=pathLength;
				if (p < 0)
					p+=pathLength;
				curve=0;
			}
			else if (p < 0){
				this.addBeforePosition(p,world,0,out,o);
				continue ;
			}
			else if (p > pathLength){
				this.addAfterPosition(p-pathLength,world,verticesLength-4,out,o);
				continue ;
			}
			for (;;curve++){
				length=curves[curve];
				if (p > length)
					continue ;
				if (curve==0)
					p /=length;
				else {
					prev=curves[curve-1];
					p=(p-prev)/ (length-prev);
				}
				break ;
			}
			if (curve !=prevCurve){
				prevCurve=curve;
				var ii=curve *6;
				x1=world[ii];
				y1=world[ii+1];
				cx1=world[ii+2];
				cy1=world[ii+3];
				cx2=world[ii+4];
				cy2=world[ii+5];
				x2=world[ii+6];
				y2=world[ii+7];
				tmpx=(x1-cx1 *2+cx2)*0.03;
				tmpy=(y1-cy1 *2+cy2)*0.03;
				dddfx=((cx1-cx2)*3-x1+x2)*0.006;
				dddfy=((cy1-cy2)*3-y1+y2)*0.006;
				ddfx=tmpx *2+dddfx;
				ddfy=tmpy *2+dddfy;
				dfx=(cx1-x1)*0.3+tmpx+dddfx *0.16666667;
				dfy=(cy1-y1)*0.3+tmpy+dddfy *0.16666667;
				curveLength=Math.sqrt(dfx *dfx+dfy *dfy);
				segments[0]=curveLength;
				for (ii=1;ii < 8;ii++){
					dfx+=ddfx;
					dfy+=ddfy;
					ddfx+=dddfx;
					ddfy+=dddfy;
					curveLength+=Math.sqrt(dfx *dfx+dfy *dfy);
					segments[ii]=curveLength;
				}
				dfx+=ddfx;
				dfy+=ddfy;
				curveLength+=Math.sqrt(dfx *dfx+dfy *dfy);
				segments[8]=curveLength;
				dfx+=ddfx+dddfx;
				dfy+=ddfy+dddfy;
				curveLength+=Math.sqrt(dfx *dfx+dfy *dfy);
				segments[9]=curveLength;
				segment=0;
			}
			p *=curveLength;
			for (;;segment++){
				length=segments[segment];
				if (p > length)
					continue ;
				if (segment==0)
					p /=length;
				else {
					prev=segments[segment-1];
					p=segment+(p-prev)/ (length-prev);
				}
				break ;
			}
			this.addCurvePosition(p *0.1,x1,y1,cx1,cy1,cx2,cy2,x2,y2,out,o,tangents || (i > 0 && space==0));
		}
		return out;
	}

	__proto.addBeforePosition=function(p,temp,i,out,o){
		var x1=temp[i],y1=temp[i+1],dx=temp[i+2]-x1,dy=temp[i+3]-y1,r=Math.atan2(dy,dx);
		out[o]=x1+p *Math.cos(r);
		out[o+1]=y1+p *Math.sin(r);
		out[o+2]=r;
	}

	__proto.addAfterPosition=function(p,temp,i,out,o){
		var x1=temp[i+2],y1=temp[i+3],dx=x1-temp[i],dy=y1-temp[i+1],r=Math.atan2(dy,dx);
		out[o]=x1+p *Math.cos(r);
		out[o+1]=y1+p *Math.sin(r);
		out[o+2]=r;
	}

	__proto.addCurvePosition=function(p,x1,y1,cx1,cy1,cx2,cy2,x2,y2,out,o,tangents){
		if (p==0)
			p=0.0001;
		var tt=p *p,ttt=tt *p,u=1-p,uu=u *u,uuu=uu *u;
		var ut=u *p,ut3=ut *3,uut3=u *ut3,utt3=ut3 *p;
		var x=x1 *uuu+cx1 *uut3+cx2 *utt3+x2 *ttt,y=y1 *uuu+cy1 *uut3+cy2 *utt3+y2 *ttt;
		out[o]=x;
		out[o+1]=y;
		if (tangents){
			out[o+2]=Math.atan2(y-(y1 *uu+cy1 *ut *2+cy2 *tt),x-(x1 *uu+cx1 *ut *2+cx2 *tt));
		}
		else {
			out[o+2]=0;
		}
	}

	PathConstraint.NONE=-1;
	PathConstraint.BEFORE=-2;
	PathConstraint.AFTER=-3;
	__static(PathConstraint,
	['_tempMt',function(){return this._tempMt=new Matrix();}
	]);
	return PathConstraint;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/PathConstraintData.as=======199.999700/199.999700
/**
*@private
*/
//class laya.ani.bone.PathConstraintData
var PathConstraintData=(function(){
	function PathConstraintData(){
		this.name=null;
		this.target=null;
		this.positionMode=null;
		this.spacingMode=null;
		this.rotateMode=null;
		this.offsetRotation=NaN;
		this.position=NaN;
		this.spacing=NaN;
		this.rotateMix=NaN;
		this.translateMix=NaN;
		this.bones=[];
	}

	__class(PathConstraintData,'laya.ani.bone.PathConstraintData');
	return PathConstraintData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/SkinData.as=======199.999698/199.999698
/**
*@private
*/
//class laya.ani.bone.SkinData
var SkinData=(function(){
	function SkinData(){
		this.name=null;
		this.slotArr=[];
	}

	__class(SkinData,'laya.ani.bone.SkinData');
	return SkinData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/SkinSlotDisplayData.as=======199.999697/199.999697
/**
*@private
*/
//class laya.ani.bone.SkinSlotDisplayData
var SkinSlotDisplayData=(function(){
	function SkinSlotDisplayData(){
		this.name=null;
		this.attachmentName=null;
		this.type=0;
		this.transform=null;
		this.width=NaN;
		this.height=NaN;
		this.texture=null;
		this.bones=null;
		this.uvs=null;
		this.weights=null;
		this.triangles=null;
		this.vertices=null;
		this.lengths=null;
		this.verLen=0;
	}

	__class(SkinSlotDisplayData,'laya.ani.bone.SkinSlotDisplayData');
	var __proto=SkinSlotDisplayData.prototype;
	__proto.createTexture=function(currTexture){
		if (this.texture)return this.texture;
		this.texture=new Texture(currTexture.bitmap,this.uvs,currTexture.sourceWidth,currTexture.sourceWidth);
		if (this.uvs[0] > this.uvs[4]
			&& this.uvs[1] > this.uvs[5]){
			this.texture.width=currTexture.height;
			this.texture.height=currTexture.width;
			this.texture.offsetX=-currTexture.offsetX;
			this.texture.offsetY=-currTexture.offsetY;
			}else {
			this.texture.width=currTexture.width;
			this.texture.height=currTexture.height;
			this.texture.offsetX=-currTexture.offsetX;
			this.texture.offsetY=-currTexture.offsetY;
		}
		return this.texture;
	}

	__proto.destory=function(){
		if (this.texture)this.texture.destroy();
	}

	return SkinSlotDisplayData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/SlotData.as=======199.999696/199.999696
/**
*@private
*/
//class laya.ani.bone.SlotData
var SlotData=(function(){
	function SlotData(){
		this.name=null;
		this.displayArr=[];
	}

	__class(SlotData,'laya.ani.bone.SlotData');
	var __proto=SlotData.prototype;
	__proto.getDisplayByName=function(name){
		var tDisplay;
		for (var i=0,n=this.displayArr.length;i < n;i++){
			tDisplay=this.displayArr[i];
			if (tDisplay.attachmentName==name){
				return i;
			}
		}
		return-1;
	}

	return SlotData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/TfConstraint.as=======199.999694/199.999694
/**
*@private
*/
//class laya.ani.bone.TfConstraint
var TfConstraint=(function(){
	function TfConstraint(data,bones){
		this._data=null;
		this._bones=null;
		this.target=null;
		this.rotateMix=NaN;
		this.translateMix=NaN;
		this.scaleMix=NaN;
		this.shearMix=NaN;
		this._temp=__newvec(2,0);
		this._data=data;
		if (this._bones==null){
			this._bones=[];
		}
		this.target=bones[data.targetIndex];
		var j=0,n=0;
		for (j=0,n=data.boneIndexs.length;j < n;j++){
			this._bones.push(bones[data.boneIndexs[j]]);
		}
		this.rotateMix=data.rotateMix;
		this.translateMix=data.translateMix;
		this.scaleMix=data.scaleMix;
		this.shearMix=data.shearMix;
	}

	__class(TfConstraint,'laya.ani.bone.TfConstraint');
	var __proto=TfConstraint.prototype;
	__proto.apply=function(){
		var tTfBone;
		var ta=this.target.resultMatrix.a,tb=this.target.resultMatrix.b,tc=this.target.resultMatrix.c,td=this.target.resultMatrix.d;
		for (var j=0,n=this._bones.length;j < n;j++){
			tTfBone=this._bones[j];
			if (this.rotateMix > 0){
				var a=tTfBone.resultMatrix.a,b=tTfBone.resultMatrix.b,c=tTfBone.resultMatrix.c,d=tTfBone.resultMatrix.d;
				var r=Math.atan2(tc,ta)-Math.atan2(c,a)+this._data.offsetRotation *Math.PI / 180;
				if (r > Math.PI)
					r-=Math.PI *2;
				else if (r <-Math.PI)r+=Math.PI *2;
				r *=this.rotateMix;
				var cos=Math.cos(r),sin=Math.sin(r);
				tTfBone.resultMatrix.a=cos *a-sin *c;
				tTfBone.resultMatrix.b=cos *b-sin *d;
				tTfBone.resultMatrix.c=sin *a+cos *c;
				tTfBone.resultMatrix.d=sin *b+cos *d;
			}
			if (this.translateMix){
				this._temp[0]=this._data.offsetX;
				this._temp[1]=this._data.offsetY;
				this.target.localToWorld(this._temp);
				tTfBone.resultMatrix.tx+=(this._temp[0]-tTfBone.resultMatrix.tx)*this.translateMix;
				tTfBone.resultMatrix.ty+=(this._temp[1]-tTfBone.resultMatrix.ty)*this.translateMix;
				tTfBone.updateChild();
			}
			if (this.scaleMix > 0){
				var bs=Math.sqrt(tTfBone.resultMatrix.a *tTfBone.resultMatrix.a+tTfBone.resultMatrix.c *tTfBone.resultMatrix.c);
				var ts=Math.sqrt(ta *ta+tc *tc);
				var s=bs > 0.00001 ? (bs+(ts-bs+this._data.offsetScaleX)*this.scaleMix)/ bs :0;
				tTfBone.resultMatrix.a *=s;
				tTfBone.resultMatrix.c *=s;
				bs=Math.sqrt(tTfBone.resultMatrix.b *tTfBone.resultMatrix.b+tTfBone.resultMatrix.d *tTfBone.resultMatrix.d);
				ts=Math.sqrt(tb *tb+td *td);
				s=bs > 0.00001 ? (bs+(ts-bs+this._data.offsetScaleY)*this.scaleMix)/ bs :0;
				tTfBone.resultMatrix.b *=s;
				tTfBone.resultMatrix.d *=s;
			}
			if (this.shearMix > 0){
				b=tTfBone.resultMatrix.b,d=tTfBone.resultMatrix.d;
				var by=Math.atan2(d,b);
				r=Math.atan2(td,tb)-Math.atan2(tc,ta)-(by-Math.atan2(tTfBone.resultMatrix.c,tTfBone.resultMatrix.a));
				if (r > Math.PI)
					r-=Math.PI *2;
				else if (r <-Math.PI)r+=Math.PI *2;
				r=by+(r+this._data.offsetShearY *Math.PI / 180)*this.shearMix;
				s=Math.sqrt(b *b+d *d);
				tTfBone.resultMatrix.b=Math.cos(r)*s;
				tTfBone.resultMatrix.d=Math.sin(r)*s;
			}
		}
	}

	return TfConstraint;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/TfConstraintData.as=======199.999693/199.999693
/**
*@private
*/
//class laya.ani.bone.TfConstraintData
var TfConstraintData=(function(){
	function TfConstraintData(){
		this.name=null;
		this.targetIndex=0;
		this.rotateMix=NaN;
		this.translateMix=NaN;
		this.scaleMix=NaN;
		this.shearMix=NaN;
		this.offsetRotation=NaN;
		this.offsetX=NaN;
		this.offsetY=NaN;
		this.offsetScaleX=NaN;
		this.offsetScaleY=NaN;
		this.offsetShearY=NaN;
		this.boneIndexs=[];
	}

	__class(TfConstraintData,'laya.ani.bone.TfConstraintData');
	return TfConstraintData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/Transform.as=======199.999692/199.999692
/**
*@private
*/
//class laya.ani.bone.Transform
var Transform=(function(){
	function Transform(){
		this.skX=0;
		this.skY=0;
		this.scX=1;
		this.scY=1;
		this.x=0;
		this.y=0;
		this.skewX=0;
		this.skewY=0;
		this.mMatrix=null;
	}

	__class(Transform,'laya.ani.bone.Transform');
	var __proto=Transform.prototype;
	__proto.initData=function(data){
		if (data.x !=undefined){
			this.x=data.x;
		}
		if (data.y !=undefined){
			this.y=data.y;
		}
		if (data.skX !=undefined){
			this.skX=data.skX;
		}
		if (data.skY !=undefined){
			this.skY=data.skY;
		}
		if (data.scX !=undefined){
			this.scX=data.scX;
		}
		if (data.scY !=undefined){
			this.scY=data.scY;
		}
	}

	__proto.getMatrix=function(){
		var tMatrix;
		if (this.mMatrix){
			tMatrix=this.mMatrix;
			}else {
			tMatrix=this.mMatrix=new Matrix();
		}
		tMatrix.identity();
		tMatrix.scale(this.scX,this.scY);
		if (this.skewX || this.skewY){
			this.skew(tMatrix,this.skewX *Math.PI / 180,this.skewY *Math.PI / 180);
		}
		tMatrix.rotate(this.skX *Math.PI / 180);
		tMatrix.translate(this.x,this.y);
		return tMatrix;
	}

	__proto.skew=function(m,x,y){
		var sinX=Math.sin(y);
		var cosX=Math.cos(y);
		var sinY=Math.sin(x);
		var cosY=Math.cos(x);
		m.setTo(m.a *cosY-m.b *sinX,
		m.a *sinY+m.b *cosX,
		m.c *cosY-m.d *sinX,
		m.c *sinY+m.d *cosX,
		m.tx *cosY-m.ty *sinX,
		m.tx *sinY+m.ty *cosX);
		return m;
	}

	return Transform;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/UVTools.as=======199.999691/199.999691
/**
*用于UV转换的工具类
*@private
*/
//class laya.ani.bone.UVTools
var UVTools=(function(){
	function UVTools(){}
	__class(UVTools,'laya.ani.bone.UVTools');
	UVTools.getRelativeUV=function(bigUV,smallUV,rst){
		var startX=bigUV[0];
		var width=bigUV[2]-bigUV[0];
		var startY=bigUV[1];
		var height=bigUV[5]-bigUV[1];
		if(!rst)rst=[];
		rst.length=smallUV.length;
		var i=0,len=0;
		len=rst.length;
		var dWidth=1 / width;
		var dHeight=1 / height;
		for (i=0;i < len;i+=2){
			rst[i]=(smallUV[i]-startX)*dWidth;
			rst[i+1]=(smallUV[i+1]-startY)*dHeight;
		}
		return rst;
	}

	UVTools.getAbsoluteUV=function(bigUV,smallUV,rst){
		if (bigUV[0]==0 && bigUV[1]==0 && bigUV[4]==1 && bigUV[5]==1){
			if (rst){
				Utils.copyArray(rst,smallUV);
				return rst;
				}else{
				return smallUV;
			}
		};
		var startX=bigUV[0];
		var width=bigUV[2]-bigUV[0];
		var startY=bigUV[1];
		var height=bigUV[5]-bigUV[1];
		if(!rst)rst=[];
		rst.length=smallUV.length;
		var i=0,len=0;
		len=rst.length;
		for (i=0;i < len;i+=2){
			rst[i]=smallUV[i]*width+startX;
			rst[i+1]=smallUV[i+1]*height+startY;
		}
		return rst;
	}

	return UVTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Graphics.as=======199.999689/199.999689
/**
*<code>Graphics</code> 类用于创建绘图显示对象。Graphics可以同时绘制多个位图或者矢量图，还可以结合save，restore，transform，scale，rotate，translate，alpha等指令对绘图效果进行变化。
*Graphics以命令流方式存储，可以通过cmds属性访问所有命令流。Graphics是比Sprite更轻量级的对象，合理使用能提高应用性能(比如把大量的节点绘图改为一个节点的Graphics命令集合，能减少大量节点创建消耗)。
*@see laya.display.Sprite#graphics
*/
//class laya.display.Graphics
var Graphics=(function(){
	function Graphics(){
		/**@private */
		//this._sp=null;
		/**@private */
		this._one=null;
		/**@private */
		this._cmds=null;
		/**@private */
		//this._vectorgraphArray=null;
		/**@private */
		//this._graphicBounds=null;
		this._render=this._renderEmpty;
		this._createData();
	}

	__class(Graphics,'laya.display.Graphics');
	var __proto=Graphics.prototype;
	__proto._createData=function(){}
	__proto._clearData=function(){}
	__proto._destroyData=function(){}
	/**
	*<p>销毁此对象。</p>
	*/
	__proto.destroy=function(){
		this.clear(true);
		if (this._graphicBounds)this._graphicBounds.destroy();
		this._graphicBounds=null;
		this._vectorgraphArray=null;
		if (this._sp){
			this._sp._renderType=0;
			this._sp._setRenderType(0);
			this._sp=null;
		}
		this._destroyData();
	}

	/**
	*<p>清空绘制命令。</p>
	*@param recoverCmds 是否回收绘图指令数组，设置为true，则对指令数组进行回收以节省内存开销，建议设置为true进行回收，但如果手动引用了数组，不建议回收
	*/
	__proto.clear=function(recoverCmds){
		(recoverCmds===void 0)&& (recoverCmds=true);
		if (recoverCmds){
			var tCmd=this._one;
			if (this._cmds){
				var i=0,len=this._cmds.length;
				for (i=0;i < len;i++){
					tCmd=this._cmds[i];
					tCmd.recover();
				}
				this._cmds.length=0;
				}else if (tCmd){
				tCmd.recover();
			}
			}else {
			this._cmds=null;
		}
		this._one=null;
		this._render=this._renderEmpty;
		this._clearData();
		if (this._sp){
			this._sp._renderType &=~0x200;
			this._sp._setRenderType(this._sp._renderType);
		}
		this._repaint();
		if (this._vectorgraphArray){
			for (i=0,len=this._vectorgraphArray.length;i < len;i++){
				VectorGraphManager.getInstance().deleteShape(this._vectorgraphArray[i]);
			}
			this._vectorgraphArray.length=0;
		}
	}

	/**@private */
	__proto._clearBoundsCache=function(){
		if(this._graphicBounds)this._graphicBounds.reset();
	}

	/**@private */
	__proto._initGraphicBounds=function(){
		if (!this._graphicBounds){
			this._graphicBounds=GraphicsBounds.create();
			this._graphicBounds._graphics=this;
		}
	}

	/**
	*@private
	*重绘此对象。
	*/
	__proto._repaint=function(){
		this._clearBoundsCache();
		this._sp && this._sp.repaint();
	}

	/**@private */
	__proto._isOnlyOne=function(){
		return !this._cmds || this._cmds.length===0;
	}

	/**
	*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 位置与宽高组成的 一个 Rectangle 对象。
	*/
	__proto.getBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		this._initGraphicBounds();
		return this._graphicBounds.getBounds(realSize);
	}

	/**
	*@private
	*@param realSize （可选）使用图片的真实大小，默认为false
	*获取端点列表。
	*/
	__proto.getBoundPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		this._initGraphicBounds();
		return this._graphicBounds.getBoundPoints(realSize);
	}

	/**
	*
	*@param tex
	*@param x
	*@param y
	*@param width
	*@param height
	*/
	__proto.drawImage=function(texture,x,y,width,height){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (!texture)return null;
		if (!width)width=texture.sourceWidth;
		if (!height)height=texture.sourceHeight;
		if (texture.loaded){
			var wRate=width / texture.sourceWidth;
			var hRate=height / texture.sourceHeight;
			width=texture.width *wRate;
			height=texture.height *hRate;
			if (width <=0 || height <=0)return null;
			x+=texture.offsetX *wRate;
			y+=texture.offsetY *hRate;
		}
		if (this._sp){
			this._sp._renderType |=0x200;
			this._sp._setRenderType(this._sp._renderType);
		};
		var args=DrawImageCmd.create.call(this,texture,x,y,width,height);
		if (this._one==null){
			this._one=args;
			this._render=this._renderOneImg;
			}else {
			this._saveToCmd(null,args);
		}
		this._repaint();
		return args;
	}

	/**@private */
	__proto._isOneImage=function(){
		return this._render===this._renderOneImg;
	}

	/**
	*绘制纹理。
	*@param tex 纹理。
	*@param x （可选）X轴偏移量。
	*@param y （可选）Y轴偏移量。
	*@param width （可选）宽度。
	*@param height （可选）高度。
	*@param matrix （可选）矩阵信息。
	*@param alpha （可选）透明度。
	*/
	__proto.drawTexture=function(texture,x,y,width,height,matrix,alpha,color,blendMode){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		(alpha===void 0)&& (alpha=1);
		if (!texture || alpha < 0.01)return null;
		if (!texture.loaded)return null;
		if (!width)width=texture.sourceWidth;
		if (!height)height=texture.sourceHeight;
		if (texture.loaded){
			var wRate=width / texture.sourceWidth;
			var hRate=height / texture.sourceHeight;
			width=texture.width *wRate;
			height=texture.height *hRate;
			if (width <=0 || height <=0)return null;
			x+=texture.offsetX *wRate;
			y+=texture.offsetY *hRate;
		}
		if (this._sp){
			this._sp._renderType |=0x200;
			this._sp._setRenderType(this._sp._renderType);
		}
		if (!Render.isWebGL && (blendMode || color)){
			var canvas=HTMLCanvas.create("2D");
			canvas.size(width,height);
			var ctx=canvas.getContext('2d');
			ctx.drawTexture(texture,0,0,width,height);
			texture=new Texture(canvas);
			if (color){
				var filter=new ColorFilterAction();
				var colorArr=Color$1.create(color).arrColor;
				filter.data=new ColorFilter().color(colorArr[0] *255,colorArr[1] *255,colorArr[2] *255);
				filter.apply({ctx:{ctx:ctx}});
			}
		};
		var args=DrawTextureCmd.create.call(this,texture,x,y,width,height,matrix,alpha,color,blendMode);
		this._repaint();
		return this._saveToCmd(null,args);
	}

	/**
	*@private 清理贴图并替换为最新的
	*@param tex
	*/
	__proto.cleanByTexture=function(texture,x,y,width,height){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (!texture)return this.clear(true);
		if (this._one && this._render===this._renderOneImg){
			if (!width)width=texture.sourceWidth;
			if (!height)height=texture.sourceHeight;
			var wRate=width / texture.sourceWidth;
			var hRate=height / texture.sourceHeight;
			width=texture.width *wRate;
			height=texture.height *hRate;
			x+=texture.offsetX *wRate;
			y+=texture.offsetY *hRate;
			var drawImageCmd=this._one;
			drawImageCmd.texture=texture;
			drawImageCmd.x=x;
			drawImageCmd.y=y;
			drawImageCmd.width=width;
			drawImageCmd.height=height;
			this._repaint();
			}else {
			this.clear(true);
			texture && this.drawImage(texture,x,y,width,height);
		}
	}

	/**
	*批量绘制同样纹理。
	*@param tex 纹理。
	*@param pos 绘制次数和坐标。
	*/
	__proto.drawTextures=function(texture,pos){
		if (!texture)return null;
		return this._saveToCmd(Render._context._drawTextures,DrawTexturesCmd.create.call(this,texture,pos));
	}

	/**
	*绘制一组三角形
	*@param texture 纹理。
	*@param x X轴偏移量。
	*@param y Y轴偏移量。
	*@param vertices 顶点数组。
	*@param indices 顶点索引。
	*@param uvData UV数据。
	*@param matrix 缩放矩阵。
	*@param alpha alpha
	*@param color 颜色变换
	*@param blendMode blend模式
	*/
	__proto.drawTriangles=function(texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){
		(alpha===void 0)&& (alpha=1);
		return this._saveToCmd(Render._context.drawTriangles,DrawTrianglesCmd.create.call(this,texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode));
	}

	/**
	*用texture填充。
	*@param tex 纹理。
	*@param x X轴偏移量。
	*@param y Y轴偏移量。
	*@param width （可选）宽度。
	*@param height （可选）高度。
	*@param type （可选）填充类型 repeat|repeat-x|repeat-y|no-repeat
	*@param offset （可选）贴图纹理偏移
	*
	*/
	__proto.fillTexture=function(texture,x,y,width,height,type,offset){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		(type===void 0)&& (type="repeat");
		if (!texture||!texture.loaded)return null;
		return this._saveToCmd(Render._context._fillTexture,FillTextureCmd.create.call(this,texture,x,y,width,height,type,offset || Point.EMPTY,{}));
	}

	/**
	*@private
	*保存到命令流。
	*/
	__proto._saveToCmd=function(fun,args){
		if (this._sp){
			this._sp._renderType |=0x200;
			this._sp._setRenderType(this._sp._renderType);
		}
		if (this._one==null){
			this._one=args;
			this._render=this._renderOne;
			}else {
			this._render=this._renderAll;
			(this._cmds || (this._cmds=[])).length===0 && this._cmds.push(this._one);
			this._cmds.push(args);
		}
		this._repaint();
		return args;
	}

	/**
	*设置剪裁区域，超出剪裁区域的坐标不显示。
	*@param x X 轴偏移量。
	*@param y Y 轴偏移量。
	*@param width 宽度。
	*@param height 高度。
	*/
	__proto.clipRect=function(x,y,width,height){
		return this._saveToCmd(Render._context._clipRect,ClipRectCmd.create.call(this,x,y,width,height));
	}

	/**
	*在画布上绘制文本。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字号和字体，比如"20px Arial"。
	*@param color 定义文本颜色，比如"#ff0000"。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.fillText=function(text,x,y,font,color,textAlign){
		return this._saveToCmd(Render._context._fillText,FillTextCmd.create.call(this,text,x,y,font||Text.defaultFontStr(),color,textAlign));
	}

	/**
	*在画布上绘制“被填充且镶边的”文本。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字体和字号，比如"20px Arial"。
	*@param fillColor 定义文本颜色，比如"#ff0000"。
	*@param borderColor 定义镶边文本颜色。
	*@param lineWidth 镶边线条宽度。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){
		return this._saveToCmd(Render._context._fillBorderText,FillBorderTextCmd.create.call(this,text,x,y,font||Text.defaultFontStr(),fillColor,borderColor,lineWidth,textAlign));
	}

	/***@private */
	__proto.fillWords=function(words,x,y,font,color){
		return this._saveToCmd(Render._context._fillWords,FillWordsCmd.create.call(this,words,x,y,font||Text.defaultFontStr(),color));
	}

	/***@private */
	__proto.fillBorderWords=function(words,x,y,font,fillColor,borderColor,lineWidth){
		return this._saveToCmd(Render._context._fillBorderWords,FillBorderWordsCmd.create.call(this,words,x,y,font||Text.defaultFontStr(),fillColor,borderColor,lineWidth));
	}

	/**
	*在画布上绘制文本（没有填色）。文本的默认颜色是黑色。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字体和字号，比如"20px Arial"。
	*@param color 定义文本颜色，比如"#ff0000"。
	*@param lineWidth 线条宽度。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){
		return this._saveToCmd(Render._context._strokeText,StrokeTextCmd.create.call(this,text,x,y,font||Text.defaultFontStr(),color,lineWidth,textAlign));
	}

	/**
	*设置透明度。
	*@param value 透明度。
	*/
	__proto.alpha=function(alpha){
		return this._saveToCmd(Render._context._alpha,AlphaCmd.create.call(this,alpha));
	}

	/**
	*替换绘图的当前转换矩阵。
	*@param mat 矩阵。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.transform=function(matrix,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		return this._saveToCmd(Render._context._transform,TransformCmd.create.call(this,matrix,pivotX,pivotY));
	}

	/**
	*旋转当前绘图。(推荐使用transform，性能更高)
	*@param angle 旋转角度，以弧度计。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.rotate=function(angle,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		return this._saveToCmd(Render._context._rotate,RotateCmd.create.call(this,angle,pivotX,pivotY));
	}

	/**
	*缩放当前绘图至更大或更小。(推荐使用transform，性能更高)
	*@param scaleX 水平方向缩放值。
	*@param scaleY 垂直方向缩放值。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.scale=function(scaleX,scaleY,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		return this._saveToCmd(Render._context._scale,ScaleCmd.create.call(this,scaleX,scaleY,pivotX,pivotY));
	}

	/**
	*重新映射画布上的 (0,0)位置。
	*@param x 添加到水平坐标（x）上的值。
	*@param y 添加到垂直坐标（y）上的值。
	*/
	__proto.translate=function(tx,ty){
		return this._saveToCmd(Render._context._translate,TranslateCmd.create.call(this,tx,ty));
	}

	/**
	*保存当前环境的状态。
	*/
	__proto.save=function(){
		return this._saveToCmd(Render._context._save,SaveCmd.create.call(this));
	}

	/**
	*返回之前保存过的路径状态和属性。
	*/
	__proto.restore=function(){
		return this._saveToCmd(Render._context._restore,RestoreCmd.create.call(this));
	}

	/**
	*@private
	*替换文本内容。
	*@param text 文本内容。
	*@return 替换成功则值为true，否则值为flase。
	*/
	__proto.replaceText=function(text){
		this._repaint();
		var cmds=this._cmds;
		if (!cmds){
			if (this._one && this._isTextCmd(this._one)){
				this._one.text=text;
				return true;
			}
			}else {
			for (var i=cmds.length-1;i >-1;i--){
				if (this._isTextCmd(cmds[i])){
					cmds[i].text=text;
					return true;
				}
			}
		}
		return false;
	}

	/**@private */
	__proto._isTextCmd=function(cmd){
		var cmdID=cmd.cmdID;
		return cmdID=="FillText" || cmdID=="StrokeText" || cmdID=="FillBorderText";
	}

	/**
	*@private
	*替换文本颜色。
	*@param color 颜色。
	*/
	__proto.replaceTextColor=function(color){
		this._repaint();
		var cmds=this._cmds;
		if (!cmds){
			if (this._one && this._isTextCmd(this._one)){
				this._setTextCmdColor(this._one,color);
			}
			}else {
			for (var i=cmds.length-1;i >-1;i--){
				if (this._isTextCmd(cmds[i])){
					this._setTextCmdColor(cmds[i],color);
				}
			}
		}
	}

	__proto._setTextCmdColor=function(cmdO,color){
		var cmdID=cmdO.cmdID;
		switch(cmdID){
			case "FillText":
			case "StrokeText":
				cmdO.color=color;
				break ;
			case "FillBorderText":
			case "FillBorderWords":
			case "FillBorderText":
				cmdO.fillColor=color;
				break ;
			}
	}

	/**
	*加载并显示一个图片。
	*@param url 图片地址。
	*@param x （可选）显示图片的x位置。
	*@param y （可选）显示图片的y位置。
	*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。
	*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。
	*@param complete （可选）加载完成回调。
	*/
	__proto.loadImage=function(url,x,y,width,height,complete){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		var tex=Loader.getRes(url);
		if (!tex){
			tex=new Texture();
			tex.load(url);
			Loader.cacheRes(url,tex);
			tex.once("loaded",this,this.drawImage,[tex,x,y,width,height]);
			}else{
			if (!tex.loaded){
				tex.once("loaded",this,this.drawImage,[tex,x,y,width,height]);
			}else
			this.drawImage(tex,x,y,width,height);
		}
		if (complete !=null){
			tex._loaded ? complete.call(this._sp):tex.on("loaded",this._sp,complete);
		}
	}

	/**
	*@private
	*/
	__proto._renderEmpty=function(sprite,context,x,y){}
	/**
	*@private
	*/
	__proto._renderAll=function(sprite,context,x,y){
		var cmds=this._cmds,cmd;
		for (var i=0,n=cmds.length;i < n;i++){
			(cmd=cmds[i]).run(context,x,y);
		}
	}

	/**
	*@private
	*/
	__proto._renderOne=function(sprite,context,x,y){
		this._one.run(context,x,y);
	}

	/**
	*@private
	*/
	__proto._renderOneImg=function(sprite,context,x,y){
		this._one.run(context,x,y);
	}

	/**
	*绘制一条线。
	*@param fromX X轴开始位置。
	*@param fromY Y轴开始位置。
	*@param toX X轴结束位置。
	*@param toY Y轴结束位置。
	*@param lineColor 颜色。
	*@param lineWidth （可选）线条宽度。
	*/
	__proto.drawLine=function(fromX,fromY,toX,toY,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var offset=lineWidth % 2===0 ? 0 :0.5;
		return this._saveToCmd(Render._context._drawLine,DrawLineCmd.create.call(this,fromX+offset,fromY+offset,toX+offset,toY+offset,lineColor,lineWidth,tId));
	}

	/**
	*绘制一系列线段。
	*@param x 开始绘制的X轴位置。
	*@param y 开始绘制的Y轴位置。
	*@param points 线段的点集合。格式:[x1,y1,x2,y2,x3,y3...]。
	*@param lineColor 线段颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）线段宽度。
	*/
	__proto.drawLines=function(x,y,points,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		if (!points || points.length < 4)return null;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var offset=lineWidth % 2===0 ? 0 :0.5;
		return this._saveToCmd(Render._context._drawLines,DrawLinesCmd.create.call(this,x+offset,y+offset,points,lineColor,lineWidth,tId));
	}

	/**
	*绘制一系列曲线。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param points 线段的点集合，格式[controlX,controlY,anchorX,anchorY...]。
	*@param lineColor 线段颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）线段宽度。
	*/
	__proto.drawCurves=function(x,y,points,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		return this._saveToCmd(Render._context._drawCurves,DrawCurvesCmd.create.call(this,x,y,points,lineColor,lineWidth));
	}

	/**
	*绘制矩形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param width 矩形宽度。
	*@param height 矩形高度。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawRect=function(x,y,width,height,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var lineOffset=lineColor ? lineWidth :0;
		return this._saveToCmd(Render._context.drawRect,DrawRectCmd.create.call(this,x+offset,y+offset,width-lineOffset,height-lineOffset,fillColor,lineColor,lineWidth));
	}

	/**
	*绘制圆形。
	*@param x 圆点X 轴位置。
	*@param y 圆点Y 轴位置。
	*@param radius 半径。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawCircle=function(x,y,radius,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		}
		return this._saveToCmd(Render._context._drawCircle,DrawCircleCmd.create.call(this,x,y,radius-offset,fillColor,lineColor,lineWidth,tId));
	}

	/**
	*绘制扇形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param radius 扇形半径。
	*@param startAngle 开始角度。
	*@param endAngle 结束角度。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawPie=function(x,y,radius,startAngle,endAngle,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var lineOffset=lineColor ? lineWidth :0;
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		}
		return this._saveToCmd(Render._context._drawPie,DrawPieCmd.create.call(this,x+offset,y+offset,radius-lineOffset,Utils.toRadian(startAngle),Utils.toRadian(endAngle),fillColor,lineColor,lineWidth,tId));
	}

	/**
	*绘制多边形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param points 多边形的点集合。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawPoly=function(x,y,points,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
			var tIsConvexPolygon=false;
			if (points.length > 6){
				tIsConvexPolygon=false;
				}else {
				tIsConvexPolygon=true;
			}
		};
		var offset=lineColor ? (lineWidth % 2===0 ? 0 :0.5):0;
		return this._saveToCmd(Render._context._drawPoly,DrawPolyCmd.create.call(this,x+offset,y+offset,points,fillColor,lineColor,lineWidth,tIsConvexPolygon,tId));
	}

	/**
	*绘制路径。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param paths 路径集合，路径支持以下格式：[["moveTo",x,y],["lineTo",x,y],["arcTo",x1,y1,x2,y2,r],["closePath"]]。
	*@param brush （可选）刷子定义，支持以下设置{fillStyle:"#FF0000"}。
	*@param pen （可选）画笔定义，支持以下设置{strokeStyle,lineWidth,lineJoin:"bevel|round|miter",lineCap:"butt|round|square",miterLimit}。
	*/
	__proto.drawPath=function(x,y,paths,brush,pen){
		return this._saveToCmd(Render._context._drawPath,DrawPathCmd.create.call(this,x,y,paths,brush,pen));
	}

	/**
	*@private
	*命令流。存储了所有绘制命令。
	*/
	__getset(0,__proto,'cmds',function(){
		return this._cmds;
		},function(value){
		if (this._sp){
			this._sp._renderType |=0x200;
			this._sp._setRenderType(this._sp._renderType);
		}
		this._cmds=value;
		this._render=this._renderAll;
		this._repaint();
	});

	return Graphics;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/KeyFramesContent.as=======199.999688/199.999688
/**
*@private
*@author ...
*/
//class laya.ani.KeyFramesContent
var KeyFramesContent=(function(){
	function KeyFramesContent(){
		this.startTime=NaN;
		this.duration=NaN;
		this.interpolationData=null;
		//私有插值方式 [type0(插值类型),Data0(插值数据,可为空)，type1(插值类型),Data1(插值数据,可为空)] 注意：254全线性插值，255全不插值
		this.data=null;
		//=new Float32Array();
		this.dData=null;
		//=new Float32Array();
		this.nextData=null;
	}

	__class(KeyFramesContent,'laya.ani.KeyFramesContent');
	return KeyFramesContent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/math/BezierLerp.as=======199.999687/199.999687
/**
*@private
*...
*@author ww
*/
//class laya.ani.math.BezierLerp
var BezierLerp=(function(){
	function BezierLerp(){}
	__class(BezierLerp,'laya.ani.math.BezierLerp');
	BezierLerp.getBezierRate=function(t,px0,py0,px1,py1){
		var key=BezierLerp._getBezierParamKey(px0,py0,px1,py1);
		var vKey=key *100+t;
		if (BezierLerp._bezierResultCache[vKey])return BezierLerp._bezierResultCache[vKey];
		var points=BezierLerp._getBezierPoints(px0,py0,px1,py1,key);
		var i=0,len=0;
		len=points.length;
		for (i=0;i < len;i+=2){
			if (t <=points[i]){
				BezierLerp._bezierResultCache[vKey]=points[i+1];
				return points[i+1];
			}
		}
		BezierLerp._bezierResultCache[vKey]=1;
		return 1;
	}

	BezierLerp._getBezierParamKey=function(px0,py0,px1,py1){
		return (((px0 *100+py0)*100+px1)*100+py1)*100;
	}

	BezierLerp._getBezierPoints=function(px0,py0,px1,py1,key){
		if (BezierLerp._bezierPointsCache[key])return BezierLerp._bezierPointsCache[key];
		var controlPoints;
		controlPoints=[0,0,px0,py0,px1,py1,1,1];
		var bz;
		bz=new Bezier();
		var points;
		points=bz.getBezierPoints(controlPoints,100,3);
		BezierLerp._bezierPointsCache[key]=points;
		return points;
	}

	BezierLerp._bezierResultCache={};
	BezierLerp._bezierPointsCache={};
	return BezierLerp;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/async/Compile.as=======199.999685/199.999685
/**
*...
*@author guo
*/
//class laya.async.Compile
var Compile=(function(){
	function Compile(){}
	__class(Compile,'laya.async.Compile');
	Compile._eval=function(script,value){
		try{
			return window.eval(value);
		}
		catch (e){
			throw "Wait script err:\n"+e+"\n"+script+"\n----------------\n\n\n"+value;
		}
		return null;
	}

	Compile._done_laya=function(script){
		var ofs=0;
		Compile._clear();
		var srcScript=script;
		if (script.indexOf('await')>=0){
			ofs=script.indexOf("<END>");
			if (ofs > 0)script=script.substr(0,ofs);
			script=script.replace(/\r/g,'');
			script=script.replace("async","");
			var start=script.indexOf('{')+1;
			var startCode=script.substr(0,start);
			script=script.substr(start);
			var end=script.lastIndexOf('}');
			var endCode=script.substr(end);
			script=script.substr(0,end);
			Compile._analyze(script,0,laya.async.Compile.root=laya.async.Compile._createNode("",[],null));
			Compile._compile(laya.async.Compile.root,'\t');
			script="("+startCode+"\n";
			script+=laya.async.Compile.varCode;
			script+="return \n#BEGIN#";
			script+=laya.async.Compile.root.code+"\n";
			script+="\n#RUN#\n";
			script+=endCode+")";
			if (Compile.compileType=="FUNCTION"){
				script=script.replace(/\n#BEGIN#/g,'\3_$R($,[');
				script=script.replace(/\n#RUN#/g,'\3]).start($)');
				script=script.replace(/\n#END#/g,'\3])');
				script=script.replace(/\n#NEXT#/g,'\3],_T).start($)');
				script=script.replace(/\n#WHILE#/g,'\3],_T,true).next()');
				script=script.replace(/\n#SPACE#/g,'\3');
				script=script.replace(/#AWAIT#/g,'\3$.waiting=true;');
				script=script.replace(/\n#{#/g,'\3function(_T){');
					script=script.replace(/\n#}#/g,'\3},');
				script=script.replace(/\n#E}#/g,'\3}');
			script=laya.async.Compile._format(script);
		}
		else if (laya.async.Compile.compileType=="SWITCH"){
			script=script.replace(/\n#BEGIN#/g,'\3function(_line){switch(_line){');
			script=script.replace(/\n#RUN#/g,'\3}).start()');
			script=script.replace(/\n#END#/g,'\3})');
			script=script.replace(/\n#NEXT#/g,'\3},_T).start()');
			script=script.replace(/\n#WHILE#/g,'\3},_T,true).next()');
			script=script.replace(/\n#R#/g,'\3');
			script=script.replace(/#AWAIT#/g,'\3_$R._rtn=');
			script=script.replace(/\n#{#/g,'\3case 1:');
				script=script.replace(/\n#}#/g,'\3return;');
			script=laya.async.Compile._format(script);
		}
	}

	else{
		script="("+script.replace(/async/g,'')+")";
	}

	return Compile._eval(srcScript,script);
}


Compile._done_es7=function(script){
	var ofs=0;
	ofs=script.indexOf('{');
	script=script.substr(0,ofs+1)+"\n\tvar _W_=laya.async.Promise.createES7;"+script.substr(ofs+1);
	script="(async "+script+"\n)";
	var lines=script.split('\n');
	var out="";
	var str;
	for (var i=0,n=lines.length;i < n;i++){
		str=lines[i];
		if (str.length < 1)continue ;
		if ((ofs=str.indexOf('await'))< 0){
			out+=str+"\n";
			continue ;
		}
		ofs+=5;
		out+=str.substr(0,ofs);
		str=str.substr(ofs);
		var words=Compile._splitWords(str);
		ofs=words[0].lastIndexOf('.');
		if (ofs < 0)
			out+=" _W_(this,this,"+words[0]+","+str.substr(str.indexOf('(')+1);
		else
		out+=" _W_(this,"+str.substr(0,ofs)+","+words[0]+","+str.substr(str.indexOf('(')+1);
		out+="\n";
	}

	return Compile._eval(script,out);
}


Compile.done=function(script){
	if (!script)
		return null;
	if (Promise.ES7)
		return Compile._done_es7(script);
	return Compile._done_laya(script);
}


Compile._clear=function(){
	laya.async.Compile.varCode="\tvar _$R=laya.async.Promise.run;\n\tvar $={_this:this,waiting:false};\n\tvar await={sleep:laya.async.sleep};\n";
}


Compile._format=function(script){
	function _someSpace (str,sz){
		var n=str.length,s=n,i=0;
		var r="";
		for (i=0;i < s;i++)
		if (str.charAt(i)=='\t')n+=3;
		n=((sz-n)/ 4)| 0;
		for (i=0;i < n;i++)r+="\t";
		return str+r;
	};

	var lines=script.split('\n');
	var code="";
	for (var i=0,n=lines.length;i < n;i++){
		var str=lines[i];
		var ofs=str.indexOf('\3');
		if (ofs >=0)
			code+=(_someSpace(str.substr(0,ofs),80)+str.substr(ofs+1)+'\n').replace(/\3/g,'');
		else code+=str+'\n';
	}

	return code;
}


Compile._createNode=function(str,words,parent){
	return {src:str,words:words,first:words[0],childs:[],parent:parent,hasWait:false,blockOfs:0,isBlockStart:false,lastNode:null};
}


Compile._comments=function(lines,start){
	var ofs=0,str=lines[start],i=0,n=0;
	if ((ofs=str.indexOf('//'))>=0){
		str=str.substr(0,ofs);
		if (str.length < 1)return "";
	}

	if ((ofs=str.indexOf('/*'))>=0){
		str=lines[start]=str.substr(0,ofs);
		for (i=start+1,n=lines.length;i < n;i++){
			var one=lines[i];
			if ((ofs=one.indexOf('*/'))>=0){
				lines[i]=one.substr(ofs+2);
				return str;
			}
			else lines[i]="/*"+one+"*/";
		}
	}

	return str;
}


Compile._splitWords=function(s){
	return s.match(Compile._reg);
}


Compile._analyze=function(text,i,parent){
	var lines=text.split('\n');
	var ofs=0,preNode,node,lastNode;
	var childs,space;
	for (var i=0,n=lines.length;i < n;i++){
		if (lines[i].length < 1)continue ;
		var str=Compile._comments(lines,i);
		if (str.length < 1)continue ;
		var words=Compile._splitWords(str);
		if (!words || words.length < 1)continue ;
		if (words.length > 1 && words[words.length-1]=='{'){
			ofs=str.lastIndexOf('{');
			str=lines[i]=str.substr(0,ofs);
			ofs=str.indexOf(words[0]);
			lines.splice(i+1,0,str.substr(0,ofs)+'{');
			n++;
			words.length--;
		}
		node=laya.async.Compile._createNode(str,words,parent);
		if (node.first=='var'){
			ofs=node.src.indexOf('await');
			if (ofs > 0){
				Compile.varCode+="\tvar "+words[1]+";\n";
				str=str.replace("var","");
				words=Compile._splitWords(str);
				node.first=words[0];
				node.src=str;
			}
		}
		if (words[1]=='=' && words[2]=='await'){
			node.first='await';
			space=node.src.substr(0,node.src.indexOf(words[0]));
			node.src=space+words[0]+(words[3]=='sleep' ? '=await.' :'=/*await*/')+words[3]+"(this,"+node.src.substr(node.src.indexOf(words[5]));
			lines.splice(i+1,0,'#SPACE#'+words[0]+"=_T.result;");
			n++;
		}
		else if (node.first=='await'){
			space=node.src.substr(0,node.src.indexOf(words[0]));
			node.src=space+(words[1]=='sleep' ? 'await.' :'/*await*/')+words[1]+"(this,"+node.src.substr(node.src.indexOf(words[3]));
		}
		childs=parent.childs;
		switch (node.first){
			case 'break':
				node.src=node.src.replace("break","return 'break'");
				break ;
			case 'var':
				Compile.varCode+="\t"+node.src.replace(/(^\s*)|(\s*$)/g,"")+"\n";
				continue ;
			case 'if':
			case 'while':
			case 'else':
				if (lines[i+1].indexOf('{')< 0){
					space=node.src.substr(0,node.src.indexOf(words[0]));
					lines.splice(i+1,0,space+"{");
					lines.splice(i+3,0,space+"}");
					n+=2;
				}
				childs.push(parent.lastNode=node);
				childs[parent.blockOfs].isBlockStart=true;
				continue ;
			case '{':
				if (parent.lastNode.first=='while')
					parent.lastNode.isBlockStart=true;
				node.braceWithNode=parent.lastNode;
				childs.push(parent.lastNode=node);
				parent=node;
				continue ;
			case '}':
				lastNode=parent.braceWithNode;
				parent.endBlock=node;
				parent=parent.parent;
				childs=parent.childs;
				if (lastNode.first=='else'){
					childs[childs.length-2].isBlockStart=false;
					parent.blockOfs=0;
					if (node.parent.hasWait || childs[childs.length-3].hasWait)
						parent.blockOfs=childs.length;
				}
				else if (node.parent.hasWait)
				parent.blockOfs=childs.length;
				continue ;
			case 'await':
				childs.push(parent.lastNode=node);
				childs[parent.blockOfs].isBlockStart=true;
				parent.blockOfs=parent.childs.length;
				while ((node=node.parent)&& !node.hasWait){
					node.hasWait=true;
				}
				continue ;
			}
		childs.push(parent.lastNode=node);
		childs[parent.blockOfs].isBlockStart=true;
		if (!parent)throw "parent err";
	}

}


Compile._compile=function(parent,space){
	var script="",childs=parent.childs;
	var i=0,n=0,node,blockCount=0;
	if (!space || laya.async.Compile.compileType !="TEXT")
		space="";
	var space_rtn="\n"+space;
	for (i=0,n=childs.length;i < n;i++){
		node=childs[i];
		var str=node.src;
		if (parent.hasWait){
			if (node.isBlockStart){
				if (blockCount > 0)
					script+=space_rtn+"#}#";
				script+=space_rtn+"#{#";
				blockCount++;
			}
			switch (node.first){
				case 'await':
					parent.hasWait=true;
					script+="\t#AWAIT#"
					break ;
				case "while":
					node.src=node.src.replace("while","if/*while*/");
					break ;
				}
		}
		script+="\n"+node.src;
		if (node.childs.length > 0){
			if (node.hasWait){
				script+=space_rtn+"#BEGIN#";
				script+=laya.async.Compile._compile(node,space+'\t');
				script+=space_rtn+(node.braceWithNode.first=='while' ? "#WHILE#" :"#NEXT#");
			}
			else script+=laya.async.Compile._compile(node,space+'\t');
		}
		if (node.endBlock)script+="\n"+node.endBlock.src+"";
	}

	if (blockCount > 0)
		script+=space_rtn+"#E}#";
	return parent.code=script;
}


Compile.varCode=null;
Compile.root=null;
Compile.compileType="FUNCTION";
__static(Compile,
['_reg',function(){return this._reg=new RegExp("(\".*\")|('.*')|([()=<>{}]+?)|([#\\w\\*-\\.+/\\\\]+)|([,;:\\\\])","g");}
]);
return Compile;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/async/Promise.as=======199.999684/199.999684
/**
*...
*@author guo
*/
//class laya.async.Promise
var Promise=(function(){
	function Promise(){
		this.index=0;
		this.all=null;
		this.parent=null;
		this.iswhile=false;
		this.result=null;
		this.ctx=null;
	}

	__class(Promise,'laya.async.Promise');
	var __proto=Promise.prototype;
	__proto.start=function(context){
		context.root=this;
		this.ctx=context;
		this.next();
		return this;
	}

	__proto.resolve=function(value){
		if (!this.ctx._this.isStop || !this.ctx._this.isStop()){
			this.ctx.waiting=false;
			this.result=value;
			this.next();
		}
	}

	__proto.next=function(){
		if (this.ctx.waiting)
			return;
		if(this.index>=this.all.length){
			if(this.parent){
				if(this.iswhile)this.parent.index--;
				this.parent.next();
			}
			return;
		};
		var pre=laya.async.Promise.runner;
		laya.async.Promise.runner=this;
		var r=this.all[this.index++].call(this,this);
		laya.async.Promise.runner=pre;
		if(r=='break'){
			var node=this;
			while(node){
				if(node.iswhile)break ;
				node=node.parent;
			}
			node && node.parent && node.parent.next();
			return;
		}
		this.next();
	}

	Promise.run=function(context,funs,parent,iswhile){
		var p=new Promise();
		p.all=funs;
		p.iswhile=iswhile;
		p.parent=parent;
		p.ctx=context;
		return p;
	}

	Promise.createES7=function(thisObj,thisArg,fun,value){
		var n=arguments.length;
		var args;
		if (n > 4){
			args=[];
			args.length=n-3;
			for (var i=3;i < n;i++)
			args[i-2]=arguments[i];
		}
		return new window.Promise(
		function(resolve,reject){
			function __ (value){
				if(thisObj.isStop && thisObj.isStop())
					return;
				resolve(value);
			}
			if (!args){
				fun.call(thisArg,{resolve:__ },value);
			}
			else{
				args[0]={resolve:__ };
				fun.apply(thisArg,args);
			}
		});
	}

	Promise.ES7=false;
	Promise.runner=null;
	return Promise;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/components/Prefab.as=======199.999683/199.999683
/**
*预设
*/
//class laya.components.Prefab
var Prefab=(function(){
	function Prefab(){
		/**@private */
		this.json=null;
	}

	__class(Prefab,'laya.components.Prefab');
	var __proto=Prefab.prototype;
	/**
	*通过预设clone实例
	*/
	__proto.create=function(){
		if (this.json)return SceneUtils.createComp(this.json);
		return null;
	}

	/**
	*加载一个预设
	*@param url 预设地址
	*/
	__proto.load=function(url,loaded){
		Laya.loader.load(url,Handler.create(this,this._onLoaded,[loaded]));
	}

	__proto._onLoaded=function(handler,content){
		this.json=content;
		handler && handler.run();
	}

	return Prefab;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/Const.as=======199.999682/199.999682
/**
*@private
*静态常量集合
*/
//class laya.Const
var Const=(function(){
	function Const(){}
	__class(Const,'laya.Const');
	Const.DISPLAY=0x01;
	Const.HAS_ZORDER=0x02;
	Const.HAS_MOUSE=0x04;
	Const.DISPLAYED_INSTAGE=0x08;
	return Const;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationClipParser01.as=======199.999680/199.999680
/**
*@private
*/
//class laya.d3.animation.AnimationClipParser01
var AnimationClipParser01=(function(){
	function AnimationClipParser01(){}
	__class(AnimationClipParser01,'laya.d3.animation.AnimationClipParser01');
	AnimationClipParser01.READ_DATA=function(){
		AnimationClipParser01._DATA.offset=AnimationClipParser01._reader.getUint32();
		AnimationClipParser01._DATA.size=AnimationClipParser01._reader.getUint32();
	}

	AnimationClipParser01.READ_BLOCK=function(){
		var count=AnimationClipParser01._BLOCK.count=AnimationClipParser01._reader.getUint16();
		var blockStarts=AnimationClipParser01._BLOCK.blockStarts=[];
		var blockLengths=AnimationClipParser01._BLOCK.blockLengths=[];
		for (var i=0;i < count;i++){
			blockStarts.push(AnimationClipParser01._reader.getUint32());
			blockLengths.push(AnimationClipParser01._reader.getUint32());
		}
	}

	AnimationClipParser01.READ_STRINGS=function(){
		var offset=AnimationClipParser01._reader.getUint32();
		var count=AnimationClipParser01._reader.getUint16();
		var prePos=AnimationClipParser01._reader.pos;
		AnimationClipParser01._reader.pos=offset+AnimationClipParser01._DATA.offset;
		for (var i=0;i < count;i++)
		AnimationClipParser01._strings[i]=AnimationClipParser01._reader.readUTFString();
		AnimationClipParser01._reader.pos=prePos;
	}

	AnimationClipParser01.parse=function(clip,reader){
		AnimationClipParser01._animationClip=clip;
		AnimationClipParser01._reader=reader;
		var arrayBuffer=reader.__getBuffer();
		AnimationClipParser01.READ_DATA();
		AnimationClipParser01.READ_BLOCK();
		AnimationClipParser01.READ_STRINGS();
		for (var i=0,n=AnimationClipParser01._BLOCK.count;i < n;i++){
			var index=reader.getUint16();
			var blockName=AnimationClipParser01._strings[index];
			var fn=AnimationClipParser01["READ_"+blockName];
			if (fn==null)
				throw new Error("model file err,no this function:"+index+" "+blockName);
			else
			fn.call();
		}
	}

	AnimationClipParser01.READ_ANIMATIONS=function(){
		var i=0,j=0;
		var node;
		var reader=AnimationClipParser01._reader;
		var buffer=reader.__getBuffer();
		var lengthTypes=[];
		var lenghthTypeCount=reader.getUint8();
		lengthTypes.length=lenghthTypeCount;
		for (i=0;i < lenghthTypeCount;i++)
		lengthTypes[i]=reader.getUint16();
		var startTimeTypes=[];
		var startTimeTypeCount=reader.getUint16();
		startTimeTypes.length=startTimeTypeCount;
		for (i=0;i < startTimeTypeCount;i++)
		startTimeTypes[i]=reader.getFloat32();
		var clip=AnimationClipParser01._animationClip;
		clip.name=AnimationClipParser01._strings[reader.getUint16()];
		var clipDur=clip._duration=reader.getFloat32();
		clip.islooping=!!reader.getByte();
		clip._frameRate=reader.getInt16();
		var nodeCount=reader.getInt16();
		var nodes=clip._nodes=new Array;
		nodes.length=nodeCount;
		var publicDatas=clip._publicClipDatas=[];
		publicDatas.length=nodeCount;
		var nodesMap=clip._nodesMap={};
		for (i=0;i < nodeCount;i++){
			node=nodes[i]=new KeyframeNode();
			node._indexInList=i;
			var pathLength=reader.getUint16();
			var path=node.path=[];
			path.length=pathLength;
			for (j=0;j < pathLength;j++)
			path[j]=AnimationClipParser01._strings[reader.getUint16()];
			var nodePath=path.join("/");
			var mapArray=nodesMap[nodePath];
			(mapArray)|| (nodesMap[nodePath]=mapArray=[]);
			mapArray.push(node);
			var componentTypeStrIndex=reader.getInt16();
			(componentTypeStrIndex!==-1)&& (node.componentType=AnimationClipParser01._strings[componentTypeStrIndex]);
			var propertyNameID=AnimationNode._propertyIndexDic[AnimationClipParser01._strings[reader.getUint16()]];
			if (propertyNameID !=null)
				node.propertyNameID=propertyNameID;
			else
			throw new Error("AnimationClipParser01:unknown property name.");
			var dataLength=lengthTypes[reader.getUint8()];
			node.keyFrameWidth=dataLength / 4;
			var keyFrames=node.keyFrames=[];
			var keyframeCount=keyFrames.length=reader.getUint16();
			var lastKeyFrame=null;
			var startTime=NaN;
			for (j=0;j < keyframeCount;j++){
				var keyFrame=keyFrames[j]=new Keyframe();
				startTime=keyFrame.startTime=startTimeTypes[reader.getUint16()];
				var offset=reader.pos;
				keyFrame.inTangent=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				offset=reader.pos;
				keyFrame.outTangent=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				offset=reader.pos;
				keyFrame.data=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				if (lastKeyFrame){
					lastKeyFrame.next=keyFrame;
					lastKeyFrame.duration=startTime-lastKeyFrame.startTime;
				}
				lastKeyFrame=keyFrame;
			}
			keyFrame.next=null;
			keyFrame.duration=clipDur-startTime;
		}
	}

	AnimationClipParser01._animationClip=null;
	AnimationClipParser01._reader=null;
	AnimationClipParser01._strings=[];
	__static(AnimationClipParser01,
	['_BLOCK',function(){return this._BLOCK={count:0};},'_DATA',function(){return this._DATA={offset:0,size:0};}
	]);
	return AnimationClipParser01;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationClipParser02.as=======199.999679/199.999679
/**
*@private
*/
//class laya.d3.animation.AnimationClipParser02
var AnimationClipParser02=(function(){
	function AnimationClipParser02(){}
	__class(AnimationClipParser02,'laya.d3.animation.AnimationClipParser02');
	AnimationClipParser02.READ_DATA=function(){
		AnimationClipParser02._DATA.offset=AnimationClipParser02._reader.getUint32();
		AnimationClipParser02._DATA.size=AnimationClipParser02._reader.getUint32();
	}

	AnimationClipParser02.READ_BLOCK=function(){
		var count=AnimationClipParser02._BLOCK.count=AnimationClipParser02._reader.getUint16();
		var blockStarts=AnimationClipParser02._BLOCK.blockStarts=[];
		var blockLengths=AnimationClipParser02._BLOCK.blockLengths=[];
		for (var i=0;i < count;i++){
			blockStarts.push(AnimationClipParser02._reader.getUint32());
			blockLengths.push(AnimationClipParser02._reader.getUint32());
		}
	}

	AnimationClipParser02.READ_STRINGS=function(){
		var offset=AnimationClipParser02._reader.getUint32();
		var count=AnimationClipParser02._reader.getUint16();
		var prePos=AnimationClipParser02._reader.pos;
		AnimationClipParser02._reader.pos=offset+AnimationClipParser02._DATA.offset;
		for (var i=0;i < count;i++)
		AnimationClipParser02._strings[i]=AnimationClipParser02._reader.readUTFString();
		AnimationClipParser02._reader.pos=prePos;
	}

	AnimationClipParser02.parse=function(clip,reader){
		AnimationClipParser02._animationClip=clip;
		AnimationClipParser02._reader=reader;
		var arrayBuffer=reader.__getBuffer();
		AnimationClipParser02.READ_DATA();
		AnimationClipParser02.READ_BLOCK();
		AnimationClipParser02.READ_STRINGS();
		for (var i=0,n=AnimationClipParser02._BLOCK.count;i < n;i++){
			var index=reader.getUint16();
			var blockName=AnimationClipParser02._strings[index];
			var fn=AnimationClipParser02["READ_"+blockName];
			if (fn==null)
				throw new Error("model file err,no this function:"+index+" "+blockName);
			else
			fn.call();
		}
	}

	AnimationClipParser02.READ_ANIMATIONS=function(){
		var i=0,j=0;
		var node;
		var reader=AnimationClipParser02._reader;
		var buffer=reader.__getBuffer();
		var lengthTypes=[];
		var lenghthTypeCount=reader.getUint8();
		lengthTypes.length=lenghthTypeCount;
		for (i=0;i < lenghthTypeCount;i++)
		lengthTypes[i]=reader.getUint16();
		var startTimeTypes=[];
		var startTimeTypeCount=reader.getUint16();
		startTimeTypes.length=startTimeTypeCount;
		for (i=0;i < startTimeTypeCount;i++)
		startTimeTypes[i]=reader.getFloat32();
		var clip=AnimationClipParser02._animationClip;
		clip.name=AnimationClipParser02._strings[reader.getUint16()];
		var clipDur=clip._duration=reader.getFloat32();
		clip.islooping=!!reader.getByte();
		clip._frameRate=reader.getInt16();
		var nodeCount=reader.getInt16();
		var nodes=clip._nodes=new Array;
		nodes.length=nodeCount;
		var publicDatas=clip._publicClipDatas=[];
		publicDatas.length=nodeCount;
		var nodesMap=clip._nodesMap={};
		var nodesDic=clip._nodesDic={};
		for (i=0;i < nodeCount;i++){
			node=nodes[i]=new KeyframeNode();
			node._indexInList=i;
			var pathLength=reader.getUint16();
			var path=node.path=[];
			path.length=pathLength;
			for (j=0;j < pathLength;j++)
			path[j]=AnimationClipParser02._strings[reader.getUint16()];
			var nodePath=path.join("/");
			var mapArray=nodesMap[nodePath];
			(mapArray)|| (nodesMap[nodePath]=mapArray=[]);
			mapArray.push(node);
			var componentTypeStrIndex=reader.getInt16();
			(componentTypeStrIndex!==-1)&& (node.componentType=AnimationClipParser02._strings[componentTypeStrIndex]);
			var propertyNameID=AnimationNode._propertyIndexDic[AnimationClipParser02._strings[reader.getUint16()]];
			if (propertyNameID !=null)
				node.propertyNameID=propertyNameID;
			else
			throw new Error("AnimationClipParser02:unknown property name.");
			var fullPath=nodePath+"_"+propertyNameID;
			nodesDic[fullPath]=node;
			node.fullPath=fullPath;
			var dataLength=lengthTypes[reader.getUint8()];
			node.keyFrameWidth=dataLength / 4;
			var keyFrames=node.keyFrames=[];
			var keyframeCount=keyFrames.length=reader.getUint16();
			var lastKeyFrame=null;
			var startTime=NaN;
			for (j=0;j < keyframeCount;j++){
				var keyFrame=keyFrames[j]=new Keyframe();
				startTime=keyFrame.startTime=startTimeTypes[reader.getUint16()];
				var offset=reader.pos;
				keyFrame.inTangent=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				offset=reader.pos;
				keyFrame.outTangent=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				offset=reader.pos;
				keyFrame.data=new Float32Array(buffer.slice(offset,offset+dataLength));
				reader.pos+=dataLength;
				if (lastKeyFrame){
					lastKeyFrame.next=keyFrame;
					lastKeyFrame.duration=startTime-lastKeyFrame.startTime;
				}
				lastKeyFrame=keyFrame;
			}
			keyFrame.next=null;
			keyFrame.duration=clipDur-startTime;
		};
		var eventCount=reader.getUint16();
		for (i=0;i < eventCount;i++){
			var event=new AnimationEvent();
			event.time=reader.getFloat32();
			event.eventName=AnimationClipParser02._strings[reader.getUint16()];
			var params;
			var paramCount=reader.getUint16();
			(paramCount > 0)&& (event.params=params=[]);
			for (j=0;j < paramCount;j++){
				var type=reader.getByte();
				switch (type){
					case 0:
						params.push(!!reader.getByte());
						break ;
					case 1:
						params.push(reader.getInt32());
						break ;
					case 2:
						params.push(reader.getFloat32());
						break ;
					case 3:
						params.push(AnimationClipParser02._strings[reader.getUint16()]);
						break ;
					default :
						throw new Error("unknown type.");
					}
			}
			clip.addEvent(event);
		}
	}

	AnimationClipParser02._animationClip=null;
	AnimationClipParser02._reader=null;
	AnimationClipParser02._strings=[];
	__static(AnimationClipParser02,
	['_BLOCK',function(){return this._BLOCK={count:0};},'_DATA',function(){return this._DATA={offset:0,size:0};}
	]);
	return AnimationClipParser02;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationEvent.as=======199.999678/199.999678
/**
*<code>AnimationEvent</code> 类用于实现动画事件。
*/
//class laya.d3.animation.AnimationEvent
var AnimationEvent=(function(){
	function AnimationEvent(){
		/**事件触发时间。*/
		this.time=NaN;
		/**事件触发名称。*/
		this.eventName=null;
		/**事件触发参数。*/
		this.params=null;
	}

	__class(AnimationEvent,'laya.d3.animation.AnimationEvent');
	return AnimationEvent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationNode.as=======199.999677/199.999677
/**
*<code>BoneNode</code> 类用于实现骨骼节点。
*/
//class laya.d3.animation.AnimationNode
var AnimationNode=(function(){
	function AnimationNode(localPosition,localRotation,localScale,worldMatrix){
		/**@private */
		//this._children=null;
		/**@private */
		//this._parent=null;
		/**@private [只读]*/
		//this.transform=null;
		/**节点名称。 */
		//this.name=null;
		/**@private [NATIVE]*/
		//this._worldMatrixIndex=0;
		this._children=[];
		this.transform=new AnimationTransform3D(this,localPosition,localRotation,localScale,worldMatrix);
	}

	__class(AnimationNode,'laya.d3.animation.AnimationNode');
	var __proto=AnimationNode.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*添加子节点。
	*@param child 子节点。
	*/
	__proto.addChild=function(child){
		child._parent=this;
		child.transform.setParent(this.transform);
		this._children.push(child);
	}

	/**
	*移除子节点。
	*@param child 子节点。
	*/
	__proto.removeChild=function(child){
		var index=this._children.indexOf(child);
		(index!==-1)&& (this._children.splice(index,1));
	}

	/**
	*根据名字获取子节点。
	*@param name 名字。
	*/
	__proto.getChildByName=function(name){
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			if (child.name===name)
				return child;
		}
		return null;
	}

	/**
	*根据索引获取子节点。
	*@param index 索引。
	*/
	__proto.getChildByIndex=function(index){
		return this._children[index];
	}

	/**
	*获取子节点的个数。
	*/
	__proto.getChildCount=function(){
		return this._children.length;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destNode=destObject;
		destNode.name=this.name;
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			var destChild=child.clone();
			destNode.addChild(destChild);
			var transform=child.transform;
			var destTransform=destChild.transform;
			destTransform.setLocalPosition(transform.getLocalPosition(),false,1.0);
			destTransform.setLocalRotation(transform.getLocalRotation(),false,1.0);
			destTransform.setLocalScale(transform.getLocalScale(),false,1.0);
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new AnimationNode();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*@private [NATIVE]
	*/
	__proto._cloneNative=function(localPositions,localRotations,localScales,animationNodeWorldMatrixs,animationNodeParentIndices,parentIndex,avatar){
		var curID=avatar._nativeCurCloneCount;
		animationNodeParentIndices[curID]=parentIndex;
		var localPosition=new Float32Array(localPositions.buffer,curID *3 *4,3);
		var localRotation=new Float32Array(localRotations.buffer,curID *4 *4,4);
		var localScale=new Float32Array(localScales.buffer,curID *3 *4,3);
		var worldMatrix=new Float32Array(animationNodeWorldMatrixs.buffer,curID *16 *4,16);
		var dest=new AnimationNode(localPosition,localRotation,localScale,worldMatrix);
		dest._worldMatrixIndex=curID;
		this._cloneToNative(dest,localPositions,localRotations,localScales,animationNodeWorldMatrixs,animationNodeParentIndices,curID,avatar);
		return dest;
	}

	/**
	*@private [NATIVE]
	*/
	__proto._cloneToNative=function(destObject,localPositions,localRotations,localScales,animationNodeWorldMatrixs,animationNodeParentIndices,parentIndex,avatar){
		var destNode=destObject;
		destNode.name=this.name;
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			avatar._nativeCurCloneCount++;
			var destChild=child._cloneNative(localPositions,localRotations,localScales,animationNodeWorldMatrixs,animationNodeParentIndices,parentIndex,avatar);
			destNode.addChild(destChild);
			var transform=child.transform;
			var destTransform=destChild.transform;
			destTransform.setLocalPosition(transform.getLocalPosition(),false,1.0);
			destTransform.setLocalRotation(transform.getLocalRotation(),false,1.0);
			destTransform.setLocalScale(transform.getLocalScale(),false,1.0);
		}
	}

	AnimationNode.__init__=function(){
		AnimationNode.registerAnimationNodeProperty("localPosition",AnimationNode._getLocalPosition,AnimationNode._setLocalPosition,AnimationNode._setCrossLocalPosition);
		AnimationNode.registerAnimationNodeProperty("localRotation",AnimationNode._getLocalRotation,AnimationNode._setLocalRotation,AnimationNode._setCrossLocalRotation);
		AnimationNode.registerAnimationNodeProperty("localScale",AnimationNode._getLocalScale,AnimationNode._setLocalScale,AnimationNode._setCrossLocalScale);
		AnimationNode.registerAnimationNodeProperty("localRotationEuler",AnimationNode._getLocalRotationEuler,AnimationNode._setLocalRotationEuler,null);
		AnimationNode.registerAnimationNodeProperty("particleRender.sharedMaterial.tintColor",AnimationNode._getParticleRenderSharedMaterialTintColor,AnimationNode._setParticleRenderSharedMaterialTintColor,null);
		AnimationNode.registerAnimationNodeProperty("meshRender.sharedMaterial.tilingOffset",AnimationNode._getMeshRenderSharedMaterialTilingOffset,AnimationNode._setMeshRenderSharedMaterialTilingOffset,null);
		AnimationNode.registerAnimationNodeProperty("meshRender.sharedMaterial.albedoColor",AnimationNode._getMeshRenderSharedMaterialAlbedo,AnimationNode._setMeshRenderSharedMaterialAlbedo,null);
		AnimationNode.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.tilingOffset",AnimationNode._getSkinnedMeshRenderSharedMaterialTilingOffset,AnimationNode._setSkinnedMeshRenderSharedMaterialTilingOffset,null);
		AnimationNode.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedoColor",AnimationNode._getSkinnedMeshRenderSharedMaterialAlbedo,AnimationNode._setSkinnedMeshRenderSharedMaterialAlbedo,null);
		AnimationNode.registerAnimationNodeProperty("meshRender.sharedMaterial.albedo",AnimationNode._getMeshRenderSharedMaterialAlbedo,AnimationNode._setMeshRenderSharedMaterialAlbedo,null);
		AnimationNode.registerAnimationNodeProperty("skinnedMeshRender.sharedMaterial.albedo",AnimationNode._getSkinnedMeshRenderSharedMaterialAlbedo,AnimationNode._setSkinnedMeshRenderSharedMaterialAlbedo,null);
	}

	AnimationNode.registerAnimationNodeProperty=function(propertyName,getFunc,setFunc,setCrossFunc){
		if (AnimationNode._propertyIndexDic[propertyName]){
			throw new Error("AnimationNode: this propertyName has registered.");
			}else {
			AnimationNode._propertyIndexDic[propertyName]=AnimationNode._propertyIDCounter;
			AnimationNode._propertyGetFuncs[AnimationNode._propertyIDCounter]=getFunc;
			AnimationNode._propertySetFuncs[AnimationNode._propertyIDCounter]=setFunc;
			AnimationNode._propertySetCrossFuncs[AnimationNode._propertyIDCounter]=setCrossFunc;
			AnimationNode._propertyIDCounter++;
		}
	}

	AnimationNode._getLocalPosition=function(animationNode,sprite3D){
		if (animationNode)
			return animationNode.transform.getLocalPosition();
		else
		return sprite3D._transform.localPosition.elements;
	}

	AnimationNode._setLocalPosition=function(animationNode,sprite3D,value,additive,weight){
		if (animationNode){
			animationNode.transform.setLocalPosition(value,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localPosition=spriteTransform.localPosition;
			localPosition.elements=value;
			spriteTransform.localPosition=localPosition;
		}
	}

	AnimationNode._setCrossLocalPosition=function(animationNode,sprite3D,value,crossValue,crossWeight,additive,weight){
		if (animationNode){
			animationNode.transform.setCrossLocalPosition(value,crossValue,crossWeight,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localPosition=spriteTransform.localPosition;
			localPosition.elements=value;
			spriteTransform.localPosition=localPosition;
		}
	}

	AnimationNode._getLocalRotation=function(animationNode,sprite3D){
		if (animationNode)
			return animationNode.transform.getLocalRotation();
		else
		return sprite3D._transform.localRotation.elements;
	}

	AnimationNode._setLocalRotation=function(animationNode,sprite3D,value,additive,weight){
		if (animationNode){
			animationNode.transform.setLocalRotation(value,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localRotation=spriteTransform.localRotation;
			localRotation.elements=value;
			spriteTransform.localRotation=localRotation;
		}
	}

	AnimationNode._setCrossLocalRotation=function(animationNode,sprite3D,value,crossValue,crossWeight,additive,weight){
		if (animationNode){
			animationNode.transform.setCrossLocalRotation(value,crossValue,crossWeight,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localRotation=spriteTransform.localRotation;
			localRotation.elements=value;
			spriteTransform.localRotation=localRotation;
		}
	}

	AnimationNode._getLocalScale=function(animationNode,sprite3D){
		if (animationNode)
			return animationNode.transform.getLocalScale();
		else
		return sprite3D._transform.localScale.elements;
	}

	AnimationNode._setLocalScale=function(animationNode,sprite3D,value,additive,weight){
		if (animationNode){
			animationNode.transform.setLocalScale(value,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localScale=spriteTransform.localScale;
			localScale.elements=value;
			spriteTransform.localScale=localScale;
		}
	}

	AnimationNode._setCrossLocalScale=function(animationNode,sprite3D,value,crossValue,crossWeight,additive,weight){
		if (animationNode){
			animationNode.transform.setCrossLocalScale(value,crossValue,crossWeight,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localScale=spriteTransform.localScale;
			localScale.elements=value;
			spriteTransform.localScale=localScale;
		}
	}

	AnimationNode._getLocalRotationEuler=function(animationNode,sprite3D){
		if (animationNode)
			return animationNode.transform.getLocalRotationEuler();
		else
		return sprite3D._transform.localRotationEuler.elements;
	}

	AnimationNode._setLocalRotationEuler=function(animationNode,sprite3D,value,additive,weight){
		if (animationNode){
			animationNode.transform.setLocalRotationEuler(value,additive,weight);
			}else {
			var spriteTransform=sprite3D._transform;
			var localRotationEuler=spriteTransform.localRotationEuler;
			localRotationEuler.elements=value;
			spriteTransform.localRotationEuler=localRotationEuler;
		}
	}

	AnimationNode._getMeshRenderSharedMaterialTilingOffset=function(animationNode,sprite3D){
		var material;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).meshRender.sharedMaterial;
				return material.tilingOffset.elements;
			}else
			return null;
			}else {
			material=(sprite3D).meshRender.sharedMaterial;
			return material.tilingOffset.elements;
		}
	}

	AnimationNode._setMeshRenderSharedMaterialTilingOffset=function(animationNode,sprite3D,value){
		var material,tilingOffset;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).meshRender.material;
				tilingOffset=material.tilingOffset;
				tilingOffset.elements=value;
				material.tilingOffset=tilingOffset;
			}
			}else {
			material=(sprite3D).meshRender.material;
			tilingOffset=material.tilingOffset;
			tilingOffset.elements=value;
			material.tilingOffset=tilingOffset;
		}
	}

	AnimationNode._getMeshRenderSharedMaterialAlbedo=function(animationNode,sprite3D){
		var material;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).meshRender.sharedMaterial;
				return material.albedoColor.elements;
			}else
			return null;
			}else {
			material=(sprite3D).meshRender.sharedMaterial;
			return material.albedoColor.elements;
		}
	}

	AnimationNode._setMeshRenderSharedMaterialAlbedo=function(animationNode,sprite3D,value){
		var material,albedo;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).meshRender.material;
				albedo=material.albedoColor;
				albedo.elements=value;
				material.albedoColor=albedo;
			}
			}else {
			material=(sprite3D).meshRender.material;
			albedo=material.albedoColor;
			albedo.elements=value;
			material.albedoColor=albedo;
		}
	}

	AnimationNode._getSkinnedMeshRenderSharedMaterialTilingOffset=function(animationNode,sprite3D){
		var material;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).skinnedMeshRender.sharedMaterial;
				return material.tilingOffset.elements;
			}else
			return null;
			}else {
			material=(sprite3D).skinnedMeshRender.sharedMaterial;
			return material.tilingOffset.elements;
		}
	}

	AnimationNode._setSkinnedMeshRenderSharedMaterialTilingOffset=function(animationNode,sprite3D,value){
		var material,tilingOffset;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).skinnedMeshRender.material;
				tilingOffset=material.tilingOffset;
				tilingOffset.elements=value;
				material.tilingOffset=tilingOffset;
			}
			}else {
			material=(sprite3D).skinnedMeshRender.material;
			tilingOffset=material.tilingOffset;
			tilingOffset.elements=value;
			material.tilingOffset=tilingOffset;
		}
	}

	AnimationNode._getSkinnedMeshRenderSharedMaterialAlbedo=function(animationNode,sprite3D){
		var material;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).skinnedMeshRender.sharedMaterial;
				return material.albedoColor.elements;
				}else {
				return null;
			}
			}else {
			material=(sprite3D).skinnedMeshRender.sharedMaterial;
			return material.albedoColor.elements;
		}
	}

	AnimationNode._setSkinnedMeshRenderSharedMaterialAlbedo=function(animationNode,sprite3D,value){
		var material,albedo;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).skinnedMeshRender.material;
				albedo=material.albedoColor;
				albedo.elements=value;
				material.albedoColor=albedo;
			}
			}else {
			material=(sprite3D).skinnedMeshRender.material;
			albedo=material.albedoColor;
			albedo.elements=value;
			material.albedoColor=albedo;
		}
	}

	AnimationNode._getParticleRenderSharedMaterialTintColor=function(animationNode,sprite3D){
		var material;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).particleRender.sharedMaterial;
				return material.tintColor.elements;
			}else
			return null;
			}else {
			material=(sprite3D).particleRender.sharedMaterial;
			return material.tintColor.elements;
		}
	}

	AnimationNode._setParticleRenderSharedMaterialTintColor=function(animationNode,sprite3D,value){
		var material,tintColor;
		if (animationNode){
			var entity=animationNode.transform._entity;
			if (entity){
				material=(entity.owner).particleRender.material;
				tintColor=material.tintColor;
				tintColor.elements=value;
				material.tintColor=tintColor;
			}
			}else {
			material=(sprite3D).particleRender.material;
			tintColor=material.tintColor;
			tintColor.elements=value;
			material.tintColor=tintColor;
		}
	}

	AnimationNode._propertyIDCounter=0;
	AnimationNode._propertyIndexDic={};
	AnimationNode._propertyGetFuncs=[];
	AnimationNode._propertySetFuncs=[];
	AnimationNode._propertySetCrossFuncs=[];
	return AnimationNode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/Keyframe.as=======199.999675/199.999675
/**
*@private
*/
//class laya.d3.animation.Keyframe
var Keyframe=(function(){
	function Keyframe(){
		this.startTime=NaN;
		this.inTangent=null;
		this.outTangent=null;
		this.data=null;
		this.duration=NaN;
		this.next=null;
	}

	__class(Keyframe,'laya.d3.animation.Keyframe');
	return Keyframe;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/KeyframeNode.as=======199.999674/199.999674
/**
*@private
*/
//class laya.d3.animation.KeyframeNode
var KeyframeNode=(function(){
	function KeyframeNode(){
		/**@private */
		this._indexInList=0;
		this.fullPath=null;
		this.path=null;
		this.componentType=null;
		//TODO:是否去掉
		this.propertyNameID=0;
		this.keyFrameWidth=0;
		this.defaultData=null;
		this.keyFrames=null;
	}

	__class(KeyframeNode,'laya.d3.animation.KeyframeNode');
	return KeyframeNode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/AnimatorStateInfo.as=======199.999669/199.999669
/**
*<code>AnimatorStateInfo</code> 类用于创建动画播放状态信息。
*/
//class laya.d3.component.AnimatorStateInfo
var AnimatorStateInfo=(function(){
	function AnimatorStateInfo(){
		/**@private */
		//this._finish=false;
		/**@private */
		//this._frameTime=NaN;
		/**@private */
		//this._frameIndex=0;
		/**@private */
		//this._startPlayTime=NaN;
		/**@private */
		//this._elapsedTime=NaN;
		/**@private */
		//this._playEventIndex=0;
	}

	__class(AnimatorStateInfo,'laya.d3.component.AnimatorStateInfo');
	var __proto=AnimatorStateInfo.prototype;
	/**
	*@private
	*/
	__proto._resetPlayState=function(startTime){
		this._finish=false;
		this._frameTime=0.0;
		this._frameIndex=0;
		this._startPlayTime=startTime;
		this._elapsedTime=startTime;
		this._playEventIndex=0.0;
	}

	/**
	*@private
	*/
	__proto._cloneTo=function(dest){
		dest._finish=this._finish;
		dest._frameTime=this._frameTime;
		dest._frameIndex=this._frameIndex;
		dest._startPlayTime=this._startPlayTime;
		dest._elapsedTime=this._elapsedTime;
		dest._playEventIndex=this._playEventIndex;
	}

	return AnimatorStateInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/ClipStateInfo.as=======199.999667/199.999667
/**
*<code>ClipStateInfo</code> 类用于创建动画状态信息。
*/
//class laya.d3.component.ClipStateInfo
var ClipStateInfo=(function(){
	function ClipStateInfo(){
		/**@private */
		//this._name=null;
		/**@private */
		//this._clip=null;
		/**@private */
		//this._cacheFullFrames=null;
		/**@private */
		//this._clipDatas=null;
		/**@private */
		//this._nodeOwners=null;
		this._nodeOwners=[];
	}

	__class(ClipStateInfo,'laya.d3.component.ClipStateInfo');
	return ClipStateInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/KeyFrameNodeOwner.as=======199.999666/199.999666
/**
*@private
*<code>KeyframeNodeOwner</code> 类用于保存帧节点的拥有者信息。
*/
//class laya.d3.component.KeyFrameNodeOwner
var KeyFrameNodeOwner=(function(){
	function KeyFrameNodeOwner(){
		/**@private */
		//this.indexInList=0;
		/**@private */
		//this.referenceCount=0;
		/**@private */
		//this.avatarOwner=null;
		/**@private */
		//this.spritOwner=null;
		/**@private */
		//this.propertyID=0;
		/**@private */
		//this.defaultValue=null;
		/**@private */
		//this.crossFixedValue=null;
		/**@private */
		//this.updateMark=0;
		this.indexInList=-1;
		this.referenceCount=0;
		this.updateMark=-1;
	}

	__class(KeyFrameNodeOwner,'laya.d3.component.KeyFrameNodeOwner');
	var __proto=KeyFrameNodeOwner.prototype;
	/**
	*@private
	*/
	__proto.saveCrossFixedValue=function(avater){
		var value;
		if (avater)
			value=AnimationNode._propertyGetFuncs[this.propertyID](this.avatarOwner,null);
		else
		value=AnimationNode._propertyGetFuncs[this.propertyID](null,this.spritOwner);
		var valueCount=value.length;
		(this.crossFixedValue)|| (this.crossFixedValue=new Float32Array(valueCount));
		for (var j=0;j < valueCount;j++)
		this.crossFixedValue[j]=value[j];
	}

	return KeyFrameNodeOwner;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/ListPool.as=======199.999665/199.999665
/**
*<code>ListPool</code> 类用于实现队列池。
*/
//class laya.d3.component.ListPool
var ListPool=(function(){
	function ListPool(){
		/**@private [只读]*/
		this.length=0;
		this.elements=[];
	}

	__class(ListPool,'laya.d3.component.ListPool');
	var __proto=ListPool.prototype;
	/**
	*@private
	*/
	__proto.add=function(element){
		if (this.length===this.elements.length)
			this.elements.push(element);
		else
		this.elements[this.length]=element;
		element._setIndexInList(this.length++);
	}

	/**
	*@private
	*/
	__proto.remove=function(element){
		this.length--;
		var indexInPool=element._getIndexInList();
		if (indexInPool!==this.length){
			var end=this.elements[this.length];
			this.elements[indexInPool]=end;
			end._setIndexInList(indexInPool);
			element._setIndexInList(-1);
		}
	}

	return ListPool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/GeometryElement.as=======199.999653/199.999653
/**
*@private
*<code>GeometryElement</code> 类用于实现几何体元素。
*/
//class laya.d3.core.GeometryElement
var GeometryElement=(function(){
	function GeometryElement(){
		/**@private */
		//this._destroyed=false;
		/**@private [只读]*/
		//this._singletonVertexBuffer=false;
		/**@private [只读]*/
		//this._vertexDeclarationDefine=0;
		/**@private [只读]*/
		//this._multiVerDecValueData=null;
		/**@private [只读]*/
		//this._vertexBuffer=null;
		/**@private [只读]*/
		//this._vertexBuffers=null;
		this._destroyed=false;
		this._vertexDeclarationDefine=0;
	}

	__class(GeometryElement,'laya.d3.core.GeometryElement');
	var __proto=GeometryElement.prototype;
	Laya.imps(__proto,{"laya.resource.IDestroy":true})
	/**
	*@private
	*vertexBuffer的vertexDeclaration不能为空。
	*/
	__proto._setVertexBuffer=function(vertexBuffer){
		this._vertexBuffer=vertexBuffer;
		this._vertexDeclarationDefine=vertexBuffer.vertexDeclaration._defineDatas.value;
		this._singletonVertexBuffer=true;
		this._vertexBuffers=null;
	}

	/**
	*@private
	*vertexBuffers中的vertexDeclaration不能为空,该函数比较消耗性能，初始化时使用。
	*/
	__proto._setVertexBuffers=function(vertexBuffers){
		this._vertexBuffers=vertexBuffers;this._multiVerDecValueData=this._multiVerDecValueData|| [];
		this._multiVerDecValueData.length=0;
		for (var i=0,n=vertexBuffers.length;i < n;i++){
			var verBuf=vertexBuffers[i];
			var verDec=verBuf.vertexDeclaration;
			this._vertexDeclarationDefine |=verDec._defineDatas.value;
			var valueData=verDec._shaderValues._data;
			for (var k in valueData)
			this._multiVerDecValueData[k]=[verBuf,valueData[k]];
		}
		this._singletonVertexBuffer=false;
		this._vertexBuffer=null;
	}

	/**
	*@private
	*@return 是否需要渲染。
	*/
	__proto._prepareRender=function(state){
		return true;
	}

	/**
	*@private
	*/
	__proto._render=function(state){
		throw new Error("GeometryElement:must override it.");
	}

	/**
	*销毁。
	*/
	__proto.destroy=function(){
		this._destroyed=true;
		if (this._singletonVertexBuffer){
			this._vertexBuffer.destroy();
			this._vertexBuffer=null;
			}else {
			for (var i=0,n=this._vertexBuffers.length;i < n;i++)
			this._vertexBuffers[i].destroy();
			this._vertexBuffers=null;
		}
		this._multiVerDecValueData=null;
	}

	/**
	*@private
	*/
	__getset(0,__proto,'_vertexBufferCount',function(){
		throw new Error("GeometryElement:must override it.");
	});

	/**
	*获取是否销毁。
	*@return 是否销毁。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	/**
	*@private
	*/
	__getset(0,__proto,'triangleCount',function(){
		throw new Error("GeometryElement:must override it.");
	});

	return GeometryElement;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/HeightMap.as=======199.999652/199.999652
/**
*<code>HeightMap</code> 类用于实现高度图数据。
*/
//class laya.d3.core.HeightMap
var HeightMap=(function(){
	function HeightMap(width,height,minHeight,maxHeight){
		/**@private */
		this._datas=null;
		/**@private */
		this._w=0;
		/**@private */
		this._h=0;
		/**@private */
		this._minHeight=NaN;
		/**@private */
		this._maxHeight=NaN;
		this._datas=[];
		this._w=width;
		this._h=height;
		this._minHeight=minHeight;
		this._maxHeight=maxHeight;
	}

	__class(HeightMap,'laya.d3.core.HeightMap');
	var __proto=HeightMap.prototype;
	/**@private */
	__proto._inBounds=function(row,col){
		return row >=0 && row < this._h && col >=0 && col < this._w;
	}

	/**
	*获取高度。
	*@param row 列数。
	*@param col 行数。
	*@return 高度。
	*/
	__proto.getHeight=function(row,col){
		if (this._inBounds(row,col))
			return this._datas[row][col];
		else
		return NaN;
	}

	/**
	*获取宽度。
	*@return value 宽度。
	*/
	__getset(0,__proto,'width',function(){
		return this._w;
	});

	/**
	*获取高度。
	*@return value 高度。
	*/
	__getset(0,__proto,'height',function(){
		return this._h;
	});

	/**
	*最大高度。
	*@return value 最大高度。
	*/
	__getset(0,__proto,'maxHeight',function(){
		return this._maxHeight;
	});

	/**
	*最大高度。
	*@return value 最大高度。
	*/
	__getset(0,__proto,'minHeight',function(){
		return this._minHeight;
	});

	HeightMap.creatFromMesh=function(mesh,width,height,outCellSize){
		var vertices=[];
		var indexs=[];
		var submesheCount=mesh.subMeshCount;
		for (var i=0;i < submesheCount;i++){
			var subMesh=mesh._getSubMesh(i);
			var vertexBuffer=subMesh._getVertexBuffer();
			var verts=vertexBuffer.getData();
			var subMeshVertices=[];
			for (var j=0;j < verts.length;j+=vertexBuffer.vertexDeclaration.vertexStride / 4){
				var position=new Vector3(verts[j+0],verts[j+1],verts[j+2]);
				subMeshVertices.push(position);
			}
			vertices.push(subMeshVertices);
			var ib=subMesh._getIndexBuffer();
			indexs.push(ib.getData());
		};
		var boundingBox=mesh.boundingBox;
		var minX=boundingBox.min.x;
		var minZ=boundingBox.min.z;
		var maxX=boundingBox.max.x;
		var maxZ=boundingBox.max.z;
		var minY=boundingBox.min.y;
		var maxY=boundingBox.max.y;
		var widthSize=maxX-minX;
		var heightSize=maxZ-minZ;
		var cellWidth=outCellSize.elements[0]=widthSize / (width-1);
		var cellHeight=outCellSize.elements[1]=heightSize / (height-1);
		var heightMap=new HeightMap(width,height,minY,maxY);
		var ray=HeightMap._tempRay;
		var rayDirE=ray.direction.elements;
		rayDirE[0]=0;
		rayDirE[1]=-1;
		rayDirE[2]=0;
		var heightOffset=0.1;
		var rayY=maxY+heightOffset;
		ray.origin.elements[1]=rayY;
		for (var h=0;h < height;h++){
			var posZ=minZ+h *cellHeight;
			heightMap._datas[h]=[];
			for (var w=0;w < width;w++){
				var posX=minX+w *cellWidth;
				var rayOriE=ray.origin.elements;
				rayOriE[0]=posX;
				rayOriE[2]=posZ;
				var closestIntersection=HeightMap._getPosition(ray,vertices,indexs);
				heightMap._datas[h][w]=(closestIntersection===Number.MAX_VALUE)? NaN :rayY-closestIntersection;
			}
		}
		return heightMap;
	}

	HeightMap.createFromImage=function(texture,minHeight,maxHeight){
		var textureWidth=texture.width;
		var textureHeight=texture.height;
		var heightMap=new HeightMap(textureWidth,textureHeight,minHeight,maxHeight);
		var compressionRatio=(maxHeight-minHeight)/ 254;
		var pixelsInfo=texture.getPixels();
		var index=0;
		for (var h=0;h <textureHeight;h++){
			var colDatas=heightMap._datas[h]=[];
			for (var w=0;w < textureWidth;w++){
				var r=pixelsInfo[index++];
				var g=pixelsInfo[index++];
				var b=pixelsInfo[index++];
				var a=pixelsInfo[index++];
				if (r==255 && g==255 && b==255 && a==255)
					colDatas[w]=NaN;
				else {
					colDatas[w]=(r+g+b)/ 3 *compressionRatio+minHeight;
				}
			}
		}
		return heightMap;
	}

	HeightMap._getPosition=function(ray,vertices,indexs){
		var closestIntersection=Number.MAX_VALUE;
		for (var i=0;i < vertices.length;i++){
			var subMeshVertices=vertices[i];
			var subMeshIndexes=indexs[i];
			for (var j=0;j < subMeshIndexes.length;j+=3){
				var vertex1=subMeshVertices[subMeshIndexes[j+0]];
				var vertex2=subMeshVertices[subMeshIndexes[j+1]];
				var vertex3=subMeshVertices[subMeshIndexes[j+2]];
				var intersection=Picker.rayIntersectsTriangle(ray,vertex1,vertex2,vertex3);
				if (!isNaN(intersection)&& intersection < closestIntersection){
					closestIntersection=intersection;
				}
			}
		}
		return closestIntersection;
	}

	__static(HeightMap,
	['_tempRay',function(){return this._tempRay=new Ray(new Vector3(),new Vector3());}
	]);
	return HeightMap;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/Layer.as=======199.999650/199.999650
/**
*@private
*<code>Layer</code> 类用于实现层。
*/
//class laya.d3.core.Layer
var Layer=(function(){
	function Layer(scene){
		/**@private */
		//this._number=0;
		/**@private */
		//this._visible=false;
		/**@private */
		//this._scene=null;
		/**@private 蒙版值。*/
		//this._mask=0;
		/**@private 只读,不允许修改。*/
		//this._nonRigidbodyOffset=0;
		/**@private 只读,不允许修改。*/
		//this._colliders=null;
		/**名字。*/
		//this.name=null;
		this._visible=true;
		this._nonRigidbodyOffset=0;
		this._colliders=[];
		this._scene=scene;
	}

	__class(Layer,'laya.d3.core.Layer');
	var __proto=Layer.prototype;
	/**
	*@private
	*/
	__proto._binarySearchIndex=function(){
		var collsionTestList=this._scene._collsionTestList;
		var start=0;
		var end=collsionTestList.length-1;
		var mid=0;
		while (start <=end){
			mid=Math.floor((start+end)/ 2);
			var midValue=collsionTestList[mid];
			if (midValue==this._number)
				return mid;
			else if (midValue > this._number)
			end=mid-1;
			else
			start=mid+1;
		}
		return start;
	}

	/**
	*@private
	*/
	__proto._addCollider=function(collider){
		(this._colliders.length===0)&& (this._scene._collsionTestList.splice(this._binarySearchIndex(),0,this._number));
		if (collider._isRigidbody){
			this._colliders.unshift(collider);
			this._nonRigidbodyOffset++;
			}else {
			this._colliders.push(collider);
		}
	}

	/**
	*@private
	*/
	__proto._removeCollider=function(collider){
		var index=this._colliders.indexOf(collider);
		if (index < this._nonRigidbodyOffset)
			this._nonRigidbodyOffset--;
		this._colliders.splice(index,1);
		(this._colliders.length===0)&& (this._scene._collsionTestList.splice(this._scene._collsionTestList.indexOf(this._number),1));
	}

	/**
	*获取编号。
	*@return 编号。
	*/
	__getset(0,__proto,'number',function(){
		return this._number;
	});

	/**
	*设置是否显示。
	*@param value 是否显示。
	*/
	/**
	*获取是否显示。
	*@return 是否显示。
	*/
	__getset(0,__proto,'visible',function(){
		return this._visible;
		},function(value){
		this._visible=value;
		if (value)
			this._scene._visibleLayers |=this._scene._visibleLayers | this.mask;
		else
		this._scene._visibleLayers=this._scene._visibleLayers & ~this.mask;
	});

	/**
	*获取蒙版值。
	*@return 蒙版值。
	*/
	__getset(0,__proto,'mask',function(){
		return this._mask;
	});

	Layer.maxCount=31;
	return Layer;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/RenderState.as=======199.999639/199.999639
/**
*<code>RenderState</code> 类用于控制渲染状态。
*/
//class laya.d3.core.material.RenderState
var RenderState=(function(){
	function RenderState(){
		/**渲染剔除状态。*/
		this.cull=0;
		/**透明混合。*/
		this.blend=0;
		/**源混合参数,在blend为BLEND_ENABLE_ALL时生效。*/
		this.srcBlend=0;
		/**目标混合参数,在blend为BLEND_ENABLE_ALL时生效。*/
		this.dstBlend=0;
		/**RGB源混合参数,在blend为BLEND_ENABLE_SEPERATE时生效。*/
		this.srcBlendRGB=0;
		/**RGB目标混合参数,在blend为BLEND_ENABLE_SEPERATE时生效。*/
		this.dstBlendRGB=0;
		/**Alpha源混合参数,在blend为BLEND_ENABLE_SEPERATE时生效。*/
		this.srcBlendAlpha=0;
		/**Alpha目标混合参数,在blend为BLEND_ENABLE_SEPERATE时生效。*/
		this.dstBlendAlpha=0;
		/**混合常量颜色。*/
		this.blendConstColor=null;
		/**混合方程。*/
		this.blendEquation=0;
		/**RGB混合方程。*/
		this.blendEquationRGB=0;
		/**Alpha混合方程。*/
		this.blendEquationAlpha=0;
		/**深度测试函数。*/
		this.depthTest=0;
		/**是否深度写入。*/
		this.depthWrite=false;
		this.cull=2;
		this.blend=0;
		this.srcBlend=1;
		this.dstBlend=0;
		this.srcBlendRGB=1;
		this.dstBlendRGB=0;
		this.srcBlendAlpha=1;
		this.dstBlendAlpha=0;
		this.blendConstColor=new Vector4(1,1,1,1);
		this.blendEquation=0;
		this.blendEquationRGB=0;
		this.blendEquationAlpha=0;
		this.depthTest=0x0203;
		this.depthWrite=true;
	}

	__class(RenderState,'laya.d3.core.material.RenderState');
	var __proto=RenderState.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*设置渲染相关状态。
	*/
	__proto._setRenderStateBlendDepth=function(){
		var gl=LayaGL.instance;
		WebGLContext.setDepthMask(gl,this.depthWrite);
		if (this.depthTest===0)
			WebGLContext.setDepthTest(gl,false);
		else {
			WebGLContext.setDepthTest(gl,true);
			WebGLContext.setDepthFunc(gl,this.depthTest);
		}
		switch (this.blend){
			case 0:
				WebGLContext.setBlend(gl,false);
				break ;
			case 1:
				WebGLContext.setBlend(gl,true);
				WebGLContext.setBlendFunc(gl,this.srcBlend,this.dstBlend);
				break ;
			case 2:
				WebGLContext.setBlend(gl,true);
				break ;
			}
	}

	/**
	*设置渲染相关状态。
	*/
	__proto._setRenderStateFrontFace=function(isTarget,transform){
		var gl=LayaGL.instance;
		var forntFace=0;
		switch (this.cull){
			case 0:
				WebGLContext.setCullFace(gl,false);
				break ;
			case 1:
				WebGLContext.setCullFace(gl,true);
				if (isTarget){
					if (transform && transform._isFrontFaceInvert)
						forntFace=0x0901;
					else
					forntFace=0x0900;
					}else {
					if (transform && transform._isFrontFaceInvert)
						forntFace=0x0900;
					else
					forntFace=0x0901;
				}
				WebGLContext.setFrontFace(gl,forntFace);
				break ;
			case 2:
				WebGLContext.setCullFace(gl,true);
				if (isTarget){
					if (transform && transform._isFrontFaceInvert)
						forntFace=0x0900;
					else
					forntFace=0x0901;
					}else {
					if (transform && transform._isFrontFaceInvert)
						forntFace=0x0901;
					else
					forntFace=0x0900;
				}
				WebGLContext.setFrontFace(gl,forntFace);
				break ;
			}
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(dest){
		var destState=dest;
		destState.cull=this.cull;
		destState.blend=this.blend;
		destState.srcBlend=this.srcBlend;
		destState.dstBlend=this.dstBlend;
		destState.srcBlendRGB=this.srcBlendRGB;
		destState.dstBlendRGB=this.dstBlendRGB;
		destState.srcBlendAlpha=this.srcBlendAlpha;
		destState.dstBlendAlpha=this.dstBlendAlpha;
		this.blendConstColor.cloneTo(destState.blendConstColor);
		destState.blendEquation=this.blendEquation;
		destState.blendEquationRGB=this.blendEquationRGB;
		destState.blendEquationAlpha=this.blendEquationAlpha;
		destState.depthTest=this.depthTest;
		destState.depthWrite=this.depthWrite;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	RenderState.CULL_NONE=0;
	RenderState.CULL_FRONT=1;
	RenderState.CULL_BACK=2;
	RenderState.BLEND_DISABLE=0;
	RenderState.BLEND_ENABLE_ALL=1;
	RenderState.BLEND_ENABLE_SEPERATE=2;
	RenderState.BLENDPARAM_ZERO=0;
	RenderState.BLENDPARAM_ONE=1;
	RenderState.BLENDPARAM_SRC_COLOR=0x0300;
	RenderState.BLENDPARAM_ONE_MINUS_SRC_COLOR=0x0301;
	RenderState.BLENDPARAM_DST_COLOR=0x0306;
	RenderState.BLENDPARAM_ONE_MINUS_DST_COLOR=0x0307;
	RenderState.BLENDPARAM_SRC_ALPHA=0x0302;
	RenderState.BLENDPARAM_ONE_MINUS_SRC_ALPHA=0x0303;
	RenderState.BLENDPARAM_DST_ALPHA=0x0304;
	RenderState.BLENDPARAM_ONE_MINUS_DST_ALPHA=0x0305;
	RenderState.BLENDPARAM_SRC_ALPHA_SATURATE=0x0308;
	RenderState.BLENDEQUATION_ADD=0;
	RenderState.BLENDEQUATION_SUBTRACT=1;
	RenderState.BLENDEQUATION_REVERSE_SUBTRACT=2;
	RenderState.DEPTHTEST_OFF=0;
	RenderState.DEPTHTEST_NEVER=0x0200;
	RenderState.DEPTHTEST_LESS=0x0201;
	RenderState.DEPTHTEST_EQUAL=0x0202;
	RenderState.DEPTHTEST_LEQUAL=0x0203;
	RenderState.DEPTHTEST_GREATER=0x0204;
	RenderState.DEPTHTEST_NOTEQUAL=0x0205;
	RenderState.DEPTHTEST_GEQUAL=0x0206;
	RenderState.DEPTHTEST_ALWAYS=0x0207;
	return RenderState;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/Burst.as=======199.999628/199.999628
/**
*<code>Burst</code> 类用于粒子的爆裂描述。
*/
//class laya.d3.core.particleShuriKen.module.Burst
var Burst=(function(){
	function Burst(time,minCount,maxCount){
		/**@private 爆裂时间,单位为秒。*/
		this._time=NaN;
		/**@private 爆裂的最小数量。*/
		this._minCount=0;
		/**@private 爆裂的最大数量。*/
		this._maxCount=0;
		this._time=time;
		this._minCount=minCount;
		this._maxCount=maxCount;
	}

	__class(Burst,'laya.d3.core.particleShuriKen.module.Burst');
	var __proto=Burst.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destBurst=destObject;
		destBurst._time=this._time
		destBurst._minCount=this._minCount;
		destBurst._maxCount=this._maxCount;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destBurst=new this.constructor();
		this.cloneTo(destBurst);
		return destBurst;
	}

	/**
	*获取爆裂时间,单位为秒。
	*@return 爆裂时间,单位为秒。
	*/
	__getset(0,__proto,'time',function(){
		return this._time;
	});

	/**
	*获取爆裂的最小数量。
	*@return 爆裂的最小数量。
	*/
	__getset(0,__proto,'minCount',function(){
		return this._minCount;
	});

	/**
	*获取爆裂的最大数量。
	*@return 爆裂的最大数量。
	*/
	__getset(0,__proto,'maxCount',function(){
		return this._maxCount;
	});

	return Burst;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/ColorOverLifetime.as=======199.999627/199.999627
/**
*<code>ColorOverLifetime</code> 类用于粒子的生命周期颜色。
*/
//class laya.d3.core.particleShuriKen.module.ColorOverLifetime
var ColorOverLifetime=(function(){
	function ColorOverLifetime(color){
		/**@private */
		this._color=null;
		/**是否启用。*/
		this.enbale=false;
		this._color=color;
	}

	__class(ColorOverLifetime,'laya.d3.core.particleShuriKen.module.ColorOverLifetime');
	var __proto=ColorOverLifetime.prototype;
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destColorOverLifetime=destObject;
		this._color.cloneTo(destColorOverLifetime._color);
		destColorOverLifetime.enbale=this.enbale;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destColor;
		switch (this._color.type){
			case 0:
				destColor=GradientColor.createByConstant(this._color.constant.clone());
				break ;
			case 1:
				destColor=GradientColor.createByGradient(this._color.gradient.clone());
				break ;
			case 2:
				destColor=GradientColor.createByRandomTwoConstant(this._color.constantMin.clone(),this._color.constantMax.clone());
				break ;
			case 3:
				destColor=GradientColor.createByRandomTwoGradient(this._color.gradientMin.clone(),this._color.gradientMax.clone());
				break ;
			};
		var destColorOverLifetime=new this.constructor(destColor);
		destColorOverLifetime.enbale=this.enbale;
		return destColorOverLifetime;
	}

	/**
	*获取颜色。
	*/
	__getset(0,__proto,'color',function(){
		return this._color;
	});

	return ColorOverLifetime;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/Emission.as=======199.999626/199.999626
/**
*<code>Emission</code> 类用于粒子发射器。
*/
//class laya.d3.core.particleShuriKen.module.Emission
var Emission=(function(){
	function Emission(){
		/**@private */
		this._destroyed=false;
		/**@private 粒子发射速率,每秒发射的个数。*/
		this._emissionRate=0;
		/**@private 粒子的爆裂,不允许修改。*/
		this._bursts=null;
		/**是否启用。*/
		this.enbale=false;
		this._destroyed=false;
		this.emissionRate=10;
		this._bursts=[];
	}

	__class(Emission,'laya.d3.core.particleShuriKen.module.Emission');
	var __proto=Emission.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true,"laya.resource.IDestroy":true})
	/**
	*@private
	*/
	__proto.destroy=function(){
		this._bursts=null;
		this._destroyed=true;
	}

	/**
	*获取粒子爆裂个数。
	*@return 粒子爆裂个数。
	*/
	__proto.getBurstsCount=function(){
		return this._bursts.length;
	}

	/**
	*通过索引获取粒子爆裂。
	*@param index 爆裂索引。
	*@return 粒子爆裂。
	*/
	__proto.getBurstByIndex=function(index){
		return this._bursts[index];
	}

	/**
	*增加粒子爆裂。
	*@param burst 爆裂。
	*/
	__proto.addBurst=function(burst){
		var burstsCount=this._bursts.length;
		if (burstsCount > 0)
			for (var i=0;i < burstsCount;i++){
			if (this._bursts[i].time > burst.time)
				this._bursts.splice(i,0,burst);
		}
		this._bursts.push(burst);
	}

	/**
	*移除粒子爆裂。
	*@param burst 爆裂。
	*/
	__proto.removeBurst=function(burst){
		var index=this._bursts.indexOf(burst);
		if (index!==-1){
			this._bursts.splice(index,1);
		}
	}

	/**
	*通过索引移除粒子爆裂。
	*@param index 爆裂索引。
	*/
	__proto.removeBurstByIndex=function(index){
		this._bursts.splice(index,1);
	}

	/**
	*清空粒子爆裂。
	*/
	__proto.clearBurst=function(){
		this._bursts.length=0;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destEmission=destObject;
		var destBursts=destEmission._bursts;
		destBursts.length=this._bursts.length;
		for (var i=0,n=this._bursts.length;i < n;i++){
			var destBurst=destBursts[i];
			if (destBurst)
				this._bursts[i].cloneTo(destBurst);
			else
			destBursts[i]=this._bursts[i].clone();
		}
		destEmission._emissionRate=this._emissionRate;
		destEmission.enbale=this.enbale;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destEmission=new this.constructor();
		this.cloneTo(destEmission);
		return destEmission;
	}

	/**
	*获取是否已销毁。
	*@return 是否已销毁。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	/**
	*设置粒子发射速率。
	*@param emissionRate 粒子发射速率 (个/秒)。
	*/
	/**
	*获取粒子发射速率。
	*@return 粒子发射速率 (个/秒)。
	*/
	__getset(0,__proto,'emissionRate',function(){
		return this._emissionRate;
		},function(value){
		if (value < 0)
			throw new Error("ParticleBaseShape:emissionRate value must large or equal than 0.");
		this._emissionRate=value;
	});

	return Emission;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/FrameOverTime.as=======199.999625/199.999625
/**
*<code>FrameOverTime</code> 类用于创建时间帧。
*/
//class laya.d3.core.particleShuriKen.module.FrameOverTime
var FrameOverTime=(function(){
	function FrameOverTime(){
		/**@private */
		this._type=0;
		/**@private */
		this._constant=0;
		/**@private */
		this._overTime=null;
		/**@private */
		this._constantMin=0;
		/**@private */
		this._constantMax=0;
		/**@private */
		this._overTimeMin=null;
		/**@private */
		this._overTimeMax=null;
	}

	__class(FrameOverTime,'laya.d3.core.particleShuriKen.module.FrameOverTime');
	var __proto=FrameOverTime.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destFrameOverTime=destObject;
		destFrameOverTime._type=this._type;
		destFrameOverTime._constant=this._constant;
		this._overTime.cloneTo(destFrameOverTime._overTime);
		destFrameOverTime._constantMin=this._constantMin;
		destFrameOverTime._constantMax=this._constantMax;
		this._overTimeMin.cloneTo(destFrameOverTime._overTimeMin);
		this._overTimeMax.cloneTo(destFrameOverTime._overTimeMax);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destFrameOverTime=new this.constructor();
		this.cloneTo(destFrameOverTime);
		return destFrameOverTime;
	}

	/**
	*时间帧。
	*/
	__getset(0,__proto,'frameOverTimeData',function(){
		return this._overTime;
	});

	/**
	*固定帧。
	*/
	__getset(0,__proto,'constant',function(){
		return this._constant;
	});

	/**
	*生命周期旋转类型,0常量模式，1曲线模式，2随机双常量模式，3随机双曲线模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*最小时间帧。
	*/
	__getset(0,__proto,'frameOverTimeDataMin',function(){
		return this._overTimeMin;
	});

	/**
	*最小固定帧。
	*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*最大时间帧。
	*/
	__getset(0,__proto,'frameOverTimeDataMax',function(){
		return this._overTimeMax;
	});

	/**
	*最大固定帧。
	*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	FrameOverTime.createByConstant=function(constant){
		var rotationOverLifetime=new FrameOverTime();
		rotationOverLifetime._type=0;
		rotationOverLifetime._constant=constant;
		return rotationOverLifetime;
	}

	FrameOverTime.createByOverTime=function(overTime){
		var rotationOverLifetime=new FrameOverTime();
		rotationOverLifetime._type=1;
		rotationOverLifetime._overTime=overTime;
		return rotationOverLifetime;
	}

	FrameOverTime.createByRandomTwoConstant=function(constantMin,constantMax){
		var rotationOverLifetime=new FrameOverTime();
		rotationOverLifetime._type=2;
		rotationOverLifetime._constantMin=constantMin;
		rotationOverLifetime._constantMax=constantMax;
		return rotationOverLifetime;
	}

	FrameOverTime.createByRandomTwoOverTime=function(gradientFrameMin,gradientFrameMax){
		var rotationOverLifetime=new FrameOverTime();
		rotationOverLifetime._type=3;
		rotationOverLifetime._overTimeMin=gradientFrameMin;
		rotationOverLifetime._overTimeMax=gradientFrameMax;
		return rotationOverLifetime;
	}

	return FrameOverTime;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientAngularVelocity.as=======199.999624/199.999624
/**
*<code>GradientRotation</code> 类用于创建渐变角速度。
*/
//class laya.d3.core.particleShuriKen.module.GradientAngularVelocity
var GradientAngularVelocity=(function(){
	function GradientAngularVelocity(){
		/**@private */
		this._type=0;
		/**@private */
		this._separateAxes=false;
		/**@private */
		this._constant=NaN;
		/**@private */
		this._constantSeparate=null;
		/**@private */
		this._gradient=null;
		/**@private */
		this._gradientX=null;
		/**@private */
		this._gradientY=null;
		/**@private */
		this._gradientZ=null;
		/**@private */
		this._gradientW=null;
		/**@private */
		this._constantMin=NaN;
		/**@private */
		this._constantMax=NaN;
		/**@private */
		this._constantMinSeparate=null;
		/**@private */
		this._constantMaxSeparate=null;
		/**@private */
		this._gradientMin=null;
		/**@private */
		this._gradientMax=null;
		/**@private */
		this._gradientXMin=null;
		/**@private */
		this._gradientXMax=null;
		/**@private */
		this._gradientYMin=null;
		/**@private */
		this._gradientYMax=null;
		/**@private */
		this._gradientZMin=null;
		/**@private */
		this._gradientZMax=null;
		/**@private */
		this._gradientWMin=null;
		/**@private */
		this._gradientWMax=null;
	}

	__class(GradientAngularVelocity,'laya.d3.core.particleShuriKen.module.GradientAngularVelocity');
	var __proto=GradientAngularVelocity.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientAngularVelocity=destObject;
		destGradientAngularVelocity._type=this._type;
		destGradientAngularVelocity._separateAxes=this._separateAxes;
		destGradientAngularVelocity._constant=this._constant;
		this._constantSeparate.cloneTo(destGradientAngularVelocity._constantSeparate);
		this._gradient.cloneTo(destGradientAngularVelocity._gradient);
		this._gradientX.cloneTo(destGradientAngularVelocity._gradientX);
		this._gradientY.cloneTo(destGradientAngularVelocity._gradientY);
		this._gradientZ.cloneTo(destGradientAngularVelocity._gradientZ);
		destGradientAngularVelocity._constantMin=this._constantMin;
		destGradientAngularVelocity._constantMax=this._constantMax;
		this._constantMinSeparate.cloneTo(destGradientAngularVelocity._constantMinSeparate);
		this._constantMaxSeparate.cloneTo(destGradientAngularVelocity._constantMaxSeparate);
		this._gradientMin.cloneTo(destGradientAngularVelocity._gradientMin);
		this._gradientMax.cloneTo(destGradientAngularVelocity._gradientMax);
		this._gradientXMin.cloneTo(destGradientAngularVelocity._gradientXMin);
		this._gradientXMax.cloneTo(destGradientAngularVelocity._gradientXMax);
		this._gradientYMin.cloneTo(destGradientAngularVelocity._gradientYMin);
		this._gradientYMax.cloneTo(destGradientAngularVelocity._gradientYMax);
		this._gradientZMin.cloneTo(destGradientAngularVelocity._gradientZMin);
		this._gradientZMax.cloneTo(destGradientAngularVelocity._gradientZMax);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientAngularVelocity=new this.constructor();
		this.cloneTo(destGradientAngularVelocity);
		return destGradientAngularVelocity;
	}

	/**
	*渐变角速度Z。
	*/
	__getset(0,__proto,'gradientZ',function(){
		return this._gradientZ;
	});

	/**
	*固定角速度。
	*/
	__getset(0,__proto,'constant',function(){
		return this._constant;
	});

	/**
	*渐变角速度。
	*/
	__getset(0,__proto,'gradient',function(){
		return this._gradient;
	});

	/**
	*是否分轴。
	*/
	__getset(0,__proto,'separateAxes',function(){
		return this._separateAxes;
	});

	/**
	*生命周期角速度类型,0常量模式，1曲线模式，2随机双常量模式，3随机双曲线模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*分轴固定角速度。
	*/
	__getset(0,__proto,'constantSeparate',function(){
		return this._constantSeparate;
	});

	/**
	*渐变角角速度X。
	*/
	__getset(0,__proto,'gradientX',function(){
		return this._gradientX;
	});

	/**
	*渐变角速度Y。
	*/
	__getset(0,__proto,'gradientY',function(){
		return this._gradientY;
	});

	/**
	*渐变角速度Z。
	*/
	__getset(0,__proto,'gradientW',function(){
		return this._gradientW;
	});

	/**
	*最小渐变角速度。
	*/
	__getset(0,__proto,'gradientMin',function(){
		return this._gradientMin;
	});

	/**
	*最小随机双固定角速度。
	*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*最大渐变角速度。
	*/
	__getset(0,__proto,'gradientMax',function(){
		return this._gradientMax;
	});

	/**
	*最大随机双固定角速度。
	*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	/**
	*最小渐变角速度Z。
	*/
	__getset(0,__proto,'gradientWMin',function(){
		return this._gradientWMin;
	});

	/**
	*最小分轴随机双固定角速度。
	*/
	__getset(0,__proto,'constantMinSeparate',function(){
		return this._constantMinSeparate;
	});

	/**
	*最大分轴随机双固定角速度。
	*/
	__getset(0,__proto,'constantMaxSeparate',function(){
		return this._constantMaxSeparate;
	});

	/**
	*最小渐变角速度X。
	*/
	__getset(0,__proto,'gradientXMin',function(){
		return this._gradientXMin;
	});

	/**
	*最大渐变角速度X。
	*/
	__getset(0,__proto,'gradientXMax',function(){
		return this._gradientXMax;
	});

	/**
	*最大渐变角速度Z。
	*/
	__getset(0,__proto,'gradientWMax',function(){
		return this._gradientWMax;
	});

	/**
	*最小渐变角速度Y。
	*/
	__getset(0,__proto,'gradientYMin',function(){
		return this._gradientYMin;
	});

	/**
	*最大渐变角速度Y。
	*/
	__getset(0,__proto,'gradientYMax',function(){
		return this._gradientYMax;
	});

	/**
	*最小渐变角速度Z。
	*/
	__getset(0,__proto,'gradientZMin',function(){
		return this._gradientZMin;
	});

	/**
	*最大渐变角速度Z。
	*/
	__getset(0,__proto,'gradientZMax',function(){
		return this._gradientZMax;
	});

	GradientAngularVelocity.createByConstant=function(constant){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=0;
		gradientAngularVelocity._separateAxes=false;
		gradientAngularVelocity._constant=constant;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByConstantSeparate=function(separateConstant){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=0;
		gradientAngularVelocity._separateAxes=true;
		gradientAngularVelocity._constantSeparate=separateConstant;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByGradient=function(gradient){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=1;
		gradientAngularVelocity._separateAxes=false;
		gradientAngularVelocity._gradient=gradient;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByGradientSeparate=function(gradientX,gradientY,gradientZ,gradientW){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=1;
		gradientAngularVelocity._separateAxes=true;
		gradientAngularVelocity._gradientX=gradientX;
		gradientAngularVelocity._gradientY=gradientY;
		gradientAngularVelocity._gradientZ=gradientZ;
		gradientAngularVelocity._gradientW=gradientW;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByRandomTwoConstant=function(constantMin,constantMax){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=2;
		gradientAngularVelocity._separateAxes=false;
		gradientAngularVelocity._constantMin=constantMin;
		gradientAngularVelocity._constantMax=constantMax;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByRandomTwoConstantSeparate=function(separateConstantMin,separateConstantMax){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=2;
		gradientAngularVelocity._separateAxes=true;
		gradientAngularVelocity._constantMinSeparate=separateConstantMin;
		gradientAngularVelocity._constantMaxSeparate=separateConstantMax;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByRandomTwoGradient=function(gradientMin,gradientMax){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=3;
		gradientAngularVelocity._separateAxes=false;
		gradientAngularVelocity._gradientMin=gradientMin;
		gradientAngularVelocity._gradientMax=gradientMax;
		return gradientAngularVelocity;
	}

	GradientAngularVelocity.createByRandomTwoGradientSeparate=function(gradientXMin,gradientXMax,gradientYMin,gradientYMax,gradientZMin,gradientZMax,gradientWMin,gradientWMax){
		var gradientAngularVelocity=new GradientAngularVelocity();
		gradientAngularVelocity._type=3;
		gradientAngularVelocity._separateAxes=true;
		gradientAngularVelocity._gradientXMin=gradientXMin;
		gradientAngularVelocity._gradientXMax=gradientXMax;
		gradientAngularVelocity._gradientYMin=gradientYMin;
		gradientAngularVelocity._gradientYMax=gradientYMax;
		gradientAngularVelocity._gradientZMin=gradientZMin;
		gradientAngularVelocity._gradientZMax=gradientZMax;
		gradientAngularVelocity._gradientWMin=gradientWMin;
		gradientAngularVelocity._gradientWMax=gradientWMax;
		return gradientAngularVelocity;
	}

	return GradientAngularVelocity;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientColor.as=======199.999623/199.999623
/**
*<code>GradientColor</code> 类用于创建渐变颜色。
*/
//class laya.d3.core.particleShuriKen.module.GradientColor
var GradientColor=(function(){
	function GradientColor(){
		/**@private */
		this._type=0;
		/**@private */
		this._constant=null;
		/**@private */
		this._constantMin=null;
		/**@private */
		this._constantMax=null;
		/**@private */
		this._gradient=null;
		/**@private */
		this._gradientMin=null;
		/**@private */
		this._gradientMax=null;
	}

	__class(GradientColor,'laya.d3.core.particleShuriKen.module.GradientColor');
	var __proto=GradientColor.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientColor=destObject;
		destGradientColor._type=this._type;
		this._constant.cloneTo(destGradientColor._constant);
		this._constantMin.cloneTo(destGradientColor._constantMin);
		this._constantMax.cloneTo(destGradientColor._constantMax);
		this._gradient.cloneTo(destGradientColor._gradient);
		this._gradientMin.cloneTo(destGradientColor._gradientMin);
		this._gradientMax.cloneTo(destGradientColor._gradientMax);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientColor=new this.constructor();
		this.cloneTo(destGradientColor);
		return destGradientColor;
	}

	/**
	*渐变颜色。
	*/
	__getset(0,__proto,'gradient',function(){
		return this._gradient;
	});

	/**
	*固定颜色。
	*/
	__getset(0,__proto,'constant',function(){
		return this._constant;
	});

	/**
	*生命周期颜色类型,0为固定颜色模式,1渐变模式,2为随机双固定颜色模式,3随机双渐变模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*最小渐变颜色。
	*/
	__getset(0,__proto,'gradientMin',function(){
		return this._gradientMin;
	});

	/**
	*最小固定颜色。
	*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*最大渐变颜色。
	*/
	__getset(0,__proto,'gradientMax',function(){
		return this._gradientMax;
	});

	/**
	*最大固定颜色。
	*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	GradientColor.createByConstant=function(constant){
		var gradientColor=new GradientColor();
		gradientColor._type=0;
		gradientColor._constant=constant;
		return gradientColor;
	}

	GradientColor.createByGradient=function(gradient){
		var gradientColor=new GradientColor();
		gradientColor._type=1;
		gradientColor._gradient=gradient;
		return gradientColor;
	}

	GradientColor.createByRandomTwoConstant=function(minConstant,maxConstant){
		var gradientColor=new GradientColor();
		gradientColor._type=2;
		gradientColor._constantMin=minConstant;
		gradientColor._constantMax=maxConstant;
		return gradientColor;
	}

	GradientColor.createByRandomTwoGradient=function(minGradient,maxGradient){
		var gradientColor=new GradientColor();
		gradientColor._type=3;
		gradientColor._gradientMin=minGradient;
		gradientColor._gradientMax=maxGradient;
		return gradientColor;
	}

	return GradientColor;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientDataColor.as=======199.999622/199.999622
/**
*<code>GradientDataColor</code> 类用于创建颜色渐变。
*/
//class laya.d3.core.particleShuriKen.module.GradientDataColor
var GradientDataColor=(function(){
	function GradientDataColor(){
		/**@private */
		this._alphaCurrentLength=0;
		/**@private */
		this._rgbCurrentLength=0;
		/**@private 开发者禁止修改。*/
		this._alphaElements=null;
		/**@private 开发者禁止修改。*/
		this._rgbElements=null;
		this._alphaElements=new Float32Array(8);
		this._rgbElements=new Float32Array(16);
	}

	__class(GradientDataColor,'laya.d3.core.particleShuriKen.module.GradientDataColor');
	var __proto=GradientDataColor.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*增加Alpha渐变。
	*@param key 生命周期，范围为0到1。
	*@param value rgb值。
	*/
	__proto.addAlpha=function(key,value){
		if (this._alphaCurrentLength < 8){
			if ((this._alphaCurrentLength===6)&& ((key!==1))){
				key=1;
				console.log("GradientDataColor warning:the forth key is  be force set to 1.");
			}
			this._alphaElements[this._alphaCurrentLength++]=key;
			this._alphaElements[this._alphaCurrentLength++]=value;
			}else {
			console.log("GradientDataColor warning:data count must lessEqual than 4");
		}
	}

	/**
	*增加RGB渐变。
	*@param key 生命周期，范围为0到1。
	*@param value RGB值。
	*/
	__proto.addRGB=function(key,value){
		if (this._rgbCurrentLength < 16){
			if ((this._rgbCurrentLength===12)&& ((key!==1))){
				key=1;
				console.log("GradientDataColor warning:the forth key is  be force set to 1.");
			}
			this._rgbElements[this._rgbCurrentLength++]=key;
			this._rgbElements[this._rgbCurrentLength++]=value.x;
			this._rgbElements[this._rgbCurrentLength++]=value.y;
			this._rgbElements[this._rgbCurrentLength++]=value.z;
			}else {
			console.log("GradientDataColor warning:data count must lessEqual than 4");
		}
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientDataColor=destObject;
		var i=0,n=0;
		destGradientDataColor._alphaCurrentLength=this._alphaCurrentLength;
		var destAlphaElements=destGradientDataColor._alphaElements;
		destAlphaElements.length=this._alphaElements.length;
		for (i=0,n=this._alphaElements.length;i < n;i++)
		destAlphaElements[i]=this._alphaElements[i];
		destGradientDataColor._rgbCurrentLength=this._rgbCurrentLength;
		var destRGBElements=destGradientDataColor._rgbElements;
		destRGBElements.length=this._rgbElements.length;
		for (i=0,n=this._rgbElements.length;i < n;i++)
		destRGBElements[i]=this._rgbElements[i];
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientDataColor=new this.constructor();
		this.cloneTo(destGradientDataColor);
		return destGradientDataColor;
	}

	/**渐变Alpha数量。*/
	__getset(0,__proto,'alphaGradientCount',function(){
		return this._alphaCurrentLength / 2;
	});

	/**渐变RGB数量。*/
	__getset(0,__proto,'rgbGradientCount',function(){
		return this._rgbCurrentLength / 4;
	});

	return GradientDataColor;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientDataInt.as=======199.999621/199.999621
/**
*<code>GradientDataInt</code> 类用于创建整形渐变。
*/
//class laya.d3.core.particleShuriKen.module.GradientDataInt
var GradientDataInt=(function(){
	function GradientDataInt(){
		/**@private */
		this._currentLength=0;
		/**@private 开发者禁止修改。*/
		this._elements=null;
		this._elements=new Float32Array(8);
	}

	__class(GradientDataInt,'laya.d3.core.particleShuriKen.module.GradientDataInt');
	var __proto=GradientDataInt.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*增加整形渐变。
	*@param key 生命周期，范围为0到1。
	*@param value 整形值。
	*/
	__proto.add=function(key,value){
		if (this._currentLength < 8){
			if ((this._currentLength===6)&& ((key!==1))){
				key=1;
				console.log("Warning:the forth key is  be force set to 1.");
			}
			this._elements[this._currentLength++]=key;
			this._elements[this._currentLength++]=value;
			}else {
			console.log("Warning:data count must lessEqual than 4");
		}
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientDataInt=destObject;
		destGradientDataInt._currentLength=this._currentLength;
		var destElements=destGradientDataInt._elements;
		destElements.length=this._elements.length;
		for (var i=0,n=this._elements.length;i < n;i++){
			destElements[i]=this._elements[i];
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientDataInt=new this.constructor();
		this.cloneTo(destGradientDataInt);
		return destGradientDataInt;
	}

	/**整形渐变数量。*/
	__getset(0,__proto,'gradientCount',function(){
		return this._currentLength / 2;
	});

	return GradientDataInt;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientDataNumber.as=======199.999620/199.999620
/**
*<code>GradientDataNumber</code> 类用于创建浮点渐变。
*/
//class laya.d3.core.particleShuriKen.module.GradientDataNumber
var GradientDataNumber=(function(){
	function GradientDataNumber(){
		/**@private */
		this._currentLength=0;
		/**@private 开发者禁止修改。*/
		this._elements=null;
		this._elements=new Float32Array(8);
	}

	__class(GradientDataNumber,'laya.d3.core.particleShuriKen.module.GradientDataNumber');
	var __proto=GradientDataNumber.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*增加浮点渐变。
	*@param key 生命周期，范围为0到1。
	*@param value 浮点值。
	*/
	__proto.add=function(key,value){
		if (this._currentLength < 8){
			if ((this._currentLength===6)&& ((key!==1))){
				key=1;
				console.log("GradientDataNumber warning:the forth key is  be force set to 1.");
			}
			this._elements[this._currentLength++]=key;
			this._elements[this._currentLength++]=value;
			}else {
			console.log("GradientDataNumber warning:data count must lessEqual than 4");
		}
	}

	/**
	*通过索引获取键。
	*@param index 索引。
	*@return value 键。
	*/
	__proto.getKeyByIndex=function(index){
		return this._elements[index *2];
	}

	/**
	*通过索引获取值。
	*@param index 索引。
	*@return value 值。
	*/
	__proto.getValueByIndex=function(index){
		return this._elements[index *2+1];
	}

	/**
	*获取平均值。
	*/
	__proto.getAverageValue=function(){
		var total=0;
		for (var i=0,n=this._currentLength-2;i < n;i+=2){
			var subValue=this._elements[i+1];
			subValue+=this._elements[i+3];
			subValue=subValue *(this._elements[i+2]-this._elements[i]);
		}
		return total / 2;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientDataNumber=destObject;
		destGradientDataNumber._currentLength=this._currentLength;
		var destElements=destGradientDataNumber._elements;
		destElements.length=this._elements.length;
		for (var i=0,n=this._elements.length;i < n;i++)
		destElements[i]=this._elements[i];
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientDataNumber=new this.constructor();
		this.cloneTo(destGradientDataNumber);
		return destGradientDataNumber;
	}

	/**渐变浮点数量。*/
	__getset(0,__proto,'gradientCount',function(){
		return this._currentLength / 2;
	});

	return GradientDataNumber;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientSize.as=======199.999618/199.999618
/**
*<code>GradientSize</code> 类用于创建渐变尺寸。
*/
//class laya.d3.core.particleShuriKen.module.GradientSize
var GradientSize=(function(){
	function GradientSize(){
		/**@private */
		this._type=0;
		/**@private */
		this._separateAxes=false;
		/**@private */
		this._gradient=null;
		/**@private */
		this._gradientX=null;
		/**@private */
		this._gradientY=null;
		/**@private */
		this._gradientZ=null;
		/**@private */
		this._constantMin=NaN;
		/**@private */
		this._constantMax=NaN;
		/**@private */
		this._constantMinSeparate=null;
		/**@private */
		this._constantMaxSeparate=null;
		/**@private */
		this._gradientMin=null;
		/**@private */
		this._gradientMax=null;
		/**@private */
		this._gradientXMin=null;
		/**@private */
		this._gradientXMax=null;
		/**@private */
		this._gradientYMin=null;
		/**@private */
		this._gradientYMax=null;
		/**@private */
		this._gradientZMin=null;
		/**@private */
		this._gradientZMax=null;
	}

	__class(GradientSize,'laya.d3.core.particleShuriKen.module.GradientSize');
	var __proto=GradientSize.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*获取最大尺寸。
	*/
	__proto.getMaxSizeInGradient=function(){
		var i=0,n=0;
		var maxSize=-Number.MAX_VALUE;
		switch (this._type){
			case 0:
				if (this._separateAxes){
					for (i=0,n=this._gradientX.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientX.getValueByIndex(i));
					for (i=0,n=this._gradientY.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientY.getValueByIndex(i));
					}else {
					for (i=0,n=this._gradient.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradient.getValueByIndex(i));
				}
				break ;
			case 1:
				if (this._separateAxes){
					maxSize=Math.max(this._constantMinSeparate.x,this._constantMaxSeparate.x);
					maxSize=Math.max(maxSize,this._constantMinSeparate.y);
					maxSize=Math.max(maxSize,this._constantMaxSeparate.y);
					}else {
					maxSize=Math.max(this._constantMin,this._constantMax);
				}
				break ;
			case 2:
				if (this._separateAxes){
					for (i=0,n=this._gradientXMin.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientXMin.getValueByIndex(i));
					for (i=0,n=this._gradientXMax.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientXMax.getValueByIndex(i));
					for (i=0,n=this._gradientYMin.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientYMin.getValueByIndex(i));
					for (i=0,n=this._gradientZMax.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientZMax.getValueByIndex(i));
					}else {
					for (i=0,n=this._gradientMin.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientMin.getValueByIndex(i));
					for (i=0,n=this._gradientMax.gradientCount;i < n;i++)
					maxSize=Math.max(maxSize,this._gradientMax.getValueByIndex(i));
				}
				break ;
			}
		return maxSize;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientSize=destObject;
		destGradientSize._type=this._type;
		destGradientSize._separateAxes=this._separateAxes;
		this._gradient.cloneTo(destGradientSize._gradient);
		this._gradientX.cloneTo(destGradientSize._gradientX);
		this._gradientY.cloneTo(destGradientSize._gradientY);
		this._gradientZ.cloneTo(destGradientSize._gradientZ);
		destGradientSize._constantMin=this._constantMin;
		destGradientSize._constantMax=this._constantMax;
		this._constantMinSeparate.cloneTo(destGradientSize._constantMinSeparate);
		this._constantMaxSeparate.cloneTo(destGradientSize._constantMaxSeparate);
		this._gradientMin.cloneTo(destGradientSize._gradientMin);
		this._gradientMax.cloneTo(destGradientSize._gradientMax);
		this._gradientXMin.cloneTo(destGradientSize._gradientXMin);
		this._gradientXMax.cloneTo(destGradientSize._gradientXMax);
		this._gradientYMin.cloneTo(destGradientSize._gradientYMin);
		this._gradientYMax.cloneTo(destGradientSize._gradientYMax);
		this._gradientZMin.cloneTo(destGradientSize._gradientZMin);
		this._gradientZMax.cloneTo(destGradientSize._gradientZMax);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientSize=new this.constructor();
		this.cloneTo(destGradientSize);
		return destGradientSize;
	}

	/**
	*渐变尺寸Z。
	*/
	__getset(0,__proto,'gradientZ',function(){
		return this._gradientZ;
	});

	/**
	*渐变尺寸。
	*/
	__getset(0,__proto,'gradient',function(){
		return this._gradient;
	});

	/**
	*是否分轴。
	*/
	__getset(0,__proto,'separateAxes',function(){
		return this._separateAxes;
	});

	/**
	*生命周期尺寸类型，0曲线模式，1随机双常量模式，2随机双曲线模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*渐变最小尺寸。
	*/
	__getset(0,__proto,'gradientMin',function(){
		return this._gradientMin;
	});

	/**
	*最小随机双固定尺寸。
	*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*渐变尺寸X。
	*/
	__getset(0,__proto,'gradientX',function(){
		return this._gradientX;
	});

	/**
	*渐变尺寸Y。
	*/
	__getset(0,__proto,'gradientY',function(){
		return this._gradientY;
	});

	/**
	*渐变最大尺寸。
	*/
	__getset(0,__proto,'gradientMax',function(){
		return this._gradientMax;
	});

	/**
	*最大随机双固定尺寸。
	*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	/**
	*最小分轴随机双固定尺寸。
	*/
	__getset(0,__proto,'constantMinSeparate',function(){
		return this._constantMinSeparate;
	});

	/**
	*最小分轴随机双固定尺寸。
	*/
	__getset(0,__proto,'constantMaxSeparate',function(){
		return this._constantMaxSeparate;
	});

	/**
	*渐变最小尺寸X。
	*/
	__getset(0,__proto,'gradientXMin',function(){
		return this._gradientXMin;
	});

	/**
	*渐变最大尺寸X。
	*/
	__getset(0,__proto,'gradientXMax',function(){
		return this._gradientXMax;
	});

	/**
	*渐变最小尺寸Y。
	*/
	__getset(0,__proto,'gradientYMin',function(){
		return this._gradientYMin;
	});

	/**
	*渐变最大尺寸Y。
	*/
	__getset(0,__proto,'gradientYMax',function(){
		return this._gradientYMax;
	});

	/**
	*渐变最小尺寸Z。
	*/
	__getset(0,__proto,'gradientZMin',function(){
		return this._gradientZMin;
	});

	/**
	*渐变最大尺寸Z。
	*/
	__getset(0,__proto,'gradientZMax',function(){
		return this._gradientZMax;
	});

	GradientSize.createByGradient=function(gradient){
		var gradientSize=new GradientSize();
		gradientSize._type=0;
		gradientSize._separateAxes=false;
		gradientSize._gradient=gradient;
		return gradientSize;
	}

	GradientSize.createByGradientSeparate=function(gradientX,gradientY,gradientZ){
		var gradientSize=new GradientSize();
		gradientSize._type=0;
		gradientSize._separateAxes=true;
		gradientSize._gradientX=gradientX;
		gradientSize._gradientY=gradientY;
		gradientSize._gradientZ=gradientZ;
		return gradientSize;
	}

	GradientSize.createByRandomTwoConstant=function(constantMin,constantMax){
		var gradientSize=new GradientSize();
		gradientSize._type=1;
		gradientSize._separateAxes=false;
		gradientSize._constantMin=constantMin;
		gradientSize._constantMax=constantMax;
		return gradientSize;
	}

	GradientSize.createByRandomTwoConstantSeparate=function(constantMinSeparate,constantMaxSeparate){
		var gradientSize=new GradientSize();
		gradientSize._type=1;
		gradientSize._separateAxes=true;
		gradientSize._constantMinSeparate=constantMinSeparate;
		gradientSize._constantMaxSeparate=constantMaxSeparate;
		return gradientSize;
	}

	GradientSize.createByRandomTwoGradient=function(gradientMin,gradientMax){
		var gradientSize=new GradientSize();
		gradientSize._type=2;
		gradientSize._separateAxes=false;
		gradientSize._gradientMin=gradientMin;
		gradientSize._gradientMax=gradientMax;
		return gradientSize;
	}

	GradientSize.createByRandomTwoGradientSeparate=function(gradientXMin,gradientXMax,gradientYMin,gradientYMax,gradientZMin,gradientZMax){
		var gradientSize=new GradientSize();
		gradientSize._type=2;
		gradientSize._separateAxes=true;
		gradientSize._gradientXMin=gradientXMin;
		gradientSize._gradientXMax=gradientXMax;
		gradientSize._gradientYMin=gradientYMin;
		gradientSize._gradientYMax=gradientYMax;
		gradientSize._gradientZMin=gradientZMin;
		gradientSize._gradientZMax=gradientZMax;
		return gradientSize;
	}

	return GradientSize;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/GradientVelocity.as=======199.999617/199.999617
/**
*<code>GradientVelocity</code> 类用于创建渐变速度。
*/
//class laya.d3.core.particleShuriKen.module.GradientVelocity
var GradientVelocity=(function(){
	function GradientVelocity(){
		/**@private */
		this._type=0;
		/**@private */
		this._constant=null;
		/**@private */
		this._gradientX=null;
		/**@private */
		this._gradientY=null;
		/**@private */
		this._gradientZ=null;
		/**@private */
		this._constantMin=null;
		/**@private */
		this._constantMax=null;
		/**@private */
		this._gradientXMin=null;
		/**@private */
		this._gradientXMax=null;
		/**@private */
		this._gradientYMin=null;
		/**@private */
		this._gradientYMax=null;
		/**@private */
		this._gradientZMin=null;
		/**@private */
		this._gradientZMax=null;
	}

	__class(GradientVelocity,'laya.d3.core.particleShuriKen.module.GradientVelocity');
	var __proto=GradientVelocity.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destGradientVelocity=destObject;
		destGradientVelocity._type=this._type;
		this._constant.cloneTo(destGradientVelocity._constant);
		this._gradientX.cloneTo(destGradientVelocity._gradientX);
		this._gradientY.cloneTo(destGradientVelocity._gradientY);
		this._gradientZ.cloneTo(destGradientVelocity._gradientZ);
		this._constantMin.cloneTo(destGradientVelocity._constantMin);
		this._constantMax.cloneTo(destGradientVelocity._constantMax);
		this._gradientXMin.cloneTo(destGradientVelocity._gradientXMin);
		this._gradientXMax.cloneTo(destGradientVelocity._gradientXMax);
		this._gradientYMin.cloneTo(destGradientVelocity._gradientYMin);
		this._gradientYMax.cloneTo(destGradientVelocity._gradientYMax);
		this._gradientZMin.cloneTo(destGradientVelocity._gradientZMin);
		this._gradientZMax.cloneTo(destGradientVelocity._gradientZMax);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destGradientVelocity=new this.constructor();
		this.cloneTo(destGradientVelocity);
		return destGradientVelocity;
	}

	/**
	*渐变速度Z。
	*/
	__getset(0,__proto,'gradientZ',function(){
		return this._gradientZ;
	});

	/**固定速度。*/
	__getset(0,__proto,'constant',function(){
		return this._constant;
	});

	/**
	*生命周期速度类型，0常量模式，1曲线模式，2随机双常量模式，3随机双曲线模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*渐变最大速度X。
	*/
	__getset(0,__proto,'gradientXMax',function(){
		return this._gradientXMax;
	});

	/**最小固定速度。*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*渐变速度X。
	*/
	__getset(0,__proto,'gradientX',function(){
		return this._gradientX;
	});

	/**
	*渐变速度Y。
	*/
	__getset(0,__proto,'gradientY',function(){
		return this._gradientY;
	});

	/**
	*渐变最小速度X。
	*/
	__getset(0,__proto,'gradientXMin',function(){
		return this._gradientXMin;
	});

	/**最大固定速度。*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	/**
	*渐变最小速度Y。
	*/
	__getset(0,__proto,'gradientYMin',function(){
		return this._gradientYMin;
	});

	/**
	*渐变最大速度Y。
	*/
	__getset(0,__proto,'gradientYMax',function(){
		return this._gradientYMax;
	});

	/**
	*渐变最小速度Z。
	*/
	__getset(0,__proto,'gradientZMin',function(){
		return this._gradientZMin;
	});

	/**
	*渐变最大速度Z。
	*/
	__getset(0,__proto,'gradientZMax',function(){
		return this._gradientZMax;
	});

	GradientVelocity.createByConstant=function(constant){
		var gradientVelocity=new GradientVelocity();
		gradientVelocity._type=0;
		gradientVelocity._constant=constant;
		return gradientVelocity;
	}

	GradientVelocity.createByGradient=function(gradientX,gradientY,gradientZ){
		var gradientVelocity=new GradientVelocity();
		gradientVelocity._type=1;
		gradientVelocity._gradientX=gradientX;
		gradientVelocity._gradientY=gradientY;
		gradientVelocity._gradientZ=gradientZ;
		return gradientVelocity;
	}

	GradientVelocity.createByRandomTwoConstant=function(constantMin,constantMax){
		var gradientVelocity=new GradientVelocity();
		gradientVelocity._type=2;
		gradientVelocity._constantMin=constantMin;
		gradientVelocity._constantMax=constantMax;
		return gradientVelocity;
	}

	GradientVelocity.createByRandomTwoGradient=function(gradientXMin,gradientXMax,gradientYMin,gradientYMax,gradientZMin,gradientZMax){
		var gradientVelocity=new GradientVelocity();
		gradientVelocity._type=3;
		gradientVelocity._gradientXMin=gradientXMin;
		gradientVelocity._gradientXMax=gradientXMax;
		gradientVelocity._gradientYMin=gradientYMin;
		gradientVelocity._gradientYMax=gradientYMax;
		gradientVelocity._gradientZMin=gradientZMin;
		gradientVelocity._gradientZMax=gradientZMax;
		return gradientVelocity;
	}

	return GradientVelocity;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/RotationOverLifetime.as=======199.999616/199.999616
/**
*<code>RotationOverLifetime</code> 类用于粒子的生命周期旋转。
*/
//class laya.d3.core.particleShuriKen.module.RotationOverLifetime
var RotationOverLifetime=(function(){
	function RotationOverLifetime(angularVelocity){
		/**@private */
		this._angularVelocity=null;
		/**是否启用*/
		this.enbale=false;
		this._angularVelocity=angularVelocity;
	}

	__class(RotationOverLifetime,'laya.d3.core.particleShuriKen.module.RotationOverLifetime');
	var __proto=RotationOverLifetime.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destRotationOverLifetime=destObject;
		this._angularVelocity.cloneTo(destRotationOverLifetime._angularVelocity);
		destRotationOverLifetime.enbale=this.enbale;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destAngularVelocity;
		switch (this._angularVelocity.type){
			case 0:
				if (this._angularVelocity.separateAxes)
					destAngularVelocity=GradientAngularVelocity.createByConstantSeparate(this._angularVelocity.constantSeparate.clone());
				else
				destAngularVelocity=GradientAngularVelocity.createByConstant(this._angularVelocity.constant);
				break ;
			case 1:
				if (this._angularVelocity.separateAxes)
					destAngularVelocity=GradientAngularVelocity.createByGradientSeparate(this._angularVelocity.gradientX.clone(),this._angularVelocity.gradientY.clone(),this._angularVelocity.gradientZ.clone(),this._angularVelocity.gradientW.clone());
				else
				destAngularVelocity=GradientAngularVelocity.createByGradient(this._angularVelocity.gradient.clone());
				break ;
			case 2:
				if (this._angularVelocity.separateAxes)
					destAngularVelocity=GradientAngularVelocity.createByRandomTwoConstantSeparate(this._angularVelocity.constantMinSeparate.clone(),this._angularVelocity.constantMaxSeparate.clone());
				else
				destAngularVelocity=GradientAngularVelocity.createByRandomTwoConstant(this._angularVelocity.constantMin,this._angularVelocity.constantMax);
				break ;
			case 3:
				if (this._angularVelocity.separateAxes)
					destAngularVelocity=GradientAngularVelocity.createByRandomTwoGradientSeparate(this._angularVelocity.gradientXMin.clone(),this._angularVelocity.gradientYMin.clone(),this._angularVelocity.gradientZMin.clone(),this._angularVelocity.gradientWMin.clone(),this._angularVelocity.gradientXMax.clone(),this._angularVelocity.gradientYMax.clone(),this._angularVelocity.gradientZMax.clone(),this._angularVelocity.gradientWMax.clone());
				else
				destAngularVelocity=GradientAngularVelocity.createByRandomTwoGradient(this._angularVelocity.gradientMin.clone(),this._angularVelocity.gradientMax.clone());
				break ;
			};
		var destRotationOverLifetime=new this.constructor(destAngularVelocity);
		destRotationOverLifetime.enbale=this.enbale;
		return destRotationOverLifetime;
	}

	/**
	*获取角速度。
	*/
	__getset(0,__proto,'angularVelocity',function(){
		return this._angularVelocity;
	});

	return RotationOverLifetime;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/BaseShape.as=======199.999615/199.999615
/**
*<code>BaseShape</code> 类用于粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.BaseShape
var BaseShape=(function(){
	function BaseShape(){
		/**是否启用。*/
		this.enable=false;
		/**随机方向。*/
		this.randomDirection=false;
	}

	__class(BaseShape,'laya.d3.core.particleShuriKen.module.shape.BaseShape');
	var __proto=BaseShape.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**@private */
	__proto._getShapeBoundBox=function(boundBox){
		throw new Error("BaseShape: must override it.");
	}

	/**@private */
	__proto._getSpeedBoundBox=function(boundBox){
		throw new Error("BaseShape: must override it.");
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		throw new Error("BaseShape: must override it.");
	}

	/**
	*@private
	*/
	__proto._calculateProceduralBounds=function(boundBox,emitterPosScale,minMaxBounds){
		this._getShapeBoundBox(boundBox);
		var min=boundBox.min;
		var max=boundBox.max;
		Vector3.multiply(min,emitterPosScale,min);
		Vector3.multiply(max,emitterPosScale,max);
		var speedBounds=new BoundBox(new Vector3(),new Vector3());
		if (this.randomDirection){
			speedBounds.min=new Vector3(-1,-1,-1);
			speedBounds.max=new Vector3(1,1,1);
		}
		else{
			this._getSpeedBoundBox(speedBounds);
		};
		var maxSpeedBound=new BoundBox(new Vector3(),new Vector3());
		var maxSpeedMin=maxSpeedBound.min;
		var maxSpeedMax=maxSpeedBound.max;
		Vector3.scale(speedBounds.min,minMaxBounds.y,maxSpeedMin);
		Vector3.scale(speedBounds.max,minMaxBounds.y,maxSpeedMax);
		Vector3.add(boundBox.min,maxSpeedMin,maxSpeedMin);
		Vector3.add(boundBox.max,maxSpeedMax,maxSpeedMax);
		Vector3.min(boundBox.min,maxSpeedMin,boundBox.min);
		Vector3.max(boundBox.max,maxSpeedMin,boundBox.max);
		var minSpeedBound=new BoundBox(new Vector3(),new Vector3());
		var minSpeedMin=minSpeedBound.min;
		var minSpeedMax=minSpeedBound.max;
		Vector3.scale(speedBounds.min,minMaxBounds.x,minSpeedMin);
		Vector3.scale(speedBounds.max,minMaxBounds.x,minSpeedMax);
		Vector3.min(minSpeedBound.min,minSpeedMax,maxSpeedMin);
		Vector3.max(minSpeedBound.min,minSpeedMax,maxSpeedMax);
		Vector3.min(boundBox.min,maxSpeedMin,boundBox.min);
		Vector3.max(boundBox.max,maxSpeedMin,boundBox.max);
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destShape=destObject;
		destShape.enable=this.enable;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destShape=new this.constructor();
		this.cloneTo(destShape);
		return destShape;
	}

	return BaseShape;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/ShapeUtils.as=======199.999610/199.999610
/**
*...
*@author ...
*/
//class laya.d3.core.particleShuriKen.module.shape.ShapeUtils
var ShapeUtils=(function(){
	function ShapeUtils(){}
	__class(ShapeUtils,'laya.d3.core.particleShuriKen.module.shape.ShapeUtils');
	ShapeUtils._randomPointUnitArcCircle=function(arc,out,rand){
		var outE=out.elements;
		var angle=NaN;
		if (rand)
			angle=rand.getFloat()*arc;
		else
		angle=Math.random()*arc;
		outE[0]=Math.cos(angle);
		outE[1]=Math.sin(angle);
	}

	ShapeUtils._randomPointInsideUnitArcCircle=function(arc,out,rand){
		var outE=out.elements;
		ShapeUtils._randomPointUnitArcCircle(arc,out,rand);
		var range=NaN;
		if (rand)
			range=Math.pow(rand.getFloat(),1.0 / 2.0);
		else
		range=Math.pow(Math.random(),1.0 / 2.0);
		outE[0]=outE[0] *range;
		outE[1]=outE[1] *range;
	}

	ShapeUtils._randomPointUnitCircle=function(out,rand){
		var outE=out.elements;
		var angle=NaN;
		if (rand)
			angle=rand.getFloat()*Math.PI *2;
		else
		angle=Math.random()*Math.PI *2;
		outE[0]=Math.cos(angle);
		outE[1]=Math.sin(angle);
	}

	ShapeUtils._randomPointInsideUnitCircle=function(out,rand){
		var outE=out.elements;
		ShapeUtils._randomPointUnitCircle(out);
		var range=NaN;
		if (rand)
			range=Math.pow(rand.getFloat(),1.0 / 2.0);
		else
		range=Math.pow(Math.random(),1.0 / 2.0);
		outE[0]=outE[0] *range;
		outE[1]=outE[1] *range;
	}

	ShapeUtils._randomPointUnitSphere=function(out,rand){
		var outE=out.elements;
		var z=NaN;
		var a=NaN;
		if (rand){
			z=outE[2]=rand.getFloat()*2-1.0;
			a=rand.getFloat()*Math.PI *2;
			}else {
			z=outE[2]=Math.random()*2-1.0;
			a=Math.random()*Math.PI *2;
		};
		var r=Math.sqrt(1.0-z *z);
		outE[0]=r *Math.cos(a);
		outE[1]=r *Math.sin(a);
	}

	ShapeUtils._randomPointInsideUnitSphere=function(out,rand){
		var outE=out.elements;
		ShapeUtils._randomPointUnitSphere(out);
		var range=NaN;
		if (rand)
			range=Math.pow(rand.getFloat(),1.0 / 3.0);
		else
		range=Math.pow(Math.random(),1.0 / 3.0);
		outE[0]=outE[0] *range;
		outE[1]=outE[1] *range;
		outE[2]=outE[2] *range;
	}

	ShapeUtils._randomPointInsideHalfUnitBox=function(out,rand){
		var outE=out.elements;
		if (rand){
			outE[0]=(rand.getFloat()-0.5);
			outE[1]=(rand.getFloat()-0.5);
			outE[2]=(rand.getFloat()-0.5);
			}else {
			outE[0]=(Math.random()-0.5);
			outE[1]=(Math.random()-0.5);
			outE[2]=(Math.random()-0.5);
		}
	}

	return ShapeUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/SizeOverLifetime.as=======199.999608/199.999608
/**
*<code>SizeOverLifetime</code> 类用于粒子的生命周期尺寸。
*/
//class laya.d3.core.particleShuriKen.module.SizeOverLifetime
var SizeOverLifetime=(function(){
	function SizeOverLifetime(size){
		/**@private */
		this._size=null;
		/**是否启用*/
		this.enbale=false;
		this._size=size;
	}

	__class(SizeOverLifetime,'laya.d3.core.particleShuriKen.module.SizeOverLifetime');
	var __proto=SizeOverLifetime.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destSizeOverLifetime=destObject;
		this._size.cloneTo(destSizeOverLifetime._size);
		destSizeOverLifetime.enbale=this.enbale;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destSize;
		switch (this._size.type){
			case 0:
				if (this._size.separateAxes)
					destSize=GradientSize.createByGradientSeparate(this._size.gradientX.clone(),this._size.gradientY.clone(),this._size.gradientZ.clone());
				else
				destSize=GradientSize.createByGradient(this._size.gradient.clone());
				break ;
			case 1:
				if (this._size.separateAxes)
					destSize=GradientSize.createByRandomTwoConstantSeparate(this._size.constantMinSeparate.clone(),this._size.constantMaxSeparate.clone());
				else
				destSize=GradientSize.createByRandomTwoConstant(this._size.constantMin,this._size.constantMax);
				break ;
			case 2:
				if (this._size.separateAxes)
					destSize=GradientSize.createByRandomTwoGradientSeparate(this._size.gradientXMin.clone(),this._size.gradientYMin.clone(),this._size.gradientZMin.clone(),this._size.gradientXMax.clone(),this._size.gradientYMax.clone(),this._size.gradientZMax.clone());
				else
				destSize=GradientSize.createByRandomTwoGradient(this._size.gradientMin.clone(),this._size.gradientMax.clone());
				break ;
			};
		var destSizeOverLifetime=new this.constructor(destSize);
		destSizeOverLifetime.enbale=this.enbale;
		return destSizeOverLifetime;
	}

	/**
	*获取尺寸。
	*/
	__getset(0,__proto,'size',function(){
		return this._size;
	});

	return SizeOverLifetime;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/StartFrame.as=======199.999607/199.999607
/**
*<code>StartFrame</code> 类用于创建开始帧。
*/
//class laya.d3.core.particleShuriKen.module.StartFrame
var StartFrame=(function(){
	function StartFrame(){
		/**@private */
		this._type=0;
		/**@private */
		this._constant=NaN;
		/**@private */
		this._constantMin=NaN;
		/**@private */
		this._constantMax=NaN;
	}

	__class(StartFrame,'laya.d3.core.particleShuriKen.module.StartFrame');
	var __proto=StartFrame.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destStartFrame=destObject;
		destStartFrame._type=this._type;
		destStartFrame._constant=this._constant;
		destStartFrame._constantMin=this._constantMin;
		destStartFrame._constantMax=this._constantMax;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destStartFrame=new this.constructor();
		this.cloneTo(destStartFrame);
		return destStartFrame;
	}

	/**
	*固定帧。
	*/
	__getset(0,__proto,'constant',function(){
		return this._constant;
	});

	/**
	*开始帧类型,0常量模式，1随机双常量模式。
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	/**
	*最小固定帧。
	*/
	__getset(0,__proto,'constantMin',function(){
		return this._constantMin;
	});

	/**
	*最大固定帧。
	*/
	__getset(0,__proto,'constantMax',function(){
		return this._constantMax;
	});

	StartFrame.createByConstant=function(constant){
		var rotationOverLifetime=new StartFrame();
		rotationOverLifetime._type=0;
		rotationOverLifetime._constant=constant;
		return rotationOverLifetime;
	}

	StartFrame.createByRandomTwoConstant=function(constantMin,constantMax){
		var rotationOverLifetime=new StartFrame();
		rotationOverLifetime._type=1;
		rotationOverLifetime._constantMin=constantMin;
		rotationOverLifetime._constantMax=constantMax;
		return rotationOverLifetime;
	}

	return StartFrame;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/TextureSheetAnimation.as=======199.999606/199.999606
/**
*<code>TextureSheetAnimation</code> 类用于创建粒子帧动画。
*/
//class laya.d3.core.particleShuriKen.module.TextureSheetAnimation
var TextureSheetAnimation=(function(){
	function TextureSheetAnimation(frame,startFrame){
		/**@private */
		this._frame=null;
		/**@private */
		this._startFrame=null;
		/**纹理平铺。*/
		this.tiles=null;
		/**类型,0为whole sheet、1为singal row。*/
		this.type=0;
		/**是否随机行，type为1时有效。*/
		this.randomRow=false;
		/**行索引,type为1时有效。*/
		this.rowIndex=0;
		/**循环次数。*/
		this.cycles=0;
		/**UV通道类型,0为Noting,1为Everything,待补充,暂不支持。*/
		this.enableUVChannels=0;
		/**是否启用*/
		this.enable=false;
		this.tiles=new Vector2(1,1);
		this.type=0;
		this.randomRow=true;
		this.rowIndex=0;
		this.cycles=1;
		this.enableUVChannels=1;
		this._frame=frame;
		this._startFrame=startFrame;
	}

	__class(TextureSheetAnimation,'laya.d3.core.particleShuriKen.module.TextureSheetAnimation');
	var __proto=TextureSheetAnimation.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destTextureSheetAnimation=destObject;
		this.tiles.cloneTo(destTextureSheetAnimation.tiles);
		destTextureSheetAnimation.type=this.type;
		destTextureSheetAnimation.randomRow=this.randomRow;
		this._frame.cloneTo(destTextureSheetAnimation._frame);
		this._startFrame.cloneTo(destTextureSheetAnimation._startFrame);
		destTextureSheetAnimation.cycles=this.cycles;
		destTextureSheetAnimation.enableUVChannels=this.enableUVChannels;
		destTextureSheetAnimation.enable=this.enable;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destFrame;
		switch (this._frame.type){
			case 0:
				destFrame=FrameOverTime.createByConstant(this._frame.constant);
				break ;
			case 1:
				destFrame=FrameOverTime.createByOverTime(this._frame.frameOverTimeData.clone());
				break ;
			case 2:
				destFrame=FrameOverTime.createByRandomTwoConstant(this._frame.constantMin,this._frame.constantMax);
				break ;
			case 3:
				destFrame=FrameOverTime.createByRandomTwoOverTime(this._frame.frameOverTimeDataMin.clone(),this._frame.frameOverTimeDataMax.clone());
				break ;
			};
		var destStartFrame;
		switch (this._startFrame.type){
			case 0:
				destStartFrame=StartFrame.createByConstant(this._startFrame.constant);
				break ;
			case 1:
				destStartFrame=StartFrame.createByRandomTwoConstant(this._startFrame.constantMin,this._startFrame.constantMax);
				break ;
			};
		var destTextureSheetAnimation=new this.constructor(destFrame,destStartFrame);
		this.tiles.cloneTo(destTextureSheetAnimation.tiles);
		destTextureSheetAnimation.type=this.type;
		destTextureSheetAnimation.randomRow=this.randomRow;
		destTextureSheetAnimation.cycles=this.cycles;
		destTextureSheetAnimation.enableUVChannels=this.enableUVChannels;
		destTextureSheetAnimation.enable=this.enable;
		return destTextureSheetAnimation;
	}

	/**获取时间帧率。*/
	__getset(0,__proto,'frame',function(){
		return this._frame;
	});

	/**获取开始帧率。*/
	__getset(0,__proto,'startFrame',function(){
		return this._startFrame;
	});

	return TextureSheetAnimation;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/VelocityOverLifetime.as=======199.999605/199.999605
/**
*<code>VelocityOverLifetime</code> 类用于粒子的生命周期速度。
*/
//class laya.d3.core.particleShuriKen.module.VelocityOverLifetime
var VelocityOverLifetime=(function(){
	function VelocityOverLifetime(velocity){
		/**@private */
		this._velocity=null;
		/**是否启用*/
		this.enbale=false;
		/**速度空间,0为local,1为world。*/
		this.space=0;
		this._velocity=velocity;
	}

	__class(VelocityOverLifetime,'laya.d3.core.particleShuriKen.module.VelocityOverLifetime');
	var __proto=VelocityOverLifetime.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destVelocityOverLifetime=destObject;
		this._velocity.cloneTo(destVelocityOverLifetime._velocity);
		destVelocityOverLifetime.enbale=this.enbale;
		destVelocityOverLifetime.space=this.space;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destVelocity;
		switch(this._velocity.type){
			case 0:
				destVelocity=GradientVelocity.createByConstant(this._velocity.constant.clone());
				break ;
			case 1:
				destVelocity=GradientVelocity.createByGradient(this._velocity.gradientX.clone(),this._velocity.gradientY.clone(),this._velocity.gradientZ.clone());
				break ;
			case 2:
				destVelocity=GradientVelocity.createByRandomTwoConstant(this._velocity.constantMin.clone(),this._velocity.constantMax.clone());
				break ;
			case 3:
				destVelocity=GradientVelocity.createByRandomTwoGradient(this._velocity.gradientXMin.clone(),this._velocity.gradientYMin.clone(),this._velocity.gradientZMin.clone(),this._velocity.gradientXMax.clone(),this._velocity.gradientYMax.clone(),this._velocity.gradientZMax.clone());
				break ;
			};
		var destVelocityOverLifetime=new this.constructor(destVelocity);
		destVelocityOverLifetime.enbale=this.enbale;
		destVelocityOverLifetime.space=this.space;
		return destVelocityOverLifetime;
	}

	/**
	*获取尺寸。
	*/
	__getset(0,__proto,'velocity',function(){
		return this._velocity;
	});

	return VelocityOverLifetime;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/ShurikenParticleData.as=======199.999603/199.999603
/**
*@private
*/
//class laya.d3.core.particleShuriKen.ShurikenParticleData
var ShurikenParticleData=(function(){
	function ShurikenParticleData(){}
	__class(ShurikenParticleData,'laya.d3.core.particleShuriKen.ShurikenParticleData');
	ShurikenParticleData._getStartLifetimeFromGradient=function(startLifeTimeGradient,emissionTime){
		for (var i=1,n=startLifeTimeGradient.gradientCount;i < n;i++){
			var key=startLifeTimeGradient.getKeyByIndex(i);
			if (key >=emissionTime){
				var lastKey=startLifeTimeGradient.getKeyByIndex(i-1);
				var age=(emissionTime-lastKey)/ (key-lastKey);
				return MathUtil.lerp(startLifeTimeGradient.getValueByIndex(i-1),startLifeTimeGradient.getValueByIndex(i),age)
			}
		}
		throw new Error("ShurikenParticleData: can't get value foam startLifeTimeGradient.");
	}

	ShurikenParticleData._randomInvertRoationArray=function(rotatonE,outE,randomizeRotationDirection,rand,randomSeeds){
		var randDic=NaN;
		if (rand){
			rand.seed=randomSeeds[6];
			randDic=rand.getFloat();
			randomSeeds[6]=rand.seed;
			}else {
			randDic=Math.random();
		}
		if (randDic < randomizeRotationDirection){
			outE[0]=-rotatonE[0];
			outE[1]=-rotatonE[1];
			outE[2]=-rotatonE[2];
			}else {
			outE[0]=rotatonE[0];
			outE[1]=rotatonE[1];
			outE[2]=rotatonE[2];
		}
	}

	ShurikenParticleData._randomInvertRoation=function(rotaton,randomizeRotationDirection,rand,randomSeeds){
		var randDic=NaN;
		if (rand){
			rand.seed=randomSeeds[6];
			randDic=rand.getFloat();
			randomSeeds[6]=rand.seed;
			}else {
			randDic=Math.random();
		}
		if (randDic < randomizeRotationDirection)
			rotaton=-rotaton;
		return rotaton;
	}

	ShurikenParticleData.create=function(particleSystem,particleRender,transform){
		var autoRandomSeed=particleSystem.autoRandomSeed;
		var rand=particleSystem._rand;
		var randomSeeds=particleSystem._randomSeeds;
		switch (particleSystem.startColorType){
			case 0:;
				var constantStartColorE=particleSystem.startColorConstant.elements;
				ShurikenParticleData.startColor[0]=constantStartColorE[0];
				ShurikenParticleData.startColor[1]=constantStartColorE[1];
				ShurikenParticleData.startColor[2]=constantStartColorE[2];
				ShurikenParticleData.startColor[3]=constantStartColorE[3];
				break ;
			case 2:
				if (autoRandomSeed){
					MathUtil.lerpVector4(particleSystem.startColorConstantMin.elements,particleSystem.startColorConstantMax.elements,Math.random(),ShurikenParticleData.startColor);
					}else {
					rand.seed=randomSeeds[3];
					MathUtil.lerpVector4(particleSystem.startColorConstantMin.elements,particleSystem.startColorConstantMax.elements,rand.getFloat(),ShurikenParticleData.startColor);
					randomSeeds[3]=rand.seed;
				}
				break ;
			};
		var colorOverLifetime=particleSystem.colorOverLifetime;
		if (colorOverLifetime && colorOverLifetime.enbale){
			var color=colorOverLifetime.color;
			switch (color.type){
				case 0:
					ShurikenParticleData.startColor[0]=ShurikenParticleData.startColor[0] *color.constant.x;
					ShurikenParticleData.startColor[1]=ShurikenParticleData.startColor[1] *color.constant.y;
					ShurikenParticleData.startColor[2]=ShurikenParticleData.startColor[2] *color.constant.z;
					ShurikenParticleData.startColor[3]=ShurikenParticleData.startColor[3] *color.constant.w;
					break ;
				case 2:;
					var colorRandom=NaN;
					if (autoRandomSeed){
						colorRandom=Math.random();
						}else {
						rand.seed=randomSeeds[10];
						colorRandom=rand.getFloat();
						randomSeeds[10]=rand.seed;
					};
					var minConstantColor=color.constantMin;
					var maxConstantColor=color.constantMax;
					ShurikenParticleData.startColor[0]=ShurikenParticleData.startColor[0] *MathUtil.lerp(minConstantColor.x,maxConstantColor.x,colorRandom);
					ShurikenParticleData.startColor[1]=ShurikenParticleData.startColor[1] *MathUtil.lerp(minConstantColor.y,maxConstantColor.y,colorRandom);
					ShurikenParticleData.startColor[2]=ShurikenParticleData.startColor[2] *MathUtil.lerp(minConstantColor.z,maxConstantColor.z,colorRandom);
					ShurikenParticleData.startColor[3]=ShurikenParticleData.startColor[3] *MathUtil.lerp(minConstantColor.w,maxConstantColor.w,colorRandom);
					break ;
				}
		};
		var particleSize=ShurikenParticleData.startSize;
		switch (particleSystem.startSizeType){
			case 0:
				if (particleSystem.threeDStartSize){
					var startSizeConstantSeparate=particleSystem.startSizeConstantSeparate;
					particleSize[0]=startSizeConstantSeparate.x;
					particleSize[1]=startSizeConstantSeparate.y;
					particleSize[2]=startSizeConstantSeparate.z;
					}else {
					particleSize[0]=particleSize[1]=particleSize[2]=particleSystem.startSizeConstant;
				}
				break ;
			case 2:
				if (particleSystem.threeDStartSize){
					var startSizeConstantMinSeparate=particleSystem.startSizeConstantMinSeparate;
					var startSizeConstantMaxSeparate=particleSystem.startSizeConstantMaxSeparate;
					if (autoRandomSeed){
						particleSize[0]=MathUtil.lerp(startSizeConstantMinSeparate.x,startSizeConstantMaxSeparate.x,Math.random());
						particleSize[1]=MathUtil.lerp(startSizeConstantMinSeparate.y,startSizeConstantMaxSeparate.y,Math.random());
						particleSize[2]=MathUtil.lerp(startSizeConstantMinSeparate.z,startSizeConstantMaxSeparate.z,Math.random());
						}else {
						rand.seed=randomSeeds[4];
						particleSize[0]=MathUtil.lerp(startSizeConstantMinSeparate.x,startSizeConstantMaxSeparate.x,rand.getFloat());
						particleSize[1]=MathUtil.lerp(startSizeConstantMinSeparate.y,startSizeConstantMaxSeparate.y,rand.getFloat());
						particleSize[2]=MathUtil.lerp(startSizeConstantMinSeparate.z,startSizeConstantMaxSeparate.z,rand.getFloat());
						randomSeeds[4]=rand.seed;
					}
					}else {
					if (autoRandomSeed){
						particleSize[0]=particleSize[1]=particleSize[2]=MathUtil.lerp(particleSystem.startSizeConstantMin,particleSystem.startSizeConstantMax,Math.random());
						}else {
						rand.seed=randomSeeds[4];
						particleSize[0]=particleSize[1]=particleSize[2]=MathUtil.lerp(particleSystem.startSizeConstantMin,particleSystem.startSizeConstantMax,rand.getFloat());
						randomSeeds[4]=rand.seed;
					}
				}
				break ;
			};
		var sizeOverLifetime=particleSystem.sizeOverLifetime;
		if (sizeOverLifetime && sizeOverLifetime.enbale && sizeOverLifetime.size.type===1){
			var size=sizeOverLifetime.size;
			if (size.separateAxes){
				if (autoRandomSeed){
					particleSize[0]=particleSize[0] *MathUtil.lerp(size.constantMinSeparate.x,size.constantMaxSeparate.x,Math.random());
					particleSize[1]=particleSize[1] *MathUtil.lerp(size.constantMinSeparate.y,size.constantMaxSeparate.y,Math.random());
					particleSize[2]=particleSize[2] *MathUtil.lerp(size.constantMinSeparate.z,size.constantMaxSeparate.z,Math.random());
					}else {
					rand.seed=randomSeeds[11];
					particleSize[0]=particleSize[0] *MathUtil.lerp(size.constantMinSeparate.x,size.constantMaxSeparate.x,rand.getFloat());
					particleSize[1]=particleSize[1] *MathUtil.lerp(size.constantMinSeparate.y,size.constantMaxSeparate.y,rand.getFloat());
					particleSize[2]=particleSize[2] *MathUtil.lerp(size.constantMinSeparate.z,size.constantMaxSeparate.z,rand.getFloat());
					randomSeeds[11]=rand.seed;
				}
				}else {
				var randomSize=NaN;
				if (autoRandomSeed){
					randomSize=MathUtil.lerp(size.constantMin,size.constantMax,Math.random());
					}else {
					rand.seed=randomSeeds[11];
					randomSize=MathUtil.lerp(size.constantMin,size.constantMax,rand.getFloat());
					randomSeeds[11]=rand.seed;
				}
				particleSize[0]=particleSize[0] *randomSize;
				particleSize[1]=particleSize[1] *randomSize;
				particleSize[2]=particleSize[2] *randomSize;
			}
		};
		var renderMode=particleRender.renderMode;
		if (renderMode!==1){
			switch (particleSystem.startRotationType){
				case 0:
					if (particleSystem.threeDStartRotation){
						var startRotationConstantSeparate=particleSystem.startRotationConstantSeparate;
						var randomRotationE=ShurikenParticleData._tempVector30.elements;
						ShurikenParticleData._randomInvertRoationArray(startRotationConstantSeparate.elements,randomRotationE,particleSystem.randomizeRotationDirection,autoRandomSeed ? null :rand,randomSeeds);
						ShurikenParticleData.startRotation[0]=randomRotationE[0];
						ShurikenParticleData.startRotation[1]=randomRotationE[1];
						if (renderMode!==4)
							ShurikenParticleData.startRotation[2]=-randomRotationE[2];
						else
						ShurikenParticleData.startRotation[2]=randomRotationE[2];
						}else {
						ShurikenParticleData.startRotation[0]=ShurikenParticleData._randomInvertRoation(particleSystem.startRotationConstant,particleSystem.randomizeRotationDirection,autoRandomSeed ? null :rand,randomSeeds);
					}
					break ;
				case 2:
					if (particleSystem.threeDStartRotation){
						var startRotationConstantMinSeparate=particleSystem.startRotationConstantMinSeparate;
						var startRotationConstantMaxSeparate=particleSystem.startRotationConstantMaxSeparate;
						var lerpRoationE=ShurikenParticleData._tempVector30.elements;
						if (autoRandomSeed){
							lerpRoationE[0]=MathUtil.lerp(startRotationConstantMinSeparate.x,startRotationConstantMaxSeparate.x,Math.random());
							lerpRoationE[1]=MathUtil.lerp(startRotationConstantMinSeparate.y,startRotationConstantMaxSeparate.y,Math.random());
							lerpRoationE[2]=MathUtil.lerp(startRotationConstantMinSeparate.z,startRotationConstantMaxSeparate.z,Math.random());
							}else {
							rand.seed=randomSeeds[5];
							lerpRoationE[0]=MathUtil.lerp(startRotationConstantMinSeparate.x,startRotationConstantMaxSeparate.x,rand.getFloat());
							lerpRoationE[1]=MathUtil.lerp(startRotationConstantMinSeparate.y,startRotationConstantMaxSeparate.y,rand.getFloat());
							lerpRoationE[2]=MathUtil.lerp(startRotationConstantMinSeparate.z,startRotationConstantMaxSeparate.z,rand.getFloat());
							randomSeeds[5]=rand.seed;
						}
						ShurikenParticleData._randomInvertRoationArray(lerpRoationE,lerpRoationE,particleSystem.randomizeRotationDirection,autoRandomSeed ? null :rand,randomSeeds);
						ShurikenParticleData.startRotation[0]=lerpRoationE[0];
						ShurikenParticleData.startRotation[1]=lerpRoationE[1];
						if (renderMode!==4)
							ShurikenParticleData.startRotation[2]=-lerpRoationE[2];
						else
						ShurikenParticleData.startRotation[2]=lerpRoationE[2];
						}else {
						if (autoRandomSeed){
							ShurikenParticleData.startRotation[0]=ShurikenParticleData._randomInvertRoation(MathUtil.lerp(particleSystem.startRotationConstantMin,particleSystem.startRotationConstantMax,Math.random()),particleSystem.randomizeRotationDirection,autoRandomSeed ? null :rand,randomSeeds);
							}else {
							rand.seed=randomSeeds[5];
							ShurikenParticleData.startRotation[0]=ShurikenParticleData._randomInvertRoation(MathUtil.lerp(particleSystem.startRotationConstantMin,particleSystem.startRotationConstantMax,rand.getFloat()),particleSystem.randomizeRotationDirection,autoRandomSeed ? null :rand,randomSeeds);
							randomSeeds[5]=rand.seed;
						}
					}
					break ;
				}
		}
		switch (particleSystem.startLifetimeType){
			case 0:
				ShurikenParticleData.startLifeTime=particleSystem.startLifetimeConstant;
				break ;
			case 1:
				ShurikenParticleData.startLifeTime=ShurikenParticleData._getStartLifetimeFromGradient(particleSystem.startLifeTimeGradient,particleSystem.emissionTime);
				break ;
			case 2:
				if (autoRandomSeed){
					ShurikenParticleData.startLifeTime=MathUtil.lerp(particleSystem.startLifetimeConstantMin,particleSystem.startLifetimeConstantMax,Math.random());
					}else {
					rand.seed=randomSeeds[7];
					ShurikenParticleData.startLifeTime=MathUtil.lerp(particleSystem.startLifetimeConstantMin,particleSystem.startLifetimeConstantMax,rand.getFloat());
					randomSeeds[7]=rand.seed;
				}
				break ;
			case 3:;
				var emissionTime=particleSystem.emissionTime;
				if (autoRandomSeed){
					ShurikenParticleData.startLifeTime=MathUtil.lerp(ShurikenParticleData._getStartLifetimeFromGradient(particleSystem.startLifeTimeGradientMin,emissionTime),ShurikenParticleData._getStartLifetimeFromGradient(particleSystem.startLifeTimeGradientMax,emissionTime),Math.random());
					}else {
					rand.seed=randomSeeds[7];
					ShurikenParticleData.startLifeTime=MathUtil.lerp(ShurikenParticleData._getStartLifetimeFromGradient(particleSystem.startLifeTimeGradientMin,emissionTime),ShurikenParticleData._getStartLifetimeFromGradient(particleSystem.startLifeTimeGradientMax,emissionTime),rand.getFloat());
					randomSeeds[7]=rand.seed;
				}
				break ;
			}
		switch (particleSystem.startSpeedType){
			case 0:
				ShurikenParticleData.startSpeed=particleSystem.startSpeedConstant;
				break ;
			case 2:
				if (autoRandomSeed){
					ShurikenParticleData.startSpeed=MathUtil.lerp(particleSystem.startSpeedConstantMin,particleSystem.startSpeedConstantMax,Math.random());
					}else {
					rand.seed=randomSeeds[8];
					ShurikenParticleData.startSpeed=MathUtil.lerp(particleSystem.startSpeedConstantMin,particleSystem.startSpeedConstantMax,rand.getFloat());
					randomSeeds[8]=rand.seed;
				}
				break ;
			};
		var textureSheetAnimation=particleSystem.textureSheetAnimation;
		var enableSheetAnimation=textureSheetAnimation && textureSheetAnimation.enable;
		if (enableSheetAnimation){
			var title=textureSheetAnimation.tiles;
			var titleX=title.x,titleY=title.y;
			var subU=1.0 / titleX,subV=1.0 / titleY;
			var startFrameCount=0;
			var startFrame=textureSheetAnimation.startFrame;
			switch (startFrame.type){
				case 0:
					startFrameCount=startFrame.constant;
					break ;
				case 1:
					if (autoRandomSeed){
						startFrameCount=MathUtil.lerp(startFrame.constantMin,startFrame.constantMax,Math.random());
						}else {
						rand.seed=randomSeeds[14];
						startFrameCount=MathUtil.lerp(startFrame.constantMin,startFrame.constantMax,rand.getFloat());
						randomSeeds[14]=rand.seed;
					}
					break ;
				};
			var frame=textureSheetAnimation.frame;
			switch (frame.type){
				case 0:
					startFrameCount+=frame.constant;
					break ;
				case 2:
					if (autoRandomSeed){
						startFrameCount+=MathUtil.lerp(frame.constantMin,frame.constantMax,Math.random());
						}else {
						rand.seed=randomSeeds[15];
						startFrameCount+=MathUtil.lerp(frame.constantMin,frame.constantMax,rand.getFloat());
						randomSeeds[15]=rand.seed;
					}
					break ;
				};
			var startRow=0;
			switch (textureSheetAnimation.type){
				case 0:
					startRow=Math.floor(startFrameCount / titleX);
					break ;
				case 1:
					if (textureSheetAnimation.randomRow){
						if (autoRandomSeed){
							startRow=Math.floor(Math.random()*titleY);
							}else {
							rand.seed=randomSeeds[13];
							startRow=Math.floor(rand.getFloat()*titleY);
							randomSeeds[13]=rand.seed;
						}
						}else {
						startRow=textureSheetAnimation.rowIndex;
					}
					break ;
				};
			var startCol=Math.floor(startFrameCount % titleX);
			ShurikenParticleData.startUVInfo=ShurikenParticleData.startUVInfo;
			ShurikenParticleData.startUVInfo[0]=subU;
			ShurikenParticleData.startUVInfo[1]=subV;
			ShurikenParticleData.startUVInfo[2]=startCol *subU;
			ShurikenParticleData.startUVInfo[3]=startRow *subV;
			}else {
			ShurikenParticleData.startUVInfo=ShurikenParticleData.startUVInfo;
			ShurikenParticleData.startUVInfo[0]=1.0;
			ShurikenParticleData.startUVInfo[1]=1.0;
			ShurikenParticleData.startUVInfo[2]=0.0;
			ShurikenParticleData.startUVInfo[3]=0.0;
		}
		switch (particleSystem.simulationSpace){
			case 0:;
				var positionE=transform.position.elements;
				ShurikenParticleData.simulationWorldPostion[0]=positionE[0];
				ShurikenParticleData.simulationWorldPostion[1]=positionE[1];
				ShurikenParticleData.simulationWorldPostion[2]=positionE[2];
				var rotationE=transform.rotation.elements;
				ShurikenParticleData.simulationWorldRotation[0]=rotationE[0];
				ShurikenParticleData.simulationWorldRotation[1]=rotationE[1];
				ShurikenParticleData.simulationWorldRotation[2]=rotationE[2];
				ShurikenParticleData.simulationWorldRotation[3]=rotationE[3];
				break ;
			case 1:
				break ;
			default :
				throw new Error("ShurikenParticleMaterial: SimulationSpace value is invalid.");
				break ;
			}
	}

	ShurikenParticleData.startLifeTime=NaN;
	ShurikenParticleData.startSpeed=NaN;
	__static(ShurikenParticleData,
	['_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempQuaternion',function(){return this._tempQuaternion=new Quaternion();},'startColor',function(){return this.startColor=new Float32Array(4);},'startSize',function(){return this.startSize=new Float32Array(3);},'startRotation',function(){return this.startRotation=new Float32Array(3);},'startUVInfo',function(){return this.startUVInfo=new Float32Array(4);},'simulationWorldPostion',function(){return this.simulationWorldPostion=new Float32Array(3);},'simulationWorldRotation',function(){return this.simulationWorldRotation=new Float32Array(4);}
	]);
	return ShurikenParticleData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/PhasorSpriter3D.as=======199.999599/199.999599
/**
*@private
*<code>PhasorSpriter3D</code> 类用于创建矢量笔刷。
*/
//class laya.d3.core.PhasorSpriter3D
var PhasorSpriter3D=(function(){
	function PhasorSpriter3D(){
		this._tempInt0=0;
		this._tempInt1=0;
		this._tempUint0=0;
		this._tempUint1=0;
		this._tempUint2=0;
		this._tempUint3=0;
		this._tempUint4=0;
		this._tempUint5=0;
		this._tempUint6=0;
		this._tempUint7=0;
		this._tempNumver0=NaN;
		this._tempNumver1=NaN;
		this._tempNumver2=NaN;
		this._tempNumver3=NaN;
		this._floatSizePerVer=7;
		//顶点结构为Position(3个float)+Color(4个float)
		this._defaultBufferSize=600 *this._floatSizePerVer;
		this._vb=null;
		this._posInVBData=0;
		this._ib=null;
		this._posInIBData=0;
		this._primitiveType=NaN;
		this._hasBegun=false;
		this._numVertsPerPrimitive=0;
		this._camera=null;
		this._shader=null;
		/**@private */
		this._shaderCompile=null;
		this._vbData=new Float32Array(this._defaultBufferSize);
		this._ibData=new Uint16Array(this._defaultBufferSize);
		this._spriteShaderValue=new ShaderDatas(null,0);
		;
		this._vb=new VertexBuffer3D(PhasorSpriter3D._vertexDeclaration.vertexStride*(this._defaultBufferSize / this._floatSizePerVer),0x88E8);
		this._vb.vertexDeclaration=PhasorSpriter3D._vertexDeclaration;
		this._ib=IndexBuffer3D.create("ushort",this._defaultBufferSize,0x88E8);
		this._shaderCompile=Shader3D._preCompileShader["LINE"];
	}

	__class(PhasorSpriter3D,'laya.d3.core.PhasorSpriter3D');
	var __proto=PhasorSpriter3D.prototype;
	__proto.line=function(startPosition,startColor,endPosition,endColor){
		if (!this._hasBegun || this._primitiveType!==0x0001)
			this.drawLinesException();
		if (this._posInVBData+2 *this._floatSizePerVer > this._vbData.length || this._posInIBData+2 > this._ibData.length)
			this.flush();
		this._tempUint0=this._posInVBData / this._floatSizePerVer;
		this.addVertex(startPosition.x,startPosition.y,startPosition.z,startColor.x,startColor.y,startColor.z,startColor.w);
		this.addVertex(endPosition.x,endPosition.y,endPosition.z,endColor.x,endColor.y,endColor.z,endColor.w);
		this.addIndexes(this._tempUint0,this._tempUint0+1);
		return this;
	}

	__proto.circle=function(radius,numberOfPoints,r,g,b,a){
		if (!this._hasBegun || (this._primitiveType!==0x0001))
			this.drawLinesException();
		this._tempUint0=numberOfPoints *2;
		if (this._posInVBData+this._tempUint0 *this._floatSizePerVer > this._vbData.length || this._posInIBData+2 *this._tempUint0 > this._ibData.length)
			this.flush();
		this._tempUint1=this._posInVBData / this._floatSizePerVer;
		for (this._tempNumver0=0,this._tempInt0=0;this._tempNumver0 < 3.1416 *2;this._tempNumver0=this._tempNumver0+(3.1416 / numberOfPoints),this._tempInt0++){
			this.addVertex(Math.sin(this._tempNumver0)*radius,Math.cos(this._tempNumver0)*radius,0,r,g,b,a);
			if (this._tempInt0===0){
				this.addIndexes(this._tempUint1);
				}else if (this._tempInt0===this._tempUint0-1){
				this._tempUint2=this._tempUint1+this._tempInt0;
				this.addIndexes(this._tempUint2,this._tempUint2,this._tempUint1);
				}else {
				this._tempUint2=this._tempUint1+this._tempInt0;
				this.addIndexes(this._tempUint2,this._tempUint2);
			}
		}
		return this;
	}

	__proto.plane=function(positionX,positionY,positionZ,width,height,r,g,b,a){
		if (!this._hasBegun || this._primitiveType!==0x0004)
			this.drawTrianglesException();
		if (this._posInVBData+4 *this._floatSizePerVer > this._vbData.length || this._posInIBData+6 > this._ibData.length)
			this.flush();
		this._tempNumver0=width / 2;
		this._tempNumver1=height / 2;
		this._tempUint0=this._posInVBData / this._floatSizePerVer;
		this.addVertex(positionX-this._tempNumver0,positionY+this._tempNumver1,positionZ,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY+this._tempNumver1,positionZ,r,g,b,a);
		this.addVertex(positionX-this._tempNumver0,positionY-this._tempNumver1,positionZ,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY-this._tempNumver1,positionZ,r,g,b,a);
		this._tempUint1=this._tempUint0+1;
		this._tempUint2=this._tempUint0+2;
		this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint0+3);
		return this;
	}

	__proto.box=function(positionX,positionY,positionZ,width,height,depth,r,g,b,a){
		if (!this._hasBegun || this._primitiveType!==0x0004)
			this.drawTrianglesException();
		if (this._posInVBData+8 *this._floatSizePerVer > this._vbData.length || this._posInIBData+36 > this._ibData.length)
			this.flush();
		this._tempNumver0=width / 2;
		this._tempNumver1=height / 2;
		this._tempNumver2=depth / 2;
		this._tempUint0=this._posInVBData / this._floatSizePerVer;
		this.addVertex(positionX-this._tempNumver0,positionY+this._tempNumver1,positionZ+this._tempNumver2,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY+this._tempNumver1,positionZ+this._tempNumver2,r,g,b,a);
		this.addVertex(positionX-this._tempNumver0,positionY-this._tempNumver1,positionZ+this._tempNumver2,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY-this._tempNumver1,positionZ+this._tempNumver2,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY+this._tempNumver1,positionZ-this._tempNumver2,r,g,b,a);
		this.addVertex(positionX-this._tempNumver0,positionY+this._tempNumver1,positionZ-this._tempNumver2,r,g,b,a);
		this.addVertex(positionX+this._tempNumver0,positionY-this._tempNumver1,positionZ-this._tempNumver2,r,g,b,a);
		this.addVertex(positionX-this._tempNumver0,positionY-this._tempNumver1,positionZ-this._tempNumver2,r,g,b,a);
		this._tempUint1=this._tempUint0+1;
		this._tempUint2=this._tempUint0+2;
		this._tempUint3=this._tempUint0+3;
		this._tempUint4=this._tempUint0+4;
		this._tempUint5=this._tempUint0+5;
		this._tempUint6=this._tempUint0+6;
		this._tempUint7=this._tempUint0+7;
		this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint2,this._tempUint2,this._tempUint1,this._tempUint3,
		this._tempUint4,this._tempUint5,this._tempUint6,this._tempUint6,this._tempUint5,this._tempUint7,
		this._tempUint5,this._tempUint0,this._tempUint7,this._tempUint7,this._tempUint0,this._tempUint2,
		this._tempUint1,this._tempUint4,this._tempUint3,this._tempUint3,this._tempUint4,this._tempUint6,
		this._tempUint5,this._tempUint4,this._tempUint0,this._tempUint0,this._tempUint4,this._tempUint1,
		this._tempUint2,this._tempUint3,this._tempUint7,this._tempUint7,this._tempUint3,this._tempUint6);
		return this;
	}

	__proto.cone=function(radius,length,Slices,r,g,b,a){
		if (!this._hasBegun || this._primitiveType!==0x0004)
			this.drawTrianglesException();
		if (this._posInVBData+(2 *Slices+2)*this._floatSizePerVer > this._vbData.length || this._posInIBData+6 *Slices > this._ibData.length)
			this.flush();
		this._tempUint0=this._posInVBData;
		this._tempUint1=this._posInVBData / this._floatSizePerVer;
		this._tempNumver0=Math.PI *2 / Slices;
		this.addVertexIndex(0,length,0,r,g,b,a,this._tempUint0);
		this.addVertexIndex(0,0,0,r,g,b,a,this._tempUint0+this._floatSizePerVer);
		this._tempInt0=2;
		this._tempNumver1=0;
		for (this._tempInt1=0;this._tempInt1 < Slices;this._tempInt1++){
			this._tempNumver2=Math.cos(this._tempNumver1);
			this._tempNumver3=Math.sin(this._tempNumver1);
			this.addVertexIndex(radius *this._tempNumver2,0,radius *this._tempNumver3,r,g,b,a,this._tempUint0+this._tempInt0 *this._floatSizePerVer);
			this.addIndexes(this._tempUint1,this._tempUint1+this._tempInt0);
			if (this._tempInt1==Slices-1)
				this.addIndexes(this._tempUint1+2);
			else
			this.addIndexes(this._tempUint1+this._tempInt0+1);
			this.addVertexIndex(radius *this._tempNumver2,0,radius *this._tempNumver3,r,g,b,a,this._tempUint0+(this._tempInt0+Slices)*this._floatSizePerVer);
			this.addIndexes(this._tempUint1+1);
			if (this._tempInt1==Slices-1)
				this.addIndexes(this._tempUint1+Slices+2);
			else
			this.addIndexes(this._tempUint1+this._tempInt0+Slices+1);
			this.addIndexes(this._tempUint1+this._tempInt0+Slices);
			this._tempInt0++;
			this._tempNumver1+=this._tempNumver0;
		}
		return this;
	}

	__proto.boundingBoxLine=function(minX,minY,minZ,maxX,maxY,maxZ,r,g,b,a){
		if (!this._hasBegun || this._primitiveType!==0x0001)
			this.drawLinesException();
		if (this._posInVBData+8 *this._floatSizePerVer > this._vbData.length || this._posInIBData+48 > this._ibData.length)
			this.flush();
		this._tempUint0=this._posInVBData / this._floatSizePerVer;
		this.addVertex(minX,maxY,maxZ,r,g,b,a);
		this.addVertex(maxX,maxY,maxZ,r,g,b,a);
		this.addVertex(minX,minY,maxZ,r,g,b,a);
		this.addVertex(maxX,minY,maxZ,r,g,b,a);
		this.addVertex(maxX,maxY,minZ,r,g,b,a);
		this.addVertex(minX,maxY,minZ,r,g,b,a);
		this.addVertex(maxX,minY,minZ,r,g,b,a);
		this.addVertex(minX,minY,minZ,r,g,b,a);
		this._tempUint1=this._tempUint0+1;
		this._tempUint2=this._tempUint0+2;
		this._tempUint3=this._tempUint0+3;
		this._tempUint4=this._tempUint0+4;
		this._tempUint5=this._tempUint0+5;
		this._tempUint6=this._tempUint0+6;
		this._tempUint7=this._tempUint0+7;
		this.addIndexes(this._tempUint0,this._tempUint1,this._tempUint1,this._tempUint3,this._tempUint3,this._tempUint2,this._tempUint2,this._tempUint0,
		this._tempUint4,this._tempUint5,this._tempUint5,this._tempUint7,this._tempUint7,this._tempUint6,this._tempUint6,this._tempUint4,
		this._tempUint5,this._tempUint0,this._tempUint0,this._tempUint2,this._tempUint2,this._tempUint7,this._tempUint7,this._tempUint5,
		this._tempUint1,this._tempUint4,this._tempUint4,this._tempUint6,this._tempUint6,this._tempUint3,this._tempUint3,this._tempUint1,
		this._tempUint5,this._tempUint4,this._tempUint4,this._tempUint1,this._tempUint1,this._tempUint0,this._tempUint0,this._tempUint5,
		this._tempUint2,this._tempUint3,this._tempUint3,this._tempUint6,this._tempUint6,this._tempUint7,this._tempUint7,this._tempUint2);
		return this;
	}

	__proto.addVertex=function(x,y,z,r,g,b,a){
		if (!this._hasBegun)
			this.addVertexIndexException();
		this._vbData[this._posInVBData]=x,this._vbData[this._posInVBData+1]=y,this._vbData[this._posInVBData+2]=z;
		this._vbData[this._posInVBData+3]=r,this._vbData[this._posInVBData+4]=g,this._vbData[this._posInVBData+5]=b,this._vbData[this._posInVBData+6]=a;
		this._posInVBData+=this._floatSizePerVer;
		return this;
	}

	__proto.addVertexIndex=function(x,y,z,r,g,b,a,index){
		if (!this._hasBegun)
			this.addVertexIndexException();
		this._vbData[index]=x,this._vbData[index+1]=y,this._vbData[index+2]=z;
		this._vbData[index+3]=r,this._vbData[index+4]=g,this._vbData[index+5]=b,this._vbData[index+6]=a;
		index+=this._floatSizePerVer;
		if (index > this._posInVBData)
			this._posInVBData=index;
		return this;
	}

	__proto.addIndexes=function(__indexes){
		var indexes=arguments;
		if (!this._hasBegun)
			this.addVertexIndexException();
		for (var i=0;i < indexes.length;i++){
			this._ibData[this._posInIBData]=indexes[i];
			this._posInIBData++;
		}
		return this;
	}

	__proto.begin=function(primitive,camera){
		if (this._hasBegun)
			this.beginException0();
		if (primitive!==0x0001 && primitive!==0x0004)
			this.beginException1();
		this._primitiveType=primitive;
		this._camera=camera;
		this._hasBegun=true;
		return this;
	}

	__proto.end=function(){
		if (!this._hasBegun)
			this.endException();
		this.flush();
		this._hasBegun=false;
		return this;
	}

	__proto.flush=function(){
		if (this._posInVBData===0)
			return;
		this._ib.setData(this._ibData);
		this._vb.setData(this._vbData);
		this._vb.bind();
		this._ib.bind();
		this._shader=this._shaderCompile._passes[0].withCompile(0,0,0);
		this._shader.bind();
		this._shader.uploadAttributes(PhasorSpriter3D._vertexDeclaration._shaderValues);
		this._spriteShaderValue.setMatrix4x4(1,(this._camera).projectionViewMatrix);
		this._shader.uploadUniforms(null,this._spriteShaderValue,false);
		Stat.drawCall++;
		LayaGL.instance.drawElements(this._primitiveType,this._posInIBData,0x1403,0);
		this._posInIBData=0;
		this._posInVBData=0;
	}

	__proto.addVertexIndexException=function(){
		throw new Error("请先调用begin()函数");
	}

	__proto.beginException0=function(){
		throw new Error("调用begin()前请确保已成功调用end()！");
	}

	__proto.beginException1=function(){
		throw new Error("只支持“LINES”和“TRIANGLES”两种基元！");
	}

	__proto.endException=function(){
		throw new Error("调用end()前请确保已成功调用begin()！");
	}

	__proto.drawLinesException=function(){
		throw new Error("您必须确保在此之前已调用begin()且使用“LINES”基元！");
	}

	__proto.drawTrianglesException=function(){
		throw new Error("您必须确保在此之前已调用begin()且使用“TRIANGLES”基元！");
	}

	__static(PhasorSpriter3D,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(28,[new VertexElement(0,"vector3",0),new VertexElement(12,"vector4",1)]);}
	]);
	return PhasorSpriter3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/render/RenderContext3D.as=======199.999598/199.999598
/**
*<code>RenderContext3D</code> 类用于实现渲染状态。
*/
//class laya.d3.core.render.RenderContext3D
var RenderContext3D=(function(){
	function RenderContext3D(){
		/**@private */
		//this._staticBatch=null;
		/**@private */
		//this._batchIndexStart=0;
		/**@private */
		//this._batchIndexEnd=0;
		/**@private */
		//this.viewMatrix=null;
		/**@private */
		//this.projectionMatrix=null;
		/**@private */
		//this.projectionViewMatrix=null;
		/**@private */
		//this.viewport=null;
		/**@private */
		//this.scene=null;
		/**@private */
		//this.camera=null;
		/**@private */
		//this.renderElement=null;
		/**@private */
		//this.shader=null;
	}

	__class(RenderContext3D,'laya.d3.core.render.RenderContext3D');
	RenderContext3D.clientWidth=0;
	RenderContext3D.clientHeight=0;
	__static(RenderContext3D,
	['_instance',function(){return this._instance=new RenderContext3D();}
	]);
	return RenderContext3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/render/RenderElement.as=======199.999597/199.999597
/**
*@private
*<code>RenderElement</code> 类用于实现渲染元素。
*/
//class laya.d3.core.render.RenderElement
var RenderElement=(function(){
	function RenderElement(){
		/**@private */
		//this._transform=null;
		/**@private */
		//this._geometry=null;
		/**@private */
		//this.material=null;
		/**@private */
		//this.render=null;
		/**@private */
		//this.staticBatch=null;
	}

	__class(RenderElement,'laya.d3.core.render.RenderElement');
	var __proto=RenderElement.prototype;
	/**
	*@private
	*/
	__proto.setTransform=function(transform){
		this._transform=transform;
	}

	/**
	*@private
	*/
	__proto.setGeometry=function(geometry){
		this._geometry=geometry;
	}

	/**
	*@private
	*/
	__proto.addToOpaqueRenderQueue=function(context,queue){
		queue.elements.push(this);
	}

	/**
	*@private
	*/
	__proto.addToTransparentRenderQueue=function(context,queue){
		queue.elements.push(this);
		queue.lastTransparentBatched=false;
		queue.lastTransparentRenderElement=this;
	}

	/**
	*@private
	*/
	__proto.destroy=function(){
		this._transform=null;
		this._geometry=null;
		this.material=null;
		this.render=null;
	}

	return RenderElement;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/render/RenderQueue.as=======199.999596/199.999596
/**
*@private
*<code>RenderQuene</code> 类用于实现渲染队列。
*/
//class laya.d3.core.render.RenderQueue
var RenderQueue=(function(){
	function RenderQueue(isTransparent){
		/**@private [只读]*/
		//this.isTransparent=false;
		/**@private */
		//this.elements=null;
		/**@private */
		//this.lastTransparentRenderElement=null;
		/**@private */
		//this.lastTransparentBatched=false;
		(isTransparent===void 0)&& (isTransparent=false);
		this.isTransparent=isTransparent;
		this.elements=[];
	}

	__class(RenderQueue,'laya.d3.core.render.RenderQueue');
	var __proto=RenderQueue.prototype;
	/**
	*@private
	*/
	__proto._compare=function(left,right){
		var renderQueue=left.material.renderQueue-right.material.renderQueue;
		if (renderQueue===0){
			return left.render._distanceForSort-right.render._distanceForSort;
			}else {
			return renderQueue;
		}
	}

	/**
	*@private
	*/
	__proto._partitionRenderObject=function(left,right){
		var pivot=this.elements[Math.floor((right+left)/ 2)];
		while (left <=right){
			while (this._compare(this.elements[left],pivot)< 0)
			left++;
			while (this._compare(this.elements[right],pivot)> 0)
			right--;
			if (left < right){
				var temp=this.elements[left];
				this.elements[left]=this.elements[right];
				this.elements[right]=temp;
				left++;
				right--;
				}else if (left===right){
				left++;
				break ;
			}
		}
		return left;
	}

	/**
	*@private
	*/
	__proto._quickSort=function(left,right){
		if (this.elements.length > 1){
			var index=this._partitionRenderObject(left,right);
			var leftIndex=index-1;
			if (left < leftIndex)
				this._quickSort(left,leftIndex);
			if (index < right)
				this._quickSort(index,right);
		}
	}

	/**
	*@private
	*渲染队列。
	*@param state 渲染状态。
	*/
	__proto._render=function(context,isTarget){
		var lastStateRenderState,lastStateRender;
		var loopCount=Stat.loopCount;
		var scene=context.scene;
		var camera=context.camera;
		for (var i=0,n=this.elements.length;i < n;i++){
			var element=this.isTransparent ? this.elements[n-i-1] :this.elements[i];
			var transform=element._transform;
			var render=element.render;
			var geometry=element._geometry;
			var material=element.material;
			context.renderElement=element;
			if (loopCount!==render._updateLoopCount){
				render._renderUpdate(context,transform);
				render._renderUpdateWithCamera(context,transform);
				render._updateLoopCount=loopCount;
				render._updateCamera=camera;
				}else if (camera!==render._updateCamera){
				render._renderUpdateWithCamera(context,transform);
				render._updateCamera=camera;
			}
			if (geometry._prepareRender(context)){
				var renderStates=material._renderStates;
				var passes=material._shader._passes;
				for (var j=0,m=passes.length;j < m;j++){
					var publicDefine=(scene._defineDatas.value | geometry._vertexDeclarationDefine)& (~material._disablePublicDefineDatas.value);
					var shader=context.shader=passes[j].withCompile(publicDefine,render._defineDatas.value,material._defineDatas.value);
					var switchShader=shader.bind();
					var switchShaderLoop=(loopCount!==shader._uploadLoopCount);
					if (geometry._singletonVertexBuffer){
						var vertexBuffer=geometry._vertexBuffer;
						vertexBuffer.bind();
						shader.uploadAttributes(vertexBuffer.vertexDeclaration._shaderValues);
						}else {
						shader.uploadMultiAttributes(geometry._multiVerDecValueData);
					};
					var uploadScene=(shader._uploadScene!==scene)|| switchShaderLoop;
					if (uploadScene || switchShader){
						shader.uploadUniforms(shader._sceneUniformParamsMap,scene._shaderValues,uploadScene);
						shader._uploadScene=scene;
					};
					var switchCamera=shader._uploadCamera!==camera;
					var uploadSprite3D=(switchCamera || shader._uploadRender!==render)|| switchShaderLoop;
					if (uploadSprite3D || switchShader){
						shader.uploadUniforms(shader._spriteUniformParamsMap,render._shaderValues,uploadSprite3D);
						shader._uploadRender=render;
					};
					var uploadCamera=switchCamera || switchShaderLoop;
					if (uploadCamera || switchShader){
						shader.uploadUniforms(shader._cameraUniformParamsMap,camera._shaderValues,uploadCamera);
						shader._uploadCamera=camera;
					};
					var uploadMaterial=(shader._uploadMaterial!==material)|| switchShaderLoop;
					if (uploadMaterial || switchShader){
						shader.uploadUniforms(shader._materialUniformParamsMap,material._shaderValues,uploadMaterial);
						shader._uploadMaterial=material;
					};
					var renderState=renderStates[j];
					if (lastStateRenderState!==renderState){
						renderState._setRenderStateBlendDepth();
						renderState._setRenderStateFrontFace(isTarget,transform);
						lastStateRenderState=renderState;
						lastStateRender=render;
						}else {
						if (lastStateRender!==render){
							renderState._setRenderStateFrontFace(isTarget,transform);
							lastStateRender=render;
						}
					}
					geometry._render(context);
					shader._uploadLoopCount=loopCount;
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto.clear=function(){
		this.elements.length=0;
		this.lastTransparentRenderElement=null;
		this.lastTransparentBatched=false;
	}

	return RenderQueue;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/scene/OctreeNode.as=======199.999593/199.999593
//class laya.d3.core.scene.OctreeNode
var OctreeNode=(function(){
	function OctreeNode(scene,currentDepth){
		this._exactBox=null;
		this._relaxBox=null;
		this._scene=null;
		this._parent=null;
		this._currentDepth=0;
		this._boundingSphere=new BoundSphere(new Vector3(),0);
		this._corners=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];
		this._boundingBoxCenter=new Vector3();
		this._children=__newvec(8);
		this._objects=[];
		this._tempBoundBoxCorners=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];
		this._scene=scene;
		this._currentDepth=currentDepth;
	}

	__class(OctreeNode,'laya.d3.core.scene.OctreeNode');
	var __proto=OctreeNode.prototype;
	Laya.imps(__proto,{"laya.d3.core.scene.ITreeNode":true})
	__proto.init=function(center,treeSize){
		var min=new Vector3();
		var max=new Vector3();
		Vector3.scale(treeSize,-0.5,min);
		Vector3.scale(treeSize,0.5,max);
		Vector3.add(min,center,min);
		Vector3.add(max,center,max);
		this.exactBox=new BoundBox(min,max);
		this.relaxBox=new BoundBox(min,max);
	}

	__proto.addTreeNode=function(render){
		if (Collision.boxContainsBox(this._relaxBox,render.boundingBox)===1)
			this.addNodeDown(render,0);
		else
		this.addObject(render);
	}

	__proto.addChild=function(index){
		var child=this._children[index];
		if (child==null){
			child=new OctreeNode(this._scene,this._currentDepth+1);
			this._children[index]=child;
			child._parent=this;
			Vector3.subtract(this._exactBox.max,this._exactBox.min,OctreeNode.tempSize);
			Vector3.multiply(OctreeNode.tempSize,OctreeNode._octreeSplit[index],OctreeNode.tempCenter);
			Vector3.add(this._exactBox.min,OctreeNode.tempCenter,OctreeNode.tempCenter);
			Vector3.scale(OctreeNode.tempSize,0.25,OctreeNode.tempSize);
			var min=new Vector3();
			var max=new Vector3();
			Vector3.subtract(OctreeNode.tempCenter,OctreeNode.tempSize,min);
			Vector3.add(OctreeNode.tempCenter,OctreeNode.tempSize,max);
			child.exactBox=new BoundBox(min,max);
			Vector3.scale(OctreeNode.tempSize,OctreeNode.relax,OctreeNode.tempSize);
			var relaxMin=new Vector3();
			var relaxMax=new Vector3();
			Vector3.subtract(OctreeNode.tempCenter,OctreeNode.tempSize,relaxMin);
			Vector3.add(OctreeNode.tempCenter,OctreeNode.tempSize,relaxMax);
			child.relaxBox=new BoundBox(relaxMin,relaxMax);
		}
		return child;
	}

	__proto.addObject=function(object){
		object._treeNode=this;
		this._objects.push(object);
	}

	__proto.removeObject=function(object){
		if (object._treeNode !=this){
			console.log("OctreeNode::removeObject error");
			return false;
		};
		var index=this._objects.indexOf(object);
		if (index!==-1){
			this._objects.splice(index,1);
			return true;
		}
		return false;
	}

	__proto.clearObject=function(){
		this._objects.length=0;
	}

	__proto.addNodeUp=function(render,depth){
		if (this._parent && (Collision.boxContainsBox(this._exactBox,render.boundingBox)!==1)){
			this._parent.addNodeUp(render,depth-1);
		}else
		this.addNodeDown(render,depth);
	}

	__proto.addNodeDown=function(render,depth){
		if (depth < this._scene.treeLevel){
			var childIndex=this.inChildIndex(render.boundingBoxCenter);
			var child=this.addChild(childIndex);
			if (Collision.boxContainsBox(child._relaxBox,render.boundingBox)===1){
				child.addNodeDown(render,++depth);
			}else
			this.addObject(render);
			}else {
			this.addObject(render);
		}
	}

	__proto.inChildIndex=function(objectCenter){
		var z=objectCenter.z < this._boundingBoxCenter.z ? 0 :1;
		var y=objectCenter.y < this._boundingBoxCenter.y ? 0 :1;
		var x=objectCenter.x < this._boundingBoxCenter.x ? 0 :1;
		return z *4+y *2+x;
	}

	__proto.updateObject=function(render){
		if (Collision.boxContainsBox(this._relaxBox,render.boundingBox)===1){
			this.removeObject(render);
			render._treeNode=null;
			this.addNodeDown(render,this._currentDepth);
			}else if (this._parent){
			this.removeObject(render);
			render._treeNode=null;
			this._parent.addNodeUp(render,this._currentDepth-1);
		}
	}

	__proto.cullingObjects=function(boundFrustum,testVisible,flags,cameraPosition,projectionView){
		var i=0,j=0,n=0,m=0;
		var dynamicBatchManager=this._scene._dynamicBatchManager;
		for (i=0,n=this._objects.length;i < n;i++){
			var render=this._objects[i];
			if (Layer.isVisible(render._owner.layer.mask)&& render.enable){
				if (testVisible){
					Stat.treeSpriteCollision+=1;
					if (boundFrustum.containsBoundSphere(render.boundingSphere)===0)
						continue ;
				}
				render._renderUpdateWithCamera(projectionView);
				render._distanceForSort=Vector3.distance(render.boundingSphere.center,cameraPosition)+render.sortingFudge;
				var renderElements=render._renderElements;
				for (j=0,m=renderElements.length;j < m;j++){
					var renderElement=renderElements[j];
					var staticBatch=renderElement.staticBatch;
					if (staticBatch){
						staticBatch._addBatchRenderElement(renderElement);
						}else {
						var renderObj=renderElement._geometry;
						if ((renderObj.triangleCount < laya.d3.graphics.DynamicBatch.maxCombineTriangleCount)&& (renderObj._vertexBufferCount===1)&& (renderObj._getIndexBuffer())&& (renderElement.material.renderQueue < 2)&& renderElement._canDynamicBatch && (!render._owner.isStatic))
							dynamicBatchManager._addPrepareRenderElement(renderElement);
						else
						this._scene._getRenderQueue(renderElement.material.renderQueue).addElement(renderElement);
					}
				}
			}
		}
		for (i=0;i < 8;i++){
			var child=this._children[i];
			if (child==null)
				continue ;
			var testVisibleChild=testVisible;
			if (testVisible){
				var type=boundFrustum.containsBoundBox(child._relaxBox);
				Stat.treeNodeCollision+=1;
				if (type===0)
					continue ;
				testVisibleChild=(type===2);
			}
			child.cullingObjects(boundFrustum,testVisibleChild,flags,cameraPosition,projectionView);
		}
	}

	/**
	*@private
	*/
	__proto.cullingShadowObjects=function(lightBoundFrustum,splitShadowQueues,testVisible,flags,scene){
		var i=0,j=0,n=0,m=0;
		var dynamicBatchManager=this._scene._dynamicBatchManager;
		for (i=0,n=this._objects.length;i < n;i++){
			var baseRender=this._objects[i];
			if (baseRender.castShadow && Layer.isVisible(baseRender._owner.layer.mask)&& baseRender.enable){
				if (testVisible && lightBoundFrustum[0].containsBoundSphere(baseRender.boundingSphere)===0)
					continue ;
				for (var k=1,kNum=lightBoundFrustum.length;k < kNum;k++){
					var shadowQueue=splitShadowQueues[k-1];
					if (lightBoundFrustum[k].containsBoundSphere(baseRender.boundingSphere)!==0){
						var renderElements=baseRender._renderElements;
						for (j=0,m=renderElements.length;j < m;j++)
						shadowQueue.addElement(renderElements[j]);
					}
				}
			}
		}
		for (i=0;i < 8;i++){
			var child=this._children[i];
			if (child==null)
				continue ;
			var testVisibleChild=testVisible;
			if (testVisible){
				var type=lightBoundFrustum[0].containsBoundBox(child._relaxBox);
				if (type===0)
					continue ;
				testVisibleChild=(type===2);
			}
			child.cullingShadowObjects(lightBoundFrustum,splitShadowQueues,testVisibleChild,flags,scene);
		}
	}

	/**
	*@private
	*/
	__proto.cullingShadowObjectsOnePSSM=function(lightBoundFrustum,splitShadowQueues,lightViewProjectMatrix,testVisible,flags,scene){
		var shadowQueue=splitShadowQueues[0];
		var i=0,j=0,n=0,m=0;
		for (i=0,n=this._objects.length;i < n;i++){
			var baseRender=this._objects[i];
			if (baseRender.castShadow && Layer.isVisible(baseRender._owner.layer.mask)&& baseRender.enable){
				if (testVisible && lightBoundFrustum.containsBoundSphere(baseRender.boundingSphere)===0)
					continue ;
				baseRender._renderUpdateWithCamera(lightViewProjectMatrix);
				var renderElements=baseRender._renderElements;
				for (j=0,m=renderElements.length;j < m;j++)
				shadowQueue.addElement(renderElements[j]);
			}
		}
		for (i=0;i < 8;i++){
			var child=this._children[i];
			if (child==null)
				continue ;
			var testVisibleChild=testVisible;
			if (testVisible){
				var type=lightBoundFrustum.containsBoundBox(child._relaxBox);
				if (type===0)
					continue ;
				testVisibleChild=(type===2);
			}
			child.cullingShadowObjectsOnePSSM(lightBoundFrustum,splitShadowQueues,lightViewProjectMatrix,testVisibleChild,flags,scene);
		}
	}

	__proto.renderBoudingBox=function(linePhasor){
		this._renderBoudingBox(linePhasor);
		for (var i=0;i < 8;++i){
			var pChild=this._children[i];
			if (pChild){
				pChild.renderBoudingBox(linePhasor);
			}
		}
	}

	__proto.buildAllChild=function(depth){
		if (depth < this._scene.treeLevel){
			for (var i=0;i < 8;i++){
				var child=this.addChild(i);
				child.buildAllChild(depth+1);
			}
		}
	}

	__proto._renderBoudingBox=function(linePhasor){}
	__getset(0,__proto,'exactBox',function(){
		return this._exactBox;
		},function(value){
		this._exactBox=value;
		Vector3.add(value.min,value.max,this._boundingBoxCenter);
		Vector3.scale(this._boundingBoxCenter,0.5,this._boundingBoxCenter);
	});

	__getset(0,__proto,'relaxBox',function(){
		return this._relaxBox;
		},function(value){
		this._relaxBox=value;
		value.getCorners(this._corners);
		BoundSphere.createfromPoints(this._corners,this._boundingSphere);
	});

	OctreeNode.debugMode=false;
	OctreeNode.relax=1.15;
	OctreeNode.CHILDNUM=8;
	__static(OctreeNode,
	['tempVector0',function(){return this.tempVector0=new Vector3();},'tempSize',function(){return this.tempSize=new Vector3();},'tempCenter',function(){return this.tempCenter=new Vector3();},'_octreeSplit',function(){return this._octreeSplit=[new Vector3(0.250,0.250,0.250),new Vector3(0.750,0.250,0.250),new Vector3(0.250,0.750,0.250),new Vector3(0.750,0.750,0.250),new Vector3(0.250,0.250,0.750),new Vector3(0.750,0.250,0.750),new Vector3(0.250,0.750,0.750),new Vector3(0.750,0.750,0.750)];}
	]);
	return OctreeNode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/Color.as=======199.999589/199.999589
//class laya.d3.core.trail.module.Color
var Color=(function(){
	function Color(r,g,b,a){
		this._r=NaN;
		this._g=NaN;
		this._b=NaN;
		this._a=NaN;
		(r===void 0)&& (r=1);
		(g===void 0)&& (g=1);
		(b===void 0)&& (b=1);
		(a===void 0)&& (a=1);
		this._r=r;
		this._g=g;
		this._b=b;
		this._a=a;
	}

	__class(Color,'laya.d3.core.trail.module.Color');
	var __proto=Color.prototype;
	__proto.cloneTo=function(destObject){
		destObject._r=this._r;
		destObject._g=this._g;
		destObject._b=this._b;
		destObject._a=this._a;
	}

	__static(Color,
	['RED',function(){return this.RED=new Color(1,0,0,1);},'GREEN',function(){return this.GREEN=new Color(0,1,0,1);},'BLUE',function(){return this.BLUE=new Color(0,0,1,1);},'CYAN',function(){return this.CYAN=new Color(0,1,1,1);},'YELLOW',function(){return this.YELLOW=new Color(1,0.92,0.016,1);},'MAGENTA',function(){return this.MAGENTA=new Color(1,0,1,1);},'GRAY',function(){return this.GRAY=new Color(0.5,0.5,0.5,1);},'WHITE',function(){return this.WHITE=new Color(1,1,1,1);},'BLACK',function(){return this.BLACK=new Color(0,0,0,1);}
	]);
	return Color;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/Gradient.as=======199.999588/199.999588
//class laya.d3.core.trail.module.Gradient
var Gradient=(function(){
	function Gradient(){
		/**
		*梯度模式
		*/
		this._mode=0;
		/**
		*颜色值关键帧数据,最大长度为10
		*/
		this._colorKeys=null;
		/**
		*透明度关键帧数据,最大长度为10
		*/
		this._alphaKeys=null;
		this.index=0;
		this._colorKeyData=new Float32Array(40);
		this._alphaKeyData=new Float32Array(20);
		this._colorKeys=[];
		this._alphaKeys=[];
	}

	__class(Gradient,'laya.d3.core.trail.module.Gradient');
	var __proto=Gradient.prototype;
	/**
	*设置渐变，使用一组颜色关键帧数据和透明度关键帧数据。
	*@param colorKeys 渐变的颜色值关键帧数据(最大长度为10)。
	*@param alphaKeys 渐变的透明度关键帧数据(最大长度为10)。
	*/
	__proto.setKeys=function(colorKeys,alphaKeys){
		this._colorKeys=colorKeys;
		this.index=0;
		var gradientColorKey;
		for (var i=0;i < colorKeys.length;i++){
			gradientColorKey=colorKeys[i];
			var color=gradientColorKey.color;
			this._colorKeyData[this.index++]=color._r;
			this._colorKeyData[this.index++]=color._g;
			this._colorKeyData[this.index++]=color._b;
			this._colorKeyData[this.index++]=gradientColorKey.time;
		}
		this._alphaKeys=alphaKeys;
		this.index=0;
		var gradientAlphaKey;
		for (var j=0;j < alphaKeys.length;j++){
			gradientAlphaKey=alphaKeys[j];
			this._alphaKeyData[this.index++]=gradientAlphaKey.alpha;
			this._alphaKeyData[this.index++]=gradientAlphaKey.time;
		}
	}

	__proto.cloneTo=function(destObject){
		var i=0,j=0;
		var cks=this.colorKeys;
		var _cks=[];
		for (i=0,j=cks.length;i < j;i++){
			var _ck=new GradientColorKey(new Color(),0);
			cks[i].cloneTo(_ck);
			_cks.push(_ck);
		};
		var aks=this.alphaKeys;
		var _aks=[];
		for (i=0,j=aks.length;i < j;i++){
			var _ak=new GradientAlphaKey();
			aks[i].cloneTo(_ak);
			_aks.push(_ak);
		}
		destObject.setKeys(_cks,_aks);
	}

	/**
	*设置梯度模式。
	*@param value 梯度模式。
	*/
	/**
	*获取梯度模式。
	*@return 梯度模式。
	*/
	__getset(0,__proto,'mode',function(){
		return this._mode;
		},function(value){
		this._mode=value;
	});

	/**
	*设置颜色值关键帧数据
	*/
	/**
	*获取颜色值关键帧数据
	*/
	__getset(0,__proto,'colorKeys',function(){
		return this._colorKeys;
		},function(values){
		this._colorKeys=values;
		this.index=0;
		for (var i=0;i < values.length;i++){
			var value=values[i];
			var color=value.color;
			this._colorKeyData[this.index++]=color._r;
			this._colorKeyData[this.index++]=color._g;
			this._colorKeyData[this.index++]=color._b;
			this._colorKeyData[this.index++]=value.time;
		}
	});

	/**
	*设置透明度关键帧数据
	*/
	/**
	*获取透明度关键帧数据
	*/
	__getset(0,__proto,'alphaKeys',function(){
		return this._alphaKeys;
		},function(values){
		this._alphaKeys=values;
		this.index=0;
		for (var i=0;i < values.length;i++){
			var value=values[i];
			this._alphaKeyData[this.index++]=value.alpha;
			this._alphaKeyData[this.index++]=value.time;
		}
	});

	return Gradient;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/GradientAlphaKey.as=======199.999587/199.999587
//class laya.d3.core.trail.module.GradientAlphaKey
var GradientAlphaKey=(function(){
	function GradientAlphaKey(alpha,time){
		this._alpha=NaN;
		this._time=NaN;
		(alpha===void 0)&& (alpha=0);
		(time===void 0)&& (time=0);
		this._alpha=alpha;
		this._time=time;
	}

	__class(GradientAlphaKey,'laya.d3.core.trail.module.GradientAlphaKey');
	var __proto=GradientAlphaKey.prototype;
	__proto.cloneTo=function(destObject){
		destObject.alpha=this.alpha;
		destObject.time=this.time;
	}

	/**
	*设置透明度。
	*@param value 透明度。
	*/
	/**
	*获取透明度。
	*@return 透明度。
	*/
	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
	});

	/**
	*设置时间。
	*@param value 时间。
	*/
	/**
	*获取时间。
	*@return 时间。
	*/
	__getset(0,__proto,'time',function(){
		return this._time;
		},function(value){
		this._time=value;
	});

	return GradientAlphaKey;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/GradientColorKey.as=======199.999586/199.999586
//class laya.d3.core.trail.module.GradientColorKey
var GradientColorKey=(function(){
	function GradientColorKey(color,time){
		this._color=null;
		this._time=NaN;
		(time===void 0)&& (time=0);
		this._color=color;
		this._time=time;
	}

	__class(GradientColorKey,'laya.d3.core.trail.module.GradientColorKey');
	var __proto=GradientColorKey.prototype;
	__proto.cloneTo=function(destObject){
		this.color.cloneTo(destObject.color);
		destObject.time=this.time;
	}

	/**
	*设置颜色值。
	*@param value 颜色值。
	*/
	/**
	*获取颜色值。
	*@return 颜色值。
	*/
	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
	});

	/**
	*设置时间。
	*@param value 时间。
	*/
	/**
	*获取时间。
	*@return 时间。
	*/
	__getset(0,__proto,'time',function(){
		return this._time;
		},function(value){
		this._time=value;
	});

	return GradientColorKey;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/GradientMode.as=======199.999585/199.999585
/**
*...
*@author ...
*/
//class laya.d3.core.trail.module.GradientMode
var GradientMode=(function(){
	function GradientMode(){}
	__class(GradientMode,'laya.d3.core.trail.module.GradientMode');
	GradientMode.Blend=0;
	GradientMode.Fixed=1;
	return GradientMode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/TextureMode.as=======199.999584/199.999584
/**
*...
*@author ...
*/
//class laya.d3.core.trail.module.TextureMode
var TextureMode=(function(){
	function TextureMode(){}
	__class(TextureMode,'laya.d3.core.trail.module.TextureMode');
	TextureMode.Stretch=0;
	TextureMode.Tile=1;
	return TextureMode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/module/TrailKeyFrame.as=======199.999583/199.999583
//class laya.d3.core.trail.module.TrailKeyFrame
var TrailKeyFrame=(function(){
	function TrailKeyFrame(){
		this.time=NaN;
		this.inTangent=NaN;
		this.outTangent=NaN;
		this.value=NaN;
	}

	__class(TrailKeyFrame,'laya.d3.core.trail.module.TrailKeyFrame');
	var __proto=TrailKeyFrame.prototype;
	__proto.cloneTo=function(destObject){
		destObject.time=this.time;
		destObject.inTangent=this.inTangent;
		destObject.outTangent=this.outTangent;
		destObject.value=this.value;
	}

	return TrailKeyFrame;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/VertexTrail.as=======199.999577/199.999577
/**
*<code>VertexTrail</code> 类用于创建拖尾顶点结构。
*/
//class laya.d3.core.trail.VertexTrail
var VertexTrail=(function(){
	function VertexTrail(){}
	__class(VertexTrail,'laya.d3.core.trail.VertexTrail');
	var __proto=VertexTrail.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexTrail._vertexDeclaration1;
	});

	__getset(1,VertexTrail,'vertexDeclaration1',function(){
		return VertexTrail._vertexDeclaration1;
	});

	__getset(1,VertexTrail,'vertexDeclaration2',function(){
		return VertexTrail._vertexDeclaration2;
	});

	__static(VertexTrail,
	['_vertexDeclaration1',function(){return this._vertexDeclaration1=new VertexDeclaration(32,
		[new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",42),
		new VertexElement(24,"single",33),
		new VertexElement(28,"single",41)]);},'_vertexDeclaration2',function(){return this._vertexDeclaration2=new VertexDeclaration(4,
		[new VertexElement(0,"single",39)]);}
	]);
	return VertexTrail;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/DynamicBatchManager.as=======199.999563/199.999563
/**
*@private
*<code>DynamicBatchManager</code> 类用于管理动态批处理。
*/
//class laya.d3.graphics.DynamicBatchManager
var DynamicBatchManager=(function(){
	function DynamicBatchManager(){
		/**@private */
		//this._batchRenderElementPool=null;
		/**@private */
		//this._batchRenderElementPoolIndex=0;
		this._batchRenderElementPool=[];
	}

	__class(DynamicBatchManager,'laya.d3.graphics.DynamicBatchManager');
	var __proto=DynamicBatchManager.prototype;
	/**
	*@private
	*/
	__proto._clear=function(){
		this._batchRenderElementPoolIndex=0;
	}

	/**
	*@private
	*/
	__proto._getBatchRenderElementFromPool=function(){
		throw "StaticBatch:must override this function.";
	}

	/**
	*@private
	*/
	__proto.dispose=function(){}
	DynamicBatchManager._registerManager=function(manager){
		DynamicBatchManager._managers.push(manager);
	}

	DynamicBatchManager._managers=[];
	return DynamicBatchManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/FrustumCulling.as=======199.999562/199.999562
/**
*@private
*<code>FrustumCulling</code> 类用于裁剪。
*/
//class laya.d3.graphics.FrustumCulling
var FrustumCulling=(function(){
	/**
	*创建一个 <code>FrustumCulling</code> 实例。
	*/
	function FrustumCulling(){}
	__class(FrustumCulling,'laya.d3.graphics.FrustumCulling');
	FrustumCulling.__init__=function(){
		if (Render.isConchApp){
			FrustumCulling._cullingBufferLength=0;
			FrustumCulling._cullingBuffer=new Float32Array(4096);
		}
	}

	FrustumCulling.renderObjectCulling=function(camera,scene,context,renderList){
		var i=0,n=0,j=0,m=0;
		var opaqueQueue=scene._opaqueQueue;
		var transparentQueue=scene._transparentQueue;
		opaqueQueue.clear();
		transparentQueue.clear();
		var staticBatchManagers=StaticBatchManager._managers;
		for (i=0,n=staticBatchManagers.length;i < n;i++)
		staticBatchManagers[i]._clear();
		var dynamicBatchManagers=DynamicBatchManager._managers;
		for (i=0,n=dynamicBatchManagers.length;i < n;i++)
		dynamicBatchManagers[i]._clear();
		var validCount=renderList.length;
		var renders=renderList.elements;
		var boundFrustum=camera.boundFrustum;
		Stat.spriteCount+=validCount;
		var camPos=context.camera._transform.position;
		for (i=0;i < validCount;i++){
			var render=renders [i];
			if (scene.isLayerVisible(render._owner._layer)&& render._enable && render._needRender(boundFrustum)){
				render._visible=true;
				render._distanceForSort=Vector3.distance(render.boundingSphere.center,camPos)+render.sortingFudge;
				var elements=render._renderElements;
				for (j=0,m=elements.length;j < m;j++){
					var element=elements[j];
					var renderQueue=scene._getRenderQueue(element.material.renderQueue);
					if (renderQueue.isTransparent)
						element.addToTransparentRenderQueue(context,renderQueue);
					else
					element.addToOpaqueRenderQueue(context,renderQueue);
				}
			}
			else{
				render._visible=false;
			}
		};
		var count=opaqueQueue.elements.length;
		(count > 0)&& (opaqueQueue._quickSort(0,count-1));
		count=transparentQueue.elements.length;
		(count > 0)&& (transparentQueue._quickSort(0,count-1));
	}

	FrustumCulling.renderObjectCullingNative=function(camera,scene,context,renderList){
		var i=0,n=0,j=0,m=0;
		var opaqueQueue=scene._opaqueQueue;
		var transparentQueue=scene._transparentQueue;
		opaqueQueue.clear();
		transparentQueue.clear();
		var staticBatchManagers=StaticBatchManager._managers;
		for (i=0,n=staticBatchManagers.length;i < n;i++)
		staticBatchManagers[i]._clear();
		var dynamicBatchManagers=DynamicBatchManager._managers;
		for (i=0,n=dynamicBatchManagers.length;i < n;i++)
		dynamicBatchManagers[i]._clear();
		var validCount=renderList.length;
		var renders=renderList.elements;
		for (i=0;i < validCount;i++){
			(renders [i]).boundingSphere;
		};
		var boundFrustum=camera.boundFrustum;
		FrustumCulling.cullingNative(camera._boundFrustumBuffer,FrustumCulling._cullingBuffer,scene._cullingBufferIndices,validCount,scene._cullingBufferResult);
		Stat.spriteCount+=validCount;
		var camPos=context.camera._transform.position;
		for (i=0;i < validCount;i++){
			var render=renders[i];
			if (scene.isLayerVisible(render._owner._layer)&& render._enable && scene._cullingBufferResult[i]){
				render._visible=true;
				render._distanceForSort=Vector3.distance(render.boundingSphere.center,camPos)+render.sortingFudge;
				var elements=render._renderElements;
				for (j=0,m=elements.length;j < m;j++){
					var element=elements[j];
					var renderQueue=scene._getRenderQueue(element.material.renderQueue);
					if (renderQueue.isTransparent)
						element.addToTransparentRenderQueue(context,renderQueue);
					else
					element.addToOpaqueRenderQueue(context,renderQueue);
				}
			}
			else{
				render._visible=false;
			}
		};
		var count=opaqueQueue.elements.length;
		(count > 0)&& (opaqueQueue._quickSort(0,count-1));
		count=transparentQueue.elements.length;
		(count > 0)&& (transparentQueue._quickSort(0,count-1));
	}

	FrustumCulling.cullingNative=function(boundFrustumBuffer,cullingBuffer,cullingBufferIndices,cullingCount,cullingBufferResult){
		return LayaGL.instance.culling(boundFrustumBuffer,cullingBuffer,cullingBufferIndices,cullingCount,cullingBufferResult);
	}

	FrustumCulling._cullingBufferLength=0;
	FrustumCulling._cullingBuffer=null;
	return FrustumCulling;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/StaticBatchManager.as=======199.999556/199.999556
/**
*<code>StaticBatchManager</code> 类用于静态批处理管理的父类。
*/
//class laya.d3.graphics.StaticBatchManager
var StaticBatchManager=(function(){
	function StaticBatchManager(){
		/**@private */
		//this._batchRenderElementPool=null;
		/**@private */
		//this._batchRenderElementPoolIndex=0;
		/**@private */
		//this._initBatchSprites=null;
		/**@private */
		//this._staticBatches=null;
		this._initBatchSprites=[];
		this._staticBatches={};
		this._batchRenderElementPoolIndex=0;
		this._batchRenderElementPool=[];
	}

	__class(StaticBatchManager,'laya.d3.graphics.StaticBatchManager');
	var __proto=StaticBatchManager.prototype;
	/**
	*@private
	*/
	__proto._partition=function(items,left,right){
		var pivot=items[Math.floor((right+left)/ 2)];
		while (left <=right){
			while (this._compare(items[left],pivot)< 0)
			left++;
			while (this._compare(items[right],pivot)> 0)
			right--;
			if (left < right){
				var temp=items[left];
				items[left]=items[right];
				items[right]=temp;
				left++;
				right--;
				}else if (left===right){
				left++;
				break ;
			}
		}
		return left;
	}

	/**
	*@private
	*/
	__proto._quickSort=function(items,left,right){
		if (items.length > 1){
			var index=this._partition(items,left,right);
			var leftIndex=index-1;
			if (left < leftIndex)
				this._quickSort(items,left,leftIndex);
			if (index < right)
				this._quickSort(items,index,right);
		}
	}

	/**
	*@private
	*/
	__proto._compare=function(left,right){
		throw "StaticBatch:must override this function.";
	}

	/**
	*@private
	*/
	__proto._initStaticBatchs=function(rootSprite){
		throw "StaticBatch:must override this function.";
	}

	/**
	*@private
	*/
	__proto._getBatchRenderElementFromPool=function(){
		throw "StaticBatch:must override this function.";
	}

	/**
	*@private
	*/
	__proto._addBatchSprite=function(renderableSprite3D){
		this._initBatchSprites.push(renderableSprite3D);
	}

	/**
	*@private
	*/
	__proto._clear=function(){
		this._batchRenderElementPoolIndex=0;
	}

	/**
	*@private
	*/
	__proto._garbageCollection=function(){
		throw "StaticBatchManager: must override it.";
	}

	/**
	*@private
	*/
	__proto.dispose=function(){
		this._staticBatches=null;
	}

	StaticBatchManager._registerManager=function(manager){
		StaticBatchManager._managers.push(manager);
	}

	StaticBatchManager._addToStaticBatchQueue=function(sprite3D){
		if ((sprite3D instanceof laya.d3.core.RenderableSprite3D )&& sprite3D.isStatic)
			(sprite3D)._addToInitStaticBatchManager();
		for (var i=0,n=sprite3D.numChildren;i < n;i++)
		StaticBatchManager._addToStaticBatchQueue(sprite3D._children [i]);
	}

	StaticBatchManager.combine=function(staticBatchRoot,renderableSprite3Ds){
		var i=0,n=0;
		if (renderableSprite3Ds){
			for (i=0,n=renderableSprite3Ds.length;i < n;i++){
				var renderableSprite3D=renderableSprite3Ds[i];
				(renderableSprite3D.isStatic)&& (renderableSprite3D._addToInitStaticBatchManager());
			}
			}else {
			if (staticBatchRoot)
				StaticBatchManager._addToStaticBatchQueue(staticBatchRoot);
		}
		for (i=0,n=StaticBatchManager._managers.length;i < n;i++){
			var manager=StaticBatchManager._managers[i];
			manager._initStaticBatchs(staticBatchRoot);
		}
	}

	StaticBatchManager._managers=[];
	return StaticBatchManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/MeshRenderStaticBatchOwner.as=======199.999555/199.999555
/**
*创建一个 <code>MeshRenderStaticBatchOwner</code> 实例。
*/
//class laya.d3.graphics.MeshRenderStaticBatchOwner
var MeshRenderStaticBatchOwner=(function(){
	function MeshRenderStaticBatchOwner(owner){
		/**@private */
		//this._owner=null;
		/**@private */
		//this._batches=null;
		/**@private */
		//this._cacheBatchOwner=null;
		this._owner=owner;
		this._batches=[];
		this._cacheBatchOwner=[];
	}

	__class(MeshRenderStaticBatchOwner,'laya.d3.graphics.MeshRenderStaticBatchOwner');
	var __proto=MeshRenderStaticBatchOwner.prototype;
	/**
	*@private
	*/
	__proto._getBatchRender=function(context,lightMapIndex,receiveShadow){
		var lightRenders=this._cacheBatchOwner[lightMapIndex];
		(lightRenders)|| (lightRenders=this._cacheBatchOwner[lightMapIndex]=__newvec(2,null));
		var render=lightRenders[receiveShadow ? 1 :0];
		if (!render){
			render=new MeshRender(null,4);
			render.lightmapIndex=lightMapIndex;
			render.receiveShadow=receiveShadow;
			lightRenders[receiveShadow ? 1 :0]=render;
		}
		return render;
	}

	return MeshRenderStaticBatchOwner;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPosition.as=======199.999551/199.999551
//class laya.d3.graphics.Vertex.VertexPosition
var VertexPosition=(function(){
	function VertexPosition(position){
		this._position=null;
		this._position=position;
	}

	__class(VertexPosition,'laya.d3.graphics.Vertex.VertexPosition');
	var __proto=VertexPosition.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPosition._vertexDeclaration;
	});

	/*INTERFACE laya.d3.graphics.IVertex */
	__getset(1,VertexPosition,'vertexDeclaration',function(){
		return VertexPosition._vertexDeclaration;
	});

	__static(VertexPosition,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(12,[
		new VertexElement(0,"vector3",0)]);}
	]);
	return VertexPosition;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormal.as=======199.999550/199.999550
//class laya.d3.graphics.Vertex.VertexPositionNormal
var VertexPositionNormal=(function(){
	function VertexPositionNormal(position,normal){
		this._position=null;
		this._normal=null;
		this._position=position;
		this._normal=normal;
	}

	__class(VertexPositionNormal,'laya.d3.graphics.Vertex.VertexPositionNormal');
	var __proto=VertexPositionNormal.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormal._vertexDeclaration;
	});

	/*INTERFACE laya.d3.graphics.IVertex */
	__getset(1,VertexPositionNormal,'vertexDeclaration',function(){
		return VertexPositionNormal._vertexDeclaration;
	});

	__static(VertexPositionNormal,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(24,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3)]);}
	]);
	return VertexPositionNormal;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColor.as=======199.999549/199.999549
/**
*<code>VertexPositionNormalColor</code> 类用于创建位置、法线、颜色顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColor
var VertexPositionNormalColor=(function(){
	function VertexPositionNormalColor(position,normal,color){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
	}

	__class(VertexPositionNormalColor,'laya.d3.graphics.Vertex.VertexPositionNormalColor');
	var __proto=VertexPositionNormalColor.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColor._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColor,'vertexDeclaration',function(){
		return VertexPositionNormalColor._vertexDeclaration;
	});

	__static(VertexPositionNormalColor,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(40,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1)]);}
	]);
	return VertexPositionNormalColor;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorSkin.as=======199.999548/199.999548
/**
*<code>VertexPositionNormalColorSkin</code> 类用于创建位置、法线、颜色、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorSkin
var VertexPositionNormalColorSkin=(function(){
	function VertexPositionNormalColorSkin(position,normal,color,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorSkin,'laya.d3.graphics.Vertex.VertexPositionNormalColorSkin');
	var __proto=VertexPositionNormalColorSkin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkin._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorSkin,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkin._vertexDeclaration;
	});

	__static(VertexPositionNormalColorSkin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(72,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6)]);}
	]);
	return VertexPositionNormalColorSkin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorSkinSTangent.as=======199.999547/199.999547
/**
*<code>VertexPositionNormalColorSkin</code> 类用于创建位置、法线、颜色、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorSkinSTangent
var VertexPositionNormalColorSkinSTangent=(function(){
	function VertexPositionNormalColorSkinSTangent(position,normal,color,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorSkinSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorSkinSTangent');
	var __proto=VertexPositionNormalColorSkinSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkinSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorSkinSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkinSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorSkinSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(88,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6),
		new VertexElement(72,"vector4",5)]);}
	]);
	return VertexPositionNormalColorSkinSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorSkinTangent.as=======199.999546/199.999546
/**
*<code>VertexPositionNormalColorSkin</code> 类用于创建位置、法线、颜色、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorSkinTangent
var VertexPositionNormalColorSkinTangent=(function(){
	function VertexPositionNormalColorSkinTangent(position,normal,color,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorSkinTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorSkinTangent');
	var __proto=VertexPositionNormalColorSkinTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkinTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorSkinTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorSkinTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorSkinTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(84,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6),
		new VertexElement(72,"vector3",5)]);}
	]);
	return VertexPositionNormalColorSkinTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorSTangent.as=======199.999545/199.999545
/**
*<code>VertexPositionNormalColorTangent</code> 类用于创建位置、法线、颜色、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorSTangent
var VertexPositionNormalColorSTangent=(function(){
	function VertexPositionNormalColorSTangent(position,normal,color,tangent){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalColorSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorSTangent');
	var __proto=VertexPositionNormalColorSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(56,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector4",5)]);}
	]);
	return VertexPositionNormalColorSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTangent.as=======199.999544/199.999544
/**
*<code>VertexPositionNormalColorTangent</code> 类用于创建位置、法线、颜色、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTangent
var VertexPositionNormalColorTangent=(function(){
	function VertexPositionNormalColorTangent(position,normal,color,tangent){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalColorTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTangent');
	var __proto=VertexPositionNormalColorTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(52,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector3",5)]);}
	]);
	return VertexPositionNormalColorTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture.as=======199.999543/199.999543
/**
*<code>VertexPositionNormalColorTexture</code> 类用于创建位置、法线、颜色、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture
var VertexPositionNormalColorTexture=(function(){
	function VertexPositionNormalColorTexture(position,normal,color,textureCoordinate){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
	}

	__class(VertexPositionNormalColorTexture,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture');
	var __proto=VertexPositionNormalColorTexture.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTexture,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(48,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2)]);}
	]);
	return VertexPositionNormalColorTexture;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1.as=======199.999542/199.999542
/**
*<code>VertexPositionNormalColorTexture</code> 类用于创建位置、法线、颜色、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1
var VertexPositionNormalColorTexture0Texture1=(function(){
	function VertexPositionNormalColorTexture0Texture1(position,normal,color,textureCoordinate0,textureCoordinate1){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
	}

	__class(VertexPositionNormalColorTexture0Texture1,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1');
	var __proto=VertexPositionNormalColorTexture0Texture1.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(56,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1Skin.as=======199.999541/199.999541
/**
*<code>VertexPositionNormalColorTextureSkin</code> 类用于创建位置、法线、颜色、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1Skin
var VertexPositionNormalColorTexture0Texture1Skin=(function(){
	function VertexPositionNormalColorTexture0Texture1Skin(position,normal,color,textureCoordinate0,textureCoordinate1,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorTexture0Texture1Skin,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1Skin');
	var __proto=VertexPositionNormalColorTexture0Texture1Skin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1Skin._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1Skin,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1Skin._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1Skin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(88,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15),
		new VertexElement(56,"vector4",7),
		new VertexElement(72,"vector4",6)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1Skin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1SkinSTangent.as=======199.999540/199.999540
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1SkinSTangent
var VertexPositionNormalColorTexture0Texture1SkinSTangent=(function(){
	function VertexPositionNormalColorTexture0Texture1SkinSTangent(position,normal,color,textureCoordinate0,textureCoordinate1,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorTexture0Texture1SkinSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1SkinSTangent');
	var __proto=VertexPositionNormalColorTexture0Texture1SkinSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1SkinSTangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1SkinSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1SkinSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1SkinSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(104,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15),
		new VertexElement(56,"vector4",7),
		new VertexElement(72,"vector4",6),
		new VertexElement(88,"vector4",5)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1SkinSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1SkinTangent.as=======199.999539/199.999539
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1SkinTangent
var VertexPositionNormalColorTexture0Texture1SkinTangent=(function(){
	function VertexPositionNormalColorTexture0Texture1SkinTangent(){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
	}

	__class(VertexPositionNormalColorTexture0Texture1SkinTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1SkinTangent');
	var __proto=VertexPositionNormalColorTexture0Texture1SkinTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__proto.VertexPositionNormalColorTexture0SkinTangent=function(position,normal,color,textureCoordinate0,textureCoordinate1,tangent,blendIndex,blendWeight){
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1SkinTangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1SkinTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1SkinTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1SkinTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(100,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15),
		new VertexElement(56,"vector4",7),
		new VertexElement(72,"vector4",6),
		new VertexElement(88,"vector3",5)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1SkinTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1STangent.as=======199.999538/199.999538
/**
*<code>VertexPositionNormalColorTextureTangent</code> 类用于创建位置、法线、颜色、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1STangent
var VertexPositionNormalColorTexture0Texture1STangent=(function(){
	function VertexPositionNormalColorTexture0Texture1STangent(position,normal,color,textureCoordinate0,textureCoordinate1,tangent){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalColorTexture0Texture1STangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1STangent');
	var __proto=VertexPositionNormalColorTexture0Texture1STangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1STangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1STangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1STangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1STangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(72,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15),
		new VertexElement(56,"vector4",5)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1STangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTexture0Texture1Tangent.as=======199.999537/199.999537
/**
*<code>VertexPositionNormalColorTextureTangent</code> 类用于创建位置、法线、颜色、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1Tangent
var VertexPositionNormalColorTexture0Texture1Tangent=(function(){
	function VertexPositionNormalColorTexture0Texture1Tangent(){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._tangent=null;
	}

	__class(VertexPositionNormalColorTexture0Texture1Tangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTexture0Texture1Tangent');
	var __proto=VertexPositionNormalColorTexture0Texture1Tangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__proto.VertexPositionNormalColorTexture0Tangent=function(position,normal,color,textureCoordinate0,textureCoordinate1,tangent){
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
	}

	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1Tangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalColorTexture0Texture1Tangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTexture0Texture1Tangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTexture0Texture1Tangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(68,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector2",15),
		new VertexElement(56,"vector3",5)]);}
	]);
	return VertexPositionNormalColorTexture0Texture1Tangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTextureSkin.as=======199.999536/199.999536
/**
*<code>VertexPositionNormalColorTextureSkin</code> 类用于创建位置、法线、颜色、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkin
var VertexPositionNormalColorTextureSkin=(function(){
	function VertexPositionNormalColorTextureSkin(position,normal,color,textureCoordinate,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorTextureSkin,'laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkin');
	var __proto=VertexPositionNormalColorTextureSkin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkin._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTextureSkin,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkin._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTextureSkin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(80,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector4",7),
		new VertexElement(64,"vector4",6)]);}
	]);
	return VertexPositionNormalColorTextureSkin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTextureSkinSTangent.as=======199.999535/199.999535
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkinSTangent
var VertexPositionNormalColorTextureSkinSTangent=(function(){
	function VertexPositionNormalColorTextureSkinSTangent(position,normal,color,textureCoordinate,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorTextureSkinSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkinSTangent');
	var __proto=VertexPositionNormalColorTextureSkinSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkinSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTextureSkinSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkinSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTextureSkinSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(96,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector4",7),
		new VertexElement(64,"vector4",6),
		new VertexElement(80,"vector4",5)]);}
	]);
	return VertexPositionNormalColorTextureSkinSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTextureSkinTangent.as=======199.999534/199.999534
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkinTangent
var VertexPositionNormalColorTextureSkinTangent=(function(){
	function VertexPositionNormalColorTextureSkinTangent(position,normal,color,textureCoordinate,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalColorTextureSkinTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSkinTangent');
	var __proto=VertexPositionNormalColorTextureSkinTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkinTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTextureSkinTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSkinTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTextureSkinTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(92,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector4",7),
		new VertexElement(64,"vector4",6),
		new VertexElement(80,"vector3",5)]);}
	]);
	return VertexPositionNormalColorTextureSkinTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTextureSTangent.as=======199.999533/199.999533
/**
*<code>VertexPositionNormalColorTextureTangent</code> 类用于创建位置、法线、颜色、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSTangent
var VertexPositionNormalColorTextureSTangent=(function(){
	function VertexPositionNormalColorTextureSTangent(position,normal,color,textureCoordinate,tangent){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalColorTextureSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTextureSTangent');
	var __proto=VertexPositionNormalColorTextureSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTextureSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTextureSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(64,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector4",5)]);}
	]);
	return VertexPositionNormalColorTextureSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalColorTextureTangent.as=======199.999532/199.999532
/**
*<code>VertexPositionNormalColorTextureTangent</code> 类用于创建位置、法线、颜色、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalColorTextureTangent
var VertexPositionNormalColorTextureTangent=(function(){
	function VertexPositionNormalColorTextureTangent(position,normal,color,textureCoordinate,tangent){
		this._position=null;
		this._normal=null;
		this._color=null;
		this._textureCoordinate=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._color=color;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalColorTextureTangent,'laya.d3.graphics.Vertex.VertexPositionNormalColorTextureTangent');
	var __proto=VertexPositionNormalColorTextureTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalColorTextureTangent,'vertexDeclaration',function(){
		return VertexPositionNormalColorTextureTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalColorTextureTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(60,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",1),
		new VertexElement(40,"vector2",2),
		new VertexElement(48,"vector3",5)]);}
	]);
	return VertexPositionNormalColorTextureTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalSTangent.as=======199.999531/199.999531
//class laya.d3.graphics.Vertex.VertexPositionNormalSTangent
var VertexPositionNormalSTangent=(function(){
	function VertexPositionNormalSTangent(position,normal,tangent){
		this._position=null;
		this._normal=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalSTangent');
	var __proto=VertexPositionNormalSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalSTangent._vertexDeclaration;
	});

	/*INTERFACE laya.d3.graphics.IVertex */
	__getset(1,VertexPositionNormalSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(40,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector4",5)]);}
	]);
	return VertexPositionNormalSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTangent.as=======199.999530/199.999530
//class laya.d3.graphics.Vertex.VertexPositionNormalTangent
var VertexPositionNormalTangent=(function(){
	function VertexPositionNormalTangent(position,normal,tangent){
		this._position=null;
		this._normal=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTangent');
	var __proto=VertexPositionNormalTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTangent._vertexDeclaration;
	});

	/*INTERFACE laya.d3.graphics.IVertex */
	__getset(1,VertexPositionNormalTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(36,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector3",5)]);}
	]);
	return VertexPositionNormalTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture.as=======199.999529/199.999529
/**
*<code>VertexPositionNormalTexture</code> 类用于创建位置、法线、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture
var VertexPositionNormalTexture=(function(){
	function VertexPositionNormalTexture(position,normal,textureCoordinate){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
	}

	__class(VertexPositionNormalTexture,'laya.d3.graphics.Vertex.VertexPositionNormalTexture');
	var __proto=VertexPositionNormalTexture.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTexture,'vertexDeclaration',function(){
		return VertexPositionNormalTexture._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(32,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2)]);}
	]);
	return VertexPositionNormalTexture;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1.as=======199.999528/199.999528
/**
*<code>VertexPositionNormalTexture</code> 类用于创建位置、法线、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1
var VertexPositionNormalTexture0Texture1=(function(){
	function VertexPositionNormalTexture0Texture1(position,normal,textureCoordinate0,textureCoordinate1){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
	}

	__class(VertexPositionNormalTexture0Texture1,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1');
	var __proto=VertexPositionNormalTexture0Texture1.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalTexture0Texture1,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(40,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15)]);}
	]);
	return VertexPositionNormalTexture0Texture1;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1Skin.as=======199.999527/199.999527
/**
*<code>VertexPositionNormalColorTextureSkin</code> 类用于创建位置、法线、颜色、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1Skin
var VertexPositionNormalTexture0Texture1Skin=(function(){
	function VertexPositionNormalTexture0Texture1Skin(position,normal,textureCoordinate0,textureCoordinate1,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalTexture0Texture1Skin,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1Skin');
	var __proto=VertexPositionNormalTexture0Texture1Skin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1Skin._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(1,VertexPositionNormalTexture0Texture1Skin,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1Skin._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1Skin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(72,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6)]);}
	]);
	return VertexPositionNormalTexture0Texture1Skin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1SkinSTangent.as=======199.999526/199.999526
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1SkinSTangent
var VertexPositionNormalTexture0Texture1SkinSTangent=(function(){
	function VertexPositionNormalTexture0Texture1SkinSTangent(position,normal,textureCoordinate0,textureCoordinate1,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalTexture0Texture1SkinSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1SkinSTangent');
	var __proto=VertexPositionNormalTexture0Texture1SkinSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1SkinSTangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(1,VertexPositionNormalTexture0Texture1SkinSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1SkinSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1SkinSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(88,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6),
		new VertexElement(72,"vector4",5)]);}
	]);
	return VertexPositionNormalTexture0Texture1SkinSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1SkinTangent.as=======199.999525/199.999525
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1SkinTangent
var VertexPositionNormalTexture0Texture1SkinTangent=(function(){
	function VertexPositionNormalTexture0Texture1SkinTangent(){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
	}

	__class(VertexPositionNormalTexture0Texture1SkinTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1SkinTangent');
	var __proto=VertexPositionNormalTexture0Texture1SkinTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__proto.VertexPositionNormalTexture0SkinTangent=function(position,normal,textureCoordinate0,textureCoordinate1,tangent,blendIndex,blendWeight){
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1SkinTangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(1,VertexPositionNormalTexture0Texture1SkinTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1SkinTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1SkinTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(84,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15),
		new VertexElement(40,"vector4",7),
		new VertexElement(56,"vector4",6),
		new VertexElement(72,"vector3",5)]);}
	]);
	return VertexPositionNormalTexture0Texture1SkinTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1STangent.as=======199.999524/199.999524
/**
*<code>VertexPositionNormalTextureTangent</code> 类用于创建位置、法线、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1STangent
var VertexPositionNormalTexture0Texture1STangent=(function(){
	function VertexPositionNormalTexture0Texture1STangent(position,normal,textureCoordinate0,textureCoordinate1,tangent){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalTexture0Texture1STangent,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1STangent');
	var __proto=VertexPositionNormalTexture0Texture1STangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1STangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalTexture0Texture1STangent,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1STangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1STangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(56,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15),
		new VertexElement(40,"vector4",5)]);}
	]);
	return VertexPositionNormalTexture0Texture1STangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTexture0Texture1Tangent.as=======199.999523/199.999523
/**
*<code>VertexPositionNormalTextureTangent</code> 类用于创建位置、法线、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1Tangent
var VertexPositionNormalTexture0Texture1Tangent=(function(){
	function VertexPositionNormalTexture0Texture1Tangent(){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._tangent=null;
	}

	__class(VertexPositionNormalTexture0Texture1Tangent,'laya.d3.graphics.Vertex.VertexPositionNormalTexture0Texture1Tangent');
	var __proto=VertexPositionNormalTexture0Texture1Tangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__proto.VertexPositionNormalTexture0Tangent=function(position,normal,textureCoordinate0,textureCoordinate1,tangent){
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
	}

	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1Tangent._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(1,VertexPositionNormalTexture0Texture1Tangent,'vertexDeclaration',function(){
		return VertexPositionNormalTexture0Texture1Tangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTexture0Texture1Tangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(52,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15),
		new VertexElement(40,"vector3",5)]);}
	]);
	return VertexPositionNormalTexture0Texture1Tangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTextureSkin.as=======199.999522/199.999522
/**
*<code>VertexPositionNormalColorTextureSkin</code> 类用于创建位置、法线、颜色、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTextureSkin
var VertexPositionNormalTextureSkin=(function(){
	function VertexPositionNormalTextureSkin(position,normal,textureCoordinate,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalTextureSkin,'laya.d3.graphics.Vertex.VertexPositionNormalTextureSkin');
	var __proto=VertexPositionNormalTextureSkin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkin._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTextureSkin,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkin._vertexDeclaration;
	});

	__static(VertexPositionNormalTextureSkin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(64,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector4",7),
		new VertexElement(48,"vector4",6)]);}
	]);
	return VertexPositionNormalTextureSkin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTextureSkinSTangent.as=======199.999521/199.999521
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTextureSkinSTangent
var VertexPositionNormalTextureSkinSTangent=(function(){
	function VertexPositionNormalTextureSkinSTangent(position,normal,textureCoordinate,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalTextureSkinSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTextureSkinSTangent');
	var __proto=VertexPositionNormalTextureSkinSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkinSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTextureSkinSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkinSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTextureSkinSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(80,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector4",7),
		new VertexElement(48,"vector4",6),
		new VertexElement(64,"vector4",5)]);}
	]);
	return VertexPositionNormalTextureSkinSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTextureSkinTangent.as=======199.999520/199.999520
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTextureSkinTangent
var VertexPositionNormalTextureSkinTangent=(function(){
	function VertexPositionNormalTextureSkinTangent(position,normal,textureCoordinate,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNormalTextureSkinTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTextureSkinTangent');
	var __proto=VertexPositionNormalTextureSkinTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkinTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTextureSkinTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSkinTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTextureSkinTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(76,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector4",7),
		new VertexElement(48,"vector4",6),
		new VertexElement(64,"vector3",5)]);}
	]);
	return VertexPositionNormalTextureSkinTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTextureSTangent.as=======199.999519/199.999519
/**
*<code>VertexPositionNormalTextureTangent</code> 类用于创建位置、法线、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTextureSTangent
var VertexPositionNormalTextureSTangent=(function(){
	function VertexPositionNormalTextureSTangent(position,normal,textureCoordinate,tangent){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalTextureSTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTextureSTangent');
	var __proto=VertexPositionNormalTextureSTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTextureSTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTextureSTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTextureSTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(48,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector4",5)]);}
	]);
	return VertexPositionNormalTextureSTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNormalTextureTangent.as=======199.999518/199.999518
/**
*<code>VertexPositionNormalTextureTangent</code> 类用于创建位置、法线、纹理、切线顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNormalTextureTangent
var VertexPositionNormalTextureTangent=(function(){
	function VertexPositionNormalTextureTangent(position,normal,textureCoordinate,tangent){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._tangent=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
		this._tangent=tangent;
	}

	__class(VertexPositionNormalTextureTangent,'laya.d3.graphics.Vertex.VertexPositionNormalTextureTangent');
	var __proto=VertexPositionNormalTextureTangent.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNormalTextureTangent._vertexDeclaration;
	});

	__getset(1,VertexPositionNormalTextureTangent,'vertexDeclaration',function(){
		return VertexPositionNormalTextureTangent._vertexDeclaration;
	});

	__static(VertexPositionNormalTextureTangent,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(44,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector3",5)]);}
	]);
	return VertexPositionNormalTextureTangent;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNTBTexture.as=======199.999517/199.999517
/**
*<code>VertexPositionNormalTexture</code> 类用于创建位置、法线、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNTBTexture
var VertexPositionNTBTexture=(function(){
	function VertexPositionNTBTexture(position,normal,textureCoordinate){
		this._position=null;
		this._normal=null;
		this._textureCoordinate=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate=textureCoordinate;
	}

	__class(VertexPositionNTBTexture,'laya.d3.graphics.Vertex.VertexPositionNTBTexture');
	var __proto=VertexPositionNTBTexture.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'textureCoordinate',function(){
		return this._textureCoordinate;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNTBTexture._vertexDeclaration;
	});

	__getset(1,VertexPositionNTBTexture,'vertexDeclaration',function(){
		return VertexPositionNTBTexture._vertexDeclaration;
	});

	__static(VertexPositionNTBTexture,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(56,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector3",5),
		new VertexElement(36,"vector3",4),
		new VertexElement(48,"vector2",2)]);}
	]);
	return VertexPositionNTBTexture;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionNTBTexture0Texture1Skin.as=======199.999516/199.999516
/**
*<code>VertexPositionNormalTextureSkin</code> 类用于创建位置、法线、纹理、骨骼索引、骨骼权重顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionNTBTexture0Texture1Skin
var VertexPositionNTBTexture0Texture1Skin=(function(){
	function VertexPositionNTBTexture0Texture1Skin(position,normal,binormal,textureCoordinate0,textureCoordinate1,tangent,blendIndex,blendWeight){
		this._position=null;
		this._normal=null;
		this._textureCoordinate0=null;
		this._textureCoordinate1=null;
		this._blendIndex=null;
		this._blendWeight=null;
		this._tangent=null;
		this.binormal=null;
		this._position=position;
		this._normal=normal;
		this._textureCoordinate0=textureCoordinate0;
		this._textureCoordinate1=textureCoordinate1;
		this._tangent=tangent;
		binormal=binormal;
		this._blendIndex=blendIndex;
		this._blendWeight=blendWeight;
	}

	__class(VertexPositionNTBTexture0Texture1Skin,'laya.d3.graphics.Vertex.VertexPositionNTBTexture0Texture1Skin');
	var __proto=VertexPositionNTBTexture0Texture1Skin.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'tangent',function(){
		return this._tangent;
	});

	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionNTBTexture0Texture1Skin._vertexDeclaration;
	});

	__getset(0,__proto,'textureCoordinate1',function(){
		return this._textureCoordinate1;
	});

	__getset(0,__proto,'blendIndex',function(){
		return this._blendIndex;
	});

	__getset(0,__proto,'blendWeight',function(){
		return this._blendWeight;
	});

	__getset(1,VertexPositionNTBTexture0Texture1Skin,'vertexDeclaration',function(){
		return VertexPositionNTBTexture0Texture1Skin._vertexDeclaration;
	});

	__static(VertexPositionNTBTexture0Texture1Skin,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(96,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector3",5),
		new VertexElement(36,"vector3",4),
		new VertexElement(48,"vector2",2),
		new VertexElement(56,"vector2",15),
		new VertexElement(64,"vector4",7),
		new VertexElement(80,"vector4",6)]);}
	]);
	return VertexPositionNTBTexture0Texture1Skin;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionTerrain.as=======199.999514/199.999514
/**
*<code>VertexPositionTerrain</code> 类用于创建位置、法线、纹理1、纹理2顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionTerrain
var VertexPositionTerrain=(function(){
	function VertexPositionTerrain(position,normal,textureCoord0,textureCoord1){
		this._position=null;
		this._normal=null;
		this._textureCoord0=null;
		this._textureCoord1=null;
		this._position=position;
		this._normal=normal;
		this._textureCoord0=textureCoord0;
		this._textureCoord1=textureCoord1;
	}

	__class(VertexPositionTerrain,'laya.d3.graphics.Vertex.VertexPositionTerrain');
	var __proto=VertexPositionTerrain.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'normal',function(){
		return this._normal;
	});

	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoord0',function(){
		return this._textureCoord0;
	});

	__getset(0,__proto,'textureCoord1',function(){
		return this._textureCoord1;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionTerrain._vertexDeclaration;
	});

	__getset(1,VertexPositionTerrain,'vertexDeclaration',function(){
		return VertexPositionTerrain._vertexDeclaration;
	});

	__static(VertexPositionTerrain,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(40,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector3",3),
		new VertexElement(24,"vector2",2),
		new VertexElement(32,"vector2",15)]);}
	]);
	return VertexPositionTerrain;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexPositionTexture0.as=======199.999513/199.999513
/**
*<code>VertexPositionNormalTexture</code> 类用于创建位置、纹理顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexPositionTexture0
var VertexPositionTexture0=(function(){
	function VertexPositionTexture0(position,textureCoordinate0){
		this._position=null;
		this._textureCoordinate0=null;
		this._position=position;
		this._textureCoordinate0=textureCoordinate0;
	}

	__class(VertexPositionTexture0,'laya.d3.graphics.Vertex.VertexPositionTexture0');
	var __proto=VertexPositionTexture0.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'position',function(){
		return this._position;
	});

	__getset(0,__proto,'textureCoordinate0',function(){
		return this._textureCoordinate0;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexPositionTexture0._vertexDeclaration;
	});

	__getset(1,VertexPositionTexture0,'vertexDeclaration',function(){
		return VertexPositionTexture0._vertexDeclaration;
	});

	__static(VertexPositionTexture0,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(20,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector2",2)]);}
	]);
	return VertexPositionTexture0;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexShurikenParticleBillboard.as=======199.999512/199.999512
/**
*<code>VertexShurikenParticle</code> 类用于创建粒子顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexShurikenParticleBillboard
var VertexShurikenParticleBillboard=(function(){
	function VertexShurikenParticleBillboard(cornerTextureCoordinate,positionStartLifeTime,velocity,startColor,startSize,startRotation0,startRotation1,startRotation2,ageAddScale,time,startSpeed,randoms0,randoms1,simulationWorldPostion){
		/**@private */
		this._cornerTextureCoordinate=null;
		/**@private */
		this._positionStartLifeTime=null;
		/**@private */
		this._velocity=null;
		/**@private */
		this._startColor=null;
		/**@private */
		this._startSize=null;
		/**@private */
		this._startRotation0=null;
		/**@private */
		this._startRotation1=null;
		/**@private */
		this._startRotation2=null;
		/**@private */
		this._startLifeTime=NaN;
		/**@private */
		this._time=NaN;
		/**@private */
		this._startSpeed=NaN;
		/**@private */
		this._randoms0=null;
		/**@private */
		this._randoms1=null;
		/**@private */
		this._simulationWorldPostion=null;
		this._cornerTextureCoordinate=cornerTextureCoordinate;
		this._positionStartLifeTime=positionStartLifeTime;
		this._velocity=velocity;
		this._startColor=startColor;
		this._startSize=startSize;
		this._startRotation0=startRotation0;
		this._startRotation1=startRotation1;
		this._startRotation2=startRotation2;
		this._startLifeTime=ageAddScale;
		this._time=time;
		this._startSpeed=startSpeed;
		this._randoms0=this.random0;
		this._randoms1=this.random1;
		this._simulationWorldPostion=simulationWorldPostion;
	}

	__class(VertexShurikenParticleBillboard,'laya.d3.graphics.Vertex.VertexShurikenParticleBillboard');
	var __proto=VertexShurikenParticleBillboard.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'cornerTextureCoordinate',function(){
		return this._cornerTextureCoordinate;
	});

	__getset(0,__proto,'random1',function(){
		return this._randoms1;
	});

	__getset(0,__proto,'startRotation2',function(){
		return this._startRotation2;
	});

	__getset(0,__proto,'positionStartLifeTime',function(){
		return this._positionStartLifeTime;
	});

	__getset(0,__proto,'velocity',function(){
		return this._velocity;
	});

	__getset(0,__proto,'random0',function(){
		return this._randoms0;
	});

	__getset(0,__proto,'startSize',function(){
		return this._startSize;
	});

	__getset(0,__proto,'startColor',function(){
		return this._startColor;
	});

	__getset(0,__proto,'startRotation0',function(){
		return this._startRotation0;
	});

	__getset(0,__proto,'startRotation1',function(){
		return this._startRotation1;
	});

	__getset(0,__proto,'startLifeTime',function(){
		return this._startLifeTime;
	});

	__getset(0,__proto,'time',function(){
		return this._time;
	});

	__getset(0,__proto,'startSpeed',function(){
		return this._startSpeed;
	});

	__getset(0,__proto,'simulationWorldPostion',function(){
		return this._simulationWorldPostion;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexShurikenParticleBillboard._vertexDeclaration;
	});

	__getset(1,VertexShurikenParticleBillboard,'vertexDeclaration',function(){
		return VertexShurikenParticleBillboard._vertexDeclaration;
	});

	__static(VertexShurikenParticleBillboard,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(152,[
		new VertexElement(0,"vector4",17),
		new VertexElement(16,"vector4",30),
		new VertexElement(32,"vector4",32),
		new VertexElement(48,"vector4",19),
		new VertexElement(64,"vector3",20),
		new VertexElement(76,"vector3",22),
		new VertexElement(88,"single",31),
		new VertexElement(92,"vector4",34),
		new VertexElement(108,"vector4",35),
		new VertexElement(124,"vector3",36),
		new VertexElement(136,"vector4",37)]);}
	]);
	return VertexShurikenParticleBillboard;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/Vertex/VertexShurikenParticleMesh.as=======199.999511/199.999511
/**
*<code>VertexShurikenParticle</code> 类用于创建粒子顶点结构。
*/
//class laya.d3.graphics.Vertex.VertexShurikenParticleMesh
var VertexShurikenParticleMesh=(function(){
	function VertexShurikenParticleMesh(cornerTextureCoordinate,positionStartLifeTime,velocity,startColor,startSize,startRotation0,startRotation1,startRotation2,ageAddScale,time,startSpeed,randoms0,randoms1,simulationWorldPostion){
		/**@private */
		this._cornerTextureCoordinate=null;
		/**@private */
		this._positionStartLifeTime=null;
		/**@private */
		this._velocity=null;
		/**@private */
		this._startColor=null;
		/**@private */
		this._startSize=null;
		/**@private */
		this._startRotation0=null;
		/**@private */
		this._startRotation1=null;
		/**@private */
		this._startRotation2=null;
		/**@private */
		this._startLifeTime=NaN;
		/**@private */
		this._time=NaN;
		/**@private */
		this._startSpeed=NaN;
		/**@private */
		this._randoms0=null;
		/**@private */
		this._randoms1=null;
		/**@private */
		this._simulationWorldPostion=null;
		this._cornerTextureCoordinate=cornerTextureCoordinate;
		this._positionStartLifeTime=positionStartLifeTime;
		this._velocity=velocity;
		this._startColor=startColor;
		this._startSize=startSize;
		this._startRotation0=startRotation0;
		this._startRotation1=startRotation1;
		this._startRotation2=startRotation2;
		this._startLifeTime=ageAddScale;
		this._time=time;
		this._startSpeed=startSpeed;
		this._randoms0=this.random0;
		this._randoms1=this.random1;
		this._simulationWorldPostion=simulationWorldPostion;
	}

	__class(VertexShurikenParticleMesh,'laya.d3.graphics.Vertex.VertexShurikenParticleMesh');
	var __proto=VertexShurikenParticleMesh.prototype;
	Laya.imps(__proto,{"laya.d3.graphics.IVertex":true})
	__getset(0,__proto,'cornerTextureCoordinate',function(){
		return this._cornerTextureCoordinate;
	});

	__getset(0,__proto,'velocity',function(){
		return this._velocity;
	});

	__getset(0,__proto,'position',function(){
		return this._positionStartLifeTime;
	});

	__getset(0,__proto,'random0',function(){
		return this._randoms0;
	});

	__getset(0,__proto,'startSize',function(){
		return this._startSize;
	});

	__getset(0,__proto,'startColor',function(){
		return this._startColor;
	});

	__getset(0,__proto,'startRotation0',function(){
		return this._startRotation0;
	});

	__getset(0,__proto,'startRotation1',function(){
		return this._startRotation1;
	});

	__getset(0,__proto,'random1',function(){
		return this._randoms1;
	});

	__getset(0,__proto,'startRotation2',function(){
		return this._startRotation2;
	});

	__getset(0,__proto,'startLifeTime',function(){
		return this._startLifeTime;
	});

	__getset(0,__proto,'time',function(){
		return this._time;
	});

	__getset(0,__proto,'startSpeed',function(){
		return this._startSpeed;
	});

	__getset(0,__proto,'simulationWorldPostion',function(){
		return this._simulationWorldPostion;
	});

	__getset(0,__proto,'vertexDeclaration',function(){
		return VertexShurikenParticleMesh._vertexDeclaration;
	});

	__getset(1,VertexShurikenParticleMesh,'vertexDeclaration',function(){
		return VertexShurikenParticleMesh._vertexDeclaration;
	});

	__static(VertexShurikenParticleMesh,
	['_vertexDeclaration',function(){return this._vertexDeclaration=new VertexDeclaration(172,[
		new VertexElement(0,"vector3",0),
		new VertexElement(12,"vector4",1),
		new VertexElement(28,"vector2",2),
		new VertexElement(36,"vector4",30),
		new VertexElement(52,"vector4",32),
		new VertexElement(68,"vector4",19),
		new VertexElement(84,"vector3",20),
		new VertexElement(96,"vector3",22),
		new VertexElement(108,"single",31),
		new VertexElement(112,"vector4",34),
		new VertexElement(128,"vector4",35),
		new VertexElement(144,"vector3",36),
		new VertexElement(156,"vector4",37)]);}
	]);
	return VertexShurikenParticleMesh;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/VertexDeclaration.as=======199.999509/199.999509
/**
*@private
*<code>VertexDeclaration</code> 类用于生成顶点声明。
*/
//class laya.d3.graphics.VertexDeclaration
var VertexDeclaration=(function(){
	function VertexDeclaration(vertexStride,vertexElements){
		/**@private */
		this._id=0;
		/**@private */
		this._vertexStride=0;
		/**@private */
		this._vertexElementsDic=null;
		/**@private */
		this._shaderValues=null;
		/**@private */
		this._defineDatas=null;
		/**@private [只读]*/
		this.vertexElements=null;
		this._id=++VertexDeclaration._uniqueIDCounter;
		this._defineDatas=new DefineDatas();
		this._vertexElementsDic={};
		this._vertexStride=vertexStride;
		this.vertexElements=vertexElements;
		var count=vertexElements.length;
		var maxLength=0;
		for (var i=0;i < count;i++)
		maxLength=Math.max(maxLength,vertexElements[i].elementUsage);
		this._shaderValues=new ShaderDatas(null,maxLength+1);
		for (var j=0;j < count;j++){
			var vertexElement=vertexElements[j];
			var name=vertexElement.elementUsage;
			this._vertexElementsDic[name]=vertexElement;
			var value=new Int32Array(5);
			value[0]=VertexDeclaration._getTypeSize(vertexElement.elementFormat)/ 4;
			value[1]=0x1406;
			value[2]=0;
			value[3]=this._vertexStride;
			value[4]=vertexElement.offset;
			this._shaderValues.setAttribute(name,value);
			switch (name){
				case 1:
					this._defineDatas.add(VertexDeclaration.SHADERDEFINE_COLOR);
					break
				case 2:
					this._defineDatas.add(VertexDeclaration.SHADERDEFINE_UV0);
					break ;
				case 15:
					this._defineDatas.add(VertexDeclaration.SHADERDEFINE_UV1);
					break ;
				}
		}
	}

	__class(VertexDeclaration,'laya.d3.graphics.VertexDeclaration');
	var __proto=VertexDeclaration.prototype;
	/**
	*@private
	*/
	__proto.getVertexElementByUsage=function(usage){
		return this._vertexElementsDic[usage];
	}

	/**
	*@private
	*/
	__proto.unBinding=function(){}
	/**
	*获取唯一标识ID(通常用于优化或识别)。
	*@return 唯一标识ID
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*@private
	*/
	__getset(0,__proto,'vertexStride',function(){
		return this._vertexStride;
	});

	VertexDeclaration._getTypeSize=function(format){
		switch (format){
			case "single":
				return 4;
			case "vector2":
				return 8;
			case "vector3":
				return 12;
			case "vector4":
				return 16;
			case "color":
				return 4;
			case "byte4":
				return 4;
			case "short2":
				return 4;
			case "short4":
				return 8;
			case "normalizedshort2":
				return 4;
			case "normalizedshort4":
				return 8;
			case "halfvector2":
				return 4;
			case "halfvector4":
				return 8;
			}
		return 0;
	}

	VertexDeclaration.SHADERDEFINE_UV0=0;
	VertexDeclaration.SHADERDEFINE_COLOR=0;
	VertexDeclaration.SHADERDEFINE_UV1=0;
	VertexDeclaration._uniqueIDCounter=1;
	return VertexDeclaration;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/VertexElement.as=======199.999508/199.999508
/**
*<code>VertexElement</code> 类用于创建顶点结构分配。
*/
//class laya.d3.graphics.VertexElement
var VertexElement=(function(){
	function VertexElement(offset,elementFormat,elementUsage){
		this.offset=0;
		this.elementFormat=null;
		this.elementUsage=0;
		this.offset=offset;
		this.elementFormat=elementFormat;
		this.elementUsage=elementUsage;
	}

	__class(VertexElement,'laya.d3.graphics.VertexElement');
	return VertexElement;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/VertexElementFormat.as=======199.999507/199.999507
/**
*...
*@author ...
*/
//class laya.d3.graphics.VertexElementFormat
var VertexElementFormat=(function(){
	function VertexElementFormat(){}
	__class(VertexElementFormat,'laya.d3.graphics.VertexElementFormat');
	VertexElementFormat.Single="single";
	VertexElementFormat.Vector2="vector2";
	VertexElementFormat.Vector3="vector3";
	VertexElementFormat.Vector4="vector4";
	VertexElementFormat.Color="color";
	VertexElementFormat.Byte4="byte4";
	VertexElementFormat.Short2="short2";
	VertexElementFormat.Short4="short4";
	VertexElementFormat.NormalizedShort2="normalizedshort2";
	VertexElementFormat.NormalizedShort4="normalizedshort4";
	VertexElementFormat.HalfVector2="halfvector2";
	VertexElementFormat.HalfVector4="halfvector4";
	return VertexElementFormat;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/VertexElementUsage.as=======199.999506/199.999506
/**
*...
*@author ...
*/
//class laya.d3.graphics.VertexElementUsage
var VertexElementUsage=(function(){
	function VertexElementUsage(){}
	__class(VertexElementUsage,'laya.d3.graphics.VertexElementUsage');
	VertexElementUsage.POSITION0=0;
	VertexElementUsage.COLOR0=1;
	VertexElementUsage.TEXTURECOORDINATE0=2;
	VertexElementUsage.NORMAL0=3;
	VertexElementUsage.BINORMAL0=4;
	VertexElementUsage.TANGENT0=5;
	VertexElementUsage.BLENDINDICES0=6;
	VertexElementUsage.BLENDWEIGHT0=7;
	VertexElementUsage.DEPTH0=8;
	VertexElementUsage.FOG0=9;
	VertexElementUsage.POINTSIZE0=10;
	VertexElementUsage.SAMPLE0=11;
	VertexElementUsage.TESSELLATEFACTOR0=12;
	VertexElementUsage.COLOR1=13;
	VertexElementUsage.NEXTTEXTURECOORDINATE0=14;
	VertexElementUsage.TEXTURECOORDINATE1=15;
	VertexElementUsage.NEXTTEXTURECOORDINATE1=16;
	VertexElementUsage.CORNERTEXTURECOORDINATE0=17;
	VertexElementUsage.VELOCITY0=18;
	VertexElementUsage.STARTCOLOR0=19;
	VertexElementUsage.STARTSIZE=20;
	VertexElementUsage.AGEADDSCALE0=21;
	VertexElementUsage.STARTROTATION=22;
	VertexElementUsage.ENDCOLOR0=23;
	VertexElementUsage.STARTLIFETIME=24;
	VertexElementUsage.TIME0=33;
	VertexElementUsage.SHAPEPOSITIONSTARTLIFETIME=30;
	VertexElementUsage.DIRECTIONTIME=32;
	VertexElementUsage.SIZEROTATION0=27;
	VertexElementUsage.RADIUS0=28;
	VertexElementUsage.RADIAN0=29;
	VertexElementUsage.STARTSPEED=31;
	VertexElementUsage.RANDOM0=34;
	VertexElementUsage.RANDOM1=35;
	VertexElementUsage.SIMULATIONWORLDPOSTION=36;
	VertexElementUsage.SIMULATIONWORLDROTATION=37;
	VertexElementUsage.TEXCOORD3D0=38;
	VertexElementUsage.TEXTURECOORDINATE0X=39;
	VertexElementUsage.TEXTURECOORDINATE0X1=40;
	VertexElementUsage.TEXTURECOORDINATE0Y=41;
	VertexElementUsage.OFFSETVECTOR=42;
	return VertexElementUsage;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/loaders/LoadModelV03.as=======199.999505/199.999505
/**
*@private
*<code>LoadModel</code> 类用于模型加载。
*/
//class laya.d3.loaders.LoadModelV03
var LoadModelV03=(function(){
	function LoadModelV03(){}
	__class(LoadModelV03,'laya.d3.loaders.LoadModelV03');
	LoadModelV03.parse=function(readData,version,mesh,subMeshes,materialMap){
		LoadModelV03._mesh=mesh;
		LoadModelV03._subMeshes=subMeshes;
		LoadModelV03._materialMap=materialMap;
		LoadModelV03._version=version;
		LoadModelV03._readData=readData;
		LoadModelV03.READ_DATA();
		LoadModelV03.READ_BLOCK();
		LoadModelV03.READ_STRINGS();
		for (var i=0,n=LoadModelV03._BLOCK.count;i < n;i++){
			LoadModelV03._readData.pos=LoadModelV03._BLOCK.blockStarts[i];
			var index=LoadModelV03._readData.getUint16();
			var blockName=LoadModelV03._strings[index];
			var fn=LoadModelV03["READ_"+blockName];
			if (fn==null)
				throw new Error("model file err,no this function:"+index+" "+blockName);
			else
			fn.call();
		}
		LoadModelV03._mesh._bindPoseIndices=new Uint16Array(LoadModelV03._bindPoseIndices);
		LoadModelV03._bindPoseIndices.length=0;
		LoadModelV03._strings.length=0;
		LoadModelV03._readData=null;
		LoadModelV03._version=null;
		LoadModelV03._mesh=null;
		LoadModelV03._subMeshes=null;
		LoadModelV03._materialMap=null;
	}

	LoadModelV03._readString=function(){
		return LoadModelV03._strings[LoadModelV03._readData.getUint16()];
	}

	LoadModelV03.READ_DATA=function(){
		LoadModelV03._DATA.offset=LoadModelV03._readData.getUint32();
		LoadModelV03._DATA.size=LoadModelV03._readData.getUint32();
	}

	LoadModelV03.READ_BLOCK=function(){
		var count=LoadModelV03._BLOCK.count=LoadModelV03._readData.getUint16();
		var blockStarts=LoadModelV03._BLOCK.blockStarts=[];
		var blockLengths=LoadModelV03._BLOCK.blockLengths=[];
		for (var i=0;i < count;i++){
			blockStarts.push(LoadModelV03._readData.getUint32());
			blockLengths.push(LoadModelV03._readData.getUint32());
		}
	}

	LoadModelV03.READ_STRINGS=function(){
		var offset=LoadModelV03._readData.getUint32();
		var count=LoadModelV03._readData.getUint16();
		var prePos=LoadModelV03._readData.pos;
		LoadModelV03._readData.pos=offset+LoadModelV03._DATA.offset;
		for (var i=0;i < count;i++)
		LoadModelV03._strings[i]=LoadModelV03._readData.readUTFString();
		LoadModelV03._readData.pos=prePos;
	}

	LoadModelV03.READ_MESH=function(){
		var name=LoadModelV03._readString();
		var arrayBuffer=LoadModelV03._readData.__getBuffer();
		var i=0,n=0;
		var vertexBufferCount=LoadModelV03._readData.getInt16();
		var offset=LoadModelV03._DATA.offset;
		for (i=0;i < vertexBufferCount;i++){
			var vbStart=offset+LoadModelV03._readData.getUint32();
			var vbLength=LoadModelV03._readData.getUint32();
			var vbDatas=new Float32Array(arrayBuffer.slice(vbStart,vbStart+vbLength));
			var bufferAttribute=LoadModelV03._readString();
			var vertexDeclaration;
			switch (LoadModelV03._version){
				case "LAYAMODEL:03":
					vertexDeclaration=LoadModelV03._vertexDeclarationMap_Discard[bufferAttribute];
					break ;
				case "LAYAMODEL:0301":
					vertexDeclaration=LoadModelV03._vertexDeclarationMap[bufferAttribute];
					break ;
				default :
					throw new Error("LoadModelV03: unknown version.");
				}
			if (!vertexDeclaration)
				throw new Error("LoadModelV03: unknown vertexDeclaration.");
			var vertexBuffer=new VertexBuffer3D(vbDatas.length *4,0x88E4,true);
			vertexBuffer.vertexDeclaration=vertexDeclaration;
			vertexBuffer.setData(vbDatas);
			LoadModelV03._mesh._vertexBuffers.push(vertexBuffer);
			LoadModelV03._mesh._vertexCount+=vertexBuffer.vertexCount;
		};
		var ibStart=offset+LoadModelV03._readData.getUint32();
		var ibLength=LoadModelV03._readData.getUint32();
		var ibDatas=new Uint16Array(arrayBuffer.slice(ibStart,ibStart+ibLength));
		var indexBuffer=IndexBuffer3D.create("ushort",ibLength / 2,0x88E4,true);
		indexBuffer.setData(ibDatas);
		LoadModelV03._mesh._indexBuffer=indexBuffer;
		var boneNames=LoadModelV03._mesh._boneNames=[];
		var boneCount=LoadModelV03._readData.getUint16();
		boneNames.length=boneCount;
		for (i=0;i < boneCount;i++)
		boneNames[i]=LoadModelV03._strings[LoadModelV03._readData.getUint16()];
		LoadModelV03._readData.pos+=8;
		var bindPoseDataStart=LoadModelV03._readData.getUint32();
		var bindPoseDataLength=LoadModelV03._readData.getUint32();
		var bindPoseDatas=new Float32Array(arrayBuffer.slice(offset+bindPoseDataStart,offset+bindPoseDataStart+bindPoseDataLength));
		var bindPoseFloatCount=bindPoseDatas.length;
		var bindPoseCount=bindPoseFloatCount / 16;
		var bindPoseBuffer=LoadModelV03._mesh._inverseBindPosesBuffer=new ArrayBuffer(bindPoseFloatCount *4);
		LoadModelV03._mesh._inverseBindPoses=__newvec(bindPoseCount);
		for (i=0;i < bindPoseFloatCount;i+=16){
			var inverseGlobalBindPose=new Matrix4x4(bindPoseDatas[i+0],bindPoseDatas[i+1],bindPoseDatas[i+2],bindPoseDatas[i+3],bindPoseDatas[i+4],bindPoseDatas[i+5],bindPoseDatas[i+6],bindPoseDatas[i+7],bindPoseDatas[i+8],bindPoseDatas[i+9],bindPoseDatas[i+10],bindPoseDatas[i+11],bindPoseDatas[i+12],bindPoseDatas[i+13],bindPoseDatas[i+14],bindPoseDatas[i+15],new Float32Array(bindPoseBuffer,i *4,16));
			LoadModelV03._mesh._inverseBindPoses[i / 16]=inverseGlobalBindPose;
		}
		return true;
	}

	LoadModelV03.READ_SUBMESH=function(){
		var arrayBuffer=LoadModelV03._readData.__getBuffer();
		var submesh=new SubMesh(LoadModelV03._mesh);
		var vbIndex=LoadModelV03._readData.getInt16();
		LoadModelV03._readData.getUint32();
		LoadModelV03._readData.getUint32();
		submesh._setVertexBuffer(LoadModelV03._mesh._vertexBuffers[vbIndex]);;
		var ibStart=LoadModelV03._readData.getUint32();
		var ibCount=LoadModelV03._readData.getUint32();
		var indexBuffer=LoadModelV03._mesh._indexBuffer;
		submesh._indexBuffer=indexBuffer;
		submesh._indexStart=ibStart;
		submesh._indexCount=ibCount;
		submesh._indices=new Uint16Array(indexBuffer.getData().buffer,ibStart *2,ibCount);
		var offset=LoadModelV03._DATA.offset;
		var subIndexBufferStart=submesh._subIndexBufferStart;
		var subIndexBufferCount=submesh._subIndexBufferCount;
		var boneIndicesList=submesh._boneIndicesList;
		var drawCount=LoadModelV03._readData.getUint16();
		subIndexBufferStart.length=drawCount;
		subIndexBufferCount.length=drawCount;
		boneIndicesList.length=drawCount;
		var pathMarks=LoadModelV03._mesh._skinDataPathMarks;
		var bindPoseIndices=LoadModelV03._bindPoseIndices;
		var subMeshIndex=LoadModelV03._subMeshes.length;
		for (var i=0;i < drawCount;i++){
			subIndexBufferStart[i]=LoadModelV03._readData.getUint32();
			subIndexBufferCount[i]=LoadModelV03._readData.getUint32();
			var boneDicofs=LoadModelV03._readData.getUint32();
			var boneDicsize=LoadModelV03._readData.getUint32();
			var boneIndices=new Uint8Array(arrayBuffer.slice(offset+boneDicofs,offset+boneDicofs+boneDicsize));
			boneIndicesList[i]=boneIndices;
			for (var j=0,m=boneIndices.length;j < m;j++){
				var index=boneIndices[j];
				var combineIndex=bindPoseIndices.indexOf(index);
				if (combineIndex===-1){
					boneIndices[j]=bindPoseIndices.length;
					bindPoseIndices.push(index);
					pathMarks.push([subMeshIndex,i,j]);
					}else {
					boneIndices[j]=combineIndex;
				}
			}
		}
		LoadModelV03._subMeshes.push(submesh);
		return true;
	}

	LoadModelV03._strings=[];
	LoadModelV03._readData=null;
	LoadModelV03._version=null;
	LoadModelV03._mesh=null;
	LoadModelV03._subMeshes=null;
	LoadModelV03._materialMap=null;
	LoadModelV03._bindPoseIndices=[];
	__static(LoadModelV03,
	['_vertexDeclarationMap_Discard',function(){return this._vertexDeclarationMap_Discard={
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTexture0Texture1SkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":VertexPositionNTBTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTexture0Texture1SkinTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTextureSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTextureSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":VertexPositionNormalColorTexture0Texture1Tangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1":VertexPositionNormalColorTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,TANGENT":VertexPositionNormalTexture0Texture1Tangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1":VertexPositionNormalTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,TANGENT":VertexPositionNormalColorTextureTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT,BINORMAL":VertexPositionNTBTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV":VertexPositionNormalColorTexture.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT":VertexPositionNormalTextureTangent.vertexDeclaration,
			"POSITION,NORMAL,UV":VertexPositionNormalTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,TANGENT":VertexPositionNormalColorTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR":VertexPositionNormalColor.vertexDeclaration,
			"POSITION,NORMAL,TANGENT":VertexPositionNormalTangent.vertexDeclaration,
			"POSITION,NORMAL":VertexPositionNormal.vertexDeclaration,
			"POSITION,UV":VertexPositionTexture0.vertexDeclaration,
			"POSITION":VertexPosition.vertexDeclaration};},'_vertexDeclarationMap',function(){return this._vertexDeclarationMap={
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTexture0Texture1SkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":VertexPositionNTBTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTexture0Texture1SkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTextureSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTextureSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":VertexPositionNormalColorTexture0Texture1STangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1":VertexPositionNormalColorTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,TANGENT":VertexPositionNormalTexture0Texture1STangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1":VertexPositionNormalTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,TANGENT":VertexPositionNormalColorTextureSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT,BINORMAL":VertexPositionNTBTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV":VertexPositionNormalColorTexture.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT":VertexPositionNormalTextureSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV":VertexPositionNormalTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,TANGENT":VertexPositionNormalColorSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR":VertexPositionNormalColor.vertexDeclaration,
			"POSITION,NORMAL,TANGENT":VertexPositionNormalSTangent.vertexDeclaration,
			"POSITION,NORMAL":VertexPositionNormal.vertexDeclaration,
			"POSITION,UV":VertexPositionTexture0.vertexDeclaration,
			"POSITION":VertexPosition.vertexDeclaration};},'_BLOCK',function(){return this._BLOCK={count:0};},'_DATA',function(){return this._DATA={offset:0,size:0};}
	]);
	return LoadModelV03;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/loaders/LoadModelV04.as=======199.999504/199.999504
/**
*@private
*<code>LoadModel</code> 类用于模型加载。
*/
//class laya.d3.loaders.LoadModelV04
var LoadModelV04=(function(){
	function LoadModelV04(){}
	__class(LoadModelV04,'laya.d3.loaders.LoadModelV04');
	LoadModelV04.parse=function(readData,version,mesh,subMeshes,materialMap){
		LoadModelV04._mesh=mesh;
		LoadModelV04._subMeshes=subMeshes;
		LoadModelV04._materialMap=materialMap;
		LoadModelV04._version=version;
		LoadModelV04._readData=readData;
		LoadModelV04.READ_DATA();
		LoadModelV04.READ_BLOCK();
		LoadModelV04.READ_STRINGS();
		for (var i=0,n=LoadModelV04._BLOCK.count;i < n;i++){
			LoadModelV04._readData.pos=LoadModelV04._BLOCK.blockStarts[i];
			var index=LoadModelV04._readData.getUint16();
			var blockName=LoadModelV04._strings[index];
			var fn=LoadModelV04["READ_"+blockName];
			if (fn==null)
				throw new Error("model file err,no this function:"+index+" "+blockName);
			else
			fn.call();
		}
		LoadModelV04._mesh._bindPoseIndices=new Uint16Array(LoadModelV04._bindPoseIndices);
		LoadModelV04._bindPoseIndices.length=0;
		LoadModelV04._strings.length=0;
		LoadModelV04._readData=null;
		LoadModelV04._version=null;
		LoadModelV04._mesh=null;
		LoadModelV04._subMeshes=null;
		LoadModelV04._materialMap=null;
	}

	LoadModelV04._readString=function(){
		return LoadModelV04._strings[LoadModelV04._readData.getUint16()];
	}

	LoadModelV04.READ_DATA=function(){
		LoadModelV04._DATA.offset=LoadModelV04._readData.getUint32();
		LoadModelV04._DATA.size=LoadModelV04._readData.getUint32();
	}

	LoadModelV04.READ_BLOCK=function(){
		var count=LoadModelV04._BLOCK.count=LoadModelV04._readData.getUint16();
		var blockStarts=LoadModelV04._BLOCK.blockStarts=[];
		var blockLengths=LoadModelV04._BLOCK.blockLengths=[];
		for (var i=0;i < count;i++){
			blockStarts.push(LoadModelV04._readData.getUint32());
			blockLengths.push(LoadModelV04._readData.getUint32());
		}
	}

	LoadModelV04.READ_STRINGS=function(){
		var offset=LoadModelV04._readData.getUint32();
		var count=LoadModelV04._readData.getUint16();
		var prePos=LoadModelV04._readData.pos;
		LoadModelV04._readData.pos=offset+LoadModelV04._DATA.offset;
		for (var i=0;i < count;i++)
		LoadModelV04._strings[i]=LoadModelV04._readData.readUTFString();
		LoadModelV04._readData.pos=prePos;
	}

	LoadModelV04.READ_MESH=function(){
		var name=LoadModelV04._readString();
		var arrayBuffer=LoadModelV04._readData.__getBuffer();
		var i=0,n=0;
		var vertexBufferCount=LoadModelV04._readData.getInt16();
		var offset=LoadModelV04._DATA.offset;
		for (i=0;i < vertexBufferCount;i++){
			var vbStart=offset+LoadModelV04._readData.getUint32();
			var vbLength=LoadModelV04._readData.getUint32();
			var vbDatas=new Float32Array(arrayBuffer.slice(vbStart,vbStart+vbLength));
			var bufferAttribute=LoadModelV04._readString();
			var vertexDeclaration;
			switch (LoadModelV04._version){
				case "LAYAMODEL:03":
					vertexDeclaration=LoadModelV04._vertexDeclarationMap_Discard[bufferAttribute];
					break ;
				case "LAYAMODEL:0301":
				case "LAYAMODEL:0400":
					vertexDeclaration=LoadModelV04._vertexDeclarationMap[bufferAttribute];
					break ;
				default :
					throw new Error("LoadModelV03: unknown version.");
				}
			if (!vertexDeclaration)
				throw new Error("LoadModelV03: unknown vertexDeclaration.");
			var vertexBuffer=new VertexBuffer3D(vbDatas.length *4,0x88E4,true);
			vertexBuffer.vertexDeclaration=vertexDeclaration;
			vertexBuffer.setData(vbDatas);
			LoadModelV04._mesh._vertexBuffers.push(vertexBuffer);
			LoadModelV04._mesh._vertexCount+=vertexBuffer.vertexCount;
		};
		var ibStart=offset+LoadModelV04._readData.getUint32();
		var ibLength=LoadModelV04._readData.getUint32();
		var ibDatas=new Uint16Array(arrayBuffer.slice(ibStart,ibStart+ibLength));
		var indexBuffer=IndexBuffer3D.create("ushort",ibLength / 2,0x88E4,true);
		indexBuffer.setData(ibDatas);
		LoadModelV04._mesh._indexBuffer=indexBuffer;
		var boneNames=LoadModelV04._mesh._boneNames=[];
		var boneCount=LoadModelV04._readData.getUint16();
		boneNames.length=boneCount;
		for (i=0;i < boneCount;i++)
		boneNames[i]=LoadModelV04._strings[LoadModelV04._readData.getUint16()];
		LoadModelV04._readData.pos+=8;
		var bindPoseDataStart=LoadModelV04._readData.getUint32();
		var bindPoseDataLength=LoadModelV04._readData.getUint32();
		var bindPoseDatas=new Float32Array(arrayBuffer.slice(offset+bindPoseDataStart,offset+bindPoseDataStart+bindPoseDataLength));
		var bindPoseFloatCount=bindPoseDatas.length;
		var bindPoseCount=bindPoseFloatCount / 16;
		var bindPoseBuffer=LoadModelV04._mesh._inverseBindPosesBuffer=new ArrayBuffer(bindPoseFloatCount *4);
		LoadModelV04._mesh._inverseBindPoses=__newvec(bindPoseCount);
		for (i=0;i < bindPoseFloatCount;i+=16){
			var inverseGlobalBindPose=new Matrix4x4(bindPoseDatas[i+0],bindPoseDatas[i+1],bindPoseDatas[i+2],bindPoseDatas[i+3],bindPoseDatas[i+4],bindPoseDatas[i+5],bindPoseDatas[i+6],bindPoseDatas[i+7],bindPoseDatas[i+8],bindPoseDatas[i+9],bindPoseDatas[i+10],bindPoseDatas[i+11],bindPoseDatas[i+12],bindPoseDatas[i+13],bindPoseDatas[i+14],bindPoseDatas[i+15],new Float32Array(bindPoseBuffer,i *4,16));
			LoadModelV04._mesh._inverseBindPoses[i / 16]=inverseGlobalBindPose;
		}
		return true;
	}

	LoadModelV04.READ_SUBMESH=function(){
		var arrayBuffer=LoadModelV04._readData.__getBuffer();
		var submesh=new SubMesh(LoadModelV04._mesh);
		var vbIndex=LoadModelV04._readData.getInt16();
		LoadModelV04._readData.getUint32();
		LoadModelV04._readData.getUint32();
		submesh._setVertexBuffer(LoadModelV04._mesh._vertexBuffers[vbIndex]);
		var ibStart=LoadModelV04._readData.getUint32();
		var ibCount=LoadModelV04._readData.getUint32();
		var indexBuffer=LoadModelV04._mesh._indexBuffer;
		submesh._indexBuffer=indexBuffer;
		submesh._indexStart=ibStart;
		submesh._indexCount=ibCount;
		submesh._indices=new Uint16Array(indexBuffer.getData().buffer,ibStart *2,ibCount);
		var offset=LoadModelV04._DATA.offset;
		var subIndexBufferStart=submesh._subIndexBufferStart;
		var subIndexBufferCount=submesh._subIndexBufferCount;
		var boneIndicesList=submesh._boneIndicesList;
		var drawCount=LoadModelV04._readData.getUint16();
		subIndexBufferStart.length=drawCount;
		subIndexBufferCount.length=drawCount;
		boneIndicesList.length=drawCount;
		var pathMarks=LoadModelV04._mesh._skinDataPathMarks;
		var bindPoseIndices=LoadModelV04._bindPoseIndices;
		var subMeshIndex=LoadModelV04._subMeshes.length;
		for (var i=0;i < drawCount;i++){
			subIndexBufferStart[i]=LoadModelV04._readData.getUint32();
			subIndexBufferCount[i]=LoadModelV04._readData.getUint32();
			var boneDicofs=LoadModelV04._readData.getUint32();
			var boneDicCount=LoadModelV04._readData.getUint32();
			var boneIndices=boneIndicesList[i]=new Uint16Array(arrayBuffer.slice(offset+boneDicofs,offset+boneDicofs+boneDicCount));
			for (var j=0,m=boneIndices.length;j < m;j++){
				var index=boneIndices[j];
				var combineIndex=bindPoseIndices.indexOf(index);
				if (combineIndex===-1){
					boneIndices[j]=bindPoseIndices.length;
					bindPoseIndices.push(index);
					pathMarks.push([subMeshIndex,i,j]);
					}else {
					boneIndices[j]=combineIndex;
				}
			}
		}
		LoadModelV04._subMeshes.push(submesh);
		return true;
	}

	LoadModelV04._strings=[];
	LoadModelV04._readData=null;
	LoadModelV04._version=null;
	LoadModelV04._mesh=null;
	LoadModelV04._subMeshes=null;
	LoadModelV04._materialMap=null;
	LoadModelV04._bindPoseIndices=[];
	__static(LoadModelV04,
	['_vertexDeclarationMap_Discard',function(){return this._vertexDeclarationMap_Discard={
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTexture0Texture1SkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":VertexPositionNTBTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTexture0Texture1SkinTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTextureSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTextureSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorSkinTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":VertexPositionNormalColorTexture0Texture1Tangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1":VertexPositionNormalColorTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,TANGENT":VertexPositionNormalTexture0Texture1Tangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1":VertexPositionNormalTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,TANGENT":VertexPositionNormalColorTextureTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT,BINORMAL":VertexPositionNTBTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV":VertexPositionNormalColorTexture.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT":VertexPositionNormalTextureTangent.vertexDeclaration,
			"POSITION,NORMAL,UV":VertexPositionNormalTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,TANGENT":VertexPositionNormalColorTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR":VertexPositionNormalColor.vertexDeclaration,
			"POSITION,NORMAL,TANGENT":VertexPositionNormalTangent.vertexDeclaration,
			"POSITION,NORMAL":VertexPositionNormal.vertexDeclaration,
			"POSITION,UV":VertexPositionTexture0.vertexDeclaration,
			"POSITION":VertexPosition.vertexDeclaration};},'_vertexDeclarationMap',function(){return this._vertexDeclarationMap={
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTexture0Texture1SkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,TANGENT,BINORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,":VertexPositionNTBTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTexture0Texture1SkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTexture0Texture1Skin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorTextureSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalTextureSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalTextureSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES,TANGENT":VertexPositionNormalColorSkinSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,BLENDWEIGHT,BLENDINDICES":VertexPositionNormalColorSkin.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1,TANGENT":VertexPositionNormalColorTexture0Texture1STangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,UV1":VertexPositionNormalColorTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1,TANGENT":VertexPositionNormalTexture0Texture1STangent.vertexDeclaration,
			"POSITION,NORMAL,UV,UV1":VertexPositionNormalTexture0Texture1.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV,TANGENT":VertexPositionNormalColorTextureSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT,BINORMAL":VertexPositionNTBTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,UV":VertexPositionNormalColorTexture.vertexDeclaration,
			"POSITION,NORMAL,UV,TANGENT":VertexPositionNormalTextureSTangent.vertexDeclaration,
			"POSITION,NORMAL,UV":VertexPositionNormalTexture.vertexDeclaration,
			"POSITION,NORMAL,COLOR,TANGENT":VertexPositionNormalColorSTangent.vertexDeclaration,
			"POSITION,NORMAL,COLOR":VertexPositionNormalColor.vertexDeclaration,
			"POSITION,NORMAL,TANGENT":VertexPositionNormalSTangent.vertexDeclaration,
			"POSITION,NORMAL":VertexPositionNormal.vertexDeclaration,
			"POSITION,UV":VertexPositionTexture0.vertexDeclaration,
			"POSITION":VertexPosition.vertexDeclaration};},'_BLOCK',function(){return this._BLOCK={count:0};},'_DATA',function(){return this._DATA={offset:0,size:0};}
	]);
	return LoadModelV04;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/loaders/MeshReader.as=======199.999503/199.999503
/**
*...
*@author ...
*/
//class laya.d3.loaders.MeshReader
var MeshReader=(function(){
	function MeshReader(){}
	__class(MeshReader,'laya.d3.loaders.MeshReader');
	MeshReader.read=function(data,mesh,subMeshes,materialMap){
		var readData=new Byte(data);
		readData.pos=0;
		var version=readData.readUTFString();
		switch (version){
			case "LAYAMODEL:03":
			case "LAYAMODEL:0301":
				LoadModelV03.parse(readData,version,mesh,subMeshes,materialMap);
				break ;
			case "LAYAMODEL:0400":
				LoadModelV04.parse(readData,version,mesh,subMeshes,materialMap);
				break ;
			default :
				throw new Error("MeshReader: unknown mesh version.");
			}
		mesh._setSubMeshes(subMeshes);
	}

	return MeshReader;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/BaseVector.as=======199.999502/199.999502
/**
*<code>BaseVector</code> 抽象类，类用于向量的父类。
*/
//class laya.d3.math.BaseVector
var BaseVector=(function(){
	function BaseVector(){
		/**[只读]向量元素集合。*/
		this.elements=null;
	}

	__class(BaseVector,'laya.d3.math.BaseVector');
	return BaseVector;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/BoundBox.as=======199.999501/199.999501
/**
*<code>BoundBox</code> 类用于创建包围盒。
*/
//class laya.d3.math.BoundBox
var BoundBox=(function(){
	function BoundBox(min,max){
		/**最小顶点。*/
		this.min=null;
		/**最大顶点。*/
		this.max=null;
		this.min=min;
		this.max=max;
	}

	__class(BoundBox,'laya.d3.math.BoundBox');
	var __proto=BoundBox.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*获取包围盒的8个角顶点。
	*@param corners 返回顶点的输出队列。
	*/
	__proto.getCorners=function(corners){
		corners.length=8;
		var mine=this.min.elements;
		var maxe=this.max.elements;
		var minX=mine[0];
		var minY=mine[1];
		var minZ=mine[2];
		var maxX=maxe[0];
		var maxY=maxe[1];
		var maxZ=maxe[2];
		corners[0]=new Vector3(minX,maxY,maxZ);
		corners[1]=new Vector3(maxX,maxY,maxZ);
		corners[2]=new Vector3(maxX,minY,maxZ);
		corners[3]=new Vector3(minX,minY,maxZ);
		corners[4]=new Vector3(minX,maxY,minZ);
		corners[5]=new Vector3(maxX,maxY,minZ);
		corners[6]=new Vector3(maxX,minY,minZ);
		corners[7]=new Vector3(minX,minY,minZ);
	}

	__proto.toDefault=function(){
		this.min.toDefault();
		this.max.toDefault();
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var dest=destObject;
		this.min.cloneTo(dest.min);
		this.max.cloneTo(dest.max);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor(new Vector3(),new Vector3());
		this.cloneTo(dest);
		return dest;
	}

	BoundBox.createfromPoints=function(points,out){
		if (points==null)
			throw new Error("points");
		var min=out.min;
		var max=out.max;
		var minE=min.elements;
		minE[0]=Number.MAX_VALUE;
		minE[1]=Number.MAX_VALUE;
		minE[2]=Number.MAX_VALUE;
		var maxE=max.elements;
		maxE[0]=-Number.MAX_VALUE;
		maxE[1]=-Number.MAX_VALUE;
		maxE[2]=-Number.MAX_VALUE;
		for (var i=0,n=points.length;i < n;++i){
			Vector3.min(min,points[i],min);
			Vector3.max(max,points[i],max);
		}
	}

	BoundBox.merge=function(box1,box2,out){
		Vector3.min(box1.min,box2.min,out.min);
		Vector3.max(box1.max,box2.max,out.max);
	}

	return BoundBox;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/BoundFrustum.as=======199.999500/199.999500
/**
*<code>BoundFrustum</code> 类用于创建锥截体。
*/
//class laya.d3.math.BoundFrustum
var BoundFrustum=(function(){
	function BoundFrustum(matrix){
		/**4x4矩阵*/
		this._matrix=null;
		/**近平面*/
		this._near=null;
		/**远平面*/
		this._far=null;
		/**左平面*/
		this._left=null;
		/**右平面*/
		this._right=null;
		/**顶平面*/
		this._top=null;
		/**底平面*/
		this._bottom=null;
		this._matrix=matrix;
		this._near=new Plane(new Vector3());
		this._far=new Plane(new Vector3());
		this._left=new Plane(new Vector3());
		this._right=new Plane(new Vector3());
		this._top=new Plane(new Vector3());
		this._bottom=new Plane(new Vector3());
		BoundFrustum._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom);
	}

	__class(BoundFrustum,'laya.d3.math.BoundFrustum');
	var __proto=BoundFrustum.prototype;
	/**
	*判断是否与其他锥截体相等。
	*@param other 锥截体。
	*/
	__proto.equalsBoundFrustum=function(other){
		return this._matrix.equalsOtherMatrix(other.matrix)
	}

	/**
	*判断是否与其他对象相等。
	*@param obj 对象。
	*/
	__proto.equalsObj=function(obj){
		if ((obj instanceof laya.d3.math.BoundFrustum )){
			var bf=obj;
			return this.equalsBoundFrustum(bf);
		}
		return false;
	}

	/**
	*获取锥截体的任意一平面。
	*0:近平面
	*1:远平面
	*2:左平面
	*3:右平面
	*4:顶平面
	*5:底平面
	*@param index 索引。
	*/
	__proto.getPlane=function(index){
		switch (index){
			case 0:
				return this._near;
			case 1:
				return this._far;
			case 2:
				return this._left;
			case 3:
				return this._right;
			case 4:
				return this._top;
			case 5:
				return this._bottom;
			default :
				return null;
			}
	}

	/**
	*锥截体的8个顶点。
	*@param corners 返回顶点的输出队列。
	*/
	__proto.getCorners=function(corners){
		BoundFrustum._get3PlaneInterPoint(this._near,this._bottom,this._right).cloneTo(corners[0]);
		BoundFrustum._get3PlaneInterPoint(this._near,this._top,this._right).cloneTo(corners[1]);
		BoundFrustum._get3PlaneInterPoint(this._near,this._top,this._left).cloneTo(corners[2]);
		BoundFrustum._get3PlaneInterPoint(this._near,this._bottom,this._left).cloneTo(corners[3]);
		BoundFrustum._get3PlaneInterPoint(this._far,this._bottom,this._right).cloneTo(corners[4]);
		BoundFrustum._get3PlaneInterPoint(this._far,this._top,this._right).cloneTo(corners[5]);
		BoundFrustum._get3PlaneInterPoint(this._far,this._top,this._left).cloneTo(corners[6]);
		BoundFrustum._get3PlaneInterPoint(this._far,this._bottom,this._left).cloneTo(corners[7]);
	}

	/**
	*与点的位置关系。返回-1,包涵;0,相交;1,不相交
	*@param point 点。
	*/
	__proto.containsPoint=function(point){
		var result=Plane.PlaneIntersectionType_Front;
		var planeResult=Plane.PlaneIntersectionType_Front;
		for (var i=0;i < 6;i++){
			switch (i){
				case 0:
					planeResult=Collision.intersectsPlaneAndPoint(this._near,point);
					break ;
				case 1:
					planeResult=Collision.intersectsPlaneAndPoint(this._far,point);
					break ;
				case 2:
					planeResult=Collision.intersectsPlaneAndPoint(this._left,point);
					break ;
				case 3:
					planeResult=Collision.intersectsPlaneAndPoint(this._right,point);
					break ;
				case 4:
					planeResult=Collision.intersectsPlaneAndPoint(this._top,point);
					break ;
				case 5:
					planeResult=Collision.intersectsPlaneAndPoint(this._bottom,point);
					break ;
				}
			switch (planeResult){
				case Plane.PlaneIntersectionType_Back:
					return 0;
				case Plane.PlaneIntersectionType_Intersecting:
					result=Plane.PlaneIntersectionType_Intersecting;
					break ;
				}
		}
		switch (result){
			case Plane.PlaneIntersectionType_Intersecting:
				return 2;
			default :
				return 1;
			}
	}

	/**
	*与包围盒的位置关系。返回-1,包涵;0,相交;1,不相交
	*@param box 包围盒。
	*/
	__proto.containsBoundBox=function(box){
		var p=BoundFrustum._tempV30,n=BoundFrustum._tempV31;
		var plane;
		var result=1;
		for (var i=0;i < 6;i++){
			plane=this.getPlane(i);
			this._getBoxToPlanePVertexNVertex(box,plane.normal,p,n);
			if (Collision.intersectsPlaneAndPoint(plane,p)===Plane.PlaneIntersectionType_Back)
				return 0;
			if (Collision.intersectsPlaneAndPoint(plane,n)===Plane.PlaneIntersectionType_Back)
				result=2;
		}
		return result;
	}

	/**
	*与包围球的位置关系。返回-1,包涵;0,相交;1,不相交
	*@param sphere 包围球。
	*/
	__proto.containsBoundSphere=function(sphere){
		var result=Plane.PlaneIntersectionType_Front;
		var planeResult=Plane.PlaneIntersectionType_Front;
		for (var i=0;i < 6;i++){
			switch (i){
				case 0:
					planeResult=Collision.intersectsPlaneAndSphere(this._near,sphere);
					break ;
				case 1:
					planeResult=Collision.intersectsPlaneAndSphere(this._far,sphere);
					break ;
				case 2:
					planeResult=Collision.intersectsPlaneAndSphere(this._left,sphere);
					break ;
				case 3:
					planeResult=Collision.intersectsPlaneAndSphere(this._right,sphere);
					break ;
				case 4:
					planeResult=Collision.intersectsPlaneAndSphere(this._top,sphere);
					break ;
				case 5:
					planeResult=Collision.intersectsPlaneAndSphere(this._bottom,sphere);
					break ;
				}
			switch (planeResult){
				case Plane.PlaneIntersectionType_Back:
					return 0;
				case Plane.PlaneIntersectionType_Intersecting:
					result=Plane.PlaneIntersectionType_Intersecting;
					break ;
				}
		}
		switch (result){
			case Plane.PlaneIntersectionType_Intersecting:
				return 2;
			default :
				return 1;
			}
	}

	/**
	*@private
	*/
	__proto._getBoxToPlanePVertexNVertex=function(box,planeNormal,outP,outN){
		var boxMin=box.min;
		var boxMinE=boxMin.elements;
		var boxMax=box.max;
		var boxMaxE=boxMax.elements;
		var planeNorE=planeNormal.elements;
		var planeNorEX=planeNorE[0];
		var planeNorEY=planeNorE[1];
		var planeNorEZ=planeNorE[2];
		boxMin.cloneTo(outP);;
		var outPE=outP.elements;
		if (planeNorEX >=0)
			outPE[0]=boxMaxE[0];
		if (planeNorEY >=0)
			outPE[1]=boxMaxE[1];
		if (planeNorEZ >=0)
			outPE[2]=boxMaxE[2];
		boxMax.cloneTo(outN);
		var outNE=outN.elements;
		if (planeNorEX >=0)
			outNE[0]=boxMinE[0];
		if (planeNorEY >=0)
			outNE[1]=boxMinE[1];
		if (planeNorEZ >=0)
			outNE[2]=boxMinE[2];
	}

	/**
	*获取顶平面。
	*@return 顶平面。
	*/
	__getset(0,__proto,'top',function(){
		return this._top;
	});

	/**
	*设置描述矩阵。
	*@param matrix 描述矩阵。
	*/
	/**
	*获取描述矩阵。
	*@return 描述矩阵。
	*/
	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(matrix){
		this._matrix=matrix;
		BoundFrustum._getPlanesFromMatrix(this._matrix,this._near,this._far,this._left,this._right,this._top,this._bottom);
	});

	/**
	*获取近平面。
	*@return 近平面。
	*/
	__getset(0,__proto,'near',function(){
		return this._near;
	});

	/**
	*获取远平面。
	*@return 远平面。
	*/
	__getset(0,__proto,'far',function(){
		return this._far;
	});

	/**
	*获取左平面。
	*@return 左平面。
	*/
	__getset(0,__proto,'left',function(){
		return this._left;
	});

	/**
	*获取右平面。
	*@return 右平面。
	*/
	__getset(0,__proto,'right',function(){
		return this._right;
	});

	/**
	*获取底平面。
	*@return 底平面。
	*/
	__getset(0,__proto,'bottom',function(){
		return this._bottom;
	});

	BoundFrustum._getPlanesFromMatrix=function(m,np,fp,lp,rp,tp,bp){
		var matrixE=m.elements;
		var m11=matrixE[0];
		var m12=matrixE[1];
		var m13=matrixE[2];
		var m14=matrixE[3];
		var m21=matrixE[4];
		var m22=matrixE[5];
		var m23=matrixE[6];
		var m24=matrixE[7];
		var m31=matrixE[8];
		var m32=matrixE[9];
		var m33=matrixE[10];
		var m34=matrixE[11];
		var m41=matrixE[12];
		var m42=matrixE[13];
		var m43=matrixE[14];
		var m44=matrixE[15];
		var nearNorE=np.normal.elements;
		nearNorE[0]=m14+m13;
		nearNorE[1]=m24+m23;
		nearNorE[2]=m34+m33;
		np.distance=m44+m43;
		np.normalize();
		var farNorE=fp.normal.elements;
		farNorE[0]=m14-m13;
		farNorE[1]=m24-m23;
		farNorE[2]=m34-m33;
		fp.distance=m44-m43;
		fp.normalize();
		var leftNorE=lp.normal.elements;
		leftNorE[0]=m14+m11;
		leftNorE[1]=m24+m21;
		leftNorE[2]=m34+m31;
		lp.distance=m44+m41;
		lp.normalize();
		var rightNorE=rp.normal.elements;
		rightNorE[0]=m14-m11;
		rightNorE[1]=m24-m21;
		rightNorE[2]=m34-m31;
		rp.distance=m44-m41;
		rp.normalize();
		var topNorE=tp.normal.elements;
		topNorE[0]=m14-m12;
		topNorE[1]=m24-m22;
		topNorE[2]=m34-m32;
		tp.distance=m44-m42;
		tp.normalize();
		var bottomNorE=bp.normal.elements;
		bottomNorE[0]=m14+m12;
		bottomNorE[1]=m24+m22;
		bottomNorE[2]=m34+m32;
		bp.distance=m44+m42;
		bp.normalize();
	}

	BoundFrustum._get3PlaneInterPoint=function(p1,p2,p3){
		var p1Nor=p1.normal;
		var p2Nor=p2.normal;
		var p3Nor=p3.normal;
		Vector3.cross(p2Nor,p3Nor,BoundFrustum._tempV30);
		Vector3.cross(p3Nor,p1Nor,BoundFrustum._tempV31);
		Vector3.cross(p1Nor,p2Nor,BoundFrustum._tempV32);
		var a=Vector3.dot(p1Nor,BoundFrustum._tempV30);
		var b=Vector3.dot(p2Nor,BoundFrustum._tempV31);
		var c=Vector3.dot(p3Nor,BoundFrustum._tempV32);
		Vector3.scale(BoundFrustum._tempV30,-p1.distance / a,BoundFrustum._tempV33);
		Vector3.scale(BoundFrustum._tempV31,-p2.distance / b,BoundFrustum._tempV34);
		Vector3.scale(BoundFrustum._tempV32,-p3.distance / c,BoundFrustum._tempV35);
		Vector3.add(BoundFrustum._tempV33,BoundFrustum._tempV34,BoundFrustum._tempV36);
		Vector3.add(BoundFrustum._tempV35,BoundFrustum._tempV36,BoundFrustum._tempV37);
		var v=BoundFrustum._tempV37;
		return v;
	}

	__static(BoundFrustum,
	['_tempV30',function(){return this._tempV30=new Vector3();},'_tempV31',function(){return this._tempV31=new Vector3();},'_tempV32',function(){return this._tempV32=new Vector3();},'_tempV33',function(){return this._tempV33=new Vector3();},'_tempV34',function(){return this._tempV34=new Vector3();},'_tempV35',function(){return this._tempV35=new Vector3();},'_tempV36',function(){return this._tempV36=new Vector3();},'_tempV37',function(){return this._tempV37=new Vector3();}
	]);
	return BoundFrustum;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/BoundSphere.as=======199.999499/199.999499
/**
*<code>BoundSphere</code> 类用于创建包围球。
*/
//class laya.d3.math.BoundSphere
var BoundSphere=(function(){
	function BoundSphere(center,radius){
		/**包围球的中心。*/
		this.center=null;
		/**包围球的半径。*/
		this.radius=NaN;
		this.center=center;
		this.radius=radius;
	}

	__class(BoundSphere,'laya.d3.math.BoundSphere');
	var __proto=BoundSphere.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	__proto.toDefault=function(){
		this.center.toDefault();
		this.radius=0;
	}

	/**
	*判断射线是否与碰撞球交叉，并返回交叉距离。
	*@param ray 射线。
	*@return 距离交叉点的距离，-1表示不交叉。
	*/
	__proto.intersectsRayDistance=function(ray){
		return Collision.intersectsRayAndSphereRD(ray,this);
	}

	/**
	*判断射线是否与碰撞球交叉，并返回交叉点。
	*@param ray 射线。
	*@param outPoint 交叉点。
	*@return 距离交叉点的距离，-1表示不交叉。
	*/
	__proto.intersectsRayPoint=function(ray,outPoint){
		return Collision.intersectsRayAndSphereRP(ray,this,outPoint);
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var dest=destObject;
		this.center.cloneTo(dest.center);
		dest.radius=this.radius;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor(new Vector3(),new Vector3());
		this.cloneTo(dest);
		return dest;
	}

	BoundSphere.createFromSubPoints=function(points,start,count,out){
		if (points==null){
			throw new Error("points");
		}
		if (start < 0 || start >=points.length){
			throw new Error("start"+start+"Must be in the range [0, "+(points.length-1)+"]");
		}
		if (count < 0 || (start+count)> points.length){
			throw new Error("count"+count+"Must be in the range <= "+points.length+"}");
		};
		var upperEnd=start+count;
		var center=BoundSphere._tempVector3;
		center.elements[0]=0;
		center.elements[1]=0;
		center.elements[2]=0;
		for (var i=start;i < upperEnd;++i){
			Vector3.add(points[i],center,center);
		};
		var outCenter=out.center;
		Vector3.scale(center,1 / count,outCenter);
		var radius=0.0;
		for (i=start;i < upperEnd;++i){
			var distance=Vector3.distanceSquared(outCenter,points[i]);
			if (distance > radius)
				radius=distance;
		}
		out.radius=Math.sqrt(radius);
	}

	BoundSphere.createfromPoints=function(points,out){
		if (points==null){
			throw new Error("points");
		}
		BoundSphere.createFromSubPoints(points,0,points.length,out);
	}

	__static(BoundSphere,
	['_tempVector3',function(){return this._tempVector3=new Vector3();}
	]);
	return BoundSphere;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Collision.as=======199.999498/199.999498
/**
*<code>Collision</code> 类用于检测碰撞。
*/
//class laya.d3.math.Collision
var Collision=(function(){
	/**
	*创建一个 <code>Collision</code> 实例。
	*/
	function Collision(){}
	__class(Collision,'laya.d3.math.Collision');
	Collision.distancePlaneToPoint=function(plane,point){
		var dot=Vector3.dot(plane.normal,point);
		return dot-plane.distance;
	}

	Collision.distanceBoxToPoint=function(box,point){
		var boxMine=box.min.elements;
		var boxMineX=boxMine[0];
		var boxMineY=boxMine[1];
		var boxMineZ=boxMine[2];
		var boxMaxe=box.max.elements;
		var boxMaxeX=boxMaxe[0];
		var boxMaxeY=boxMaxe[1];
		var boxMaxeZ=boxMaxe[2];
		var pointe=point.elements;
		var pointeX=pointe[0];
		var pointeY=pointe[1];
		var pointeZ=pointe[2];
		var distance=0;
		if (pointeX < boxMineX)
			distance+=(boxMineX-pointeX)*(boxMineX-pointeX);
		if (pointeX > boxMaxeX)
			distance+=(boxMaxeX-pointeX)*(boxMaxeX-pointeX);
		if (pointeY < boxMineY)
			distance+=(boxMineY-pointeY)*(boxMineY-pointeY);
		if (pointeY > boxMaxeY)
			distance+=(boxMaxeY-pointeY)*(boxMaxeY-pointeY);
		if (pointeZ < boxMineZ)
			distance+=(boxMineZ-pointeZ)*(boxMineZ-pointeZ);
		if (pointeZ > boxMaxeZ)
			distance+=(boxMaxeZ-pointeZ)*(boxMaxeZ-pointeZ);
		return Math.sqrt(distance);
	}

	Collision.distanceBoxToBox=function(box1,box2){
		var box1Mine=box1.min.elements;
		var box1MineX=box1Mine[0];
		var box1MineY=box1Mine[1];
		var box1MineZ=box1Mine[2];
		var box1Maxe=box1.max.elements;
		var box1MaxeX=box1Maxe[0];
		var box1MaxeY=box1Maxe[1];
		var box1MaxeZ=box1Maxe[2];
		var box2Mine=box2.min.elements;
		var box2MineX=box2Mine[0];
		var box2MineY=box2Mine[1];
		var box2MineZ=box2Mine[2];
		var box2Maxe=box2.max.elements;
		var box2MaxeX=box2Maxe[0];
		var box2MaxeY=box2Maxe[1];
		var box2MaxeZ=box2Maxe[2];
		var distance=0;
		var delta=NaN;
		if (box1MineX > box2MaxeX){
			delta=box1MineX-box2MaxeX;
			distance+=delta *delta;
			}else if (box2MineX > box1MaxeX){
			delta=box2MineX-box1MaxeX;
			distance+=delta *delta;
		}
		if (box1MineY > box2MaxeY){
			delta=box1MineY-box2MaxeY;
			distance+=delta *delta;
			}else if (box2MineY > box1MaxeY){
			delta=box2MineY-box1MaxeY;
			distance+=delta *delta;
		}
		if (box1MineZ > box2MaxeZ){
			delta=box1MineZ-box2MaxeZ;
			distance+=delta *delta;
			}else if (box2MineZ > box1MaxeZ){
			delta=box2MineZ-box1MaxeZ;
			distance+=delta *delta;
		}
		return Math.sqrt(distance);
	}

	Collision.distanceSphereToPoint=function(sphere,point){
		var distance=Math.sqrt(Vector3.distanceSquared(sphere.center,point));
		distance-=sphere.radius;
		return Math.max(distance,0);
	}

	Collision.distanceSphereToSphere=function(sphere1,sphere2){
		var distance=Math.sqrt(Vector3.distanceSquared(sphere1.center,sphere2.center));
		distance-=sphere1.radius+sphere2.radius;
		return Math.max(distance,0);
	}

	Collision.intersectsRayAndTriangleRD=function(ray,vertex1,vertex2,vertex3,out){
		var rayO=ray.origin;
		var rayOe=rayO.elements;
		var rayOeX=rayOe[0];
		var rayOeY=rayOe[1];
		var rayOeZ=rayOe[2];
		var rayD=ray.direction;
		var rayDe=rayD.elements;
		var rayDeX=rayDe[0];
		var rayDeY=rayDe[1];
		var rayDeZ=rayDe[2];
		var v1e=vertex1.elements;
		var v1eX=v1e[0];
		var v1eY=v1e[1];
		var v1eZ=v1e[2];
		var v2e=vertex2.elements;
		var v2eX=v2e[0];
		var v2eY=v2e[1];
		var v2eZ=v2e[2];
		var v3e=vertex3.elements;
		var v3eX=v3e[0];
		var v3eY=v3e[1];
		var v3eZ=v3e[2];
		var _tempV30e=Collision._tempV30.elements;
		var _tempV30eX=_tempV30e[0];
		var _tempV30eY=_tempV30e[1];
		var _tempV30eZ=_tempV30e[2];
		_tempV30eX=v2eX-v1eX;
		_tempV30eY=v2eY-v1eY;
		_tempV30eZ=v2eZ-v1eZ;
		var _tempV31e=Collision._tempV31.elements;
		var _tempV31eX=_tempV31e[0];
		var _tempV31eY=_tempV31e[1];
		var _tempV31eZ=_tempV31e[2];
		_tempV31eX=v3eX-v1eX;
		_tempV31eY=v3eY-v1eY;
		_tempV31eZ=v3eZ-v1eZ;
		var _tempV32e=Collision._tempV32.elements;
		var _tempV32eX=_tempV32e[0];
		var _tempV32eY=_tempV32e[1];
		var _tempV32eZ=_tempV32e[2];
		_tempV32eX=(rayDeY *_tempV31eZ)-(rayDeZ *_tempV31eY);
		_tempV32eY=(rayDeZ *_tempV31eX)-(rayDeX *_tempV31eZ);
		_tempV32eZ=(rayDeX *_tempV31eY)-(rayDeY *_tempV31eX);
		var determinant=(_tempV30eX *_tempV32eX)+(_tempV30eY *_tempV32eY)+(_tempV30eZ *_tempV32eZ);
		if (MathUtils3D.isZero(determinant)){
			out=0;
			return false;
		};
		var inversedeterminant=1 / determinant;
		var _tempV33e=Collision._tempV33.elements;
		var _tempV33eX=_tempV33e[0];
		var _tempV33eY=_tempV33e[1];
		var _tempV33eZ=_tempV33e[2];
		_tempV33eX=rayOeX-v1eX;
		_tempV33eY=rayOeY-v1eY;
		_tempV33eZ=rayOeZ-v1eZ;
		var triangleU=(_tempV33eX *_tempV32eX)+(_tempV33eY *_tempV32eY)+(_tempV33eZ *_tempV32eZ);
		triangleU *=inversedeterminant;
		if (triangleU < 0 || triangleU > 1){
			out=0;
			return false;
		};
		var _tempV34e=Collision._tempV34.elements;
		var _tempV34eX=_tempV34e[0];
		var _tempV34eY=_tempV34e[1];
		var _tempV34eZ=_tempV34e[2];
		_tempV34eX=(_tempV33eY *_tempV30eZ)-(_tempV33eZ *_tempV30eY);
		_tempV34eY=(_tempV33eZ *_tempV30eX)-(_tempV33eX *_tempV30eZ);
		_tempV34eZ=(_tempV33eX *_tempV30eY)-(_tempV33eY *_tempV30eX);
		var triangleV=((rayDeX *_tempV34eX)+(rayDeY *_tempV34eY))+(rayDeZ *_tempV34eZ);
		triangleV *=inversedeterminant;
		if (triangleV < 0 || triangleU+triangleV > 1){
			out=0;
			return false;
		};
		var raydistance=(_tempV31eX *_tempV34eX)+(_tempV31eY *_tempV34eY)+(_tempV31eZ *_tempV34eZ);
		raydistance *=inversedeterminant;
		if (raydistance < 0){
			out=0;
			return false;
		}
		out=raydistance;
		return true;
	}

	Collision.intersectsRayAndTriangleRP=function(ray,vertex1,vertex2,vertex3,out){
		var distance=NaN;
		if (!Collision.intersectsRayAndTriangleRD(ray,vertex1,vertex2,vertex3,distance)){
			out=Vector3.ZERO;
			return false;
		}
		Vector3.scale(ray.direction,distance,Collision._tempV30);
		Vector3.add(ray.origin,Collision._tempV30,out);
		return true;
	}

	Collision.intersectsRayAndPoint=function(ray,point){
		Vector3.subtract(ray.origin,point,Collision._tempV30);
		var b=Vector3.dot(Collision._tempV30,ray.direction);
		var c=Vector3.dot(Collision._tempV30,Collision._tempV30)-MathUtils3D.zeroTolerance;
		if (c > 0 && b > 0)
			return false;
		var discriminant=b *b-c;
		if (discriminant < 0)
			return false;
		return true;
	}

	Collision.intersectsRayAndRay=function(ray1,ray2,out){
		var ray1o=ray1.origin;
		var ray1oe=ray1o.elements;
		var ray1oeX=ray1oe[0];
		var ray1oeY=ray1oe[1];
		var ray1oeZ=ray1oe[2];
		var ray1d=ray1.direction;
		var ray1de=ray1d.elements;
		var ray1deX=ray1de[0];
		var ray1deY=ray1de[1];
		var ray1deZ=ray1de[2];
		var ray2o=ray2.origin;
		var ray2oe=ray2o.elements;
		var ray2oeX=ray2oe[0];
		var ray2oeY=ray2oe[1];
		var ray2oeZ=ray2oe[2];
		var ray2d=ray2.direction;
		var ray2de=ray2d.elements;
		var ray2deX=ray2de[0];
		var ray2deY=ray2de[1];
		var ray2deZ=ray2de[2];
		Vector3.cross(ray1d,ray2d,Collision._tempV30);
		var tempV3e=Collision._tempV30.elements;
		var denominator=Vector3.scalarLength(Collision._tempV30);
		if (MathUtils3D.isZero(denominator)){
			if (MathUtils3D.nearEqual(ray2oeX,ray1oeX)&& MathUtils3D.nearEqual(ray2oeY,ray1oeY)&& MathUtils3D.nearEqual(ray2oeZ,ray1oeZ)){
				out=Vector3.ZERO;
				return true;
			}
		}
		denominator=denominator *denominator;
		var m11=ray2oeX-ray1oeX;
		var m12=ray2oeY-ray1oeY;
		var m13=ray2oeZ-ray1oeZ;
		var m21=ray2deX;
		var m22=ray2deY;
		var m23=ray2deZ;
		var m31=tempV3e[0];
		var m32=tempV3e[1];
		var m33=tempV3e[2];
		var dets=m11 *m22 *m33+m12 *m23 *m31+m13 *m21 *m32-m11 *m23 *m32-m12 *m21 *m33-m13 *m22 *m31;
		m21=ray1deX;
		m22=ray1deY;
		m23=ray1deZ;
		var dett=m11 *m22 *m33+m12 *m23 *m31+m13 *m21 *m32-m11 *m23 *m32-m12 *m21 *m33-m13 *m22 *m31;
		var s=dets / denominator;
		var t=dett / denominator;
		Vector3.scale(ray1d,s,Collision._tempV30);
		Vector3.scale(ray2d,s,Collision._tempV31);
		Vector3.add(ray1o,Collision._tempV30,Collision._tempV32);
		Vector3.add(ray2o,Collision._tempV31,Collision._tempV33);
		var point1e=Collision._tempV32.elements;
		var point2e=Collision._tempV33.elements;
		if (!MathUtils3D.nearEqual(point2e[0],point1e[0])|| !MathUtils3D.nearEqual(point2e[1],point1e[1])|| !MathUtils3D.nearEqual(point2e[2],point1e[2])){
			out=Vector3.ZERO;
			return false;
		}
		out=Collision._tempV32;
		return true;
	}

	Collision.intersectsPlaneAndTriangle=function(plane,vertex1,vertex2,vertex3){
		var test1=Collision.intersectsPlaneAndPoint(plane,vertex1);
		var test2=Collision.intersectsPlaneAndPoint(plane,vertex2);
		var test3=Collision.intersectsPlaneAndPoint(plane,vertex3);
		if (test1==Plane.PlaneIntersectionType_Front && test2==Plane.PlaneIntersectionType_Front && test3==Plane.PlaneIntersectionType_Front)
			return Plane.PlaneIntersectionType_Front;
		if (test1==Plane.PlaneIntersectionType_Back && test2==Plane.PlaneIntersectionType_Back && test3==Plane.PlaneIntersectionType_Back)
			return Plane.PlaneIntersectionType_Back;
		return Plane.PlaneIntersectionType_Intersecting;
	}

	Collision.intersectsRayAndPlaneRD=function(ray,plane,out){
		var planeNor=plane.normal;
		var direction=Vector3.dot(planeNor,ray.direction);
		if (MathUtils3D.isZero(direction)){
			out=0;
			return false;
		};
		var position=Vector3.dot(planeNor,ray.origin);
		out=(-plane.distance-position)/ direction;
		if (out < 0){
			out=0;
			return false;
		}
		return true;
	}

	Collision.intersectsRayAndPlaneRP=function(ray,plane,out){
		var distance=NaN;
		if (!Collision.intersectsRayAndPlaneRD(ray,plane,distance)){
			out=Vector3.ZERO;
			return false;
		}
		Vector3.scale(ray.direction,distance,Collision._tempV30);
		Vector3.add(ray.origin,Collision._tempV30,Collision._tempV31);
		out=Collision._tempV31;
		return true;
	}

	Collision.intersectsRayAndBoxRD=function(ray,box){
		var rayoe=ray.origin.elements;
		var rayoeX=rayoe[0];
		var rayoeY=rayoe[1];
		var rayoeZ=rayoe[2];
		var rayde=ray.direction.elements;
		var raydeX=rayde[0];
		var raydeY=rayde[1];
		var raydeZ=rayde[2];
		var boxMine=box.min.elements;
		var boxMineX=boxMine[0];
		var boxMineY=boxMine[1];
		var boxMineZ=boxMine[2];
		var boxMaxe=box.max.elements;
		var boxMaxeX=boxMaxe[0];
		var boxMaxeY=boxMaxe[1];
		var boxMaxeZ=boxMaxe[2];
		var out=0;
		var tmax=MathUtils3D.MaxValue;
		if (MathUtils3D.isZero(raydeX)){
			if (rayoeX < boxMineX || rayoeX > boxMaxeX){
				return-1;
			}
			}else {
			var inverse=1 / raydeX;
			var t1=(boxMineX-rayoeX)*inverse;
			var t2=(boxMaxeX-rayoeX)*inverse;
			if (t1 > t2){
				var temp=t1;
				t1=t2;
				t2=temp;
			}
			out=Math.max(t1,out);
			tmax=Math.min(t2,tmax);
			if (out > tmax){
				return-1;
			}
		}
		if (MathUtils3D.isZero(raydeY)){
			if (rayoeY < boxMineY || rayoeY > boxMaxeY){
				return-1;
			}
			}else {
			var inverse1=1 / raydeY;
			var t3=(boxMineY-rayoeY)*inverse1;
			var t4=(boxMaxeY-rayoeY)*inverse1;
			if (t3 > t4){
				var temp1=t3;
				t3=t4;
				t4=temp1;
			}
			out=Math.max(t3,out);
			tmax=Math.min(t4,tmax);
			if (out > tmax){
				return-1;
			}
		}
		if (MathUtils3D.isZero(raydeZ)){
			if (rayoeZ < boxMineZ || rayoeZ > boxMaxeZ){
				return-1;
			}
			}else {
			var inverse2=1 / raydeZ;
			var t5=(boxMineZ-rayoeZ)*inverse2;
			var t6=(boxMaxeZ-rayoeZ)*inverse2;
			if (t5 > t6){
				var temp2=t5;
				t5=t6;
				t6=temp2;
			}
			out=Math.max(t5,out);
			tmax=Math.min(t6,tmax);
			if (out > tmax){
				return-1;
			}
		}
		return out;
	}

	Collision.intersectsRayAndBoxRP=function(ray,box,out){
		var distance=Collision.intersectsRayAndBoxRD(ray,box);
		if (distance===-1){
			Vector3.ZERO.cloneTo(out);
			return distance;
		}
		Vector3.scale(ray.direction,distance,Collision._tempV30);
		Vector3.add(ray.origin,Collision._tempV30,Collision._tempV31);
		Collision._tempV31.cloneTo(out);
		return distance;
	}

	Collision.intersectsRayAndSphereRD=function(ray,sphere){
		var sphereR=sphere.radius;
		Vector3.subtract(ray.origin,sphere.center,Collision._tempV30);
		var b=Vector3.dot(Collision._tempV30,ray.direction);
		var c=Vector3.dot(Collision._tempV30,Collision._tempV30)-(sphereR *sphereR);
		if (c > 0 && b > 0){
			return-1;
		};
		var discriminant=b *b-c;
		if (discriminant < 0){
			return-1;
		};
		var distance=-b-Math.sqrt(discriminant);
		if (distance < 0)
			distance=0;
		return distance;
	}

	Collision.intersectsRayAndSphereRP=function(ray,sphere,out){
		var distance=Collision.intersectsRayAndSphereRD(ray,sphere);
		if (distance===-1){
			Vector3.ZERO.cloneTo(out);
			return distance;
		}
		Vector3.scale(ray.direction,distance,Collision._tempV30);
		Vector3.add(ray.origin,Collision._tempV30,Collision._tempV31);
		Collision._tempV31.cloneTo(out);
		return distance;
	}

	Collision.intersectsSphereAndTriangle=function(sphere,vertex1,vertex2,vertex3){
		var sphereC=sphere.center;
		var sphereR=sphere.radius;
		Collision.closestPointPointTriangle(sphereC,vertex1,vertex2,vertex3,Collision._tempV30);
		Vector3.subtract(Collision._tempV30,sphereC,Collision._tempV31);
		var dot=Vector3.dot(Collision._tempV31,Collision._tempV31);
		return dot <=sphereR *sphereR;
	}

	Collision.intersectsPlaneAndPoint=function(plane,point){
		var distance=Vector3.dot(plane.normal,point)+plane.distance;
		if (distance > 0)
			return Plane.PlaneIntersectionType_Front;
		if (distance < 0)
			return Plane.PlaneIntersectionType_Back;
		return Plane.PlaneIntersectionType_Intersecting;
	}

	Collision.intersectsPlaneAndPlane=function(plane1,plane2){
		Vector3.cross(plane1.normal,plane2.normal,Collision._tempV30);
		var denominator=Vector3.dot(Collision._tempV30,Collision._tempV30);
		if (MathUtils3D.isZero(denominator))
			return false;
		return true;
	}

	Collision.intersectsPlaneAndPlaneRL=function(plane1,plane2,line){
		var plane1nor=plane1.normal;
		var plane2nor=plane2.normal;
		Vector3.cross(plane1nor,plane2nor,Collision._tempV34);
		var denominator=Vector3.dot(Collision._tempV34,Collision._tempV34);
		if (MathUtils3D.isZero(denominator))
			return false;
		Vector3.scale(plane2nor,plane1.distance,Collision._tempV30);
		Vector3.scale(plane1nor,plane2.distance,Collision._tempV31);
		Vector3.subtract(Collision._tempV30,Collision._tempV31,Collision._tempV32);
		Vector3.cross(Collision._tempV32,Collision._tempV34,Collision._tempV33);
		Vector3.normalize(Collision._tempV34,Collision._tempV34);
		line=new Ray(Collision._tempV33,Collision._tempV34);
		return true;
	}

	Collision.intersectsPlaneAndBox=function(plane,box){
		var planeD=plane.distance;
		var planeNor=plane.normal;
		var planeNore=planeNor.elements;
		var planeNoreX=planeNore[0];
		var planeNoreY=planeNore[1];
		var planeNoreZ=planeNore[2];
		var boxMine=box.min.elements;
		var boxMineX=boxMine[0];
		var boxMineY=boxMine[1];
		var boxMineZ=boxMine[2];
		var boxMaxe=box.max.elements;
		var boxMaxeX=boxMaxe[0];
		var boxMaxeY=boxMaxe[1];
		var boxMaxeZ=boxMaxe[2];
		Collision._tempV30.elements[0]=(planeNoreX > 0)? boxMineX :boxMaxeX;
		Collision._tempV30.elements[1]=(planeNoreY > 0)? boxMineY :boxMaxeY;
		Collision._tempV30.elements[2]=(planeNoreZ > 0)? boxMineZ :boxMaxeZ;
		Collision._tempV31.elements[0]=(planeNoreX > 0)? boxMaxeX :boxMineX;
		Collision._tempV31.elements[1]=(planeNoreY > 0)? boxMaxeY :boxMineY;
		Collision._tempV31.elements[2]=(planeNoreZ > 0)? boxMaxeZ :boxMineZ;
		var distance=Vector3.dot(planeNor,Collision._tempV30);
		if (distance+planeD > 0)
			return Plane.PlaneIntersectionType_Front;
		distance=Vector3.dot(planeNor,Collision._tempV31);
		if (distance+planeD < 0)
			return Plane.PlaneIntersectionType_Back;
		return Plane.PlaneIntersectionType_Intersecting;
	}

	Collision.intersectsPlaneAndSphere=function(plane,sphere){
		var sphereR=sphere.radius;
		var distance=Vector3.dot(plane.normal,sphere.center)+plane.distance;
		if (distance > sphereR)
			return Plane.PlaneIntersectionType_Front;
		if (distance <-sphereR)
			return Plane.PlaneIntersectionType_Back;
		return Plane.PlaneIntersectionType_Intersecting;
	}

	Collision.intersectsBoxAndBox=function(box1,box2){
		var box1Mine=box1.min.elements;
		var box1Maxe=box1.max.elements;
		var box2Mine=box2.min.elements;
		var box2Maxe=box2.max.elements;
		if (box1Mine[0] > box2Maxe[0] || box2Mine[0] > box1Maxe[0])
			return false;
		if (box1Mine[1] > box2Maxe[1] || box2Mine[1] > box1Maxe[1])
			return false;
		if (box1Mine[2] > box2Maxe[2] || box2Mine[2] > box1Maxe[2])
			return false;
		return true;
	}

	Collision.intersectsBoxAndSphere=function(box,sphere){
		var sphereC=sphere.center;
		var sphereR=sphere.radius;
		Vector3.Clamp(sphereC,box.min,box.max,Collision._tempV30);
		var distance=Vector3.distanceSquared(sphereC,Collision._tempV30);
		return distance <=sphereR *sphereR;
	}

	Collision.intersectsSphereAndSphere=function(sphere1,sphere2){
		var radiisum=sphere1.radius+sphere2.radius;
		return Vector3.distanceSquared(sphere1.center,sphere2.center)<=radiisum *radiisum;
	}

	Collision.boxContainsPoint=function(box,point){
		var boxMine=box.min.elements;
		var boxMaxe=box.max.elements;
		var pointe=point.elements;
		if (boxMine[0] <=pointe[0] && boxMaxe[0] >=pointe[0] && boxMine[1] <=pointe[1] && boxMaxe[1] >=pointe[1] && boxMine[2] <=pointe[2] && boxMaxe[2] >=pointe[2])
			return 1;
		return 0;
	}

	Collision.boxContainsBox=function(box1,box2){
		var box1Mine=box1.min.elements;
		var box1MineX=box1Mine[0];
		var box1MineY=box1Mine[1];
		var box1MineZ=box1Mine[2];
		var box1Maxe=box1.max.elements;
		var box1MaxeX=box1Maxe[0];
		var box1MaxeY=box1Maxe[1];
		var box1MaxeZ=box1Maxe[2];
		var box2Mine=box2.min.elements;
		var box2MineX=box2Mine[0];
		var box2MineY=box2Mine[1];
		var box2MineZ=box2Mine[2];
		var box2Maxe=box2.max.elements;
		var box2MaxeX=box2Maxe[0];
		var box2MaxeY=box2Maxe[1];
		var box2MaxeZ=box2Maxe[2];
		if (box1MaxeX < box2MineX || box1MineX > box2MaxeX)
			return 0;
		if (box1MaxeY < box2MineY || box1MineY > box2MaxeY)
			return 0;
		if (box1MaxeZ < box2MineZ || box1MineZ > box2MaxeZ)
			return 0;
		if (box1MineX <=box2MineX && box2MaxeX <=box2MaxeX && box1MineY <=box2MineY && box2MaxeY <=box1MaxeY && box1MineZ <=box2MineZ && box2MaxeZ <=box1MaxeZ){
			return 1;
		}
		return 2;
	}

	Collision.boxContainsSphere=function(box,sphere){
		var boxMin=box.min;
		var boxMine=boxMin.elements;
		var boxMineX=boxMine[0];
		var boxMineY=boxMine[1];
		var boxMineZ=boxMine[2];
		var boxMax=box.max;
		var boxMaxe=boxMax.elements;
		var boxMaxeX=boxMaxe[0];
		var boxMaxeY=boxMaxe[1];
		var boxMaxeZ=boxMaxe[2];
		var sphereC=sphere.center;
		var sphereCe=sphereC.elements;
		var sphereCeX=sphereCe[0];
		var sphereCeY=sphereCe[1];
		var sphereCeZ=sphereCe[2];
		var sphereR=sphere.radius;
		Vector3.Clamp(sphereC,boxMin,boxMax,Collision._tempV30);
		var distance=Vector3.distanceSquared(sphereC,Collision._tempV30);
		if (distance > sphereR *sphereR)
			return 0;
		if ((((boxMineX+sphereR <=sphereCeX)&& (sphereCeX <=boxMaxeX-sphereR))&& ((boxMaxeX-boxMineX > sphereR)&&
			(boxMineY+sphereR <=sphereCeY)))&& (((sphereCeY <=boxMaxeY-sphereR)&& (boxMaxeY-boxMineY > sphereR))&&
		(((boxMineZ+sphereR <=sphereCeZ)&& (sphereCeZ <=boxMaxeZ-sphereR))&& (boxMaxeZ-boxMineZ > sphereR))))
		return 1;
		return 2;
	}

	Collision.sphereContainsPoint=function(sphere,point){
		if (Vector3.distanceSquared(point,sphere.center)<=sphere.radius *sphere.radius)
			return 1;
		return 0;
	}

	Collision.sphereContainsTriangle=function(sphere,vertex1,vertex2,vertex3){
		var test1=Collision.sphereContainsPoint(sphere,vertex1);
		var test2=Collision.sphereContainsPoint(sphere,vertex2);
		var test3=Collision.sphereContainsPoint(sphere,vertex3);
		if (test1==1 && test2==1 && test3==1)
			return 1;
		if (Collision.intersectsSphereAndTriangle(sphere,vertex1,vertex2,vertex3))
			return 2;
		return 0;
	}

	Collision.sphereContainsBox=function(sphere,box){
		var sphereC=sphere.center;
		var sphereCe=sphereC.elements;
		var sphereCeX=sphereCe[0];
		var sphereCeY=sphereCe[1];
		var sphereCeZ=sphereCe[2];
		var sphereR=sphere.radius;
		var boxMin=box.min;
		var boxMine=boxMin.elements;
		var boxMineX=boxMine[0];
		var boxMineY=boxMine[1];
		var boxMineZ=boxMine[2];
		var boxMax=box.max;
		var boxMaxe=boxMax.elements;
		var boxMaxeX=boxMaxe[0];
		var boxMaxeY=boxMaxe[1];
		var boxMaxeZ=boxMaxe[2];
		var _tempV30e=Collision._tempV30.elements;
		var _tempV30eX=_tempV30e[0];
		var _tempV30eY=_tempV30e[1];
		var _tempV30eZ=_tempV30e[2];
		if (!Collision.intersectsBoxAndSphere(box,sphere))
			return 0;
		var radiusSquared=sphereR *sphereR;
		_tempV30eX=sphereCeX-boxMineX;
		_tempV30eY=sphereCeY-boxMaxeY;
		_tempV30eZ=sphereCeZ-boxMaxeZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMaxeX;
		_tempV30eY=sphereCeY-boxMaxeY;
		_tempV30eZ=sphereCeZ-boxMaxeZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMaxeX;
		_tempV30eY=sphereCeY-boxMineY;
		_tempV30eZ=sphereCeZ-boxMaxeZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMineX;
		_tempV30eY=sphereCeY-boxMineY;
		_tempV30eZ=sphereCeZ-boxMaxeZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMineX;
		_tempV30eY=sphereCeY-boxMaxeY;
		_tempV30eZ=sphereCeZ-boxMineZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMaxeX;
		_tempV30eY=sphereCeY-boxMaxeY;
		_tempV30eZ=sphereCeZ-boxMineZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMaxeX;
		_tempV30eY=sphereCeY-boxMineY;
		_tempV30eZ=sphereCeZ-boxMineZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		_tempV30eX=sphereCeX-boxMineX;
		_tempV30eY=sphereCeY-boxMineY;
		_tempV30eZ=sphereCeZ-boxMineZ;
		if (Vector3.scalarLengthSquared(Collision._tempV30)> radiusSquared)
			return 2;
		return 1;
	}

	Collision.sphereContainsSphere=function(sphere1,sphere2){
		var sphere1R=sphere1.radius;
		var sphere2R=sphere2.radius;
		var distance=Vector3.distance(sphere1.center,sphere2.center);
		if (sphere1R+sphere2R < distance)
			return 0;
		if (sphere1R-sphere2R < distance)
			return 2;
		return 1;
	}

	Collision.closestPointPointTriangle=function(point,vertex1,vertex2,vertex3,out){
		Vector3.subtract(vertex2,vertex1,Collision._tempV30);
		Vector3.subtract(vertex3,vertex1,Collision._tempV31);
		Vector3.subtract(point,vertex1,Collision._tempV32);
		Vector3.subtract(point,vertex2,Collision._tempV33);
		Vector3.subtract(point,vertex3,Collision._tempV34);
		var d1=Vector3.dot(Collision._tempV30,Collision._tempV32);
		var d2=Vector3.dot(Collision._tempV31,Collision._tempV32);
		var d3=Vector3.dot(Collision._tempV30,Collision._tempV33);
		var d4=Vector3.dot(Collision._tempV31,Collision._tempV33);
		var d5=Vector3.dot(Collision._tempV30,Collision._tempV34);
		var d6=Vector3.dot(Collision._tempV31,Collision._tempV34);
		if (d1 <=0 && d2 <=0){
			vertex1.cloneTo(out);
			return;
		}
		if (d3 >=0 && d4 <=d3){
			vertex2.cloneTo(out);
			return;
		};
		var vc=d1 *d4-d3 *d2;
		if (vc <=0 && d1 >=0 && d3 <=0){
			var v=d1 / (d1-d3);
			Vector3.scale(Collision._tempV30,v,out);
			Vector3.add(vertex1,out,out);
			return;
		}
		if (d6 >=0 && d5 <=d6){
			vertex3.cloneTo(out);
			return;
		};
		var vb=d5 *d2-d1 *d6;
		if (vb <=0 && d2 >=0 && d6 <=0){
			var w=d2 / (d2-d6);
			Vector3.scale(Collision._tempV31,w,out);
			Vector3.add(vertex1,out,out);
			return;
		};
		var va=d3 *d6-d5 *d4;
		if (va <=0 && (d4-d3)>=0 && (d5-d6)>=0){
			var w3=(d4-d3)/ ((d4-d3)+(d5-d6));
			Vector3.subtract(vertex3,vertex2,out);
			Vector3.scale(out,w3,out);
			Vector3.add(vertex2,out,out);
			return;
		};
		var denom=1 / (va+vb+vc);
		var v2=vb *denom;
		var w2=vc *denom;
		Vector3.scale(Collision._tempV30,v2,Collision._tempV35);
		Vector3.scale(Collision._tempV31,w2,Collision._tempV36);
		Vector3.add(Collision._tempV35,Collision._tempV36,out);
		Vector3.add(vertex1,out,out);
	}

	Collision.closestPointPlanePoint=function(plane,point,out){
		var planeN=plane.normal;
		var t=Vector3.dot(planeN,point)-plane.distance;
		Vector3.scale(planeN,t,Collision._tempV30);
		Vector3.subtract(point,Collision._tempV30,out);
	}

	Collision.closestPointBoxPoint=function(box,point,out){
		Vector3.max(point,box.min,Collision._tempV30);
		Vector3.min(Collision._tempV30,box.max,out);
	}

	Collision.closestPointSpherePoint=function(sphere,point,out){
		var sphereC=sphere.center;
		Vector3.subtract(point,sphereC,out);
		Vector3.normalize(out,out);
		Vector3.scale(out,sphere.radius,out);
		Vector3.add(out,sphereC,out);
	}

	Collision.closestPointSphereSphere=function(sphere1,sphere2,out){
		var sphere1C=sphere1.center;
		Vector3.subtract(sphere2.center,sphere1C,out);
		Vector3.normalize(out,out);
		Vector3.scale(out,sphere1.radius,out);
		Vector3.add(out,sphere1C,out);
	}

	__static(Collision,
	['_tempV30',function(){return this._tempV30=new Vector3();},'_tempV31',function(){return this._tempV31=new Vector3();},'_tempV32',function(){return this._tempV32=new Vector3();},'_tempV33',function(){return this._tempV33=new Vector3();},'_tempV34',function(){return this._tempV34=new Vector3();},'_tempV35',function(){return this._tempV35=new Vector3();},'_tempV36',function(){return this._tempV36=new Vector3();}
	]);
	return Collision;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/ContainmentType.as=======199.999497/199.999497
/**
*<code>ContainmentType</code> 类用于定义空间物体位置关系。
*/
//class laya.d3.math.ContainmentType
var ContainmentType=(function(){
	function ContainmentType(){}
	__class(ContainmentType,'laya.d3.math.ContainmentType');
	ContainmentType.Disjoint=0;
	ContainmentType.Contains=1;
	ContainmentType.Intersects=2;
	return ContainmentType;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/MathUtils3D.as=======199.999496/199.999496
/**
*<code>MathUtils</code> 类用于创建数学工具。
*/
//class laya.d3.math.MathUtils3D
var MathUtils3D=(function(){
	/**
	*创建一个 <code>MathUtils</code> 实例。
	*/
	function MathUtils3D(){}
	__class(MathUtils3D,'laya.d3.math.MathUtils3D');
	MathUtils3D.isZero=function(v){
		return Math.abs(v)< MathUtils3D.zeroTolerance;
	}

	MathUtils3D.nearEqual=function(n1,n2){
		if (MathUtils3D.isZero(n1-n2))
			return true;
		return false;
	}

	MathUtils3D.fastInvSqrt=function(value){
		if (MathUtils3D.isZero(value))
			return value;
		return 1.0 / Math.sqrt(value);
	}

	__static(MathUtils3D,
	['zeroTolerance',function(){return this.zeroTolerance=1e-6;},'MaxValue',function(){return this.MaxValue=3.40282347e+38;},'MinValue',function(){return this.MinValue=-3.40282347e+38;}
	]);
	return MathUtils3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Matrix3x3.as=======199.999495/199.999495
/**
*<code>Matrix3x3</code> 类用于创建3x3矩阵。
*/
//class laya.d3.math.Matrix3x3
var Matrix3x3=(function(){
	function Matrix3x3(){
		/**矩阵元素数组*/
		//this.elements=null;
		var e=this.elements=new Float32Array(9);
		e[0]=1;
		e[1]=0;
		e[2]=0;
		e[3]=0;
		e[4]=1;
		e[5]=0;
		e[6]=0;
		e[7]=0;
		e[8]=1;
	}

	__class(Matrix3x3,'laya.d3.math.Matrix3x3');
	var __proto=Matrix3x3.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*计算3x3矩阵的行列式
	*@return 矩阵的行列式
	*/
	__proto.determinant=function(){
		var f=this.elements;
		var a00=f[0],a01=f[1],a02=f[2];
		var a10=f[3],a11=f[4],a12=f[5];
		var a20=f[6],a21=f[7],a22=f[8];
		return a00 *(a22 *a11-a12 *a21)+a01 *(-a22 *a10+a12 *a20)+a02 *(a21 *a10-a11 *a20);
	}

	/**
	*通过一个二维向量转换3x3矩阵
	*@param tra 转换向量
	*@param out 输出矩阵
	*/
	__proto.translate=function(trans,out){
		var e=out.elements;
		var f=this.elements;
		var g=trans.elements;
		var a00=f[0],a01=f[1],a02=f[2];
		var a10=f[3],a11=f[4],a12=f[5];
		var a20=f[6],a21=f[7],a22=f[8];
		var x=g[0],y=g[1];
		e[0]=a00;
		e[1]=a01;
		e[2]=a02;
		e[3]=a10;
		e[4]=a11;
		e[5]=a12;
		e[6]=x *a00+y *a10+a20;
		e[7]=x *a01+y *a11+a21;
		e[8]=x *a02+y *a12+a22;
	}

	/**
	*根据指定角度旋转3x3矩阵
	*@param rad 旋转角度
	*@param out 输出矩阵
	*/
	__proto.rotate=function(rad,out){
		var e=out.elements;
		var f=this.elements;
		var a00=f[0],a01=f[1],a02=f[2];
		var a10=f[3],a11=f[4],a12=f[5];
		var a20=f[6],a21=f[7],a22=f[8];
		var s=Math.sin(rad);
		var c=Math.cos(rad);
		e[0]=c *a00+s *a10;
		e[1]=c *a01+s *a11;
		e[2]=c *a02+s *a12;
		e[3]=c *a10-s *a00;
		e[4]=c *a11-s *a01;
		e[5]=c *a12-s *a02;
		e[6]=a20;
		e[7]=a21;
		e[8]=a22;
	}

	/**
	*根据制定缩放3x3矩阵
	*@param scale 缩放值
	*@param out 输出矩阵
	*/
	__proto.scale=function(scale,out){
		var e=out.elements;
		var f=this.elements;
		var g=scale.elements;
		var x=g[0],y=g[1];
		e[0]=x *f[0];
		e[1]=x *f[1];
		e[2]=x *f[2];
		e[3]=y *f[3];
		e[4]=y *f[4];
		e[5]=y *f[5];
		e[6]=f[6];
		e[7]=f[7];
		e[8]=f[8];
	}

	/**
	*计算3x3矩阵的逆矩阵
	*@param out 输出的逆矩阵
	*/
	__proto.invert=function(out){
		var e=out.elements;
		var f=this.elements;
		var a00=f[0],a01=f[1],a02=f[2];
		var a10=f[3],a11=f[4],a12=f[5];
		var a20=f[6],a21=f[7],a22=f[8];
		var b01=a22 *a11-a12 *a21;
		var b11=-a22 *a10+a12 *a20;
		var b21=a21 *a10-a11 *a20;
		var det=a00 *b01+a01 *b11+a02 *b21;
		if (!det){
			out=null;
		}
		det=1.0 / det;
		e[0]=b01 *det;
		e[1]=(-a22 *a01+a02 *a21)*det;
		e[2]=(a12 *a01-a02 *a11)*det;
		e[3]=b11 *det;
		e[4]=(a22 *a00-a02 *a20)*det;
		e[5]=(-a12 *a00+a02 *a10)*det;
		e[6]=b21 *det;
		e[7]=(-a21 *a00+a01 *a20)*det;
		e[8]=(a11 *a00-a01 *a10)*det;
	}

	/**
	*计算3x3矩阵的转置矩阵
	*@param out 输出矩阵
	*/
	__proto.transpose=function(out){
		var e=out.elements;
		var f=this.elements;
		if (out===this){
			var a01=f[1],a02=f[2],a12=f[5];
			e[1]=f[3];
			e[2]=f[6];
			e[3]=a01;
			e[5]=f[7];
			e[6]=a02;
			e[7]=a12;
			}else {
			e[0]=f[0];
			e[1]=f[3];
			e[2]=f[6];
			e[3]=f[1];
			e[4]=f[4];
			e[5]=f[7];
			e[6]=f[2];
			e[7]=f[5];
			e[8]=f[8];
		}
	}

	/**设置已有的矩阵为单位矩阵*/
	__proto.identity=function(){
		var e=this.elements;
		e[0]=1;
		e[1]=0;
		e[2]=0;
		e[3]=0;
		e[4]=1;
		e[5]=0;
		e[6]=0;
		e[7]=0;
		e[8]=1;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var i,s,d;
		s=this.elements;
		d=destObject.elements;
		if (s===d){
			return;
		}
		for (i=0;i < 9;++i){
			d[i]=s[i];
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	Matrix3x3.createFromTranslation=function(trans,out){
		var e=out.elements;
		var g=trans.elements;
		out[0]=1;
		out[1]=0;
		out[2]=0;
		out[3]=0;
		out[4]=1;
		out[5]=0;
		out[6]=g[0];
		out[7]=g[1];
		out[8]=1;
	}

	Matrix3x3.createFromRotation=function(rad,out){
		var e=out.elements;
		var s=Math.sin(rad),c=Math.cos(rad);
		e[0]=c;
		e[1]=s;
		e[2]=0;
		e[3]=-s;
		e[4]=c;
		e[5]=0;
		e[6]=0;
		e[7]=0;
		e[8]=1;
	}

	Matrix3x3.createFromScaling=function(scale,out){
		var e=out.elements;
		var g=scale.elements;
		e[0]=g[0];
		e[1]=0;
		e[2]=0;
		e[3]=0;
		e[4]=g[1];
		e[5]=0;
		e[6]=0;
		e[7]=0;
		e[8]=1;
	}

	Matrix3x3.createFromMatrix4x4=function(sou,out){
		out[0]=sou[0];
		out[1]=sou[1];
		out[2]=sou[2];
		out[3]=sou[4];
		out[4]=sou[5];
		out[5]=sou[6];
		out[6]=sou[8];
		out[7]=sou[9];
		out[8]=sou[10];
	}

	Matrix3x3.multiply=function(left,right,out){
		var e=out.elements;
		var f=left.elements;
		var g=right.elements;
		var a00=f[0],a01=f[1],a02=f[2];
		var a10=f[3],a11=f[4],a12=f[5];
		var a20=f[6],a21=f[7],a22=f[8];
		var b00=g[0],b01=g[1],b02=g[2];
		var b10=g[3],b11=g[4],b12=g[5];
		var b20=g[6],b21=g[7],b22=g[8];
		e[0]=b00 *a00+b01 *a10+b02 *a20;
		e[1]=b00 *a01+b01 *a11+b02 *a21;
		e[2]=b00 *a02+b01 *a12+b02 *a22;
		e[3]=b10 *a00+b11 *a10+b12 *a20;
		e[4]=b10 *a01+b11 *a11+b12 *a21;
		e[5]=b10 *a02+b11 *a12+b12 *a22;
		e[6]=b20 *a00+b21 *a10+b22 *a20;
		e[7]=b20 *a01+b21 *a11+b22 *a21;
		e[8]=b20 *a02+b21 *a12+b22 *a22;
	}

	Matrix3x3.lookAt=function(eye,target,up,out){
		Vector3.subtract(eye,target,Matrix3x3._tempV30);
		Vector3.normalize(Matrix3x3._tempV30,Matrix3x3._tempV30);
		Vector3.cross(up,Matrix3x3._tempV30,Matrix3x3._tempV31);
		Vector3.normalize(Matrix3x3._tempV31,Matrix3x3._tempV31);
		Vector3.cross(Matrix3x3._tempV30,Matrix3x3._tempV31,Matrix3x3._tempV32);
		var v0e=Matrix3x3._tempV30.elements;
		var v1e=Matrix3x3._tempV31.elements;
		var v2e=Matrix3x3._tempV32.elements;
		var me=out.elements;
		me[0]=v1e[0];
		me[3]=v1e[1];
		me[6]=v1e[2];
		me[1]=v2e[0];
		me[4]=v2e[1];
		me[7]=v2e[2];
		me[2]=v0e[0];
		me[5]=v0e[1];
		me[8]=v0e[2];
	}

	Matrix3x3.DEFAULT=new Matrix3x3();
	__static(Matrix3x3,
	['_tempV30',function(){return this._tempV30=new Vector3();},'_tempV31',function(){return this._tempV31=new Vector3();},'_tempV32',function(){return this._tempV32=new Vector3();}
	]);
	return Matrix3x3;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Matrix4x4.as=======199.999494/199.999494
/**
*<code>Matrix4x4</code> 类用于创建4x4矩阵。
*/
//class laya.d3.math.Matrix4x4
var Matrix4x4=(function(){
	function Matrix4x4(m11,m12,m13,m14,m21,m22,m23,m24,m31,m32,m33,m34,m41,m42,m43,m44,elements){
		/**矩阵元素数组*/
		//this.elements=null;
		(m11===void 0)&& (m11=1);
		(m12===void 0)&& (m12=0);
		(m13===void 0)&& (m13=0);
		(m14===void 0)&& (m14=0);
		(m21===void 0)&& (m21=0);
		(m22===void 0)&& (m22=1);
		(m23===void 0)&& (m23=0);
		(m24===void 0)&& (m24=0);
		(m31===void 0)&& (m31=0);
		(m32===void 0)&& (m32=0);
		(m33===void 0)&& (m33=1);
		(m34===void 0)&& (m34=0);
		(m41===void 0)&& (m41=0);
		(m42===void 0)&& (m42=0);
		(m43===void 0)&& (m43=0);
		(m44===void 0)&& (m44=1);
		var e=elements ? this.elements=elements :this.elements=new Float32Array(16);
		e[0]=m11;
		e[1]=m12;
		e[2]=m13;
		e[3]=m14;
		e[4]=m21;
		e[5]=m22;
		e[6]=m23;
		e[7]=m24;
		e[8]=m31;
		e[9]=m32;
		e[10]=m33;
		e[11]=m34;
		e[12]=m41;
		e[13]=m42;
		e[14]=m43;
		e[15]=m44;
	}

	__class(Matrix4x4,'laya.d3.math.Matrix4x4');
	var __proto=Matrix4x4.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	__proto.setRotation=function(rotation){
		var rotationE=rotation.elements;
		var rotationX=rotationE[0];
		var rotationY=rotationE[1];
		var rotationZ=rotationE[2];
		var rotationW=rotationE[3];
		var xx=rotationX *rotationX;
		var yy=rotationY *rotationY;
		var zz=rotationZ *rotationZ;
		var xy=rotationX *rotationY;
		var zw=rotationZ *rotationW;
		var zx=rotationZ *rotationX;
		var yw=rotationY *rotationW;
		var yz=rotationY *rotationZ;
		var xw=rotationX *rotationW;
		var e=this.elements;
		e[0]=1.0-(2.0 *(yy+zz));
		e[1]=2.0 *(xy+zw);
		e[2]=2.0 *(zx-yw);
		e[4]=2.0 *(xy-zw);
		e[5]=1.0-(2.0 *(zz+xx));
		e[6]=2.0 *(yz+xw);
		e[8]=2.0 *(zx+yw);
		e[9]=2.0 *(yz-xw);
		e[10]=1.0-(2.0 *(yy+xx));
	}

	__proto.setPosition=function(position){
		var positione=position.elements;
		var e=this.elements;
		e[12]=positione[0];
		e[13]=positione[1];
		e[14]=positione[2];
	}

	__proto.getElementByRowColumn=function(row,column){
		if (row < 0 || row > 3)
			throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");
		if (column < 0 || column > 3)
			throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");
		return this.elements[(row *4)+column];
	}

	__proto.setElementByRowColumn=function(row,column,value){
		if (row < 0 || row > 3)
			throw new Error("row","Rows and columns for matrices run from 0 to 3, inclusive.");
		if (column < 0 || column > 3)
			throw new Error("column","Rows and columns for matrices run from 0 to 3, inclusive.");
		this.elements[(row *4)+column]=value;
	}

	/**
	*判断两个4x4矩阵的值是否相等。
	*@param other 4x4矩阵
	*/
	__proto.equalsOtherMatrix=function(other){
		var e=this.elements;
		var oe=other.elements;
		return (MathUtils3D.nearEqual(e[0],oe[0])&& MathUtils3D.nearEqual(e[1],oe[1])&& MathUtils3D.nearEqual(e[2],oe[2])&& MathUtils3D.nearEqual(e[3],oe[3])&& MathUtils3D.nearEqual(e[4],oe[4])&& MathUtils3D.nearEqual(e[5],oe[5])&& MathUtils3D.nearEqual(e[6],oe[6])&& MathUtils3D.nearEqual(e[7],oe[7])&& MathUtils3D.nearEqual(e[8],oe[8])&& MathUtils3D.nearEqual(e[9],oe[9])&& MathUtils3D.nearEqual(e[10],oe[10])&& MathUtils3D.nearEqual(e[11],oe[11])&& MathUtils3D.nearEqual(e[12],oe[12])&& MathUtils3D.nearEqual(e[13],oe[13])&& MathUtils3D.nearEqual(e[14],oe[14])&& MathUtils3D.nearEqual(e[15],oe[15]));
	}

	/**
	*分解矩阵为平移向量、旋转四元数、缩放向量。
	*@param translation 平移向量。
	*@param rotation 旋转四元数。
	*@param scale 缩放向量。
	*@return 是否分解成功。
	*/
	__proto.decomposeTransRotScale=function(translation,rotation,scale){
		var rotationMatrix=Matrix4x4._tempMatrix4x4;
		if (this.decomposeTransRotMatScale(translation,rotationMatrix,scale)){
			Quaternion.createFromMatrix4x4(rotationMatrix,rotation);
			return true;
			}else {
			rotation.identity();
			return false;
		}
	}

	/**
	*分解矩阵为平移向量、旋转矩阵、缩放向量。
	*@param translation 平移向量。
	*@param rotationMatrix 旋转矩阵。
	*@param scale 缩放向量。
	*@return 是否分解成功。
	*/
	__proto.decomposeTransRotMatScale=function(translation,rotationMatrix,scale){
		var e=this.elements;
		var te=translation.elements;
		var re=rotationMatrix.elements;
		var se=scale.elements;
		te[0]=e[12];
		te[1]=e[13];
		te[2]=e[14];
		var m11=e[0],m12=e[1],m13=e[2];
		var m21=e[4],m22=e[5],m23=e[6];
		var m31=e[8],m32=e[9],m33=e[10];
		var sX=se[0]=Math.sqrt((m11 *m11)+(m12 *m12)+(m13 *m13));
		var sY=se[1]=Math.sqrt((m21 *m21)+(m22 *m22)+(m23 *m23));
		var sZ=se[2]=Math.sqrt((m31 *m31)+(m32 *m32)+(m33 *m33));
		if (MathUtils3D.isZero(sX)|| MathUtils3D.isZero(sY)|| MathUtils3D.isZero(sZ)){
			re[1]=re[2]=re[3]=re[4]=re[6]=re[7]=re[8]=re[9]=re[11]=re[12]=re[13]=re[14]=0;
			re[0]=re[5]=re[10]=re[15]=1;
			return false;
		};
		var at=Matrix4x4._tempVector0;
		var atE=at.elements;
		atE[0]=m31 / sZ;
		atE[1]=m32 / sZ;
		atE[2]=m33 / sZ;
		var tempRight=Matrix4x4._tempVector1;
		var tempRightE=tempRight.elements;
		tempRightE[0]=m11 / sX;
		tempRightE[1]=m12 / sX;
		tempRightE[2]=m13 / sX;
		var up=Matrix4x4._tempVector2;
		Vector3.cross(at,tempRight,up);
		var right=Matrix4x4._tempVector1;
		Vector3.cross(up,at,right);
		re[3]=re[7]=re[11]=re[12]=re[13]=re[14]=0;
		re[15]=1;
		re[0]=right.x;
		re[1]=right.y;
		re[2]=right.z;
		re[4]=up.x;
		re[5]=up.y;
		re[6]=up.z;
		re[8]=at.x;
		re[9]=at.y;
		re[10]=at.z;
		((re[0] *m11+re[1] *m12+re[2] *m13)< 0.0)&& (se[0]=-sX);
		((re[4] *m21+re[5] *m22+re[6] *m23)< 0.0)&& (se[1]=-sY);
		((re[8] *m31+re[9] *m32+re[10] *m33)< 0.0)&& (se[2]=-sZ);
		return true;
	}

	/**
	*分解旋转矩阵的旋转为YawPitchRoll欧拉角。
	*@param out float yaw
	*@param out float pitch
	*@param out float roll
	*@return
	*/
	__proto.decomposeYawPitchRoll=function(yawPitchRoll){
		var yawPitchRollE=yawPitchRoll.elements;
		var pitch=Math.asin(-this.elements[9]);
		yawPitchRollE[1]=pitch;
		var test=Math.cos(pitch);
		if (test > MathUtils3D.zeroTolerance){
			yawPitchRollE[2]=Math.atan2(this.elements[1],this.elements[5]);
			yawPitchRollE[0]=Math.atan2(this.elements[8],this.elements[10]);
			}else {
			yawPitchRollE[2]=Math.atan2(-this.elements[4],this.elements[0]);
			yawPitchRollE[0]=0.0;
		}
	}

	/**归一化矩阵 */
	__proto.normalize=function(){
		var v=this.elements;
		var c=v[0],d=v[1],e=v[2],g=Math.sqrt(c *c+d *d+e *e);
		if (g){
			if (g==1)
				return;
			}else {
			v[0]=0;
			v[1]=0;
			v[2]=0;
			return;
		}
		g=1 / g;
		v[0]=c *g;
		v[1]=d *g;
		v[2]=e *g;
	}

	/**计算矩阵的转置矩阵*/
	__proto.transpose=function(){
		var e,t;
		e=this.elements;
		t=e[1];
		e[1]=e[4];
		e[4]=t;
		t=e[2];
		e[2]=e[8];
		e[8]=t;
		t=e[3];
		e[3]=e[12];
		e[12]=t;
		t=e[6];
		e[6]=e[9];
		e[9]=t;
		t=e[7];
		e[7]=e[13];
		e[13]=t;
		t=e[11];
		e[11]=e[14];
		e[14]=t;
		return this;
	}

	/**
	*计算一个矩阵的逆矩阵
	*@param out 输出矩阵
	*/
	__proto.invert=function(out){
		var ae=this.elements;
		var oe=out.elements;
		var a00=ae[0],a01=ae[1],a02=ae[2],a03=ae[3],a10=ae[4],a11=ae[5],a12=ae[6],a13=ae[7],a20=ae[8],a21=ae[9],a22=ae[10],a23=ae[11],a30=ae[12],a31=ae[13],a32=ae[14],a33=ae[15],
		b00=a00 *a11-a01 *a10,b01=a00 *a12-a02 *a10,b02=a00 *a13-a03 *a10,b03=a01 *a12-a02 *a11,b04=a01 *a13-a03 *a11,b05=a02 *a13-a03 *a12,b06=a20 *a31-a21 *a30,b07=a20 *a32-a22 *a30,b08=a20 *a33-a23 *a30,b09=a21 *a32-a22 *a31,b10=a21 *a33-a23 *a31,b11=a22 *a33-a23 *a32,
		det=b00 *b11-b01 *b10+b02 *b09+b03 *b08-b04 *b07+b05 *b06;
		if (Math.abs(det)===0.0){
			return;
		}
		det=1.0 / det;
		oe[0]=(a11 *b11-a12 *b10+a13 *b09)*det;
		oe[1]=(a02 *b10-a01 *b11-a03 *b09)*det;
		oe[2]=(a31 *b05-a32 *b04+a33 *b03)*det;
		oe[3]=(a22 *b04-a21 *b05-a23 *b03)*det;
		oe[4]=(a12 *b08-a10 *b11-a13 *b07)*det;
		oe[5]=(a00 *b11-a02 *b08+a03 *b07)*det;
		oe[6]=(a32 *b02-a30 *b05-a33 *b01)*det;
		oe[7]=(a20 *b05-a22 *b02+a23 *b01)*det;
		oe[8]=(a10 *b10-a11 *b08+a13 *b06)*det;
		oe[9]=(a01 *b08-a00 *b10-a03 *b06)*det;
		oe[10]=(a30 *b04-a31 *b02+a33 *b00)*det;
		oe[11]=(a21 *b02-a20 *b04-a23 *b00)*det;
		oe[12]=(a11 *b07-a10 *b09-a12 *b06)*det;
		oe[13]=(a00 *b09-a01 *b07+a02 *b06)*det;
		oe[14]=(a31 *b01-a30 *b03-a32 *b00)*det;
		oe[15]=(a20 *b03-a21 *b01+a22 *b00)*det;
	}

	/**设置矩阵为单位矩阵*/
	__proto.identity=function(){
		var e=this.elements;
		e[1]=e[2]=e[3]=e[4]=e[6]=e[7]=e[8]=e[9]=e[11]=e[12]=e[13]=e[14]=0;
		e[0]=e[5]=e[10]=e[15]=1;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var i,s,d;
		s=this.elements;
		d=destObject.elements;
		if (s===d){
			return;
		}
		for (i=0;i < 16;++i){
			d[i]=s[i];
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*获取平移向量。
	*@param out 平移向量。
	*/
	__proto.getTranslationVector=function(out){
		var me=this.elements;
		var te=out.elements;
		te[0]=me[12];
		te[1]=me[13];
		te[2]=me[14];
	}

	/**
	*设置平移向量。
	*@param translate 平移向量。
	*/
	__proto.setTranslationVector=function(translate){
		var me=this.elements;
		var ve=translate.elements;
		me[12]=ve[0];
		me[13]=ve[1];
		me[14]=ve[2];
	}

	/**
	*获取前向量。
	*@param out 前向量。
	*/
	__proto.getForward=function(out){
		var me=this.elements;
		var te=out.elements;
		te[0]=-me[8];
		te[1]=-me[9];
		te[2]=-me[10];
	}

	/**
	*设置前向量。
	*@param forward 前向量。
	*/
	__proto.setForward=function(forward){
		var me=this.elements;
		var ve=forward.elements;
		me[8]=-ve[0];
		me[9]=-ve[1];
		me[10]=-ve[2];
	}

	Matrix4x4.createRotationX=function(rad,out){
		var oe=out.elements;
		var s=Math.sin(rad),c=Math.cos(rad);
		oe[1]=oe[2]=oe[3]=oe[4]=oe[7]=oe[8]=oe[11]=oe[12]=oe[13]=oe[14]=0;
		oe[0]=oe[15]=1;
		oe[5]=oe[10]=c;
		oe[6]=s;
		oe[9]=-s;
	}

	Matrix4x4.createRotationY=function(rad,out){
		var oe=out.elements;
		var s=Math.sin(rad),c=Math.cos(rad);
		oe[1]=oe[3]=oe[4]=oe[6]=oe[7]=oe[9]=oe[11]=oe[12]=oe[13]=oe[14]=0;
		oe[5]=oe[15]=1;
		oe[0]=oe[10]=c;
		oe[2]=-s;
		oe[8]=s;
	}

	Matrix4x4.createRotationZ=function(rad,out){
		var oe=out.elements;
		var s=Math.sin(rad),c=Math.cos(rad);
		oe[2]=oe[3]=oe[6]=oe[7]=oe[8]=oe[9]=oe[11]=oe[12]=oe[13]=oe[14]=0;
		oe[10]=oe[15]=1;
		oe[0]=oe[5]=c;
		oe[1]=s;
		oe[4]=-s;
	}

	Matrix4x4.createRotationYawPitchRoll=function(yaw,pitch,roll,result){
		Quaternion.createFromYawPitchRoll(yaw,pitch,roll,Matrix4x4._tempQuaternion);
		Matrix4x4.createRotationQuaternion(Matrix4x4._tempQuaternion,result);
	}

	Matrix4x4.createRotationAxis=function(axis,angle,result){
		var axisE=axis.elements;
		var x=axisE[0];
		var y=axisE[1];
		var z=axisE[2];
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var xx=x *x;
		var yy=y *y;
		var zz=z *z;
		var xy=x *y;
		var xz=x *z;
		var yz=y *z;
		var resultE=result.elements;
		resultE[3]=resultE[7]=resultE[11]=resultE[12]=resultE[13]=resultE[14]=0;
		resultE[15]=1.0;
		resultE[0]=xx+(cos *(1.0-xx));
		resultE[1]=(xy-(cos *xy))+(sin *z);
		resultE[2]=(xz-(cos *xz))-(sin *y);
		resultE[4]=(xy-(cos *xy))-(sin *z);
		resultE[5]=yy+(cos *(1.0-yy));
		resultE[6]=(yz-(cos *yz))+(sin *x);
		resultE[8]=(xz-(cos *xz))+(sin *y);
		resultE[9]=(yz-(cos *yz))-(sin *x);
		resultE[10]=zz+(cos *(1.0-zz));
	}

	Matrix4x4.createRotationQuaternion=function(rotation,result){
		var rotationE=rotation.elements;
		var resultE=result.elements;
		var rotationX=rotationE[0];
		var rotationY=rotationE[1];
		var rotationZ=rotationE[2];
		var rotationW=rotationE[3];
		var xx=rotationX *rotationX;
		var yy=rotationY *rotationY;
		var zz=rotationZ *rotationZ;
		var xy=rotationX *rotationY;
		var zw=rotationZ *rotationW;
		var zx=rotationZ *rotationX;
		var yw=rotationY *rotationW;
		var yz=rotationY *rotationZ;
		var xw=rotationX *rotationW;
		resultE[3]=resultE[7]=resultE[11]=resultE[12]=resultE[13]=resultE[14]=0;
		resultE[15]=1.0;
		resultE[0]=1.0-(2.0 *(yy+zz));
		resultE[1]=2.0 *(xy+zw);
		resultE[2]=2.0 *(zx-yw);
		resultE[4]=2.0 *(xy-zw);
		resultE[5]=1.0-(2.0 *(zz+xx));
		resultE[6]=2.0 *(yz+xw);
		resultE[8]=2.0 *(zx+yw);
		resultE[9]=2.0 *(yz-xw);
		resultE[10]=1.0-(2.0 *(yy+xx));
	}

	Matrix4x4.createTranslate=function(trans,out){
		var te=trans.elements;
		var oe=out.elements;
		oe[4]=oe[8]=oe[1]=oe[9]=oe[2]=oe[6]=oe[3]=oe[7]=oe[11]=0;
		oe[0]=oe[5]=oe[10]=oe[15]=1;
		oe[12]=te[0];
		oe[13]=te[1];
		oe[14]=te[2];
	}

	Matrix4x4.createScaling=function(scale,out){
		var se=scale.elements;
		var oe=out.elements;
		oe[0]=se[0];
		oe[5]=se[1];
		oe[10]=se[2];
		oe[1]=oe[4]=oe[8]=oe[12]=oe[9]=oe[13]=oe[2]=oe[6]=oe[14]=oe[3]=oe[7]=oe[11]=0;
		oe[15]=1;
	}

	Matrix4x4.multiply=function(left,right,out){
		var i,e,a,b,ai0,ai1,ai2,ai3;
		e=out.elements;
		a=left.elements;
		b=right.elements;
		if (e===b){
			b=new Float32Array(16);
			for (i=0;i < 16;++i){
				b[i]=e[i];
			}
		};
		var b0=b[0],b1=b[1],b2=b[2],b3=b[3];
		var b4=b[4],b5=b[5],b6=b[6],b7=b[7];
		var b8=b[8],b9=b[9],b10=b[10],b11=b[11];
		var b12=b[12],b13=b[13],b14=b[14],b15=b[15];
		for (i=0;i < 4;i++){
			ai0=a[i];
			ai1=a[i+4];
			ai2=a[i+8];
			ai3=a[i+12];
			e[i]=ai0 *b0+ai1 *b1+ai2 *b2+ai3 *b3;
			e[i+4]=ai0 *b4+ai1 *b5+ai2 *b6+ai3 *b7;
			e[i+8]=ai0 *b8+ai1 *b9+ai2 *b10+ai3 *b11;
			e[i+12]=ai0 *b12+ai1 *b13+ai2 *b14+ai3 *b15;
		}
	}

	Matrix4x4.multiplyForNative=function(left,right,out){
		window.conch.matrix4x4Multiply(left.elements,right.elements,out.elements);
	}

	Matrix4x4.createFromQuaternion=function(rotation,out){
		var e=out.elements;
		var q=rotation.elements;
		var x=q[0],y=q[1],z=q[2],w=q[3];
		var x2=x+x;
		var y2=y+y;
		var z2=z+z;
		var xx=x *x2;
		var yx=y *x2;
		var yy=y *y2;
		var zx=z *x2;
		var zy=z *y2;
		var zz=z *z2;
		var wx=w *x2;
		var wy=w *y2;
		var wz=w *z2;
		e[0]=1-yy-zz;
		e[1]=yx+wz;
		e[2]=zx-wy;
		e[3]=0;
		e[4]=yx-wz;
		e[5]=1-xx-zz;
		e[6]=zy+wx;
		e[7]=0;
		e[8]=zx+wy;
		e[9]=zy-wx;
		e[10]=1-xx-yy;
		e[11]=0;
		e[12]=0;
		e[13]=0;
		e[14]=0;
		e[15]=1;
	}

	Matrix4x4.createAffineTransformation=function(trans,rot,scale,out){
		var te=trans.elements;
		var re=rot.elements;
		var se=scale.elements;
		var oe=out.elements;
		var x=re[0],y=re[1],z=re[2],w=re[3],x2=x+x,y2=y+y,z2=z+z;
		var xx=x *x2,xy=x *y2,xz=x *z2,yy=y *y2,yz=y *z2,zz=z *z2;
		var wx=w *x2,wy=w *y2,wz=w *z2,sx=se[0],sy=se[1],sz=se[2];
		oe[0]=(1-(yy+zz))*sx;
		oe[1]=(xy+wz)*sx;
		oe[2]=(xz-wy)*sx;
		oe[3]=0;
		oe[4]=(xy-wz)*sy;
		oe[5]=(1-(xx+zz))*sy;
		oe[6]=(yz+wx)*sy;
		oe[7]=0;
		oe[8]=(xz+wy)*sz;
		oe[9]=(yz-wx)*sz;
		oe[10]=(1-(xx+yy))*sz;
		oe[11]=0;
		oe[12]=te[0];
		oe[13]=te[1];
		oe[14]=te[2];
		oe[15]=1;
	}

	Matrix4x4.createLookAt=function(eye,target,up,out){
		var oE=out.elements;
		var xaxis=Matrix4x4._tempVector0;
		var yaxis=Matrix4x4._tempVector1;
		var zaxis=Matrix4x4._tempVector2;
		Vector3.subtract(eye,target,zaxis);
		Vector3.normalize(zaxis,zaxis);
		Vector3.cross(up,zaxis,xaxis);
		Vector3.normalize(xaxis,xaxis);
		Vector3.cross(zaxis,xaxis,yaxis);
		out.identity();
		oE[0]=xaxis.x;
		oE[4]=xaxis.y;
		oE[8]=xaxis.z;
		oE[1]=yaxis.x;
		oE[5]=yaxis.y;
		oE[9]=yaxis.z;
		oE[2]=zaxis.x;
		oE[6]=zaxis.y;
		oE[10]=zaxis.z;
		oE[12]=-Vector3.dot(xaxis,eye);
		oE[13]=-Vector3.dot(yaxis,eye);
		oE[14]=-Vector3.dot(zaxis,eye);
	}

	Matrix4x4.createPerspective=function(fov,aspect,near,far,out){
		var oe=out.elements;
		var f=1.0 / Math.tan(fov / 2),nf=1 / (near-far);
		oe[0]=f / aspect;
		oe[5]=f;
		oe[10]=(far+near)*nf;
		oe[11]=-1;
		oe[14]=(2 *far *near)*nf;
		oe[1]=oe[2]=oe[3]=oe[4]=oe[6]=oe[7]=oe[8]=oe[9]=oe[12]=oe[13]=oe[15]=0;
	}

	Matrix4x4.createOrthoOffCenterRH=function(left,right,bottom,top,near,far,out){
		var oe=out.elements;
		var lr=1 / (left-right);
		var bt=1 / (bottom-top);
		var nf=1 / (near-far);
		oe[1]=oe[2]=oe[3]=oe[4]=oe[6]=oe[7]=oe[8]=oe[9]=oe[11]=0;
		oe[15]=1;
		oe[0]=-2 *lr;
		oe[5]=-2 *bt;
		oe[10]=2 *nf;
		oe[12]=(left+right)*lr;
		oe[13]=(top+bottom)*bt;
		oe[14]=(far+near)*nf;
	}

	Matrix4x4.translation=function(v3,out){
		var ve=v3.elements;
		var oe=out.elements;
		oe[0]=oe[5]=oe[10]=oe[15]=1;
		oe[12]=ve[0];
		oe[13]=ve[1];
		oe[14]=ve[2];
	}

	__static(Matrix4x4,
	['_tempMatrix4x4',function(){return this._tempMatrix4x4=new Matrix4x4();},'_tempVector0',function(){return this._tempVector0=new Vector3();},'_tempVector1',function(){return this._tempVector1=new Vector3();},'_tempVector2',function(){return this._tempVector2=new Vector3();},'_tempQuaternion',function(){return this._tempQuaternion=new Quaternion();},'DEFAULT',function(){return this.DEFAULT=new Matrix4x4();},'ZERO',function(){return this.ZERO=new Matrix4x4(
		0,0,0,0,
		0,0,0,0,
		0,0,0,0,
		0,0,0,0);}
	]);
	return Matrix4x4;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/OrientedBoundBox.as=======199.999493/199.999493
/**
*<code>OrientedBoundBox</code> 类用于创建OBB包围盒。
*/
//class laya.d3.math.OrientedBoundBox
var OrientedBoundBox=(function(){
	function OrientedBoundBox(extents,transformation){
		/**每个轴长度的一半*/
		this.extents=null;
		/**这个矩阵表示包围盒的位置和缩放,它的平移向量表示该包围盒的中心*/
		this.transformation=null;
		this.extents=extents;
		this.transformation=transformation;
	}

	__class(OrientedBoundBox,'laya.d3.math.OrientedBoundBox');
	var __proto=OrientedBoundBox.prototype;
	/**
	*获取OBB包围盒的8个顶点。
	*@param corners 返回顶点的输出队列。
	*/
	__proto.getCorners=function(corners){
		var xve=OrientedBoundBox._tempV30.elements;
		var yve=OrientedBoundBox._tempV31.elements;
		var zve=OrientedBoundBox._tempV32.elements;
		var extentsE=this.extents.elements;
		xve[0]=extentsE[0];
		xve[1]=xve[2]=0;
		yve[1]=extentsE[1];
		yve[0]=yve[2]=0;
		zve[2]=extentsE[2];
		zve[0]=zve[1]=0;
		Vector3.TransformNormal(OrientedBoundBox._tempV30,this.transformation,OrientedBoundBox._tempV30);
		Vector3.TransformNormal(OrientedBoundBox._tempV31,this.transformation,OrientedBoundBox._tempV31);
		Vector3.TransformNormal(OrientedBoundBox._tempV32,this.transformation,OrientedBoundBox._tempV32);
		var center=OrientedBoundBox._tempV33;
		this.transformation.getTranslationVector(center);
		corners.length=8;
		Vector3.add(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[0]);
		Vector3.add(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[1]);
		Vector3.subtract(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[2]);
		Vector3.subtract(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[3]);
		Vector3.add(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[4]);
		Vector3.add(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[5]);
		Vector3.subtract(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[6]);
		Vector3.subtract(center,OrientedBoundBox._tempV30,OrientedBoundBox._tempV34);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV31,OrientedBoundBox._tempV34);
		Vector3.add(OrientedBoundBox._tempV34,OrientedBoundBox._tempV32,corners[7]);
	}

	/**
	*变换该包围盒的矩阵信息。
	*@param mat 矩阵
	*/
	__proto.transform=function(mat){
		Matrix4x4.multiply(this.transformation,mat,this.transformation);
	}

	/**
	*缩放该包围盒
	*@param scaling 各轴的缩放比。
	*/
	__proto.scale=function(scaling){
		Vector3.multiply(this.extents,scaling,this.extents);
	}

	/**
	*平移该包围盒。
	*@param translation 平移参数
	*/
	__proto.translate=function(translation){
		this.transformation.getTranslationVector(OrientedBoundBox._tempV30);
		Vector3.add(OrientedBoundBox._tempV30,translation,OrientedBoundBox._tempV31);
		this.transformation.setTranslationVector(OrientedBoundBox._tempV31);
	}

	/**
	*该包围盒的尺寸。
	*@param out 输出
	*/
	__proto.Size=function(out){
		Vector3.scale(this.extents,2,out);
	}

	/**
	*该包围盒需要考虑的尺寸
	*@param out 输出
	*/
	__proto.getSize=function(out){
		var extentsE=this.extents.elements;
		OrientedBoundBox._tempV30.x=extentsE[0];
		OrientedBoundBox._tempV31.y=extentsE[1];
		OrientedBoundBox._tempV32.z=extentsE[2];
		Vector3.TransformNormal(OrientedBoundBox._tempV30,this.transformation,OrientedBoundBox._tempV30);
		Vector3.TransformNormal(OrientedBoundBox._tempV31,this.transformation,OrientedBoundBox._tempV31);
		Vector3.TransformNormal(OrientedBoundBox._tempV31,this.transformation,OrientedBoundBox._tempV32);
		var oe=out.elements;
		oe[0]=Vector3.scalarLength(OrientedBoundBox._tempV30);
		oe[1]=Vector3.scalarLength(OrientedBoundBox._tempV31);
		oe[2]=Vector3.scalarLength(OrientedBoundBox._tempV32);
	}

	/**
	*该包围盒需要考虑尺寸的平方
	*@param out 输出
	*/
	__proto.getSizeSquared=function(out){
		var extentsE=this.extents.elements;
		OrientedBoundBox._tempV30.x=extentsE[0];
		OrientedBoundBox._tempV31.y=extentsE[1];
		OrientedBoundBox._tempV32.z=extentsE[2];
		Vector3.TransformNormal(OrientedBoundBox._tempV30,this.transformation,OrientedBoundBox._tempV30);
		Vector3.TransformNormal(OrientedBoundBox._tempV31,this.transformation,OrientedBoundBox._tempV31);
		Vector3.TransformNormal(OrientedBoundBox._tempV31,this.transformation,OrientedBoundBox._tempV32);
		var oe=out.elements;
		oe[0]=Vector3.scalarLengthSquared(OrientedBoundBox._tempV30);
		oe[1]=Vector3.scalarLengthSquared(OrientedBoundBox._tempV31);
		oe[2]=Vector3.scalarLengthSquared(OrientedBoundBox._tempV32);
	}

	/**
	*该包围盒的几何中心
	*/
	__proto.getCenter=function(center){
		this.transformation.getTranslationVector(center);
	}

	/**
	*该包围盒是否包含空间中一点
	*@param point 点
	*@return 返回位置关系
	*/
	__proto.containsPoint=function(point){
		var extentsE=this.extents.elements;
		var extentsEX=extentsE[0];
		var extentsEY=extentsE[1];
		var extentsEZ=extentsE[2];
		this.transformation.invert(OrientedBoundBox._tempM0);
		Vector3.transformCoordinate(point,OrientedBoundBox._tempM0,OrientedBoundBox._tempV30);
		var _tempV30e=OrientedBoundBox._tempV30.elements;
		var _tempV30ex=Math.abs(_tempV30e[0]);
		var _tempV30ey=Math.abs(_tempV30e[1]);
		var _tempV30ez=Math.abs(_tempV30e[2]);
		if (MathUtils3D.nearEqual(_tempV30ex,extentsEX)&& MathUtils3D.nearEqual(_tempV30ey,extentsEY)&& MathUtils3D.nearEqual(_tempV30ez,extentsEZ))
			return 2;
		if (_tempV30ex < extentsEX && _tempV30ey < extentsEY && _tempV30ez < extentsEZ)
			return 1;
		else
		return 0;
	}

	/**
	*该包围盒是否包含空间中多点
	*@param point 点
	*@return 返回位置关系
	*/
	__proto.containsPoints=function(points){
		var extentse=this.extents.elements;
		var extentsex=extentse[0];
		var extentsey=extentse[1];
		var extentsez=extentse[2];
		this.transformation.invert(OrientedBoundBox._tempM0);
		var containsAll=true;
		var containsAny=false;
		for (var i=0;i < points.length;i++){
			Vector3.transformCoordinate(points[i],OrientedBoundBox._tempM0,OrientedBoundBox._tempV30);
			var _tempV30e=OrientedBoundBox._tempV30.elements;
			var _tempV30ex=Math.abs(_tempV30e[0]);
			var _tempV30ey=Math.abs(_tempV30e[1]);
			var _tempV30ez=Math.abs(_tempV30e[2]);
			if (MathUtils3D.nearEqual(_tempV30ex,extentsex)&& MathUtils3D.nearEqual(_tempV30ey,extentsey)&& MathUtils3D.nearEqual(_tempV30ez,extentsez))
				containsAny=true;
			if (_tempV30ex < extentsex && _tempV30ey < extentsey && _tempV30ez < extentsez)
				containsAny=true;
			else
			containsAll=false;
		}
		if (containsAll)
			return 1;
		else if (containsAny)
		return 2;
		else
		return 0;
	}

	/**
	*该包围盒是否包含空间中一包围球
	*@param sphere 包围球
	*@param ignoreScale 是否考虑该包围盒的缩放
	*@return 返回位置关系
	*/
	__proto.containsSphere=function(sphere,ignoreScale){
		(ignoreScale===void 0)&& (ignoreScale=false);
		var extentsE=this.extents.elements;
		var extentsEX=extentsE[0];
		var extentsEY=extentsE[1];
		var extentsEZ=extentsE[2];
		var sphereR=sphere.radius;
		this.transformation.invert(OrientedBoundBox._tempM0);
		Vector3.transformCoordinate(sphere.center,OrientedBoundBox._tempM0,OrientedBoundBox._tempV30);
		var locRadius=NaN;
		if (ignoreScale){
			locRadius=sphereR;
			}else {
			Vector3.scale(Vector3.UnitX,sphereR,OrientedBoundBox._tempV31);
			Vector3.TransformNormal(OrientedBoundBox._tempV31,OrientedBoundBox._tempM0,OrientedBoundBox._tempV31);
			locRadius=Vector3.scalarLength(OrientedBoundBox._tempV31);
		}
		Vector3.scale(this.extents,-1,OrientedBoundBox._tempV32);
		Vector3.Clamp(OrientedBoundBox._tempV30,OrientedBoundBox._tempV32,this.extents,OrientedBoundBox._tempV33);
		var distance=Vector3.distanceSquared(OrientedBoundBox._tempV30,OrientedBoundBox._tempV33);
		if (distance > locRadius *locRadius)
			return 0;
		var tempV30e=OrientedBoundBox._tempV30.elements;
		var tempV30ex=tempV30e[0];
		var tempV30ey=tempV30e[1];
		var tempV30ez=tempV30e[2];
		var tempV32e=OrientedBoundBox._tempV32.elements;
		var tempV32ex=tempV32e[0];
		var tempV32ey=tempV32e[1];
		var tempV32ez=tempV32e[2];
		if ((((tempV32ex+locRadius <=tempV30ex)&& (tempV30ex <=extentsEX-locRadius))&& ((extentsEX-tempV32ex > locRadius)&& (tempV32ey+locRadius <=tempV30ey)))&& (((tempV30ey <=extentsEY-locRadius)&& (extentsEY-tempV32ey > locRadius))&& (((tempV32ez+locRadius <=tempV30ez)&& (tempV30ez <=extentsEZ-locRadius))&& (extentsEZ-tempV32ez > locRadius)))){
			return 1;
		}
		return 2;
	}

	/**
	*For accuracy,The transformation matrix for both <see cref="OrientedBoundingBox"/> must not have any scaling applied to it.
	*Anyway,scaling using Scale method will keep this method accurate.
	*该包围盒是否包含空间中另一OBB包围盒
	*@param obb OBB包围盒
	*@return 返回位置关系
	*/
	__proto.containsOrientedBoundBox=function(obb){
		var i=0,k=0;
		obb.getCorners(OrientedBoundBox._corners);
		var cornersCheck=this.containsPoints(OrientedBoundBox._corners);
		if (cornersCheck !=0)
			return cornersCheck;
		var sizeAe=this.extents.elements;
		obb.extents.cloneTo(OrientedBoundBox._tempV35);
		var sizeBe=OrientedBoundBox._tempV35.elements;
		OrientedBoundBox._getRows(this.transformation,OrientedBoundBox._rows1);
		OrientedBoundBox._getRows(obb.transformation,OrientedBoundBox._rows2);
		var extentA=NaN,extentB=NaN,separation=NaN,dotNumber=NaN;
		for (i=0;i < 4;i++){
			for (k=0;k < 4;k++){
				if (i==3 || k==3){
					OrientedBoundBox._tempM0.setElementByRowColumn(i,k,0);
					OrientedBoundBox._tempM1.setElementByRowColumn(i,k,0);
					}else {
					dotNumber=Vector3.dot(OrientedBoundBox._rows1[i],OrientedBoundBox._rows2[k]);
					OrientedBoundBox._tempM0.setElementByRowColumn(i,k,dotNumber);
					OrientedBoundBox._tempM1.setElementByRowColumn(i,k,Math.abs(dotNumber));
				}
			}
		}
		obb.getCenter(OrientedBoundBox._tempV34);
		this.getCenter(OrientedBoundBox._tempV36);
		Vector3.subtract(OrientedBoundBox._tempV34,OrientedBoundBox._tempV36,OrientedBoundBox._tempV30);
		var vsepAe=OrientedBoundBox._tempV31.elements;
		vsepAe[0]=Vector3.dot(OrientedBoundBox._tempV30,OrientedBoundBox._rows1[0]);
		vsepAe[1]=Vector3.dot(OrientedBoundBox._tempV30,OrientedBoundBox._rows1[1]);
		vsepAe[2]=Vector3.dot(OrientedBoundBox._tempV30,OrientedBoundBox._rows1[2]);
		var _tempV32e=OrientedBoundBox._tempV32.elements;
		var _tempV33e=OrientedBoundBox._tempV33.elements;
		for (i=0;i < 3;i++){
			_tempV32e[0]=OrientedBoundBox._tempM1.getElementByRowColumn(i,0);
			_tempV32e[1]=OrientedBoundBox._tempM1.getElementByRowColumn(i,1);
			_tempV32e[2]=OrientedBoundBox._tempM1.getElementByRowColumn(i,2);
			extentA=sizeAe[i];
			extentB=Vector3.dot(OrientedBoundBox._tempV35,OrientedBoundBox._tempV32);
			separation=Math.abs(vsepAe[i]);
			if (separation > extentA+extentB)
				return 0;
		}
		for (k=0;k < 3;k++){
			_tempV32e[0]=OrientedBoundBox._tempM1.getElementByRowColumn(0,k);
			_tempV32e[1]=OrientedBoundBox._tempM1.getElementByRowColumn(1,k);
			_tempV32e[2]=OrientedBoundBox._tempM1.getElementByRowColumn(2,k);
			_tempV33e[0]=OrientedBoundBox._tempM0.getElementByRowColumn(0,k);
			_tempV33e[1]=OrientedBoundBox._tempM0.getElementByRowColumn(1,k);
			_tempV33e[2]=OrientedBoundBox._tempM0.getElementByRowColumn(2,k);
			extentA=Vector3.dot(this.extents,OrientedBoundBox._tempV32);
			extentB=sizeBe[k];
			separation=Math.abs(Vector3.dot(OrientedBoundBox._tempV31,OrientedBoundBox._tempV33));
			if (separation > extentA+extentB)
				return 0;
		}
		for (i=0;i < 3;i++){
			for (k=0;k < 3;k++){
				var i1=(i+1)% 3,i2=(i+2)% 3;
				var k1=(k+1)% 3,k2=(k+2)% 3;
				extentA=sizeAe[i1] *OrientedBoundBox._tempM1.getElementByRowColumn(i2,k)+sizeAe[i2] *OrientedBoundBox._tempM1.getElementByRowColumn(i1,k);
				extentB=sizeBe[k1] *OrientedBoundBox._tempM1.getElementByRowColumn(i,k2)+sizeBe[k2] *OrientedBoundBox._tempM1.getElementByRowColumn(i,k1);
				separation=Math.abs(vsepAe[i2] *OrientedBoundBox._tempM0.getElementByRowColumn(i1,k)-vsepAe[i1] *OrientedBoundBox._tempM0.getElementByRowColumn(i2,k));
				if (separation > extentA+extentB)
					return 0;
			}
		}
		return 2;
	}

	/**
	*该包围盒是否包含空间中一条线
	*@param point1 点1
	*@param point2 点2
	*@return 返回位置关系
	*/
	__proto.containsLine=function(point1,point2){
		OrientedBoundBox._corners[0]=point1;
		OrientedBoundBox._corners[1]=point2;
		var cornersCheck=this.containsPoints(OrientedBoundBox._corners);
		if (cornersCheck !=0)
			return cornersCheck;
		var extentsE=this.extents.elements;
		var extentsX=extentsE[0];
		var extentsY=extentsE[1];
		var extentsZ=extentsE[2];
		this.transformation.invert(OrientedBoundBox._tempM0);
		Vector3.transformCoordinate(point1,OrientedBoundBox._tempM0,OrientedBoundBox._tempV30);
		Vector3.transformCoordinate(point2,OrientedBoundBox._tempM0,OrientedBoundBox._tempV31);
		Vector3.add(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV32);
		Vector3.scale(OrientedBoundBox._tempV32,0.5,OrientedBoundBox._tempV32);
		Vector3.subtract(OrientedBoundBox._tempV30,OrientedBoundBox._tempV32,OrientedBoundBox._tempV33);
		var _tempV33e=OrientedBoundBox._tempV33.elements;
		var _tempV33X=_tempV33e[0];
		var _tempV33Y=_tempV33e[1];
		var _tempV33Z=_tempV33e[2];
		var _tempV34e=OrientedBoundBox._tempV34.elements;
		var _tempV34X=_tempV34e[0]=Math.abs(_tempV33e[0]);
		var _tempV34Y=_tempV34e[1]=Math.abs(_tempV33e[1]);
		var _tempV34Z=_tempV34e[2]=Math.abs(_tempV33e[2]);
		var _tempV32e=OrientedBoundBox._tempV32.elements;
		var _tempV32X=_tempV32e[0];
		var _tempV32Y=_tempV32e[1];
		var _tempV32Z=_tempV32e[2];
		if (Math.abs(_tempV32X)> extentsX+_tempV34X)
			return 0;
		if (Math.abs(_tempV32Y)> extentsY+_tempV34Y)
			return 0;
		if (Math.abs(_tempV32Z)> extentsZ+_tempV34Z)
			return 0;
		if (Math.abs(_tempV32Y *_tempV33Z-_tempV32Z *_tempV33Y)> (extentsY *_tempV34Z+extentsZ *_tempV34Y))
			return 0;
		if (Math.abs(_tempV32X *_tempV33Z-_tempV32Z *_tempV33X)> (extentsX *_tempV34Z+extentsZ *_tempV34X))
			return 0;
		if (Math.abs(_tempV32X *_tempV33Y-_tempV32Y *_tempV33X)> (extentsX *_tempV34Y+extentsY *_tempV34X))
			return 0;
		return 2;
	}

	/**
	*该包围盒是否包含空间中另一OBB包围盒
	*@param box 包围盒
	*@return 返回位置关系
	*/
	__proto.containsBoundBox=function(box){
		var i=0,k=0;
		var min=box.min;
		var max=box.max;
		box.getCorners(OrientedBoundBox._corners);
		var cornersCheck=this.containsPoints(OrientedBoundBox._corners);
		if (cornersCheck !=0)
			return cornersCheck;
		Vector3.subtract(max,min,OrientedBoundBox._tempV30);
		Vector3.scale(OrientedBoundBox._tempV30,0.5,OrientedBoundBox._tempV30);
		Vector3.add(min,OrientedBoundBox._tempV30,OrientedBoundBox._tempV30);
		Vector3.subtract(max,OrientedBoundBox._tempV30,OrientedBoundBox._tempV31);
		var sizeAe=this.extents.elements;
		var sizeBe=OrientedBoundBox._tempV31.elements;
		OrientedBoundBox._getRows(this.transformation,OrientedBoundBox._rows1);
		this.transformation.invert(OrientedBoundBox._tempM0);
		var extentA=NaN,extentB=NaN,separation=NaN,dotNumber=NaN;
		for (i=0;i < 3;i++){
			for (k=0;k < 3;k++){
				OrientedBoundBox._tempM1.setElementByRowColumn(i,k,Math.abs(OrientedBoundBox._tempM0.getElementByRowColumn(i,k)));
			}
		}
		this.getCenter(OrientedBoundBox._tempV35);
		Vector3.subtract(OrientedBoundBox._tempV30,OrientedBoundBox._tempV35,OrientedBoundBox._tempV32);
		var vsepAe=OrientedBoundBox._tempV31.elements;
		vsepAe[0]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[0]);
		vsepAe[1]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[1]);
		vsepAe[2]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[2]);
		var _tempV33e=OrientedBoundBox._tempV33.elements;
		var _tempV34e=OrientedBoundBox._tempV34.elements;
		for (i=0;i < 3;i++){
			_tempV33e[0]=OrientedBoundBox._tempM1.getElementByRowColumn(i,0);
			_tempV33e[1]=OrientedBoundBox._tempM1.getElementByRowColumn(i,1);
			_tempV33e[2]=OrientedBoundBox._tempM1.getElementByRowColumn(i,2);
			extentA=sizeAe[i];
			extentB=Vector3.dot(OrientedBoundBox._tempV31,OrientedBoundBox._tempV33);
			separation=Math.abs(vsepAe[i]);
			if (separation > extentA+extentB)
				return 0;
		}
		for (k=0;k < 3;k++){
			_tempV33e[0]=OrientedBoundBox._tempM1.getElementByRowColumn(0,k);
			_tempV33e[1]=OrientedBoundBox._tempM1.getElementByRowColumn(1,k);
			_tempV33e[2]=OrientedBoundBox._tempM1.getElementByRowColumn(2,k);
			_tempV34e[0]=OrientedBoundBox._tempM0.getElementByRowColumn(0,k);
			_tempV34e[1]=OrientedBoundBox._tempM0.getElementByRowColumn(1,k);
			_tempV34e[2]=OrientedBoundBox._tempM0.getElementByRowColumn(2,k);
			extentA=Vector3.dot(this.extents,OrientedBoundBox._tempV33);
			extentB=sizeBe[k];
			separation=Math.abs(Vector3.dot(OrientedBoundBox._tempV31,OrientedBoundBox._tempV34));
			if (separation > extentA+extentB)
				return 0;
		}
		for (i=0;i < 3;i++){
			for (k=0;k < 3;k++){
				var i1=(i+1)% 3,i2=(i+2)% 3;
				var k1=(k+1)% 3,k2=(k+2)% 3;
				extentA=sizeAe[i1] *OrientedBoundBox._tempM1.getElementByRowColumn(i2,k)+sizeAe[i2] *OrientedBoundBox._tempM1.getElementByRowColumn(i1,k);
				extentB=sizeBe[k1] *OrientedBoundBox._tempM1.getElementByRowColumn(i,k2)+sizeBe[k2] *OrientedBoundBox._tempM1.getElementByRowColumn(i,k1);
				separation=Math.abs(vsepAe[i2] *OrientedBoundBox._tempM0.getElementByRowColumn(i1,k)-vsepAe[i1] *OrientedBoundBox._tempM0.getElementByRowColumn(i2,k));
				if (separation > extentA+extentB)
					return 0;
			}
		}
		return 2;
	}

	/**
	*该包围盒是否与空间中另一射线相交
	*@param ray
	*@param out
	*@return
	*/
	__proto.intersectsRay=function(ray,out){
		Vector3.scale(this.extents,-1,OrientedBoundBox._tempV30);
		this.transformation.invert(OrientedBoundBox._tempM0);
		Vector3.TransformNormal(ray.direction,OrientedBoundBox._tempM0,OrientedBoundBox._ray.direction);
		Vector3.transformCoordinate(ray.origin,OrientedBoundBox._tempM0,OrientedBoundBox._ray.origin);
		OrientedBoundBox._boxBound1.min=OrientedBoundBox._tempV30;
		OrientedBoundBox._boxBound1.max=this.extents;
		var intersects=Collision.intersectsRayAndBoxRP(OrientedBoundBox._ray,OrientedBoundBox._boxBound1,out);
		if (intersects!==-1)
			Vector3.transformCoordinate(out,this.transformation,out);
		return intersects;
	}

	__proto._getLocalCorners=function(corners){
		corners.length=8;
		var extentsE=this.extents.elements;
		OrientedBoundBox._tempV30.x=extentsE[0];
		OrientedBoundBox._tempV31.y=extentsE[1];
		OrientedBoundBox._tempV32.z=extentsE[2];
		Vector3.add(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV33);
		Vector3.add(OrientedBoundBox._tempV33,OrientedBoundBox._tempV32,corners[0]);
		Vector3.add(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV33);
		Vector3.subtract(OrientedBoundBox._tempV33,OrientedBoundBox._tempV32,corners[1]);
		Vector3.subtract(OrientedBoundBox._tempV31,OrientedBoundBox._tempV30,OrientedBoundBox._tempV33);
		Vector3.subtract(OrientedBoundBox._tempV33,OrientedBoundBox._tempV30,corners[2]);
		Vector3.subtract(OrientedBoundBox._tempV31,OrientedBoundBox._tempV30,OrientedBoundBox._tempV33);
		Vector3.add(OrientedBoundBox._tempV33,OrientedBoundBox._tempV32,corners[3]);
		Vector3.subtract(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV33);
		Vector3.add(OrientedBoundBox._tempV33,OrientedBoundBox._tempV32,corners[4]);
		Vector3.subtract(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV33);
		Vector3.subtract(OrientedBoundBox._tempV33,OrientedBoundBox._tempV32,corners[5]);
		Vector3.scale(corners[0],-1,corners[6]);
		Vector3.subtract(OrientedBoundBox._tempV32,OrientedBoundBox._tempV30,OrientedBoundBox._tempV33);
		Vector3.subtract(OrientedBoundBox._tempV33,OrientedBoundBox._tempV31,corners[7]);
	}

	/**
	*判断两个包围盒是否相等
	*@param obb obb包围盒
	*@return Boolean
	*/
	__proto.equals=function(obb){
		return this.extents==obb.extents && this.transformation==obb.transformation;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var dest=destObject;
		this.extents.cloneTo(dest.extents);
		this.transformation.cloneTo(dest.transformation);
	}

	OrientedBoundBox.createByBoundBox=function(box,out){
		var min=box.min;
		var max=box.max;
		Vector3.subtract(max,min,OrientedBoundBox._tempV30);
		Vector3.scale(OrientedBoundBox._tempV30,0.5,OrientedBoundBox._tempV30);
		Vector3.add(min,OrientedBoundBox._tempV30,OrientedBoundBox._tempV31);
		Vector3.subtract(max,OrientedBoundBox._tempV31,OrientedBoundBox._tempV32);
		Matrix4x4.translation(OrientedBoundBox._tempV31,OrientedBoundBox._tempM0);
		var extents=OrientedBoundBox._tempV32.clone();
		var transformation=OrientedBoundBox._tempM0.clone();
		out.extents=extents;
		out.transformation=transformation;
	}

	OrientedBoundBox.createByMinAndMaxVertex=function(min,max){
		Vector3.subtract(max,min,OrientedBoundBox._tempV30);
		Vector3.scale(OrientedBoundBox._tempV30,0.5,OrientedBoundBox._tempV30);
		Vector3.add(min,OrientedBoundBox._tempV30,OrientedBoundBox._tempV31);
		Vector3.subtract(max,OrientedBoundBox._tempV31,OrientedBoundBox._tempV32);
		Matrix4x4.translation(OrientedBoundBox._tempV31,OrientedBoundBox._tempM0);
		var obb=new OrientedBoundBox(OrientedBoundBox._tempV32,OrientedBoundBox._tempM0);
		return obb;
	}

	OrientedBoundBox._getRows=function(mat,out){
		out.length=3;
		var mate=mat.elements;
		var row0e=out[0].elements;
		row0e[0]=mate[0];
		row0e[1]=mate[1];
		row0e[2]=mate[2];
		var row1e=out[1].elements;
		row1e[0]=mate[4];
		row1e[1]=mate[5];
		row1e[2]=mate[6];
		var row2e=out[2].elements;
		row2e[0]=mate[8];
		row2e[1]=mate[9];
		row2e[2]=mate[10];
	}

	OrientedBoundBox.getObbtoObbMatrix4x4=function(a,b,noMatrixScaleApplied,out){
		var at=a.transformation;
		var bt=b.transformation;
		if (noMatrixScaleApplied){
			OrientedBoundBox._getRows(at,OrientedBoundBox._rows1);
			OrientedBoundBox._getRows(bt,OrientedBoundBox._rows2);
			for (var i=0;i < 3;i++){
				for (var k=0;k < 3;k++){
					out.setElementByRowColumn(i,k,Vector3.dot(OrientedBoundBox._rows2[i],OrientedBoundBox._rows1[k]));
				}
			}
			b.getCenter(OrientedBoundBox._tempV30);
			a.getCenter(OrientedBoundBox._tempV31);
			Vector3.subtract(OrientedBoundBox._tempV30,OrientedBoundBox._tempV31,OrientedBoundBox._tempV32);
			var AtoBMe=out.elements;
			AtoBMe[12]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[0]);
			AtoBMe[13]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[1]);
			AtoBMe[14]=Vector3.dot(OrientedBoundBox._tempV32,OrientedBoundBox._rows1[2]);
			AtoBMe[15]=1;
			}else {
			at.invert(OrientedBoundBox._tempM0);
			Matrix4x4.multiply(bt,OrientedBoundBox._tempM0,out);
		}
	}

	OrientedBoundBox.merge=function(a,b,noMatrixScaleApplied){
		var ae=a.extents;
		var at=a.transformation;
		OrientedBoundBox.getObbtoObbMatrix4x4(a,b,noMatrixScaleApplied,OrientedBoundBox._tempM0);
		b._getLocalCorners(OrientedBoundBox._corners);
		Vector3.transformCoordinate(OrientedBoundBox._corners[0],OrientedBoundBox._tempM0,OrientedBoundBox._corners[0]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[1],OrientedBoundBox._tempM0,OrientedBoundBox._corners[1]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[2],OrientedBoundBox._tempM0,OrientedBoundBox._corners[2]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[3],OrientedBoundBox._tempM0,OrientedBoundBox._corners[3]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[4],OrientedBoundBox._tempM0,OrientedBoundBox._corners[4]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[5],OrientedBoundBox._tempM0,OrientedBoundBox._corners[5]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[6],OrientedBoundBox._tempM0,OrientedBoundBox._corners[6]);
		Vector3.transformCoordinate(OrientedBoundBox._corners[7],OrientedBoundBox._tempM0,OrientedBoundBox._corners[7]);
		Vector3.scale(ae,-1,OrientedBoundBox._boxBound1.min);
		ae.cloneTo(OrientedBoundBox._boxBound1.max);
		BoundBox.createfromPoints(OrientedBoundBox._corners,OrientedBoundBox._boxBound2);
		BoundBox.merge(OrientedBoundBox._boxBound2,OrientedBoundBox._boxBound1,OrientedBoundBox._boxBound3);
		var box3Min=OrientedBoundBox._boxBound3.min;
		var box3Max=OrientedBoundBox._boxBound3.max;
		Vector3.subtract(box3Max,box3Min,OrientedBoundBox._tempV30);
		Vector3.scale(OrientedBoundBox._tempV30,0.5,OrientedBoundBox._tempV30);
		Vector3.add(box3Min,OrientedBoundBox._tempV30,OrientedBoundBox._tempV32);
		Vector3.subtract(box3Max,OrientedBoundBox._tempV32,ae);
		Vector3.transformCoordinate(OrientedBoundBox._tempV32,at,OrientedBoundBox._tempV33);
	}

	__static(OrientedBoundBox,
	['_tempV30',function(){return this._tempV30=new Vector3();},'_tempV31',function(){return this._tempV31=new Vector3();},'_tempV32',function(){return this._tempV32=new Vector3();},'_tempV33',function(){return this._tempV33=new Vector3();},'_tempV34',function(){return this._tempV34=new Vector3();},'_tempV35',function(){return this._tempV35=new Vector3();},'_tempV36',function(){return this._tempV36=new Vector3();},'_tempM0',function(){return this._tempM0=new Matrix4x4();},'_tempM1',function(){return this._tempM1=new Matrix4x4();},'_corners',function(){return this._corners=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];},'_rows1',function(){return this._rows1=[new Vector3(),new Vector3(),new Vector3()];},'_rows2',function(){return this._rows2=[new Vector3(),new Vector3(),new Vector3()];},'_ray',function(){return this._ray=new Ray(new Vector3(),new Vector3());},'_boxBound1',function(){return this._boxBound1=new BoundBox(new Vector3(),new Vector3());},'_boxBound2',function(){return this._boxBound2=new BoundBox(new Vector3(),new Vector3());},'_boxBound3',function(){return this._boxBound3=new BoundBox(new Vector3(),new Vector3());}
	]);
	return OrientedBoundBox;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Plane.as=======199.999492/199.999492
/**
*<code>Plane</code> 类用于创建平面。
*/
//class laya.d3.math.Plane
var Plane=(function(){
	function Plane(normal,d){
		/**平面的向量*/
		this.normal=null;
		/**平面到坐标系原点的距离*/
		this.distance=NaN;
		(d===void 0)&& (d=0);
		this.normal=normal;
		this.distance=d;
	}

	__class(Plane,'laya.d3.math.Plane');
	var __proto=Plane.prototype;
	/**
	*更改平面法线向量的系数，使之成单位长度。
	*/
	__proto.normalize=function(){
		var normalE=this.normal.elements;
		var normalEX=normalE[0];
		var normalEY=normalE[1];
		var normalEZ=normalE[2];
		var magnitude=1 / Math.sqrt(normalEX *normalEX+normalEY *normalEY+normalEZ *normalEZ);
		normalE[0]=normalEX *magnitude;
		normalE[1]=normalEY *magnitude;
		normalE[2]=normalEZ *magnitude;
		this.distance *=magnitude;
	}

	Plane.createPlaneBy3P=function(point1,point2,point3){
		var point1e=point1.elements;
		var point2e=point2.elements;
		var point3e=point3.elements;
		var x1=point2e[0]-point1e[0];
		var y1=point2e[1]-point1e[1];
		var z1=point2e[2]-point1e[2];
		var x2=point3e[0]-point1e[0];
		var y2=point3e[1]-point1e[1];
		var z2=point3e[2]-point1e[2];
		var yz=(y1 *z2)-(z1 *y2);
		var xz=(z1 *x2)-(x1 *z2);
		var xy=(x1 *y2)-(y1 *x2);
		var invPyth=1 / (Math.sqrt((yz *yz)+(xz *xz)+(xy *xy)));
		var x=yz *invPyth;
		var y=xz *invPyth;
		var z=xy *invPyth;
		var TEMPVec3e=Plane._TEMPVec3.elements;
		TEMPVec3e[0]=x;
		TEMPVec3e[1]=y;
		TEMPVec3e[2]=z;
		var d=-((x *point1e[0])+(y *point1e[1])+(z *point1e[2]));
		var plane=new Plane(Plane._TEMPVec3,d);
		return plane;
	}

	Plane.PlaneIntersectionType_Back=0;
	Plane.PlaneIntersectionType_Front=1;
	Plane.PlaneIntersectionType_Intersecting=2;
	__static(Plane,
	['_TEMPVec3',function(){return this._TEMPVec3=new Vector3();}
	]);
	return Plane;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Quaternion.as=======199.999491/199.999491
/**
*<code>Quaternion</code> 类用于创建四元数。
*/
//class laya.d3.math.Quaternion
var Quaternion=(function(){
	function Quaternion(x,y,z,w){
		this.elements=new Float32Array(4);
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(z===void 0)&& (z=0);
		(w===void 0)&& (w=1);
		this.elements[0]=x;
		this.elements[1]=y;
		this.elements[2]=z;
		this.elements[3]=w;
	}

	__class(Quaternion,'laya.d3.math.Quaternion');
	var __proto=Quaternion.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*根据缩放值缩放四元数
	*@param scale 缩放值
	*@param out 输出四元数
	*/
	__proto.scaling=function(scaling,out){
		var e=out.elements;
		var f=this.elements;
		e[0]=f[0] *scaling;
		e[1]=f[1] *scaling;
		e[2]=f[2] *scaling;
		e[3]=f[3] *scaling;
	}

	/**
	*归一化四元数
	*@param out 输出四元数
	*/
	__proto.normalize=function(out){
		var e=out.elements;
		var f=this.elements;
		var x=f[0],y=f[1],z=f[2],w=f[3];
		var len=x *x+y *y+z *z+w *w;
		if (len > 0){
			len=1 / Math.sqrt(len);
			e[0]=x *len;
			e[1]=y *len;
			e[2]=z *len;
			e[3]=w *len;
		}
	}

	/**
	*计算四元数的长度
	*@return 长度
	*/
	__proto.length=function(){
		var f=this.elements;
		var x=f[0],y=f[1],z=f[2],w=f[3];
		return Math.sqrt(x *x+y *y+z *z+w *w);
	}

	/**
	*根据绕X轴的角度旋转四元数
	*@param rad 角度
	*@param out 输出四元数
	*/
	__proto.rotateX=function(rad,out){
		var e=out.elements;
		var f=this.elements;
		rad *=0.5;
		var ax=f[0],ay=f[1],az=f[2],aw=f[3];
		var bx=Math.sin(rad),bw=Math.cos(rad);
		e[0]=ax *bw+aw *bx;
		e[1]=ay *bw+az *bx;
		e[2]=az *bw-ay *bx;
		e[3]=aw *bw-ax *bx;
	}

	/**
	*根据绕Y轴的制定角度旋转四元数
	*@param rad 角度
	*@param out 输出四元数
	*/
	__proto.rotateY=function(rad,out){
		var e=out.elements;
		var f=this.elements;
		rad *=0.5;
		var ax=f[0],ay=f[1],az=f[2],aw=f[3],by=Math.sin(rad),bw=Math.cos(rad);
		e[0]=ax *bw-az *by;
		e[1]=ay *bw+aw *by;
		e[2]=az *bw+ax *by;
		e[3]=aw *bw-ay *by;
	}

	/**
	*根据绕Z轴的制定角度旋转四元数
	*@param rad 角度
	*@param out 输出四元数
	*/
	__proto.rotateZ=function(rad,out){
		var e=out.elements;
		var f=this.elements;
		rad *=0.5;
		var ax=f[0],ay=f[1],az=f[2],aw=f[3],bz=Math.sin(rad),bw=Math.cos(rad);
		e[0]=ax *bw+ay *bz;
		e[1]=ay *bw-ax *bz;
		e[2]=az *bw+aw *bz;
		e[3]=aw *bw-az *bz;
	}

	/**
	*分解四元数到欧拉角（顺序为Yaw、Pitch、Roll），参考自http://xboxforums.create.msdn.com/forums/p/4574/23988.aspx#23988,问题绕X轴翻转超过±90度时有，会产生瞬间反转
	*@param quaternion 源四元数
	*@param out 欧拉角值
	*/
	__proto.getYawPitchRoll=function(out){
		Vector3.transformQuat(Vector3.ForwardRH,this,Quaternion.TEMPVector31);
		Vector3.transformQuat(Vector3.Up,this,Quaternion.TEMPVector32);
		var upe=Quaternion.TEMPVector32.elements;
		Quaternion.angleTo(Vector3.ZERO,Quaternion.TEMPVector31,Quaternion.TEMPVector33);
		var anglee=Quaternion.TEMPVector33.elements;
		if (anglee[0]==Math.PI / 2){
			anglee[1]=Quaternion.arcTanAngle(upe[2],upe[0]);
			anglee[2]=0;
			}else if (anglee[0]==-Math.PI / 2){
			anglee[1]=Quaternion.arcTanAngle(-upe[2],-upe[0]);
			anglee[2]=0;
			}else {
			Matrix4x4.createRotationY(-anglee[1],Quaternion.TEMPMatrix0);
			Matrix4x4.createRotationX(-anglee[0],Quaternion.TEMPMatrix1);
			Vector3.transformCoordinate(Quaternion.TEMPVector32,Quaternion.TEMPMatrix0,Quaternion.TEMPVector32);
			Vector3.transformCoordinate(Quaternion.TEMPVector32,Quaternion.TEMPMatrix1,Quaternion.TEMPVector32);
			anglee[2]=Quaternion.arcTanAngle(upe[1],-upe[0]);
		}
		if (anglee[1] <=-Math.PI)
			anglee[1]=Math.PI;
		if (anglee[2] <=-Math.PI)
			anglee[2]=Math.PI;
		if (anglee[1] >=Math.PI && anglee[2] >=Math.PI){
			anglee[1]=0;
			anglee[2]=0;
			anglee[0]=Math.PI-anglee[0];
		};
		var oe=out.elements;
		oe[0]=anglee[1];
		oe[1]=anglee[0];
		oe[2]=anglee[2];
	}

	/**
	*求四元数的逆
	*@param out 输出四元数
	*/
	__proto.invert=function(out){
		var e=out.elements;
		var f=this.elements;
		var a0=f[0],a1=f[1],a2=f[2],a3=f[3];
		var dot=a0 *a0+a1 *a1+a2 *a2+a3 *a3;
		var invDot=dot ? 1.0 / dot :0;
		e[0]=-a0 *invDot;
		e[1]=-a1 *invDot;
		e[2]=-a2 *invDot;
		e[3]=a3 *invDot;
	}

	/**
	*设置四元数为单位算数
	*@param out 输出四元数
	*/
	__proto.identity=function(){
		var e=this.elements;
		e[0]=0;
		e[1]=0;
		e[2]=0;
		e[3]=1;
	}

	/**
	*从Array数组拷贝值。
	*@param array 数组。
	*@param offset 数组偏移。
	*/
	__proto.fromArray=function(array,offset){
		(offset===void 0)&& (offset=0);
		this.elements[0]=array[offset+0];
		this.elements[1]=array[offset+1];
		this.elements[2]=array[offset+2];
		this.elements[3]=array[offset+3];
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var i,s,d;
		s=this.elements;
		d=destObject.elements;
		if (s===d){
			return;
		}
		for (i=0;i < 4;++i){
			d[i]=s[i];
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	__proto.equals=function(b){
		var ae=this.elements;
		var be=b.elements;
		return MathUtils3D.nearEqual(ae[0],be[0])&& MathUtils3D.nearEqual(ae[1],be[1])&& MathUtils3D.nearEqual(ae[2],be[2])&& MathUtils3D.nearEqual(ae[3],be[3]);
	}

	/**
	*计算长度的平方。
	*@return 长度的平方。
	*/
	__proto.lengthSquared=function(){
		var x=this.elements[0];
		var y=this.elements[1];
		var z=this.elements[2];
		var w=this.elements[3];
		return (x *x)+(y *y)+(z *z)+(w *w);
	}

	/**
	*获取四元数的x值
	*/
	__getset(0,__proto,'x',function(){
		return this.elements[0];
	});

	/**
	*获取四元数的y值
	*/
	__getset(0,__proto,'y',function(){
		return this.elements[1];
	});

	/**
	*获取四元数的z值
	*/
	__getset(0,__proto,'z',function(){
		return this.elements[2];
	});

	/**
	*获取四元数的w值
	*/
	__getset(0,__proto,'w',function(){
		return this.elements[3];
	});

	Quaternion.createFromYawPitchRoll=function(yaw,pitch,roll,out){
		var halfRoll=roll *0.5;
		var halfPitch=pitch *0.5;
		var halfYaw=yaw *0.5;
		var sinRoll=Math.sin(halfRoll);
		var cosRoll=Math.cos(halfRoll);
		var sinPitch=Math.sin(halfPitch);
		var cosPitch=Math.cos(halfPitch);
		var sinYaw=Math.sin(halfYaw);
		var cosYaw=Math.cos(halfYaw);
		var oe=out.elements;
		oe[0]=(cosYaw *sinPitch *cosRoll)+(sinYaw *cosPitch *sinRoll);
		oe[1]=(sinYaw *cosPitch *cosRoll)-(cosYaw *sinPitch *sinRoll);
		oe[2]=(cosYaw *cosPitch *sinRoll)-(sinYaw *sinPitch *cosRoll);
		oe[3]=(cosYaw *cosPitch *cosRoll)+(sinYaw *sinPitch *sinRoll);
	}

	Quaternion.multiply=function(left,right,out){
		var le=left.elements;
		var re=right.elements;
		var oe=out.elements;
		var lx=le[0];
		var ly=le[1];
		var lz=le[2];
		var lw=le[3];
		var rx=re[0];
		var ry=re[1];
		var rz=re[2];
		var rw=re[3];
		var a=(ly *rz-lz *ry);
		var b=(lz *rx-lx *rz);
		var c=(lx *ry-ly *rx);
		var d=(lx *rx+ly *ry+lz *rz);
		oe[0]=(lx *rw+rx *lw)+a;
		oe[1]=(ly *rw+ry *lw)+b;
		oe[2]=(lz *rw+rz *lw)+c;
		oe[3]=lw *rw-d;
	}

	Quaternion.arcTanAngle=function(x,y){
		if (x==0){
			if (y==1)
				return Math.PI / 2;
			return-Math.PI / 2;
		}
		if (x > 0)
			return Math.atan(y / x);
		if (x < 0){
			if (y > 0)
				return Math.atan(y / x)+Math.PI;
			return Math.atan(y / x)-Math.PI;
		}
		return 0;
	}

	Quaternion.angleTo=function(from,location,angle){
		Vector3.subtract(location,from,Quaternion.TEMPVector30);
		Vector3.normalize(Quaternion.TEMPVector30,Quaternion.TEMPVector30);
		angle.elements[0]=Math.asin(Quaternion.TEMPVector30.y);
		angle.elements[1]=Quaternion.arcTanAngle(-Quaternion.TEMPVector30.z,-Quaternion.TEMPVector30.x);
	}

	Quaternion.createFromAxisAngle=function(axis,rad,out){
		var e=out.elements;
		var f=axis.elements;
		rad=rad *0.5;
		var s=Math.sin(rad);
		e[0]=s *f[0];
		e[1]=s *f[1];
		e[2]=s *f[2];
		e[3]=Math.cos(rad);
	}

	Quaternion.createFromMatrix3x3=function(sou,out){
		var e=out.elements;
		var f=sou.elements;
		var fTrace=f[0]+f[4]+f[8];
		var fRoot;
		if (fTrace > 0.0){
			fRoot=Math.sqrt(fTrace+1.0);
			e[3]=0.5 *fRoot;
			fRoot=0.5 / fRoot;
			e[0]=(f[5]-f[7])*fRoot;
			e[1]=(f[6]-f[2])*fRoot;
			e[2]=(f[1]-f[3])*fRoot;
			}else {
			var i=0;
			if (f[4] > f[0])
				i=1;
			if (f[8] > f[i *3+i])
				i=2;
			var j=(i+1)% 3;
			var k=(i+2)% 3;
			fRoot=Math.sqrt(f[i *3+i]-f[j *3+j]-f[k *3+k]+1.0);
			e[i]=0.5 *fRoot;
			fRoot=0.5 / fRoot;
			e[3]=(f[j *3+k]-f[k *3+j])*fRoot;
			e[j]=(f[j *3+i]+f[i *3+j])*fRoot;
			e[k]=(f[k *3+i]+f[i *3+k])*fRoot;
		}
		return;
	}

	Quaternion.createFromMatrix4x4=function(mat,out){
		var me=mat.elements;
		var oe=out.elements;
		var sqrt;
		var half;
		var scale=me[0]+me[5]+me[10];
		if (scale > 0.0){
			sqrt=Math.sqrt(scale+1.0);
			oe[3]=sqrt *0.5;
			sqrt=0.5 / sqrt;
			oe[0]=(me[6]-me[9])*sqrt;
			oe[1]=(me[8]-me[2])*sqrt;
			oe[2]=(me[1]-me[4])*sqrt;
			}else if ((me[0] >=me[5])&& (me[0] >=me[10])){
			sqrt=Math.sqrt(1.0+me[0]-me[5]-me[10]);
			half=0.5 / sqrt;
			oe[0]=0.5 *sqrt;
			oe[1]=(me[1]+me[4])*half;
			oe[2]=(me[2]+me[8])*half;
			oe[3]=(me[6]-me[9])*half;
			}else if (me[5] > me[10]){
			sqrt=Math.sqrt(1.0+me[5]-me[0]-me[10]);
			half=0.5 / sqrt;
			oe[0]=(me[4]+me[1])*half;
			oe[1]=0.5 *sqrt;
			oe[2]=(me[9]+me[6])*half;
			oe[3]=(me[8]-me[2])*half;
			}else {
			sqrt=Math.sqrt(1.0+me[10]-me[0]-me[5]);
			half=0.5 / sqrt;
			oe[0]=(me[8]+me[2])*half;
			oe[1]=(me[9]+me[6])*half;
			oe[2]=0.5 *sqrt;
			oe[3]=(me[1]-me[4])*half;
		}
	}

	Quaternion.slerp=function(left,right,t,out){
		var a=left.elements;
		var b=right.elements;
		var oe=out.elements;
		var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];
		var omega,cosom,sinom,scale0,scale1;
		cosom=ax *bx+ay *by+az *bz+aw *bw;
		if (cosom < 0.0){
			cosom=-cosom;
			bx=-bx;
			by=-by;
			bz=-bz;
			bw=-bw;
		}
		if ((1.0-cosom)> 0.000001){
			omega=Math.acos(cosom);
			sinom=Math.sin(omega);
			scale0=Math.sin((1.0-t)*omega)/ sinom;
			scale1=Math.sin(t *omega)/ sinom;
			}else {
			scale0=1.0-t;
			scale1=t;
		}
		oe[0]=scale0 *ax+scale1 *bx;
		oe[1]=scale0 *ay+scale1 *by;
		oe[2]=scale0 *az+scale1 *bz;
		oe[3]=scale0 *aw+scale1 *bw;
		return oe;
	}

	Quaternion.lerp=function(left,right,t,out){
		var e=out.elements;
		var f=left.elements;
		var g=right.elements;
		var ax=f[0],ay=f[1],az=f[2],aw=f[3];
		e[0]=ax+t *(g[0]-ax);
		e[1]=ay+t *(g[1]-ay);
		e[2]=az+t *(g[2]-az);
		e[3]=aw+t *(g[3]-aw);
	}

	Quaternion.add=function(left,right,out){
		var e=out.elements;
		var f=left.elements;
		var g=right.elements;
		e[0]=f[0]+g[0];
		e[1]=f[1]+g[1];
		e[2]=f[2]+g[2];
		e[3]=f[3]+g[3];
	}

	Quaternion.dot=function(left,right){
		var f=left.elements;
		var g=right.elements;
		return f[0] *g[0]+f[1] *g[1]+f[2] *g[2]+f[3] *g[3];
	}

	Quaternion.rotationLookAt=function(forward,up,out){
		Quaternion.lookAt(Vector3.ZERO,forward,up,out);
	}

	Quaternion.lookAt=function(eye,target,up,out){
		Matrix3x3.lookAt(eye,target,up,Quaternion._tempMatrix3x3);
		Quaternion.rotationMatrix(Quaternion._tempMatrix3x3,out);
	}

	Quaternion.invert=function(value,out){
		var vE=value.elements;
		var oE=out.elements;
		var lengthSq=value.lengthSquared();
		if (!MathUtils3D.isZero(lengthSq)){
			lengthSq=1.0 / lengthSq;
			oE[0]=-vE[0] *lengthSq;
			oE[1]=-vE[1] *lengthSq;
			oE[2]=-vE[2] *lengthSq;
			oE[3]=vE[3] *lengthSq;
		}
	}

	Quaternion.rotationMatrix=function(matrix3x3,out){
		var me=matrix3x3.elements;
		var m11=me[0];
		var m12=me[1];
		var m13=me[2];
		var m21=me[3];
		var m22=me[4];
		var m23=me[5];
		var m31=me[6];
		var m32=me[7];
		var m33=me[8];
		var oe=out.elements;
		var sqrt=NaN,half=NaN;
		var scale=m11+m22+m33;
		if (scale > 0){
			sqrt=Math.sqrt(scale+1);
			oe[3]=sqrt *0.5;
			sqrt=0.5 / sqrt;
			oe[0]=(m23-m32)*sqrt;
			oe[1]=(m31-m13)*sqrt;
			oe[2]=(m12-m21)*sqrt;
			}else if ((m11 >=m22)&& (m11 >=m33)){
			sqrt=Math.sqrt(1+m11-m22-m33);
			half=0.5 / sqrt;
			oe[0]=0.5 *sqrt;
			oe[1]=(m12+m21)*half;
			oe[2]=(m13+m31)*half;
			oe[3]=(m23-m32)*half;
			}else if (m22 > m33){
			sqrt=Math.sqrt(1+m22-m11-m33);
			half=0.5 / sqrt;
			oe[0]=(m21+m12)*half;
			oe[1]=0.5 *sqrt;
			oe[2]=(m32+m23)*half;
			oe[3]=(m31-m13)*half;
			}else {
			sqrt=Math.sqrt(1+m33-m11-m22);
			half=0.5 / sqrt;
			oe[0]=(m31+m13)*half;
			oe[1]=(m32+m23)*half;
			oe[2]=0.5 *sqrt;
			oe[3]=(m12-m21)*half;
		}
	}

	Quaternion.DEFAULT=new Quaternion();
	__static(Quaternion,
	['TEMPVector30',function(){return this.TEMPVector30=new Vector3();},'TEMPVector31',function(){return this.TEMPVector31=new Vector3();},'TEMPVector32',function(){return this.TEMPVector32=new Vector3();},'TEMPVector33',function(){return this.TEMPVector33=new Vector3();},'TEMPMatrix0',function(){return this.TEMPMatrix0=new Matrix4x4();},'TEMPMatrix1',function(){return this.TEMPMatrix1=new Matrix4x4();},'_tempMatrix3x3',function(){return this._tempMatrix3x3=new Matrix3x3();},'NAN',function(){return this.NAN=new Quaternion(NaN,NaN,NaN,NaN);}
	]);
	return Quaternion;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Rand.as=======199.999490/199.999490
/**
*<code>Rand</code> 类用于通过32位无符号整型随机种子创建随机数。
*/
//class laya.d3.math.Rand
var Rand=(function(){
	function Rand(seed){
		this._temp=new Uint32Array(1);
		this.seeds=new Uint32Array(4);
		this.seeds[0]=seed;
		this.seeds[1]=this.seeds[0] *0x6C078965+1;
		this.seeds[2]=this.seeds[1] *0x6C078965+1;
		this.seeds[3]=this.seeds[2] *0x6C078965+1;
	}

	__class(Rand,'laya.d3.math.Rand');
	var __proto=Rand.prototype;
	/**
	*获取无符号32位整形随机数。
	*@return 无符号32位整形随机数。
	*/
	__proto.getUint=function(){
		this._temp[0]=this.seeds[0] ^ (this.seeds[0] << 11);
		this.seeds[0]=this.seeds[1];
		this.seeds[1]=this.seeds[2];
		this.seeds[2]=this.seeds[3];
		this.seeds[3]=(this.seeds[3] ^ (this.seeds[3] >>> 19))^ (this._temp[0] ^ (this._temp[0] >>> 8));
		return this.seeds[3];
	}

	/**
	*获取0到1之间的浮点随机数。
	*@return 0到1之间的浮点随机数。
	*/
	__proto.getFloat=function(){
		this.getUint();
		return (this.seeds[3] & 0x007FFFFF)*(1.0 / 8388607.0);
	}

	/**
	*获取-1到1之间的浮点随机数。
	*@return-1到1之间的浮点随机数。
	*/
	__proto.getSignedFloat=function(){
		return this.getFloat()*2.0-1.0;
	}

	/**
	*设置随机种子。
	*@param seed 随机种子。
	*/
	/**
	*获取随机种子。
	*@return 随机种子。
	*/
	__getset(0,__proto,'seed',function(){
		return this.seeds[0];
		},function(seed){
		this.seeds[0]=seed;
		this.seeds[1]=this.seeds[0] *0x6C078965+1;
		this.seeds[2]=this.seeds[1] *0x6C078965+1;
		this.seeds[3]=this.seeds[2] *0x6C078965+1;
	});

	Rand.getFloatFromInt=function(v){
		return (v & 0x007FFFFF)*(1.0 / 8388607.0)
	}

	Rand.getByteFromInt=function(v){
		return (v & 0x007FFFFF)>>> 15;
	}

	return Rand;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Ray.as=======199.999488/199.999488
/**
*<code>Ray</code> 类用于创建射线。
*/
//class laya.d3.math.Ray
var Ray=(function(){
	function Ray(origin,direction){
		/**原点*/
		this.origin=null;
		/**方向*/
		this.direction=null;
		this.origin=origin;
		this.direction=direction;
	}

	__class(Ray,'laya.d3.math.Ray');
	return Ray;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Viewport.as=======199.999484/199.999484
/**
*<code>Viewport</code> 类用于创建视口。
*/
//class laya.d3.math.Viewport
var Viewport=(function(){
	function Viewport(x,y,width,height){
		/**X轴坐标*/
		//this.x=NaN;
		/**Y轴坐标*/
		//this.y=NaN;
		/**宽度*/
		//this.width=NaN;
		/**高度*/
		//this.height=NaN;
		/**最小深度*/
		//this.minDepth=NaN;
		/**最大深度*/
		//this.maxDepth=NaN;
		this.minDepth=0.0;
		this.maxDepth=1.0;
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
	}

	__class(Viewport,'laya.d3.math.Viewport');
	var __proto=Viewport.prototype;
	/**
	*变换一个三维向量。
	*@param source 源三维向量。
	*@param matrix 变换矩阵。
	*@param vector 输出三维向量。
	*/
	__proto.project=function(source,matrix,out){
		Vector3.transformV3ToV3(source,matrix,out);
		var sourceEleme=source.elements;
		var matrixEleme=matrix.elements;
		var outEleme=out.elements;
		var a=(((sourceEleme[0] *matrixEleme[3])+(sourceEleme[1] *matrixEleme[7]))+(sourceEleme[2] *matrixEleme[11]))+matrixEleme[15];
		if (a!==1.0){
			outEleme[0]=outEleme[0] / a;
			outEleme[1]=outEleme[1] / a;
			outEleme[2]=outEleme[2] / a;
		}
		outEleme[0]=(((outEleme[0]+1.0)*0.5)*this.width)+this.x;
		outEleme[1]=(((-outEleme[1]+1.0)*0.5)*this.height)+this.y;
		outEleme[2]=(outEleme[2] *(this.maxDepth-this.minDepth))+this.minDepth;
	}

	/**
	*反变换一个三维向量。
	*@param source 源三维向量。
	*@param matrix 变换矩阵。
	*@param vector 输出三维向量。
	*/
	__proto.unprojectFromMat=function(source,matrix,out){
		var sourceEleme=source.elements;
		var matrixEleme=matrix.elements;
		var outEleme=out.elements;
		outEleme[0]=(((sourceEleme[0]-this.x)/ (this.width))*2.0)-1.0;
		outEleme[1]=-((((sourceEleme[1]-this.y)/ (this.height))*2.0)-1.0);
		var halfDepth=(this.maxDepth-this.minDepth)/ 2;
		outEleme[2]=(sourceEleme[2]-this.minDepth-halfDepth)/ halfDepth;
		var a=(((outEleme[0] *matrixEleme[3])+(outEleme[1] *matrixEleme[7]))+(outEleme[2] *matrixEleme[11]))+matrixEleme[15];
		Vector3.transformV3ToV3(out,matrix,out);
		if (a!==1.0){
			outEleme[0]=outEleme[0] / a;
			outEleme[1]=outEleme[1] / a;
			outEleme[2]=outEleme[2] / a;
		}
	}

	/**
	*反变换一个三维向量。
	*@param source 源三维向量。
	*@param projection 透视投影矩阵。
	*@param view 视图矩阵。
	*@param world 世界矩阵,可设置为null。
	*@param out 输出向量。
	*/
	__proto.unprojectFromWVP=function(source,projection,view,world,out){
		Matrix4x4.multiply(projection,view,Viewport._tempMatrix4x4);
		(world)&& (Matrix4x4.multiply(Viewport._tempMatrix4x4,world,Viewport._tempMatrix4x4));
		Viewport._tempMatrix4x4.invert(Viewport._tempMatrix4x4);
		this.unprojectFromMat(source,Viewport._tempMatrix4x4,out);
	}

	__static(Viewport,
	['_tempMatrix4x4',function(){return this._tempMatrix4x4=new Matrix4x4();}
	]);
	return Viewport;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/geometry/Geometry.as=======199.999483/199.999483
/**
*...
*@author
*/
//class laya.d3.physics.geometry.Geometry
var Geometry=(function(){
	function Geometry(shape){
		this._shape=null;
		this._center=null;
		this._shape=shape;
		this._center=new Vector3();
	}

	__class(Geometry,'laya.d3.physics.geometry.Geometry');
	var __proto=Geometry.prototype;
	__proto.calculateDefaultMass=function(){
		return 0;
	}

	__getset(0,__proto,'shape',function(){
		return this._shape;
		},function(value){
		this._shape=value;
	});

	__getset(0,__proto,'center',function(){
		return this._center;
		},function(value){
		this._center=value;
	});

	return Geometry;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/PhysicsData.as=======199.999479/199.999479
/**
*...
*@author
*/
//class laya.d3.physics.PhysicsData
var PhysicsData=(function(){
	function PhysicsData(){
		this._physicsId=0;
		this._mass=NaN;
		this._friction=NaN;
		this._restitution=NaN;
		this._linearFactor=null;
		this._angularFactor=null;
		this._physicsId=PhysicsData._index++;
	}

	__class(PhysicsData,'laya.d3.physics.PhysicsData');
	var __proto=PhysicsData.prototype;
	/**
	*设置质量
	*/
	/**
	*获取质量
	*/
	__getset(0,__proto,'mass',function(){
		return this._mass;
		},function(value){
		this._mass=value;
	});

	/**
	*设置线速度
	*/
	/**
	*获取线速度
	*/
	__getset(0,__proto,'linearFactor',function(){
		return this._linearFactor;
		},function(value){
		this._linearFactor=value;
	});

	/**
	*设置摩擦力
	*/
	/**
	*获取摩擦力
	*/
	__getset(0,__proto,'friction',function(){
		return this._friction;
		},function(value){
		this._friction=value;
	});

	/**
	*设置弹力
	*/
	/**
	*获取弹力
	*/
	__getset(0,__proto,'restitution',function(){
		return this._restitution;
		},function(value){
		this._restitution=value;
	});

	/**
	*设置角速度
	*/
	/**
	*获取角速度
	*/
	__getset(0,__proto,'angularFactor',function(){
		return this._angularFactor;
		},function(value){
		this._angularFactor=value;
	});

	PhysicsData._index=0;
	return PhysicsData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/PhysicsSystem.as=======199.999478/199.999478
/**
*...
*@author
*/
//class laya.d3.physics.PhysicsSystem
var PhysicsSystem=(function(){
	function PhysicsSystem(){
		this._dynamicsWorld=null;
		this._maxSubSteps=NaN;
		this.fixedTimeStep=1 / 60;
		this._last_simulation_time=NaN;
		this._last_simulation_duration=0;
		this._gravity=new Vector3(0,-25,0);
		this._transform=new Ammo.btTransform;
		this._massCenterTransform=new Ammo.btTransform;
		this._ammoGravity=new Ammo.btVector3(0,-25,0);
		this._ammoV3_1=new Ammo.btVector3(0,0,0);
		this._ammoV3_2=new Ammo.btVector3(0,0,0);
		this._ammoQ4=new Ammo.btQuaternion(0,0,0,0);
		this._objects=new Object();
		this._motionStates=new Object();
		this._compoundShapes=new Object();
		this._sprite3Ds=new Object();
		this.init();
	}

	__class(PhysicsSystem,'laya.d3.physics.PhysicsSystem');
	var __proto=PhysicsSystem.prototype;
	__proto.init=function(){
		var collisionConfiguration=new Ammo.btDefaultCollisionConfiguration();
		var dispatcher=new Ammo.btCollisionDispatcher(collisionConfiguration);
		var overlappingPairCache=new Ammo.btDbvtBroadphase();
		var solver=new Ammo.btSequentialImpulseConstraintSolver();
		this._dynamicsWorld=new Ammo.btDiscreteDynamicsWorld(dispatcher,overlappingPairCache,solver,collisionConfiguration);
		this._dynamicsWorld.setGravity(this._ammoGravity);
	}

	__proto.addPhysicsObject=function(compoundShape,physicsData,position,rotation){
		var motionState,rbInfo,body;
		this._ammoV3_1.setValue(0,0,0);
		compoundShape.calculateLocalInertia(physicsData.mass,this._ammoV3_1);
		this._transform.setIdentity();
		this._ammoV3_2.setValue(-position.x,position.y,position.z);
		this._transform.setOrigin(this._ammoV3_2);
		this._ammoQ4.setValue(-rotation.x,rotation.y,rotation.z,-rotation.w);
		this._transform.setRotation(this._ammoQ4);
		this._massCenterTransform.setIdentity();
		this._ammoV3_2.setValue(10,10,10);
		this._massCenterTransform.setOrigin(this._ammoV3_2);
		motionState=new Ammo.btDefaultMotionState(this._transform);
		rbInfo=new Ammo.btRigidBodyConstructionInfo(physicsData.mass,motionState,compoundShape,this._ammoV3_1);
		rbInfo.set_m_friction(physicsData.friction);
		rbInfo.set_m_restitution(physicsData.restitution);
		body=new Ammo.btRigidBody(rbInfo);
		body.id=physicsData._physicsId;
		this._dynamicsWorld.addRigidBody(body);
		this._objects[physicsData._physicsId]=body;
		this._motionStates[physicsData._physicsId]=motionState;
		this._compoundShapes[physicsData._physicsId]=compoundShape;
		Ammo.destroy(rbInfo);
	}

	__proto.removePhysicsObject=function(physicsId){
		Ammo.destroy(_objects[physicsId]);
		Ammo.destroy(_motionStates[physicsId]);
		Ammo.destroy(_compoundShapes[physicsId]);
		delete _objects[physicsId];
		delete _motionStates[physicsId];
		delete _compoundShapes[physicsId];
		delete _sprite3Ds[physicsId];
	}

	__proto.addShape=function(compoundShape,geometry){
		var center=geometry.center;
		var shape=this.createShape(geometry);
		if (shape){
			this._transform.setIdentity();
			this._ammoV3_2.setValue(-center.x,center.y,center.z);
			this._transform.setOrigin(this._ammoV3_2);
			this._ammoQ4.setValue(0,0,0,1);
			this._transform.setRotation(this._ammoQ4);
			compoundShape.addChildShape(this._transform,shape);
		}
	}

	__proto.update=function(_timeStep){
		if (!this._dynamicsWorld)
			return;
		if (!_timeStep){
			if (this._last_simulation_time){
				_timeStep=0;
				while (_timeStep+this._last_simulation_duration <=this.fixedTimeStep){
					_timeStep=(Browser.now()-this._last_simulation_time)/ 1000;
				}
				}else {
				_timeStep=this.fixedTimeStep;
			}
		}
		this._maxSubSteps=this._maxSubSteps || Math.ceil(_timeStep / this.fixedTimeStep);
		this._last_simulation_duration=Browser.now();
		this._dynamicsWorld.stepSimulation(_timeStep,this._maxSubSteps,this.fixedTimeStep);
		this.updateTransform();
		this._last_simulation_duration=(Browser.now()-this._last_simulation_duration)/ 1000;
		this._last_simulation_time=Browser.now();
	}

	__proto.updateTransform=function(){
		var object,transform,position,rotation;
		for (var index in this._objects){
			object=this._objects[index];
			transform=object.getCenterOfMassTransform();
			position=transform.getOrigin();
			rotation=transform.getRotation();
			var transform3D=(this._sprite3Ds [index]).transform;
			var positione=transform3D.position.elements;
			positione[0]=-position.x();
			positione[1]=position.y();
			positione[2]=position.z();
			var rotatione=transform3D.rotation.elements;
			rotatione[0]=-rotation.x();
			rotatione[1]=rotation.y();
			rotatione[2]=rotation.z();
			rotatione[3]=-rotation.w();
			transform3D.position=transform3D.position;
			transform3D.rotation=transform3D.rotation;
		}
	}

	__proto.createShape=function(geometry){
		var type=geometry.shape;
		var shape;
		var radius=NaN;
		switch (type){
			case 'Box':
				if (true){
					var geometryBox=geometry;
					this._ammoV3_1.setValue(geometryBox.long / 2,geometryBox.height / 2,geometryBox.width / 2);
					shape=new Ammo.btBoxShape(this._ammoV3_1);
				}
				break ;
			case 'Sphere':
				if (true){
					var geometrySphere=geometry;
					shape=new Ammo.btSphereShape(geometrySphere.radius);
				}
				break ;
			case 'Capsule':
				if (true){
					var geometryCapsule=geometry;
					shape=new Ammo.btCapsuleShape(geometryCapsule.radius,geometryCapsule.height-2 *geometryCapsule.radius);
				}
				break ;
			default :
				break ;
			}
		return shape;
	}

	__proto.setLinearVelocity=function(physicsID,value){
		var object=this._objects[physicsID];
		this._ammoV3_2.setValue(-value.x,value.y,value.z);
		object.setLinearVelocity(this._ammoV3_2);
		object.activate();
	}

	__proto.setLinearFactor=function(physicsID,value){
		var object=this._objects[physicsID];
		this._ammoV3_2.setValue(value.x,value.y,value.z);
		object.setLinearFactor(this._ammoV3_2);
	}

	__proto.setAngularVelocity=function(physicsID,value){
		var object=this._objects[physicsID];
		this._ammoV3_2.setValue(-value.x,value.y,value.z);
		object.setAngularVelocity(this._ammoV3_2);
		object.activate();
	}

	__proto.setAngularFactor=function(physicsID,value){
		var object=this._objects[physicsID];
		this._ammoV3_2.setValue(value.x,value.y,value.z);
		object.setAngularFactor(this._ammoV3_2);
	}

	__getset(0,__proto,'gravity',function(){
		return this._gravity;
		},function(value){
		this._gravity=value;
		var ve=value.elements;
		this._ammoGravity.setValue(-ve[0],ve[1],ve[2]);
		_dynamicsWorld.setGravity(_ammoGravity);
	});

	return PhysicsSystem;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/SkyBox.as=======199.999462/199.999462
/**
*@private
*<code>SkyBox</code> 类用于创建天空盒。
*/
//class laya.d3.resource.models.SkyBox
var SkyBox=(function(){
	function SkyBox(){
		/**@private */
		//this._vertexBuffer=null;
		/**@private */
		//this._indexBuffer=null;
		var halfHeight=0.5;
		var halfWidth=0.5;
		var halfDepth=0.5;
		var vertices=new Float32Array([-halfDepth,halfHeight,-halfWidth,halfDepth,halfHeight,-halfWidth,halfDepth,halfHeight,halfWidth,-halfDepth,halfHeight,halfWidth,
		-halfDepth,-halfHeight,-halfWidth,halfDepth,-halfHeight,-halfWidth,halfDepth,-halfHeight,halfWidth,-halfDepth,-halfHeight,halfWidth]);
		var indices=new Uint8Array([0,1,2,2,3,0,
		4,7,6,6,5,4,
		0,3,7,7,4,0,
		1,5,6,6,2,1,
		3,2,6,6,7,3,
		0,4,5,5,1,0]);
		this._vertexBuffer=new VertexBuffer3D(VertexPosition.vertexDeclaration.vertexStride *8,0x88E4,false);
		this._vertexBuffer.vertexDeclaration=VertexPosition.vertexDeclaration;
		this._indexBuffer=new IndexBuffer3D("ubyte",36,0x88E4,false);
		this._vertexBuffer.setData(vertices);
		this._indexBuffer.setData(indices);
	}

	__class(SkyBox,'laya.d3.resource.models.SkyBox');
	var __proto=SkyBox.prototype;
	/**
	*@private
	*/
	__proto._render=function(state){
		this._indexBuffer.bind();
		LayaGL.instance.drawElements(0x0004,36,0x1401,0);
		Stat.trianglesFaces+=12;
		Stat.drawCall++;
	}

	SkyBox.__init__=function(){
		SkyBox._instance=new SkyBox();
		SkyBox._instance._vertexBuffer.lock=true;
		SkyBox._instance._indexBuffer.lock=true;
	}

	SkyBox._instance=null;
	return SkyBox;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/DefineDatas.as=======199.999457/199.999457
/**
*<code>DefineDatas</code> 类用于创建宏定义数据。
*/
//class laya.d3.shader.DefineDatas
var DefineDatas=(function(){
	function DefineDatas(){
		/**@private [只读]*/
		//this.value=0;
		this.value=0;
	}

	__class(DefineDatas,'laya.d3.shader.DefineDatas');
	var __proto=DefineDatas.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*增加Shader宏定义。
	*@param value 宏定义。
	*/
	__proto.add=function(define){
		this.value |=define;
	}

	/**
	*移除Shader宏定义。
	*@param value 宏定义。
	*/
	__proto.remove=function(define){
		this.value &=~define;
	}

	/**
	*是否包含Shader宏定义。
	*@param value 宏定义。
	*/
	__proto.has=function(define){
		return (this.value & define)> 0;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destDefineData=destObject;
		destDefineData.value=this.value;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	return DefineDatas;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/Shader3D.as=======199.999456/199.999456
/**
*@private
*<code>Shader3D</code> 类用于创建Shader3D。
*/
//class laya.d3.shader.Shader3D
var Shader3D=(function(){
	function Shader3D(name,attributeMap,uniformMap,includeFiles,spriteDefines,materialDefines){
		/**@private */
		//this._attributeMap=null;
		/**@private */
		//this._uniformMap=null;
		/**@private */
		//this._name=null;
		/**@private */
		//this._publicDefines=null;
		/**@private */
		//this._publicDefinesMap=null;
		/**@private */
		//this._spriteDefines=null;
		/**@private */
		//this._spriteDefinesMap=null;
		/**@private */
		//this._materialDefines=null;
		/**@private */
		//this._materialDefinesMap=null;
		/**@private */
		//this._passes=null;
		this._name=name;
		this._publicDefines=[];
		this._publicDefinesMap={};
		this._spriteDefines=[];
		this._spriteDefinesMap={};
		this._materialDefines=[];
		this._materialDefinesMap={};
		this._addDefines(this._publicDefines,this._publicDefinesMap,Shader3D._globleDefines);
		(spriteDefines)&& (this._addDefines(this._spriteDefines,this._spriteDefinesMap,spriteDefines.defines));
		(materialDefines)&& (this._addDefines(this._materialDefines,this._materialDefinesMap,materialDefines.defines));
		this._passes=[];
		this._attributeMap=attributeMap;
		this._uniformMap=uniformMap;
	}

	__class(Shader3D,'laya.d3.shader.Shader3D');
	var __proto=Shader3D.prototype;
	/**
	*@private
	*/
	__proto._addDefines=function(defines,definesMap,supportDefines){
		for (var k in supportDefines){
			var name=supportDefines[k];
			var i=parseInt(k);
			defines[i]=name;
			definesMap[name]=i;
		}
	}

	/**
	*@private
	*/
	__proto._addShaderPass=function(vs,ps){
		this._passes.push(new ShaderPass(this,vs,ps));
	}

	/**
	*通过名称获取宏定义值。
	*@param name 名称。
	*@return 宏定义值。
	*/
	__proto.getMaterialDefineByName=function(name){
		return this._materialDefinesMap[name];
	}

	Shader3D.addInclude=function(fileName,txt){
		ShaderCompile.addInclude(fileName,txt);
	}

	Shader3D.registerPublicDefine=function(name){
		var value=Math.pow(2,Shader3D._publicCounter++);
		Shader3D._globleDefines[value]=name;
		return value;
	}

	Shader3D.compileShader=function(name,passIndex,publicDefine,spriteDefine,materialDefine){
		var shader=laya.d3.shader.Shader3D.get(name);
		if (shader){
			var pass=shader._passes[passIndex];
			if (pass){
				if (WebGL.shaderHighPrecision)
					pass.withCompile(publicDefine,spriteDefine,materialDefine);
				else
				pass.withCompile(publicDefine-laya.d3.shader.Shader3D.SHADERDEFINE_HIGHPRECISION,spriteDefine,materialDefine);
				}else {
				console.warn("Shader3D: unknown shader passIndex.");
			}
			}else {
			console.warn("Shader3D: unknown shader name.");
		}
	}

	Shader3D.add=function(name,attributeMap,uniformMap,spriteDefines,materialDefines){
		return laya.d3.shader.Shader3D._preCompileShader[name]=new Shader3D(name,attributeMap,uniformMap,ShaderCompile.includes,spriteDefines,materialDefines);
	}

	Shader3D.get=function(name){
		return laya.d3.shader.Shader3D._preCompileShader[name];
	}

	Shader3D.PERIOD_CUSTOM=0;
	Shader3D.PERIOD_MATERIAL=1;
	Shader3D.PERIOD_SPRITE=2;
	Shader3D.PERIOD_CAMERA=3;
	Shader3D.PERIOD_SCENE=4;
	Shader3D.SHADERDEFINE_HIGHPRECISION=0;
	Shader3D._publicCounter=0;
	Shader3D._globleDefines=[];
	Shader3D._preCompileShader={};
	Shader3D.debugMode=false;
	return Shader3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/ShaderDatas.as=======199.999455/199.999455
/**
*@private
*/
//class laya.d3.shader.ShaderDatas
var ShaderDatas=(function(){
	function ShaderDatas(ownerResource,length){
		/**@private */
		//this._ownerResource=null;
		/**@private */
		//this._data=null;
		/**@private [NATIVE]*/
		//this._int32Data=null;
		/**@private [NATIVE]*/
		//this._float32Data=null;
		/**@private [NATIVE]*/
		//this._nativeArray=null;
		this._ownerResource=ownerResource;
		this._initData(length);
	}

	__class(ShaderDatas,'laya.d3.shader.ShaderDatas');
	var __proto=ShaderDatas.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*@private
	*/
	__proto._initData=function(length){
		this._data=new Array(length);
	}

	/**
	*获取布尔。
	*@param index shader索引。
	*@return 布尔。
	*/
	__proto.getBool=function(index){
		return this._data[index];
	}

	/**
	*设置布尔。
	*@param index shader索引。
	*@param value 布尔。
	*/
	__proto.setBool=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取整形。
	*@param index shader索引。
	*@return 整形。
	*/
	__proto.getInt=function(index){
		return this._data[index];
	}

	/**
	*设置整型。
	*@param index shader索引。
	*@param value 整形。
	*/
	__proto.setInt=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取浮点。
	*@param index shader索引。
	*@return 浮点。
	*/
	__proto.getNumber=function(index){
		return this._data[index];
	}

	/**
	*设置浮点。
	*@param index shader索引。
	*@param value 浮点。
	*/
	__proto.setNumber=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取颜色。
	*@param index shader索引。
	*@return 颜色向量。
	*/
	__proto.getVector=function(index){
		return this._data[index];
	}

	/**
	*设置向量。
	*@param index shader索引。
	*@param value 向量。
	*/
	__proto.setVector=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取四元数。
	*@param index shader索引。
	*@return 四元。
	*/
	__proto.getQuaternion=function(index){
		return this._data[index];
	}

	/**
	*设置四元数。
	*@param index shader索引。
	*@param value 四元数。
	*/
	__proto.setQuaternion=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取矩阵。
	*@param index shader索引。
	*@return 矩阵。
	*/
	__proto.getMatrix4x4=function(index){
		return this._data[index];
	}

	/**
	*设置矩阵。
	*@param index shader索引。
	*@param value 矩阵。
	*/
	__proto.setMatrix4x4=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取Buffer。
	*@param index shader索引。
	*@return
	*/
	__proto.getBuffer=function(shaderIndex){
		return this._data[shaderIndex];
	}

	/**
	*设置Buffer。
	*@param index shader索引。
	*@param value buffer数据。
	*/
	__proto.setBuffer=function(index,value){
		this._data[index]=value;
	}

	/**
	*设置纹理。
	*@param index shader索引。
	*@param value 纹理。
	*/
	__proto.setTexture=function(index,value){
		var lastValue=this._data[index];
		this._data[index]=value;
		if (this._ownerResource&&this._ownerResource.referenceCount > 0){
			(lastValue)&& (lastValue._removeReference());
			(value)&& (value._addReference());
		}
	}

	/**
	*获取纹理。
	*@param index shader索引。
	*@return 纹理。
	*/
	__proto.getTexture=function(index){
		return this._data[index];
	}

	/**
	*设置Attribute。
	*@param index shader索引。
	*@param value 纹理。
	*/
	__proto.setAttribute=function(index,value){
		this._data[index]=value;
	}

	/**
	*获取Attribute。
	*@param index shader索引。
	*@return 纹理。
	*/
	__proto.getAttribute=function(index){
		return this._data[index];
	}

	/**
	*获取长度。
	*@return 长度。
	*/
	__proto.getLength=function(){
		return this._data.length;
	}

	/**
	*设置长度。
	*@param 长度。
	*/
	__proto.setLength=function(value){
		this._data.length=value;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var dest=destObject;
		var destData=dest._data;
		var dataCount=this._data.length;
		destData.length=dataCount;
		for (var i=0;i < dataCount;i++){
			var value=this._data[i];
			if (value){
				if ((typeof value=='number')){
					destData[i]=value;
					}else if (((typeof value=='number')&& Math.floor(value)==value)){
					destData[i]=value;
					}else if ((typeof value=='boolean')){
					destData[i]=value;
					}else if ((value instanceof laya.d3.math.Vector2 )){
					var v2=(destData[i])|| (destData[i]=new Vector2());
					(value).cloneTo(v2);
					destData[i]=v2;
					}else if ((value instanceof laya.d3.math.Vector3 )){
					var v3=(destData[i])|| (destData[i]=new Vector3());
					(value).cloneTo(v3);
					destData[i]=v3;
					}else if ((value instanceof laya.d3.math.Vector4 )){
					var v4=(destData[i])|| (destData[i]=new Vector4());
					(value).cloneTo(v4);
					destData[i]=v4;
					}else if ((value instanceof laya.d3.math.Matrix4x4 )){
					var mat=(destData[i])|| (destData[i]=new Matrix4x4());
					(value).cloneTo(mat);
					destData[i]=mat;
					}else if ((value instanceof laya.webgl.resource.BaseTexture )){
					destData[i]=value;
				}
			}
		}
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*@private [NATIVE]
	*/
	__proto._initDataForNative=function(length){
		if (!length){
			alert("ShaderData _initDataForNative error length=0");
		}
		this._nativeArray=[];
		this._data=new ArrayBuffer(length *4);
		this._int32Data=new Int32Array(this._data);
		this._float32Data=new Float32Array(this._data);
		LayaGL.createArrayBufferRef(this._data,0,true);
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getIntForNative=function(index){
		return this._int32Data[index];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setIntForNative=function(index,value){
		this._int32Data[index]=value;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getBoolForNative=function(index){
		return this._int32Data[index]==1;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setBoolForNative=function(index,value){
		this._int32Data[index]=value;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getNumberForNative=function(index){
		return this._float32Data[index];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setNumberForNative=function(index,value){
		this._float32Data[index]=value;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getMatrix4x4ForNative=function(index){
		alert("ShaderData getMatrix4x4 can't support");
		return null;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setMatrix4x4ForNative=function(index,value){
		this._nativeArray[index]=value;
		var elements=value.elements;
		if (!elements["_ptrID"]){
			LayaGL.createArrayBufferRef(elements,0,true);
		}
		LayaGL.syncBufferToRenderThread(elements);
		this._int32Data[index]=elements["_ptrID"];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getVectorForNative=function(index){
		return this._nativeArray[index];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setVectorForNative=function(index,value){
		this._nativeArray[index]=value;
		var elements=value.elements;
		if (!elements["_ptrID"]){
			LayaGL.createArrayBufferRef(elements,0,true);
		}
		LayaGL.syncBufferToRenderThread(elements);
		this._int32Data[index]=elements["_ptrID"];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getQuaternionForNative=function(index){
		alert("ShaderData getQuaternion can't support");
		return null;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setQuaternionForNative=function(index,value){
		this._nativeArray[index]=value;
		var elements=value.elements;
		if (!elements["_ptrID"]){
			LayaGL.createArrayBufferRef(elements,0,true);
		}
		LayaGL.syncBufferToRenderThread(elements);
		this._int32Data[index]=elements["_ptrID"];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getBufferForNative=function(shaderIndex){
		alert("ShaderData getBuffer can't support");
		return null;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setBufferForNative=function(index,value){
		this._nativeArray[index]=value;
		if (!value["_ptrID"]){
			LayaGL.createArrayBufferRef(value,0,true);
		}
		LayaGL.syncBufferToRenderThread(value);
		this._int32Data[index]=value["_ptrID"];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getAttributeForNative=function(index){
		alert("ShaderData  getAttribute can't support");
		return null;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setAttributeForNative=function(index,value){
		this._nativeArray[index]=value;
		if (!value["_ptrID"]){
			LayaGL.createArrayBufferRef(value,0,true);
		}
		LayaGL.syncBufferToRenderThread(value);
		this._int32Data[index]=value["_ptrID"];
	}

	/**
	*@private [NATIVE]
	*/
	__proto.getTextureForNative=function(index){
		alert("ShaderData getTexture can't support");
		return null;
	}

	/**
	*@private [NATIVE]
	*/
	__proto.setTextureForNative=function(index,value){
		this._nativeArray[index]=value;
		var lastValue=this._int32Data[index];
		this._int32Data[index]=value._getSource();
		if (this._ownerResource.referenceCount > 0){
			(lastValue)&& (lastValue._removeReference());
			(value)&& (value._addReference());
		}
	}

	return ShaderDatas;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/ShaderDefines.as=======199.999454/199.999454
/**
*@private
*/
//class laya.d3.shader.ShaderDefines
var ShaderDefines=(function(){
	function ShaderDefines(superDefines){
		/**@private */
		this._counter=0;
		/**@private [只读]*/
		this.defines=null;
		if (superDefines){
			this._counter=superDefines._counter;
			this.defines=superDefines.defines.slice();
			}else {
			this._counter=0;
			this.defines=[];
		}
	}

	__class(ShaderDefines,'laya.d3.shader.ShaderDefines');
	var __proto=ShaderDefines.prototype;
	/**
	*@private
	*/
	__proto.registerDefine=function(name){
		var value=Math.pow(2,this._counter++);
		this.defines[value]=name;
		return value;
	}

	return ShaderDefines;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/ShaderInit3D.as=======199.999453/199.999453
/**
*@private
*<code>ShaderInit</code> 类用于初始化内置Shader。
*/
//class laya.d3.shader.ShaderInit3D
var ShaderInit3D=(function(){
	/**
	*创建一个 <code>ShaderInit</code> 实例。
	*/
	function ShaderInit3D(){}
	__class(ShaderInit3D,'laya.d3.shader.ShaderInit3D');
	ShaderInit3D.__init__=function(){
		Shader3D.SHADERDEFINE_HIGHPRECISION=Shader3D.registerPublicDefine("HIGHPRECISION");
		VertexDeclaration.SHADERDEFINE_UV0=Shader3D.registerPublicDefine("UV");
		VertexDeclaration.SHADERDEFINE_COLOR=Shader3D.registerPublicDefine("COLOR");
		VertexDeclaration.SHADERDEFINE_UV1=Shader3D.registerPublicDefine("UV1");
		Scene3D.SHADERDEFINE_FOG=Shader3D.registerPublicDefine("FOG");
		Scene3D.SHADERDEFINE_DIRECTIONLIGHT=Shader3D.registerPublicDefine("DIRECTIONLIGHT");
		Scene3D.SHADERDEFINE_POINTLIGHT=Shader3D.registerPublicDefine("POINTLIGHT");
		Scene3D.SHADERDEFINE_SPOTLIGHT=Shader3D.registerPublicDefine("SPOTLIGHT");
		Scene3D.SHADERDEFINE_CAST_SHADOW=Shader3D.registerPublicDefine("CASTSHADOW");
		Scene3D.SHADERDEFINE_SHADOW_PSSM1=Shader3D.registerPublicDefine("SHADOWMAP_PSSM1");
		Scene3D.SHADERDEFINE_SHADOW_PSSM2=Shader3D.registerPublicDefine("SHADOWMAP_PSSM2");
		Scene3D.SHADERDEFINE_SHADOW_PSSM3=Shader3D.registerPublicDefine("SHADOWMAP_PSSM3");
		Scene3D.SHADERDEFINE_SHADOW_PCF_NO=Shader3D.registerPublicDefine("SHADOWMAP_PCF_NO");
		Scene3D.SHADERDEFINE_SHADOW_PCF1=Shader3D.registerPublicDefine("SHADOWMAP_PCF1");
		Scene3D.SHADERDEFINE_SHADOW_PCF2=Shader3D.registerPublicDefine("SHADOWMAP_PCF2");
		Scene3D.SHADERDEFINE_SHADOW_PCF3=Shader3D.registerPublicDefine("SHADOWMAP_PCF3");
		Scene3D.SHADERDEFINE_REFLECTMAP=Shader3D.registerPublicDefine("REFLECTMAP");
		Shader3D.addInclude("Lighting.glsl","\nstruct DirectionLight\n{\n	vec3 Color;\n	vec3 Direction;\n};\n\nstruct PointLight\n{\n	vec3 Color;\n	vec3 Position;\n	float Range;\n};\n\nstruct SpotLight\n{\n	vec3 Color;\n	vec3 Position;\n	vec3 Direction;\n	float Spot;\n	float Range;\n};\n\n// U3D中使用衰减纹理,此函数模拟并非正确\n//float U3DAttenuation(in vec3 L,in float invLightRadius)\n//{\n//	float fRatio = clamp(length(L) * invLightRadius,0.0,1.0);\n//	fRatio *= fRatio;\n//	return 1.0 / (1.0 + 25.0 * fRatio)* clamp(4.0*(1.0 - fRatio),0.0,1.0); //fade to black as if 4 pixel texture\n//} \n\n// Same as Just Cause 2 and Crysis 2 (you can read GPU Pro 1 book for more information)\nfloat BasicAttenuation(in vec3 L,in float invLightRadius)\n{\n	vec3 distance = L * invLightRadius;\n	float attenuation = clamp(1.0 - dot(distance, distance),0.0,1.0); // Equals float attenuation = saturate(1.0f - dot(L, L) / (lightRadius *  lightRadius)); 	\n	return attenuation * attenuation;\n} \n\n// Inspired on http://fools.slindev.com/viewtopic.php?f=11&t=21&view=unread#unread	\nfloat NaturalAttenuation(in vec3 L,in float invLightRadius)\n{\n	float attenuationFactor = 30.0;\n	vec3 distance = L * invLightRadius;\n	float attenuation = dot(distance, distance); // Equals float attenuation = dot(L, L) / (lightRadius *  lightRadius);\n	attenuation = 1.0 / (attenuation * attenuationFactor + 1.0);\n	// Second we move down the function therewith it reaches zero at abscissa 1:\n	attenuationFactor = 1.0 / (attenuationFactor + 1.0); //attenuationFactor contains now the value we have to subtract\n	attenuation = max(attenuation - attenuationFactor, 0.0); // The max fixes a bug.\n	// Finally we expand the equation along the y-axis so that it starts with a function value of 1 again.\n	attenuation /= 1.0 - attenuationFactor;\n	return attenuation;\n} \n\nvoid LayaAirBlinnPhongLight (in vec3 specColor,in float specColorIntensity,in vec3 normal,in vec3 gloss, in vec3 viewDir,in vec3 lightColor, in vec3 lightVec,out vec3 diffuseColor,out vec3 specularColor)\n{\n    mediump vec3 h = normalize(viewDir-lightVec);\n    lowp float ln = max (0.0, dot (-lightVec,normal));\n    float nh = max (0.0, dot (h,normal));\n	diffuseColor=lightColor * ln;\n	specularColor=lightColor *specColor*pow (nh, specColorIntensity*128.0) * gloss;\n}\n\nvoid LayaAirBlinnPhongDiectionLight (in vec3 specColor,in float specColorIntensity,in vec3 normal,in vec3 gloss, in vec3 viewDir, in DirectionLight light,out vec3 diffuseColor,out vec3 specularColor)\n{\n	vec3 lightVec=normalize(light.Direction);\n	LayaAirBlinnPhongLight(specColor,specColorIntensity,normal,gloss,viewDir,light.Color,lightVec,diffuseColor,specularColor);\n}\n\nvoid LayaAirBlinnPhongPointLight (in vec3 pos,in vec3 specColor,in float specColorIntensity,in vec3 normal,in vec3 gloss, in vec3 viewDir, in PointLight light,out vec3 diffuseColor,out vec3 specularColor)\n{\n	vec3 lightVec =  pos-light.Position;\n	//if( length(lightVec) > light.Range )\n	//	return;\n	LayaAirBlinnPhongLight(specColor,specColorIntensity,normal,gloss,viewDir,light.Color,lightVec/length(lightVec),diffuseColor,specularColor);\n	float attenuate = BasicAttenuation(lightVec, 1.0/light.Range);\n	diffuseColor *= attenuate;\n	specularColor*= attenuate;\n}\n\nvoid LayaAirBlinnPhongSpotLight (in vec3 pos,in vec3 specColor,in float specColorIntensity,in vec3 normal,in vec3 gloss, in vec3 viewDir, in SpotLight light,out vec3 diffuseColor,out vec3 specularColor)\n{\n	vec3 lightVec =  pos-light.Position;\n	//if( length(lightVec) > light.Range )\n	//	return;\n	vec3 normalLightVec=lightVec/length(lightVec);\n	LayaAirBlinnPhongLight(specColor,specColorIntensity,normal,gloss,viewDir,light.Color,normalLightVec,diffuseColor,specularColor);\n	float spot = pow(max(dot(normalLightVec, normalize(light.Direction)), 0.0), light.Spot);\n	float attenuate = spot*BasicAttenuation(lightVec, 1.0/light.Range);\n	diffuseColor *= attenuate;\n	specularColor*= attenuate;\n}\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent,vec3 binormal)\n{\n	vec3 normalT =vec3(2.0*normalMapSample.x - 1.0,1.0-2.0*normalMapSample.y,2.0*normalMapSample.z - 1.0);\n	\n	// Build orthonormal basis.\n	vec3 N = normalize(unitNormal);\n	vec3 T = normalize(tangent);\n	vec3 B = normalize(binormal);\n	mat3 TBN = mat3(T, B, N);\n	\n	// Transform from tangent space to world space.\n	vec3 bumpedNormal = TBN*normalT;\n\n	return bumpedNormal;\n}\n\nvec3 NormalSampleToWorldSpace1(vec4 normalMapSample, vec3 unitNormal, vec3 tangent, vec3 binormal)\n{\n	vec3 normalT;\n	\n	normalT.x = 2.0 * normalMapSample.x - 1.0;\n	normalT.y = 2.0 * normalMapSample.y - 1.0;\n	normalT.z = sqrt(1.0 - clamp(dot(normalT.xy, normalT.xy), 0.0, 1.0));\n	\n	// Build orthonormal basis.\n	vec3 N = normalize(unitNormal);\n	vec3 T = normalize(tangent);\n	vec3 B = normalize(binormal);\n	mat3 TBN = mat3(T, B, N);\n	\n	// Transform from tangent space to world space.\n	vec3 bumpedNormal = TBN * normalT;\n\n	return normalT;\n}\n\n\n");
		Shader3D.addInclude("ShadowHelper.glsl","uniform sampler2D u_shadowMap1;\nuniform sampler2D u_shadowMap2;\nuniform sampler2D u_shadowMap3;\nuniform vec2	  u_shadowPCFoffset;\nuniform vec4     u_shadowPSSMDistance;\nvec4 packDepth(const in float depth)\n{\n	const vec4 bitShift = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n	const vec4 bitMask	= vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n	vec4 res = mod(depth*bitShift*vec4(255), vec4(256))/vec4(255);\n	res -= res.xxyz * bitMask;\n	return res;\n}\nfloat unpackDepth(const in vec4 rgbaDepth)\n{\n	const vec4 bitShift = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n	float depth = dot(rgbaDepth, bitShift);\n	return depth;\n}\nfloat tex2DPCF( sampler2D shadowMap,vec2 texcoord,vec2 invsize,float zRef )\n{\n	vec2 texelpos =texcoord / invsize;\n	vec2 lerps = fract( texelpos );\n	float sourcevals[4];\n	sourcevals[0] = float( unpackDepth(texture2D(shadowMap,texcoord)) > zRef );\n	sourcevals[1] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x,0))) > zRef );\n	sourcevals[2] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(0,invsize.y))) > zRef );\n	sourcevals[3] = float( unpackDepth(texture2D(shadowMap,texcoord + vec2(invsize.x, invsize.y) )) > zRef );\n	return mix( mix(sourcevals[0],sourcevals[2],lerps.y),mix(sourcevals[1],sourcevals[3],lerps.y),lerps.x );\n}\nfloat getShadowPSSM3( sampler2D shadowMap1,sampler2D shadowMap2,sampler2D shadowMap3,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n	float value = 1.0;\n	int nPSNum = int(posViewZ>pssmDistance.x);\n	nPSNum += int(posViewZ>pssmDistance.y);\n	nPSNum += int(posViewZ>pssmDistance.z);\n	//真SB,webgl不支持在PS中直接访问数组\n	mat4 lightVP;\n	if( nPSNum == 0 )\n	{\n		lightVP = lightShadowVP[1];\n	}\n	else if( nPSNum == 1 )\n	{\n		lightVP = lightShadowVP[2];\n	}\n	else if( nPSNum == 2 )\n	{\n		lightVP = lightShadowVP[3];\n	}\n	vec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n	//为了效率，在CPU计算/2.0 + 0.5\n	//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n	vec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n	float fMyZ = vText.z - zBias;\n	/*\n	bvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n	bool bInFrustum = all( bInFrustumVec );\n	bvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n	bool bFrustumTest = all( bFrustumTestVec );\n	if ( bFrustumTest ) \n	*/\n	if( fMyZ <= 1.0 )\n	{\n		float zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n		if ( nPSNum == 0 )\n		{\n			value =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,	fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,	fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,	fMyZ );\n			value = value/4.0;\n		} \n		else if( nPSNum == 1 )\n		{\n			value = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 2 )\n		{\n			vec4 color = texture2D( shadowMap3,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n		}\n#endif\n#ifdef SHADOWMAP_PCF2\n		if ( nPSNum == 0 )\n		{\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 1 )\n		{\n			value = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 2 )\n		{\n			vec4 color = texture2D( shadowMap3,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n		}\n\n#endif\n#ifdef SHADOWMAP_PCF1\n		if ( nPSNum == 0 )\n		{\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 1 )\n		{\n			vec4 color = texture2D( shadowMap2,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n		}\n		else if( nPSNum == 2 )\n		{\n			vec4 color = texture2D( shadowMap3,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n		}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n		vec4 color;\n		if ( nPSNum == 0 )\n		{\n			color = texture2D( shadowMap1,vText.xy );\n		}\n		else if( nPSNum == 1 )\n		{\n			color = texture2D( shadowMap2,vText.xy );\n		}\n		else if( nPSNum == 2 )\n		{\n			color = texture2D( shadowMap3,vText.xy );\n		}\n		zdepth = unpackDepth(color);\n		value = float(fMyZ < zdepth);\n#endif\n	}\n	return value;\n}\nfloat getShadowPSSM2( sampler2D shadowMap1,sampler2D shadowMap2,mat4 lightShadowVP[4],vec4 pssmDistance,vec2 shadowPCFOffset,vec3 worldPos,float posViewZ,float zBias )\n{\n	float value = 1.0;\n	int nPSNum = int(posViewZ>pssmDistance.x);\n	nPSNum += int(posViewZ>pssmDistance.y);\n	//真SB,webgl不支持在PS中直接访问数组\n	mat4 lightVP;\n	if( nPSNum == 0 )\n	{\n		lightVP = lightShadowVP[1];\n	}\n	else if( nPSNum == 1 )\n	{\n		lightVP = lightShadowVP[2];\n	}\n	vec4 vLightMVPPos = lightVP * vec4(worldPos,1.0);\n	//为了效率，在CPU计算/2.0 + 0.5\n	//vec3 vText = (vLightMVPPos.xyz / vLightMVPPos.w)/2.0 + 0.5;\n	vec3 vText = vLightMVPPos.xyz / vLightMVPPos.w;\n	float fMyZ = vText.z - zBias;\n	/*\n	bvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n	bool bInFrustum = all( bInFrustumVec );\n	bvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n	bool bFrustumTest = all( bFrustumTestVec );\n	if ( bFrustumTest ) \n	*/\n	if( fMyZ <= 1.0 )\n	{\n		float zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n		if ( nPSNum == 0 )\n		{\n			value =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,	fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,	fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,	fMyZ );\n			value = value/4.0;\n		}\n		else if( nPSNum == 1 )\n		{\n			value = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n		}\n#endif\n#ifdef SHADOWMAP_PCF2\n		if ( nPSNum == 0 )\n		{\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 1 )\n		{\n			value = tex2DPCF( shadowMap2,vText.xy,shadowPCFOffset,fMyZ);\n		}\n#endif\n#ifdef SHADOWMAP_PCF1\n		if ( nPSNum == 0 )\n		{\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n		}\n		else if( nPSNum == 1 )\n		{\n			vec4 color = texture2D( shadowMap2,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n		}\n#endif\n#ifdef SHADOWMAP_PCF_NO\n		vec4 color;\n		if ( nPSNum == 0 )\n		{\n			color = texture2D( shadowMap1,vText.xy );\n		}\n		else if( nPSNum == 1 )\n		{\n			color = texture2D( shadowMap2,vText.xy );\n		}\n		zdepth = unpackDepth(color);\n		value = float(fMyZ < zdepth);\n#endif\n	}\n	return value;\n}\nfloat getShadowPSSM1( sampler2D shadowMap1,vec4 lightMVPPos,vec4 pssmDistance,vec2 shadowPCFOffset,float posViewZ,float zBias )\n{\n	float value = 1.0;\n	if( posViewZ < pssmDistance.x )\n	{\n		vec3 vText = lightMVPPos.xyz / lightMVPPos.w;\n		float fMyZ = vText.z - zBias;\n		/*\n		bvec4 bInFrustumVec = bvec4 ( vText.x >= 0.0, vText.x <= 1.0, vText.y >= 0.0, vText.y <= 1.0 );\n		bool bInFrustum = all( bInFrustumVec );\n		bvec2 bFrustumTestVec = bvec2( bInFrustum, fMyZ <= 1.0 );\n		bool bFrustumTest = all( bFrustumTestVec );\n		*/\n		if ( fMyZ <= 1.0 ) \n		{\n			float zdepth=0.0;\n#ifdef SHADOWMAP_PCF3\n			value =  tex2DPCF( shadowMap1, vText.xy,shadowPCFOffset,fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.xy),shadowPCFOffset,fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(shadowPCFOffset.x,0),shadowPCFOffset,fMyZ );\n			value += tex2DPCF( shadowMap1, vText.xy+vec2(0,shadowPCFOffset.y),shadowPCFOffset,fMyZ );\n			value = value/4.0;\n#endif\n#ifdef SHADOWMAP_PCF2		\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF1\n			value = tex2DPCF( shadowMap1,vText.xy,shadowPCFOffset,fMyZ);\n#endif\n#ifdef SHADOWMAP_PCF_NO		\n			vec4 color = texture2D( shadowMap1,vText.xy );\n			zdepth = unpackDepth(color);\n			value = float(fMyZ < zdepth);\n#endif\n		}\n	}\n	return value;\n}");
		Shader3D.addInclude("BRDF.glsl","struct LayaGI\n{\n	vec3 diffuse;\n	vec3 specular;\n};\n\nvec4 LayaAirBRDF(in vec3 diffuseColor, in vec3 specularColor, in float oneMinusReflectivity, in float smoothness, in vec3 normal, in vec3 viewDir, in vec3 lightDir, in vec3 lightColor, in LayaGI gi)\n{\n	float perceptualRoughness = SmoothnessToPerceptualRoughness(smoothness);\n	vec3 halfDir = SafeNormalize(viewDir - lightDir);\n	\n	float nv = abs(dot(normal, viewDir));\n	\n	float nl = clamp(dot(normal,   -lightDir),  0.0, 1.0);\n	float nh = clamp(dot(normal,     halfDir),  0.0, 1.0);\n	float lv = clamp(dot(lightDir,   viewDir),  0.0, 1.0);\n	float lh = clamp(dot(lightDir,  -halfDir),  0.0, 1.0);\n	\n	float diffuseTerm = DisneyDiffuse(nv, nl, lh, perceptualRoughness) * nl;\n	\n	float roughness = PerceptualRoughnessToRoughness(perceptualRoughness);\n	\n	//#if UNITY_BRDF_GGX\n	float V = SmithJointGGXVisibilityTerm(nl, nv, roughness);\n	float D = GGXTerm(nh, roughness);\n	\n	float specularTerm = V * D * PI;\n	\n	specularTerm = sqrt(max(0.0001, specularTerm));\n	specularTerm = max(0.0, specularTerm * nl);\n	\n	float surfaceReduction = 1.0 - 0.28 * roughness * perceptualRoughness;\n	float grazingTerm = clamp(smoothness + (1.0 - oneMinusReflectivity), 0.0, 1.0);\n	\n	vec4 color;\n	color.rgb = diffuseColor * (gi.diffuse + lightColor * diffuseTerm) \n			  + specularTerm * lightColor * FresnelTerm (specularColor, lh)\n			  + surfaceReduction * gi.specular * FresnelLerp(specularColor, vec3(grazingTerm), nv);\n	\n	color.a = 1.0;\n	return color;\n}");
		Shader3D.addInclude("PBRUtils.glsl","struct DirectionLight\n{\n	vec3 Color;\n	vec3 Direction;\n};\n\nvec3 UnpackScaleNormal(in vec2 uv0)\n{\n	#ifdef NORMALTEXTURE\n		vec3 normalT;\n		vec4 normalMapSample = texture2D(u_NormalTexture, uv0);\n		normalT.x = 2.0 * normalMapSample.x - 1.0;\n		normalT.y = 1.0 - 2.0 * normalMapSample.y;\n		normalT.xy *= u_normalScale;\n		normalT.z = sqrt(1.0 - clamp(dot(normalT.xy, normalT.xy), 0.0, 1.0));\n		\n		vec3 T = normalize(v_Tangent);\n		vec3 B = normalize(v_Binormal);\n		vec3 N = normalize(v_Normal);\n		mat3 TBN = mat3(T, B, N);\n		\n		vec3 bumpedNormal = TBN * normalize(normalT);\n		return bumpedNormal;\n	#else\n		return normalize(v_Normal);\n	#endif\n}\n\nvec4 DielectricSpecularColor = vec4(0.220916301, 0.220916301, 0.220916301, 1.0 - 0.220916301);\n\nfloat PI = 3.14159265359;\n\nvec3 FresnelTerm (in vec3 F0, in float cosA)\n{\n	return F0 + (vec3(1.0) - F0) * pow(1.0 - cosA, 5.0);\n}\n\nvec3 FresnelLerp (in vec3 F0, in vec3 F90, float cosA)\n{\n    float t = pow(1.0 - cosA, 5.0);\n    return mix(F0, F90, t);\n}\n\nfloat PerceptualRoughnessToRoughness(in float perceptualRoughness)\n{\n	return perceptualRoughness * perceptualRoughness;\n}\n\nfloat PerceptualRoughnessToSpecularPower(in float perceptualRoughness)\n{\n	float m = PerceptualRoughnessToRoughness(perceptualRoughness);\n	float sq = max(0.0001, m * m);\n	float n = (2.0 / sq) - 2.0;\n	n = max(n, 0.0001);\n	return n;\n}\n\nfloat RoughnessToPerceptualRoughness(in float roughness)\n{\n	return sqrt(roughness);\n}\n\nfloat SmoothnessToRoughness(in float smoothness)\n{\n	return (1.0 - smoothness) * (1.0 - smoothness);\n}\n\nfloat SmoothnessToPerceptualRoughness(in float smoothness)\n{\n	return (1.0 - smoothness);\n}\n\nvec3 SafeNormalize(in vec3 inVec)\n{\n	float dp3 = max(0.001,dot(inVec,inVec));\n	return inVec * (1.0 / sqrt(dp3));\n}\n\nfloat DisneyDiffuse(in float NdotV, in float NdotL, in float LdotH, in float perceptualRoughness)\n{\n	float fd90 = 0.5 + 2.0 * LdotH * LdotH * perceptualRoughness;\n	float lightScatter	= (1.0 + (fd90 - 1.0) * pow(1.0 - NdotL,5.0));\n	float viewScatter	= (1.0 + (fd90 - 1.0) * pow(1.0 - NdotV,5.0));\n\n	return lightScatter * viewScatter;\n}\n\nfloat SmithJointGGXVisibilityTerm (float NdotL, float NdotV, float roughness)\n{\n	float a = roughness;\n	float lambdaV = NdotL * (NdotV * (1.0 - a) + a);\n	float lambdaL = NdotV * (NdotL * (1.0 - a) + a);\n\n	return 0.5 / (lambdaV + lambdaL + 0.00001);\n}\n\nfloat GGXTerm (float NdotH, float roughness)\n{\n	float a2 = roughness * roughness;\n	float d = (NdotH * a2 - NdotH) * NdotH + 1.0;\n	return 0.31830988618 * a2 / (d * d + 0.0000001);\n}\n\nfloat OneMinusReflectivityFromMetallic(in float metallic)\n{\n	float oneMinusDielectricSpec = DielectricSpecularColor.a;\n	return oneMinusDielectricSpec - metallic * oneMinusDielectricSpec;\n}\n\nfloat SpecularStrength(vec3 specular)\n{\n    //(SHADER_TARGET < 30)return specular.r; \n    return max (max (specular.r, specular.g), specular.b);\n}\n\nvec3 DiffuseAndSpecularFromMetallic(in vec3 diffuseColor, in float metallic, out vec3 specularColor, out float oneMinusReflectivity)\n{\n	specularColor = mix(DielectricSpecularColor.rgb, diffuseColor, metallic);\n	oneMinusReflectivity = OneMinusReflectivityFromMetallic(metallic);\n	return diffuseColor * oneMinusReflectivity;\n}\n\nvec3 EnergyConservationBetweenDiffuseAndSpecular(in vec3 diffuseColor, in vec3 specularColor, out float oneMinusReflectivity)\n{\n	oneMinusReflectivity = 1.0 - SpecularStrength(specularColor);\n	return diffuseColor * oneMinusReflectivity;\n}\n\nvec4 Occlusion(in vec2 uv0){\n	#ifdef OCCLUSIONTEXTURE\n		vec4 occlusionTextureColor = texture2D(u_OcclusionTexture, uv0);\n		float occ = occlusionTextureColor.g;\n		float oneMinusT = 1.0 - u_occlusionStrength;\n		float lerpOneTo = oneMinusT + occ * u_occlusionStrength;\n		return occlusionTextureColor * lerpOneTo;\n	#else\n		return vec4(1.0);\n	#endif\n}\n\nvec2 ParallaxOffset(in vec3 viewDir){\n	#ifdef PARALLAXTEXTURE\n		float h = texture2D(u_ParallaxTexture, v_Texcoord0).g;\n		h = h * u_parallaxScale - u_parallaxScale / 2.0;\n		vec3 v = viewDir;\n		v.z += 0.42;\n		vec2 offset = h * (v.xy / v.z);\n		return v_Texcoord0 + offset;\n	#else\n		return v_Texcoord0;\n	#endif\n}\n\nvec3 ReflectCubeMap(in vec3 viewDir, in vec3 normal){\n	#ifdef REFLECTMAP\n		vec3 incident = -viewDir;\n		vec3 reflectionVector = reflect(incident, normal);\n		vec3 reflectionColor = textureCube(u_ReflectTexture, vec3(-reflectionVector.x, reflectionVector.yz)).rgb;\n		return reflectionColor * u_ReflectIntensity;\n	#else\n		return vec3(0.0);\n	#endif\n}\n\n");
		Shader3D.addInclude("PBRStandardLighting.glsl","#include \"PBRUtils.glsl\"\n#include \"BRDF.glsl\"\n\nvec4 PBRStandardLight(in vec3 diffuseColor, in float metallic, in float smoothness, in vec3 normal, in vec3 viewDir, in vec3 lightDir, in vec3 lightColor, in LayaGI gi)\n{\n	float oneMinusReflectivity;\n	vec3 specularColor;\n	diffuseColor = DiffuseAndSpecularFromMetallic (diffuseColor, metallic, specularColor, oneMinusReflectivity);\n	\n	vec4 color = LayaAirBRDF(diffuseColor, specularColor, oneMinusReflectivity, smoothness, normal, viewDir, lightDir, lightColor, gi);\n	return color;\n}\n\nvec4 PBRStandardDiectionLight (in vec3 diffuseColor, in float metallic, in float smoothness, in vec3 normal, in vec3 viewDir, in DirectionLight light, in LayaGI gi)\n{\n	vec3 lightVec = normalize(light.Direction);\n	return PBRStandardLight(diffuseColor, metallic, smoothness, normal, viewDir, lightVec, light.Color, gi);\n}\n\nvec2 MetallicGloss(in float diffuseTextureAlpha, in vec2 uv0)\n{\n	vec2 mg;\n	\n	#ifdef METALLICGLOSSTEXTURE\n		vec4 metallicGlossTextureColor = texture2D(u_MetallicGlossTexture, uv0);\n		#ifdef SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA\n			mg.r = metallicGlossTextureColor.r;\n			mg.g = diffuseTextureAlpha;\n		#else\n		    mg = metallicGlossTextureColor.ra;\n		#endif\n		mg.g *= u_smoothnessScale;\n	#else\n		mg.r = u_metallic;\n		#ifdef SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA\n			mg.g = diffuseTextureAlpha * u_smoothnessScale;\n		#else\n			mg.g = u_smoothness;\n		#endif\n	#endif\n	\n	return mg;\n}\n\n");
		Shader3D.addInclude("PBRSpecularLighting.glsl","#include \"PBRUtils.glsl\"\n#include \"BRDF.glsl\"\n\nvec4 PBRSpecularLight(in vec3 diffuseColor, in vec3 specularColor, in float smoothness, in vec3 normal, in vec3 viewDir, in vec3 lightDir, in vec3 lightColor, in LayaGI gi)\n{\n	float oneMinusReflectivity;\n	diffuseColor = EnergyConservationBetweenDiffuseAndSpecular (diffuseColor, specularColor, oneMinusReflectivity);\n	\n	vec4 color = LayaAirBRDF(diffuseColor, specularColor, oneMinusReflectivity, smoothness, normal, viewDir, lightDir, lightColor, gi);\n	return color;\n}\n\nvec4 PBRSpecularDiectionLight (in vec3 diffuseColor, in vec3 specularColor, in float smoothness, in vec3 normal, in vec3 viewDir, in DirectionLight light, in LayaGI gi)\n{\n	vec3 lightVec = normalize(light.Direction);\n	return PBRSpecularLight(diffuseColor, specularColor, smoothness, normal, viewDir, lightVec, light.Color, gi);\n}\n\nvec4 SpecularGloss(float diffuseTextureAlpha, in vec2 uv0)\n{\n    vec4 sg;\n	\n	#ifdef SPECULARTEXTURE\n		vec4 specularTextureColor = texture2D(u_SpecularTexture, uv0);\n		#ifdef SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA\n			sg.rgb = specularTextureColor.rgb;\n			sg.a = diffuseTextureAlpha;\n		#else\n			sg = specularTextureColor;\n		#endif\n		sg.a *= u_smoothnessScale;\n	#else\n		sg.rgb = u_SpecularColor.rgb;\n		#ifdef SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA\n			sg.a = diffuseTextureAlpha * u_smoothnessScale;\n		#else\n			sg.a = u_smoothness;\n		#endif\n	#endif\n	\n    return sg;\n}\n\n");
		Shader3D.addInclude("LightHelper.glsl","\nstruct DirectionLight\n{\n vec3 Direction;\n vec3 Diffuse;\n};\n\nstruct PointLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n float Range;\n};\n\nstruct SpotLight\n{\n vec3 Diffuse;\n vec3 Attenuation;\n vec3 Position;\n vec3 Direction;\n float Spot;\n float Range;\n};\n\n\nvec3 NormalSampleToWorldSpace(vec3 normalMapSample, vec3 unitNormal, vec3 tangent)\n{\n	vec3 normalT = 2.0*normalMapSample - 1.0;\n\n	// Build orthonormal basis.\n	vec3 N = normalize(unitNormal);\n	vec3 T = normalize(tangent- dot(tangent, N)*N);\n	vec3 B = cross(T, N);\n\n	mat3 TBN = mat3(T, B, N);\n\n	// Transform from tangent space to world space.\n	vec3 bumpedNormal = TBN*normalT;\n\n	return bumpedNormal;\n}\n\n\nvoid  computeDirectionLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in DirectionLight dirLight,in vec3 ambinentColor,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n	dif=vec3(0.0);//不初始化在IOS中闪烁，PC中不会闪烁\n	amb=vec3(0.0);\n	spec=vec3(0.0);\n	vec3 lightVec=-normalize(dirLight.Direction);\n	\n	amb=matAmb*ambinentColor;\n	\n	float  diffuseFactor=dot(lightVec, normal);\n	\n	if(diffuseFactor>0.0)\n	{\n	   vec3 v = reflect(-lightVec, normal);\n	   float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n	   \n	   dif = diffuseFactor * matDif * dirLight.Diffuse;\n	   spec = specFactor * matSpe.rgb;\n	}\n	\n}\n\nvoid computePointLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in PointLight poiLight,in vec3 ambinentColor, in vec3 pos,in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n	dif=vec3(0.0);\n	amb=vec3(0.0);\n	spec=vec3(0.0);\n	vec3 lightVec = poiLight.Position - pos;\n		\n	float d = length(lightVec);\n	\n	if( d > poiLight.Range )\n		return;\n		\n	lightVec /= d; \n	\n	amb = matAmb*ambinentColor;	\n\n	float diffuseFactor = dot(lightVec, normal);\n\n	if( diffuseFactor > 0.0 )\n	{\n		vec3 v= reflect(-lightVec, normal);\n		float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n					\n		dif = diffuseFactor * matDif * poiLight.Diffuse;\n		spec = specFactor * matSpe.rgb;\n	}\n\n	float attenuate = 1.0 / dot(poiLight.Attenuation, vec3(1.0, d, d*d));\n\n	dif *= attenuate;\n	spec*= attenuate;\n}\n\nvoid ComputeSpotLight(in vec3 matDif,in vec3 matAmb,in vec4 matSpe,in SpotLight spoLight,in vec3 ambinentColor,in vec3 pos, in vec3 normal,in vec3 toEye,out vec3 dif,out vec3 amb,out vec3 spec)\n{\n	amb = vec3(0.0);\n	dif =vec3(0.0);\n	spec= vec3(0.0);\n	vec3 lightVec = spoLight.Position - pos;\n		\n	float d = length(lightVec);\n	\n	if( d > spoLight.Range)\n		return;\n		\n	lightVec /= d; \n	\n	amb = matAmb*ambinentColor;	\n\n	float diffuseFactor = dot(lightVec, normal);\n\n	if(diffuseFactor > 0.0)\n	{\n		vec3 v= reflect(-lightVec, normal);\n		float specFactor = pow(max(dot(v, toEye), 0.0), matSpe.w);\n					\n		dif = diffuseFactor * matDif * spoLight.Diffuse;\n		spec = specFactor * matSpe.rgb;\n	}\n	\n	float spot = pow(max(dot(-lightVec, normalize(spoLight.Direction)), 0.0), spoLight.Spot);\n\n	float attenuate = spot/dot(spoLight.Attenuation, vec3(1.0, d, d*d));\n\n	amb *= spot;\n	dif *= attenuate;\n	spec*= attenuate;\n}\n\n");
		var vs,ps;
		var attributeMap={
			'a_Position':0,
			'a_Color':1,
			'a_Normal':3,
			'a_Texcoord0':2,
			'a_Texcoord1':15,
			'a_BoneWeights':7,
			'a_BoneIndices':6,
			'a_Texcoord3d':38,
			'a_Tangent0':5};
		var uniformMap={
			'u_Bones':[0,0],
			'u_DiffuseTexture':[1,1],
			'u_SpecularTexture':[3,1],
			'u_NormalTexture':[2,1],
			'u_AlphaTestValue':[0,1],
			'u_DiffuseColor':[5,1],
			'u_MaterialSpecular':[6,1],
			'u_Shininess':[7,1],
			'u_TilingOffset':[8,1],
			'u_ReflectColor':[9,1],
			'u_WorldMat':[0,2],
			'u_MvpMatrix':[1,2],
			'u_LightmapScaleOffset':[2,2],
			'u_LightMap':[3,2],
			'u_CameraPos':[0,3],
			'u_ReflectTexture':[22,4],
			'u_ReflectIntensity':[23,4],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4],
			'u_DirectionLight.Color':[4,4],
			'u_DirectionLight.Direction':[3,4],
			'u_PointLight.Position':[5,4],
			'u_PointLight.Range':[6,4],
			'u_PointLight.Color':[8,4],
			'u_SpotLight.Position':[9,4],
			'u_SpotLight.Direction':[10,4],
			'u_SpotLight.Range':[12,4],
			'u_SpotLight.Spot':[11,4],
			'u_SpotLight.Color':[14,4],
			'u_AmbientColor':[21,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]};
		vs="attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(SPECULARMAP)||defined(NORMALMAP)))||(defined(LIGHTMAP)&&defined(UV))\n	attribute vec2 a_Texcoord0;\n	varying vec2 v_Texcoord0;\n#endif\n\n#if defined(LIGHTMAP)&&defined(UV1)\n	attribute vec2 a_Texcoord1;\n#endif\n\n#ifdef LIGHTMAP\n	uniform vec4 u_LightmapScaleOffset;\n	varying vec2 v_LightMapUV;\n#endif\n\n#ifdef COLOR\n	attribute vec4 a_Color;\n	varying vec4 v_Color;\n#endif\n\n#ifdef BONE\n	const int c_MaxBoneCount = 24;\n	attribute vec4 a_BoneIndices;\n	attribute vec4 a_BoneWeights;\n	uniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n	attribute vec3 a_Normal;\n	varying vec3 v_Normal; \n	uniform vec3 u_CameraPos;\n	varying vec3 v_ViewDir; \n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n	attribute vec4 a_Tangent0;\n	varying vec3 v_Tangent;\n	varying vec3 v_Binormal;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n	uniform mat4 u_WorldMat;\n	varying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef TILINGOFFSET\n	uniform vec4 u_TilingOffset;\n#endif\n\nvoid main_castShadow()\n{\n	#ifdef BONE\n		mat4 skinTransform = u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position=skinTransform*a_Position;\n		gl_Position = u_MvpMatrix * position;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n	#endif\n	 \n	//TODO没考虑UV动画呢\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		v_Texcoord0=a_Texcoord0;\n	#endif\n		v_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n	#ifdef BONE\n		mat4 skinTransform = u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position=skinTransform*a_Position;\n		gl_Position = u_MvpMatrix * position;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n	#endif\n\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n		mat3 worldMat;\n		#ifdef BONE\n			worldMat=mat3(u_WorldMat*skinTransform);\n		#else\n			worldMat=mat3(u_WorldMat);\n		#endif  \n		v_Normal=worldMat*a_Normal;//TODO:法线可以用\"魔法\"矩阵\n		#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n			v_Tangent=worldMat*a_Tangent0.xyz;\n			v_Binormal=cross(v_Normal,v_Tangent)*a_Tangent0.w;\n		#endif\n	#endif\n\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)||defined(RECEIVESHADOW)\n		#ifdef BONE\n			v_PositionWorld=(u_WorldMat*position).xyz;\n		#else\n			v_PositionWorld=(u_WorldMat*a_Position).xyz;\n		#endif\n	#endif\n	\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n		v_ViewDir=u_CameraPos-v_PositionWorld;\n	#endif\n\n	#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(SPECULARMAP)||defined(NORMALMAP)))\n		v_Texcoord0=a_Texcoord0;\n		#ifdef TILINGOFFSET\n			v_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n			v_Texcoord0=vec2(v_Texcoord0.x,1.0+v_Texcoord0.y);\n		#endif\n	#endif\n\n	#ifdef LIGHTMAP\n		#ifdef SCALEOFFSETLIGHTINGMAPUV\n			#ifdef UV1\n				v_LightMapUV=vec2(a_Texcoord1.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,1.0+a_Texcoord1.y*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n			#else\n				v_LightMapUV=vec2(a_Texcoord0.x,a_Texcoord0.y-1.0)*u_LightmapScaleOffset.xy+u_LightmapScaleOffset.zw;\n			#endif \n		#else\n			#ifdef UV1\n				v_LightMapUV=a_Texcoord1;\n			#else\n				v_LightMapUV=a_Texcoord0;\n			#endif \n		#endif \n	#endif\n\n	#ifdef COLOR\n		v_Color=a_Color;\n	#endif\n\n	#ifdef RECEIVESHADOW\n		v_posViewZ = gl_Position.w;\n		#ifdef SHADOWMAP_PSSM1 \n			v_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n		#endif\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW\n		main_castShadow();\n	#else\n		main_normal();\n	#endif\n}";
		ps="#ifdef HIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\n#include \"Lighting.glsl\";\n\nuniform vec4 u_DiffuseColor;\n\n#ifdef COLOR\n	varying vec4 v_Color;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n	varying vec3 v_ViewDir; \n	#ifdef REFLECTMAP\n		uniform samplerCube u_ReflectTexture;\n		uniform float u_ReflectIntensity;\n		uniform vec3 u_ReflectColor;\n	#endif\n#endif\n\n#ifdef ALPHATEST\n	uniform float u_AlphaTestValue;\n#endif\n\n#ifdef DIFFUSEMAP\n	uniform sampler2D u_DiffuseTexture;\n#endif\n\n\n\n#if defined(DIFFUSEMAP)||((defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&(defined(SPECULARMAP)||defined(NORMALMAP)))\n	varying vec2 v_Texcoord0;\n#endif\n\n#ifdef LIGHTMAP\n	varying vec2 v_LightMapUV;\n	uniform sampler2D u_LightMap;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	uniform vec3 u_MaterialSpecular;\n	uniform float u_Shininess;\n	#ifdef SPECULARMAP \n		uniform sampler2D u_SpecularTexture;\n	#endif\n#endif\n\n#ifdef FOG\n	uniform float u_FogStart;\n	uniform float u_FogRange;\n	#ifdef ADDTIVEFOG\n	#else\n		uniform vec3 u_FogColor;\n	#endif\n#endif\n\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n	varying vec3 v_Normal;\n#endif\n\n#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n	uniform sampler2D u_NormalTexture;\n	varying vec3 v_Tangent;\n	varying vec3 v_Binormal;\n#endif\n\n#ifdef DIRECTIONLIGHT\n	uniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\n	uniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\n	uniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n\n#if defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(RECEIVESHADOW)\n	varying vec3 v_PositionWorld;\n#endif\n\n#include \"ShadowHelper.glsl\"\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n		uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n		varying vec4 v_lightMVPPos;\n	#endif\n#endif\n\nvoid main_castShadow()\n{\n	//gl_FragColor=vec4(v_posViewZ,0.0,0.0,1.0);\n	gl_FragColor=packDepth(v_posViewZ);\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		float alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n		if( alpha < u_AlphaTestValue )\n		{\n			discard;\n		}\n	#endif\n}\nvoid main_normal()\n{\n	vec3 globalDiffuse=u_AmbientColor;\n	vec3 globalSpecular=vec3(0.0);\n	\n	#ifdef LIGHTMAP\n		globalDiffuse+=texture2D(u_LightMap, v_LightMapUV).rgb*2.0;\n	#endif\n	\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(REFLECTMAP)\n		vec3 normal;\n		#if (defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT))&&defined(NORMALMAP)\n			vec3 normalMapSample = texture2D(u_NormalTexture, v_Texcoord0).rgb;\n			normal = normalize(NormalSampleToWorldSpace(normalMapSample, v_Normal, v_Tangent,v_Binormal));\n		#else\n			normal = normalize(v_Normal);\n		#endif\n		vec3 viewDir= normalize(v_ViewDir);\n	#endif\n	\n	#ifdef REFLECTMAP\n		vec3 incident =-viewDir;\n		vec3 reflectionVector = reflect(incident,normal);\n		vec3 reflectionColor  = textureCube(u_ReflectTexture,vec3(-reflectionVector.x,reflectionVector.yz)).rgb;//转换坐标系\n		globalSpecular= u_ReflectColor*reflectionColor*u_ReflectIntensity;\n	#endif\n	\n	vec4 mainColor=u_DiffuseColor;\n	#ifdef DIFFUSEMAP\n		vec4 difTexColor=texture2D(u_DiffuseTexture, v_Texcoord0);\n		mainColor=mainColor*difTexColor;\n	#endif \n	#ifdef COLOR\n		mainColor=mainColor*v_Color;\n	#endif \n    \n	#ifdef ALPHATEST\n		if(mainColor.a<u_AlphaTestValue)\n			discard;\n	#endif\n  \n	\n	vec3 diffuse = vec3(0.0);\n	vec3 specular= vec3(0.0);\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n		vec3 dif,spe;\n		#ifdef SPECULARMAP\n			vec3 gloss=texture2D(u_SpecularTexture, v_Texcoord0).rgb;\n		#else\n			#ifdef DIFFUSEMAP\n				vec3 gloss=vec3(difTexColor.a);\n			#else\n				vec3 gloss=vec3(1.0);\n			#endif\n		#endif\n	#endif\n\n	\n	#ifdef DIRECTIONLIGHT\n		LayaAirBlinnPhongDiectionLight(u_MaterialSpecular,u_Shininess,normal,gloss,viewDir,u_DirectionLight,dif,spe);\n		diffuse+=dif;\n		specular+=spe;\n	#endif\n \n	#ifdef POINTLIGHT\n		LayaAirBlinnPhongPointLight(v_PositionWorld,u_MaterialSpecular,u_Shininess,normal,gloss,viewDir,u_PointLight,dif,spe);\n		diffuse+=dif;\n		specular+=spe;\n	#endif\n\n	#ifdef SPOTLIGHT\n		LayaAirBlinnPhongSpotLight(v_PositionWorld,u_MaterialSpecular,u_Shininess,normal,gloss,viewDir,u_SpotLight,dif,spe);\n		diffuse+=dif;\n		specular+=spe;\n	#endif\n\n	#ifdef RECEIVESHADOW\n		float shadowValue = 1.0;\n		#ifdef SHADOWMAP_PSSM3\n			shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif\n		#ifdef SHADOWMAP_PSSM2\n			shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif \n		#ifdef SHADOWMAP_PSSM1\n			shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n		#endif\n		gl_FragColor =vec4(mainColor.rgb*(globalDiffuse + diffuse)*shadowValue,mainColor.a);\n	#else\n		gl_FragColor =vec4(mainColor.rgb*(globalDiffuse + diffuse),mainColor.a);\n	#endif\n\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n		#ifdef RECEIVESHADOW\n			gl_FragColor.rgb+=(globalSpecular+specular)*shadowValue;\n		#else\n			gl_FragColor.rgb+=(globalSpecular+specular);\n		#endif\n	#endif\n	  \n	#ifdef FOG\n		float lerpFact=clamp((1.0/gl_FragCoord.w-u_FogStart)/u_FogRange,0.0,1.0);\n		#ifdef ADDTIVEFOG\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n		#else\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n		#endif\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW		\n		main_castShadow();\n	#else\n	  main_normal();\n	#endif  \n}\n\n";
		var shader=Shader3D.add("BLINNPHONG",attributeMap,uniformMap,SkinnedMeshSprite3D.shaderDefines,BlinnPhongMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Color':1};
		uniformMap={
			'u_MvpMatrix':[1,2]};
		vs="attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n\n\nvoid main()\n{\n  gl_Position = u_MvpMatrix * a_Position;\n  v_Color=a_Color;\n}";
		ps="#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n  gl_FragColor=v_Color; \n}\n\n";
		shader=Shader3D.add("LINE",attributeMap,uniformMap);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_position':0,
			'a_normal':3,
			'tangent':5,
			'binormal':4,
			'uv':2,
			'a_BoneWeights':7,
			'a_BoneIndices':6,
			'a_Tangent0':5};
		uniformMap={
			'u_Bones':[0,0],
			'u_lodRect':[9,3],
			'irrad_mat_red':[10,3],
			'irrad_mat_green':[11,3],
			'irrad_mat_blue':[12,3],
			'u_hdrexposure':[13,3],
			'u_aoObjPos':[14,1],
			'texBaseColor':[1,1],
			'texNormal':[2,1],
			'texPbrInfo':[3,1],
			'texPrefilterdEnv':[8,3],
			'texHSNoise':[15,1],
			'texPrefilterDiff':[7,3],
			'u_AlphaTestValue':[0,1],
			'texBRDFLUT':[4,1],
			'u_UVAniAge':[5,1],
			'u_roughness':[6,1],
			'u_metaless':[7,1],
			'u_UVMatrix':[8,1],
			'u_UVAge':[9,1],
			'modelMatrix':[0,2],
			'mvp':[1,2],
			'cameraPosition':[0,3],
			'u_View':[1,3],
			'u_Project':[2,3],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4],
			'u_DirectionLight.Direction':[3,4],
			'u_DirectionLight.Diffuse':[4,4],
			'u_PointLight.Position':[5,4],
			'u_PointLight.Range':[6,4],
			'u_PointLight.Attenuation':[7,4],
			'u_PointLight.Diffuse':[8,4],
			'u_SpotLight.Position':[9,4],
			'u_SpotLight.Direction':[10,4],
			'u_SpotLight.Range':[12,4],
			'u_SpotLight.Spot':[11,4],
			'u_SpotLight.Attenuation':[13,4],
			'u_SpotLight.Diffuse':[14,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]};
		vs="\nuniform mat4 modelMatrix;\n//uniform mat4 modelViewMatrix;\n//uniform mat4 projectionMatrix;\nuniform mat4 u_View;\nuniform mat4 u_Project;\nuniform mat4 mvp;\n//uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\n#ifdef HAS_TANGENT\nattribute vec3 tangent;\nattribute vec3 binormal;\n#endif\nattribute vec2 uv;\n#ifdef BONE\nattribute vec4 a_BoneIndices;\nattribute vec4 a_BoneWeights;\nconst int c_MaxBoneCount = 24;\nuniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\nvarying vec2 vUv;\nvarying vec3 vWorldNorm;\nvarying vec4 vViewPos;\nvarying vec4 vWorldPos;\nvarying vec3 vLightDir;\nvarying vec3 vViewDir;\n#ifdef HAS_TANGENT\nvarying vec3 vWorldTangent;\nvarying vec3 vWorldBinormal;\n#endif\n\n#ifdef RECEIVESHADOW\nvarying float v_posViewZ;\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\nvoid main() {\n#ifdef BONE\n	mat4 skinTransform=mat4(0.0);\n	skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n	skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n	skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n	skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n	gl_Position = mvp*skinTransform*vec4(a_position,1.);\n	mat4 modelMat = modelMatrix*skinTransform;\n#else\n	gl_Position = mvp*vec4(a_position,1.);\n	mat4 modelMat = modelMatrix;\n#endif	\n	vWorldPos = modelMat*vec4(a_position,1.);\n\n#ifdef CASTSHADOW \n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		vUv = uv;\n	#endif	\n#else\n    vUv = uv;\n	vWorldNorm = normalize((modelMat*vec4(a_normal,0.0)).xyz);\n	#ifdef HAS_TANGENT\n	vWorldTangent = normalize((modelMat*vec4(tangent,0.0)).xyz);\n	vWorldBinormal = normalize((modelMat*vec4(binormal,0.0)).xyz);\n	#endif\n    \n    vViewDir = (vWorldPos.xyz-cameraPosition);//这个不能normalize。否则无法线性差值了\n#ifdef RECEIVESHADOW\n	v_posViewZ = gl_Position.z;\n	#ifdef SHADOWMAP_PSSM1 \n		v_lightMVPPos = u_lightShadowVP[0] * vWorldPos;\n	#endif\n#endif	\n#endif\n}\n";
		ps="//#version 300 es\n\nprecision highp float;\nprecision lowp int;\n\nconst float PI = 3.14159265358979323846264;\nconst float _2PI = 6.2831853071796;\nvarying vec2 vUv;\nvarying vec3 vWorldNorm;\n#ifdef HAS_TANGENT\nvarying vec3 vWorldTangent;\nvarying vec3 vWorldBinormal;\n#endif\nvarying vec3 vViewDir;\nvarying vec4 vViewPos;\nvarying vec4 vWorldPos;\n//\nuniform sampler2D texBaseColor;\nuniform sampler2D texNormal;\n//预计算的贴图\nuniform sampler2D texPrefilterdEnv;\nuniform sampler2D texBRDFLUT;\nuniform sampler2D texPrefilterDiff;\n#ifdef HAS_PBRINFO\nuniform sampler2D texPbrInfo;   //Ao, Roughness, Metallic\n#endif\nuniform float u_hdrexposure;\nuniform float u_AlphaTestValue;\n\nuniform float u_roughness;\nuniform float u_metaless;\nconst float maxlv = 7.;	//现在只支持512分辨率的环境贴图\nconst int nmaxlv = 9;//\n							\nuniform mat4 irrad_mat_red;\nuniform mat4 irrad_mat_green;\nuniform mat4 irrad_mat_blue;							\n\nvec3 speccontrib = vec3(0.);\n\nconst float _maxu8 = 255.0;\nconst float _maxu16 = 65535.0;\nconst float _shift8 = 256.0;    //平移的话是*256而不是255\nvec2 _RGBAToU16(const in vec4 rgba){\n    return vec2((rgba.r*_maxu8+rgba.g*_maxu8*_shift8)/_maxu16, (rgba.b*_maxu8+rgba.a*_maxu8*_shift8)/_maxu16);\n}\nvec3 _RGBEToRGB( const in vec4 rgba ){\n    float f = pow(2.0, rgba.w * 255.0 - (128.0 + 8.0));\n    return rgba.rgb * (255.0 * f);\n}\n\nfloat saturate(float v){\n    return min(max(v,0.),1.);\n}\n\nvec4 tex2dLod(sampler2D tex, float u, float v, float lod){\n	vec2 uv = vec2(u,v);\n	uv+=mod(gl_FragCoord.xy-vec2(0.5),2.0)*vec2(128.,0.);\n	return texture2D(tex,uv,lod-16.);\n}\n\n/*\n* 对一个全景图进行采样。假设x轴指向中心。\n*/\nvec4 texPanorama(sampler2D tex, const in vec3 dir){\n	float envu = atan(dir.z,dir.x)/_2PI+0.5; 	\n	float envv = acos(dir.y)/PI;//(1.0-dir.y)/2.0;\n	return texture2D(tex,vec2(envu,envv));\n}\n\nvec4 texPanoramaLod(sampler2D tex, const in vec3 dir, float lod){\n	float envu = atan(dir.z,dir.x)/_2PI+0.5; 	\n	float envv = acos(dir.y)/PI;//(1.0-dir.y)/2.0;\n	return tex2dLod(tex,envu,envv,lod);\n}\n\n/*\n    计算sh光照。\n    使用level=2，所以需要9个系数。\n    https://cseweb.ucsd.edu/~ravir/papers/envmap/envmap.pdf\n*/\nfloat environment_exposure = 1.0;\nvec3 diff_sh9(vec3 dir){\n	vec4 shDir = vec4(dir.x,-dir.z,dir.y,1.0);\n  return max(vec3(0.0), vec3(\n	dot(shDir, irrad_mat_red * shDir),\n	dot(shDir, irrad_mat_green * shDir),\n	dot(shDir, irrad_mat_blue * shDir)\n	)) * environment_exposure;	\n}\n\n#ifdef HAS_TANGENT\nvec3 applyNormalTex( vec3 norm, vec3 surf_norm ) {\n    vec3 mapN = norm * 2.0 - 1.0;\n    //mapN.xy = normalScale * mapN.xy;\n    mat3 tsn = mat3( vWorldTangent, vWorldBinormal, surf_norm );\n    return normalize( tsn * mapN );\n}\n#endif\n\nvec4 pbrlight(vec3 normal, float rough, float NoV, vec3 R){\n    vec4 basecolor = texture2D(texBaseColor,vUv);\n	basecolor.rgb = pow(basecolor.rgb,vec3(2.2));\n	float metaless = 1.0; 	\n	const float ismetalinfov = (128./255.);\n	if(basecolor.a>=ismetalinfov){//这时候表示金属度\n		metaless = (basecolor.a-ismetalinfov)*2.;\n		basecolor.a = 1.0;\n	}else{\n		metaless = 0.;\n		basecolor.a = basecolor.a*2.0;\n	}\n	#ifdef FIX_METALESS\n	metaless = u_metaless;\n	#endif\n	#ifdef HAS_PBRINFO	\n	vec4 pbrinfo = texture2D(texPbrInfo, vUv);\n	metaless = pbrinfo.b;\n	rough = pbrinfo.g;\n	#endif\n    const vec3 nonmetalF0 =vec3(0.02);\n    vec3 F0 =  mix(nonmetalF0, basecolor.rgb, metaless);\n	\n    vec4 PrefilteredColor = texPanoramaLod(texPrefilterdEnv, R, rough*maxlv);\n    PrefilteredColor.rgb = _RGBEToRGB(PrefilteredColor);\n    vec4 EnvBRDF = texture2D(texBRDFLUT,vec2(rough , NoV));//TODO lod\n    vec2 rg = _RGBAToU16(EnvBRDF);    \n    speccontrib = (F0* rg.x + saturate( 50.0 * PrefilteredColor.g ) * rg.y);\n	vec3 color_spec = PrefilteredColor.rgb*speccontrib;\n	\n	vec3 color_diff=diff_sh9(normal);\n	vec3 outc =  color_diff*mix(basecolor.rgb,vec3(0.),metaless)*(vec3(1.0)-speccontrib)+color_spec;\n	#ifdef HAS_PBRINFO\n	outc*=pbrinfo.r;\n	#endif\n	return vec4(outc, basecolor.a);\n}\n\nvec3 oldlight(vec4 normal, float NoV, vec3 R){\n    vec4 basecolor = texture2D(texBaseColor,vUv);\n	const vec3 lightdir=normalize(vec3(1.,1.,0.));\n	const vec3 spcecol = vec3(1.,0.8,0.8);\n	const vec3 amb = vec3(0.5);\n	vec3 diffv =  (vec3(saturate(dot(lightdir,normal.xyz)))+amb);\n	//vec3 spec = spcecol* pow(saturate(dot(R,lightdir)),(1.-pbrinfo.g)*5.);\n	return diffv*basecolor.rgb;//+spec;\n}\n\n#include \"ShadowHelper.glsl\"\n#ifdef RECEIVESHADOW\nvarying float v_posViewZ;\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n	uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n	varying vec4 v_lightMVPPos;\n	#endif\n#endif\n\nvoid main() {\n#ifdef CASTSHADOW\n	gl_FragColor=packDepth(gl_FragCoord.w);\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		float alpha = texture2D(texBaseColor,vUv).w;\n		if( alpha < u_AlphaTestValue ){\n			discard;\n		}\n	#endif\n#else\n\n	#ifdef RECEIVESHADOW\n		float shadowValue = 1.0;\n		#ifdef SHADOWMAP_PSSM3\n			shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,vWorldPos.xyz,v_posViewZ,0.0001);\n		#endif\n		#ifdef SHADOWMAP_PSSM2\n			shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,vWorldPos.xyz,v_posViewZ,0.0001);\n		#endif \n		#ifdef SHADOWMAP_PSSM1\n			shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.0001);\n		#endif\n	#endif	\n	\n    vec3 normal =  normalize(vWorldNorm);\n	vec4 normtex = texture2D( texNormal, vUv );\n	#ifdef HAS_TANGENT	\n	normal = applyNormalTex(normtex.xyz, normal);\n	#endif\n    vec3 view   = -normalize(vViewDir);\n    float NoV = saturate(dot( view, normal ));\n    vec3 R = 2. * NoV * normal - view;\n	float roughness = normtex.a;\n	#ifdef FIX_ROUGHNESS\n	roughness = u_roughness;\n	#endif\n	\n	vec4 pbrl = pbrlight(normal,roughness,NoV,R)*u_hdrexposure;\n    gl_FragColor.rgb =  pow(pbrl.rgb,vec3(0.45455));\n	//gl_FragColor.rgb = oldlight(normtex,NoV,R);\n	#ifdef RECEIVESHADOW\n	gl_FragColor.rgb *= max(shadowValue,0.7);\n	#endif\n	\n    gl_FragColor.a = pbrl.a;\n\n#endif\n}\n";
		shader=Shader3D.add("PBR",attributeMap,uniformMap,SkinnedMeshSprite3D.shaderDefines,PBRMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Normal':3,
			'a_Tangent0':5,
			'a_Texcoord0':2,
			'a_BoneWeights':7,
			'a_BoneIndices':6
		};
		uniformMap={
			'u_Bones':[0,0],
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2],
			'u_CameraPos':[0,3],
			'u_AlphaTestValue':[0,1],
			'u_DiffuseColor':[7,1],
			'u_EmissionColor':[8,1],
			'u_DiffuseTexture':[1,1],
			'u_NormalTexture':[3,1],
			'u_ParallaxTexture':[4,1],
			'u_MetallicGlossTexture':[2,1],
			'u_OcclusionTexture':[5,1],
			'u_EmissionTexture':[6,1],
			'u_metallic':[9,1],
			'u_smoothness':[10,1],
			'u_smoothnessScale':[11,1],
			'u_occlusionStrength':[13,1],
			'u_normalScale':[14,1],
			'u_parallaxScale':[15,1],
			'u_TilingOffset':[18,1],
			'u_DirectionLight.Direction':[3,4],
			'u_DirectionLight.Color':[4,4],
			'u_ReflectTexture':[22,4],
			'u_ReflectIntensity':[23,4],
			'u_AmbientColor':[21,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]
		};
		vs="attribute vec4 a_Position;\nattribute vec3 a_Normal;\nattribute vec4 a_Tangent0;\nattribute vec2 a_Texcoord0;\n\nuniform mat4 u_MvpMatrix;\nuniform mat4 u_WorldMat;\nuniform vec3 u_CameraPos;\n\nvarying vec2 v_Texcoord0;\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\nvarying vec3 v_PositionWorld;\n\n#ifdef TILINGOFFSET\n	uniform vec4 u_TilingOffset;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n	  varying vec4 v_lightMVPPos;\n	  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef BONE\n	const int c_MaxBoneCount = 24;\n	attribute vec4 a_BoneIndices;\n	attribute vec4 a_BoneWeights;\n	uniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\nvoid main_castShadow()\n{\n	#ifdef BONE\n		mat4 skinTransform=mat4(0.0);\n		skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position = skinTransform * a_Position;\n		gl_Position = u_MvpMatrix * position;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n	#endif\n	 \n	//TODO没考虑UV动画呢\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		v_Texcoord0 = a_Texcoord0;\n	#endif\n		v_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n	mat3 worldMat;\n	#ifdef BONE\n		mat4 skinTransform = mat4(0.0);\n		skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position = skinTransform * a_Position;\n		gl_Position = u_MvpMatrix * position;\n		worldMat=mat3(u_WorldMat*skinTransform);\n		v_PositionWorld = (u_WorldMat * position).xyz;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n		worldMat = mat3(u_WorldMat);\n		v_PositionWorld = (u_WorldMat * a_Position).xyz;\n	#endif\n	\n	v_Normal = worldMat * a_Normal;\n	v_Tangent = worldMat * a_Tangent0.xyz;\n	v_Binormal = cross(v_Normal, v_Tangent) * a_Tangent0.w;\n  \n	v_Texcoord0 = a_Texcoord0;\n	#ifdef TILINGOFFSET\n		v_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n	#endif\n		v_Texcoord0=vec2(v_Texcoord0.x,1.0 + v_Texcoord0.y);\n  \n	v_ViewDir = u_CameraPos - v_PositionWorld;\n  \n	#ifdef RECEIVESHADOW\n		v_posViewZ = gl_Position.w;\n		#ifdef SHADOWMAP_PSSM1 \n			v_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n		#endif\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW\n		main_castShadow();\n	#else\n		main_normal();\n	#endif\n}";
		ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\nvarying vec2 v_Texcoord0;\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\n\nuniform vec4 u_AmbientColor;\nuniform vec4 u_DiffuseColor;\n\n#ifdef DIFFUSETEXTURE\n	uniform sampler2D u_DiffuseTexture;\n#endif\n#ifdef METALLICGLOSSTEXTURE\n	uniform sampler2D u_MetallicGlossTexture;\n#endif\n#ifdef NORMALTEXTURE\n	uniform sampler2D u_NormalTexture;\n	uniform float u_normalScale;\n#endif\n#ifdef PARALLAXTEXTURE\n	uniform sampler2D u_ParallaxTexture;\n	uniform float u_parallaxScale;\n#endif\n#ifdef OCCLUSIONTEXTURE\n	uniform sampler2D u_OcclusionTexture;\n	uniform float u_occlusionStrength;\n#endif\n#ifdef EMISSION\n	#ifdef EMISSIONTEXTURE\n		uniform sampler2D u_EmissionTexture;\n	#endif\n	uniform vec4 u_EmissionColor;\n#endif\n#ifdef REFLECTMAP\n	uniform samplerCube u_ReflectTexture;\n	uniform float u_ReflectIntensity;\n#endif\n\nuniform float u_AlphaTestValue;\nuniform float u_metallic;\nuniform float u_smoothness;\nuniform float u_smoothnessScale;\n\n#include \"PBRStandardLighting.glsl\"\n#include \"ShadowHelper.glsl\"\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n		uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n		varying vec4 v_lightMVPPos;\n	#endif\n#endif\n\nuniform DirectionLight u_DirectionLight;\n\nvoid main_castShadow()\n{\n	gl_FragColor=packDepth(v_posViewZ);\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		float alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n		if( alpha < u_AlphaTestValue )\n		{\n			discard;\n		}\n	#endif\n}\n\nvoid main_normal()\n{	\n	vec3 viewDir = normalize(v_ViewDir);\n	\n	vec2 uv0 = ParallaxOffset(viewDir);\n	\n	vec2 mg;\n	#ifdef DIFFUSETEXTURE\n		vec4 diffuseTextureColor = texture2D(u_DiffuseTexture, uv0);\n		vec4 diffuseColor = diffuseTextureColor * u_DiffuseColor;\n		mg = MetallicGloss(diffuseTextureColor.a, uv0);\n	#else\n		vec4 diffuseColor = u_DiffuseColor;\n		mg = MetallicGloss(1.0, uv0);\n	#endif\n	\n	#ifdef ALPHATEST\n		if(diffuseColor.a < u_AlphaTestValue)\n			discard;\n	#endif\n	\n	gl_FragColor = diffuseColor;\n	\n	vec3 normal = UnpackScaleNormal(uv0);\n  \n	LayaGI gi;\n	gi.diffuse = (u_AmbientColor * Occlusion(uv0)).rgb;\n	gi.specular = ReflectCubeMap(viewDir, normal);\n  \n	vec4 color = PBRStandardDiectionLight(diffuseColor.rgb, mg.r, mg.g, normal, viewDir, u_DirectionLight, gi);\n	\n	color.a = diffuseColor.a;\n	\n	#ifdef EMISSION\n		vec4 emissionColor = u_EmissionColor;\n		#ifdef EMISSIONTEXTURE\n			emissionColor *=  texture2D(u_EmissionTexture, uv0);\n		#endif\n		color.rgb += emissionColor.rgb;\n	#endif\n	\n	#ifdef RECEIVESHADOW\n		float shadowValue = 1.0;\n		#ifdef SHADOWMAP_PSSM3\n			shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif\n		#ifdef SHADOWMAP_PSSM2\n			shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif \n		#ifdef SHADOWMAP_PSSM1\n			shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n		#endif\n		gl_FragColor = vec4(color.rgb * shadowValue, color.a);\n	#else\n		gl_FragColor = color;\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW		\n		main_castShadow();\n	#else\n		main_normal();\n	#endif  \n}\n\n";
		shader=Shader3D.add("PBRStandard",attributeMap,uniformMap,SkinnedMeshSprite3D.shaderDefines,PBRStandardMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Normal':3,
			'a_Tangent0':5,
			'a_Texcoord0':2,
			'a_BoneWeights':7,
			'a_BoneIndices':6
		};
		uniformMap={
			'u_Bones':[0,0],
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2],
			'u_CameraPos':[0,3],
			'u_AlphaTestValue':[0,1],
			'u_DiffuseColor':[7,1],
			'u_SpecularColor':[8,1],
			'u_EmissionColor':[9,1],
			'u_DiffuseTexture':[1,1],
			'u_NormalTexture':[3,1],
			'u_ParallaxTexture':[4,1],
			'u_SpecularTexture':[2,1],
			'u_OcclusionTexture':[5,1],
			'u_EmissionTexture':[6,1],
			'u_smoothness':[10,1],
			'u_smoothnessScale':[11,1],
			'u_occlusionStrength':[13,1],
			'u_normalScale':[14,1],
			'u_parallaxScale':[15,1],
			'u_TilingOffset':[18,1],
			'u_DirectionLight.Direction':[3,4],
			'u_DirectionLight.Color':[4,4],
			'u_ReflectTexture':[22,4],
			'u_ReflectIntensity':[23,4],
			'u_AmbientColor':[21,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]
		};
		vs="attribute vec4 a_Position;\nattribute vec3 a_Normal;\nattribute vec4 a_Tangent0;\nattribute vec2 a_Texcoord0;\n\nuniform mat4 u_MvpMatrix;\nuniform mat4 u_WorldMat;\nuniform vec3 u_CameraPos;\n\nvarying vec2 v_Texcoord0;\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\nvarying vec3 v_PositionWorld;\n\n#ifdef TILINGOFFSET\n	uniform vec4 u_TilingOffset;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n	  varying vec4 v_lightMVPPos;\n	  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef BONE\n	const int c_MaxBoneCount = 24;\n	attribute vec4 a_BoneIndices;\n	attribute vec4 a_BoneWeights;\n	uniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\nvoid main_castShadow()\n{\n	#ifdef BONE\n		mat4 skinTransform=mat4(0.0);\n		skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position = skinTransform * a_Position;\n		gl_Position = u_MvpMatrix * position;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n	#endif\n	 \n	//TODO没考虑UV动画呢\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		v_Texcoord0 = a_Texcoord0;\n	#endif\n		v_posViewZ = gl_Position.z;\n}\n\nvoid main_normal()\n{\n	mat3 worldMat;\n	#ifdef BONE\n		mat4 skinTransform = mat4(0.0);\n		skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position = skinTransform * a_Position;\n		gl_Position = u_MvpMatrix * position;\n		worldMat=mat3(u_WorldMat*skinTransform);\n		v_PositionWorld = (u_WorldMat * position).xyz;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n		worldMat = mat3(u_WorldMat);\n		v_PositionWorld = (u_WorldMat * a_Position).xyz;\n	#endif\n	\n	v_Normal = worldMat * a_Normal;\n	v_Tangent = worldMat * a_Tangent0.xyz;\n	v_Binormal = cross(v_Normal, v_Tangent) * a_Tangent0.w;\n  \n	v_Texcoord0 = a_Texcoord0;\n	#ifdef TILINGOFFSET\n		v_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n	#endif\n		v_Texcoord0=vec2(v_Texcoord0.x,1.0 + v_Texcoord0.y);\n  \n	v_ViewDir = u_CameraPos - v_PositionWorld;\n  \n	#ifdef RECEIVESHADOW\n		v_posViewZ = gl_Position.w;\n		#ifdef SHADOWMAP_PSSM1 \n			v_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n		#endif\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW\n		main_castShadow();\n	#else\n		main_normal();\n	#endif\n}";
		ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\nvarying vec2 v_Texcoord0;\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\n\nuniform vec4 u_AmbientColor;\nuniform vec4 u_DiffuseColor;\nuniform vec4 u_SpecularColor;\n\n#ifdef DIFFUSETEXTURE\n	uniform sampler2D u_DiffuseTexture;\n#endif\n#ifdef SPECULARTEXTURE\n	uniform sampler2D u_SpecularTexture;\n#endif\n#ifdef NORMALTEXTURE\n	uniform sampler2D u_NormalTexture;\n	uniform float u_normalScale;\n#endif\n#ifdef PARALLAXTEXTURE\n	uniform sampler2D u_ParallaxTexture;\n	uniform float u_parallaxScale;\n#endif\n#ifdef OCCLUSIONTEXTURE\n	uniform sampler2D u_OcclusionTexture;\n	uniform float u_occlusionStrength;\n#endif\n#ifdef EMISSION\n	#ifdef EMISSIONTEXTURE\n		uniform sampler2D u_EmissionTexture;\n	#endif\n	uniform vec4 u_EmissionColor;\n#endif\n#ifdef REFLECTMAP\n	uniform samplerCube u_ReflectTexture;\n	uniform float u_ReflectIntensity;\n#endif\n\nuniform float u_AlphaTestValue;\nuniform float u_metallic;\nuniform float u_smoothness;\nuniform float u_smoothnessScale;\n\n#include \"PBRSpecularLighting.glsl\"\n#include \"ShadowHelper.glsl\"\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n		uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n		varying vec4 v_lightMVPPos;\n	#endif\n#endif\n\nuniform DirectionLight u_DirectionLight;\n\nvoid main_castShadow()\n{\n	gl_FragColor=packDepth(v_posViewZ);\n	#if defined(DIFFUSEMAP)&&defined(ALPHATEST)\n		float alpha = texture2D(u_DiffuseTexture,v_Texcoord0).w;\n		if( alpha < u_AlphaTestValue )\n		{\n			discard;\n		}\n	#endif\n}\n\nvoid main_normal()\n{	\n	vec3 viewDir = normalize(v_ViewDir);\n	\n	vec2 uv0 = ParallaxOffset(viewDir);\n	\n	vec4 sg;\n	#ifdef DIFFUSETEXTURE\n		vec4 diffuseTextureColor = texture2D(u_DiffuseTexture, uv0);\n		vec4 diffuseColor = diffuseTextureColor * u_DiffuseColor;\n		sg = SpecularGloss(diffuseTextureColor.a, uv0);\n	#else\n		vec4 diffuseColor = u_DiffuseColor;\n		sg = SpecularGloss(1.0, uv0);\n	#endif\n	\n	#ifdef ALPHATEST\n		if(diffuseColor.a < u_AlphaTestValue)\n			discard;\n	#endif\n  \n	vec3 normal = UnpackScaleNormal(uv0);\n	\n	LayaGI gi;\n	gi.diffuse = (u_AmbientColor * Occlusion(uv0)).rgb;\n	gi.specular = ReflectCubeMap(viewDir, normal);\n	\n	//float a = (sg.r+sg.g+sg.b) / 3.0;\n  \n	vec4 color = PBRSpecularDiectionLight(diffuseColor.rgb, sg.rgb, sg.a, normal,viewDir, u_DirectionLight, gi);\n	\n	color.a = diffuseColor.a;\n	\n	#ifdef EMISSION\n		vec4 emissionColor = u_EmissionColor;\n		#ifdef EMISSIONTEXTURE\n			emissionColor *=  texture2D(u_EmissionTexture, uv0);\n		#endif\n		color.rgb += emissionColor.rgb;\n	#endif\n	\n	#ifdef RECEIVESHADOW\n		float shadowValue = 1.0;\n		#ifdef SHADOWMAP_PSSM3\n			shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif\n		#ifdef SHADOWMAP_PSSM2\n			shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n		#endif \n		#ifdef SHADOWMAP_PSSM1\n			shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n		#endif\n		gl_FragColor = vec4(color.rgb * shadowValue, color.a);\n	#else\n		gl_FragColor = color;\n	#endif\n}\n\nvoid main()\n{\n	#ifdef CASTSHADOW		\n		main_castShadow();\n	#else\n		main_normal();\n	#endif  \n}\n\n";
		shader=Shader3D.add("PBRSpecular",attributeMap,uniformMap,SkinnedMeshSprite3D.shaderDefines,PBRSpecularMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Texcoord0':2,
			'a_BoneWeights':7,
			'a_BoneIndices':6
		};
		uniformMap={
			'u_Bones':[0,0],
			'u_AlbedoTexture':[1,1],
			'u_AlbedoColor':[2,1],
			'u_TilingOffset':[3,1],
			'u_AlphaTestValue':[0,1],
			'u_MvpMatrix':[1,2],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4]
		};
		vs="attribute vec4 a_Position;\nattribute vec2 a_Texcoord0;\n\nuniform mat4 u_MvpMatrix;\n\nvarying vec2 v_Texcoord0;\n\n#ifdef TILINGOFFSET\n	uniform vec4 u_TilingOffset;\n#endif\n\n#ifdef BONE\n	const int c_MaxBoneCount = 24;\n	attribute vec4 a_BoneIndices;\n	attribute vec4 a_BoneWeights;\n	uniform mat4 u_Bones[c_MaxBoneCount];\n#endif\n\nvoid main()\n{\n	#ifdef BONE\n		mat4 skinTransform = mat4(0.0);\n		skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\n		skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\n		skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\n		skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\n		vec4 position = skinTransform * a_Position;\n		gl_Position = u_MvpMatrix * position;\n	#else\n		gl_Position = u_MvpMatrix * a_Position;\n	#endif\n	\n	v_Texcoord0 = a_Texcoord0;\n	#ifdef TILINGOFFSET\n		v_Texcoord0=(vec2(v_Texcoord0.x,v_Texcoord0.y-1.0)*u_TilingOffset.xy)+u_TilingOffset.zw;\n	#endif\n		v_Texcoord0=vec2(v_Texcoord0.x,1.0 + v_Texcoord0.y);\n}";
		ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\nvarying vec2 v_Texcoord0;\n\n#ifdef ALBEDOTEXTURE\n	uniform sampler2D u_AlbedoTexture;\n#endif\n\nuniform vec4 u_AlbedoColor;\n\n#ifdef ALPHATEST\n	uniform float u_AlphaTestValue;\n#endif\n\nvoid main()\n{\n	vec4 color =  u_AlbedoColor;\n	#ifdef ALBEDOTEXTURE\n		color *= texture2D(u_AlbedoTexture, v_Texcoord0);\n	#endif\n	\n	#ifdef ALPHATEST\n		if(color.a < u_AlphaTestValue)\n			discard;\n	#endif\n	\n	gl_FragColor = color;\n}\n\n";
		shader=Shader3D.add("Unlit",attributeMap,uniformMap,SkinnedMeshSprite3D.shaderDefines,UnlitMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_CornerTextureCoordinate':17,
			'a_MeshPosition':0,
			'a_MeshColor':1,
			'a_MeshTextureCoordinate':2,
			'a_ShapePositionStartLifeTime':30,
			'a_DirectionTime':32,
			'a_StartColor':19,
			'a_EndColor':23,
			'a_StartSize':20,
			'a_StartRotation0':22,
			'a_StartSpeed':31,
			'a_Random0':34,
			'a_Random1':35,
			'a_SimulationWorldPostion':36,
			'a_SimulationWorldRotation':37};
		uniformMap={
			'u_Tintcolor':[2,1],
			'u_TilingOffset':[3,1],
			'u_texture':[1,1],
			'u_WorldPosition':[0,2],
			'u_WorldRotation':[1,2],
			'u_PositionScale':[4,2],
			'u_SizeScale':[5,2],
			'u_ScalingMode':[6,2],
			'u_Gravity':[7,2],
			'u_ThreeDStartRotation':[8,2],
			'u_StretchedBillboardLengthScale':[9,2],
			'u_StretchedBillboardSpeedScale':[10,2],
			'u_SimulationSpace':[11,2],
			'u_CurrentTime':[12,2],
			'u_ColorOverLifeGradientAlphas':[22,2],
			'u_ColorOverLifeGradientColors':[23,2],
			'u_MaxColorOverLifeGradientAlphas':[24,2],
			'u_MaxColorOverLifeGradientColors':[25,2],
			'u_VOLVelocityConst':[13,2],
			'u_VOLVelocityGradientX':[14,2],
			'u_VOLVelocityGradientY':[15,2],
			'u_VOLVelocityGradientZ':[16,2],
			'u_VOLVelocityConstMax':[17,2],
			'u_VOLVelocityGradientMaxX':[18,2],
			'u_VOLVelocityGradientMaxY':[19,2],
			'u_VOLVelocityGradientMaxZ':[20,2],
			'u_VOLSpaceType':[21,2],
			'u_SOLSizeGradient':[26,2],
			'u_SOLSizeGradientX':[27,2],
			'u_SOLSizeGradientY':[28,2],
			'u_SOLSizeGradientZ':[29,2],
			'u_SOLSizeGradientMax':[30,2],
			'u_SOLSizeGradientMaxX':[31,2],
			'u_SOLSizeGradientMaxY':[32,2],
			'u_SOLSizeGradientMaxZ':[33,2],
			'u_ROLAngularVelocityConst':[34,2],
			'u_ROLAngularVelocityConstSeprarate':[35,2],
			'u_ROLAngularVelocityGradient':[36,2],
			'u_ROLAngularVelocityGradientX':[37,2],
			'u_ROLAngularVelocityGradientY':[38,2],
			'u_ROLAngularVelocityGradientZ':[39,2],
			'u_ROLAngularVelocityGradientW':[40,2],
			'u_ROLAngularVelocityConstMax':[41,2],
			'u_ROLAngularVelocityConstMaxSeprarate':[42,2],
			'u_ROLAngularVelocityGradientMax':[43,2],
			'u_ROLAngularVelocityGradientMaxX':[44,2],
			'u_ROLAngularVelocityGradientMaxY':[45,2],
			'u_ROLAngularVelocityGradientMaxZ':[46,2],
			'u_ROLAngularVelocityGradientMaxW':[47,2],
			'u_TSACycles':[48,2],
			'u_TSASubUVLength':[49,2],
			'u_TSAGradientUVs':[50,2],
			'u_TSAMaxGradientUVs':[51,2],
			'u_CameraPosition':[0,3],
			'u_CameraDirection':[5,3],
			'u_CameraUp':[6,3],
			'u_View':[1,3],
			'u_Projection':[2,3],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4]};
		vs="#ifdef HIGHPRECISION\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n\n#if defined(SPHERHBILLBOARD)||defined(STRETCHEDBILLBOARD)||defined(HORIZONTALBILLBOARD)||defined(VERTICALBILLBOARD)\n	attribute vec4 a_CornerTextureCoordinate;\n#endif\n#ifdef RENDERMODE_MESH\n	attribute vec3 a_MeshPosition;\n	attribute vec4 a_MeshColor;\n	attribute vec2 a_MeshTextureCoordinate;\n	varying vec4 v_MeshColor;\n#endif\n\nattribute vec4 a_ShapePositionStartLifeTime;\nattribute vec4 a_DirectionTime;\nattribute vec4 a_StartColor;\nattribute vec3 a_StartSize;\nattribute vec3 a_StartRotation0;\nattribute float a_StartSpeed;\n#if defined(COLOROVERLIFETIME)||defined(RANDOMCOLOROVERLIFETIME)||defined(SIZEOVERLIFETIMERANDOMCURVES)||defined(SIZEOVERLIFETIMERANDOMCURVESSEPERATE)||defined(ROTATIONOVERLIFETIMERANDOMCONSTANTS)||defined(ROTATIONOVERLIFETIMERANDOMCURVES)\n  attribute vec4 a_Random0;\n#endif\n#if defined(TEXTURESHEETANIMATIONRANDOMCURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n  attribute vec4 a_Random1;\n#endif\nattribute vec3 a_SimulationWorldPostion;\nattribute vec4 a_SimulationWorldRotation;\n\nvarying float v_Discard;\nvarying vec4 v_Color;\n#ifdef DIFFUSEMAP\n	varying vec2 v_TextureCoordinate;\n#endif\n\nuniform float u_CurrentTime;\nuniform vec3 u_Gravity;\n\nuniform vec3 u_WorldPosition;\nuniform vec4 u_WorldRotation;\nuniform bool u_ThreeDStartRotation;\nuniform int u_ScalingMode;\nuniform vec3 u_PositionScale;\nuniform vec3 u_SizeScale;\nuniform mat4 u_View;\nuniform mat4 u_Projection;\n\n#ifdef STRETCHEDBILLBOARD\n	uniform vec3 u_CameraPosition;\n#endif\nuniform vec3 u_CameraDirection;//TODO:只有几种广告牌模式需要用\nuniform vec3 u_CameraUp;\n\nuniform  float u_StretchedBillboardLengthScale;\nuniform  float u_StretchedBillboardSpeedScale;\nuniform int u_SimulationSpace;\n\n#if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n  uniform  int  u_VOLSpaceType;\n#endif\n#if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)\n  uniform  vec3 u_VOLVelocityConst;\n#endif\n#if defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n  uniform  vec2 u_VOLVelocityGradientX[4];//x为key,y为速度\n  uniform  vec2 u_VOLVelocityGradientY[4];//x为key,y为速度\n  uniform  vec2 u_VOLVelocityGradientZ[4];//x为key,y为速度\n#endif\n#ifdef VELOCITYOVERLIFETIMERANDOMCONSTANT\n  uniform  vec3 u_VOLVelocityConstMax;\n#endif\n#ifdef VELOCITYOVERLIFETIMERANDOMCURVE\n  uniform  vec2 u_VOLVelocityGradientMaxX[4];//x为key,y为速度\n  uniform  vec2 u_VOLVelocityGradientMaxY[4];//x为key,y为速度\n  uniform  vec2 u_VOLVelocityGradientMaxZ[4];//x为key,y为速度\n#endif\n\n#ifdef COLOROVERLIFETIME\n  uniform  vec4 u_ColorOverLifeGradientColors[4];//x为key,yzw为Color\n  uniform  vec2 u_ColorOverLifeGradientAlphas[4];//x为key,y为Alpha\n#endif\n#ifdef RANDOMCOLOROVERLIFETIME\n  uniform  vec4 u_ColorOverLifeGradientColors[4];//x为key,yzw为Color\n  uniform  vec2 u_ColorOverLifeGradientAlphas[4];//x为key,y为Alpha\n  uniform  vec4 u_MaxColorOverLifeGradientColors[4];//x为key,yzw为Color\n  uniform  vec2 u_MaxColorOverLifeGradientAlphas[4];//x为key,y为Alpha\n#endif\n\n\n#if defined(SIZEOVERLIFETIMECURVE)||defined(SIZEOVERLIFETIMERANDOMCURVES)\n  uniform  vec2 u_SOLSizeGradient[4];//x为key,y为尺寸\n#endif\n#ifdef SIZEOVERLIFETIMERANDOMCURVES\n  uniform  vec2 u_SOLSizeGradientMax[4];//x为key,y为尺寸\n#endif\n#if defined(SIZEOVERLIFETIMECURVESEPERATE)||defined(SIZEOVERLIFETIMERANDOMCURVESSEPERATE)\n  uniform  vec2 u_SOLSizeGradientX[4];//x为key,y为尺寸\n  uniform  vec2 u_SOLSizeGradientY[4];//x为key,y为尺寸\n  uniform  vec2 u_SOLSizeGradientZ[4];//x为key,y为尺寸\n#endif\n#ifdef SIZEOVERLIFETIMERANDOMCURVESSEPERATE\n  uniform  vec2 u_SOLSizeGradientMaxX[4];//x为key,y为尺寸\n  uniform  vec2 u_SOLSizeGradientMaxY[4];//x为key,y为尺寸\n  uniform  vec2 u_SOLSizeGradientMaxZ[4];//x为key,y为尺寸\n#endif\n\n\n#ifdef ROTATIONOVERLIFETIME\n  #if defined(ROTATIONOVERLIFETIMECONSTANT)||defined(ROTATIONOVERLIFETIMERANDOMCONSTANTS)\n    uniform  float u_ROLAngularVelocityConst;\n  #endif\n  #ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n    uniform  float u_ROLAngularVelocityConstMax;\n  #endif\n  #if defined(ROTATIONOVERLIFETIMECURVE)||defined(ROTATIONOVERLIFETIMERANDOMCURVES)\n    uniform  vec2 u_ROLAngularVelocityGradient[4];//x为key,y为旋转\n  #endif\n  #ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n    uniform  vec2 u_ROLAngularVelocityGradientMax[4];//x为key,y为旋转\n  #endif\n#endif\n#ifdef ROTATIONOVERLIFETIMESEPERATE\n  #if defined(ROTATIONOVERLIFETIMECONSTANT)||defined(ROTATIONOVERLIFETIMERANDOMCONSTANTS)\n    uniform  vec3 u_ROLAngularVelocityConstSeprarate;\n  #endif\n  #ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n    uniform  vec3 u_ROLAngularVelocityConstMaxSeprarate;\n  #endif\n  #if defined(ROTATIONOVERLIFETIMECURVE)||defined(ROTATIONOVERLIFETIMERANDOMCURVES)\n    uniform  vec2 u_ROLAngularVelocityGradientX[4];\n    uniform  vec2 u_ROLAngularVelocityGradientY[4];\n    uniform  vec2 u_ROLAngularVelocityGradientZ[4];\n	uniform  vec2 u_ROLAngularVelocityGradientW[4];\n  #endif\n  #ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n    uniform  vec2 u_ROLAngularVelocityGradientMaxX[4];\n    uniform  vec2 u_ROLAngularVelocityGradientMaxY[4];\n    uniform  vec2 u_ROLAngularVelocityGradientMaxZ[4];\n	uniform  vec2 u_ROLAngularVelocityGradientMaxW[4];\n  #endif\n#endif\n\n#if defined(TEXTURESHEETANIMATIONCURVE)||defined(TEXTURESHEETANIMATIONRANDOMCURVE)\n  uniform  float u_TSACycles;\n  uniform  vec2 u_TSASubUVLength;\n  uniform  vec2 u_TSAGradientUVs[4];//x为key,y为frame\n#endif\n#ifdef TEXTURESHEETANIMATIONRANDOMCURVE\n  uniform  vec2 u_TSAMaxGradientUVs[4];//x为key,y为frame\n#endif\n\n#ifdef FOG\n	varying vec3 v_PositionWorld;\n#endif\n\n#ifdef TILINGOFFSET\n	uniform vec4 u_TilingOffset;\n#endif\n\nvec3 rotationByEuler(in vec3 vector,in vec3 rot)\n{\n	float halfRoll = rot.z * 0.5;\n    float halfPitch = rot.x * 0.5;\n	float halfYaw = rot.y * 0.5;\n\n	float sinRoll = sin(halfRoll);\n	float cosRoll = cos(halfRoll);\n	float sinPitch = sin(halfPitch);\n	float cosPitch = cos(halfPitch);\n	float sinYaw = sin(halfYaw);\n	float cosYaw = cos(halfYaw);\n\n	float quaX = (cosYaw * sinPitch * cosRoll) + (sinYaw * cosPitch * sinRoll);\n	float quaY = (sinYaw * cosPitch * cosRoll) - (cosYaw * sinPitch * sinRoll);\n	float quaZ = (cosYaw * cosPitch * sinRoll) - (sinYaw * sinPitch * cosRoll);\n	float quaW = (cosYaw * cosPitch * cosRoll) + (sinYaw * sinPitch * sinRoll);\n	\n	//vec4 q=vec4(quaX,quaY,quaZ,quaW);\n	//vec3 temp = cross(q.xyz, vector) + q.w * vector;\n	//return (cross(temp, -q.xyz) + dot(q.xyz,vector) * q.xyz + q.w * temp);\n	\n	float x = quaX + quaX;\n    float y = quaY + quaY;\n    float z = quaZ + quaZ;\n    float wx = quaW * x;\n    float wy = quaW * y;\n    float wz = quaW * z;\n	float xx = quaX * x;\n    float xy = quaX * y;\n	float xz = quaX * z;\n    float yy = quaY * y;\n    float yz = quaY * z;\n    float zz = quaZ * z;\n\n    return vec3(((vector.x * ((1.0 - yy) - zz)) + (vector.y * (xy - wz))) + (vector.z * (xz + wy)),\n                ((vector.x * (xy + wz)) + (vector.y * ((1.0 - xx) - zz))) + (vector.z * (yz - wx)),\n                ((vector.x * (xz - wy)) + (vector.y * (yz + wx))) + (vector.z * ((1.0 - xx) - yy)));\n	\n}\n\n//假定axis已经归一化\nvec3 rotationByAxis(in vec3 vector,in vec3 axis, in float angle)\n{\n	float halfAngle = angle * 0.5;\n	float sin = sin(halfAngle);\n	\n	float quaX = axis.x * sin;\n	float quaY = axis.y * sin;\n	float quaZ = axis.z * sin;\n	float quaW = cos(halfAngle);\n	\n	//vec4 q=vec4(quaX,quaY,quaZ,quaW);\n	//vec3 temp = cross(q.xyz, vector) + q.w * vector;\n	//return (cross(temp, -q.xyz) + dot(q.xyz,vector) * q.xyz + q.w * temp);\n	\n	float x = quaX + quaX;\n    float y = quaY + quaY;\n    float z = quaZ + quaZ;\n    float wx = quaW * x;\n    float wy = quaW * y;\n    float wz = quaW * z;\n	float xx = quaX * x;\n    float xy = quaX * y;\n	float xz = quaX * z;\n    float yy = quaY * y;\n    float yz = quaY * z;\n    float zz = quaZ * z;\n\n    return vec3(((vector.x * ((1.0 - yy) - zz)) + (vector.y * (xy - wz))) + (vector.z * (xz + wy)),\n                ((vector.x * (xy + wz)) + (vector.y * ((1.0 - xx) - zz))) + (vector.z * (yz - wx)),\n                ((vector.x * (xz - wy)) + (vector.y * (yz + wx))) + (vector.z * ((1.0 - xx) - yy)));\n	\n}\n\nvec3 rotationByQuaternions(in vec3 v,in vec4 q) \n{\n	return v + 2.0 * cross(q.xyz, cross(q.xyz, v) + q.w * v);\n}\n\n \n#if defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)||defined(SIZEOVERLIFETIMECURVE)||defined(SIZEOVERLIFETIMECURVESEPERATE)||defined(SIZEOVERLIFETIMERANDOMCURVES)||defined(SIZEOVERLIFETIMERANDOMCURVESSEPERATE)\nfloat getCurValueFromGradientFloat(in vec2 gradientNumbers[4],in float normalizedAge)\n{\n	float curValue;\n	for(int i=1;i<4;i++)\n	{\n		vec2 gradientNumber=gradientNumbers[i];\n		float key=gradientNumber.x;\n		if(key>=normalizedAge)\n		{\n			vec2 lastGradientNumber=gradientNumbers[i-1];\n			float lastKey=lastGradientNumber.x;\n			float age=(normalizedAge-lastKey)/(key-lastKey);\n			curValue=mix(lastGradientNumber.y,gradientNumber.y,age);\n			break;\n		}\n	}\n	return curValue;\n}\n#endif\n\n#if defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)||defined(ROTATIONOVERLIFETIMECURVE)||defined(ROTATIONOVERLIFETIMERANDOMCURVES)\nfloat getTotalValueFromGradientFloat(in vec2 gradientNumbers[4],in float normalizedAge)\n{\n	float totalValue=0.0;\n	for(int i=1;i<4;i++)\n	{\n		vec2 gradientNumber=gradientNumbers[i];\n		float key=gradientNumber.x;\n		vec2 lastGradientNumber=gradientNumbers[i-1];\n		float lastValue=lastGradientNumber.y;\n		\n		if(key>=normalizedAge){\n			float lastKey=lastGradientNumber.x;\n			float age=(normalizedAge-lastKey)/(key-lastKey);\n			totalValue+=(lastValue+mix(lastValue,gradientNumber.y,age))/2.0*a_ShapePositionStartLifeTime.w*(normalizedAge-lastKey);\n			break;\n		}\n		else{\n			totalValue+=(lastValue+gradientNumber.y)/2.0*a_ShapePositionStartLifeTime.w*(key-lastGradientNumber.x);\n		}\n	}\n	return totalValue;\n}\n#endif\n\n#if defined(COLOROVERLIFETIME)||defined(RANDOMCOLOROVERLIFETIME)\nvec4 getColorFromGradient(in vec2 gradientAlphas[4],in vec4 gradientColors[4],in float normalizedAge)\n{\n	vec4 overTimeColor;\n	for(int i=1;i<4;i++)\n	{\n		vec2 gradientAlpha=gradientAlphas[i];\n		float alphaKey=gradientAlpha.x;\n		if(alphaKey>=normalizedAge)\n		{\n			vec2 lastGradientAlpha=gradientAlphas[i-1];\n			float lastAlphaKey=lastGradientAlpha.x;\n			float age=(normalizedAge-lastAlphaKey)/(alphaKey-lastAlphaKey);\n			overTimeColor.a=mix(lastGradientAlpha.y,gradientAlpha.y,age);\n			break;\n		}\n	}\n	\n	for(int i=1;i<4;i++)\n	{\n		vec4 gradientColor=gradientColors[i];\n		float colorKey=gradientColor.x;\n		if(colorKey>=normalizedAge)\n		{\n			vec4 lastGradientColor=gradientColors[i-1];\n			float lastColorKey=lastGradientColor.x;\n			float age=(normalizedAge-lastColorKey)/(colorKey-lastColorKey);\n			overTimeColor.rgb=mix(gradientColors[i-1].yzw,gradientColor.yzw,age);\n			break;\n		}\n	}\n	return overTimeColor;\n}\n#endif\n\n\n#if defined(TEXTURESHEETANIMATIONCURVE)||defined(TEXTURESHEETANIMATIONRANDOMCURVE)\nfloat getFrameFromGradient(in vec2 gradientFrames[4],in float normalizedAge)\n{\n	float overTimeFrame;\n	for(int i=1;i<4;i++)\n	{\n		vec2 gradientFrame=gradientFrames[i];\n		float key=gradientFrame.x;\n		if(key>=normalizedAge)\n		{\n			vec2 lastGradientFrame=gradientFrames[i-1];\n			float lastKey=lastGradientFrame.x;\n			float age=(normalizedAge-lastKey)/(key-lastKey);\n			overTimeFrame=mix(lastGradientFrame.y,gradientFrame.y,age);\n			break;\n		}\n	}\n	return floor(overTimeFrame);\n}\n#endif\n\n#if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\nvec3 computeParticleLifeVelocity(in float normalizedAge)\n{\n  vec3 outLifeVelocity;\n  #ifdef VELOCITYOVERLIFETIMECONSTANT\n	 outLifeVelocity=u_VOLVelocityConst; \n  #endif\n  #ifdef VELOCITYOVERLIFETIMECURVE\n     outLifeVelocity= vec3(getCurValueFromGradientFloat(u_VOLVelocityGradientX,normalizedAge),getCurValueFromGradientFloat(u_VOLVelocityGradientY,normalizedAge),getCurValueFromGradientFloat(u_VOLVelocityGradientZ,normalizedAge));\n  #endif\n  #ifdef VELOCITYOVERLIFETIMERANDOMCONSTANT\n	 outLifeVelocity=mix(u_VOLVelocityConst,u_VOLVelocityConstMax,vec3(a_Random1.y,a_Random1.z,a_Random1.w)); \n  #endif\n  #ifdef VELOCITYOVERLIFETIMERANDOMCURVE\n     outLifeVelocity=vec3(mix(getCurValueFromGradientFloat(u_VOLVelocityGradientX,normalizedAge),getCurValueFromGradientFloat(u_VOLVelocityGradientMaxX,normalizedAge),a_Random1.y),\n	                 mix(getCurValueFromGradientFloat(u_VOLVelocityGradientY,normalizedAge),getCurValueFromGradientFloat(u_VOLVelocityGradientMaxY,normalizedAge),a_Random1.z),\n					 mix(getCurValueFromGradientFloat(u_VOLVelocityGradientZ,normalizedAge),getCurValueFromGradientFloat(u_VOLVelocityGradientMaxZ,normalizedAge),a_Random1.w));\n  #endif\n					\n  return outLifeVelocity;\n} \n#endif\n\nvec3 computeParticlePosition(in vec3 startVelocity, in vec3 lifeVelocity,in float age,in float normalizedAge,vec3 gravityVelocity,vec4 worldRotation)\n{\n   vec3 startPosition;\n   vec3 lifePosition;\n   #if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n	#ifdef VELOCITYOVERLIFETIMECONSTANT\n		  startPosition=startVelocity*age;\n		  lifePosition=lifeVelocity*age;\n	#endif\n	#ifdef VELOCITYOVERLIFETIMECURVE\n		  startPosition=startVelocity*age;\n		  lifePosition=vec3(getTotalValueFromGradientFloat(u_VOLVelocityGradientX,normalizedAge),getTotalValueFromGradientFloat(u_VOLVelocityGradientY,normalizedAge),getTotalValueFromGradientFloat(u_VOLVelocityGradientZ,normalizedAge));\n	#endif\n	#ifdef VELOCITYOVERLIFETIMERANDOMCONSTANT\n		  startPosition=startVelocity*age;\n		  lifePosition=lifeVelocity*age;\n	#endif\n	#ifdef VELOCITYOVERLIFETIMERANDOMCURVE\n		  startPosition=startVelocity*age;\n		  lifePosition=vec3(mix(getTotalValueFromGradientFloat(u_VOLVelocityGradientX,normalizedAge),getTotalValueFromGradientFloat(u_VOLVelocityGradientMaxX,normalizedAge),a_Random1.y)\n	      ,mix(getTotalValueFromGradientFloat(u_VOLVelocityGradientY,normalizedAge),getTotalValueFromGradientFloat(u_VOLVelocityGradientMaxY,normalizedAge),a_Random1.z)\n	      ,mix(getTotalValueFromGradientFloat(u_VOLVelocityGradientZ,normalizedAge),getTotalValueFromGradientFloat(u_VOLVelocityGradientMaxZ,normalizedAge),a_Random1.w));\n	#endif\n	\n	vec3 finalPosition;\n	if(u_VOLSpaceType==0){\n	  if(u_ScalingMode!=2)\n	   finalPosition =rotationByQuaternions(u_PositionScale*(a_ShapePositionStartLifeTime.xyz+startPosition+lifePosition),worldRotation);\n	  else\n	   finalPosition =rotationByQuaternions(u_PositionScale*a_ShapePositionStartLifeTime.xyz+startPosition+lifePosition,worldRotation);\n	}\n	else{\n	  if(u_ScalingMode!=2)\n	    finalPosition = rotationByQuaternions(u_PositionScale*(a_ShapePositionStartLifeTime.xyz+startPosition),worldRotation)+lifePosition;\n	  else\n	    finalPosition = rotationByQuaternions(u_PositionScale*a_ShapePositionStartLifeTime.xyz+startPosition,worldRotation)+lifePosition;\n	}\n  #else\n	 startPosition=startVelocity*age;\n	 vec3 finalPosition;\n	 if(u_ScalingMode!=2)\n	   finalPosition = rotationByQuaternions(u_PositionScale*(a_ShapePositionStartLifeTime.xyz+startPosition),worldRotation);\n	 else\n	   finalPosition = rotationByQuaternions(u_PositionScale*a_ShapePositionStartLifeTime.xyz+startPosition,worldRotation);\n  #endif\n  \n  if(u_SimulationSpace==0)\n    finalPosition=finalPosition+a_SimulationWorldPostion;\n  else if(u_SimulationSpace==1) \n    finalPosition=finalPosition+u_WorldPosition;\n  \n  finalPosition+=0.5*gravityVelocity*age;\n \n  return  finalPosition;\n}\n\n\nvec4 computeParticleColor(in vec4 color,in float normalizedAge)\n{\n	#ifdef COLOROVERLIFETIME\n	  color*=getColorFromGradient(u_ColorOverLifeGradientAlphas,u_ColorOverLifeGradientColors,normalizedAge);\n	#endif\n	\n	#ifdef RANDOMCOLOROVERLIFETIME\n	  color*=mix(getColorFromGradient(u_ColorOverLifeGradientAlphas,u_ColorOverLifeGradientColors,normalizedAge),getColorFromGradient(u_MaxColorOverLifeGradientAlphas,u_MaxColorOverLifeGradientColors,normalizedAge),a_Random0.y);\n	#endif\n\n    return color;\n}\n\nvec2 computeParticleSizeBillbard(in vec2 size,in float normalizedAge)\n{\n	#ifdef SIZEOVERLIFETIMECURVE\n		size*=getCurValueFromGradientFloat(u_SOLSizeGradient,normalizedAge);\n	#endif\n	#ifdef SIZEOVERLIFETIMERANDOMCURVES\n	    size*=mix(getCurValueFromGradientFloat(u_SOLSizeGradient,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMax,normalizedAge),a_Random0.z); \n	#endif\n	#ifdef SIZEOVERLIFETIMECURVESEPERATE\n		size*=vec2(getCurValueFromGradientFloat(u_SOLSizeGradientX,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientY,normalizedAge));\n	#endif\n	#ifdef SIZEOVERLIFETIMERANDOMCURVESSEPERATE\n	    size*=vec2(mix(getCurValueFromGradientFloat(u_SOLSizeGradientX,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMaxX,normalizedAge),a_Random0.z)\n	    ,mix(getCurValueFromGradientFloat(u_SOLSizeGradientY,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMaxY,normalizedAge),a_Random0.z));\n	#endif\n	return size;\n}\n\n#ifdef RENDERMODE_MESH\nvec3 computeParticleSizeMesh(in vec3 size,in float normalizedAge)\n{\n	#ifdef SIZEOVERLIFETIMECURVE\n		size*=getCurValueFromGradientFloat(u_SOLSizeGradient,normalizedAge);\n	#endif\n	#ifdef SIZEOVERLIFETIMERANDOMCURVES\n	    size*=mix(getCurValueFromGradientFloat(u_SOLSizeGradient,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMax,normalizedAge),a_Random0.z); \n	#endif\n	#ifdef SIZEOVERLIFETIMECURVESEPERATE\n		size*=vec3(getCurValueFromGradientFloat(u_SOLSizeGradientX,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientY,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientZ,normalizedAge));\n	#endif\n	#ifdef SIZEOVERLIFETIMERANDOMCURVESSEPERATE\n	    size*=vec3(mix(getCurValueFromGradientFloat(u_SOLSizeGradientX,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMaxX,normalizedAge),a_Random0.z)\n	    ,mix(getCurValueFromGradientFloat(u_SOLSizeGradientY,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMaxY,normalizedAge),a_Random0.z)\n		,mix(getCurValueFromGradientFloat(u_SOLSizeGradientZ,normalizedAge),getCurValueFromGradientFloat(u_SOLSizeGradientMaxZ,normalizedAge),a_Random0.z));\n	#endif\n	return size;\n}\n#endif\n\nfloat computeParticleRotationFloat(in float rotation,in float age,in float normalizedAge)\n{ \n	#ifdef ROTATIONOVERLIFETIME\n		#ifdef ROTATIONOVERLIFETIMECONSTANT\n			float ageRot=u_ROLAngularVelocityConst*age;\n	        rotation+=ageRot;\n		#endif\n		#ifdef ROTATIONOVERLIFETIMECURVE\n			rotation+=getTotalValueFromGradientFloat(u_ROLAngularVelocityGradient,normalizedAge);\n		#endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n			float ageRot=mix(u_ROLAngularVelocityConst,u_ROLAngularVelocityConstMax,a_Random0.w)*age;\n	        rotation+=ageRot;\n	    #endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n			rotation+=mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradient,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMax,normalizedAge),a_Random0.w);\n		#endif\n	#endif\n	#ifdef ROTATIONOVERLIFETIMESEPERATE\n		#ifdef ROTATIONOVERLIFETIMECONSTANT\n			float ageRot=u_ROLAngularVelocityConstSeprarate.z*age;\n	        rotation+=ageRot;\n		#endif\n		#ifdef ROTATIONOVERLIFETIMECURVE\n			rotation+=getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientZ,normalizedAge);\n		#endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n			float ageRot=mix(u_ROLAngularVelocityConstSeprarate.z,u_ROLAngularVelocityConstMaxSeprarate.z,a_Random0.w)*age;\n	        rotation+=ageRot;\n	    #endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n			rotation+=mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientZ,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMaxZ,normalizedAge),a_Random0.w));\n		#endif\n	#endif\n	return rotation;\n}\n\n#if defined(RENDERMODE_MESH)&&(defined(ROTATIONOVERLIFETIME)||defined(ROTATIONOVERLIFETIMESEPERATE))\nvec3 computeParticleRotationVec3(in vec3 rotation,in float age,in float normalizedAge)\n{ \n	#ifdef ROTATIONOVERLIFETIME\n	#ifdef ROTATIONOVERLIFETIMECONSTANT\n			float ageRot=u_ROLAngularVelocityConst*age;\n	        rotation+=ageRot;\n		#endif\n		#ifdef ROTATIONOVERLIFETIMECURVE\n			rotation+=getTotalValueFromGradientFloat(u_ROLAngularVelocityGradient,normalizedAge);\n		#endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n			float ageRot=mix(u_ROLAngularVelocityConst,u_ROLAngularVelocityConstMax,a_Random0.w)*age;\n	        rotation+=ageRot;\n	    #endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n			rotation+=mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradient,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMax,normalizedAge),a_Random0.w);\n		#endif\n	#endif\n	#ifdef ROTATIONOVERLIFETIMESEPERATE\n	#ifdef ROTATIONOVERLIFETIMECONSTANT\n			vec3 ageRot=u_ROLAngularVelocityConstSeprarate*age;\n	        rotation+=ageRot;\n		#endif\n		#ifdef ROTATIONOVERLIFETIMECURVE\n			rotation+=vec3(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientX,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientY,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientZ,normalizedAge));\n		#endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCONSTANTS\n			vec3 ageRot=mix(u_ROLAngularVelocityConstSeprarate,u_ROLAngularVelocityConstMaxSeprarate,a_Random0.w)*age;\n	        rotation+=ageRot;\n	    #endif\n		#ifdef ROTATIONOVERLIFETIMERANDOMCURVES\n			rotation+=vec3(mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientX,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMaxX,normalizedAge),a_Random0.w)\n	        ,mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientY,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMaxY,normalizedAge),a_Random0.w)\n	        ,mix(getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientZ,normalizedAge),getTotalValueFromGradientFloat(u_ROLAngularVelocityGradientMaxZ,normalizedAge),a_Random0.w));\n		#endif\n	#endif\n	return rotation;\n}\n#endif\n\nvec2 computeParticleUV(in vec2 uv,in float normalizedAge)\n{ \n	#ifdef TEXTURESHEETANIMATIONCURVE\n		float cycleNormalizedAge=normalizedAge*u_TSACycles;\n		float frame=getFrameFromGradient(u_TSAGradientUVs,cycleNormalizedAge-floor(cycleNormalizedAge));\n		float totalULength=frame*u_TSASubUVLength.x;\n		float floorTotalULength=floor(totalULength);\n	    uv.x+=totalULength-floorTotalULength;\n		uv.y+=floorTotalULength*u_TSASubUVLength.y;\n    #endif\n	#ifdef TEXTURESHEETANIMATIONRANDOMCURVE\n		float cycleNormalizedAge=normalizedAge*u_TSACycles;\n		float uvNormalizedAge=cycleNormalizedAge-floor(cycleNormalizedAge);\n	    float frame=floor(mix(getFrameFromGradient(u_TSAGradientUVs,uvNormalizedAge),getFrameFromGradient(u_TSAMaxGradientUVs,uvNormalizedAge),a_Random1.x));\n		float totalULength=frame*u_TSASubUVLength.x;\n		float floorTotalULength=floor(totalULength);\n	    uv.x+=totalULength-floorTotalULength;\n		uv.y+=floorTotalULength*u_TSASubUVLength.y;\n    #endif\n	return uv;\n}\n\nvoid main()\n{\n	float age = u_CurrentTime - a_DirectionTime.w;\n	float normalizedAge = age/a_ShapePositionStartLifeTime.w;\n	vec3 lifeVelocity;\n	if(normalizedAge<1.0){ \n	vec3 startVelocity=a_DirectionTime.xyz*a_StartSpeed;\n	#if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n		lifeVelocity= computeParticleLifeVelocity(normalizedAge);//计算粒子生命周期速度\n	#endif \n	vec3 gravityVelocity=u_Gravity*age;\n	\n	vec4 worldRotation;\n	if(u_SimulationSpace==0)\n		worldRotation=a_SimulationWorldRotation;\n	else\n		worldRotation=u_WorldRotation;\n	\n	vec3 center=computeParticlePosition(startVelocity, lifeVelocity, age, normalizedAge,gravityVelocity,worldRotation);//计算粒子位置\n   \n   \n   #ifdef SPHERHBILLBOARD\n		vec2 corner=a_CornerTextureCoordinate.xy;//Billboard模式z轴无效\n        vec3 cameraUpVector =normalize(u_CameraUp);//TODO:是否外面归一化\n        vec3 sideVector = normalize(cross(u_CameraDirection,cameraUpVector));\n        vec3 upVector = normalize(cross(sideVector,u_CameraDirection));\n	    corner*=computeParticleSizeBillbard(a_StartSize.xy,normalizedAge);\n		#if defined(ROTATIONOVERLIFETIME)||defined(ROTATIONOVERLIFETIMESEPERATE)\n			if(u_ThreeDStartRotation){\n				vec3 rotation=vec3(a_StartRotation0.xy,computeParticleRotationFloat(a_StartRotation0.z,age,normalizedAge));\n				center += u_SizeScale.xzy*rotationByEuler(corner.x*sideVector+corner.y*upVector,rotation);\n			}\n			else{\n				float rot = computeParticleRotationFloat(a_StartRotation0.x, age,normalizedAge);\n				float c = cos(rot);\n				float s = sin(rot);\n				mat2 rotation= mat2(c, -s, s, c);\n				corner=rotation*corner;\n				center += u_SizeScale.xzy*(corner.x*sideVector+corner.y*upVector);\n			}\n		#else\n			if(u_ThreeDStartRotation){\n				center += u_SizeScale.xzy*rotationByEuler(corner.x*sideVector+corner.y*upVector,a_StartRotation0);\n			}\n			else{\n				float c = cos(a_StartRotation0.x);\n				float s = sin(a_StartRotation0.x);\n				mat2 rotation= mat2(c, -s, s, c);\n				corner=rotation*corner;\n				center += u_SizeScale.xzy*(corner.x*sideVector+corner.y*upVector);\n			}\n		#endif\n   #endif\n   \n   #ifdef STRETCHEDBILLBOARD\n	vec2 corner=a_CornerTextureCoordinate.xy;//Billboard模式z轴无效\n	vec3 velocity;\n	#if defined(VELOCITYOVERLIFETIMECONSTANT)||defined(VELOCITYOVERLIFETIMECURVE)||defined(VELOCITYOVERLIFETIMERANDOMCONSTANT)||defined(VELOCITYOVERLIFETIMERANDOMCURVE)\n	    if(u_VOLSpaceType==0)\n		  velocity=rotationByQuaternions(u_SizeScale*(startVelocity+lifeVelocity),worldRotation)+gravityVelocity;\n	    else\n		  velocity=rotationByQuaternions(u_SizeScale*startVelocity,worldRotation)+lifeVelocity+gravityVelocity;\n    #else\n	    velocity= rotationByQuaternions(u_SizeScale*startVelocity,worldRotation)+gravityVelocity;\n    #endif	\n		vec3 cameraUpVector = normalize(velocity);\n		vec3 direction = normalize(center-u_CameraPosition);\n        vec3 sideVector = normalize(cross(direction,normalize(velocity)));\n		\n		sideVector=u_SizeScale.xzy*sideVector;\n		cameraUpVector=length(vec3(u_SizeScale.x,0.0,0.0))*cameraUpVector;\n		\n	    vec2 size=computeParticleSizeBillbard(a_StartSize.xy,normalizedAge);\n		\n	    const mat2 rotaionZHalfPI=mat2(0.0, -1.0, 1.0, 0.0);\n	    corner=rotaionZHalfPI*corner;\n	    corner.y=corner.y-abs(corner.y);\n		\n	    float speed=length(velocity);//TODO:\n	    center +=sign(u_SizeScale.x)*(sign(u_StretchedBillboardLengthScale)*size.x*corner.x*sideVector+(speed*u_StretchedBillboardSpeedScale+size.y*u_StretchedBillboardLengthScale)*corner.y*cameraUpVector);\n   #endif\n   \n   #ifdef HORIZONTALBILLBOARD\n		vec2 corner=a_CornerTextureCoordinate.xy;//Billboard模式z轴无效\n        const vec3 cameraUpVector=vec3(0.0,0.0,1.0);\n	    const vec3 sideVector = vec3(-1.0,0.0,0.0);\n		\n		float rot = computeParticleRotationFloat(a_StartRotation0.x, age,normalizedAge);\n        float c = cos(rot);\n        float s = sin(rot);\n        mat2 rotation= mat2(c, -s, s, c);\n	    corner=rotation*corner*cos(0.78539816339744830961566084581988);//TODO:临时缩小cos45,不确定U3D原因\n		corner*=computeParticleSizeBillbard(a_StartSize.xy,normalizedAge);\n        center +=u_SizeScale.xzy*(corner.x*sideVector+ corner.y*cameraUpVector);\n   #endif\n   \n   #ifdef VERTICALBILLBOARD\n		vec2 corner=a_CornerTextureCoordinate.xy;//Billboard模式z轴无效\n        const vec3 cameraUpVector =vec3(0.0,1.0,0.0);\n        vec3 sideVector = normalize(cross(u_CameraDirection,cameraUpVector));\n		\n		float rot = computeParticleRotationFloat(a_StartRotation0.x, age,normalizedAge);\n        float c = cos(rot);\n        float s = sin(rot);\n        mat2 rotation= mat2(c, -s, s, c);\n	    corner=rotation*corner*cos(0.78539816339744830961566084581988);//TODO:临时缩小cos45,不确定U3D原因\n		corner*=computeParticleSizeBillbard(a_StartSize.xy,normalizedAge);\n        center +=u_SizeScale.xzy*(corner.x*sideVector+ corner.y*cameraUpVector);\n   #endif\n   \n   #ifdef RENDERMODE_MESH\n	    vec3 size=computeParticleSizeMesh(a_StartSize,normalizedAge);\n		#if defined(ROTATIONOVERLIFETIME)||defined(ROTATIONOVERLIFETIMESEPERATE)\n			if(u_ThreeDStartRotation){\n				vec3 rotation=vec3(a_StartRotation0.xy,-computeParticleRotationFloat(a_StartRotation0.z, age,normalizedAge));\n				center+= rotationByQuaternions(u_SizeScale*rotationByEuler(a_MeshPosition*size,rotation),worldRotation);\n			}\n			else{\n				#ifdef ROTATIONOVERLIFETIME\n					float angle=computeParticleRotationFloat(a_StartRotation0.x, age,normalizedAge);\n					if(a_ShapePositionStartLifeTime.x!=0.0||a_ShapePositionStartLifeTime.y!=0.0){\n						center+= (rotationByQuaternions(rotationByAxis(u_SizeScale*a_MeshPosition*size,normalize(cross(vec3(0.0,0.0,1.0),vec3(a_ShapePositionStartLifeTime.xy,0.0))),angle),worldRotation));//已验证\n					}\n					else{\n						#ifdef SHAPE\n							center+= u_SizeScale.xzy*(rotationByQuaternions(rotationByAxis(a_MeshPosition*size,vec3(0.0,-1.0,0.0),angle),worldRotation));\n						#else\n							if(u_SimulationSpace==0)\n								center+=rotationByAxis(u_SizeScale*a_MeshPosition*size,vec3(0.0,0.0,-1.0),angle);//已验证\n							else if(u_SimulationSpace==1)\n								center+=rotationByQuaternions(u_SizeScale*rotationByAxis(a_MeshPosition*size,vec3(0.0,0.0,-1.0),angle),worldRotation);//已验证\n						#endif\n					}\n				#endif\n				#ifdef ROTATIONOVERLIFETIMESEPERATE\n					//TODO:是否应合并if(u_ThreeDStartRotation)分支代码,待测试\n					vec3 angle=computeParticleRotationVec3(vec3(0.0,0.0,a_StartRotation0.z), age,normalizedAge);\n					center+= (rotationByQuaternions(rotationByEuler(u_SizeScale*a_MeshPosition*size,vec3(angle.x,angle.y,angle.z)),worldRotation));//已验证\n				#endif		\n			}\n		#else\n			if(u_ThreeDStartRotation){\n				center+= rotationByQuaternions(u_SizeScale*rotationByEuler(a_MeshPosition*size,a_StartRotation0),worldRotation);//已验证\n			}\n			else{\n				if(a_ShapePositionStartLifeTime.x!=0.0||a_ShapePositionStartLifeTime.y!=0.0){\n					if(u_SimulationSpace==0)\n						center+= rotationByAxis(u_SizeScale*a_MeshPosition*size,normalize(cross(vec3(0.0,0.0,1.0),vec3(a_ShapePositionStartLifeTime.xy,0.0))),a_StartRotation0.x);\n					else if(u_SimulationSpace==1)\n						center+= (rotationByQuaternions(u_SizeScale*rotationByAxis(a_MeshPosition*size,normalize(cross(vec3(0.0,0.0,1.0),vec3(a_ShapePositionStartLifeTime.xy,0.0))),a_StartRotation0.x),worldRotation));//已验证\n				}\n				else{\n					#ifdef SHAPE\n						if(u_SimulationSpace==0)\n							center+= u_SizeScale*rotationByAxis(a_MeshPosition*size,vec3(0.0,-1.0,0.0),a_StartRotation0.x);\n						else if(u_SimulationSpace==1)\n							center+= rotationByQuaternions(u_SizeScale*rotationByAxis(a_MeshPosition*size,vec3(0.0,-1.0,0.0),a_StartRotation0.x),worldRotation);	\n					#else\n						if(u_SimulationSpace==0)\n							center+= rotationByAxis(u_SizeScale*a_MeshPosition*size,vec3(0.0,0.0,-1.0),a_StartRotation0.x);\n						else if(u_SimulationSpace==1)\n							center+= rotationByQuaternions(u_SizeScale*rotationByAxis(a_MeshPosition*size,vec3(0.0,0.0,-1.0),a_StartRotation0.x),worldRotation);//已验证\n					#endif\n				}\n			}\n		#endif\n		v_MeshColor=a_MeshColor;\n   #endif\n   \n    gl_Position=u_Projection*u_View*vec4(center,1.0);\n    v_Color = computeParticleColor(a_StartColor, normalizedAge);\n	#ifdef DIFFUSEMAP\n		#if defined(SPHERHBILLBOARD)||defined(STRETCHEDBILLBOARD)||defined(HORIZONTALBILLBOARD)||defined(VERTICALBILLBOARD)\n			v_TextureCoordinate =computeParticleUV(a_CornerTextureCoordinate.zw, normalizedAge);\n		#endif\n		#ifdef RENDERMODE_MESH\n			v_TextureCoordinate =computeParticleUV(a_MeshTextureCoordinate, normalizedAge);\n		#endif\n		\n		#ifdef TILINGOFFSET\n			v_TextureCoordinate=vec2(v_TextureCoordinate.x,1.0-v_TextureCoordinate.y)*u_TilingOffset.xy+vec2(u_TilingOffset.z,-u_TilingOffset.w);//需要特殊处理\n			v_TextureCoordinate=vec2(v_TextureCoordinate.x,1.0-v_TextureCoordinate.y);//需要特殊处理\n		#endif\n	#endif\n    v_Discard=0.0;\n	  \n	#ifdef FOG\n		v_PositionWorld=center;\n	#endif\n   }\n   else\n	{\n		v_Discard=1.0;\n	}\n}\n\n";
		ps="#ifdef HIGHPRECISION\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n\nvarying float v_Discard;\nvarying vec4 v_Color;\nvarying vec2 v_TextureCoordinate;\nuniform sampler2D u_texture;\nuniform vec4 u_Tintcolor;\n\n#ifdef RENDERMODE_MESH\n	varying vec4 v_MeshColor;\n#endif\n\n#ifdef FOG\n	varying vec3 v_PositionWorld;\n	uniform vec3 u_CameraPosition;\n	uniform float u_FogStart;\n	uniform float u_FogRange;\n	#ifdef ADDTIVEFOG\n	#else\n		uniform vec3 u_FogColor;\n	#endif\n#endif\n\n\nvoid main()\n{	\n	#ifdef RENDERMODE_MESH\n		gl_FragColor=v_MeshColor;\n	#else\n		gl_FragColor=vec4(1.0);	\n	#endif\n		\n	#ifdef DIFFUSEMAP\n		if(v_Discard!=0.0)\n			discard;\n		#ifdef TINTCOLOR\n			gl_FragColor*=texture2D(u_texture,v_TextureCoordinate)*u_Tintcolor*2.0*v_Color;\n		#else\n			gl_FragColor*=texture2D(u_texture,v_TextureCoordinate)*v_Color;\n		#endif\n	#else\n		#ifdef TINTCOLOR\n			gl_FragColor*=u_Tintcolor*2.0*v_Color;\n		#else\n			gl_FragColor*=v_Color;\n		#endif\n	#endif\n	\n	#ifdef FOG\n		vec3 toEye=u_CameraPosition-v_PositionWorld;\n		float toEyeLength=length(toEye);\n		toEye/=toEyeLength;\n		\n		float lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n		#ifdef ADDTIVEFOG\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n		#else\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n		#endif\n	#endif\n}";
		shader=Shader3D.add("PARTICLESHURIKEN",attributeMap,uniformMap,ShuriKenParticle3D.shaderDefines,ShurikenParticleMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0};
		uniformMap={
			'u_TintColor':[1,1],
			'u_Exposure':[2,1],
			'u_Rotation':[3,1],
			'u_CubeTexture':[4,1],
			'u_MvpMatrix':[4,3]};
		vs="attribute vec4 a_Position;\nuniform mat4 u_MvpMatrix;\nuniform float u_Rotation;\nvarying vec3 v_Texcoord;\n\n\nvec4 rotateAroundYInDegrees (vec4 vertex, float degrees)\n{\n	float angle = degrees * 3.141593 / 180.0;\n	float sina=sin(angle);\n	float cosa=cos(angle);\n	mat2 m = mat2(cosa, -sina, sina, cosa);\n	return vec4(m*vertex.xz, vertex.yw).xzyw;\n}\n		\nvoid main()\n{\n	vec4 position=rotateAroundYInDegrees(a_Position,u_Rotation);\n	gl_Position = (u_MvpMatrix*position).xyww;\n	v_Texcoord=vec3(-a_Position.x,a_Position.yz);//转换坐标系\n}\n";
		ps="#ifdef HIGHPRECISION\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nvarying vec3 v_Texcoord;\n\nuniform samplerCube u_CubeTexture;\nuniform float u_Exposure;\nuniform vec4 u_TintColor;\n\n\nvoid main()\n{	\n	vec3 color=textureCube(u_CubeTexture, v_Texcoord).rgb*u_TintColor.rgb*u_Exposure*2.0;\n	gl_FragColor=vec4(color,1.0);\n}\n\n";
		shader=Shader3D.add("SkyBox",attributeMap,uniformMap);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Normal':3,
			'a_Texcoord0':2,
			'a_Texcoord1':15};
		uniformMap={
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2],
			'u_LightmapScaleOffset':[2,2],
			'u_LightMap':[3,2],
			'u_SplatAlphaTexture':[0,1],
			'u_NormalTexture':[1,1],
			'u_DiffuseTexture1':[2,1],
			'u_DiffuseTexture2':[3,1],
			'u_DiffuseTexture3':[4,1],
			'u_DiffuseTexture4':[5,1],
			'u_DiffuseScale1':[6,1],
			'u_DiffuseScale2':[7,1],
			'u_DiffuseScale3':[8,1],
			'u_DiffuseScale4':[9,1],
			'u_MaterialDiffuse':[11,1],
			'u_MaterialAmbient':[10,1],
			'u_MaterialSpecular':[12,1],
			'u_CameraPos':[0,3],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4],
			'u_DirectionLight.Direction':[3,4],
			'u_DirectionLight.Diffuse':[4,4],
			'u_PointLight.Position':[5,4],
			'u_PointLight.Range':[6,4],
			'u_PointLight.Attenuation':[7,4],
			'u_PointLight.Diffuse':[8,4],
			'u_SpotLight.Position':[9,4],
			'u_SpotLight.Direction':[10,4],
			'u_SpotLight.Range':[12,4],
			'u_SpotLight.Spot':[11,4],
			'u_SpotLight.Attenuation':[13,4],
			'u_SpotLight.Diffuse':[14,4],
			'u_AmbientColor':[21,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]};
		vs="attribute vec4 a_Position;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(LIGHTMAP)\n	attribute vec3 a_Normal;\n	varying vec3 v_Normal;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||(defined(RECEIVESHADOW)&&defined(SHADOWMAP_PSSM1))\n	uniform mat4 u_WorldMat;\n	varying vec3 v_PositionWorld;\n#endif\n\nvarying float v_posViewZ;\n#ifdef RECEIVESHADOW\n  #ifdef SHADOWMAP_PSSM1 \n  varying vec4 v_lightMVPPos;\n  uniform mat4 u_lightShadowVP[4];\n  #endif\n#endif\n\n#ifdef LIGHTMAP\n	uniform vec4 u_LightmapScaleOffset;\n	varying vec2 v_LightMapUV;\n#endif\n\nattribute vec2 a_Texcoord0;\nattribute vec2 a_Texcoord1;\nvarying vec2 v_Texcoord0;\nvarying vec2 v_Texcoord1;\nuniform mat4 u_MvpMatrix;\n\nvoid main()\n{\n	gl_Position = u_MvpMatrix * a_Position;\n	v_Texcoord0=a_Texcoord0;\n	v_Texcoord1=a_Texcoord1;\n	\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	v_Normal=a_Normal;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||(defined(RECEIVESHADOW)&&defined(SHADOWMAP_PSSM1))\n	v_PositionWorld=(u_WorldMat*a_Position).xyz;\n#endif\n\n#ifdef LIGHTMAP\n	//这个地方使用a_Normal 并不是真的代表normal，其实凑巧法线图的uv正好是符合 light_Map的UV\n	v_LightMapUV=vec2(a_Normal.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,(a_Normal.y-1.0)*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n#endif\n\n#ifdef RECEIVESHADOW\n	v_posViewZ = gl_Position.w;\n	#ifdef SHADOWMAP_PSSM1\n		v_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n	#endif\n#endif\n\n}";
		ps="#ifdef HIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\n#include \"LightHelper.glsl\";\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	uniform vec3 u_MaterialDiffuse;\n	uniform vec4 u_MaterialSpecular;\n	uniform vec3 u_CameraPos;\n	varying vec3 v_Normal;\n	varying vec3 v_PositionWorld;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(LIGHTMAP)\n	uniform vec3 u_MaterialAmbient;\n#endif\n\n#ifdef FOG\n	uniform float u_FogStart;\n	uniform float u_FogRange;\n	uniform vec3 u_FogColor;\n#endif\n\n#ifdef DIRECTIONLIGHT\n	uniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\n	uniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\n	uniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n#include \"ShadowHelper.glsl\"\n#ifdef RECEIVESHADOW\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n	uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n	varying vec4 v_lightMVPPos;\n	#endif\n#endif\nvarying float v_posViewZ;\n\n\nuniform sampler2D u_SplatAlphaTexture;\nuniform sampler2D u_NormalTexture;\nuniform sampler2D u_DiffuseTexture1;\nuniform sampler2D u_DiffuseTexture2;\nuniform sampler2D u_DiffuseTexture3;\nuniform sampler2D u_DiffuseTexture4;\nuniform vec2 u_DiffuseScale1;\nuniform vec2 u_DiffuseScale2;\nuniform vec2 u_DiffuseScale3;\nuniform vec2 u_DiffuseScale4;\nvarying vec2 v_Texcoord0;\nvarying vec2 v_Texcoord1;\n\n#ifdef LIGHTMAP\n	uniform sampler2D u_LightMap;\n	varying vec2 v_LightMapUV;\n#endif\n\nvoid main()\n{\n	#ifdef DETAIL_NUM1\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord1/u_DiffuseScale1);\n		vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		gl_FragColor.xyz = color1.xyz;\n		gl_FragColor.w = splatAlpha.a;\n	#endif\n	#ifdef DETAIL_NUM2\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord1/u_DiffuseScale1);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord1/u_DiffuseScale2);\n		vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		gl_FragColor.xyz = color1.xyz * (1.0-splatAlpha.r) + color2.xyz * splatAlpha.r;\n		gl_FragColor.w = splatAlpha.a;\n	#endif\n	#ifdef DETAIL_NUM3\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord1/u_DiffuseScale1);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord1/u_DiffuseScale2);\n		vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord1/u_DiffuseScale3);\n		vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		gl_FragColor.xyz = color1.xyz * (1.0-(splatAlpha.r+splatAlpha.g)) + color2.xyz * splatAlpha.r + color3.xyz * splatAlpha.g;\n		gl_FragColor.w = splatAlpha.a;\n	#endif\n	#ifdef DETAIL_NUM4\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord1/u_DiffuseScale1);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord1/u_DiffuseScale2);\n		vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord1/u_DiffuseScale3);\n		vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord1/u_DiffuseScale4);\n		vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		gl_FragColor.xyz = color1.xyz * (1.0-(splatAlpha.r+splatAlpha.g+splatAlpha.b))+ color2.xyz * splatAlpha.r + color3.xyz * splatAlpha.g + color4.xyz * splatAlpha.b;\n		gl_FragColor.w = splatAlpha.a;\n	#endif\n	\n		\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n    vec3 normal = texture2D(u_NormalTexture,v_Normal.xy).xyz;\n	normal = normal*2.0 - vec3(1.0);\n	vec3 diffuse = vec3(0.0);\n	vec3 ambient = vec3(0.0);\n	vec3 specular= vec3(0.0);\n	vec3 dif, amb, spe;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	vec3 toEye;\n	#ifdef FOG\n		toEye=u_CameraPos-v_PositionWorld;\n		float toEyeLength=length(toEye);\n		toEye/=toEyeLength;\n	#else\n		toEye=normalize(u_CameraPos-v_PositionWorld);\n	#endif\n#endif\n\n#ifdef DIRECTIONLIGHT\n	computeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n	computePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n	ComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n	float shadowValue = 1.0;\n	#ifdef SHADOWMAP_PSSM3\n		shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n	#endif\n	#ifdef SHADOWMAP_PSSM2\n		shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n	#endif \n	#ifdef SHADOWMAP_PSSM1\n		shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n	#endif\n#endif\n\n#ifdef LIGHTMAP\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n		gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb);\n	#else\n		#if defined(RECEIVESHADOW)\n			gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n		#else\n			gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb);\n		#endif\n	#endif\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	#ifdef RECEIVESHADOW\n		gl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular * shadowValue,gl_FragColor.a);\n	#else\n		gl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular, gl_FragColor.a);\n	#endif\n#endif\n\n\n	#ifdef FOG\n		float lerpFact=clamp((1.0/gl_FragCoord.w-u_FogStart)/u_FogRange,0.0,1.0);\n		#ifdef ADDTIVEFOG\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,vec3(0.0,0.0,0.0),lerpFact);\n		#else\n			gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n		#endif\n	#endif\n}\n\n";
		shader=Shader3D.add("Terrain",attributeMap,uniformMap,RenderableSprite3D.shaderDefines,TerrainMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Normal':3,
			'a_Texcoord0':2
		};
		uniformMap={
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2],
			'u_CameraPos':[0,3],
			'u_LightmapScaleOffset':[2,2],
			'u_LightMap':[3,2],
			'u_SplatAlphaTexture':[0,1],
			'u_DiffuseTexture1':[1,1],
			'u_DiffuseTexture2':[2,1],
			'u_DiffuseTexture3':[3,1],
			'u_DiffuseTexture4':[4,1],
			'u_DiffuseTexture5':[5,1],
			'u_DiffuseScaleOffset1':[6,1],
			'u_DiffuseScaleOffset2':[7,1],
			'u_DiffuseScaleOffset3':[8,1],
			'u_DiffuseScaleOffset4':[9,1],
			'u_DiffuseScaleOffset5':[10,1],
			'u_MaterialAlbedo':[14,1],
			'u_MaterialDiffuse':[12,1],
			'u_MaterialAmbient':[11,1],
			'u_MaterialSpecular':[13,1],
			'u_FogStart':[1,4],
			'u_FogRange':[2,4],
			'u_FogColor':[0,4],
			'u_DirectionLight.Direction':[3,4],
			'u_DirectionLight.Diffuse':[4,4],
			'u_PointLight.Position':[5,4],
			'u_PointLight.Range':[6,4],
			'u_PointLight.Attenuation':[7,4],
			'u_PointLight.Diffuse':[8,4],
			'u_SpotLight.Position':[9,4],
			'u_SpotLight.Direction':[10,4],
			'u_SpotLight.Range':[12,4],
			'u_SpotLight.Spot':[11,4],
			'u_SpotLight.Attenuation':[13,4],
			'u_SpotLight.Diffuse':[14,4],
			'u_AmbientColor':[21,4],
			'u_shadowMap1':[18,4],
			'u_shadowMap2':[19,4],
			'u_shadowMap3':[20,4],
			'u_shadowPSSMDistance':[15,4],
			'u_lightShadowVP':[16,4],
			'u_shadowPCFoffset':[17,4]
		};
		vs="attribute vec4 a_Position;\nattribute vec2 a_Texcoord0;\n\nuniform mat4 u_MvpMatrix;\n\nvarying vec2 v_Texcoord0;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(LIGHTMAP)\n	attribute vec3 a_Normal;\n	varying vec3 v_Normal;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||(defined(RECEIVESHADOW)&&defined(SHADOWMAP_PSSM1))\n	uniform mat4 u_WorldMat;\n	varying vec3 v_PositionWorld;\n#endif\n\n#ifdef LIGHTMAP\n	varying vec2 v_LightMapUV;\n	uniform vec4 u_LightmapScaleOffset;\n#endif\n\n#ifdef RECEIVESHADOW\n	varying float v_posViewZ;\n	#ifdef SHADOWMAP_PSSM1 \n		varying vec4 v_lightMVPPos;\n		uniform mat4 u_lightShadowVP[4];\n	#endif\n#endif\n\nvoid main()\n{\n	gl_Position = u_MvpMatrix * a_Position;\n  \n	v_Texcoord0 = a_Texcoord0;\n  \n	#ifdef LIGHTMAP\n		v_LightMapUV = vec2(a_Texcoord0.x*u_LightmapScaleOffset.x+u_LightmapScaleOffset.z,(a_Texcoord0.y-1.0)*u_LightmapScaleOffset.y+u_LightmapScaleOffset.w);\n	#endif\n  \n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n		v_Normal = a_Normal;\n	#endif\n\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)||(defined(RECEIVESHADOW)&&defined(SHADOWMAP_PSSM1))\n		v_PositionWorld=(u_WorldMat*a_Position).xyz;\n	#endif\n\n	#ifdef RECEIVESHADOW\n		v_posViewZ = gl_Position.w;\n		#ifdef SHADOWMAP_PSSM1\n			v_lightMVPPos = u_lightShadowVP[0] * vec4(v_PositionWorld,1.0);\n		#endif\n	#endif\n}";
		ps="#ifdef HIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\n#include \"LightHelper.glsl\";\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)\n	uniform vec3 u_MaterialDiffuse;\n	uniform vec4 u_MaterialSpecular;\n	uniform vec3 u_CameraPos;\n	varying vec3 v_Normal;\n	varying vec3 v_PositionWorld;\n#endif\n\n#ifdef FOG\n	uniform float u_FogStart;\n	uniform float u_FogRange;\n	uniform vec3 u_FogColor;\n#endif\n\n\n#ifdef DIRECTIONLIGHT\n	uniform DirectionLight u_DirectionLight;\n#endif\n\n#ifdef POINTLIGHT\n	uniform PointLight u_PointLight;\n#endif\n\n#ifdef SPOTLIGHT\n	uniform SpotLight u_SpotLight;\n#endif\n\nuniform vec3 u_AmbientColor;\n\n#include \"ShadowHelper.glsl\"\n#ifdef RECEIVESHADOW\n	#if defined(SHADOWMAP_PSSM2)||defined(SHADOWMAP_PSSM3)\n	uniform mat4 u_lightShadowVP[4];\n	#endif\n	#ifdef SHADOWMAP_PSSM1 \n	varying vec4 v_lightMVPPos;\n	#endif\n#endif\nvarying float v_posViewZ;\n\n\nuniform sampler2D u_SplatAlphaTexture;\n\nuniform sampler2D u_DiffuseTexture1;\nuniform sampler2D u_DiffuseTexture2;\nuniform sampler2D u_DiffuseTexture3;\nuniform sampler2D u_DiffuseTexture4;\nuniform sampler2D u_DiffuseTexture5;\n\nuniform vec4 u_DiffuseScaleOffset1;\nuniform vec4 u_DiffuseScaleOffset2;\nuniform vec4 u_DiffuseScaleOffset3;\nuniform vec4 u_DiffuseScaleOffset4;\nuniform vec4 u_DiffuseScaleOffset5;\n\nvarying vec2 v_Texcoord0;\n\nuniform vec3 u_MaterialAmbient;\nuniform vec4 u_MaterialAlbedo;\n\n#ifdef LIGHTMAP\n	uniform sampler2D u_LightMap;\n	varying vec2 v_LightMapUV;\n#endif\n\nvoid main()\n{\n	vec4 splatAlpha = vec4(1.0);\n	#ifdef ExtendTerrain_DETAIL_NUM1\n		splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScaleOffset1.xy);\n		gl_FragColor.xyz = color1.xyz * splatAlpha.r;\n	#endif\n	#ifdef ExtendTerrain_DETAIL_NUM2\n		splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScaleOffset1.xy);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScaleOffset2.xy);\n		gl_FragColor.xyz = color1.xyz * splatAlpha.r + color2.xyz * (1.0 - splatAlpha.r);\n	#endif\n	#ifdef ExtendTerrain_DETAIL_NUM3\n		splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScaleOffset1.xy);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScaleOffset2.xy);\n		vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScaleOffset3.xy);\n		gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * (1.0 - splatAlpha.r - splatAlpha.g);\n	#endif\n	#ifdef ExtendTerrain_DETAIL_NUM4\n		splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScaleOffset1.xy);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScaleOffset2.xy);\n		vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScaleOffset3.xy);\n		vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScaleOffset4.xy);\n		gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b);\n	#endif\n	#ifdef ExtendTerrain_DETAIL_NUM5\n		splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\n		vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScaleOffset1.xy);\n		vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScaleOffset2.xy);\n		vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScaleOffset3.xy);\n		vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScaleOffset4.xy);\n		vec4 color5 = texture2D(u_DiffuseTexture5, v_Texcoord0 * u_DiffuseScaleOffset5.xy);\n		gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * splatAlpha.a + color5.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b - splatAlpha.a);\n	#endif\n		gl_FragColor.w = splatAlpha.a;\n		\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n    vec3 normal = v_Normal;\n	vec3 diffuse = vec3(0.0);\n	vec3 ambient = vec3(0.0);\n	vec3 specular= vec3(0.0);\n	vec3 dif, amb, spe;\n#endif\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)||defined(FOG)\n	vec3 toEye;\n	#ifdef FOG\n		toEye=u_CameraPos-v_PositionWorld;\n		float toEyeLength=length(toEye);\n		toEye/=toEyeLength;\n	#else\n		toEye=normalize(u_CameraPos-v_PositionWorld);\n	#endif\n#endif\n\n#ifdef DIRECTIONLIGHT\n	computeDirectionLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_DirectionLight,u_AmbientColor,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n \n#ifdef POINTLIGHT\n	computePointLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_PointLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n\n#ifdef SPOTLIGHT\n	ComputeSpotLight(u_MaterialDiffuse,u_MaterialAmbient,u_MaterialSpecular,u_SpotLight,u_AmbientColor,v_PositionWorld,normal,toEye, dif, amb, spe);\n	diffuse+=dif;\n	ambient+=amb;\n	specular+=spe;\n#endif\n\n#ifdef RECEIVESHADOW\n	float shadowValue = 1.0;\n	#ifdef SHADOWMAP_PSSM3\n		shadowValue = getShadowPSSM3( u_shadowMap1,u_shadowMap2,u_shadowMap3,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n	#endif\n	#ifdef SHADOWMAP_PSSM2\n		shadowValue = getShadowPSSM2( u_shadowMap1,u_shadowMap2,u_lightShadowVP,u_shadowPSSMDistance,u_shadowPCFoffset,v_PositionWorld,v_posViewZ,0.001);\n	#endif \n	#ifdef SHADOWMAP_PSSM1\n		shadowValue = getShadowPSSM1( u_shadowMap1,v_lightMVPPos,u_shadowPSSMDistance,u_shadowPCFoffset,v_posViewZ,0.001);\n	#endif\n#endif\n\n#ifdef LIGHTMAP\n	#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n		gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb);\n	#else\n		#if defined(RECEIVESHADOW)		\n			gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient+texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue);\n			//vec3 tColor= u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb * shadowValue + mix(vec3(0.15,0.15,0.15),vec3(0.0),shadowValue);\n			//gl_FragColor.rgb*=tColor;\n		#else\n			gl_FragColor.rgb=gl_FragColor.rgb*(u_MaterialAmbient + texture2D(u_LightMap, v_LightMapUV).rgb);\n		#endif\n	#endif\n#endif\n\ngl_FragColor=gl_FragColor*u_MaterialAlbedo;\n\n#if defined(DIRECTIONLIGHT)||defined(POINTLIGHT)||defined(SPOTLIGHT)\n	#ifdef RECEIVESHADOW\n		gl_FragColor = vec4( gl_FragColor.rgb*(ambient + diffuse*shadowValue) + specular * shadowValue,gl_FragColor.a);\n	#else\n		gl_FragColor =vec4( gl_FragColor.rgb*(ambient + diffuse) + specular, gl_FragColor.a);\n	#endif\n#endif\n\n#ifdef FOG\n	float lerpFact=clamp((toEyeLength-u_FogStart)/u_FogRange,0.0,1.0);\n	gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor,lerpFact);\n#endif\n}\n\n\n\n\n\n";
		shader=Shader3D.add("ExtendTerrain",attributeMap,uniformMap,RenderableSprite3D.shaderDefines,ExtendTerrainMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position' :0,
			'a_OffsetVector':42,
			'a_Texcoord0X' :39,
			'a_Texcoord0Y' :41,
			'a_BirthTime' :33
		};
		uniformMap={
			'u_MvpMatrix':[1,2],
			'u_VMatrix':[1,3],
			'u_PMatrix':[2,3],
			'u_TilingOffset':[3,1],
			'u_MainTexture':[1,1],
			'u_MainColor':[2,1],
			'u_CurTime' :[3,2],
			'u_LifeTime' :[4,2],
			'u_WidthCurve' :[5,2],
			'u_WidthCurveKeyLength' :[6,2],
			'u_GradientColorkey' :[7,2],
			'u_GradientAlphakey' :[8,2]
		};
		vs="attribute vec3 a_Position;\nattribute vec3 a_OffsetVector;\nattribute vec4 a_Color;\nattribute float a_Texcoord0X;\nattribute float a_Texcoord0Y;\nattribute float a_BirthTime;\n\nuniform mat4 u_VMatrix;\nuniform mat4 u_PMatrix;\n\nuniform vec4 u_TilingOffset;\n\nuniform float u_CurTime;\nuniform float u_LifeTime;\nuniform vec4 u_WidthCurve[10];\nuniform int u_WidthCurveKeyLength;\n\nuniform vec4 u_GradientColorkey[10];\nuniform vec2 u_GradientAlphakey[10];\n\nvarying vec2 v_Texcoord0;\nvarying vec4 v_Color;\n\nfloat hermiteInterpolate(float t, float outTangent, float inTangent, float duration, float value1, float value2)\n{\n	float t2 = t * t;\n	float t3 = t2 * t;\n	float a = 2.0 * t3 - 3.0 * t2 + 1.0;\n	float b = t3 - 2.0 * t2 + t;\n	float c = t3 - t2;\n	float d = -2.0 * t3 + 3.0 * t2;\n	return a * value1 + b * outTangent * duration + c * inTangent * duration + d * value2;\n}\n\nfloat getCurWidth(in float normalizeTime)\n{\n	float width;\n	if(normalizeTime == 0.0){\n		width=u_WidthCurve[0].w;\n	}\n	else if(normalizeTime >= 1.0){\n		width=u_WidthCurve[u_WidthCurveKeyLength - 1].w;\n	}\n	else{\n		for(int i = 0; i < 10; i ++ )\n		{\n			if(normalizeTime == u_WidthCurve[i].x){\n				width=u_WidthCurve[i].w;\n				break;\n			}\n			\n			vec4 lastFrame = u_WidthCurve[i];\n			vec4 nextFrame = u_WidthCurve[i + 1];\n			if(normalizeTime > lastFrame.x && normalizeTime < nextFrame.x)\n			{\n				float duration = nextFrame.x - lastFrame.x;\n				float t = (normalizeTime - lastFrame.x) / duration;\n				float outTangent = lastFrame.z;\n				float inTangent = nextFrame.y;\n				float value1 = lastFrame.w;\n				float value2 = nextFrame.w;\n				width=hermiteInterpolate(t, outTangent, inTangent, duration, value1, value2);\n				break;\n			}\n		}\n	}\n	return width;\n}	\n\nvec4 getColorFromGradientByBlend(in vec4 gradientColors[10], in vec2 gradientAlphas[10], in float normalizeTime)\n{\n	vec4 color;\n	for(int i = 1; i < 10; i++)\n	{\n		vec4 gradientColor = gradientColors[i];\n		float colorKey = gradientColor.w;\n		if(colorKey >= normalizeTime)\n		{\n			vec4 lastGradientColor = gradientColors[i-1];\n			float lastColorKey = lastGradientColor.w;\n			float age = (normalizeTime - lastColorKey) / (colorKey - lastColorKey);\n			color.rgb = mix(gradientColors[i-1].xyz, gradientColor.xyz, age);\n			break;\n		}\n	}\n	for(int i = 1; i < 10; i++)\n	{\n		vec2 gradientAlpha = gradientAlphas[i];\n		float alphaKey = gradientAlpha.y;\n		if(alphaKey >= normalizeTime)\n		{\n			vec2 lastGradientAlpha = gradientAlphas[i-1];\n			float lastAlphaKey = lastGradientAlpha.y;\n			float age = (normalizeTime - lastAlphaKey) / (alphaKey - lastAlphaKey);\n			color.a = mix(lastGradientAlpha.x, gradientAlpha.x, age);\n			break;\n		}\n	}\n	return color;\n}\n\nvec4 getColorFromGradientByFixed(in vec4 gradientColors[10], in vec2 gradientAlphas[10], in float normalizeTime)\n{\n	vec4 color;\n	for(int i = 1; i < 10; i++)\n	{\n		vec4 gradientColor = gradientColors[i];\n		if(gradientColor.w >= normalizeTime)\n		{\n			color.rgb = gradientColor.xyz;\n			break;\n		}\n	}\n	for(int i = 1; i < 10; i++)\n	{\n		vec2 gradientAlpha = gradientAlphas[i];\n		if(gradientAlpha.y >= normalizeTime)\n		{\n			color.a = gradientAlpha.x;\n			break;\n		}\n	}\n	return color;\n}\n\nvoid main()\n{\n	float normalizeTime = (u_CurTime - a_BirthTime) / u_LifeTime;\n	\n	#ifdef TILINGOFFSET\n		v_Texcoord0 = (vec2(a_Texcoord0X, a_Texcoord0Y) * u_TilingOffset.xy) + u_TilingOffset.zw;\n	#else\n		v_Texcoord0 = vec2(a_Texcoord0X, a_Texcoord0Y);\n	#endif\n	\n	#ifdef GRADIENTMODE_BLEND\n		v_Color = getColorFromGradientByBlend(u_GradientColorkey, u_GradientAlphakey, normalizeTime);\n	#else\n		v_Color = getColorFromGradientByFixed(u_GradientColorkey, u_GradientAlphakey, normalizeTime);\n	#endif\n	\n	gl_Position = u_PMatrix * u_VMatrix * vec4(a_Position + a_OffsetVector * getCurWidth(normalizeTime),1.0);\n}\n\n\n\n";
		ps="#ifdef HIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\nuniform sampler2D u_MainTexture;\nuniform vec4 u_MainColor;\n\nvarying vec2 v_Texcoord0;\nvarying vec4 v_Color;\n\nvoid main()\n{	\n	vec4 color = 2.0 * u_MainColor * v_Color;\n	#ifdef DIFFUSETEXTURE\n		vec4 mainTextureColor = texture2D(u_MainTexture, v_Texcoord0);\n		color *= mainTextureColor;\n	#endif\n	gl_FragColor = color;\n}\n\n";
		shader=Shader3D.add("Trail",attributeMap,uniformMap,TrailSprite3D.shaderDefines,TrailMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
		attributeMap={
			'a_Position':0,
			'a_Normal':3,
			'a_Tangent0':5
		};
		uniformMap={
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2],
			'u_CameraPos':[0,3],
			'u_MainTexture':[1,1],
			'u_NormalTexture':[2,1],
			'u_HorizonColor':[0,1],
			'u_WaveScale' :[3,1],
			'u_WaveSpeed' :[4,1]
		};
		vs="attribute vec4 a_Position;\nattribute vec3 a_Normal;\nattribute vec4 a_Tangent0;\n\nuniform mat4 u_MvpMatrix;\nuniform mat4 u_WorldMat;\nuniform vec3 u_CameraPos;\nuniform float u_WaveScale;\n\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\nvarying vec2 v_Texcoord0;\nvarying vec2 v_Texcoord1;\n\nvarying vec4 temp;\n\nvoid main()\n{\n	\n	vec4 position = u_MvpMatrix * a_Position;\n	\n	mat3 worldMat = mat3(u_WorldMat);\n	temp = vec4(-a_Position.x, -a_Position.z, -a_Position.x, -a_Position.z) * u_WaveScale * vec4(1.0);\n	\n	v_Texcoord0 = temp.xy * vec2(0.4, 0.45);\n	v_Texcoord1 = temp.wz;\n	\n	v_Normal = worldMat * a_Normal;\n	v_Tangent = worldMat * a_Tangent0.xyz;\n	v_Binormal = cross(v_Normal, v_Tangent) * a_Tangent0.w;\n	\n	vec3 v_PositionWorld = (u_WorldMat * a_Position).xyz;\n	\n	v_ViewDir = normalize(u_CameraPos - v_PositionWorld);\n	\n	gl_Position = position;\n}";
		ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\n#ifdef MAINTEXTURE\n	uniform sampler2D u_MainTexture;\n#endif\n\n#ifdef NORMALTEXTURE\n	uniform sampler2D u_NormalTexture;\n#endif\n\nuniform vec4 u_HorizonColor;\n\nvarying vec3 v_Normal;\nvarying vec3 v_Tangent;\nvarying vec3 v_Binormal;\nvarying vec3 v_ViewDir;\nvarying vec2 v_Texcoord0;\nvarying vec2 v_Texcoord1;\n\nvarying vec4 temp;\n\n#include \"Lighting.glsl\"\n\nvoid main()\n{\n	vec4 bumpColor1 = texture2D(u_NormalTexture, v_Texcoord0);\n	vec4 bumpColor2 = texture2D(u_NormalTexture, v_Texcoord1);\n	\n	vec3 normal1 = normalize(NormalSampleToWorldSpace1(bumpColor1, v_Normal, v_Tangent, v_Binormal));\n	vec3 normal2 = normalize(NormalSampleToWorldSpace1(bumpColor2, v_Normal, v_Tangent, v_Binormal));\n	\n	vec3 normal = (normal1 + normal2) * 0.5;\n	float fresnel = dot(-v_ViewDir, normal);\n	\n	vec4 waterColor = texture2D(u_MainTexture, vec2(1.0 - fresnel, fresnel));\n	\n	vec4 color;\n	color.rgb = mix(waterColor.rgb, u_HorizonColor.rgb, vec3(waterColor.a));\n	color.a = u_HorizonColor.a;\n	\n	gl_FragColor.rgb = -v_ViewDir;\n	\n	//gl_FragColor = color;\n	\n	//gl_FragColor.r = v_Texcoord0.x;\n	//gl_FragColor.g = v_Texcoord0.y;\n	//gl_FragColor.b = v_Texcoord1.x;\n	//gl_FragColor.a = v_Texcoord1.y;\n}\n\n";
		shader=Shader3D.add("WaterPrimary",attributeMap,uniformMap,null,WaterPrimaryMaterial.shaderDefines);
		shader._addShaderPass(vs,ps);
	}

	return ShaderInit3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/ShaderCompile.as=======199.999450/199.999450
/**
*@private
*<code>ShaderCompile</code> 类用于实现Shader编译。
*/
//class laya.webgl.utils.ShaderCompile
var ShaderCompile=(function(){
	var ShaderNode,InlcudeFile;
	function ShaderCompile(vs,ps,nameMap,defs){
		//this._nameMap=null;
		//this._VS=null;
		//this._PS=null;
		var _$this=this;
		function _compile (script){
			var includefiles=[];
			var top=new ShaderNode(includefiles);
			_$this._compileToTree(top,script.split('\n'),0,includefiles,defs);
			return top;
		};
		var startTime=Browser.now();
		this._VS=_compile(vs);
		this._PS=_compile(ps);
		this._nameMap=nameMap;
		if ((Browser.now()-startTime)> 2)
			console.log("ShaderCompile use time:"+(Browser.now()-startTime)+"  size:"+vs.length+"/"+ps.length);
	}

	__class(ShaderCompile,'laya.webgl.utils.ShaderCompile');
	var __proto=ShaderCompile.prototype;
	__proto._compileToTree=function(parent,lines,start,includefiles,defs){
		var node,preNode;
		var text,name,fname;
		var ofs=0,words,noUseNode;
		var i=0,n=0,j=0;
		for (i=start;i < lines.length;i++){
			text=lines[i];
			if (text.length < 1)continue ;
			ofs=text.indexOf("//");
			if (ofs===0)continue ;
			if (ofs >=0)text=text.substr(0,ofs);
			node=noUseNode || new ShaderNode(includefiles);
			noUseNode=null;
			node.text=text;
			node.noCompile=true;
			if ((ofs=text.indexOf("#"))>=0){
				name="#";
				for (j=ofs+1,n=text.length;j < n;j++){
					var c=text.charAt(j);
					if (c===' ' || c==='\t' || c==='?')break ;
					name+=c;
				}
				node.name=name;
				switch (name){
					case "#ifdef":
					case "#ifndef":
						node.src=text;
						node.noCompile=text.match(/[!&|()=<>]/)!=null;
						if (!node.noCompile){
							words=text.replace(/^\s*/,'').split(/\s+/);
							node.setCondition(words[1],name==="#ifdef" ? 1 :2);
							node.text="//"+node.text;
							}else {
							console.log("function():Boolean{return "+text.substr(ofs+node.name.length)+"}");
						}
						node.setParent(parent);
						parent=node;
						if (defs){
							words=text.substr(j).split(ShaderCompile._splitToWordExps3);
							for (j=0;j < words.length;j++){
								text=words[j];
								text.length && (defs[text]=true);
							}
						}
						continue ;
					case "#if":
						node.src=text;
						node.noCompile=true;
						node.setParent(parent);
						parent=node;
						if (defs){
							words=text.substr(j).split(ShaderCompile._splitToWordExps3);
							for (j=0;j < words.length;j++){
								text=words[j];
								text.length && text !="defined" && (defs[text]=true);
							}
						}
						continue ;
					case "#else":
						node.src=text;
						parent=parent.parent;
						preNode=parent.childs[parent.childs.length-1];
						if (!(node.noCompile=preNode.noCompile)){
							node.condition=preNode.condition;
							node.conditionType=preNode.conditionType==1 ? 2 :1;
							node.text="//"+node.text+" "+preNode.text+" "+node.conditionType;
						}
						node.setParent(parent);
						parent=node;
						continue ;
					case "#endif":
						parent=parent.parent;
						preNode=parent.childs[parent.childs.length-1];
						if (!(node.noCompile=preNode.noCompile)){
							node.text="//"+node.text;
						}
						node.setParent(parent);
						continue ;
					case "#include":
						words=ShaderCompile.splitToWords(text,null);
						var inlcudeFile=ShaderCompile.includes[words[1]];
						if (!inlcudeFile){
							throw "ShaderCompile error no this include file:"+words[1];
							return;
						}
						if ((ofs=words[0].indexOf("?"))< 0){
							node.setParent(parent);
							text=inlcudeFile.getWith(words[2]=='with' ? words[3] :null);
							this._compileToTree(node,text.split('\n'),0,includefiles,defs);
							node.text="";
							continue ;
						}
						node.setCondition(words[0].substr(ofs+1),1);
						node.text=inlcudeFile.getWith(words[2]=='with' ? words[3] :null);
						break ;
					case "#import":
						words=ShaderCompile.splitToWords(text,null);
						fname=words[1];
						includefiles.push({node:node,file:ShaderCompile.includes[fname],ofs:node.text.length});
						continue ;
					}
				}else {
				preNode=parent.childs[parent.childs.length-1];
				if (preNode && !preNode.name){
					includefiles.length > 0 && ShaderCompile.splitToWords(text,preNode);
					noUseNode=node;
					preNode.text+="\n"+text;
					continue ;
				}
				includefiles.length > 0 && ShaderCompile.splitToWords(text,node);
			}
			node.setParent(parent);
		}
	}

	__proto.createShader=function(define,shaderName,createShader){
		var defMap={};
		var defineStr="";
		if (define){
			for (var i in define){
				defineStr+="#define "+i+"\n";
				defMap[i]=true;
			}
		};
		var vs=this._VS.toscript(defMap,[]);
		var ps=this._PS.toscript(defMap,[]);
		return (createShader || Shader.create)(defineStr+vs.join('\n'),defineStr+ps.join('\n'),shaderName,this._nameMap);
	}

	ShaderCompile._parseOne=function(attributes,uniforms,words,i,word,b){
		var one={type:ShaderCompile.shaderParamsMap[words[i+1]],name:words[i+2],size:isNaN(parseInt(words[i+3]))? 1 :parseInt(words[i+3])};
		if (b){
			if (word=="attribute"){
				attributes.push(one);
				}else {
				uniforms.push(one);
			}
		}
		if (words[i+3]==':'){
			one.type=words[i+4];
			i+=2;
		}
		i+=2;
		return i;
	}

	ShaderCompile.addInclude=function(fileName,txt){
		if (!txt || txt.length===0)
			throw new Error("add shader include file err:"+fileName);
		if (ShaderCompile.includes[fileName])
			throw new Error("add shader include file err, has add:"+fileName);
		ShaderCompile.includes[fileName]=new InlcudeFile(txt);
	}

	ShaderCompile.preGetParams=function(vs,ps){
		var text=[vs,ps];
		var result={};
		var attributes=[];
		var uniforms=[];
		var definesInfo={};
		var definesName=[];
		result.attributes=attributes;
		result.uniforms=uniforms;
		result.defines=definesInfo;
		var i=0,n=0,one;
		for (var s=0;s < 2;s++){
			text[s]=text[s].replace(ShaderCompile._removeAnnotation,"");
			var words=text[s].match(ShaderCompile._reg);
			var tempelse;
			for (i=0,n=words.length;i < n;i++){
				var word=words[i];
				if (word !="attribute" && word !="uniform"){
					if (word=="#define"){
						word=words[++i];
						definesName[word]=1;
						continue ;
						}else if (word=="#ifdef"){
						tempelse=words[++i];
						var def=definesInfo[tempelse]=definesInfo[tempelse] || [];
						for (i++;i < n;i++){
							word=words[i];
							if (word !="attribute" && word !="uniform"){
								if (word=="#else"){
									for (i++;i < n;i++){
										word=words[i];
										if (word !="attribute" && word !="uniform"){
											if (word=="#endif"){
												break ;
											}
											continue ;
										}
										i=ShaderCompile._parseOne(attributes,uniforms,words,i,word,!definesName[tempelse]);
									}
								}
								continue ;
							}
							i=ShaderCompile._parseOne(attributes,uniforms,words,i,word,definesName[tempelse]);
						}
					}
					continue ;
				}
				i=ShaderCompile._parseOne(attributes,uniforms,words,i,word,true);
			}
		}
		return result;
	}

	ShaderCompile.splitToWords=function(str,block){
		var out=[];
		var c;
		var ofs=-1;
		var word;
		for (var i=0,n=str.length;i < n;i++){
			c=str.charAt(i);
			if (" \t=+-*/&%!<>()'\",;".indexOf(c)>=0){
				if (ofs >=0 && (i-ofs)> 1){
					word=str.substr(ofs,i-ofs);
					out.push(word);
				}
				if (c=='"' || c=="'"){
					var ofs2=str.indexOf(c,i+1);
					if (ofs2 < 0){
						throw "Sharder err:"+str;
						return;
					}
					out.push(str.substr(i+1,ofs2-i-1));
					i=ofs2;
					ofs=-1;
					continue ;
				}
				if (c=='(' && block && out.length > 0){
					word=out[out.length-1]+";";
					if ("vec4;main;".indexOf(word)< 0)
						block.useFuns+=word;
				}
				ofs=-1;
				continue ;
			}
			if (ofs < 0)ofs=i;
		}
		if (ofs < n && (n-ofs)> 1){
			word=str.substr(ofs,n-ofs);
			out.push(word);
		}
		return out;
	}

	ShaderCompile.IFDEF_NO=0;
	ShaderCompile.IFDEF_YES=1;
	ShaderCompile.IFDEF_ELSE=2;
	ShaderCompile.IFDEF_PARENT=3;
	ShaderCompile._removeAnnotation=new RegExp("(/\\*([^*]|[\\r\\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|(//.*)","g");
	ShaderCompile._reg=new RegExp("(\".*\")|('.*')|([#\\w\\*-\\.+/()=<>{}\\\\]+)|([,;:\\\\])","g");
	ShaderCompile._splitToWordExps=new RegExp("[(\".*\")]+|[('.*')]+|([ \\t=\\+\\-*/&%!<>!%\(\),;])","g");
	ShaderCompile.includes={};
	__static(ShaderCompile,
	['shaderParamsMap',function(){return this.shaderParamsMap={"float":0x1406,"int":0x1404,"bool":0x8B56,"vec2":0x8B50,"vec3":0x8B51,"vec4":0x8B52,"ivec2":0x8B53,"ivec3":0x8B54,"ivec4":0x8B55,"bvec2":0x8B57,"bvec3":0x8B58,"bvec4":0x8B59,"mat2":0x8B5A,"mat3":0x8B5B,"mat4":0x8B5C,"sampler2D":0x8B5E,"samplerCube":0x8B60};},'_splitToWordExps3',function(){return this._splitToWordExps3=new RegExp("[ \\t=\\+\\-*/&%!<>!%\(\),;\\|]","g");}
	]);
	ShaderCompile.__init$=function(){
		//class ShaderNode
		ShaderNode=(function(){
			function ShaderNode(includefiles){
				this.childs=[];
				this.text="";
				this.parent=null;
				this.name=null;
				this.noCompile=false;
				this.includefiles=null;
				this.condition=null;
				this.conditionType=0;
				this.useFuns="";
				this.z=0;
				this.src=null;
				this.includefiles=includefiles;
			}
			__class(ShaderNode,'');
			var __proto=ShaderNode.prototype;
			__proto.setParent=function(parent){
				parent.childs.push(this);
				this.z=parent.z+1;
				this.parent=parent;
			}
			__proto.setCondition=function(condition,type){
				if (condition){
					this.conditionType=type;
					condition=condition.replace(/(\s*$)/g,"");
					this.condition=function (){
						return this[condition];
					}
					this.condition.__condition=condition;
				}
			}
			__proto.toscript=function(def,out){
				return this._toscript(def,out,++ShaderNode.__id);
			}
			__proto._toscript=function(def,out,id){
				if (this.childs.length < 1 && !this.text)return out;
				var outIndex=out.length;
				if (this.condition){
					var ifdef=!!this.condition.call(def);
					this.conditionType===2 && (ifdef=!ifdef);
					if (!ifdef)return out;
				}
				this.text && out.push(this.text);
				this.childs.length > 0 && this.childs.forEach(function(o,index,arr){
					o._toscript(def,out,id);
				});
				if (this.includefiles.length > 0 && this.useFuns.length > 0){
					var funsCode;
					for (var i=0,n=this.includefiles.length;i < n;i++){
						if (this.includefiles[i].curUseID==id){
							continue ;
						}
						funsCode=this.includefiles[i].file.getFunsScript(this.useFuns);
						if (funsCode.length > 0){
							this.includefiles[i].curUseID=id;
							out[0]=funsCode+out[0];
						}
					}
				}
				return out;
			}
			ShaderNode.__id=1;
			return ShaderNode;
		})()
		//class InlcudeFile
		InlcudeFile=(function(){
			function InlcudeFile(txt){
				this.script=null;
				this.codes={};
				this.funs={};
				this.curUseID=-1;
				this.funnames="";
				this.script=txt;
				var begin=0,ofs=0,end=0;
				while (true){
					begin=txt.indexOf("#begin",begin);
					if (begin < 0)break ;
					end=begin+5;
					while (true){
						end=txt.indexOf("#end",end);
						if (end < 0)break ;
						if (txt.charAt(end+4)==='i')
							end+=5;
						else break ;
					}
					if (end < 0){
						throw "add include err,no #end:"+txt;
						return;
					}
					ofs=txt.indexOf('\n',begin);
					var words=ShaderCompile.splitToWords(txt.substr(begin,ofs-begin),null);
					if (words[1]=='code'){
						this.codes[words[2]]=txt.substr(ofs+1,end-ofs-1);
						}else if (words[1]=='function'){
						ofs=txt.indexOf("function",begin);
						ofs+="function".length;
						this.funs[words[3]]=txt.substr(ofs+1,end-ofs-1);
						this.funnames+=words[3]+";";
					}
					begin=end+1;
				}
			}
			__class(InlcudeFile,'');
			var __proto=InlcudeFile.prototype;
			__proto.getWith=function(name){
				var r=name ? this.codes[name] :this.script;
				if (!r){
					throw "get with error:"+name;
				}
				return r;
			}
			__proto.getFunsScript=function(funsdef){
				var r="";
				for (var i in this.funs){
					if (funsdef.indexOf(i+";")>=0){
						r+=this.funs[i];
					}
				}
				return r;
			}
			return InlcudeFile;
		})()
	}

	return ShaderCompile;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/shaderVariable.as=======199.999447/199.999447
/**
*@private
*<code>shaderVariable</code> 类用于保存shader变量上传相关信息。
*/
//class laya.d3.shader.ShaderVariable
var ShaderVariable=(function(){
	function ShaderVariable(){
		/**@private */
		//this.name=null;
		/**@private */
		//this.type=0;
		/**@private */
		//this.location=0;
		/**@private */
		//this.isArray=false;
		/**@private */
		//this.textureID=0;
		/**@private */
		//this.dataOffset=0;
		/**@private */
		//this.caller=null;
		/**@private */
		//this.fun=null;
		/**@private */
		//this.uploadedValue=null;
		this.textureID=-1;
	}

	__class(ShaderVariable,'laya.d3.shader.ShaderVariable');
	return ShaderVariable;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shadowMap/ParallelSplitShadowMap.as=======199.999446/199.999446
/**
*...
*@author ...
*/
//class laya.d3.shadowMap.ParallelSplitShadowMap
var ParallelSplitShadowMap=(function(){
	function ParallelSplitShadowMap(){
		/**@private */
		//this.lastNearPlane=NaN;
		/**@private */
		//this.lastFieldOfView=NaN;
		/**@private */
		//this.lastAspectRatio=NaN;
		/**@private */
		this._currentPSSM=-1;
		/**@private */
		this._shadowMapCount=3;
		/**@private */
		this._maxDistance=200.0;
		/**@private */
		this._ratioOfDistance=1.0 / this._shadowMapCount;
		/**@private */
		this._statesDirty=true;
		/**@private */
		//this.cameras=null;
		/**@private */
		this._shadowMapTextureSize=1024;
		/**@private */
		this._scene=null;
		/**@private */
		this._PCFType=0;
		/**@private */
		this._shaderValueLightVP=null;
		/**@private */
		//this._shaderValueVPs=null;
		this._spiltDistance=new Array(3+1);
		this._globalParallelLightDir=new Vector3(0,-1,0);
		this._boundingSphere=new Array(3+1);
		this._boundingBox=new Array(3+1);
		this._frustumPos=new Array((3+1)*4);
		this._uniformDistance=new Array(3+1);
		this._logDistance=new Array(3+1);
		this._dimension=new Array(3+1);
		this._tempLookAt3=new Vector3();
		this._tempLookAt4=new Vector4();
		this._tempValue=new Vector4();
		this._tempPos=new Vector3();
		this._tempLightUp=new Vector3();
		this._tempMin=new Vector4();
		this._tempMax=new Vector4();
		this._tempMatrix44=new Matrix4x4;
		this._splitFrustumCulling=new BoundFrustum(Matrix4x4.DEFAULT);
		this._tempScaleMatrix44=new Matrix4x4();
		this._shadowPCFOffset=new Vector2(1.0 / 1024.0,1.0 / 1024.0);
		this._shaderValueDistance=new Vector4();
		this.cameras=[];
		this._shaderValueVPs=[];
		var i=0;
		for (i=0;i < this._spiltDistance.length;i++){
			this._spiltDistance[i]=0.0;
		}
		for (i=0;i < this._dimension.length;i++){
			this._dimension[i]=new Vector2();
		}
		for (i=0;i < this._frustumPos.length;i++){
			this._frustumPos[i]=new Vector3();
		}
		for (i=0;i < this._boundingBox.length;i++){
			this._boundingBox[i]=new BoundBox(new Vector3(),new Vector3());
		}
		for (i=0;i < this._boundingSphere.length;i++){
			this._boundingSphere[i]=new BoundSphere(new Vector3(),0.0);
		}
		Matrix4x4.createScaling(new Vector3(0.5,0.5,1.0),this._tempScaleMatrix44);
		this._tempScaleMatrix44.elements[12]=0.5;
		this._tempScaleMatrix44.elements[13]=0.5;
	}

	__class(ParallelSplitShadowMap,'laya.d3.shadowMap.ParallelSplitShadowMap');
	var __proto=ParallelSplitShadowMap.prototype;
	__proto.setInfo=function(scene,maxDistance,globalParallelDir,shadowMapTextureSize,numberOfPSSM,PCFType){
		if (numberOfPSSM > 3){
			this._shadowMapCount=3;
		}
		this._scene=scene;
		this._maxDistance=maxDistance;
		this.shadowMapCount=numberOfPSSM;
		this._globalParallelLightDir=globalParallelDir;
		this._ratioOfDistance=1.0 / this._shadowMapCount;
		for (var i=0;i < this._spiltDistance.length;i++){
			this._spiltDistance[i]=0.0;
		}
		this._shadowMapTextureSize=shadowMapTextureSize;
		this._shadowPCFOffset.x=1.0 / this._shadowMapTextureSize;
		this._shadowPCFOffset.y=1.0 / this._shadowMapTextureSize;
		this.setPCFType(PCFType);
		this._statesDirty=true;
	}

	__proto.setPCFType=function(PCFtype){
		this._PCFType=PCFtype;
		var defineData=this._scene._defineDatas;
		switch (this._PCFType){
			case 0:
				defineData.add(Scene3D.SHADERDEFINE_SHADOW_PCF_NO);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF1);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF2);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF3);
				break ;
			case 1:
				defineData.add(Scene3D.SHADERDEFINE_SHADOW_PCF1);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF_NO);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF2);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF3);
				break ;
			case 2:
				defineData.add(Scene3D.SHADERDEFINE_SHADOW_PCF2);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF_NO);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF1);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF3);
				break ;
			case 3:
				defineData.add(Scene3D.SHADERDEFINE_SHADOW_PCF3);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF_NO);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF1);
				defineData.remove(Scene3D.SHADERDEFINE_SHADOW_PCF2);
				break ;
			}
	}

	__proto.getPCFType=function(){
		return this._PCFType;
	}

	__proto.setFarDistance=function(value){
		if (this._maxDistance !=value){
			this._maxDistance=value;
			this._statesDirty=true;
		}
	}

	__proto.getFarDistance=function(){
		return this._maxDistance;
	}

	/**
	*@private
	*/
	__proto._beginSampler=function(index,sceneCamera){
		if (index < 0 || index > this._shadowMapCount)
			throw new Error("ParallelSplitShadowMap: beginSample invalid index");
		this._currentPSSM=index;
		this._update(sceneCamera);
	}

	/**
	*@private
	*/
	__proto.endSampler=function(sceneCamera){
		this._currentPSSM=-1;
	}

	/**
	*@private
	*/
	__proto._calcAllLightCameraInfo=function(sceneCamera){
		if (this._shadowMapCount===1){
			this._beginSampler(0,sceneCamera);
			this.endSampler(sceneCamera);
			}else {
			for (var i=0,n=this._shadowMapCount+1;i < n;i++){
				this._beginSampler(i,sceneCamera);
				this.endSampler(sceneCamera);
			}
		}
	}

	/**
	*@private
	*/
	__proto._recalculate=function(nearPlane,fieldOfView,aspectRatio){
		this._calcSplitDistance(nearPlane);
		this._calcBoundingBox(fieldOfView,aspectRatio);
		this._rebuildRenderInfo();
	}

	/**
	*@private
	*/
	__proto._update=function(sceneCamera){
		var nearPlane=sceneCamera.nearPlane;
		var fieldOfView=sceneCamera.fieldOfView;
		var aspectRatio=(sceneCamera).aspectRatio;
		if (this._statesDirty || this.lastNearPlane!==nearPlane || this.lastFieldOfView!==fieldOfView || this.lastAspectRatio!==aspectRatio){
			this._recalculate(nearPlane,fieldOfView,aspectRatio);
			this._uploadShaderValue();
			this._statesDirty=false;
			this.lastNearPlane=nearPlane;
			this.lastFieldOfView=fieldOfView;
			this.lastAspectRatio=aspectRatio;
		}
		this._calcLightViewProject(sceneCamera);
	}

	/**
	*@private
	*/
	__proto._uploadShaderValue=function(){
		var defDatas=this._scene._defineDatas;
		switch (this._shadowMapCount){
			case 1:
				defDatas.add(Scene3D.SHADERDEFINE_SHADOW_PSSM1);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM2);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM3);
				break ;
			case 2:
				defDatas.add(Scene3D.SHADERDEFINE_SHADOW_PSSM2);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM1);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM3);
				break ;
			case 3:
				defDatas.add(Scene3D.SHADERDEFINE_SHADOW_PSSM3);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM1);
				defDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM2);
				break ;
			};
		var sceneSV=this._scene._shaderValues;
		sceneSV.setVector(15,this._shaderValueDistance);
		sceneSV.setBuffer(16,this._shaderValueLightVP);
		sceneSV.setVector(17,this._shadowPCFOffset);
		switch (this._shadowMapCount){
			case 3:
				sceneSV.setTexture(18,this.cameras[1].renderTarget);
				sceneSV.setTexture(19,this.cameras[2].renderTarget)
				sceneSV.setTexture(20,this.cameras[3].renderTarget);
				break ;
			case 2:
				sceneSV.setTexture(18,this.cameras[1].renderTarget);
				sceneSV.setTexture(19,this.cameras[2].renderTarget);
				break ;
			case 1:
				sceneSV.setTexture(18,this.cameras[1].renderTarget);
				break ;
			}
	}

	/**
	*@private
	*/
	__proto._calcSplitDistance=function(nearPlane){
		var far=this._maxDistance;
		var invNumberOfPSSM=1.0 / this._shadowMapCount;
		var i=0;
		for (i=0;i <=this._shadowMapCount;i++){
			this._uniformDistance[i]=nearPlane+(far-nearPlane)*i *invNumberOfPSSM;
		};
		var farDivNear=far / nearPlane;
		for (i=0;i <=this._shadowMapCount;i++){
			var n=Math.pow(farDivNear,i *invNumberOfPSSM);
			this._logDistance[i]=nearPlane *n;
		}
		for (i=0;i <=this._shadowMapCount;i++){
			this._spiltDistance[i]=this._uniformDistance[i] *this._ratioOfDistance+this._logDistance[i] *(1.0-this._ratioOfDistance);
		}
		this._shaderValueDistance.x=this._spiltDistance[1];
		this._shaderValueDistance.y=this._spiltDistance[2];
		this._shaderValueDistance.z=this._spiltDistance[3];
		this._shaderValueDistance.w=this._spiltDistance[4];
	}

	/**
	*@private
	*/
	__proto._calcBoundingBox=function(fieldOfView,aspectRatio){
		var fov=3.1415926 *fieldOfView / 180.0;
		var halfTanValue=Math.tan(fov / 2.0);
		var height=NaN;
		var width=NaN;
		var distance=NaN;
		var i=0;
		for (i=0;i <=this._shadowMapCount;i++){
			distance=this._spiltDistance[i];
			height=distance *halfTanValue;
			width=height *aspectRatio;
			var temp=this._frustumPos[i *4+0].elements;
			temp[0]=-width;
			temp[1]=-height;
			temp[2]=-distance;
			temp=this._frustumPos[i *4+1].elements;
			temp[0]=width;
			temp[1]=-height;
			temp[2]=-distance;
			temp=this._frustumPos[i *4+2].elements;
			temp[0]=-width;
			temp[1]=height;
			temp[2]=-distance;
			temp=this._frustumPos[i *4+3].elements;
			temp[0]=width;
			temp[1]=height;
			temp[2]=-distance;
			temp=this._dimension[i].elements;
			temp[0]=width;
			temp[1]=height;
		};
		var d;
		var min;
		var max;
		var center;
		for (i=1;i <=this._shadowMapCount;i++){
			d=this._dimension[i].elements;
			min=this._boundingBox[i].min.elements;
			min[0]=-d[0];
			min[1]=-d[1];
			min[2]=-this._spiltDistance[i];
			max=this._boundingBox[i].max.elements;
			max[0]=d[0];
			max[1]=d[1];
			max[2]=-this._spiltDistance[i-1];
			center=this._boundingSphere[i].center.elements;
			center[0]=(min[0]+max[0])*0.5;
			center[1]=(min[1]+max[1])*0.5;
			center[2]=(min[2]+max[2])*0.5;
			this._boundingSphere[i].radius=Math.sqrt(Math.pow(max[0]-min[0],2)+Math.pow(max[1]-min[1],2)+Math.pow(max[2]-min[2],2))*0.5;
		}
		min=this._boundingBox[0].min.elements;
		d=this._dimension[this._shadowMapCount].elements;
		min[0]=-d[0];
		min[1]=-d[1];
		min[2]=-this._spiltDistance[this._shadowMapCount];
		max=this._boundingBox[0].max.elements;
		max[0]=d[0];
		max[1]=d[1];
		max[2]=-this._spiltDistance[0];
		center=this._boundingSphere[0].center.elements;
		center[0]=(min[0]+max[0])*0.5;
		center[1]=(min[1]+max[1])*0.5;
		center[2]=(min[2]+max[2])*0.5;
		this._boundingSphere[0].radius=Math.sqrt(Math.pow(max[0]-min[0],2)+Math.pow(max[1]-min[1],2)+Math.pow(max[2]-min[2],2))*0.5;
	}

	__proto.calcSplitFrustum=function(sceneCamera){
		if (this._currentPSSM > 0){
			Matrix4x4.createPerspective(3.1416 *sceneCamera.fieldOfView / 180.0,(sceneCamera).aspectRatio,this._spiltDistance[this._currentPSSM-1],this._spiltDistance[this._currentPSSM],this._tempMatrix44);
			}else {
			Matrix4x4.createPerspective(3.1416 *sceneCamera.fieldOfView / 180.0,(sceneCamera).aspectRatio,this._spiltDistance[0],this._spiltDistance[this._shadowMapCount],this._tempMatrix44);
		}
		Matrix4x4.multiply(this._tempMatrix44,(sceneCamera).viewMatrix,this._tempMatrix44);
		this._splitFrustumCulling.matrix=this._tempMatrix44;
	}

	/**
	*@private
	*/
	__proto._rebuildRenderInfo=function(){
		var nNum=this._shadowMapCount+1;
		var i=0;
		this.cameras.length=nNum;
		for (i=0;i < nNum;i++){
			if (!this.cameras[i]){
				var camera=new Camera();
				camera.name="lightCamera"+i;
				camera.clearColor=new Vector4(1.0,1.0,1.0,1.0);
				this.cameras[i]=camera;
			};
			var shadowMap=this.cameras[i].renderTarget;
			if (shadowMap==null || shadowMap.width !=this._shadowMapTextureSize || shadowMap.height !=this._shadowMapTextureSize){
				(shadowMap)&& (shadowMap.destroy());
				shadowMap=new RenderTexture2D(this._shadowMapTextureSize,this._shadowMapTextureSize,1,0);
				shadowMap.mipmap=false;
				shadowMap.filterMode=0;
				this.cameras[i].renderTarget=shadowMap;
			}
		}
	}

	/**
	*@private
	*/
	__proto._calcLightViewProject=function(sceneCamera){
		var boundSphere=this._boundingSphere[this._currentPSSM];
		var cameraMatViewInv=sceneCamera.transform.worldMatrix;
		var radius=boundSphere.radius;
		boundSphere.center.cloneTo(this._tempLookAt3);
		Vector3.transformV3ToV4(this._tempLookAt3,cameraMatViewInv,this._tempLookAt4);
		var lookAt3Element=this._tempLookAt3.elements;
		var lookAt4Element=this._tempLookAt4.elements;
		lookAt3Element[0]=lookAt4Element[0];
		lookAt3Element[1]=lookAt4Element[1];
		lookAt3Element[2]=lookAt4Element[2];
		var lightUpElement=this._tempLightUp.elements;
		sceneCamera.transform.worldMatrix.getForward(ParallelSplitShadowMap._tempVector30);
		var sceneCameraDir=ParallelSplitShadowMap._tempVector30.elements;
		lightUpElement[0]=sceneCameraDir[0];
		lightUpElement[1]=1.0;
		lightUpElement[2]=sceneCameraDir[2];
		Vector3.normalize(this._tempLightUp,this._tempLightUp);
		Vector3.scale(this._globalParallelLightDir,boundSphere.radius *4,this._tempPos);
		Vector3.subtract(this._tempLookAt3,this._tempPos,this._tempPos);
		var curLightCamera=this.cameras[this._currentPSSM];
		curLightCamera.transform.position=this._tempPos;
		curLightCamera.transform.lookAt(this._tempLookAt3,this._tempLightUp,false);
		var tempMaxElements=this._tempMax.elements;
		var tempMinElements=this._tempMin.elements;
		tempMaxElements[0]=tempMaxElements[1]=tempMaxElements[2]=-100000.0;
		tempMaxElements[3]=1.0;
		tempMinElements[0]=tempMinElements[1]=tempMinElements[2]=100000.0;
		tempMinElements[3]=1.0;
		Matrix4x4.multiply(curLightCamera.viewMatrix,cameraMatViewInv,this._tempMatrix44);
		var tempValueElement=this._tempValue.elements;
		var corners=[];
		corners.length=8;
		this._boundingBox[this._currentPSSM].getCorners(corners);
		for (var i=0;i < 8;i++){
			var frustumPosElements=corners[i].elements;
			tempValueElement[0]=frustumPosElements[0];
			tempValueElement[1]=frustumPosElements[1];
			tempValueElement[2]=frustumPosElements[2];
			tempValueElement[3]=1.0;
			Vector4.transformByM4x4(this._tempValue,this._tempMatrix44,this._tempValue);
			tempMinElements[0]=(tempValueElement[0] < tempMinElements[0])? tempValueElement[0] :tempMinElements[0];
			tempMinElements[1]=(tempValueElement[1] < tempMinElements[1])? tempValueElement[1] :tempMinElements[1];
			tempMinElements[2]=(tempValueElement[2] < tempMinElements[2])? tempValueElement[2] :tempMinElements[2];
			tempMaxElements[0]=(tempValueElement[0] > tempMaxElements[0])? tempValueElement[0] :tempMaxElements[0];
			tempMaxElements[1]=(tempValueElement[1] > tempMaxElements[1])? tempValueElement[1] :tempMaxElements[1];
			tempMaxElements[2]=(tempValueElement[2] > tempMaxElements[2])? tempValueElement[2] :tempMaxElements[2];
		}
		Vector4.add(this._tempMax,this._tempMin,this._tempValue);
		tempValueElement[0] *=0.5;
		tempValueElement[1] *=0.5;
		tempValueElement[2] *=0.5;
		tempValueElement[3]=1;
		Vector4.transformByM4x4(this._tempValue,curLightCamera.transform.worldMatrix,this._tempValue);
		var distance=Math.abs(-this._tempMax.z);
		var farPlane=distance > this._maxDistance ? distance :this._maxDistance;
		Vector3.scale(this._globalParallelLightDir,farPlane,this._tempPos);
		var tempPosElement=this._tempPos.elements;
		tempPosElement[0]=tempValueElement[0]-tempPosElement[0];
		tempPosElement[1]=tempValueElement[1]-tempPosElement[1];
		tempPosElement[2]=tempValueElement[2]-tempPosElement[2];
		curLightCamera.transform.position=this._tempPos;
		curLightCamera.transform.lookAt(this._tempLookAt3,this._tempLightUp,false);
		Matrix4x4.createOrthoOffCenterRH(tempMinElements[0],tempMaxElements[0],tempMinElements[1],tempMaxElements[1],1.0,farPlane+0.5 *(tempMaxElements[2]-tempMinElements[2]),curLightCamera.projectionMatrix);
		var projectView=curLightCamera.projectionViewMatrix;
		ParallelSplitShadowMap.multiplyMatrixOutFloat32Array(this._tempScaleMatrix44,projectView,this._shaderValueVPs[this._currentPSSM]);
	}

	__proto.setShadowMapTextureSize=function(size){
		if (size!==this._shadowMapTextureSize){
			this._shadowMapTextureSize=size;
			this._shadowPCFOffset.x=1 / this._shadowMapTextureSize;
			this._shadowPCFOffset.y=1 / this._shadowMapTextureSize;
			this._statesDirty=true;
		}
	}

	__proto.disposeAllRenderTarget=function(){
		for (var i=0,n=this._shadowMapCount+1;i < n;i++){
			if (this.cameras[i].renderTarget){
				this.cameras[i].renderTarget.destroy();
				this.cameras[i].renderTarget=null;
			}
		}
	}

	__getset(0,__proto,'shadowMapCount',function(){
		return this._shadowMapCount;
		},function(value){
		value=value > 0 ? value :1;
		value=value <=3 ? value :3;
		if (this._shadowMapCount !=value){
			this._shadowMapCount=value;
			this._ratioOfDistance=1.0 / this._shadowMapCount;
			this._statesDirty=true;
			this._shaderValueLightVP=new Float32Array(value *16);
			this._shaderValueVPs.length=value;
			for (var i=0;i < value;i++)
			this._shaderValueVPs[i]=new Float32Array(this._shaderValueLightVP.buffer,i *64);
		}
	});

	ParallelSplitShadowMap.multiplyMatrixOutFloat32Array=function(left,right,out){
		var i,a,b,ai0,ai1,ai2,ai3;
		a=left.elements;
		b=right.elements;
		for (i=0;i < 4;i++){
			ai0=a[i];
			ai1=a[i+4];
			ai2=a[i+8];
			ai3=a[i+12];
			out[i]=ai0 *b[0]+ai1 *b[1]+ai2 *b[2]+ai3 *b[3];
			out[i+4]=ai0 *b[4]+ai1 *b[5]+ai2 *b[6]+ai3 *b[7];
			out[i+8]=ai0 *b[8]+ai1 *b[9]+ai2 *b[10]+ai3 *b[11];
			out[i+12]=ai0 *b[12]+ai1 *b[13]+ai2 *b[14]+ai3 *b[15];
		}
	}

	ParallelSplitShadowMap.MAX_PSSM_COUNT=3;
	__static(ParallelSplitShadowMap,
	['_tempVector30',function(){return this._tempVector30=new Vector3();}
	]);
	return ParallelSplitShadowMap;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainLeaf.as=======199.999441/199.999441
/**
*<code>TerrainLeaf</code> Terrain的叶子节点
*/
//class laya.d3.terrain.TerrainLeaf
var TerrainLeaf=(function(){
	function TerrainLeaf(){
		this._boundingSphere=null;
		this._boundingBox=null;
		this._sizeOfY=null;
		this._currentLODLevel=0;
		this._lastDistanceToEye=NaN;
		this._originalBoundingSphere=null;
		this._originalBoundingBox=null;
		this._originalBoundingBoxCorners=null;
		this._bUseStrip=false;
		this._gridSize=NaN;
		this._beginGridX=0;
		//针对整个大地形的偏移
		this._beginGridZ=0;
		//针对整个大地形的偏移
		this._LODError=null;
		TerrainLeaf.__init__();
		this._currentLODLevel=0;
	}

	__class(TerrainLeaf,'laya.d3.terrain.TerrainLeaf');
	var __proto=TerrainLeaf.prototype;
	__proto.calcVertextNorml=function(x,z,terrainHeightData,heighDataWidth,heightDataHeight,normal){
		var dZ=0,dX=0;
		dX=TerrainLeaf.getHeightFromTerrainHeightData(x-1,z-1,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dX+=TerrainLeaf.getHeightFromTerrainHeightData(x-1,z,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dX+=TerrainLeaf.getHeightFromTerrainHeightData(x-1,z+1,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dX+=TerrainLeaf.getHeightFromTerrainHeightData(x+1,z-1,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		dX+=TerrainLeaf.getHeightFromTerrainHeightData(x+1,z,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		dX+=TerrainLeaf.getHeightFromTerrainHeightData(x+1,z+1,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		dZ=TerrainLeaf.getHeightFromTerrainHeightData(x-1,z-1,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dZ+=TerrainLeaf.getHeightFromTerrainHeightData(x,z-1,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dZ+=TerrainLeaf.getHeightFromTerrainHeightData(x+1,z-1,terrainHeightData,heighDataWidth,heightDataHeight)*-1.0;
		dZ+=TerrainLeaf.getHeightFromTerrainHeightData(x-1,z+1,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		dZ+=TerrainLeaf.getHeightFromTerrainHeightData(x,z+1,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		dZ+=TerrainLeaf.getHeightFromTerrainHeightData(x+1,z+1,terrainHeightData,heighDataWidth,heightDataHeight)*1.0;
		normal.x=-dX;
		normal.y=6;
		normal.z=-dZ;
		Vector3.normalize(normal,normal);
	}

	__proto.calcVertextNormlUV=function(x,z,terrainWidth,terrainHeight,normal){
		normal.x=x / terrainWidth;
		normal.y=z / terrainHeight;
		normal.z=z / terrainHeight;
	}

	__proto.calcVertextBuffer=function(offsetChunkX,offsetChunkZ,beginX,beginZ,girdSize,vertextBuffer,offset,strideSize,terrainHeightData,heighDataWidth,heightDataHeight,cameraCoordinateInverse){
		if (cameraCoordinateInverse==true && !TerrainLeaf.__ADAPT_MATRIX__){
			TerrainLeaf.__ADAPT_MATRIX__=new Matrix4x4();
			var mat=new Matrix4x4();
			Matrix4x4.createRotationY(Math.PI,TerrainLeaf.__ADAPT_MATRIX__);
			Matrix4x4.createTranslate(new Vector3(0,0,(heightDataHeight-1)*girdSize),mat);
			Matrix4x4.multiply(mat,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__ADAPT_MATRIX__);
			TerrainLeaf.__ADAPT_MATRIX_INV__=new Matrix4x4();
			TerrainLeaf.__ADAPT_MATRIX__.invert(TerrainLeaf.__ADAPT_MATRIX_INV__);
		}
		this._gridSize=girdSize;
		this._beginGridX=offsetChunkX *TerrainLeaf.CHUNK_GRID_NUM+beginX;
		this._beginGridZ=offsetChunkZ *TerrainLeaf.CHUNK_GRID_NUM+beginZ;
		var nNum=offset *strideSize;
		var minY=2147483647;
		var maxY=-2147483648;
		var normal=new Vector3();
		for (var i=0,s=TerrainLeaf.LEAF_GRID_NUM+1;i < s;i++){
			for (var j=0,s1=TerrainLeaf.LEAF_GRID_NUM+1;j < s1;j++){
				TerrainLeaf.__VECTOR3__.x=(this._beginGridX+j)*this._gridSize;
				TerrainLeaf.__VECTOR3__.z=(this._beginGridZ+i)*this._gridSize;
				TerrainLeaf.__VECTOR3__.y=terrainHeightData[(this._beginGridZ+i)*(heighDataWidth)+(this._beginGridX+j)];
				minY=TerrainLeaf.__VECTOR3__.y < minY ? TerrainLeaf.__VECTOR3__.y :minY;
				maxY=TerrainLeaf.__VECTOR3__.y > maxY ? TerrainLeaf.__VECTOR3__.y :maxY;
				if (TerrainLeaf.__ADAPT_MATRIX__){
					Vector3.transformV3ToV3(TerrainLeaf.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__VECTOR3__);
				}
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.x;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.y;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.z;
				nNum++;
				this.calcVertextNormlUV(this._beginGridX+j,this._beginGridZ+i,heighDataWidth,heightDataHeight,normal);
				vertextBuffer[nNum]=normal.x;
				nNum++;
				vertextBuffer[nNum]=normal.y;
				nNum++;
				vertextBuffer[nNum]=normal.z;
				nNum++;
				vertextBuffer[nNum]=(beginX+j)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=(beginZ+i)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=this._beginGridX+j;
				nNum++;
				vertextBuffer[nNum]=this._beginGridZ+i;
				nNum++;
			}
		}
		this._sizeOfY=new Vector2(minY-1,maxY+1);
		this.calcLODErrors(terrainHeightData,heighDataWidth,heightDataHeight);
		this.calcOriginalBoudingBoxAndSphere();
	}

	__proto.calcSkirtVertextBuffer=function(offsetChunkX,offsetChunkZ,beginX,beginZ,girdSize,vertextBuffer,offset,strideSize,terrainHeightData,heighDataWidth,heightDataHeight){
		this._gridSize=girdSize;
		this._beginGridX=offsetChunkX *TerrainLeaf.CHUNK_GRID_NUM+beginX;
		this._beginGridZ=offsetChunkZ *TerrainLeaf.CHUNK_GRID_NUM+beginZ;
		var nNum=offset *strideSize;
		var i=0,j=0,s=TerrainLeaf.LEAF_GRID_NUM+1;
		var normal=new Vector3();
		var hZIndex=0;
		var hXIndex=0;
		var h=0;
		var zh=0;
		var xh=0;
		for (i=0;i < 2;i++){
			for (j=0;j < s;j++){
				TerrainLeaf.__VECTOR3__.x=(this._beginGridX+j)*this._gridSize;
				TerrainLeaf.__VECTOR3__.y=(i==1 ? terrainHeightData[this._beginGridZ *heighDataWidth+(this._beginGridX+j)] :-this._gridSize);
				TerrainLeaf.__VECTOR3__.z=(this._beginGridZ+0)*this._gridSize;
				if (TerrainLeaf.__ADAPT_MATRIX__){
					Vector3.transformV3ToV3(TerrainLeaf.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__VECTOR3__);
				}
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.x;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.y;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.z;
				nNum++;
				if (i==0){
					hZIndex=(this._beginGridZ-1);
					}else {
					hZIndex=this._beginGridZ;
				}
				this.calcVertextNormlUV(this._beginGridX+j,hZIndex,heighDataWidth,heightDataHeight,normal);
				vertextBuffer[nNum]=normal.x;
				nNum++;
				vertextBuffer[nNum]=normal.y;
				nNum++;
				vertextBuffer[nNum]=normal.z;
				nNum++;
				vertextBuffer[nNum]=(beginX+j)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=(beginZ+0)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=this._beginGridX+j;
				nNum++;
				vertextBuffer[nNum]=hZIndex;
				nNum++;
			}
		}
		for (i=0;i < 2;i++){
			for (j=0;j < s;j++){
				TerrainLeaf.__VECTOR3__.x=(this._beginGridX+j)*this._gridSize;
				TerrainLeaf.__VECTOR3__.y=(i==0 ? terrainHeightData[(this._beginGridZ+TerrainLeaf.LEAF_GRID_NUM)*(heighDataWidth)+(this._beginGridX+j)] :-this._gridSize);
				TerrainLeaf.__VECTOR3__.z=(this._beginGridZ+TerrainLeaf.LEAF_GRID_NUM)*this._gridSize;
				if (TerrainLeaf.__ADAPT_MATRIX__){
					Vector3.transformV3ToV3(TerrainLeaf.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__VECTOR3__);
				}
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.x;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.y;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.z;
				nNum++;
				if (i==0){
					hZIndex=this._beginGridZ+TerrainLeaf.LEAF_GRID_NUM;
					}else {
					hZIndex=(this._beginGridZ+TerrainLeaf.LEAF_GRID_NUM+1);
				}
				this.calcVertextNormlUV(this._beginGridX+j,hZIndex,heighDataWidth,heightDataHeight,normal);
				vertextBuffer[nNum]=normal.x;
				nNum++;
				vertextBuffer[nNum]=normal.y;
				nNum++;
				vertextBuffer[nNum]=normal.z;
				nNum++;
				vertextBuffer[nNum]=(beginX+j)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=(beginZ+TerrainLeaf.LEAF_GRID_NUM)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=this._beginGridX+j;
				nNum++;
				vertextBuffer[nNum]=hZIndex;
				nNum++;
			}
		}
		for (i=0;i < 2;i++){
			for (j=0;j < s;j++){
				TerrainLeaf.__VECTOR3__.x=(this._beginGridX+0)*this._gridSize;
				TerrainLeaf.__VECTOR3__.y=(i==0 ? terrainHeightData[(this._beginGridZ+j)*(heighDataWidth)+(this._beginGridX+0)] :-this._gridSize);
				TerrainLeaf.__VECTOR3__.z=(this._beginGridZ+j)*this._gridSize;
				if (TerrainLeaf.__ADAPT_MATRIX__){
					Vector3.transformV3ToV3(TerrainLeaf.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__VECTOR3__);
				}
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.x;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.y;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.z;
				nNum++;
				if (i==0){
					hXIndex=this._beginGridX;
					}else {
					hXIndex=(this._beginGridX-1);
				}
				this.calcVertextNormlUV(hXIndex,this._beginGridZ+j,heighDataWidth,heightDataHeight,normal);
				vertextBuffer[nNum]=normal.x;
				nNum++;
				vertextBuffer[nNum]=normal.y;
				nNum++;
				vertextBuffer[nNum]=normal.z;
				nNum++;
				vertextBuffer[nNum]=(beginX+0)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=(beginZ+j)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=hXIndex;
				nNum++;
				vertextBuffer[nNum]=this._beginGridZ+j;
				nNum++;
			}
		}
		for (i=0;i < 2;i++){
			for (j=0;j < s;j++){
				TerrainLeaf.__VECTOR3__.x=(this._beginGridX+TerrainLeaf.LEAF_GRID_NUM)*this._gridSize;
				TerrainLeaf.__VECTOR3__.y=(i==1 ? terrainHeightData[(this._beginGridZ+j)*(heighDataWidth)+(this._beginGridX+TerrainLeaf.LEAF_GRID_NUM)] :-this._gridSize);
				TerrainLeaf.__VECTOR3__.z=(this._beginGridZ+j)*this._gridSize;
				if (TerrainLeaf.__ADAPT_MATRIX__){
					Vector3.transformV3ToV3(TerrainLeaf.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX__,TerrainLeaf.__VECTOR3__);
				}
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.x;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.y;
				nNum++;
				vertextBuffer[nNum]=TerrainLeaf.__VECTOR3__.z;
				nNum++;
				if (i==0){
					hXIndex=this._beginGridX+TerrainLeaf.LEAF_GRID_NUM+1;
					}else {
					hXIndex=this._beginGridX+TerrainLeaf.LEAF_GRID_NUM;
				}
				this.calcVertextNormlUV(hXIndex,this._beginGridZ+j,heighDataWidth,heightDataHeight,normal);
				vertextBuffer[nNum]=normal.x;
				nNum++;
				vertextBuffer[nNum]=normal.y;
				nNum++;
				vertextBuffer[nNum]=normal.z;
				nNum++;
				vertextBuffer[nNum]=(beginX+TerrainLeaf.LEAF_GRID_NUM)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=(beginZ+j)/ TerrainLeaf.CHUNK_GRID_NUM;
				nNum++;
				vertextBuffer[nNum]=hXIndex;
				nNum++;
				vertextBuffer[nNum]=this._beginGridZ+j;
				nNum++;
			}
		}
	}

	__proto.calcOriginalBoudingBoxAndSphere=function(){
		var min=new Vector3(this._beginGridX *this._gridSize,this._sizeOfY.x,this._beginGridZ *this._gridSize);
		var max=new Vector3((this._beginGridX+TerrainLeaf.LEAF_GRID_NUM)*this._gridSize,this._sizeOfY.y,(this._beginGridZ+TerrainLeaf.LEAF_GRID_NUM)*this._gridSize);
		if (TerrainLeaf.__ADAPT_MATRIX__){
			Vector3.transformV3ToV3(min,TerrainLeaf.__ADAPT_MATRIX__,min);
			Vector3.transformV3ToV3(max,TerrainLeaf.__ADAPT_MATRIX__,max);
		}
		this._originalBoundingBox=new BoundBox(min,max);
		var size=new Vector3();
		Vector3.subtract(max,min,size);
		Vector3.scale(size,0.5,size);
		var center=new Vector3();
		Vector3.add(min,size,center);
		this._originalBoundingSphere=new BoundSphere(center,Vector3.scalarLength(size));
		this._originalBoundingBoxCorners=__newvec(8,null);
		this._originalBoundingBox.getCorners(this._originalBoundingBoxCorners);
		this._boundingBox=new BoundBox(new Vector3(-0.5,-0.5,-0.5),new Vector3(0.5,0.5,0.5));
		this._boundingSphere=new BoundSphere(new Vector3(0,0,0),1);
	}

	__proto.calcLeafBoudingBox=function(worldMatrix){
		for (var i=0;i < 8;i++){
			Vector3.transformCoordinate(this._originalBoundingBoxCorners[i],worldMatrix,BaseRender._tempBoundBoxCorners[i]);
		}
		BoundBox.createfromPoints(BaseRender._tempBoundBoxCorners,this._boundingBox);
	}

	__proto.calcLeafBoudingSphere=function(worldMatrix,maxScale){
		Vector3.transformCoordinate(this._originalBoundingSphere.center,worldMatrix,this._boundingSphere.center);
		this._boundingSphere.radius=this._originalBoundingSphere.radius *maxScale;
	}

	__proto.calcLODErrors=function(terrainHeightData,heighDataWidth,heightDataHeight){
		this._LODError=new Float32Array(TerrainLeaf._maxLODLevel+1);
		var step=1;
		for (var i=0,n=TerrainLeaf._maxLODLevel+1;i < n;i++){
			var maxError=0;
			for (var y=0,n1=TerrainLeaf.LEAF_GRID_NUM;y < n1;y+=step){
				for (var x=0,n2=TerrainLeaf.LEAF_GRID_NUM;x < n2;x+=step){
					var z00=terrainHeightData[(this._beginGridZ+y)*heighDataWidth+(this._beginGridX+x)];
					var z10=terrainHeightData[(this._beginGridZ+y)*heighDataWidth+(this._beginGridX+x)+step];
					var z01=terrainHeightData[(this._beginGridZ+y+step)*heighDataWidth+(this._beginGridX+x)];
					var z11=terrainHeightData[(this._beginGridZ+y+step)*heighDataWidth+(this._beginGridX+x)+step];
					for (var j=0;j < step;j++){
						var ys=j / step;
						for (var k=0;k < step;k++){
							var xs=k / step;
							var z=terrainHeightData[(this._beginGridZ+y+j)*heighDataWidth+(this._beginGridX+x)+k];
							var iz=(xs+ys <=1)? (z00+(z10-z00)*xs+(z01-z00)*ys):(z11+(z01-z11)*(1-xs)+(z10-z11)*(1-ys));
							var error=Math.abs(iz-z);
							maxError=Math.max(maxError,error);
						}
					}
				}
			}
			step *=2;
			this._LODError[i]=maxError;
		}
	}

	__proto.determineLod=function(eyePos,perspectiveFactor,tolerance,tolerAndPerspectiveChanged){
		var nDistanceToEye=Vector3.distance(eyePos,this._boundingSphere.center);
		var n=TerrainLeaf._maxLODLevel;
		if (!tolerAndPerspectiveChanged){
			if (this._lastDistanceToEye==nDistanceToEye){
				return this._currentLODLevel;
				}else if (this._lastDistanceToEye > nDistanceToEye){
				n=this._currentLODLevel;
			}
		}
		for (var i=n;i >=1;i--){
			if (Terrain.LOD_DISTANCE_FACTOR *this._LODError[i] / nDistanceToEye *perspectiveFactor < tolerance){
				this._currentLODLevel=i;
				break ;
			}
		}
		this._lastDistanceToEye=nDistanceToEye;
		return this._currentLODLevel;
	}

	TerrainLeaf.__init__=function(){
		if (!TerrainLeaf._bInit){
			var nLeafNum=(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM)*(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM);
			TerrainLeaf._planeLODIndex=__newvec(nLeafNum);
			var i=0,j=0,k=0,n=0,n1=0,nOffset=0;
			var nOriginIndexArray=null,nTempIndex=null;
			for (i=0;i < nLeafNum;i++){
				TerrainLeaf._planeLODIndex[i]=new Array(TerrainLeaf._maxLODLevel+1);
			}
			for (i=0,n=TerrainLeaf._maxLODLevel+1;i < n;i++){
				TerrainLeaf._planeLODIndex[0][i]=TerrainLeaf.calcPlaneLODIndex(i);
			}
			for (i=1;i < nLeafNum;i++){
				nOffset=i *TerrainLeaf.LEAF_PLANE_VERTEXT_COUNT;
				for (j=0,n1=TerrainLeaf._maxLODLevel+1;j < n1;j++){
					nOriginIndexArray=TerrainLeaf._planeLODIndex[0][j];
					nTempIndex=new Uint16Array(nOriginIndexArray.length);
					for (k=0;k < nOriginIndexArray.length;k++){
						nTempIndex[k]=nOriginIndexArray[k]+nOffset;
					}
					TerrainLeaf._planeLODIndex[i][j]=nTempIndex;
				}
			}
			TerrainLeaf._skirtLODIndex=__newvec(nLeafNum);
			for (i=0;i < nLeafNum;i++){
				TerrainLeaf._skirtLODIndex[i]=new Array(TerrainLeaf._maxLODLevel+1);
			}
			for (i=0,n=TerrainLeaf._maxLODLevel+1;i < n;i++){
				TerrainLeaf._skirtLODIndex[0][i]=TerrainLeaf.calcSkirtLODIndex(i);
			}
			for (i=1;i < nLeafNum;i++){
				nOffset=i *TerrainLeaf.LEAF_SKIRT_VERTEXT_COUNT;
				for (j=0,n1=TerrainLeaf._maxLODLevel+1;j < n1;j++){
					nOriginIndexArray=TerrainLeaf._skirtLODIndex[0][j];
					nTempIndex=new Uint16Array(nOriginIndexArray.length);
					for (k=0;k < nOriginIndexArray.length;k++){
						nTempIndex[k]=nOriginIndexArray[k]+nOffset;
					}
					TerrainLeaf._skirtLODIndex[i][j]=nTempIndex;
				}
			}
			TerrainLeaf._bInit=true;
		}
	}

	TerrainLeaf.getPlaneLODIndex=function(leafIndex,LODLevel){
		return TerrainLeaf._planeLODIndex[leafIndex][LODLevel];
	}

	TerrainLeaf.getSkirtLODIndex=function(leafIndex,LODLevel){
		return TerrainLeaf._skirtLODIndex[leafIndex][LODLevel];
	}

	TerrainLeaf.calcPlaneLODIndex=function(level){
		if (level > TerrainLeaf._maxLODLevel)level=TerrainLeaf._maxLODLevel;
		var nGridNumAddOne=TerrainLeaf.LEAF_GRID_NUM+1;
		var nNum=0;
		var indexBuffer=null;
		var nLODGridNum=laya.d3.terrain.TerrainLeaf.LEAF_GRID_NUM / Math.pow(2,level);
		indexBuffer=new Uint16Array(nLODGridNum *nLODGridNum *6);
		var nGridSpace=laya.d3.terrain.TerrainLeaf.LEAF_GRID_NUM / nLODGridNum;
		for (var i=0;i < TerrainLeaf.LEAF_GRID_NUM;i+=nGridSpace){
			for (var j=0;j < TerrainLeaf.LEAF_GRID_NUM;j+=nGridSpace){
				indexBuffer[nNum]=(i+nGridSpace)*nGridNumAddOne+j;
				nNum++;
				indexBuffer[nNum]=i *nGridNumAddOne+j;
				nNum++;
				indexBuffer[nNum]=i *nGridNumAddOne+j+nGridSpace;
				nNum++;
				indexBuffer[nNum]=i *nGridNumAddOne+j+nGridSpace;
				nNum++;
				indexBuffer[nNum]=(i+nGridSpace)*nGridNumAddOne+j+nGridSpace;
				nNum++;
				indexBuffer[nNum]=(i+nGridSpace)*nGridNumAddOne+j;
				nNum++;
			}
		}
		return indexBuffer;
	}

	TerrainLeaf.calcSkirtLODIndex=function(level){
		if (level > TerrainLeaf._maxLODLevel)level=TerrainLeaf._maxLODLevel;
		var nSkirtIndexOffset=(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM)*(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM)*TerrainLeaf.LEAF_PLANE_VERTEXT_COUNT;
		var nGridNumAddOne=TerrainLeaf.LEAF_GRID_NUM+1;
		var nNum=0;
		var indexBuffer=null;
		var nLODGridNum=laya.d3.terrain.TerrainLeaf.LEAF_GRID_NUM / Math.pow(2,level);
		indexBuffer=new Uint16Array(nLODGridNum *4 *6);
		var nGridSpace=laya.d3.terrain.TerrainLeaf.LEAF_GRID_NUM / nLODGridNum;
		for (var j=0;j < 4;j++){
			for (var i=0;i < TerrainLeaf.LEAF_GRID_NUM;i+=nGridSpace){
				indexBuffer[nNum]=nSkirtIndexOffset+nGridNumAddOne+i;
				nNum++;
				indexBuffer[nNum]=nSkirtIndexOffset+i;
				nNum++;
				indexBuffer[nNum]=nSkirtIndexOffset+i+nGridSpace;
				nNum++;
				indexBuffer[nNum]=nSkirtIndexOffset+i+nGridSpace;
				nNum++;
				indexBuffer[nNum]=nSkirtIndexOffset+nGridNumAddOne+i+nGridSpace;
				nNum++;
				indexBuffer[nNum]=nSkirtIndexOffset+nGridNumAddOne+i;
				nNum++;
			}
			nSkirtIndexOffset+=nGridNumAddOne *2;
		}
		return indexBuffer;
	}

	TerrainLeaf.getHeightFromTerrainHeightData=function(x,z,terrainHeightData,heighDataWidth,heightDataHeight){
		x=x < 0 ? 0 :x;
		x=(x >=heighDataWidth)? heighDataWidth-1 :x;
		z=z < 0 ? 0 :z;
		z=(z >=heightDataHeight)? heightDataHeight-1 :z;
		return terrainHeightData[z *heighDataWidth+x];
	}

	TerrainLeaf.CHUNK_GRID_NUM=64;
	TerrainLeaf.LEAF_GRID_NUM=32;
	TerrainLeaf.__ADAPT_MATRIX__=null;
	TerrainLeaf.__ADAPT_MATRIX_INV__=null;
	TerrainLeaf._planeLODIndex=null;
	TerrainLeaf._skirtLODIndex=null;
	TerrainLeaf._bInit=false;
	__static(TerrainLeaf,
	['LEAF_PLANE_VERTEXT_COUNT',function(){return this.LEAF_PLANE_VERTEXT_COUNT=(TerrainLeaf.LEAF_GRID_NUM+1)*(TerrainLeaf.LEAF_GRID_NUM+1);},'LEAF_SKIRT_VERTEXT_COUNT',function(){return this.LEAF_SKIRT_VERTEXT_COUNT=(TerrainLeaf.LEAF_GRID_NUM+1)*2 *4;},'LEAF_VERTEXT_COUNT',function(){return this.LEAF_VERTEXT_COUNT=TerrainLeaf.LEAF_PLANE_VERTEXT_COUNT+TerrainLeaf.LEAF_SKIRT_VERTEXT_COUNT;},'LEAF_PLANE_MAX_INDEX_COUNT',function(){return this.LEAF_PLANE_MAX_INDEX_COUNT=TerrainLeaf.LEAF_GRID_NUM *TerrainLeaf.LEAF_GRID_NUM *6;},'LEAF_SKIRT_MAX_INDEX_COUNT',function(){return this.LEAF_SKIRT_MAX_INDEX_COUNT=TerrainLeaf.LEAF_GRID_NUM *4 *6;},'LEAF_MAX_INDEX_COUNT',function(){return this.LEAF_MAX_INDEX_COUNT=TerrainLeaf.LEAF_PLANE_MAX_INDEX_COUNT+TerrainLeaf.LEAF_SKIRT_MAX_INDEX_COUNT;},'__VECTOR3__',function(){return this.__VECTOR3__=new Vector3();},'_maxLODLevel',function(){return this._maxLODLevel=Math.log2(TerrainLeaf.LEAF_GRID_NUM);}
	]);
	return TerrainLeaf;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/unit/ChunkInfo.as=======199.999438/199.999438
/**
*<code>DetailTextureInfo</code> 类用于描述地形细节纹理。
*/
//class laya.d3.terrain.unit.ChunkInfo
var ChunkInfo=(function(){
	function ChunkInfo(){
		this.alphaMap=null;
		this.detailID=null;
		this.normalMap=null;
		;
	}

	__class(ChunkInfo,'laya.d3.terrain.unit.ChunkInfo');
	return ChunkInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/unit/DetailTextureInfo.as=======199.999437/199.999437
/**
*<code>DetailTextureInfo</code> 类用于描述地形细节纹理。
*/
//class laya.d3.terrain.unit.DetailTextureInfo
var DetailTextureInfo=(function(){
	function DetailTextureInfo(){
		this.diffuseTexture=null;
		this.normalTexture=null;
		this.scale=null;
		this.offset=null;
		;
	}

	__class(DetailTextureInfo,'laya.d3.terrain.unit.DetailTextureInfo');
	return DetailTextureInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/unit/MaterialInfo.as=======199.999436/199.999436
/**
*<code>MaterialInfo</code> 类用于描述地形材质信息。
*/
//class laya.d3.terrain.unit.MaterialInfo
var MaterialInfo=(function(){
	function MaterialInfo(){
		this.ambientColor=null;
		this.diffuseColor=null;
		this.specularColor=null;
		;
	}

	__class(MaterialInfo,'laya.d3.terrain.unit.MaterialInfo');
	return MaterialInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/Physics.as=======199.999434/199.999434
/**
*<code>Physics</code> 类用于简单物理检测。
*/
//class laya.d3.utils.Physics
var Physics=(function(){
	/**
	*创建一个 <code>Physics</code> 实例。
	*/
	function Physics(){}
	__class(Physics,'laya.d3.utils.Physics');
	Physics.__init__=function(){
		var maxCount=31;
		Physics._layerCollsionMatrix.length=maxCount;
		for (var i=0;i < maxCount;i++){
			var collArray=[];
			var count=maxCount-i;
			collArray.length=count;
			for (var j=0;j < count;j++)
			if (j===count-1)
				collArray[j]=true;
			else
			collArray[j]=false;
			Physics._layerCollsionMatrix[i]=collArray;
		}
	}

	Physics.setLayerCollision=function(layer1,layer2,collison){
		Physics._layerCollsionMatrix[layer1.number][(31-1)-layer2.number]=collison;
	}

	Physics.getLayerCollision=function(layer1,layer2){
		return Physics._layerCollsionMatrix[layer1.number][(31-1)-layer2.number];
	}

	Physics.setColliderCollision=function(collider1,collider2,collsion){
		if (collsion){
			delete collider1._ignoreCollisonMap[collider2.id];
			delete collider2._ignoreCollisonMap[collider1.id];
			}else {
			collider1._ignoreCollisonMap[collider2.id]=collider2;
			collider2._ignoreCollisonMap[collider1.id]=collider1;
		}
	}

	Physics.getIColliderCollision=function(collider1,collider2){
		return collider1._ignoreCollisonMap[collider2.id] ? true :false;
	}

	Physics._layerCollsionMatrix=[];
	__static(Physics,
	['collisionManager',function(){return this.collisionManager=new CollisionManager();},'gravity',function(){return this.gravity=new Vector3(0,-9.81,0);}
	]);
	return Physics;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/Picker.as=======199.999433/199.999433
/**
*<code>Picker</code> 类用于创建拾取。
*/
//class laya.d3.utils.Picker
var Picker=(function(){
	/**
	*创建一个 <code>Picker</code> 实例。
	*/
	function Picker(){}
	__class(Picker,'laya.d3.utils.Picker');
	Picker.calculateCursorRay=function(point,viewPort,projectionMatrix,viewMatrix,world,out){
		var x=point.elements[0];
		var y=point.elements[1];
		var nearSource=Picker._tempVector30;
		var nerSourceE=nearSource.elements;
		nerSourceE[0]=x;
		nerSourceE[1]=y;
		nerSourceE[2]=viewPort.minDepth;
		var farSource=Picker._tempVector31;
		var farSourceE=farSource.elements;
		farSourceE[0]=x;
		farSourceE[1]=y;
		farSourceE[2]=viewPort.maxDepth;
		var nearPoint=out.origin;
		var farPoint=Picker._tempVector32;
		viewPort.unprojectFromWVP(nearSource,projectionMatrix,viewMatrix,world,nearPoint);
		viewPort.unprojectFromWVP(farSource,projectionMatrix,viewMatrix,world,farPoint);
		var outDire=out.direction.elements;
		outDire[0]=farPoint.x-nearPoint.x;
		outDire[1]=farPoint.y-nearPoint.y;
		outDire[2]=farPoint.z-nearPoint.z;
		Vector3.normalize(out.direction,out.direction);
	}

	Picker.rayIntersectsPositionsAndIndices=function(ray,vertexDatas,vertexDeclaration,indices,outHitInfo){
		var vertexStrideFloatCount=vertexDeclaration.vertexStride / 4;
		var positionVertexElementOffset=vertexDeclaration.getVertexElementByUsage(0).offset / 4;
		var closestIntersection=Number.MAX_VALUE;
		var closestTriangleVertexIndex1=-1;
		var closestTriangleVertexIndex2=-1;
		var closestTriangleVertexIndex3=-1;
		for (var j=0;j < indices.length;j+=3){
			var vertex1=Picker._tempVector35;
			var vertex1E=vertex1.elements;
			var vertex1Index=indices[j] *vertexStrideFloatCount;
			var vertex1PositionIndex=vertex1Index+positionVertexElementOffset;
			vertex1E[0]=vertexDatas[vertex1PositionIndex];
			vertex1E[1]=vertexDatas[vertex1PositionIndex+1];
			vertex1E[2]=vertexDatas[vertex1PositionIndex+2];
			var vertex2=Picker._tempVector36;
			var vertex2E=vertex2.elements;
			var vertex2Index=indices[j+1] *vertexStrideFloatCount;
			var vertex2PositionIndex=vertex2Index+positionVertexElementOffset;
			vertex2E[0]=vertexDatas[vertex2PositionIndex];
			vertex2E[1]=vertexDatas[vertex2PositionIndex+1];
			vertex2E[2]=vertexDatas[vertex2PositionIndex+2];
			var vertex3=Picker._tempVector37;
			var vertex3E=vertex3.elements;
			var vertex3Index=indices[j+2] *vertexStrideFloatCount;
			var vertex3PositionIndex=vertex3Index+positionVertexElementOffset;
			vertex3E[0]=vertexDatas[vertex3PositionIndex];
			vertex3E[1]=vertexDatas[vertex3PositionIndex+1];
			vertex3E[2]=vertexDatas[vertex3PositionIndex+2];
			var intersection=laya.d3.utils.Picker.rayIntersectsTriangle(ray,vertex1,vertex2,vertex3);
			if (!isNaN(intersection)&& intersection < closestIntersection){
				closestIntersection=intersection;
				closestTriangleVertexIndex1=vertex1Index;
				closestTriangleVertexIndex2=vertex2Index;
				closestTriangleVertexIndex3=vertex3Index;
			}
		}
		if (closestIntersection!==Number.MAX_VALUE){
			outHitInfo.distance=closestIntersection;
			Vector3.scale(ray.direction,closestIntersection,outHitInfo.position);
			Vector3.add(ray.origin,outHitInfo.position,outHitInfo.position);
			var trianglePositions=outHitInfo.trianglePositions;
			var position0=trianglePositions[0];
			var position1=trianglePositions[1];
			var position2=trianglePositions[2];
			var position0E=position0.elements;
			var position1E=position1.elements;
			var position2E=position2.elements;
			var closestVertex1PositionIndex=closestTriangleVertexIndex1+positionVertexElementOffset;
			position0E[0]=vertexDatas[closestVertex1PositionIndex];
			position0E[1]=vertexDatas[closestVertex1PositionIndex+1];
			position0E[2]=vertexDatas[closestVertex1PositionIndex+2];
			var closestVertex2PositionIndex=closestTriangleVertexIndex2+positionVertexElementOffset;
			position1E[0]=vertexDatas[closestVertex2PositionIndex];
			position1E[1]=vertexDatas[closestVertex2PositionIndex+1];
			position1E[2]=vertexDatas[closestVertex2PositionIndex+2];
			var closestVertex3PositionIndex=closestTriangleVertexIndex3+positionVertexElementOffset;
			position2E[0]=vertexDatas[closestVertex3PositionIndex];
			position2E[1]=vertexDatas[closestVertex3PositionIndex+1];
			position2E[2]=vertexDatas[closestVertex3PositionIndex+2];
			var normalVertexElement=vertexDeclaration.getVertexElementByUsage(3);
			if (normalVertexElement){
				var normalVertexElementOffset=normalVertexElement.offset / 4;
				var triangleNormals=outHitInfo.triangleNormals;
				var normal0=triangleNormals[0];
				var normal1=triangleNormals[1];
				var normal2=triangleNormals[2];
				var normal0E=normal0.elements;
				var normal1E=normal1.elements;
				var normal2E=normal2.elements;
				var closestVertex1NormalIndex=closestTriangleVertexIndex1+normalVertexElementOffset;
				normal0E[0]=vertexDatas[closestVertex1NormalIndex];
				normal0E[1]=vertexDatas[closestVertex1NormalIndex+1];
				normal0E[2]=vertexDatas[closestVertex1NormalIndex+2];
				var closestVertex2NormalIndex=closestTriangleVertexIndex2+normalVertexElementOffset;
				normal1E[0]=vertexDatas[closestVertex2NormalIndex];
				normal1E[1]=vertexDatas[closestVertex2NormalIndex+1];
				normal1E[2]=vertexDatas[closestVertex2NormalIndex+2];
				var closestVertex3NormalIndex=closestTriangleVertexIndex3+normalVertexElementOffset;
				normal2E[0]=vertexDatas[closestVertex3NormalIndex];
				normal2E[1]=vertexDatas[closestVertex3NormalIndex+1];
				normal2E[2]=vertexDatas[closestVertex3NormalIndex+2];
			}
			return true;
			}else {
			outHitInfo.position.toDefault();
			outHitInfo.distance=Number.MAX_VALUE;
			outHitInfo.trianglePositions[0].toDefault();
			outHitInfo.trianglePositions[1].toDefault();
			outHitInfo.trianglePositions[2].toDefault();
			outHitInfo.triangleNormals[0].toDefault();
			outHitInfo.triangleNormals[1].toDefault();
			outHitInfo.triangleNormals[2].toDefault();
			return false;
		}
	}

	Picker.rayIntersectsTriangle=function(ray,vertex1,vertex2,vertex3){
		var result;
		var edge1=Picker._tempVector30,edge2=Picker._tempVector31;
		Vector3.subtract(vertex2,vertex1,edge1);
		Vector3.subtract(vertex3,vertex1,edge2);
		var directionCrossEdge2=Picker._tempVector32;
		Vector3.cross(ray.direction,edge2,directionCrossEdge2);
		var determinant;
		determinant=Vector3.dot(edge1,directionCrossEdge2);
		if (determinant >-Number.MIN_VALUE && determinant < Number.MIN_VALUE){
			result=Number.NaN;
			return result;
		};
		var inverseDeterminant=1.0 / determinant;
		var distanceVector=Picker._tempVector33;
		Vector3.subtract(ray.origin,vertex1,distanceVector);
		var triangleU;
		triangleU=Vector3.dot(distanceVector,directionCrossEdge2);
		triangleU *=inverseDeterminant;
		if (triangleU < 0 || triangleU > 1){
			result=Number.NaN;
			return result;
		};
		var distanceCrossEdge1=Picker._tempVector34;
		Vector3.cross(distanceVector,edge1,distanceCrossEdge1);
		var triangleV;
		triangleV=Vector3.dot(ray.direction,distanceCrossEdge1);
		triangleV *=inverseDeterminant;
		if (triangleV < 0 || triangleU+triangleV > 1){
			result=Number.NaN;
			return result;
		};
		var rayDistance;
		rayDistance=Vector3.dot(edge2,distanceCrossEdge1);
		rayDistance *=inverseDeterminant;
		if (rayDistance < 0){
			result=Number.NaN;
			return result;
		}
		result=rayDistance;
		return result;
	}

	__static(Picker,
	['_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempVector31',function(){return this._tempVector31=new Vector3();},'_tempVector32',function(){return this._tempVector32=new Vector3();},'_tempVector33',function(){return this._tempVector33=new Vector3();},'_tempVector34',function(){return this._tempVector34=new Vector3();},'_tempVector35',function(){return this._tempVector35=new Vector3();},'_tempVector36',function(){return this._tempVector36=new Vector3();},'_tempVector37',function(){return this._tempVector37=new Vector3();}
	]);
	return Picker;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/RaycastHit.as=======199.999432/199.999432
/**
*...
*@author ...
*/
//class laya.d3.utils.RaycastHit
var RaycastHit=(function(){
	function RaycastHit(){
		this.distance=NaN;
		this.trianglePositions=null;
		this.triangleNormals=null;
		this.position=null;
		this.sprite3D=null;
		this.distance=-1;
		this.trianglePositions=[new Vector3(),new Vector3(),new Vector3()];
		this.trianglePositions.length=3;
		this.triangleNormals=[new Vector3(),new Vector3(),new Vector3()];
		this.triangleNormals.length=3;
		this.position=new Vector3();
	}

	__class(RaycastHit,'laya.d3.utils.RaycastHit');
	var __proto=RaycastHit.prototype;
	__proto.cloneTo=function(dec){
		dec.distance=this.distance;
		this.trianglePositions[0].cloneTo(dec.trianglePositions[0]);
		this.trianglePositions[1].cloneTo(dec.trianglePositions[1]);
		this.trianglePositions[2].cloneTo(dec.trianglePositions[2]);
		this.triangleNormals[0].cloneTo(dec.triangleNormals[0]);
		this.triangleNormals[1].cloneTo(dec.triangleNormals[1]);
		this.triangleNormals[2].cloneTo(dec.triangleNormals[2]);
		this.position.cloneTo(dec.position);
		dec.sprite3D=this.sprite3D;
	}

	return RaycastHit;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/Size.as=======199.999431/199.999431
//class laya.d3.utils.Size
var Size=(function(){
	function Size(width,height){
		this._width=0;
		this._height=0;
		this._width=width;
		this._height=height;
	}

	__class(Size,'laya.d3.utils.Size');
	var __proto=Size.prototype;
	__getset(0,__proto,'width',function(){
		if (this._width===-1)
			return RenderContext3D.clientWidth;
		return this._width;
	});

	__getset(0,__proto,'height',function(){
		if (this._height===-1)
			return RenderContext3D.clientHeight;
		return this._height;
	});

	__getset(1,Size,'fullScreen',function(){
		return new Size(-1,-1);
	});

	return Size;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/Utils3D.as=======199.999430/199.999430
/**
*<code>Utils3D</code> 类用于创建3D工具。
*/
//class laya.d3.utils.Utils3D
var Utils3D=(function(){
	function Utils3D(){}
	__class(Utils3D,'laya.d3.utils.Utils3D');
	Utils3D._rotationTransformScaleSkinAnimation=function(tx,ty,tz,qx,qy,qz,qw,sx,sy,sz,outArray,outOffset){
		var re=Utils3D._tempArray16_0;
		var se=Utils3D._tempArray16_1;
		var tse=Utils3D._tempArray16_2;
		var x2=qx+qx;
		var y2=qy+qy;
		var z2=qz+qz;
		var xx=qx *x2;
		var yx=qy *x2;
		var yy=qy *y2;
		var zx=qz *x2;
		var zy=qz *y2;
		var zz=qz *z2;
		var wx=qw *x2;
		var wy=qw *y2;
		var wz=qw *z2;
		re[15]=1;
		re[0]=1-yy-zz;
		re[1]=yx+wz;
		re[2]=zx-wy;
		re[4]=yx-wz;
		re[5]=1-xx-zz;
		re[6]=zy+wx;
		re[8]=zx+wy;
		re[9]=zy-wx;
		re[10]=1-xx-yy;
		se[15]=1;
		se[0]=sx;
		se[5]=sy;
		se[10]=sz;
		var i,a,b,e,ai0,ai1,ai2,ai3;
		for (i=0;i < 4;i++){
			ai0=re[i];
			ai1=re[i+4];
			ai2=re[i+8];
			ai3=re[i+12];
			tse[i]=ai0;
			tse[i+4]=ai1;
			tse[i+8]=ai2;
			tse[i+12]=ai0 *tx+ai1 *ty+ai2 *tz+ai3;
		}
		for (i=0;i < 4;i++){
			ai0=tse[i];
			ai1=tse[i+4];
			ai2=tse[i+8];
			ai3=tse[i+12];
			outArray[i+outOffset]=ai0 *se[0]+ai1 *se[1]+ai2 *se[2]+ai3 *se[3];
			outArray[i+outOffset+4]=ai0 *se[4]+ai1 *se[5]+ai2 *se[6]+ai3 *se[7];
			outArray[i+outOffset+8]=ai0 *se[8]+ai1 *se[9]+ai2 *se[10]+ai3 *se[11];
			outArray[i+outOffset+12]=ai0 *se[12]+ai1 *se[13]+ai2 *se[14]+ai3 *se[15];
		}
	}

	Utils3D._createNodeByJson=function(rootNode,nodeData,node,innerResouMap,outBatchSprites){
		if (!node){
			switch (nodeData.type){
				case "Sprite3D":
					node=new Sprite3D();
					break ;
				case "MeshSprite3D":
					node=new MeshSprite3D();
					(outBatchSprites)&& (outBatchSprites.push(node));
					break ;
				case "SkinnedMeshSprite3D":
					node=new SkinnedMeshSprite3D();
					break ;
				case "ShuriKenParticle3D":
					node=new ShuriKenParticle3D();
					break ;
				case "Terrain":
					node=new Terrain();
					break ;
				case "Camera":
					node=new Camera();
					break ;
				case "DirectionLight":
					node=new DirectionLight();
					break ;
				case "TrailSprite3D":
					node=new TrailSprite3D();
					break ;
				default :
					throw new Error("Utils3D:unidentified class type in (.lh) file.");
				}
		};
		var childData=nodeData.child;
		if (childData){
			for (var i=0,n=childData.length;i < n;i++){
				var child=Utils3D._createNodeByJson(rootNode,childData[i],null,innerResouMap,outBatchSprites)
				node.addChild(child);
			}
		};
		var props=nodeData.props;
		if (props)
			for (var key in props)
		node[key]=props[key];
		var componentsData=nodeData.components;
		if ((componentsData instanceof Array)){
			for (var j=0,m=componentsData.length;j < m;j++){
				var data=componentsData[j];
				var clas=Browser.window.Laya[data.type];
				if (clas){
					var component=node.addComponent(clas);
					component._parse(data,innerResouMap);
					}else {
					throw "Unkown component type.";
				}
			}
			}else {
			for (var k in componentsData){
				clas=Browser.window.Laya[k];
				if (clas){
					var componentX=node.addComponent(clas);
					componentX._parse(componentsData[k],innerResouMap);
					}else {
					throw "Unkown component type.";
				}
			}
		}
		node._parse(nodeData.customProps,innerResouMap);
		return node;
	}

	Utils3D._computeBoneAndAnimationDatasByBindPoseMatrxix=function(bones,curData,inverGlobalBindPose,outBonesDatas,outAnimationDatas,boneIndexToMesh){
		var offset=0;
		var matOffset=0;
		var i;
		var parentOffset;
		var boneLength=bones.length;
		for (i=0;i < boneLength;offset+=bones[i].keyframeWidth,matOffset+=16,i++){
			laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(curData[offset+0],curData[offset+1],curData[offset+2],curData[offset+3],curData[offset+4],curData[offset+5],curData[offset+6],curData[offset+7],curData[offset+8],curData[offset+9],outBonesDatas,matOffset);
			if (i !=0){
				parentOffset=bones[i].parentIndex *16;
				laya.d3.utils.Utils3D.mulMatrixByArray(outBonesDatas,parentOffset,outBonesDatas,matOffset,outBonesDatas,matOffset);
			}
		};
		var n=inverGlobalBindPose.length;
		for (i=0;i < n;i++){
			laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(outBonesDatas,boneIndexToMesh[i] *16,inverGlobalBindPose[i],outAnimationDatas,i *16);
		}
	}

	Utils3D._computeAnimationDatasByArrayAndMatrixFast=function(inverGlobalBindPose,bonesDatas,outAnimationDatas,boneIndexToMesh){
		for (var i=0,n=inverGlobalBindPose.length;i < n;i++)
		laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(bonesDatas,boneIndexToMesh[i] *16,inverGlobalBindPose[i],outAnimationDatas,i *16);
	}

	Utils3D._computeBoneAndAnimationDatasByBindPoseMatrxixOld=function(bones,curData,inverGlobalBindPose,outBonesDatas,outAnimationDatas){
		var offset=0;
		var matOffset=0;
		var i;
		var parentOffset;
		var boneLength=bones.length;
		for (i=0;i < boneLength;offset+=bones[i].keyframeWidth,matOffset+=16,i++){
			laya.d3.utils.Utils3D._rotationTransformScaleSkinAnimation(curData[offset+7],curData[offset+8],curData[offset+9],curData[offset+3],curData[offset+4],curData[offset+5],curData[offset+6],curData[offset+0],curData[offset+1],curData[offset+2],outBonesDatas,matOffset);
			if (i !=0){
				parentOffset=bones[i].parentIndex *16;
				laya.d3.utils.Utils3D.mulMatrixByArray(outBonesDatas,parentOffset,outBonesDatas,matOffset,outBonesDatas,matOffset);
			}
		};
		var n=inverGlobalBindPose.length;
		for (i=0;i < n;i++){
			var arrayOffset=i *16;
			laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(outBonesDatas,arrayOffset,inverGlobalBindPose[i],outAnimationDatas,arrayOffset);
		}
	}

	Utils3D._computeAnimationDatasByArrayAndMatrixFastOld=function(inverGlobalBindPose,bonesDatas,outAnimationDatas){
		var n=inverGlobalBindPose.length;
		for (var i=0;i < n;i++){
			var arrayOffset=i *16;
			laya.d3.utils.Utils3D.mulMatrixByArrayAndMatrixFast(bonesDatas,arrayOffset,inverGlobalBindPose[i],outAnimationDatas,arrayOffset);
		}
	}

	Utils3D._computeRootAnimationData=function(bones,curData,animationDatas){
		for (var i=0,offset=0,matOffset=0,boneLength=bones.length;i < boneLength;offset+=bones[i].keyframeWidth,matOffset+=16,i++)
		laya.d3.utils.Utils3D.createAffineTransformationArray(curData[offset+0],curData[offset+1],curData[offset+2],curData[offset+3],curData[offset+4],curData[offset+5],curData[offset+6],curData[offset+7],curData[offset+8],curData[offset+9],animationDatas,matOffset);
	}

	Utils3D.transformVector3ArrayByQuat=function(sourceArray,sourceOffset,rotation,outArray,outOffset){
		var re=rotation.elements;
		var x=sourceArray[sourceOffset],y=sourceArray[sourceOffset+1],z=sourceArray[sourceOffset+2],qx=re[0],qy=re[1],qz=re[2],qw=re[3],ix=qw *x+qy *z-qz *y,iy=qw *y+qz *x-qx *z,iz=qw *z+qx *y-qy *x,iw=-qx *x-qy *y-qz *z;
		outArray[outOffset]=ix *qw+iw *-qx+iy *-qz-iz *-qy;
		outArray[outOffset+1]=iy *qw+iw *-qy+iz *-qx-ix *-qz;
		outArray[outOffset+2]=iz *qw+iw *-qz+ix *-qy-iy *-qx;
	}

	Utils3D.mulMatrixByArray=function(leftArray,leftOffset,rightArray,rightOffset,outArray,outOffset){
		var i,ai0,ai1,ai2,ai3;
		if (outArray===rightArray){
			rightArray=Utils3D._tempArray16_3;
			for (i=0;i < 16;++i){
				rightArray[i]=outArray[outOffset+i];
			}
			rightOffset=0;
		}
		for (i=0;i < 4;i++){
			ai0=leftArray[leftOffset+i];
			ai1=leftArray[leftOffset+i+4];
			ai2=leftArray[leftOffset+i+8];
			ai3=leftArray[leftOffset+i+12];
			outArray[outOffset+i]=ai0 *rightArray[rightOffset+0]+ai1 *rightArray[rightOffset+1]+ai2 *rightArray[rightOffset+2]+ai3 *rightArray[rightOffset+3];
			outArray[outOffset+i+4]=ai0 *rightArray[rightOffset+4]+ai1 *rightArray[rightOffset+5]+ai2 *rightArray[rightOffset+6]+ai3 *rightArray[rightOffset+7];
			outArray[outOffset+i+8]=ai0 *rightArray[rightOffset+8]+ai1 *rightArray[rightOffset+9]+ai2 *rightArray[rightOffset+10]+ai3 *rightArray[rightOffset+11];
			outArray[outOffset+i+12]=ai0 *rightArray[rightOffset+12]+ai1 *rightArray[rightOffset+13]+ai2 *rightArray[rightOffset+14]+ai3 *rightArray[rightOffset+15];
		}
	}

	Utils3D.mulMatrixByArrayFast=function(leftArray,leftOffset,rightArray,rightOffset,outArray,outOffset){
		var i,ai0,ai1,ai2,ai3;
		for (i=0;i < 4;i++){
			ai0=leftArray[leftOffset+i];
			ai1=leftArray[leftOffset+i+4];
			ai2=leftArray[leftOffset+i+8];
			ai3=leftArray[leftOffset+i+12];
			outArray[outOffset+i]=ai0 *rightArray[rightOffset+0]+ai1 *rightArray[rightOffset+1]+ai2 *rightArray[rightOffset+2]+ai3 *rightArray[rightOffset+3];
			outArray[outOffset+i+4]=ai0 *rightArray[rightOffset+4]+ai1 *rightArray[rightOffset+5]+ai2 *rightArray[rightOffset+6]+ai3 *rightArray[rightOffset+7];
			outArray[outOffset+i+8]=ai0 *rightArray[rightOffset+8]+ai1 *rightArray[rightOffset+9]+ai2 *rightArray[rightOffset+10]+ai3 *rightArray[rightOffset+11];
			outArray[outOffset+i+12]=ai0 *rightArray[rightOffset+12]+ai1 *rightArray[rightOffset+13]+ai2 *rightArray[rightOffset+14]+ai3 *rightArray[rightOffset+15];
		}
	}

	Utils3D.mulMatrixByArrayAndMatrixFast=function(leftArray,leftOffset,rightMatrix,outArray,outOffset){
		var i,ai0,ai1,ai2,ai3;
		var rightMatrixE=rightMatrix.elements;
		var m11=rightMatrixE[0],m12=rightMatrixE[1],m13=rightMatrixE[2],m14=rightMatrixE[3];
		var m21=rightMatrixE[4],m22=rightMatrixE[5],m23=rightMatrixE[6],m24=rightMatrixE[7];
		var m31=rightMatrixE[8],m32=rightMatrixE[9],m33=rightMatrixE[10],m34=rightMatrixE[11];
		var m41=rightMatrixE[12],m42=rightMatrixE[13],m43=rightMatrixE[14],m44=rightMatrixE[15];
		var ai0LeftOffset=leftOffset;
		var ai1LeftOffset=leftOffset+4;
		var ai2LeftOffset=leftOffset+8;
		var ai3LeftOffset=leftOffset+12;
		var ai0OutOffset=outOffset;
		var ai1OutOffset=outOffset+4;
		var ai2OutOffset=outOffset+8;
		var ai3OutOffset=outOffset+12;
		for (i=0;i < 4;i++){
			ai0=leftArray[ai0LeftOffset+i];
			ai1=leftArray[ai1LeftOffset+i];
			ai2=leftArray[ai2LeftOffset+i];
			ai3=leftArray[ai3LeftOffset+i];
			outArray[ai0OutOffset+i]=ai0 *m11+ai1 *m12+ai2 *m13+ai3 *m14;
			outArray[ai1OutOffset+i]=ai0 *m21+ai1 *m22+ai2 *m23+ai3 *m24;
			outArray[ai2OutOffset+i]=ai0 *m31+ai1 *m32+ai2 *m33+ai3 *m34;
			outArray[ai3OutOffset+i]=ai0 *m41+ai1 *m42+ai2 *m43+ai3 *m44;
		}
	}

	Utils3D.createAffineTransformationArray=function(tX,tY,tZ,rX,rY,rZ,rW,sX,sY,sZ,outArray,outOffset){
		var x2=rX+rX,y2=rY+rY,z2=rZ+rZ;
		var xx=rX *x2,xy=rX *y2,xz=rX *z2,yy=rY *y2,yz=rY *z2,zz=rZ *z2;
		var wx=rW *x2,wy=rW *y2,wz=rW *z2;
		outArray[outOffset+0]=(1-(yy+zz))*sX;
		outArray[outOffset+1]=(xy+wz)*sX;
		outArray[outOffset+2]=(xz-wy)*sX;
		outArray[outOffset+3]=0;
		outArray[outOffset+4]=(xy-wz)*sY;
		outArray[outOffset+5]=(1-(xx+zz))*sY;
		outArray[outOffset+6]=(yz+wx)*sY;
		outArray[outOffset+7]=0;
		outArray[outOffset+8]=(xz+wy)*sZ;
		outArray[outOffset+9]=(yz-wx)*sZ;
		outArray[outOffset+10]=(1-(xx+yy))*sZ;
		outArray[outOffset+11]=0;
		outArray[outOffset+12]=tX;
		outArray[outOffset+13]=tY;
		outArray[outOffset+14]=tZ;
		outArray[outOffset+15]=1;
	}

	Utils3D.transformVector3ArrayToVector3ArrayCoordinate=function(source,sourceOffset,transform,result,resultOffset){
		var coordinateX=source[sourceOffset+0];
		var coordinateY=source[sourceOffset+1];
		var coordinateZ=source[sourceOffset+2];
		var transformElem=transform.elements;
		var w=((coordinateX *transformElem[3])+(coordinateY *transformElem[7])+(coordinateZ *transformElem[11])+transformElem[15]);
		result[resultOffset]=(coordinateX *transformElem[0])+(coordinateY *transformElem[4])+(coordinateZ *transformElem[8])+transformElem[12] / w;
		result[resultOffset+1]=(coordinateX *transformElem[1])+(coordinateY *transformElem[5])+(coordinateZ *transformElem[9])+transformElem[13] / w;
		result[resultOffset+2]=(coordinateX *transformElem[2])+(coordinateY *transformElem[6])+(coordinateZ *transformElem[10])+transformElem[14] / w;
	}

	Utils3D.transformLightingMapTexcoordByUV0Array=function(source,sourceOffset,lightingMapScaleOffset,result,resultOffset){
		var lightingMapScaleOffsetE=lightingMapScaleOffset.elements;
		result[resultOffset+0]=source[sourceOffset+0] *lightingMapScaleOffsetE[0]+lightingMapScaleOffsetE[2];
		result[resultOffset+1]=(source[sourceOffset+1]-1.0)*lightingMapScaleOffsetE[1]+lightingMapScaleOffsetE[3];
	}

	Utils3D.transformLightingMapTexcoordByUV1Array=function(source,sourceOffset,lightingMapScaleOffset,result,resultOffset){
		var lightingMapScaleOffsetE=lightingMapScaleOffset.elements;
		result[resultOffset+0]=source[sourceOffset+0] *lightingMapScaleOffsetE[0]+lightingMapScaleOffsetE[2];
		result[resultOffset+1]=1.0+source[sourceOffset+1] *lightingMapScaleOffsetE[1]+lightingMapScaleOffsetE[3];
	}

	Utils3D.getURLVerion=function(url){
		var index=url.indexOf("?");
		return index >=0 ? url.substr(index):null;
	}

	Utils3D._quaternionCreateFromYawPitchRollArray=function(yaw,pitch,roll,out){
		var halfRoll=roll *0.5;
		var halfPitch=pitch *0.5;
		var halfYaw=yaw *0.5;
		var sinRoll=Math.sin(halfRoll);
		var cosRoll=Math.cos(halfRoll);
		var sinPitch=Math.sin(halfPitch);
		var cosPitch=Math.cos(halfPitch);
		var sinYaw=Math.sin(halfYaw);
		var cosYaw=Math.cos(halfYaw);
		out[0]=(cosYaw *sinPitch *cosRoll)+(sinYaw *cosPitch *sinRoll);
		out[1]=(sinYaw *cosPitch *cosRoll)-(cosYaw *sinPitch *sinRoll);
		out[2]=(cosYaw *cosPitch *sinRoll)-(sinYaw *sinPitch *cosRoll);
		out[3]=(cosYaw *cosPitch *cosRoll)+(sinYaw *sinPitch *sinRoll);
	}

	Utils3D._createAffineTransformationArray=function(trans,rot,scale,outE){
		var x=rot[0],y=rot[1],z=rot[2],w=rot[3],x2=x+x,y2=y+y,z2=z+z;
		var xx=x *x2,xy=x *y2,xz=x *z2,yy=y *y2,yz=y *z2,zz=z *z2;
		var wx=w *x2,wy=w *y2,wz=w *z2,sx=scale[0],sy=scale[1],sz=scale[2];
		outE[0]=(1-(yy+zz))*sx;
		outE[1]=(xy+wz)*sx;
		outE[2]=(xz-wy)*sx;
		outE[3]=0;
		outE[4]=(xy-wz)*sy;
		outE[5]=(1-(xx+zz))*sy;
		outE[6]=(yz+wx)*sy;
		outE[7]=0;
		outE[8]=(xz+wy)*sz;
		outE[9]=(yz-wx)*sz;
		outE[10]=(1-(xx+yy))*sz;
		outE[11]=0;
		outE[12]=trans[0];
		outE[13]=trans[1];
		outE[14]=trans[2];
		outE[15]=1;
	}

	Utils3D._mulMatrixArray=function(leftMatrixE,rightMatrix,outArray,outOffset){
		var i,ai0,ai1,ai2,ai3;
		var rightMatrixE=rightMatrix.elements;
		var m11=rightMatrixE[0],m12=rightMatrixE[1],m13=rightMatrixE[2],m14=rightMatrixE[3];
		var m21=rightMatrixE[4],m22=rightMatrixE[5],m23=rightMatrixE[6],m24=rightMatrixE[7];
		var m31=rightMatrixE[8],m32=rightMatrixE[9],m33=rightMatrixE[10],m34=rightMatrixE[11];
		var m41=rightMatrixE[12],m42=rightMatrixE[13],m43=rightMatrixE[14],m44=rightMatrixE[15];
		var ai0OutOffset=outOffset;
		var ai1OutOffset=outOffset+4;
		var ai2OutOffset=outOffset+8;
		var ai3OutOffset=outOffset+12;
		for (i=0;i < 4;i++){
			ai0=leftMatrixE[i];
			ai1=leftMatrixE[i+4];
			ai2=leftMatrixE[i+8];
			ai3=leftMatrixE[i+12];
			outArray[ai0OutOffset+i]=ai0 *m11+ai1 *m12+ai2 *m13+ai3 *m14;
			outArray[ai1OutOffset+i]=ai0 *m21+ai1 *m22+ai2 *m23+ai3 *m24;
			outArray[ai2OutOffset+i]=ai0 *m31+ai1 *m32+ai2 *m33+ai3 *m34;
			outArray[ai3OutOffset+i]=ai0 *m41+ai1 *m42+ai2 *m43+ai3 *m44;
		}
	}

	Utils3D.getYawPitchRoll=function(quaternion,out){
		Utils3D.transformQuat(Vector3.ForwardRH,quaternion,Quaternion.TEMPVector31);
		Utils3D.transformQuat(Vector3.Up,quaternion,Quaternion.TEMPVector32);
		var upe=Quaternion.TEMPVector32.elements;
		Utils3D.angleTo(Vector3.ZERO,Quaternion.TEMPVector31,Quaternion.TEMPVector33);
		var anglee=Quaternion.TEMPVector33.elements;
		if (anglee[0]==Math.PI / 2){
			anglee[1]=Utils3D.arcTanAngle(upe[2],upe[0]);
			anglee[2]=0;
			}else if (anglee[0]==-Math.PI / 2){
			anglee[1]=Utils3D.arcTanAngle(-upe[2],-upe[0]);
			anglee[2]=0;
			}else {
			Matrix4x4.createRotationY(-anglee[1],Quaternion.TEMPMatrix0);
			Matrix4x4.createRotationX(-anglee[0],Quaternion.TEMPMatrix1);
			Vector3.transformCoordinate(Quaternion.TEMPVector32,Quaternion.TEMPMatrix0,Quaternion.TEMPVector32);
			Vector3.transformCoordinate(Quaternion.TEMPVector32,Quaternion.TEMPMatrix1,Quaternion.TEMPVector32);
			anglee[2]=Utils3D.arcTanAngle(upe[1],-upe[0]);
		}
		if (anglee[1] <=-Math.PI)
			anglee[1]=Math.PI;
		if (anglee[2] <=-Math.PI)
			anglee[2]=Math.PI;
		if (anglee[1] >=Math.PI && anglee[2] >=Math.PI){
			anglee[1]=0;
			anglee[2]=0;
			anglee[0]=Math.PI-anglee[0];
		}
		out[0]=anglee[1];
		out[1]=anglee[0];
		out[2]=anglee[2];
	}

	Utils3D.arcTanAngle=function(x,y){
		if (x==0){
			if (y==1)
				return Math.PI / 2;
			return-Math.PI / 2;
		}
		if (x > 0)
			return Math.atan(y / x);
		if (x < 0){
			if (y > 0)
				return Math.atan(y / x)+Math.PI;
			return Math.atan(y / x)-Math.PI;
		}
		return 0;
	}

	Utils3D.angleTo=function(from,location,angle){
		Vector3.subtract(location,from,Quaternion.TEMPVector30);
		Vector3.normalize(Quaternion.TEMPVector30,Quaternion.TEMPVector30);
		angle.elements[0]=Math.asin(Quaternion.TEMPVector30.y);
		angle.elements[1]=Utils3D.arcTanAngle(-Quaternion.TEMPVector30.z,-Quaternion.TEMPVector30.x);
	}

	Utils3D.transformQuat=function(source,rotation,out){
		var destination=out.elements;
		var se=source.elements;
		var re=rotation;
		var x=se[0],y=se[1],z=se[2],qx=re[0],qy=re[1],qz=re[2],qw=re[3],
		ix=qw *x+qy *z-qz *y,iy=qw *y+qz *x-qx *z,iz=qw *z+qx *y-qy *x,iw=-qx *x-qy *y-qz *z;
		destination[0]=ix *qw+iw *-qx+iy *-qz-iz *-qy;
		destination[1]=iy *qw+iw *-qy+iz *-qx-ix *-qz;
		destination[2]=iz *qw+iw *-qz+ix *-qy-iy *-qx;
	}

	Utils3D.quaterionNormalize=function(f,e){
		var x=f[0],y=f[1],z=f[2],w=f[3];
		var len=x *x+y *y+z *z+w *w;
		if (len > 0){
			len=1 / Math.sqrt(len);
			e[0]=x *len;
			e[1]=y *len;
			e[2]=z *len;
			e[3]=w *len;
		}
	}

	Utils3D.quaterionSlerp=function(left,right,t,out){
		var ax=left[0],ay=left[1],az=left[2],aw=left[3],bx=right[0],by=right[1],bz=right[2],bw=right[3];
		var omega,cosom,sinom,scale0,scale1;
		cosom=ax *bx+ay *by+az *bz+aw *bw;
		if (cosom < 0.0){
			cosom=-cosom;
			bx=-bx;
			by=-by;
			bz=-bz;
			bw=-bw;
		}
		if ((1.0-cosom)> 0.000001){
			omega=Math.acos(cosom);
			sinom=Math.sin(omega);
			scale0=Math.sin((1.0-t)*omega)/ sinom;
			scale1=Math.sin(t *omega)/ sinom;
			}else {
			scale0=1.0-t;
			scale1=t;
		}
		out[0]=scale0 *ax+scale1 *bx;
		out[1]=scale0 *ay+scale1 *by;
		out[2]=scale0 *az+scale1 *bz;
		out[3]=scale0 *aw+scale1 *bw;
	}

	Utils3D.quaternionMultiply=function(le,re,oe){
		var lx=le[0];
		var ly=le[1];
		var lz=le[2];
		var lw=le[3];
		var rx=re[0];
		var ry=re[1];
		var rz=re[2];
		var rw=re[3];
		var a=(ly *rz-lz *ry);
		var b=(lz *rx-lx *rz);
		var c=(lx *ry-ly *rx);
		var d=(lx *rx+ly *ry+lz *rz);
		oe[0]=(lx *rw+rx *lw)+a;
		oe[1]=(ly *rw+ry *lw)+b;
		oe[2]=(lz *rw+rz *lw)+c;
		oe[3]=lw *rw-d;
	}

	Utils3D.matrix4x4MultiplyFFF=function(a,b,e){
		var i,e,a,b,ai0,ai1,ai2,ai3;
		if (e===b){
			b=new Float32Array(16);
			for (i=0;i < 16;++i){
				b[i]=e[i];
			}
		};
		var b0=b[0],b1=b[1],b2=b[2],b3=b[3];
		var b4=b[4],b5=b[5],b6=b[6],b7=b[7];
		var b8=b[8],b9=b[9],b10=b[10],b11=b[11];
		var b12=b[12],b13=b[13],b14=b[14],b15=b[15];
		for (i=0;i < 4;i++){
			ai0=a[i];
			ai1=a[i+4];
			ai2=a[i+8];
			ai3=a[i+12];
			e[i]=ai0 *b0+ai1 *b1+ai2 *b2+ai3 *b3;
			e[i+4]=ai0 *b4+ai1 *b5+ai2 *b6+ai3 *b7;
			e[i+8]=ai0 *b8+ai1 *b9+ai2 *b10+ai3 *b11;
			e[i+12]=ai0 *b12+ai1 *b13+ai2 *b14+ai3 *b15;
		}
	}

	Utils3D.matrix4x4MultiplyFFFForNative=function(a,b,e){
		window.conch.matrix4x4Multiply(a,b,e);
	}

	Utils3D.matrix4x4MultiplyMFM=function(left,right,out){
		Utils3D.matrix4x4MultiplyFFF(left.elements,right,out.elements);
	}

	Utils3D._tempArray4_0=new Float32Array(4);
	Utils3D._tempArray16_0=new Float32Array(16);
	Utils3D._tempArray16_1=new Float32Array(16);
	Utils3D._tempArray16_2=new Float32Array(16);
	Utils3D._tempArray16_3=new Float32Array(16);
	__static(Utils3D,
	['_typeToFunO',function(){return this._typeToFunO={"INT16":"writeInt16","SHORT":"writeInt16","UINT16":"writeUint16","UINT32":"writeUint32","FLOAT32":"writeFloat32","INT":"writeInt32","UINT":"writeUint32","BYTE":"writeByte","STRING":"writeUTFString"};},'_tempVector3_0',function(){return this._tempVector3_0=new Vector3();},'_tempVector3_1',function(){return this._tempVector3_1=new Vector3();},'_tempVector3_2',function(){return this._tempVector3_2=new Vector3();},'_tempVector3_3',function(){return this._tempVector3_3=new Vector3();},'_tempVector3_4',function(){return this._tempVector3_4=new Vector3();},'_tempVector3_5',function(){return this._tempVector3_5=new Vector3();},'_tempVector3_6',function(){return this._tempVector3_6=new Vector3();}
	]);
	return Utils3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/DataDecoder.as=======199.999428/199.999428
/**
*@private 数据表解析
*/
//class laya.data.DataDecoder
var DataDecoder=(function(){
	function DataDecoder(){}
	__class(DataDecoder,'laya.data.DataDecoder');
	DataDecoder.init=function(){
		DataDecoder._map["string"]=["String","string"];
		DataDecoder._map["number"]=["Number","number"];
		DataDecoder._map["int"]=["Number","int32"];
		DataDecoder._map["int8"]=["Number","int8"];
		DataDecoder._map["uint8"]=["Number","uint8"];
		DataDecoder._map["int16"]=["Number","int16"];
		DataDecoder._map["uint16"]=["Number","uint16"];
		DataDecoder._map["int32"]=["Number","int32"];
		DataDecoder._map["uint32"]=["Number","uint32"];
		DataDecoder._map["float32"]=["Number","float32"];
		DataDecoder._map["float64"]=["Number","float64"];
		DataDecoder._map["boolean"]=["Boolean","boolean"];
		DataDecoder._map["s"]=["String","string"];
		DataDecoder._map["n"]=["Number","number"];
		DataDecoder._map["i"]=["Number","int32"];
		DataDecoder._map["b"]=["Boolean","boolean"];
	}

	DataDecoder.getCodeType=function(type){
		if (DataDecoder._map[type])return DataDecoder._map[type][0];
		return type;
	}

	DataDecoder.getStoreType=function(type){
		if (DataDecoder._map[type])return DataDecoder._map[type][1];
		return "string";
	}

	DataDecoder.readTypeFromByte=function(byte,type){
		var rst;
		switch (DataDecoder.getStoreType(type)){
			case "string":
				rst=byte.getUTFString();
				break ;
			case "number":
				rst=byte.getFloat32();
				break ;
			case "int8":
				rst=byte.readByte();
				break ;
			case "uint8":
				rst=byte.getUint8();
				break ;
			case "int16":
				rst=byte.getInt16();
				break ;
			case "uint16":
				rst=byte.getUint16();
				break ;
			case "int32":
				rst=byte.getInt32();
				break ;
			case "uint32":
				rst=byte.getUint32();
				break ;
			case "float32":
				rst=byte.getFloat32();
				break ;
			case "float64":
				rst=byte.getFloat64();
				break ;
			case "boolean":
				rst=byte.readByte()==1;
				break ;
			}
		return rst;
	}

	DataDecoder.decodeData=function(byte,name){
		var className;
		className=byte.readUTFString();
		var dataType;
		dataType=byte.readUTFString();
		var typeLen=byte.getInt32();
		var i=0,len=0;
		len=typeLen;
		var keys=[];
		for (i=0;i < len;i++){
			keys.push(byte.readUTFString());
		};
		var types=[];
		for (i=0;i < len;i++){
			types.push(byte.readUTFString());
		};
		var dataLen=byte.getInt32();
		len=dataLen;
		var tData;
		var j=0,jLen=0;
		jLen=typeLen;
		if (dataType=="objecttable"){
			var rst={};
			rst.key=keys;
			var dataO={};
			rst.data=dataO;
			for (i=0;i < len;i++){
				tData=[];
				for (j=0;j < jLen;j++){
					tData[j]=DataDecoder.readTypeFromByte(byte,types[j]);
				}
				dataO[tData[0]]=tData;
			}
			return rst;
		};
		var datas=new Sheet(name);
		var classZ=ClassUtils.getClass(className);
		for (i=0;i < len;i++){
			if (classZ)tData=new classZ();
			else tData={};
			for (j=0;j < jLen;j++){
				tData[keys[j]]=DataDecoder.readTypeFromByte(byte,types[j]);
			}
			datas.add(tData);
		}
		return datas;
	}

	DataDecoder._map={};
	DataDecoder.STRING="string";
	DataDecoder.NUMBER="number";
	DataDecoder.BOOLEAN="boolean";
	DataDecoder.INT8="int8";
	DataDecoder.UINT8="uint8";
	DataDecoder.INT16="int16";
	DataDecoder.UINT16="uint16";
	DataDecoder.INT32="int32";
	DataDecoder.UINT32="uint32";
	DataDecoder.FLOAT32="float32";
	DataDecoder.FLOAT64="float64";
	DataDecoder.__init$=function(){
		DataDecoder.init();
	}

	return DataDecoder;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/MessageUtils.as=======199.999423/199.999423
/**
*@private 消息工具类
*/
//class laya.data.MessageUtils
var MessageUtils=(function(){
	function MessageUtils(){}
	__class(MessageUtils,'laya.data.MessageUtils');
	MessageUtils.regMessage=function(clz){
		if (!clz["__MID"]){
			clz["__MID"]=MessageUtils.msgID;
			MessageUtils._msgDic[MessageUtils.msgID]=clz;
			MessageUtils._desDic[MessageUtils.msgID]=clz["DES"];
			MessageUtils.msgID++;
		}
	}

	MessageUtils.regMessageList=function(msgList){
		var i=0,len=msgList.length;
		for (i=0;i < len;i++){
			laya.data.MessageUtils.regMessage(msgList[i]);
		}
	}

	MessageUtils.setMessagesKey=function(msgList){
		var i=0,len=msgList.length;
		for (i=0;i < len;i++){
			MessageUtils.setMessageKey(msgList[i]);
		}
	}

	MessageUtils.setMessageKey=function(msg,key){
		if (!key)key=msg["name"];
		msg["KEY"]=key;
	}

	MessageUtils.replaceClass=function(newClz,oldClz){
		var id=0;
		id=MessageUtils.getClassID(oldClz);
		newClz["__MID"]=id;
		MessageUtils._msgDic[id]=newClz;
	}

	MessageUtils.getDesByObject=function(obj){
		return MessageUtils._desDic[MessageUtils.getObjectClassID(obj)];
	}

	MessageUtils.getClassByID=function(id){
		return MessageUtils._msgDic[id];
	}

	MessageUtils.getClassID=function(clz){
		return clz["__MID"];
	}

	MessageUtils.getClassKey=function(clz){
		return clz["KEY"];
	}

	MessageUtils.getObjectClassID=function(obj){
		return MessageUtils.getClassID(obj["__proto__"]["constructor"]);
	}

	MessageUtils.getObjectClass=function(obj){
		return obj["__proto__"]["constructor"];
	}

	MessageUtils.readMessageFromByte=function(byte){
		var clz=MessageUtils.getClassByID(byte.getInt32());
		var rst=new clz();
		rst.read(byte);
		return rst;
	}

	MessageUtils.writeMessageToByte=function(byte,message){
		byte.endian="littleEndian";
		byte.writeInt32(MessageUtils.getObjectClassID(message));
		message.write(byte);
	}

	MessageUtils._msgDic={};
	MessageUtils._desDic={};
	MessageUtils.msgID=1;
	MessageUtils.IDSign="__MID";
	MessageUtils.KEYSign="KEY";
	return MessageUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/Table.as=======199.999421/199.999421
/**
*数据表
*/
//class laya.data.Table
var Table=(function(){
	function Table(){
		/**@private */
		this._notifies={};
		/**@private */
		this._notifyCont=0;
		/**@private */
		this._sheets={};
		this.notifer=new EventDispatcher();
	}

	__class(Table,'laya.data.Table');
	var __proto=Table.prototype;
	/**
	*增加一张数据表
	*@param key 表名称
	*@param sheet 表对象
	*/
	__proto.add=function(key,sheet){
		this._sheets[key]=sheet;
		sheet._table=this;
		this.notify(key);
	}

	/**
	*删除表
	*@param key 表名称
	*/
	__proto.del=function(key){
		delete this._sheets[key];
	}

	/**
	*加载数据表，可以加载单独的地址或者地址数组
	*@param url 表url路径或者路径数组，加载完成后，将使用文件名作为表名索引存储
	*@param complete 加载完成回调
	*/
	__proto.load=function(url,complete){
		var loads=[];
		if ((url instanceof Array)){
			var i=0,len=0;
			len=url.length;
			for (i=0;i < len;i++){
				loads.push({url:url[i],type:"arraybuffer"});
			}
			}else if ((typeof url=='string')){
			loads.push({url:url,type:"arraybuffer"});
		}
		Laya.loader.load(loads,Handler.create(this,this._dataLoaded,[url,complete]));
	}

	/**@private */
	__proto._dataLoaded=function(url,complete){
		if ((url instanceof Array)){
			var i=0,len=0;
			len=url.length;
			for (i=0;i < len;i++){
				this._dealLoadedData(url[i]);
			}
			}else if ((typeof url=='string')){
			this._dealLoadedData(url);
		}
		if (complete)complete.run();
	}

	/**@private */
	__proto._dealLoadedData=function(url){
		var fileName=URL.getFileName(url).split(".")[0];
		if (this._sheets[fileName])return;
		var buffer=Loader.getRes(url);
		if (buffer){
			var byte=new Byte(buffer);
			var data=DataDecoder.decodeData(byte,fileName);
			this.add(fileName,data);
		}
	}

	/**
	*根据表名获取整张表
	*@param sheetName 表名
	*@return 返回数据表集合
	*/
	__proto.get=function(sheetName){
		return this._sheets[sheetName];
	}

	/**
	*是否存在某张表（表是否加载）
	*@param sheetName 表名
	*@return 返回是否存在
	*/
	__proto.has=function(sheetName){
		return this._sheets[sheetName] !=null;
	}

	/**
	*根据表名及索引获取表中某条数据
	*@param sheetName 表名
	*@param index 数组索引
	*@return 返回具体的模型数据
	*/
	__proto.getData=function(sheetName,index){
		var sheet=this._sheets[sheetName];
		if (!sheet)return null;
		return sheet.get(index);
	}

	/**
	*根据表名及ID获取表中某条数据
	*@param sheetName 表名
	*@param id id索引
	*@return 返回具体的模型数据
	*/
	__proto.getByID=function(sheetName,id){
		var sheet=this._sheets[sheetName];
		if (!sheet)return null;
		return sheet.getByID(id);
	}

	/**
	*通知表数据发生变化，相同的key会被过滤，只派发一次
	*/
	__proto.notify=function(key){
		this._notifies[key]=true;
		Laya.timer.callLater(this,this._sendNotify);
	}

	__proto._sendNotify=function(){
		this._notifyCont++;
		for (var key in this._notifies){
			if (this._notifies[key]){
				this._notifies[key]=null;
				this.notifer.event(key);
			}
		}
		if (this._notifyCont > 50)this._notifies={};
	}

	/**@private */
	__proto.createByID=function(sheetName,id){
		var keys=this._sheets[sheetName].key;
		var values=this._sheets[sheetName].data[id];
		var box;
		var comp;
		for (var i=0,n=keys.length;i < n;i++){
			var key=keys[i];
			var value=values[i];
			if (key==="ClassName"){
				comp=Pool.getItemByClass(value,ClassUtils.getClass(value));
				if (!box)box=comp;
				else box.addPlugin(null,comp);
				}else if (key==="var"){
				box && (box[key]=comp);
				}else if (comp){
				if (comp.hasOwnProperty(key))comp[key]=value;
			}
		}
		box.init || box.init();
		return box;
	}

	Table.addTrigger=function(name,sheetName,type,fun){
		var sheet=Table._triggers[sheetName];
		if (!sheet){
			sheet=[[],[],[]];
			Table._triggers[sheetName]=sheet;
		};
		var arr=sheet[type];
		arr.push(name,fun);
	}

	Table.runTrigger=function(sheetName,type,data,key){
		var sheet=Table._triggers[sheetName];
		if (sheet){
			var arr=sheet[type];
			if (arr && arr.length > 0){
				for (var i=0,n=arr.length;i < n;i++){
					var name=arr[i++];
					var fun=arr[i];
					console.log("runTrigger",name);
					fun(data,key);
				}
			}
		}
	}

	Table._triggers={};
	__static(Table,
	['I',function(){return this.I=new Table();}
	]);
	return Table;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/DebugPanel.as=======199.999419/199.999419
/**
*...
*@author ww
*/
//class laya.debug.DebugPanel
var DebugPanel=(function(){
	function DebugPanel(){
		this.tShowObj=null;
		this.preValueO={};
		this.div=null;
		this.debug_view=null;
		this.height=300;
		this.clickedHandler=null;
		this.fromMe=false;
		this._treeDataList=null;
		this._init();
	}

	__class(DebugPanel,'laya.debug.DebugPanel');
	var __proto=DebugPanel.prototype;
	__proto.removeNoDisplayKeys=function(arr){
		var i=0;
		for (i=arr.length-1;i >=0;i--){
			if (DebugPanel.noDisplayKeys[arr[i]]){
				arr.splice(i,1);
			}
		}
	}

	__proto.updateShowKeys=function(){
		DebugPanel.tObjKeys.length=0;
		if (!this.tShowObj)
			return;
		DebugPanel.tObjKeys=ClassTool.getObjectDisplayAbleKeys(this.tShowObj,DebugPanel.tObjKeys);
		if (this.tShowObj==Laya.stage){
			this.removeNoDisplayKeys(DebugPanel.tObjKeys);
		}
		DebugPanel.tObjKeys.sort(MathUtil.sortSmallFirst);
	}

	__proto._init=function(){
		var _$this=this;
		this.div=Browser.document.createElement('div');
		Browser.document.body.appendChild(this.div);
		this.clickedHandler=new Handler(this,this.onClickSelected);
		this.debug_view=Browser.window.layaair_debug_view;
		this.debug_view.initLayaAirDebugView(this.div);
		this.debug_view.tree.attachEvent("onSelect",function(id){
			var dataO;
			dataO=_$this.getDataByID(id,_$this._treeDataList[0]);
			if (dataO.target){
				DebugTool.showDisBound(dataO.target);
				_$this.showTargetInfo(dataO.target);
			}
		});
		this.debug_view.setValueChangeHandler(function(data,new_value){
			_$this.onValueChange(data,new_value);
		});
		this.debug_view.onRefresh(function(){
			DebugPanel.I.setRoot(Laya.stage);
		});
		this.debug_view.onInspectElement(function(){
			ClickSelectTool.I.beginClickSelect(_$this.clickedHandler);
		});
		this.debug_view.onLogInfo(function(){
			console.log(_$this.tShowObj);
		});
		this.debug_view.onPrintEnabledNodeChain(function(){
			DebugTool.traceDisMouseEnable(_$this.tShowObj);
		});
		this.debug_view.onPrintSizeChain(function(){
			DebugTool.traceDisSizeChain(_$this.tShowObj);
		});
		this.debug_view.onToggleVisibility(function(selectd){
			if (_$this.tShowObj){
				_$this.tShowObj.visible=_$this.debug_view.getVisibility();
			}
		});
		this.debug_view.onToggleDebugBorder(function(selectd){
			if (!_$this.tShowObj)
				return;
			SpriteRenderHook.showDisplayBorder(_$this.tShowObj,_$this.debug_view.getShowDebugBorder());
		});
		this.debug_view.onToggleShowCurrentCache(function(selectd){
			CacheAnalyser.showRecacheSprite=_$this.debug_view.getShowCurrentCache();
		});
		this.debug_view.onToggleShowAllCache(function(selectd){
			CacheAnalyser.showCacheSprite=_$this.debug_view.getShowAllCache();
		});
		this.debug_view.onToggleShowAtlas(function(selectd){
			console.log("toggle show atlas:",_$this.debug_view.getShowAtlas());
			if (_$this.debug_view.getShowAtlas()){
				AtlasTools.getInstance().start();
			}
			else {
				AtlasTools.getInstance().end();
			}
		});
		JSTools.showToBody(this.div,0,0);
		Laya.stage.on("resize",this,this.adptPos);
		this.adptPos();
	}

	__proto.onClickSelected=function(target){
		var dataO;
		if (!this._treeDataList)
			return;
		this.debug_view.tree.selectItem(IDTools.getObjID(target));
		this.debug_view.bounceUpInspectButton();
	}

	__proto.updateLoop=function(){
		if (this.tShowObj){
			this.showTargetInfo(this.tShowObj);
		}
	}

	__proto.onSelectItem=function(obj){
		var tTarget;
		tTarget=obj.target;
		this.showTargetInfo(tTarget);
	}

	__proto.onValueChange=function(obj,newValue){
		if (obj["type"]=="number"){
			newValue=DebugPanel.mParseFloat(newValue);
		}
		if (obj["type"]=="boolean"){
			newValue=newValue.toString()=="true";
		}
		if (this.tShowObj){
			var key;
			key=obj["key"];
			this.preValueO[key]=this.tShowObj[key]=newValue;
		}
	}

	__proto.showTargetInfo=function(tTarget){
		if (!tTarget)
			return;
		this.debug_view.setVisibility(tTarget.visible);
		this.debug_view.setShowDebugBorder(SpriteRenderHook.isDisplayShowBorder(tTarget));
		var i=0,len=0;
		len=DebugPanel.tObjKeys.length;
		var key;
		if (this.tShowObj==tTarget){
			for (i=0;i < len;i++){
				key=DebugPanel.tObjKeys[i];
				if (this.preValueO[key] !=tTarget[key]){
					this.debug_view.changeValueByLabel(key,tTarget[key]);
				}
			}
		}
		else {
			this.tShowObj=tTarget;
			this.updateShowKeys();
			var dataList;
			dataList=DebugPanel.getObjectData(tTarget);
			this.debug_view.setContents(dataList);
		}
		for (i=0;i < len;i++){
			key=DebugPanel.tObjKeys[i];
			this.preValueO[key]=tTarget[key];
		}
	}

	__proto.adptPos=function(){
		if (this.fromMe)return;
		this.fromMe=true;
		JSTools.setPos(this.div,0,Browser.clientHeight-this.height);
		this.debug_view.resize(Browser.clientWidth,this.height);
		if (!DebugPanel.overlay){
			Laya.stage.setScreenSize(Browser.clientWidth *Browser.pixelRatio,(Browser.clientHeight-this.height)*Browser.pixelRatio);
		}
		this.fromMe=false;
	}

	__proto.setRoot=function(sprite){
		var mtreeo;
		mtreeo=DebugPanel.getSpriteTreeArr(sprite);
		this._treeDataList=[mtreeo];
		var wraped;
		wraped={};
		wraped.id=0;
		wraped.item=[mtreeo];
		this.debug_view.setTree(wraped);
		Laya.timer.loop(500,this,this.updateLoop);
	}

	__proto.getDataByID=function(targetID,nodeO){
		if (!nodeO)
			return null;
		if (targetID==nodeO.id)
			return nodeO;
		var childs;
		childs=nodeO["item"];
		if (!childs)
			return null;
		var i=0,len=0;
		len=childs.length;
		var tRst;
		for (i=0;i < len;i++){
			tRst=this.getDataByID(targetID,childs[i]);
			if (tRst)
				return tRst;
		}
		return null;
	}

	__proto.getDataByTarget=function(target,nodeO){
		if (!nodeO)
			return null;
		if (target==nodeO.target)
			return nodeO;
		var childs;
		childs=nodeO["item"];
		if (!childs)
			return null;
		var i=0,len=0;
		len=childs.length;
		var tRst;
		for (i=0;i < len;i++){
			tRst=this.getDataByTarget(target,childs[i]);
			if (tRst)
				return tRst;
		}
		return null;
	}

	DebugPanel.init=function(underGame,bgColor){
		(underGame===void 0)&& (underGame=true);
		(bgColor===void 0)&& (bgColor="#ffffff");
		if (!DebugPanel.I){
			DebugPanel.overlay=!underGame;
			DivScripts.init();
			DebugTool.initBasicFunctions();
			RenderSpriteHook.init();
			SpriteRenderHook.init();
			DebugPanel.I=new DebugPanel();
			DebugPanel.I.setRoot(Laya.stage);
			CacheAnalyser.showRecacheSprite=false;
			if (bgColor){
				DebugPanel.I.div.style.background=bgColor;
			}
		}
	}

	DebugPanel.getSpriteTreeArr=function(sprite){
		var rst;
		rst={};
		rst["text"]=""+ClassTool.getNodeClassAndName(sprite);
		rst.target=sprite;
		IDTools.idObj(sprite);
		rst.id=IDTools.getObjID(sprite);
		var childs;
		childs=sprite._children;
		var i=0,len=0;
		len=childs.length;
		var tchild;
		var childsList;
		childsList=[];
		rst["item"]=childsList;
		for (i=0;i < len;i++){
			childsList.push(DebugPanel.getSpriteTreeArr(childs[i]));
		}
		return rst;
	}

	DebugPanel.getObjectData=function(data){
		var dataList;
		var tData;
		var key;
		var tValue;
		var tType;
		dataList=[];
		var keys;
		keys=DebugPanel.tObjKeys;
		var i=0,len=0;
		len=keys.length;
		for (i=0;i < len;i++){
			key=keys[i];
			tValue=data[key];
			tType=typeof(tValue);
			if (key.charAt(0)=="_")
				continue ;
			if (DebugPanel.displayTypes[tType]){
				tData={};
				tData["key"]=key;
				tData["value"]=tValue;
				tData["type"]=tType;
				dataList.push(tData);
			}
		}
		return dataList;
	}

	DebugPanel.mParseFloat=function(v){
		var rst=NaN;
		rst=parseFloat(v);
		if (isNaN(rst))
			return 0;
		return rst;
	}

	DebugPanel.I=null;
	DebugPanel.overlay=false;
	DebugPanel.ChildrenSign="item";
	DebugPanel.LabelSign="text";
	DebugPanel.tObjKeys=[];
	__static(DebugPanel,
	['displayTypes',function(){return this.displayTypes={"boolean":true,"number":true,"string":true};},'displayKeys',function(){return this.displayKeys=[["x","number"],["y","number"],["width","number"],["width","number"],["width","number"],["width","number"],["width","number"],["width","number"],["width","number"],["width","number"],["width","number"],];},'noDisplayKeys',function(){return this.noDisplayKeys={"desginWidth":true,"desginHeight":true };}
	]);
	return DebugPanel;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/DebugTool.as=======199.999418/199.999418
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-24 下午3:00:38
*/
//class laya.debug.DebugTool
var DebugTool=(function(){
	function DebugTool(){}
	__class(DebugTool,'laya.debug.DebugTool');
	__getset(1,DebugTool,'target',function(){
		return DebugTool._target;
		},function(v){
		DebugTool._target=v;
	});

	__getset(1,DebugTool,'isThisShow',function(){
		return false;
	});

	/**
	*设置是否显示帧率信息
	*@param value 是否显示true|false
	*/
	__getset(1,DebugTool,'showStatu',null,function(value){
		if (value){
			Stat.show();
		}
		else {
			Stat.hide();
			DebugTool.clearDebugLayer();
		}
	});

	/**
	*是否自动显示点击对象的边框
	*@param value
	*/
	__getset(1,DebugTool,'showBound',function(){
		return DebugTool._showBound;
		},function(value){
		DebugTool._showBound=value;
		if (!DebugTool._showBound){
			DebugTool.clearDebugLayer();
		}
	});

	DebugTool.getMenuShowEvent=function(){
		if (Browser.onMobile){
			return "doubleclick";
		}
		else {
			return "rightclick";
		}
	}

	DebugTool.initBasicFunctions=function(){
		DisplayHook.initMe();
		if (!DebugTool.debugLayer){
			DebugInfoLayer.init();
			DebugTool.debugLayer=DebugInfoLayer.I.graphicLayer;
			DebugTool.debugLayer.mouseEnabled=false;
			DebugTool.debugLayer.mouseThrough=true;
			DebugTool.showStatu=true;
			Laya.stage.on("keydown",null,DebugTool.keyHandler);
			DebugTool.cmdToTypeO[RenderSprite.IMAGE]="IMAGE";
			DebugTool.cmdToTypeO[RenderSprite.ALPHA]="ALPHA";
			DebugTool.cmdToTypeO[RenderSprite.TRANSFORM]="TRANSFORM";
			DebugTool.cmdToTypeO[RenderSprite.CANVAS]="CANVAS";
			DebugTool.cmdToTypeO[RenderSprite.GRAPHICS]="GRAPHICS";
			DebugTool.cmdToTypeO[RenderSprite.CUSTOM]="CUSTOM";
			DebugTool.cmdToTypeO[RenderSprite.CHILDS]="CHILDS";
			DebugExport.export();
		}
	}

	DebugTool.dTrace=function(str){
		if (DebugTool._traceFun !=null){
			DebugTool._traceFun(str);
		}
		console.log(str);
	}

	DebugTool.keyHandler=function(e){
		var key;
		key=String.fromCharCode(e.keyCode);
		if (!e.altKey)
			return;
		switch (e.keyCode){
			case 38:
				DebugTool.showParent();
				break ;
			case 40:
				DebugTool.showChild();
				break ;
			case 37:
				DebugTool.showBrother(DebugTool.target,1);
				break ;
			case 39:
				DebugTool.showBrother(DebugTool.target,-1);
				break ;
			}
		DebugTool.dealCMDKey(key);
	}

	DebugTool.dealCMDKey=function(key){
		switch (key){
			case "上":
				DebugTool.showParent();
				break ;
			case "下":
				DebugTool.showChild();
				break ;
			case "左":
				DebugTool.showBrother(DebugTool.target,1);
				break ;
			case "右":
				DebugTool.showBrother(DebugTool.target,-1);
				break ;
			case "B":
				DebugTool.showAllBrother();
				break ;
			case "C":
				DebugTool.showAllChild();
				break ;
			case "E":
				DebugTool.traceDisMouseEnable();
				break ;
			case "S":
				DebugTool.traceDisSizeChain();
				break ;
			case "D":
				DisControlTool.downDis(DebugTool.target);
				break ;
			case "U":
				DisControlTool.upDis(DebugTool.target);
				break ;
			case "N":
				DebugTool.getNodeInfo();
				break ;
			case "M":
				DebugTool.showAllUnderMosue();
				break ;
			case "I":
				break ;
			case "O":
				break ;
			case "L":
				DisController.I.switchType();
				break ;
			case "Q":
				DebugTool.showNodeInfo();
				break ;
			case "F":
				DebugTool.showToolPanel();
				break ;
			case "P":
				DebugTool.showToolFilter();
				break ;
			case "V":
				DebugTool.selectNodeUnderMouse();
				break ;
			case "A":
				break ;
			case "K":
				NodeUtils.traceStage();
				break ;
			case "T":
				DebugTool.switchNodeTree();
				break ;
			case "R":
				break ;
			case "X":
				break ;
			case "mCMD":
				DebugTool.traceCMD();
				break ;
			case "allCMD":
				DebugTool.traceCMDR();
				break ;
			}
	}

	DebugTool.switchNodeTree=function(){}
	DebugTool.analyseMouseHit=function(){
		if (DebugTool.target)
			MouseEventAnalyser.analyseNode(DebugTool.target);
	}

	DebugTool.selectNodeUnderMouse=function(){
		DisplayHook.instance.selectDisUnderMouse();
		DebugTool.showDisBound();
		return;
	}

	DebugTool.showToolPanel=function(){}
	DebugTool.showToolFilter=function(){}
	DebugTool.showNodeInfo=function(){
		if (NodeInfoPanel.I.isWorkState){
			NodeInfoPanel.I.recoverNodes();
		}
		else {
			NodeInfoPanel.I.showDisInfo(DebugTool.target);
		}
	}

	DebugTool.switchDisController=function(){
		if (DisController.I.target){
			DisController.I.target=null;
		}
		else {
			if (DebugTool.target){
				DisController.I.target=DebugTool.target;
			}
		}
	}

	DebugTool.showParent=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		DebugTool.target=sprite.parent;
		DebugTool.autoWork();
	}

	DebugTool.showChild=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		if (sprite.numChildren > 0){
			DebugTool.target=sprite.getChildAt(0);
			DebugTool.autoWork();
		}
	}

	DebugTool.showAllChild=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		DebugTool.selectedNodes=DisControlTool.getAllChild(sprite);
		DebugTool.showSelected();
	}

	DebugTool.showAllUnderMosue=function(){
		DebugTool.selectedNodes=DisControlTool.getObjectsUnderGlobalPoint(Laya.stage);
		DebugTool.showSelected();
	}

	DebugTool.showParentChain=function(sprite){
		if (!sprite)
			return;
		DebugTool.selectedNodes=[];
		var tar;
		tar=sprite.parent;
		while (tar){
			DebugTool.selectedNodes.push(tar);
			tar=tar.parent;
		}
		DebugTool.showSelected();
	}

	DebugTool.showAllBrother=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		if (!sprite.parent)
			return;
		DebugTool.selectedNodes=DisControlTool.getAllChild(sprite.parent);
		DebugTool.showSelected();
	}

	DebugTool.showBrother=function(sprite,dID){
		(dID===void 0)&& (dID=1);
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		};
		var p;
		p=sprite.parent;
		if (!p)
			return;
		var n=0;
		n=p.getChildIndex(sprite);
		n+=dID;
		if (n < 0)
			n+=p.numChildren;
		if (n >=p.numChildren)
			n-=p.numChildren;
		DebugTool.target=p.getChildAt(n);
		DebugTool.autoWork();
	}

	DebugTool.clearDebugLayer=function(){
		if (DebugTool.debugLayer.graphics)
			DebugTool.debugLayer.graphics.clear();
	}

	DebugTool.showSelected=function(){
		if (!DebugTool.autoShowSelected)
			return;
		if (!DebugTool.selectedNodes || DebugTool.selectedNodes.length < 1)
			return;
		console.log("selected:",DebugTool.selectedNodes);
		var i=0;
		var len=0;
		len=DebugTool.selectedNodes.length;
		DebugTool.clearDebugLayer();
		for (i=0;i < len;i++){
			DebugTool.showDisBound(DebugTool.selectedNodes[i],false);
		}
	}

	DebugTool.getClassCreateInfo=function(className){
		return RunProfile.getRunInfo(className);
	}

	DebugTool.autoWork=function(){
		if (!DebugTool.isThisShow)
			return;
		if (DebugTool.showBound)
			DebugTool.showDisBound();
		if (DebugTool.autoTraceSpriteInfo && DebugTool.target){
			TraceTool.traceSpriteInfo(DebugTool.target,DebugTool.autoTraceBounds,DebugTool.autoTraceSize,DebugTool.autoTraceTree);
		}
		if (!DebugTool.target)
			return;
		if (DebugTool.autoTraceCMD){
			DebugTool.traceCMD();
		}
		if (DebugTool.autoTraceCMDR){
			DebugTool.traceCMDR();
		}
		if (DebugTool.autoTraceEnable){
			DebugTool.traceDisMouseEnable(DebugTool.target);
		}
	}

	DebugTool.traceDisMouseEnable=function(tar){
		console.log("----------------traceDisMouseEnable--------------------");
		if (!tar)
			tar=DebugTool.target;
		if (!tar){
			console.log("no targetAvalible");
			return null;
		};
		var strArr;
		strArr=[];
		DebugTool.selectedNodes=[];
		while (tar){
			strArr.push(ClassTool.getNodeClassAndName(tar)+": mouseEnabled:"+tar.mouseEnabled+" hitFirst:"+tar.hitTestPrior);
			DebugTool.selectedNodes.push(tar);
			tar=tar.parent;
		}
		console.log(strArr.join("\n"));
		DebugTool.showSelected();
		return strArr.join("\n");
	}

	DebugTool.traceDisSizeChain=function(tar){
		console.log("---------------------traceDisSizeChain-------------------");
		if (!tar)
			tar=DebugTool.target;
		if (!tar){
			console.log("no targetAvalible");
			return null;
		}
		DebugTool.selectedNodes=[];
		var strArr;
		strArr=[];
		while (tar){
			strArr.push(ClassTool.getNodeClassAndName(tar)+": x:"+tar.x+" y:"+tar.y+" w:"+tar.width+" h:"+tar.height+" scaleX:"+tar.scaleX+" scaleY:"+tar.scaleY);
			DebugTool.selectedNodes.push(tar);
			tar=tar.parent;
		}
		console.log(strArr.join("\n"));
		DebugTool.showSelected();
		return strArr.join("\n");
	}

	DebugTool.showDisBound=function(sprite,clearPre,color){
		(clearPre===void 0)&& (clearPre=true);
		(color===void 0)&& (color="#ff0000");
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		if (clearPre)
			DebugTool.clearDebugLayer();
		var pointList;
		pointList=sprite._getBoundPointsM(true);
		if (!pointList || pointList.length < 1)
			return;
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,sprite.localToGlobal,sprite);
		pointList=GrahamScan.pointListToPlist(pointList);
		DebugTool._disBoundRec=Rectangle._getWrapRec(pointList,DebugTool._disBoundRec);
		DebugTool.debugLayer.graphics.drawRect(DebugTool._disBoundRec.x,DebugTool._disBoundRec.y,DebugTool._disBoundRec.width,DebugTool._disBoundRec.height,null,color);
		DebugInfoLayer.I.setTop();
	}

	DebugTool.showDisBoundToSprite=function(sprite,graphicSprite,color,lineWidth){
		(color===void 0)&& (color="#ff0000");
		(lineWidth===void 0)&& (lineWidth=1);
		var pointList;
		pointList=sprite._getBoundPointsM(true);
		if (!pointList || pointList.length < 1)
			return;
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,sprite.localToGlobal,sprite);
		pointList=GrahamScan.pointListToPlist(pointList);
		DebugTool._disBoundRec=Rectangle._getWrapRec(pointList,DebugTool._disBoundRec);
		graphicSprite.graphics.drawRect(DebugTool._disBoundRec.x,DebugTool._disBoundRec.y,DebugTool._disBoundRec.width,DebugTool._disBoundRec.height,null,color,lineWidth);
	}

	DebugTool.getNodeInfo=function(){
		DebugTool.counter.reset();
		WalkTools.walkTarget(Laya.stage,DebugTool.addNodeInfo);
		console.log("node info:");
		DebugTool.counter.traceSelf();
		return DebugTool.counter.data;
	}

	DebugTool.findByClass=function(className){
		DebugTool._classList=[];
		DebugTool._tFindClass=className;
		WalkTools.walkTarget(Laya.stage,DebugTool.addClassNode);
		DebugTool.selectedNodes=DebugTool._classList;
		DebugTool.showSelected();
		return DebugTool._classList;
	}

	DebugTool.addClassNode=function(node){
		var type;
		type=node["constructor"].name;
		if (type==DebugTool._tFindClass){
			DebugTool._classList.push(node);
		}
	}

	DebugTool.traceCMD=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return null;
		}
		console.log("self CMDs:");
		console.log(sprite.graphics.cmds);
		var renderSprite;
		renderSprite=RenderSprite.renders[sprite._renderType];
		console.log("renderSprite:",renderSprite);
		DebugTool._rSpList.length=0;
		while (renderSprite && renderSprite["_sign"] > 0){
			DebugTool._rSpList.push(DebugTool.cmdToTypeO[renderSprite["_sign"]]);
			renderSprite=renderSprite._next;
		}
		console.log("fun:",DebugTool._rSpList.join(","));
		DebugTool.counter.reset();
		DebugTool.addCMDs(sprite.graphics.cmds);
		DebugTool.counter.traceSelf();
		return DebugTool.counter.data;
	}

	DebugTool.addCMDs=function(cmds){
		WalkTools.walkArr(cmds,DebugTool.addCMD);
	}

	DebugTool.addCMD=function(cmd){
		DebugTool.counter.add(cmd.callee);
	}

	DebugTool.traceCMDR=function(sprite){
		if (!sprite)
			sprite=DebugTool.target;
		if (!sprite){
			console.log("no targetAvalible");
			return 0;
		}
		DebugTool.counter.reset();
		WalkTools.walkTarget(sprite,DebugTool.getCMdCount);
		console.log("cmds include children");
		DebugTool.counter.traceSelf();
		return DebugTool.counter.data;
	}

	DebugTool.getCMdCount=function(target){
		if (!target)
			return 0;
		if (! (target instanceof laya.display.Sprite ))
			return 0;
		if (!target.graphics.cmds)
			return 0;
		DebugTool.addCMDs(target.graphics.cmds);
		var rst=target.graphics.cmds.length;
		return rst;
	}

	DebugTool.addNodeInfo=function(node){
		var type;
		type=node["constructor"].name;
		DebugTool.counter.add(type);
	}

	DebugTool.find=function(filter,ifShowSelected){
		(ifShowSelected===void 0)&& (ifShowSelected=true);
		var rst;
		rst=DebugTool.findTarget(Laya.stage,filter);
		DebugTool.selectedNodes=rst;
		if (DebugTool.selectedNodes){
			DebugTool.target=DebugTool.selectedNodes[0];
		}
		if (ifShowSelected)
			DebugTool.showSelected();
		return rst;
	}

	DebugTool.findByName=function(name){
		DebugTool.nameFilter.name=name;
		return DebugTool.find(DebugTool.nameFilter);
	}

	DebugTool.findNameStartWith=function(startStr){
		DebugTool.nameFilter.name=DebugTool.getStartWithFun(startStr);
		return DebugTool.find(DebugTool.nameFilter);
	}

	DebugTool.findNameHas=function(hasStr,showSelected){
		(showSelected===void 0)&& (showSelected=true);
		DebugTool.nameFilter.name=DebugTool.getHasFun(hasStr);
		return DebugTool.find(DebugTool.nameFilter,showSelected);
	}

	DebugTool.getStartWithFun=function(startStr){
		var rst=function (str){
			if (!str)
				return false;
			if (str.indexOf(startStr)==0)
				return true;
			return false;
		};
		return rst;
	}

	DebugTool.getHasFun=function(hasStr){
		var rst=function (str){
			if (!str)
				return false;
			if (str.indexOf(hasStr)>=0)
				return true;
			return false;
		};
		return rst;
	}

	DebugTool.findTarget=function(target,filter){
		var rst=[];
		if (DebugTool.isFit(target,filter))
			rst.push(target);
		var i=0;
		var len=0;
		var tChild;
		len=target.numChildren;
		for (i=0;i < len;i++){
			tChild=target.getChildAt(i);
			if ((tChild instanceof laya.display.Sprite )){
				rst=rst.concat(DebugTool.findTarget(tChild,filter));
			}
		}
		return rst;
	}

	DebugTool.findClassHas=function(target,str){
		var rst=[];
		if (ClassTool.getClassName(target).indexOf(str)>=0)
			rst.push(target);
		var i=0;
		var len=0;
		var tChild;
		len=target.numChildren;
		for (i=0;i < len;i++){
			tChild=target.getChildAt(i);
			if ((tChild instanceof laya.display.Sprite )){
				rst=rst.concat(DebugTool.findClassHas(tChild,str));
			}
		}
		return rst;
	}

	DebugTool.isFit=function(tar,filter){
		if (!tar)
			return false;
		if (!filter)
			return true;
		if ((typeof filter=='function')){
			return (filter)(tar);
		};
		var key;
		for (key in filter){
			if ((typeof (filter[key])=='function')){
				if (!filter[key](tar[key]))
					return false;
			}
			else {
				if (tar[key] !=filter[key])
					return false;
			}
		}
		return true;
	}

	DebugTool.log=function(__args){
		var args=arguments;
		var arr;
		arr=DTrace.getArgArr(args);
		if (DebugTool._logFun !=null){
			DebugTool._logFun(arr.join(" "));
		}
	}

	DebugTool.enableCacheAnalyse=false;
	DebugTool.enableNodeCreateAnalyse=true;
	DebugTool._traceFun=null;
	DebugTool.debugLayer=null;
	DebugTool._target=null;
	DebugTool.selectedNodes=[];
	DebugTool.autoShowSelected=true;
	DebugTool._showBound=true;
	DebugTool._disBoundRec=null;
	DebugTool.autoTraceEnable=false;
	DebugTool.autoTraceBounds=false;
	DebugTool.autoTraceSize=false;
	DebugTool.autoTraceTree=true;
	DebugTool.autoTraceCMD=true;
	DebugTool.autoTraceCMDR=false;
	DebugTool.autoTraceSpriteInfo=true;
	DebugTool._classList=null;
	DebugTool._tFindClass=null;
	DebugTool._rSpList=[];
	DebugTool._logFun=null;
	__static(DebugTool,
	['text',function(){return this.text=new Stat();},'cmdToTypeO',function(){return this.cmdToTypeO={
	};},'counter',function(){return this.counter=new CountTool();},'nameFilter',function(){return this.nameFilter={"name":"name"};}

	]);
	return DebugTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/divui/DivScripts.as=======199.999417/199.999417
/**
*...
*@author ww
*/
//class laya.debug.divui.DivScripts
var DivScripts=(function(){
	function DivScripts(){}
	__class(DivScripts,'laya.debug.divui.DivScripts');
	DivScripts.init=function(){
		var script;
		script=Base64Tool.decodeToByte(DivScripts.data).readUTFBytes();
		Laya._runScript(script);
	}

	DivScripts.data="ZnVuY3Rpb24gZGh0bWx4RXZlbnQoZSx0LGkpe2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxpLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrdCxpKX1mdW5jdGlvbiBkaHRtbFhUcmVlT2JqZWN0KGUsdCxpLG4pe2lmKGRodG1seEV2ZW50LmluaXRUb3VjaCYmZGh0bWx4RXZlbnQuaW5pdFRvdWNoKCksX2lzSUUpdHJ5e2RvY3VtZW50LmV4ZWNDb21tYW5kKCJCYWNrZ3JvdW5kSW1hZ2VDYWNoZSIsITEsITApfWNhdGNoKG8pe30ib2JqZWN0IiE9dHlwZW9mIGU/dGhpcy5wYXJlbnRPYmplY3Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk6dGhpcy5wYXJlbnRPYmplY3Q9ZSx0aGlzLnBhcmVudE9iamVjdC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIix0aGlzLl9pdGltX2RnPSEwLHRoaXMuZGxtdHI9IiwiLHRoaXMuZHJvcExvd2VyPSExLHRoaXMuZW5hYmxlSUVJbWFnZUZpeCghMCksdGhpcy54bWxzdGF0ZT0wLHRoaXMubXl0eXBlPSJ0cmVlIix0aGlzLnNtY2hlY2s9ITAsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWksdGhpcy5yb290SWQ9bix0aGlzLmNoaWxkQ2FsYz1udWxsLHRoaXMuZGVmX2ltZ194PSIxOHB4Iix0aGlzLmRlZl9pbWdfeT0iMThweCIsdGhpcy5kZWZfbGluZV9pbWdfeD0iMThweCIsdGhpcy5kZWZfbGluZV9pbWdfeT0iMjRweCIsdGhpcy5fZHJhZ2dlZD1uZXcgQXJyYXksdGhpcy5fc2VsZWN0ZWQ9bmV3IEFycmF5LHRoaXMuc3R5bGVfcG9pbnRlcj0icG9pbnRlciIsdGhpcy5fYWltZ3M9ITAsdGhpcy5odG1sY0E9IiBbIix0aGlzLmh0bWxjQj0iXSIsdGhpcy5sV2luPXdpbmRvdyx0aGlzLmNNZW51PTAsdGhpcy5tbGl0ZW1zPTAsdGhpcy5pY29uVVJMPSIiLHRoaXMuZGFkbW9kZT0wLHRoaXMuc2xvd1BhcnNlPSExLHRoaXMuYXV0b1Njcm9sbD0hMCx0aGlzLmhmTW9kZT0wLHRoaXMubm9kZUN1dD1uZXcgQXJyYXksdGhpcy5YTUxzb3VyY2U9MCx0aGlzLlhNTGxvYWRpbmdXYXJuaW5nPTAsdGhpcy5faWRwdWxsPXt9LHRoaXMuX3B1bGxTaXplPTAsdGhpcy50cmVlTGluZXNPbj0hMCx0aGlzLnRzY2hlY2s9ITEsdGhpcy50aW1nZW49ITAsdGhpcy5kcGNweT0hMSx0aGlzLl9sZF9pZD1udWxsLHRoaXMuX2R5bkRlbGV0ZUJyYW5jaGVzPXt9LHRoaXMuX29pZV9vblhMRT1bXSx0aGlzLmltUGF0aD13aW5kb3cuZGh4X2dsb2JhbEltZ1BhdGh8fCIiLHRoaXMuY2hlY2tBcnJheT1uZXcgQXJyYXkoImljb25VbmNoZWNrQWxsLmdpZiIsImljb25DaGVja0FsbC5naWYiLCJpY29uQ2hlY2tHcmF5LmdpZiIsImljb25VbmNoZWNrRGlzLmdpZiIsImljb25DaGVja0Rpcy5naWYiLCJpY29uQ2hlY2tEaXMuZ2lmIiksdGhpcy5yYWRpb0FycmF5PW5ldyBBcnJheSgicmFkaW9fb2ZmLmdpZiIsInJhZGlvX29uLmdpZiIsInJhZGlvX29uLmdpZiIsInJhZGlvX29mZi5naWYiLCJyYWRpb19vbi5naWYiLCJyYWRpb19vbi5naWYiKSx0aGlzLmxpbmVBcnJheT1uZXcgQXJyYXkoImxpbmUyLmdpZiIsImxpbmUzLmdpZiIsImxpbmU0LmdpZiIsYmxhbmtfYmFzZTY0LGJsYW5rX2Jhc2U2NCwibGluZTEuZ2lmIiksdGhpcy5taW51c0FycmF5PW5ldyBBcnJheSgibWludXMyLmdpZiIsIm1pbnVzMy5naWYiLCJtaW51czQuZ2lmIiwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRWdBWUFKRUNBTEd2clo2ZG5mVDA5QUFBQUNINUJBRUFBQUlBTEFBQUFBQVNBQmdBQUFJY2xJK3B5KzBQbzV5MFdoc0NEV0IzbUdYZnd3SG1oYWJxeXJaVEFRQTciLCJtaW51czUuZ2lmIiksdGhpcy5wbHVzQXJyYXk9bmV3IEFycmF5KCJwbHVzMi5naWYiLCJwbHVzMy5naWYiLCJwbHVzNC5naWYiLCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFZ0FZQUpFQ0FLR2duN0d2cmZUMDlBQUFBQ0g1QkFFQUFBSUFMQUFBQUFBU0FCZ0FBQUljbEkrcHkrMFBvNXkwVW5CRHlIc0NMUUZmT0U2ZGhhYnF5clpKQVFBNyIsInBsdXM1LmdpZiIpLHRoaXMuaW1hZ2VBcnJheT1uZXcgQXJyYXkoImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVnQVNBS0VDQUplWGw3R3ZyZi8vLy8vLy95SDVCQUVLQUFJQUxBQUFBQUFTQUJJQUFBSXpsSStwQXUyOURBaTAxamlUWFJuTm0zVEhCNDVCYUoyZXVsQm94TENTL0s2d09OODBYcHQ2citCOUhrU2FJSVdFS1EwRkFEcz0iLCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFZ0FTQUtFQ0FKZVhsN0d2cmYvLy8vLy8veUg1QkFFS0FBSUFMQUFBQUFBU0FCSUFBQUl6bEkrcHl3Y1BtM21oV2drQ3NqQk92VmtpbUVsRzlabENCbFhkKzJYampMS2c1R3FvZVpYcXZzT1FYSy9palVaVEtWVUZBRHM9IiwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRWdBU0FLRUNBSmVYbDdHdnJmLy8vLy8vL3lINUJBRUtBQUlBTEFBQUFBQVNBQklBQUFJd2xJK3B5d2NQbTNtaFdna0NzakJPdlZraW1FbEc5WmxDdVlJWTZUWXMrNmJtSERPNGlnZmREM0dOaGhlVjBWUUFBRHM9IiksdGhpcy5jdXRJbWc9bmV3IEFycmF5KDAsMCwwKSx0aGlzLmN1dEltYWdlPSJidXRfY3V0LmdpZiIsZGh4NC5fZXZlbnRhYmxlKHRoaXMpLHRoaXMuaHRtbE5vZGU9bmV3IGRodG1sWFRyZWVJdGVtT2JqZWN0KHRoaXMucm9vdElkLCIiLDAsdGhpcyksdGhpcy5odG1sTm9kZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5odG1sTm9kZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWU9ImhpZGRlblJvdyIsdGhpcy5hbGxUcmVlPXRoaXMuX2NyZWF0ZVNlbGYoKSx0aGlzLmFsbFRyZWUuYXBwZW5kQ2hpbGQodGhpcy5odG1sTm9kZS5odG1sTm9kZSksZGh0bWx4LiRjdXN0b21TY3JvbGwmJmRodG1seC5DdXN0b21TY3JvbGwuZW5hYmxlKHRoaXMpLF9pc0ZGJiYodGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0ud2lkdGg9IjEwMCUiLHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTt2YXIgcj10aGlzO2lmKHRoaXMuYWxsVHJlZS5vbnNlbGVjdHN0YXJ0PW5ldyBGdW5jdGlvbigicmV0dXJuIGZhbHNlOyIpLF9pc01hY09TJiYodGhpcy5hbGxUcmVlLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2RvQ29udENsaWNrKGV8fHdpbmRvdy5ldmVudCwhMCl9KSx0aGlzLmFsbFRyZWUub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2RvQ29udENsaWNrKGV8fHdpbmRvdy5ldmVudCl9LHRoaXMuWE1MTG9hZGVyPXRoaXMuX3BhcnNlWE1MVHJlZSxfaXNJRSYmdGhpcy5wcmV2ZW50SUVDYXNoaW5nKCEwKSx0aGlzLnNlbGVjdGlvbkJhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLnNlbGVjdGlvbkJhci5jbGFzc05hbWU9InNlbGVjdGlvbkJhciIsdGhpcy5zZWxlY3Rpb25CYXIuaW5uZXJIVE1MPSImbmJzcDsiLHRoaXMuc2VsZWN0aW9uQmFyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuYWxsVHJlZS5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkJhciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7dHJ5e3IuZGVzdHJ1Y3RvcigpfWNhdGNoKGUpe319LCExKSx3aW5kb3cuYXR0YWNoRXZlbnQmJndpbmRvdy5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7dHJ5e3IuZGVzdHJ1Y3RvcigpfWNhdGNoKGUpe319KSx0aGlzLnNldEltYWdlc1BhdGg9dGhpcy5zZXRJbWFnZVBhdGgsdGhpcy5zZXRJY29uc1BhdGg9dGhpcy5zZXRJY29uUGF0aCx0aGlzLnNldFNraW4oIm1hdGVyaWFsIiksZGh0bWx4LmltYWdlX3BhdGgpe3ZhciBsPWRodG1seC5pbWFnZV9wYXRoLHM9dGhpcy5wYXJlbnRPYmplY3QuY2xhc3NOYW1lLm1hdGNoKC9kaHh0cmVlX2RoeF8oW2Etel9dKikvaSk7bnVsbCE9cyYmbnVsbCE9c1sxXSYmKGwrPSJkaHh0cmVlXyIrc1sxXSsiLyIpLHRoaXMuc2V0SW1hZ2VQYXRoKGwpfXJldHVybiB0aGlzfWZ1bmN0aW9uIGNPYmplY3QoKXtyZXR1cm4gdGhpc31mdW5jdGlvbiBkaHRtbFhUcmVlSXRlbU9iamVjdChlLHQsaSxuLG8scil7cmV0dXJuIHRoaXMuaHRtbE5vZGU9IiIsdGhpcy5hY29sb3I9IiIsdGhpcy5zY29sb3I9IiIsdGhpcy50cj0wLHRoaXMuY2hpbGRzQ291bnQ9MCx0aGlzLnRlbXBET01NPTAsdGhpcy50ZW1wRE9NVT0wLHRoaXMuZHJhZ1NwYW49MCx0aGlzLmRyYWdNb3ZlPTAsdGhpcy5zcGFuPTAsdGhpcy5jbG9zZWJsZT0xLHRoaXMuY2hpbGROb2Rlcz1uZXcgQXJyYXksdGhpcy51c2VyRGF0YT1uZXcgY09iamVjdCx0aGlzLmNoZWNrc3RhdGU9MCx0aGlzLnRyZWVOb2Q9bix0aGlzLmxhYmVsPXQsdGhpcy5wYXJlbnRPYmplY3Q9aSx0aGlzLmFjdGlvbkhhbmRsZXI9byx0aGlzLmltYWdlcz1uZXcgQXJyYXkobi5pbWFnZUFycmF5WzBdLG4uaW1hZ2VBcnJheVsxXSxuLmltYWdlQXJyYXlbMl0pLHRoaXMuaWQ9bi5fZ2xvYmFsSWRTdG9yYWdlQWRkKGUsdGhpcyksdGhpcy50cmVlTm9kLmNoZWNrQm94T2ZmP3RoaXMuaHRtbE5vZGU9dGhpcy50cmVlTm9kLl9jcmVhdGVJdGVtKDEsdGhpcyxyKTp0aGlzLmh0bWxOb2RlPXRoaXMudHJlZU5vZC5fY3JlYXRlSXRlbSgwLHRoaXMsciksdGhpcy5odG1sTm9kZS5vYmpCZWxvbmc9dGhpcyx0aGlzfWZ1bmN0aW9uIGpzb25Qb2ludGVyKGUsdCl7dGhpcy5kPWUsdGhpcy5kcD10fWZ1bmN0aW9uIGRoeF9pbml0X3RyZWVzKCl7Zm9yKHZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSx0PTA7dDxlLmxlbmd0aDt0KyspImRodG1seFRyZWUiPT1lW3RdLmNsYXNzTmFtZSYmZGh0bWxYVHJlZUZyb21IVE1MKGVbdF0pfXZhciBibGFua19iYXNlNjQ9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVnQVNBSUFBQVAvLy8vLy8veUg1QkFVVUFBRUFMQUFBQUFBU0FCSUFBQUlQakkrcHkrMFBvNXkwMm91ejNwd1hBRHM9IjsidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5kaHgmJih3aW5kb3cuZGh4PXdpbmRvdy5kaHg0PXt2ZXJzaW9uOiI1LjAiLHNraW46bnVsbCxsYXN0SWQ6MSxuZXdJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RJZCsrfSx6aW06e2RhdGE6e30sc3RlcDo1LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIDEwMH0sbGFzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZmlyc3QoKTtmb3IodmFyIHQgaW4gdGhpcy5kYXRhKWU9TWF0aC5tYXgoZSx0aGlzLmRhdGFbdF0pO3JldHVybiBlfSxyZXNlcnZlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGFbZV09dGhpcy5sYXN0KCkrdGhpcy5zdGVwLHRoaXMuZGF0YVtlXX0sY2xlYXI6ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy5kYXRhW2VdJiYodGhpcy5kYXRhW2VdPW51bGwsZGVsZXRlIHRoaXMuZGF0YVtlXSl9fSxzMmI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLDE9PWV8fDE9PWV8fCJ0cnVlIj09ZXx8IjEiPT1lfHwieWVzIj09ZXx8InkiPT1lfHwib24iPT1lfSxzMmo6ZnVuY3Rpb24ocyl7dmFyIG9iaj1udWxsO2RoeDQudGVtcD1udWxsO3RyeXtldmFsKCJkaHg0LnRlbXA9IitzKX1jYXRjaChlKXtkaHg0LnRlbXA9bnVsbH1yZXR1cm4gb2JqPWRoeDQudGVtcCxkaHg0LnRlbXA9bnVsbCxvYmp9LGFic0xlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSksdGhpcy5nZXRPZmZzZXQoZSkubGVmdH0sYWJzVG9wOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkpLHRoaXMuZ2V0T2Zmc2V0KGUpLnRvcH0sX2FPZnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsaT0wO2U7KXQrPXBhcnNlSW50KGUub2Zmc2V0VG9wKSxpKz1wYXJzZUludChlLm9mZnNldExlZnQpLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue3RvcDp0LGxlZnQ6aX19LF9hT2ZzUmVjdDpmdW5jdGlvbihlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9ZG9jdW1lbnQuYm9keSxuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxvPXdpbmRvdy5wYWdlWU9mZnNldHx8bi5zY3JvbGxUb3B8fGkuc2Nyb2xsVG9wLHI9d2luZG93LnBhZ2VYT2Zmc2V0fHxuLnNjcm9sbExlZnR8fGkuc2Nyb2xsTGVmdCxsPW4uY2xpZW50VG9wfHxpLmNsaWVudFRvcHx8MCxzPW4uY2xpZW50TGVmdHx8aS5jbGllbnRMZWZ0fHwwLGE9dC50b3Arby1sLGQ9dC5sZWZ0K3ItcztyZXR1cm57dG9wOk1hdGgucm91bmQoYSksbGVmdDpNYXRoLnJvdW5kKGQpfX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdD90aGlzLl9hT2ZzUmVjdChlKTp0aGlzLl9hT2ZzKGUpfSxfaXNPYmo6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJiJvYmplY3QiPT10eXBlb2YgZSYmInVuZGVmaW5lZCI9PXR5cGVvZiBlLmxlbmd0aH0sX2NvcHlPYmo6ZnVuY3Rpb24oZSl7aWYodGhpcy5faXNPYmooZSkpe3ZhciB0PXt9O2Zvcih2YXIgaSBpbiBlKSJvYmplY3QiPT10eXBlb2YgZVtpXSYmbnVsbCE9ZVtpXT90W2ldPXRoaXMuX2NvcHlPYmooZVtpXSk6dFtpXT1lW2ldfWVsc2UgZm9yKHZhciB0PVtdLGk9MDtpPGUubGVuZ3RoO2krKykib2JqZWN0Ij09dHlwZW9mIGVbaV0mJm51bGwhPWVbaV0/dFtpXT10aGlzLl9jb3B5T2JqKGVbaV0pOnRbaV09ZVtpXTtyZXR1cm4gdH19LHdpbmRvdy5kaHg0LmlzSUU9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIik+PTB8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpPj0wLHdpbmRvdy5kaHg0LmlzSUU2PW51bGw9PXdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIik+PTAsd2luZG93LmRoeDQuaXNJRTc9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDcuMCIpPj0wJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKTwwLHdpbmRvdy5kaHg0LmlzSUU4PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA4LjAiKT49MCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50Iik+PTAsd2luZG93LmRoeDQuaXNJRTk9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkuMCIpPj0wJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKT49MCx3aW5kb3cuZGh4NC5pc0lFMTA9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDEwLjAiKT49MCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50Iik+PTAmJjEhPXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQsd2luZG93LmRoeDQuaXNJRTExPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVHJpZGVudCIpPj0wJiYxPT13aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkLHdpbmRvdy5kaHg0LmlzRWRnZT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkVkZ2UiKT49MCx3aW5kb3cuZGh4NC5pc09wZXJhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiT3BlcmEiKT49MCx3aW5kb3cuZGh4NC5pc0Nocm9tZT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNocm9tZSIpPj0wJiYhd2luZG93LmRoeDQuaXNFZGdlLHdpbmRvdy5kaHg0LmlzS0hUTUw9KG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+PTB8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiS29ucXVlcm9yIik+PTApJiYhd2luZG93LmRoeDQuaXNFZGdlLHdpbmRvdy5kaHg0LmlzRkY9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAsd2luZG93LmRoeDQuaXNJUGFkPW5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9pUGFkL2dpKT49MCx3aW5kb3cuZGh4NC5kbmQ9e2V2czp7fSxwX2VuOih3aW5kb3cuZGh4NC5pc0lFfHx3aW5kb3cuZGh4NC5pc0VkZ2UpJiYod2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZHx8d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSxfbVRvdWNoOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuZGh4NC5pc0lFMTAmJmUucG9pbnRlclR5cGU9PWUuTVNQT0lOVEVSX1RZUEVfTU9VU0V8fHdpbmRvdy5kaHg0LmlzSUUxMSYmIm1vdXNlIj09ZS5wb2ludGVyVHlwZXx8d2luZG93LmRoeDQuaXNFZGdlJiYibW91c2UiPT1lLnBvaW50ZXJUeXBlfSxfdG91Y2hPbjpmdW5jdGlvbihlKXtudWxsPT1lJiYoZT1kb2N1bWVudC5ib2R5KSxlLnN0eWxlLnRvdWNoQWN0aW9uPWUuc3R5bGUubXNUb3VjaEFjdGlvbj0iIixlPW51bGx9LF90b3VjaE9mZjpmdW5jdGlvbihlKXtudWxsPT1lJiYoZT1kb2N1bWVudC5ib2R5KSxlLnN0eWxlLnRvdWNoQWN0aW9uPWUuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSIsZT1udWxsfX0sMT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZD93aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoicG9pbnRlcmRvd24iLG1vdmU6InBvaW50ZXJtb3ZlIixlbmQ6InBvaW50ZXJ1cCJ9OjE9PXdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD93aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoiTVNQb2ludGVyRG93biIsbW92ZToiTVNQb2ludGVyTW92ZSIsZW5kOiJNU1BvaW50ZXJVcCJ9OiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJih3aW5kb3cuZGh4NC5kbmQuZXZzPXtzdGFydDoidG91Y2hzdGFydCIsbW92ZToidG91Y2htb3ZlIixlbmQ6InRvdWNoZW5kIn0pKSwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdy5kaHg0Ll9ldmVudGFibGUmJih3aW5kb3cuZGh4NC5fZXZlbnRhYmxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuImNsZWFyIj09dD8oZS5kZXRhY2hBbGxFdmVudHMoKSxlLmRoeGV2cz1udWxsLGUuYXR0YWNoRXZlbnQ9bnVsbCxlLmRldGFjaEV2ZW50PW51bGwsZS5jaGVja0V2ZW50PW51bGwsZS5jYWxsRXZlbnQ9bnVsbCxlLmRldGFjaEFsbEV2ZW50cz1udWxsLHZvaWQoZT1udWxsKSk6KGUuZGh4ZXZzPXtkYXRhOnt9fSxlLmF0dGFjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7ZT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKSx0aGlzLmRoeGV2cy5kYXRhW2VdfHwodGhpcy5kaHhldnMuZGF0YVtlXT17fSk7dmFyIGk9d2luZG93LmRoeDQubmV3SWQoKTtyZXR1cm4gdGhpcy5kaHhldnMuZGF0YVtlXVtpXT10LGl9LGUuZGV0YWNoRXZlbnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuZGh4ZXZzLmRhdGEpe3ZhciBpPTA7Zm9yKHZhciBuIGluIHRoaXMuZGh4ZXZzLmRhdGFbdF0pbj09ZT8odGhpcy5kaHhldnMuZGF0YVt0XVtuXT1udWxsLGRlbGV0ZSB0aGlzLmRoeGV2cy5kYXRhW3RdW25dKTppKys7MD09aSYmKHRoaXMuZGh4ZXZzLmRhdGFbdF09bnVsbCxkZWxldGUgdGhpcy5kaHhldnMuZGF0YVt0XSl9fSxlLmNoZWNrRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCksbnVsbCE9dGhpcy5kaHhldnMuZGF0YVtlXX0sZS5jYWxsRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZihlPVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpLG51bGw9PXRoaXMuZGh4ZXZzLmRhdGFbZV0pcmV0dXJuITA7dmFyIGk9ITA7Zm9yKHZhciBuIGluIHRoaXMuZGh4ZXZzLmRhdGFbZV0paT10aGlzLmRoeGV2cy5kYXRhW2VdW25dLmFwcGx5KHRoaXMsdCkmJmk7cmV0dXJuIGl9LGUuZGV0YWNoQWxsRXZlbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuZGh4ZXZzLmRhdGEpe2Zvcih2YXIgdCBpbiB0aGlzLmRoeGV2cy5kYXRhW2VdKXRoaXMuZGh4ZXZzLmRhdGFbZV1bdF09bnVsbCxkZWxldGUgdGhpcy5kaHhldnMuZGF0YVtlXVt0XTt0aGlzLmRoeGV2cy5kYXRhW2VdPW51bGwsZGVsZXRlIHRoaXMuZGh4ZXZzLmRhdGFbZV19fSx2b2lkKGU9bnVsbCkpfSxkaHg0Ll9ldmVudGFibGUoZGh4NCkpLCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LmRodG1seCYmKHdpbmRvdy5kaHRtbHg9e2V4dGVuZDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KWVbaV18fChlW2ldPXRbaV0pO3JldHVybiBlfSxleHRlbmRfYXBpOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj13aW5kb3dbZV07biYmKHdpbmRvd1tlXT1mdW5jdGlvbihlKXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUmJiFlLnRhZ05hbWUpe3ZhciBpPW4uYXBwbHkodGhpcyx0Ll9pbml0P3QuX2luaXQoZSk6YXJndW1lbnRzKTtmb3IodmFyIG8gaW4gZGh0bWx4KXRbb10mJnRoaXNbdFtvXV0oZGh0bWx4W29dKTtmb3IodmFyIG8gaW4gZSl0W29dP3RoaXNbdFtvXV0oZVtvXSk6MD09PW8uaW5kZXhPZigib24iKSYmdGhpcy5hdHRhY2hFdmVudChvLGVbb10pfWVsc2UgdmFyIGk9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuX3BhdGNoJiZ0Ll9wYXRjaCh0aGlzKSxpfHx0aGlzfSx3aW5kb3dbZV0ucHJvdG90eXBlPW4ucHJvdG90eXBlLGkmJmRodG1seC5leHRlbmQod2luZG93W2VdLnByb3RvdHlwZSxpKSl9LHVybDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9ZS5pbmRleE9mKCI/Iik/IiYiOiI/In19KSxfaXNGRj0hMSxfaXNJRT0hMSxfaXNPcGVyYT0hMSxfaXNLSFRNTD0hMSxfaXNNYWNPUz0hMSxfaXNDaHJvbWU9ITEsX0ZGcnY9ITEsX0tIVE1McnY9ITEsX09wZXJhUnY9ITEsLTEhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWFjaW50b3NoIikmJihfaXNNYWNPUz0hMCksbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImNocm9tZSIpPi0xJiYoX2lzQ2hyb21lPSEwKSwtMSE9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKXx8LTEhPW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiS29ucXVlcm9yIik/KF9LSFRNTHJ2PXBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSs3LDUpKSxfS0hUTUxydj41MjU/KF9pc0ZGPSEwLF9GRnJ2PTEuOSk6X2lzS0hUTUw9ITApOi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9wZXJhIik/KF9pc09wZXJhPSEwLF9PcGVyYVJ2PXBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJPcGVyYSIpKzYsMykpKTotMSE9bmF2aWdhdG9yLmFwcE5hbWUuaW5kZXhPZigiTWljcm9zb2Z0Iik/KF9pc0lFPSEwLCgtMSE9bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigiTVNJRSA4LjAiKXx8LTEhPW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1TSUUgOS4wIil8fC0xIT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNU0lFIDEwLjAiKXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPjcpJiYiQmFja0NvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGUmJihfaXNJRT04KSk6Ik5ldHNjYXBlIj09bmF2aWdhdG9yLmFwcE5hbWUmJi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKT9faXNJRT04OihfaXNGRj0hMCxfRkZydj1wYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQuc3BsaXQoInJ2OiIpWzFdKSksInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cuZGh0bWx4RXZlbnQsbnVsbD09ZGh0bWx4RXZlbnQudG91Y2hEZWxheSYmKGRodG1seEV2ZW50LnRvdWNoRGVsYXk9MmUzKSwidW5kZWZpbmVkIj09dHlwZW9mIGRodG1seEV2ZW50LmluaXRUb3VjaCYmKGRodG1seEV2ZW50LmluaXRUb3VjaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihpKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO2UuaW5pdEV2ZW50KCJkYmxjbGljayIsITAsITApLGkuZGlzcGF0Y2hFdmVudChlKSx0PWk9bnVsbH19dmFyIHQsaSxuLG87ZGh0bWx4RXZlbnQoZG9jdW1lbnQuYm9keSwidG91Y2hzdGFydCIsZnVuY3Rpb24ocil7aT1yLnRvdWNoZXNbMF0udGFyZ2V0LG49ci50b3VjaGVzWzBdLmNsaWVudFgsbz1yLnRvdWNoZXNbMF0uY2xpZW50WSx0PXdpbmRvdy5zZXRUaW1lb3V0KGUsZGh0bWx4RXZlbnQudG91Y2hEZWxheSl9KSxkaHRtbHhFdmVudChkb2N1bWVudC5ib2R5LCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGUpe3QmJihNYXRoLmFicyhlLnRvdWNoZXNbMF0uY2xpZW50WC1uKT41MHx8TWF0aC5hYnMoZS50b3VjaGVzWzBdLmNsaWVudFktbyk+NTApJiYod2luZG93LmNsZWFyVGltZW91dCh0KSx0PWk9ITEpfSksZGh0bWx4RXZlbnQoZG9jdW1lbnQuYm9keSwidG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHQpLHQ9aT0hMSl9KSxkaHRtbHhFdmVudC5pbml0VG91Y2g9ZnVuY3Rpb24oKXt9fSksZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2RvQ29udENsaWNrPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJjIhPWUuYnV0dG9uKXJldHVybiB0aGlzLl9hY01lbnUmJih0aGlzLl9hY01lbnUuaGlkZUNvbnRleHRNZW51P3RoaXMuX2FjTWVudS5oaWRlQ29udGV4dE1lbnUoKTp0aGlzLmNNZW51Ll9jb250ZXh0RW5kKCkpLCEwO2Zvcih2YXIgaT1faXNJRT9lLnNyY0VsZW1lbnQ6ZS50YXJnZXQ7aSYmIkJPRFkiIT1pLnRhZ05hbWUmJiFpLnBhcmVudE9iamVjdDspaT1pLnBhcmVudE5vZGU7aWYoIWl8fCFpLnBhcmVudE9iamVjdClyZXR1cm4hMDt2YXIgbj1pLnBhcmVudE9iamVjdDtpZih0aGlzLmNhbGxFdmVudCgib25SaWdodENsaWNrIixbbi5pZCxlXSl8fCgoZS5zcmNFbGVtZW50fHxlLnRhcmdldCkub25jb250ZXh0bWVudT1mdW5jdGlvbihlKXtyZXR1cm4oZXx8ZXZlbnQpLmNhbmNlbEJ1YmJsZT0hMCwhMX0pLHRoaXMuX2FjTWVudT1uLmNNZW51fHx0aGlzLmNNZW51LHRoaXMuX2FjTWVudSl7aWYoIXRoaXMuY2FsbEV2ZW50KCJvbkJlZm9yZUNvbnRleHRNZW51Iixbbi5pZF0pKXJldHVybiEwO2lmKF9pc01hY09TfHwoKGUuc3JjRWxlbWVudHx8ZS50YXJnZXQpLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fGV2ZW50KS5jYW5jZWxCdWJibGU9ITAsITF9KSx0aGlzLl9hY01lbnUuc2hvd0NvbnRleHRNZW51KXt2YXIgbz13aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHI9d2luZG93LmRvY3VtZW50LmJvZHksbD1uZXcgQXJyYXkoby5zY3JvbGxMZWZ0fHxyLnNjcm9sbExlZnQsby5zY3JvbGxUb3B8fHIuc2Nyb2xsVG9wKTtpZihfaXNJRSl2YXIgcz1lLmNsaWVudFgrbFswXSxhPWUuY2xpZW50WStsWzFdO2Vsc2UgdmFyIHM9ZS5wYWdlWCxhPWUucGFnZVk7dGhpcy5fYWNNZW51LnNob3dDb250ZXh0TWVudShzLTEsYS0xKSx0aGlzLmNvbnRleHRJRD1uLmlkLGUuY2FuY2VsQnViYmxlPSEwLHRoaXMuX2FjTWVudS5fc2tpcF9oaWRlPSEwfWVsc2UgaS5jb250ZXh0TWVudUlkPW4uaWQsaS5jb250ZXh0TWVudT10aGlzLl9hY01lbnUsaS5hPXRoaXMuX2FjTWVudS5fY29udGV4dFN0YXJ0LGkuYShpLGUpLGkuYT1udWxsO3JldHVybiExfXJldHVybiEwfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5lbmFibGVJRUltYWdlRml4PWZ1bmN0aW9uKGUpe2U/KHRoaXMuX2dldEltZz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO3JldHVybiBlLmlubmVySFRNTD0iJm5ic3A7IixlLmNsYXNzTmFtZT0iZGh4X2JnX2ltZ19maXgiLGV9LHRoaXMuX3NldFNyYz1mdW5jdGlvbihlLHQpe2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIit0KyIpIn0sdGhpcy5fZ2V0U3JjPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3R5bGUuYmFja2dyb3VuZEltYWdlO3JldHVybiB0LnN1YnN0cig0LHQubGVuZ3RoLTUpLnJlcGxhY2UoLyheIil8KCIkKS9nLCIiKX0pOih0aGlzLl9nZXRJbWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZT09dGhpcy5yb290SWQ/ImRpdiI6ImltZyIpfSx0aGlzLl9zZXRTcmM9ZnVuY3Rpb24oZSx0KXtlLnNyYz10fSx0aGlzLl9nZXRTcmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjfSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmRlc3RydWN0b3I9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5faWRwdWxsKXt2YXIgdD10aGlzLl9pZHB1bGxbZV07dCYmKHQucGFyZW50T2JqZWN0PW51bGwsdC50cmVlTm9kPW51bGwsdC5jaGlsZE5vZGVzPW51bGwsdC5zcGFuPW51bGwsdC50ci5ub2RlbT1udWxsLHQudHI9bnVsbCx0Lmh0bWxOb2RlLm9iakJlbG9uZz1udWxsLHQuaHRtbE5vZGU9bnVsbCx0aGlzLl9pZHB1bGxbZV09bnVsbCl9dGhpcy5wYXJlbnRPYmplY3QuaW5uZXJIVE1MPSIiLHRoaXMuYWxsVHJlZS5vbnNlbGVjdHN0YXJ0PW51bGwsdGhpcy5hbGxUcmVlLm9uY29udGV4dG1lbnU9bnVsbCx0aGlzLmFsbFRyZWUub25tb3VzZWRvd249bnVsbDtmb3IodmFyIGUgaW4gdGhpcyl0aGlzW2VdPW51bGx9LGNPYmplY3QucHJvdG90eXBlPW5ldyBPYmplY3QsY09iamVjdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZT10aGlzLG5ldyBlfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZ2xvYmFsSWRTdG9yYWdlQWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSwxLDEpPyhlPWUrIl8iKyhuZXcgRGF0ZSkudmFsdWVPZigpLHRoaXMuX2dsb2JhbElkU3RvcmFnZUFkZChlLHQpKToodGhpcy5faWRwdWxsW2VdPXQsdGhpcy5fcHVsbFNpemUrKyxlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dsb2JhbElkU3RvcmFnZVN1Yj1mdW5jdGlvbihlKXt0aGlzLl9pZHB1bGxbZV0mJih0aGlzLl91bnNlbGVjdEl0ZW0odGhpcy5faWRwdWxsW2VdKSx0aGlzLl9pZHB1bGxbZV09bnVsbCx0aGlzLl9wdWxsU2l6ZS0tKSx0aGlzLl9sb2NrZXImJnRoaXMuX2xvY2tlcltlXSYmKHRoaXMuX2xvY2tlcltlXT0hMSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nbG9iYWxJZFN0b3JhZ2VGaW5kPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvPXRoaXMuX2lkcHVsbFtlXTtpZihvKXtpZihvLnVuUGFyc2VkJiYhaSYmdGhpcy5yZVBhcnNlKG8sMCksdGhpcy5fc3JuZCYmIW8uaHRtbE5vZGUmJnRoaXMuX2J1aWxkU1JORChvLGkpLG4mJnRoaXMuX2Vkc2Jwc0EpZm9yKHZhciByPTA7cjx0aGlzLl9lZHNicHNBLmxlbmd0aDtyKyspaWYodGhpcy5fZWRzYnBzQVtyXVsyXT09ZSlyZXR1cm4gZGh4NC5jYWxsRXZlbnQoIm9uZ2V0SXRlbUVycm9yIixbIlJlcXVlc3RlZCBpdGVtIHN0aWxsIGluIHBhcnNpbmcgcHJvY2Vzcy4iLGVdKSxudWxsO3JldHVybiBvfXJldHVybiB0aGlzLnNsb3dQYXJzZSYmMCE9ZSYmIXQ/dGhpcy5wcmVQYXJzZShlKTpudWxsfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZHJhd05ld1RyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3JldHVybiBuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIikpLG8uY29sU3Bhbj0zLG8uYXBwZW5kQ2hpbGQoZSksaS5hcHBlbmRDaGlsZChuKSxpLmFwcGVuZENoaWxkKG8pLGl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxpKXtpZigic3RyaW5nIj09dHlwZW9mIHQmJihpPXQsdD1udWxsKSwianNvbiI9PT1pKXJldHVybiB0aGlzLl9sb2FkSlNPTk9iamVjdChlLHQpO2lmKCJjc3YiPT09aSlyZXR1cm4gdGhpcy5fbG9hZENTVlN0cmluZyhlLHQpO2lmKCJqc2FycmF5Ij09PWkpcmV0dXJuIHRoaXMuX2xvYWRKU0FycmF5KGUsdCk7dmFyIG49dGhpczt0aGlzLnBhcnNDb3VudHx8dGhpcy5jYWxsRXZlbnQoIm9uWExTIixbbixudWxsXSksdGhpcy54bWxzdGF0ZT0xLHRoaXMuWE1MTG9hZGVyKHtyZXNwb25zZVhNTDpkaHg0LmFqYXgucGFyc2UoZSl9LHQpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fYXR0YWNoQ2hpbGROb2RlPWZ1bmN0aW9uKGUsdCxpLG4sbyxyLGwscyxhLGQsaCl7ZCYmZC5wYXJlbnRPYmplY3QmJihlPWQucGFyZW50T2JqZWN0KSwwPT1lLlhNTGxvYWQmJnRoaXMuWE1Mc291cmNlJiYhdGhpcy5YTUxsb2FkaW5nV2FybmluZyYmKGUuWE1MbG9hZD0xLHRoaXMuX2xvYWREeW5YTUwoZS5pZCkpO3ZhciBjPWUuY2hpbGRzQ291bnQsdT1lLmNoaWxkTm9kZXM7aWYoaCYmaC50ci5wcmV2aW91c1NpYmxpbmcmJihoLnRyLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc/ZD1oLnRyLnByZXZpb3VzU2libGluZy5ub2RlbTpzPXMucmVwbGFjZSgiVE9QIiwiIikrIixUT1AiKSxkKXt2YXIgcCxfO2ZvcihwPTA7Yz5wO3ArKylpZih1W3BdPT1kKXtmb3IoXz1jO18hPXA7Xy0tKXVbMStfXT11W19dO2JyZWFrfXArKyxjPXB9aWYocylmb3IodmFyIG09cy5zcGxpdCgiLCIpLGc9MDtnPG0ubGVuZ3RoO2crKylzd2l0Y2gobVtnXSl7Y2FzZSJUT1AiOmZvcihlLmNoaWxkc0NvdW50PjAmJihkPW5ldyBPYmplY3QsZC50cj1lLmNoaWxkTm9kZXNbMF0udHIucHJldmlvdXNTaWJsaW5nKSxlLl9oYXNfdG9wPSEwLHA9YztwPjA7cC0tKXVbcF09dVtwLTFdO2M9MH12YXIgZjsoZj10aGlzLl9pZHB1bGxbdF0pJiYtMT09Zi5zcGFufHwoZj11W2NdPW5ldyBkaHRtbFhUcmVlSXRlbU9iamVjdCh0LGksZSx0aGlzLG4sMSksdD11W2NdLmlkLGUuY2hpbGRzQ291bnQrKyksZi5odG1sTm9kZXx8KGYubGFiZWw9aSxmLmh0bWxOb2RlPXRoaXMuX2NyZWF0ZUl0ZW0odGhpcy5jaGVja0JveE9mZj8xOjAsZiksZi5odG1sTm9kZS5vYmpCZWxvbmc9ZiksbyYmKGYuaW1hZ2VzWzBdPW8pLHImJihmLmltYWdlc1sxXT1yKSxsJiYoZi5pbWFnZXNbMl09bCk7dmFyIGI9dGhpcy5fZHJhd05ld1RyKGYuaHRtbE5vZGUpO2lmKCh0aGlzLlhNTGxvYWRpbmdXYXJuaW5nfHx0aGlzLl9oQWRJKSYmKGYuaHRtbE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxkJiZkLnRyJiZkLnRyLm5leHRTaWJsaW5nP2UuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5pbnNlcnRCZWZvcmUoYixkLnRyLm5leHRTaWJsaW5nKTp0aGlzLnBhcnNpbmdPbj09ZS5pZD90aGlzLnBhcnNlZEFycmF5W3RoaXMucGFyc2VkQXJyYXkubGVuZ3RoXT1iOmUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5hcHBlbmRDaGlsZChiKSxkJiYhZC5zcGFuJiYoZD1udWxsKSx0aGlzLlhNTHNvdXJjZSYmKGEmJjAhPWE/Zi5YTUxsb2FkPTA6Zi5YTUxsb2FkPTEpLGYudHI9YixiLm5vZGVtPWYsMD09ZS5pdGVtSWQmJihiLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lPSJoaWRkZW5Sb3ciKSwoZS5fcl9sb2dpY3x8dGhpcy5fZnJidHIpJiZ0aGlzLl9zZXRTcmMoZi5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLHRoaXMuaW1QYXRoK3RoaXMucmFkaW9BcnJheVswXSkscylmb3IodmFyIG09cy5zcGxpdCgiLCIpLGc9MDtnPG0ubGVuZ3RoO2crKylzd2l0Y2gobVtnXSl7Y2FzZSJTRUxFQ1QiOnRoaXMuc2VsZWN0SXRlbSh0LCExKTticmVhaztjYXNlIkNBTEwiOnRoaXMuc2VsZWN0SXRlbSh0LCEwKTticmVhaztjYXNlIkNISUxEIjpmLlhNTGxvYWQ9MDticmVhaztjYXNlIkNIRUNLRUQiOnRoaXMuWE1MbG9hZGluZ1dhcm5pbmc/dGhpcy5zZXRDaGVja0xpc3QrPXRoaXMuZGxtdHIrdDp0aGlzLnNldENoZWNrKHQsMSk7YnJlYWs7Y2FzZSJIQ0hFQ0tFRCI6dGhpcy5fc2V0Q2hlY2soZiwidW5zdXJlIik7YnJlYWs7Y2FzZSJPUEVOIjpmLm9wZW5NZT0xfWlmKCF0aGlzLlhNTGxvYWRpbmdXYXJuaW5nJiYodGhpcy5fZ2V0T3BlblN0YXRlKGUpPDAmJiF0aGlzLl9oQWRJJiZ0aGlzLm9wZW5JdGVtKGUuaWQpLGQmJih0aGlzLl9jb3JyZWN0UGx1cyhkKSx0aGlzLl9jb3JyZWN0TGluZShkKSksdGhpcy5fY29ycmVjdFBsdXMoZSksdGhpcy5fY29ycmVjdExpbmUoZSksdGhpcy5fY29ycmVjdFBsdXMoZiksZS5jaGlsZHNDb3VudD49MiYmKHRoaXMuX2NvcnJlY3RQbHVzKHVbZS5jaGlsZHNDb3VudC0yXSksdGhpcy5fY29ycmVjdExpbmUodVtlLmNoaWxkc0NvdW50LTJdKSksMiE9ZS5jaGlsZHNDb3VudCYmdGhpcy5fY29ycmVjdFBsdXModVswXSksdGhpcy50c2NoZWNrJiZ0aGlzLl9jb3JyZWN0Q2hlY2tTdGF0ZXMoZSksdGhpcy5fb25yYWRoKSlpZigxPT10aGlzLnhtbHN0YXRlKXt2YXIgdj10aGlzLm9uWExFO3RoaXMub25YTEU9ZnVuY3Rpb24oZSl7dGhpcy5fb25yYWRoKHQpLHYmJnYoZSl9fWVsc2UgdGhpcy5fb25yYWRoKHQpO3JldHVybiBmfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fcGFyc2VJdGVtPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBvO2lmKHRoaXMuX3NybmQmJighdGhpcy5faWRwdWxsW289ZS5nZXQoImlkIildfHwhdGhpcy5faWRwdWxsW29dLnNwYW4pKXJldHVybiB2b2lkIHRoaXMuX2FkZEl0ZW1TUk5EKHQuaWQsbyxlKTt2YXIgcj1lLmdldF9hbGwoKTtpZigib2JqZWN0Ij09dHlwZW9mIHRoaXMud2FpdFVwZGF0ZVhNTCYmIXRoaXMud2FpdFVwZGF0ZVhNTFtyLmlkXSlyZXR1cm4gdm9pZCB0aGlzLl9wYXJzZShlLHIuaWQsMSk7bnVsbCE9PXIudGV4dCYmInVuZGVmaW5lZCIhPXR5cGVvZiByLnRleHR8fChyLnRleHQ9ZS5zdWIoIml0ZW10ZXh0Iiksci50ZXh0JiYoci50ZXh0PXIudGV4dC5jb250ZW50KCkpKTt2YXIgbD1bXTtpZihyLnNlbGVjdCYmbC5wdXNoKCJTRUxFQ1QiKSxyLnRvcCYmbC5wdXNoKCJUT1AiKSxyLmNhbGwmJih0aGlzLm5vZGVBc2tpbmdDYWxsPXIuaWQpLC0xPT1yLmNoZWNrZWQ/bC5wdXNoKCJIQ0hFQ0tFRCIpOnIuY2hlY2tlZCYmbC5wdXNoKCJDSEVDS0VEIiksci5vcGVuJiZsLnB1c2goIk9QRU4iKSx0aGlzLndhaXRVcGRhdGVYTUwpaWYodGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChyLmlkKSl2YXIgcz10aGlzLnVwZGF0ZUl0ZW0oci5pZCxyLnRleHQsci5pbTAsci5pbTEsci5pbTIsci5jaGVja2VkLHIuY2hpbGQpO2Vsc2V7MD09dGhpcy5ucGw/bC5wdXNoKCJUT1AiKTppPXQuY2hpbGROb2Rlc1t0aGlzLm5wbF07dmFyIHM9dGhpcy5fYXR0YWNoQ2hpbGROb2RlKHQsci5pZCxyLnRleHQsMCxyLmltMCxyLmltMSxyLmltMixsLmpvaW4oIiwiKSxyLmNoaWxkLDAsaSk7ci5pZD1zLmlkLGk9bnVsbH1lbHNlIHZhciBzPXRoaXMuX2F0dGFjaENoaWxkTm9kZSh0LHIuaWQsci50ZXh0LDAsci5pbTAsci5pbTEsci5pbTIsbC5qb2luKCIsIiksci5jaGlsZCxufHwwLGkpO2lmKHIudG9vbHRpcCYmKHMuc3Bhbi5wYXJlbnROb2RlLnBhcmVudE5vZGUudGl0bGU9ci50b29sdGlwKSxyLnN0eWxlJiYocy5zcGFuLnN0eWxlLmNzc1RleHQ/cy5zcGFuLnN0eWxlLmNzc1RleHQrPSI7IityLnN0eWxlOnMuc3Bhbi5zZXRBdHRyaWJ1dGUoInN0eWxlIixzLnNwYW4uZ2V0QXR0cmlidXRlKCJzdHlsZSIpKyI7ICIrci5zdHlsZSkpLHIucmFkaW8mJihzLl9yX2xvZ2ljPSEwKSxyLm5vY2hlY2tib3gpe3ZhciBhPXMuc3Bhbi5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc7YS5zdHlsZS5kaXNwbGF5PSJub25lIixzLm5vY2hlY2tib3g9ITB9ci5kaXNhYmxlZCYmKG51bGwhPXIuY2hlY2tlZCYmdGhpcy5fc2V0Q2hlY2socyxyLmNoZWNrZWQpLHRoaXMuZGlzYWJsZUNoZWNrYm94KHMsMSkpLHMuX2FjYz1yLmNoaWxkfHwwLHRoaXMucGFyc2VyRXh0ZW5zaW9uJiZ0aGlzLnBhcnNlckV4dGVuc2lvbi5fcGFyc2VFeHRlbnNpb24uY2FsbCh0aGlzLGUscix0P3QuaWQ6MCksdGhpcy5zZXRJdGVtQ29sb3IocyxyLmFDb2wsci5zQ29sKSwiMSI9PXIubG9ja2VkJiZ0aGlzLmxvY2tJdGVtKHMuaWQsITAsITApLChyLmltd2lkdGh8fHIuaW1oZWlnaHQpJiZ0aGlzLnNldEljb25TaXplKHIuaW13aWR0aCxyLmltaGVpZ2h0LHMpLCIwIiE9ci5jbG9zZWFibGUmJiIxIiE9ci5jbG9zZWFibGV8fHRoaXMuc2V0SXRlbUNsb3NlYWJsZShzLHIuY2xvc2VhYmxlKTt2YXIgZD0iIjtyLnRvcG9mZnNldCYmdGhpcy5zZXRJdGVtVG9wT2Zmc2V0KHMsci50b3BvZmZzZXQpLHRoaXMuc2xvd1BhcnNlJiYib2JqZWN0IiE9dHlwZW9mIHRoaXMud2FpdFVwZGF0ZVhNTD8oIXMuY2hpbGRzQ291bnQmJmUuc3ViX2V4aXN0cygiaXRlbSIpJiYocy51blBhcnNlZD1lLmNsb25lKCkpLGUuZWFjaCgidXNlcmRhdGEiLGZ1bmN0aW9uKGUpe3RoaXMuc2V0VXNlckRhdGEoci5pZCxlLmdldCgibmFtZSIpLGUuY29udGVudCgpKX0sdGhpcykpOmUuc3ViX2V4aXN0cygiaXRlbSIpJiYoZD10aGlzLl9wYXJzZShlLHIuaWQsMSkpLCIiIT1kJiYodGhpcy5ub2RlQXNraW5nQ2FsbD1kKSxlLmVhY2goInVzZXJkYXRhIixmdW5jdGlvbih0KXt0aGlzLnNldFVzZXJEYXRhKGUuZ2V0KCJpZCIpLHQuZ2V0KCJuYW1lIiksdC5jb250ZW50KCkpfSx0aGlzKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3BhcnNlPWZ1bmN0aW9uKGUsdCxpLG4pe2lmKHRoaXMuX3NybmQmJiF0aGlzLnBhcmVudE9iamVjdC5vZmZzZXRIZWlnaHQpe3ZhciBvPXRoaXM7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5fcGFyc2UoZSx0LGksbil9LDEwMCl9aWYoZS5leGlzdHMoKSl7aWYodGhpcy5za2lwTG9jaz0hMCwhdCl7dD1lLmdldCgiaWQiKSx0aGlzLl9keW5EZWxldGVCcmFuY2hlc1t0XSYmKHRoaXMuZGVsZXRlQ2hpbGRJdGVtcyh0KSx0aGlzLl9keW5EZWxldGVCcmFuY2hlc1t0XS0tLHRoaXMuX2R5bkRlbGV0ZUJyYW5jaGVzW3RdfHxkZWxldGUgdGhpcy5fZHluRGVsZXRlQnJhbmNoZXNbdF0pO3ZhciByPWUuZ2V0KCJkaHhfc2VjdXJpdHkiKTtyJiYoZGh0bWx4LnNlY3VyaXR5X2tleT1yKSxlLmdldCgicmFkaW8iKSYmKHRoaXMuaHRtbE5vZGUuX3JfbG9naWM9ITApLHRoaXMucGFyc2luZ09uPXQsdGhpcy5wYXJzZWRBcnJheT1uZXcgQXJyYXksdGhpcy5zZXRDaGVja0xpc3Q9IiIsdGhpcy5ub2RlQXNraW5nQ2FsbD0iIn12YXIgbD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKHQpO2lmKCFsKXJldHVybiBkaHg0LmNhbGxFdmVudCgib25EYXRhU3RydWN0dXJlRXJyb3IiLFsiWE1MIHJlZmVycyB0byBub3QgZXhpc3RpbmcgcGFyZW50Il0pO2lmKHRoaXMucGFyc0NvdW50PXRoaXMucGFyc0NvdW50P3RoaXMucGFyc0NvdW50KzE6MSx0aGlzLlhNTGxvYWRpbmdXYXJuaW5nPTEsIWwuY2hpbGRzQ291bnR8fG58fHRoaXMuX2Vkc2Jwc3x8bC5faGFzX3RvcCl2YXIgcz0wO2Vsc2UgdmFyIHM9MDtpZih0aGlzLm5wbD0wLGUuZWFjaCgiaXRlbSIsZnVuY3Rpb24obixvKXtyZXR1cm4gbC5YTUxsb2FkPTEsdGhpcy5fcGFyc2VJdGVtKG4sbCwwLHMpLHRoaXMuX2Vkc2JwcyYmdGhpcy5ucGw9PXRoaXMuX2Vkc2Jwc0M/KHRoaXMuX2Rpc3RyaWJ1dGVkU3RhcnQoZSxvKzEsdCxpLGwuY2hpbGRzQ291bnQpLC0xKTp2b2lkIHRoaXMubnBsKyt9LHRoaXMsbiksIWkpe2lmKGUuZWFjaCgidXNlcmRhdGEiLGZ1bmN0aW9uKHQpe3RoaXMuc2V0VXNlckRhdGEoZS5nZXQoImlkIiksdC5nZXQoIm5hbWUiKSx0LmNvbnRlbnQoKSl9LHRoaXMpLGwuWE1MbG9hZD0xLHRoaXMud2FpdFVwZGF0ZVhNTCl7dGhpcy53YWl0VXBkYXRlWE1MPSExO2Zvcih2YXIgYT1sLmNoaWxkc0NvdW50LTE7YT49MDthLS0pbC5jaGlsZE5vZGVzW2FdLl9kbWFyayYmdGhpcy5kZWxldGVJdGVtKGwuY2hpbGROb2Rlc1thXS5pZCl9Zm9yKHZhciBhPSh0aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKHRoaXMucGFyc2luZ09uKSwwKTthPHRoaXMucGFyc2VkQXJyYXkubGVuZ3RoO2ErKylsLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uYXBwZW5kQ2hpbGQodGhpcy5wYXJzZWRBcnJheVthXSk7dGhpcy5wYXJzZWRBcnJheT1bXSx0aGlzLmxhc3RMb2FkZWRYTUxJZD10LHRoaXMuWE1MbG9hZGluZ1dhcm5pbmc9MDtmb3IodmFyIGQ9dGhpcy5zZXRDaGVja0xpc3Quc3BsaXQodGhpcy5kbG10ciksaD0wO2g8ZC5sZW5ndGg7aCsrKWRbaF0mJnRoaXMuc2V0Q2hlY2soZFtoXSwxKTt0aGlzLlhNTHNvdXJjZSYmdGhpcy50c2NoZWNrJiZ0aGlzLnNtY2hlY2smJmwuaWQhPXRoaXMucm9vdElkJiYoMD09PWwuY2hlY2tzdGF0ZT90aGlzLl9zZXRTdWJDaGVja2VkKDAsbCk6MT09PWwuY2hlY2tzdGF0ZSYmdGhpcy5fc2V0U3ViQ2hlY2tlZCgxLGwpKSx0aGlzLl9yZWRyYXdGcm9tKHRoaXMsbnVsbCxuKSxlLmdldCgib3JkZXIiKSYmIm5vbmUiIT1lLmdldCgib3JkZXIiKSYmdGhpcy5fcmVvcmRlckJyYW5jaChsLGUuZ2V0KCJvcmRlciIpLCEwKSwiIiE9dGhpcy5ub2RlQXNraW5nQ2FsbCYmdGhpcy5jYWxsRXZlbnQoIm9uQ2xpY2siLFt0aGlzLm5vZGVBc2tpbmdDYWxsLHRoaXMuZ2V0U2VsZWN0ZWRJdGVtSWQoKV0pLHRoaXMuX2JyYW5jaFVwZGF0ZSYmdGhpcy5fYnJhbmNoVXBkYXRlTmV4dChlKX1pZigxPT10aGlzLnBhcnNDb3VudCl7aWYodGhpcy5wYXJzaW5nT249bnVsbCx0aGlzLl9zcm5kJiZsLmlkIT10aGlzLnJvb3RJZCYmKHRoaXMucHJlcGFyZVNSKGwuaWQpLHRoaXMuWE1Mc291cmNlJiZ0aGlzLm9wZW5JdGVtKGwuaWQpKSxlLnRocm91Z2goIml0ZW0iLCJvcGVuIixudWxsLGZ1bmN0aW9uKGUpe3RoaXMub3Blbkl0ZW0oZS5nZXQoImlkIikpfSx0aGlzKSwhdGhpcy5fZWRzYnBzfHwhdGhpcy5fZWRzYnBzQS5sZW5ndGgpe3ZhciBjPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmNhbGxFdmVudCgib25YTEUiLFtjLHRdKX0sMSksdGhpcy54bWxzdGF0ZT0wfXRoaXMuc2tpcExvY2s9ITF9dGhpcy5wYXJzQ291bnQtLTt2YXIgYz10aGlzO3JldHVybiB0aGlzLl9lZHNicHMmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5fZGlzdHJpYnV0ZWRTdGVwKHQpfSx0aGlzLl9lZHNicHNEKSwhaSYmdGhpcy5vblhMRSYmdGhpcy5vblhMRSh0aGlzLHQpLHRoaXMubm9kZUFza2luZ0NhbGx9fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fcmVkcmF3RnJvbT1mdW5jdGlvbihlLHQsaSxuKXtpZih0KW89dDtlbHNle3ZhciBvPWUuX2dsb2JhbElkU3RvcmFnZUZpbmQoZS5sYXN0TG9hZGVkWE1MSWQpO2lmKGUubGFzdExvYWRlZFhNTElkPS0xLCFvKXJldHVybiAwfWZvcih2YXIgcj0wLGw9aT9pLTE6MDtsPG8uY2hpbGRzQ291bnQ7bCsrKWlmKHRoaXMuX2JyYW5jaFVwZGF0ZSYmMSE9dGhpcy5fZ2V0T3BlblN0YXRlKG8pfHx0JiYxIT1ufHwoby5jaGlsZE5vZGVzW2xdLmh0bWxOb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5PSIiKSwxPT1vLmNoaWxkTm9kZXNbbF0ub3Blbk1lJiYodGhpcy5fb3Blbkl0ZW0oby5jaGlsZE5vZGVzW2xdKSxvLmNoaWxkTm9kZXNbbF0ub3Blbk1lPTApLGUuX3JlZHJhd0Zyb20oZSxvLmNoaWxkTm9kZXNbbF0pLG51bGwhPXRoaXMuY2hpbGRDYWxjKXtpZigoby5jaGlsZE5vZGVzW2xdLnVuUGFyc2VkfHwhby5jaGlsZE5vZGVzW2xdLlhNTGxvYWQmJnRoaXMuWE1Mc291cmNlKSYmKG8uY2hpbGROb2Rlc1tsXS5fYWNjP28uY2hpbGROb2Rlc1tsXS5zcGFuLmlubmVySFRNTD1vLmNoaWxkTm9kZXNbbF0ubGFiZWwrdGhpcy5odG1sY0Erby5jaGlsZE5vZGVzW2xdLl9hY2MrdGhpcy5odG1sY0I6by5jaGlsZE5vZGVzW2xdLnNwYW4uaW5uZXJIVE1MPW8uY2hpbGROb2Rlc1tsXS5sYWJlbCksby5jaGlsZE5vZGVzW2xdLmNoaWxkTm9kZXMubGVuZ3RoJiZ0aGlzLmNoaWxkQ2FsYyl7aWYoMT09dGhpcy5jaGlsZENhbGMmJihvLmNoaWxkTm9kZXNbbF0uc3Bhbi5pbm5lckhUTUw9by5jaGlsZE5vZGVzW2xdLmxhYmVsK3RoaXMuaHRtbGNBK28uY2hpbGROb2Rlc1tsXS5jaGlsZHNDb3VudCt0aGlzLmh0bWxjQiksMj09dGhpcy5jaGlsZENhbGMpe3ZhciBzPW8uY2hpbGROb2Rlc1tsXS5jaGlsZHNDb3VudC0oby5jaGlsZE5vZGVzW2xdLnB1cmVDaGlsZHN8fDApO3MmJihvLmNoaWxkTm9kZXNbbF0uc3Bhbi5pbm5lckhUTUw9by5jaGlsZE5vZGVzW2xdLmxhYmVsK3RoaXMuaHRtbGNBK3MrdGhpcy5odG1sY0IpLG8ucHVyZUNoaWxkcz9vLnB1cmVDaGlsZHMrKzpvLnB1cmVDaGlsZHM9MX1pZigzPT10aGlzLmNoaWxkQ2FsYyYmKG8uY2hpbGROb2Rlc1tsXS5zcGFuLmlubmVySFRNTD1vLmNoaWxkTm9kZXNbbF0ubGFiZWwrdGhpcy5odG1sY0Erby5jaGlsZE5vZGVzW2xdLl9hY2MrdGhpcy5odG1sY0IpLDQ9PXRoaXMuY2hpbGRDYWxjKXt2YXIgcz1vLmNoaWxkTm9kZXNbbF0uX2FjYztzJiYoby5jaGlsZE5vZGVzW2xdLnNwYW4uaW5uZXJIVE1MPW8uY2hpbGROb2Rlc1tsXS5sYWJlbCt0aGlzLmh0bWxjQStzK3RoaXMuaHRtbGNCKX19ZWxzZSA0PT10aGlzLmNoaWxkQ2FsYyYmcisrO3IrPW8uY2hpbGROb2Rlc1tsXS5fYWNjLDM9PXRoaXMuY2hpbGRDYWxjJiZyKyt9by51blBhcnNlZHx8IW8uWE1MbG9hZCYmdGhpcy5YTUxzb3VyY2V8fChvLl9hY2M9ciksZS5fY29ycmVjdExpbmUobyksZS5fY29ycmVjdFBsdXMobyksdGhpcy5jaGlsZENhbGMmJiF0JiZlLl9maXhDaGlsZENvdW50TGFiZWwobyl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9jcmVhdGVTZWxmPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NOYW1lPSJjb250YWluZXJUYWJsZVN0eWxlIixlLnN0eWxlLndpZHRoPXRoaXMud2lkdGgsZS5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5wYXJlbnRPYmplY3QuYXBwZW5kQ2hpbGQoZSksZX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3hjbG9zZUFsbD1mdW5jdGlvbihlKXtpZighZS51blBhcnNlZCl7aWYodGhpcy5yb290SWQhPWUuaWQpe2lmKCFlLmh0bWxOb2RlKXJldHVybjtmb3IodmFyIHQ9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXMsaT10Lmxlbmd0aCxuPTE7aT5uO24rKyl0W25dLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuX2NvcnJlY3RQbHVzKGUpfWZvcih2YXIgbj0wO248ZS5jaGlsZHNDb3VudDtuKyspZS5jaGlsZE5vZGVzW25dLmNoaWxkc0NvdW50JiZ0aGlzLl94Y2xvc2VBbGwoZS5jaGlsZE5vZGVzW25dKX19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl94b3BlbkFsbD1mdW5jdGlvbihlKXt0aGlzLl9IaWRlU2hvdyhlLDIpO2Zvcih2YXIgdD0wO3Q8ZS5jaGlsZHNDb3VudDt0KyspdGhpcy5feG9wZW5BbGwoZS5jaGlsZE5vZGVzW3RdKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvcnJlY3RQbHVzPWZ1bmN0aW9uKGUpe2lmKGUuaHRtbE5vZGUpe3ZhciB0PWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ubGFzdENoaWxkLGk9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1syXS5jaGlsZE5vZGVzWzBdLG49dGhpcy5saW5lQXJyYXk7aWYodGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe3ZhciBuPXRoaXMucGx1c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1syXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWytdIn1lbHNlIGlmKGUuY2hpbGRzQ291bnR8fGUudW5QYXJzZWQpaWYoZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0mJiJub25lIiE9ZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uc3R5bGUuZGlzcGxheSl7aWYoIWUud3NpZ24pdmFyIG49dGhpcy5taW51c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1sxXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWy1dIn1lbHNle2lmKCFlLndzaWduKXZhciBuPXRoaXMucGx1c0FycmF5O2lmKHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1syXSksdGhpcy5fdHh0aW1nKXJldHVybiB0LmlubmVySFRNTD0iWytdIn1lbHNlIHRoaXMuX3NldFNyYyhpLHRoaXMuaWNvblVSTCtlLmltYWdlc1swXSk7dmFyIG89MjtlLnRyZWVOb2QudHJlZUxpbmVzT24/KGUucGFyZW50T2JqZWN0JiYobz10aGlzLl9nZXRDb3VudFN0YXR1cyhlLmlkLGUucGFyZW50T2JqZWN0KSksdGhpcy5fc2V0U3JjKHQsdGhpcy5pbVBhdGgrbltvXSkpOnRoaXMuX3NldFNyYyh0LHRoaXMuaW1QYXRoK25bM10pfX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvcnJlY3RMaW5lPWZ1bmN0aW9uKGUpe2lmKGUuaHRtbE5vZGUpe3ZhciB0PWUucGFyZW50T2JqZWN0O2lmKHQpaWYoMCE9dGhpcy5fZ2V0TGluZVN0YXR1cyhlLmlkLHQpJiZ0aGlzLnRyZWVMaW5lc09uKWZvcih2YXIgaT0xO2k8PWUuY2hpbGRzQ291bnQmJmUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldO2krKyllLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrdGhpcy5pbVBhdGgrdGhpcy5saW5lQXJyYXlbNV0rIikiLGUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0icmVwZWF0LXkiO2Vsc2UgZm9yKHZhciBpPTE7aTw9ZS5jaGlsZHNDb3VudCYmZS5odG1sTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbaV07aSsrKWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSIiLGUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0iIn19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nZXRMaW5lU3RhdHVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY2hpbGROb2Rlc1t0LmNoaWxkc0NvdW50LTFdLmlkPT1lPzA6MX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX0hpZGVTaG93PWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuX2xvY2tlcnx8dGhpcy5za2lwTG9ja3x8IXRoaXMuX2xvY2tlcltlLmlkXSl7aWYodGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe2lmKDE9PXQpcmV0dXJuO3JldHVybiBlLlhNTGxvYWQ9MSx2b2lkIHRoaXMuX2xvYWREeW5YTUwoZS5pZCl9ZS51blBhcnNlZCYmdGhpcy5yZVBhcnNlKGUpO3ZhciBpPWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzLG49aS5sZW5ndGg7aWYobj4xKXsibm9uZSI9PWlbMV0uc3R5bGUuZGlzcGxheSYmMSE9dHx8Mj09dD9ub2Rlc3R5bGU9IiI6KHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLmJvcmRlcj0iMSIsdGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0uYm9yZGVyPSIwIixub2Rlc3R5bGU9Im5vbmUiKTtmb3IodmFyIG89MTtuPm87bysrKWlbb10uc3R5bGUuZGlzcGxheT1ub2Rlc3R5bGV9dGhpcy5fY29ycmVjdFBsdXMoZSl9fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fZ2V0T3BlblN0YXRlPWZ1bmN0aW9uKGUpe2lmKCFlLmh0bWxOb2RlKXJldHVybiAwO3ZhciB0PWUuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO3JldHVybiB0Lmxlbmd0aDw9MT8wOiJub25lIiE9dFsxXS5zdHlsZS5kaXNwbGF5PzE6LTF9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLm9uUm93Q2xpY2syPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJlbnRPYmplY3QudHJlZU5vZDtyZXR1cm4gZS5jYWxsRXZlbnQoIm9uRGJsQ2xpY2siLFt0aGlzLnBhcmVudE9iamVjdC5pZCxlXSk/KHRoaXMucGFyZW50T2JqZWN0LmNsb3NlYmxlJiYiMCIhPXRoaXMucGFyZW50T2JqZWN0LmNsb3NlYmxlP2UuX0hpZGVTaG93KHRoaXMucGFyZW50T2JqZWN0KTplLl9IaWRlU2hvdyh0aGlzLnBhcmVudE9iamVjdCwyKSxlLmNoZWNrRXZlbnQoIm9uT3BlbkVuZCIpJiYoZS54bWxzdGF0ZT8oZS5fb2llX29uWExFLnB1c2goZS5vblhMRSksZS5vblhMRT1lLl9lcG5GSGUpOmUuY2FsbEV2ZW50KCJvbk9wZW5FbmQiLFt0aGlzLnBhcmVudE9iamVjdC5pZCxlLl9nZXRPcGVuU3RhdGUodGhpcy5wYXJlbnRPYmplY3QpXSkpLCExKTohMX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub25Sb3dDbGljaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50T2JqZWN0LnRyZWVOb2Q7cmV0dXJuIGUuY2FsbEV2ZW50KCJvbk9wZW5TdGFydCIsW3RoaXMucGFyZW50T2JqZWN0LmlkLGUuX2dldE9wZW5TdGF0ZSh0aGlzLnBhcmVudE9iamVjdCldKT8odGhpcy5wYXJlbnRPYmplY3QuY2xvc2VibGUmJiIwIiE9dGhpcy5wYXJlbnRPYmplY3QuY2xvc2VibGU/ZS5fSGlkZVNob3codGhpcy5wYXJlbnRPYmplY3QpOmUuX0hpZGVTaG93KHRoaXMucGFyZW50T2JqZWN0LDIpLHZvaWQoZS5jaGVja0V2ZW50KCJvbk9wZW5FbmQiKSYmKGUueG1sc3RhdGU/KGUuX29pZV9vblhMRS5wdXNoKGUub25YTEUpLGUub25YTEU9ZS5fZXBuRkhlKTplLmNhbGxFdmVudCgib25PcGVuRW5kIixbdGhpcy5wYXJlbnRPYmplY3QuaWQsZS5fZ2V0T3BlblN0YXRlKHRoaXMucGFyZW50T2JqZWN0KV0pKSkpOjB9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldFNlbGVjdGVkSXRlbUlkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSx0PTA7dDx0aGlzLl9zZWxlY3RlZC5sZW5ndGg7dCsrKWVbdF09dGhpcy5fc2VsZWN0ZWRbdF0uaWQ7cmV0dXJuIGUuam9pbih0aGlzLmRsbXRyKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3NlbGVjdEl0ZW09ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmNoZWNrRXZlbnQoIm9uU2VsZWN0IikmJih0aGlzLl9vblNTQ0ZvbGQ9dGhpcy5nZXRTZWxlY3RlZEl0ZW1JZCgpKSx0aGlzLl9hbXNlbCYmdCYmKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0LnNoaWZ0S2V5KXx8dGhpcy5fdW5zZWxlY3RJdGVtcygpLGUuaV9zZWwmJnRoaXMuX2Ftc2VsJiZ0JiYodC5jdHJsS2V5fHx0Lm1ldGFLZXkpKXRoaXMuX3Vuc2VsZWN0SXRlbShlKTtlbHNlIGlmKCEoZS5pX3NlbHx8dGhpcy5fYW1zZWxTJiYwIT10aGlzLl9zZWxlY3RlZC5sZW5ndGgmJnRoaXMuX3NlbGVjdGVkWzBdLnBhcmVudE9iamVjdCE9ZS5wYXJlbnRPYmplY3QpKWlmKHRoaXMuX2Ftc2VsJiZ0JiZ0LnNoaWZ0S2V5JiYwIT10aGlzLl9zZWxlY3RlZC5sZW5ndGgmJnRoaXMuX3NlbGVjdGVkW3RoaXMuX3NlbGVjdGVkLmxlbmd0aC0xXS5wYXJlbnRPYmplY3Q9PWUucGFyZW50T2JqZWN0KXt2YXIgaT10aGlzLl9nZXRJbmRleCh0aGlzLl9zZWxlY3RlZFt0aGlzLl9zZWxlY3RlZC5sZW5ndGgtMV0pLG49dGhpcy5fZ2V0SW5kZXgoZSk7aWYoaT5uKXt2YXIgbz1pO2k9bixuPW99Zm9yKHZhciByPWk7bj49cjtyKyspZS5wYXJlbnRPYmplY3QuY2hpbGROb2Rlc1tyXS5pX3NlbHx8dGhpcy5fbWFya0l0ZW0oZS5wYXJlbnRPYmplY3QuY2hpbGROb2Rlc1tyXSl9ZWxzZSB0aGlzLl9tYXJrSXRlbShlKTtpZih0aGlzLmNoZWNrRXZlbnQoIm9uU2VsZWN0Iikpe3ZhciBsPXRoaXMuZ2V0U2VsZWN0ZWRJdGVtSWQoKTtsIT10aGlzLl9vblNTQ0ZvbGQmJnRoaXMuY2FsbEV2ZW50KCJvblNlbGVjdCIsW2xdKX19LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9tYXJrSXRlbT1mdW5jdGlvbihlKXtlLnNjb2xvciYmKGUuc3Bhbi5zdHlsZS5jb2xvcj1lLnNjb2xvciksZS5zcGFuLmNsYXNzTmFtZT0ic2VsZWN0ZWRUcmVlUm93IixlLnNwYW4ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTmFtZT0ic2VsZWN0ZWRUcmVlUm93RnVsbCIsZS5pX3NlbD0hMCx0aGlzLl9zZWxlY3RlZFt0aGlzLl9zZWxlY3RlZC5sZW5ndGhdPWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldEluZGV4QnlJZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO3JldHVybiB0P3RoaXMuX2dldEluZGV4KHQpOm51bGx9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9nZXRJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5wYXJlbnRPYmplY3QsaT0wO2k8dC5jaGlsZHNDb3VudDtpKyspaWYodC5jaGlsZE5vZGVzW2ldPT1lKXJldHVybiBpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fdW5zZWxlY3RJdGVtPWZ1bmN0aW9uKGUpe2lmKGUmJmUuaV9zZWwpe2Uuc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsZS5zcGFuLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc05hbWU9IiIsZS5hY29sb3ImJihlLnNwYW4uc3R5bGUuY29sb3I9ZS5hY29sb3IpLGUuaV9zZWw9ITE7Zm9yKHZhciB0PTA7dDx0aGlzLl9zZWxlY3RlZC5sZW5ndGg7dCsrKWlmKCF0aGlzLl9zZWxlY3RlZFt0XS5pX3NlbCl7dGhpcy5fc2VsZWN0ZWQuc3BsaWNlKHQsMSk7YnJlYWt9fX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX3Vuc2VsZWN0SXRlbXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX3NlbGVjdGVkLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuX3NlbGVjdGVkW2VdO3Quc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsdC5zcGFuLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc05hbWU9IiIsdC5hY29sb3ImJih0LnNwYW4uc3R5bGUuY29sb3I9dC5hY29sb3IpLHQuaV9zZWw9ITF9dGhpcy5fc2VsZWN0ZWQ9bmV3IEFycmF5fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5vblJvd1NlbGVjdD1mdW5jdGlvbihlLHQsaSl7ZT1lfHx3aW5kb3cuZXZlbnQ7dmFyIG49dGhpcy5wYXJlbnRPYmplY3Q7dCYmKG49dC5wYXJlbnRPYmplY3QpO3ZhciBvPW4udHJlZU5vZCxyPW8uZ2V0U2VsZWN0ZWRJdGVtSWQoKTtlJiZlLnNraXBVblNlbHx8by5fc2VsZWN0SXRlbShuLGUpLGl8fChuLmFjdGlvbkhhbmRsZXI/bi5hY3Rpb25IYW5kbGVyKG4uaWQscik6by5jYWxsRXZlbnQoIm9uQ2xpY2siLFtuLmlkLHJdKSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLl9jcmVhdGVJdGVtPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO24uY2VsbFNwYWNpbmc9MCxuLmNlbGxQYWRkaW5nPTAsbi5ib3JkZXI9MCx0aGlzLmhmTW9kZSYmKG4uc3R5bGUudGFibGVMYXlvdXQ9ImZpeGVkIiksbi5zdHlsZS5tYXJnaW49MCxuLnN0eWxlLnBhZGRpbmc9MDt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7aWYobC5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZUltYWdlIix0aGlzLl90eHRpbWcpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuYXBwZW5kQ2hpbGQocykscy5jbGFzc05hbWU9ImRoeF90cmVlX3RleHRTaWduIn1lbHNle3ZhciBzPXRoaXMuX2dldEltZyh0LmlkKTtzLmJvcmRlcj0iMCIsIklNRyI9PXMudGFnTmFtZSYmKHMuYWxpZ249ImFic21pZGRsZSIpLGwuYXBwZW5kQ2hpbGQocykscy5zdHlsZS5wYWRkaW5nPTAscy5zdHlsZS5tYXJnaW49MCxzLnN0eWxlLndpZHRoPXRoaXMuZGVmX2xpbmVfaW1nX3h9dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxkPXRoaXMuX2dldEltZyh0aGlzLmNCUk9mP3RoaXMucm9vdElkOnQuaWQpO2QuY2hlY2tlZD0wLHRoaXMuX3NldFNyYyhkLHRoaXMuaW1QYXRoK3RoaXMuY2hlY2tBcnJheVswXSksZC5zdHlsZS53aWR0aD0iMThweCIsZC5zdHlsZS5oZWlnaHQ9IjE4cHgiLGV8fChhLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxhLmFwcGVuZENoaWxkKGQpLHRoaXMuY0JST2Z8fCJJTUciIT1kLnRhZ05hbWV8fChkLmFsaWduPSJhYnNtaWRkbGUiKSxkLm9uY2xpY2s9dGhpcy5vbkNoZWNrQm94Q2xpY2ssZC50cmVlTm9kPXRoaXMsZC5wYXJlbnRPYmplY3Q9dCx3aW5kb3cuX0tIVE1McnY/YS53aWR0aD0iMTZweCI6YS53aWR0aD0iMjBweCI7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtoLmNsYXNzTmFtZT0ic3RhbmRhcnRUcmVlSW1hZ2UiO3ZhciBjPXRoaXMuX2dldEltZyh0aGlzLnRpbWdlbj90LmlkOnRoaXMucm9vdElkKTtjLm9ubW91c2Vkb3duPXRoaXMuX3ByZXZlbnROc0RyYWcsYy5vbmRyYWdzdGFydD10aGlzLl9wcmV2ZW50TnNEcmFnLGMuYm9yZGVyPSIwIix0aGlzLl9haW1ncyYmKGMucGFyZW50T2JqZWN0PXQsCiJJTUciPT1jLnRhZ05hbWUmJihjLmFsaWduPSJhYnNtaWRkbGUiKSxjLm9uY2xpY2s9dGhpcy5vblJvd1NlbGVjdCksaXx8dGhpcy5fc2V0U3JjKGMsdGhpcy5pY29uVVJMK3RoaXMuaW1hZ2VBcnJheVswXSksaC5hcHBlbmRDaGlsZChjKSxjLnN0eWxlLnBhZGRpbmc9MCxjLnN0eWxlLm1hcmdpbj0wLHRoaXMudGltZ2VuPyhoLnN0eWxlLndpZHRoPWMuc3R5bGUud2lkdGg9dGhpcy5kZWZfaW1nX3gsYy5zdHlsZS5oZWlnaHQ9dGhpcy5kZWZfaW1nX3kpOihjLnN0eWxlLndpZHRoPSIwcHgiLGMuc3R5bGUuaGVpZ2h0PSIwcHgiLChfaXNPcGVyYXx8d2luZG93Ll9LSFRNTHJ2KSYmKGguc3R5bGUuZGlzcGxheT0ibm9uZSIpKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3JldHVybiB1LmNsYXNzTmFtZT0iZGh4VGV4dENlbGwgc3RhbmRhcnRUcmVlUm93Iix0LnNwYW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpLHQuc3Bhbi5jbGFzc05hbWU9InN0YW5kYXJ0VHJlZVJvdyIsdGhpcy5tbGl0ZW1zPyh0LnNwYW4uc3R5bGUud2lkdGg9dGhpcy5tbGl0ZW1zLHQuc3Bhbi5zdHlsZS5kaXNwbGF5PSJibG9jayIpOnUubm9XcmFwPSEwLGRoeDQuaXNJRTg/dS5zdHlsZS53aWR0aD0iOTk5OTlweCI6d2luZG93Ll9LSFRNTHJ2fHwodS5zdHlsZS53aWR0aD0iMTAwJSIpLHQuc3Bhbi5pbm5lckhUTUw9dC5sYWJlbCx1LmFwcGVuZENoaWxkKHQuc3BhbiksdS5wYXJlbnRPYmplY3Q9dCxsLnBhcmVudE9iamVjdD10LHUub25jbGljaz10aGlzLm9uUm93U2VsZWN0LGwub25jbGljaz10aGlzLm9uUm93Q2xpY2ssdS5vbmRibGNsaWNrPXRoaXMub25Sb3dDbGljazIsdGhpcy5ldHRpcCYmKHIudGl0bGU9dC5sYWJlbCksdGhpcy5kcmFnQW5kRHJvcE9mZiYmKHRoaXMuX2FpbWdzJiYodGhpcy5kcmFnZ2VyLmFkZERyYWdnYWJsZUl0ZW0oaCx0aGlzKSxoLnBhcmVudE9iamVjdD10KSx0aGlzLmRyYWdnZXIuYWRkRHJhZ2dhYmxlSXRlbSh1LHRoaXMpKSx0LnNwYW4uc3R5bGUucGFkZGluZ0xlZnQ9IjVweCIsdC5zcGFuLnN0eWxlLnBhZGRpbmdSaWdodD0iNXB4Iix1LnN0eWxlLnZlcnRpY2FsQWxpZ249IiIsdS5zdHlsZS5mb250U2l6ZT0iMTBwdCIsdS5zdHlsZS5jdXJzb3I9dGhpcy5zdHlsZV9wb2ludGVyLHIuYXBwZW5kQ2hpbGQobCksci5hcHBlbmRDaGlsZChhKSxyLmFwcGVuZENoaWxkKGgpLHIuYXBwZW5kQ2hpbGQodSksby5hcHBlbmRDaGlsZChyKSxuLmFwcGVuZENoaWxkKG8pLCh0aGlzLmVobHR8fHRoaXMuY2hlY2tFdmVudCgib25Nb3VzZUluIil8fHRoaXMuY2hlY2tFdmVudCgib25Nb3VzZU91dCIpKSYmKHIub25tb3VzZW1vdmU9dGhpcy5faXRlbU1vdXNlSW4scltfaXNJRT8ib25tb3VzZWxlYXZlIjoib25tb3VzZW91dCJdPXRoaXMuX2l0ZW1Nb3VzZU91dCksbn0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25SaWdodENsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvblJpZ2h0Q2xpY2siLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbkNsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbkNsaWNrIixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25TZWxlY3RTdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvblNlbGVjdCIsZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldFhNTEF1dG9Mb2FkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuWE1Mc291cmNlPWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uQ2hlY2tIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uQ2hlY2siLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbk9wZW5IYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uT3BlblN0YXJ0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25PcGVuU3RhcnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuYXR0YWNoRXZlbnQoIm9uT3BlblN0YXJ0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0T25PcGVuRW5kSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbk9wZW5FbmQiLGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRPbkRibENsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLmF0dGFjaEV2ZW50KCJvbkRibENsaWNrIixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub3BlbkFsbEl0ZW1zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7cmV0dXJuIHQ/dm9pZCB0aGlzLl94b3BlbkFsbCh0KTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5nZXRPcGVuU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlKTtyZXR1cm4gdD90aGlzLl9nZXRPcGVuU3RhdGUodCk6IiJ9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmNsb3NlQWxsSXRlbXM9ZnVuY3Rpb24oZSl7ZT09PXdpbmRvdy51bmRlZmluZWQmJihlPXRoaXMucm9vdElkKTt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO3JldHVybiB0Pyh0aGlzLl94Y2xvc2VBbGwodCksdGhpcy5hbGxUcmVlLmNoaWxkTm9kZXNbMF0uYm9yZGVyPSIxIix2b2lkKHRoaXMuYWxsVHJlZS5jaGlsZE5vZGVzWzBdLmJvcmRlcj0iMCIpKTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRVc2VyRGF0YT1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlLDAsITApO24mJigiaGludCI9PXQmJihuLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS50aXRsZT1pKSwidW5kZWZpbmVkIj09dHlwZW9mIG4udXNlckRhdGFbInRfIit0XSYmKG4uX3VzZXJkYXRhbGlzdD9uLl91c2VyZGF0YWxpc3QrPSIsIit0Om4uX3VzZXJkYXRhbGlzdD10KSxuLnVzZXJEYXRhWyJ0XyIrdF09aSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLmdldFVzZXJEYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlLDAsITApO2lmKGkpcmV0dXJuIGkudXNlckRhdGFbInRfIit0XX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZ2V0SXRlbUNvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7aWYoIXQpcmV0dXJuIDA7dmFyIGk9bmV3IE9iamVjdDtyZXR1cm4gdC5hY29sb3ImJihpLmFjb2xvcj10LmFjb2xvciksdC5zY29sb3ImJihpLnNjb2xvcj10LnNjb2xvciksaX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuc2V0SXRlbUNvbG9yPWZ1bmN0aW9uKGUsdCxpKXtpZihlJiZlLnNwYW4pdmFyIG49ZTtlbHNlIHZhciBuPXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7cmV0dXJuIG4/KG4uaV9zZWw/KGl8fHQpJiYobi5zcGFuLnN0eWxlLmNvbG9yPWl8fHQpOnQmJihuLnNwYW4uc3R5bGUuY29sb3I9dCksaSYmKG4uc2NvbG9yPWkpLHQmJihuLmFjb2xvcj10KSx2b2lkIDApOjB9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uTW91c2VJbkhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5laGx0PSEwLHRoaXMuYXR0YWNoRXZlbnQoIm9uTW91c2VJbiIsZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnNldE9uTW91c2VPdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuZWhsdD0hMCx0aGlzLmF0dGFjaEV2ZW50KCJvbk1vdXNlT3V0IixlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlVHJlZUxpbmVzPWZ1bmN0aW9uKGUpe3RoaXMudHJlZUxpbmVzT249ZGh4NC5zMmIoZSl9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLm9wZW5JdGVtPWZ1bmN0aW9uKGUpe3RoaXMuc2tpcExvY2s9ITA7dmFyIHQ9dGhpcy5fZ2xvYmFsSWRTdG9yYWdlRmluZChlKTtyZXR1cm4gdD90aGlzLl9vcGVuSXRlbSh0KTowfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fb3Blbkl0ZW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0T3BlblN0YXRlKGUpO2lmKDA+dHx8dGhpcy5YTUxzb3VyY2UmJiFlLlhNTGxvYWQpe2lmKCF0aGlzLmNhbGxFdmVudCgib25PcGVuU3RhcnQiLFtlLmlkLHRdKSlyZXR1cm4gMDt0aGlzLl9IaWRlU2hvdyhlLDIpLHRoaXMuY2hlY2tFdmVudCgib25PcGVuRW5kIikmJih0aGlzLm9uWExFPT10aGlzLl9lcG5GSGUmJnRoaXMuX2VwbkZIZSh0aGlzLGUuaWQsITApLHRoaXMueG1sc3RhdGUmJnRoaXMuWE1Mc291cmNlPyh0aGlzLl9vaWVfb25YTEUucHVzaCh0aGlzLm9uWExFKSx0aGlzLm9uWExFPXRoaXMuX2VwbkZIZSk6dGhpcy5jYWxsRXZlbnQoIm9uT3BlbkVuZCIsW2UuaWQsdGhpcy5fZ2V0T3BlblN0YXRlKGUpXSkpfWVsc2UgdGhpcy5fc3JuZCYmdGhpcy5fSGlkZVNob3coZSwyKTtlLnBhcmVudE9iamVjdCYmIXRoaXMuX3NraXBfb3Blbl9wYXJlbnQmJnRoaXMuX29wZW5JdGVtKGUucGFyZW50T2JqZWN0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dldEFsbEZhdEl0ZW1zPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixpPTA7aTxlLmNoaWxkc0NvdW50O2krKylpZihlLmNoaWxkTm9kZXNbaV0udW5QYXJzZWR8fGUuY2hpbGROb2Rlc1tpXS5jaGlsZHNDb3VudD4wKXtpZih0P3QrPXRoaXMuZGxtdHIrZS5jaGlsZE5vZGVzW2ldLmlkOnQ9IiIrZS5jaGlsZE5vZGVzW2ldLmlkLGUuY2hpbGROb2Rlc1tpXS51blBhcnNlZCl2YXIgbj10aGlzLl9nZXRBbGxGYXRJdGVtc1hNTChlLmNoaWxkTm9kZXNbaV0udW5QYXJzZWQsMSk7ZWxzZSB2YXIgbj10aGlzLl9nZXRBbGxGYXRJdGVtcyhlLmNoaWxkTm9kZXNbaV0pO24mJih0Kz10aGlzLmRsbXRyK24pfXJldHVybiB0fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZWxlY3RJdGVtPWZ1bmN0aW9uKGUsdCxpKXt0PWRoeDQuczJiKHQpO3ZhciBuPXRoaXMuX2dsb2JhbElkU3RvcmFnZUZpbmQoZSk7aWYoIW58fCFuLnBhcmVudE9iamVjdClyZXR1cm4gMDt0aGlzLlhNTGxvYWRpbmdXYXJuaW5nP24ucGFyZW50T2JqZWN0Lm9wZW5NZT0xOnRoaXMuX29wZW5JdGVtKG4ucGFyZW50T2JqZWN0KTt2YXIgbz1udWxsO2kmJihvPW5ldyBPYmplY3Qsby5jdHJsS2V5PSEwLG4uaV9zZWwmJihvLnNraXBVblNlbD0hMCkpLHQ/dGhpcy5vblJvd1NlbGVjdChvLG4uaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbM10sITEpOnRoaXMub25Sb3dTZWxlY3QobyxuLmh0bWxOb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzNdLCEwKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2NvbXByZXNzQ2hpbGRMaXN0PWZ1bmN0aW9uKGUsdCl7ZS0tO2Zvcih2YXIgaT0wO2U+aTtpKyspMD09dFtpXSYmKHRbaV09dFtpKzFdLHRbaSsxXT0wKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2RlbGV0ZU5vZGU9ZnVuY3Rpb24oZSx0LGkpe2lmKCF0fHwhdC5wYXJlbnRPYmplY3QpcmV0dXJuIDA7dmFyIG49MCxvPTA7dC50ci5uZXh0U2libGluZyYmKG49dC50ci5uZXh0U2libGluZy5ub2RlbSksdC50ci5wcmV2aW91c1NpYmxpbmcmJihvPXQudHIucHJldmlvdXNTaWJsaW5nLm5vZGVtKTtmb3IodmFyIHI9dC5wYXJlbnRPYmplY3QsbD1yLmNoaWxkc0NvdW50LHM9ci5jaGlsZE5vZGVzLGE9MDtsPmE7YSsrKWlmKHNbYV0uaWQ9PWUpe2l8fHIuaHRtbE5vZGUuY2hpbGROb2Rlc1swXS5yZW1vdmVDaGlsZChzW2FdLnRyKSxzW2FdPTA7YnJlYWt9dGhpcy5fY29tcHJlc3NDaGlsZExpc3QobCxzKSxpfHxyLmNoaWxkc0NvdW50LS0sbiYmKHRoaXMuX2NvcnJlY3RQbHVzKG4pLHRoaXMuX2NvcnJlY3RMaW5lKG4pKSxvJiYodGhpcy5fY29ycmVjdFBsdXMobyksdGhpcy5fY29ycmVjdExpbmUobykpLHRoaXMudHNjaGVjayYmdGhpcy5fY29ycmVjdENoZWNrU3RhdGVzKHIpLGl8fHRoaXMuX2dsb2JhbElkU3RvcmFnZVJlY1N1Yih0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZGVsZXRlQ2hpbGRJdGVtcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGUpO2lmKHQpZm9yKHZhciBpPXQuY2hpbGRzQ291bnQsbj0wO2k+bjtuKyspdGhpcy5fZGVsZXRlTm9kZSh0LmNoaWxkTm9kZXNbMF0uaWQsdC5jaGlsZE5vZGVzWzBdKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2dsb2JhbElkU3RvcmFnZVJlY1N1Yj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuY2hpbGRzQ291bnQ7dCsrKXRoaXMuX2dsb2JhbElkU3RvcmFnZVJlY1N1YihlLmNoaWxkTm9kZXNbdF0pLHRoaXMuX2dsb2JhbElkU3RvcmFnZVN1YihlLmNoaWxkTm9kZXNbdF0uaWQpO3RoaXMuX2dsb2JhbElkU3RvcmFnZVN1YihlLmlkKTt2YXIgaT1lO2kuc3Bhbj1udWxsLGkudHIubm9kZW09bnVsbCxpLnRyPW51bGwsaS5odG1sTm9kZT1udWxsfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5fYXV0b1Njcm9sbD1mdW5jdGlvbihlLHQsaSl7dGhpcy5hdXRvU2Nyb2xsJiYoZSYmKHQ9ZGh4NC5hYnNUb3AoZSksaT1kaHg0LmFic1RvcCh0aGlzLmFsbFRyZWUpLXRoaXMuYWxsVHJlZS5zY3JvbGxUb3ApLHQtaS1wYXJzZUludCh0aGlzLmFsbFRyZWUuc2Nyb2xsVG9wKT5wYXJzZUludCh0aGlzLmFsbFRyZWUub2Zmc2V0SGVpZ2h0KS01MCYmKHRoaXMuYWxsVHJlZS5zY3JvbGxUb3A9cGFyc2VJbnQodGhpcy5hbGxUcmVlLnNjcm9sbFRvcCkrMjApLHQtaTxwYXJzZUludCh0aGlzLmFsbFRyZWUuc2Nyb2xsVG9wKSszMCYmKHRoaXMuYWxsVHJlZS5zY3JvbGxUb3A9cGFyc2VJbnQodGhpcy5hbGxUcmVlLnNjcm9sbFRvcCktMjApKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlVGV4dFNpZ25zPWZ1bmN0aW9uKGUpe3RoaXMuX3R4dGltZz1kaHg0LnMyYihlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUucHJldmVudElFQ2FjaGluZz1mdW5jdGlvbihlKXtkaHg0LmFqYXguY2FjaGU9IWV9LGRodG1sWFRyZWVPYmplY3QucHJvdG90eXBlLnByZXZlbnRJRUNhc2hpbmc9ZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUucHJldmVudElFQ2FjaGluZyxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRJY29uU2l6ZT1mdW5jdGlvbihlLHQsaSl7aWYoaSl7aWYoaSYmaS5zcGFuKXZhciBuPWk7ZWxzZSB2YXIgbj10aGlzLl9nbG9iYWxJZFN0b3JhZ2VGaW5kKGkpO2lmKCFuKXJldHVybiAwO3ZhciBvPW4uc3Bhbi5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5jaGlsZE5vZGVzWzBdO2UmJihvLnN0eWxlLndpZHRoPWUrInB4Iix3aW5kb3cuX0tIVE1McnYmJihvLnBhcmVudE5vZGUuc3R5bGUud2lkdGg9ZSsicHgiKSksdCYmKG8uc3R5bGUuaGVpZ2h0PXQrInB4Iix3aW5kb3cuX0tIVE1McnYmJihvLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0PXQrInB4IikpfWVsc2UgdGhpcy5kZWZfaW1nX3g9ZSsicHgiLHRoaXMuZGVmX2ltZ195PXQrInB4In0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuZW5hYmxlU2luZ2xlUmFkaW9Nb2RlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZyYnRycz1kaHg0LnMyYihlKX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUub3Blbk9uSXRlbUFkZGVkPWZ1bmN0aW9uKGUpe3RoaXMuX2hBZEk9IWRoeDQuczJiKGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5vcGVuT25JdGVtQWRkaW5nPWZ1bmN0aW9uKGUpe3RoaXMuX2hBZEk9IWRoeDQuczJiKGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5nZXRBbGxJdGVtc1dpdGhLaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEFsbEZhdEl0ZW1zKHRoaXMuaHRtbE5vZGUpfSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5zZXRTa2luPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50T2JqZWN0LmNsYXNzTmFtZS5yZXBsYWNlKC9kaHh0cmVlX1teIF0qL2dpLCIiKTt0aGlzLnBhcmVudE9iamVjdC5jbGFzc05hbWU9dCsiIGRoeHRyZWVfIitlLCJkaHhfdGVycmFjZSIhPWUmJiJkaHhfd2ViIiE9ZSYmIm1hdGVyaWFsIiE9ZXx8dGhpcy5lbmFibGVUcmVlTGluZXMoITEpLCJtYXRlcmlhbCI9PWUmJnRoaXMuc2V0SWNvblNpemUoIjI1IiwiMjUiKX0sanNvblBvaW50ZXIucHJvdG90eXBlPXt0ZXh0OmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtdLG49MDtuPGUubGVuZ3RoO24rKylpLnB1c2goInsiK3QoZVtuXSkrIn0iKTtyZXR1cm4gaS5qb2luKCIsIil9LHQ9ZnVuY3Rpb24oaSl7dmFyIG49W107Zm9yKHZhciBvIGluIGkpIm9iamVjdCI9PXR5cGVvZiBpW29dP28ubGVuZ3RoP24ucHVzaCgnIicrbysnIjpbJytlKGlbb10pKyJdIik6bi5wdXNoKCciJytvKyciOnsnK3QoaVtvXSkrIn0iKTpuLnB1c2goJyInK28rJyI6IicraVtvXSsnIicpO3JldHVybiBuLmpvaW4oIiwiKX07cmV0dXJuInsiK3QodGhpcy5kKSsifSJ9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kW2VdfSxleGlzdHM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZH0sY29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmQuY29udGVudH0sZWFjaDpmdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcy5kW2VdLG89bmV3IGpzb25Qb2ludGVyO2lmKG4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspby5kPW5bcl0sdC5hcHBseShpLFtvLHJdKX0sZ2V0X2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR9LHN1YjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGpzb25Qb2ludGVyKHRoaXMuZFtlXSx0aGlzLmQpfSxzdWJfZXhpc3RzOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5kW2VdfSxlYWNoX3g6ZnVuY3Rpb24oZSx0LGksbixvKXt2YXIgcj10aGlzLmRbZV0sbD1uZXcganNvblBvaW50ZXIoMCx0aGlzLmQpO2lmKHIpZm9yKG89b3x8MDtvPHIubGVuZ3RoO28rKylpZihyW29dW3RdJiYobC5kPXJbb10sLTE9PWkuYXBwbHkobixbbCxvXSkpKXJldHVybn0sdXA6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBqc29uUG9pbnRlcih0aGlzLmRwLHRoaXMuZCl9LHNldDpmdW5jdGlvbihlLHQpe3RoaXMuZFtlXT10fSxjbG9uZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGpzb25Qb2ludGVyKHRoaXMuZCx0aGlzLmRwKX0sdGhyb3VnaDpmdW5jdGlvbihlLHQsaSxuLG8pe3ZhciByPXRoaXMuZFtlXTtpZihyLmxlbmd0aClmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrKyl7aWYobnVsbCE9cltsXVt0XSYmIiIhPXJbbF1bdF0mJighaXx8cltsXVt0XT09aSkpe3ZhciBzPW5ldyBqc29uUG9pbnRlcihyW2xdLHRoaXMuZCk7bi5hcHBseShvLFtzLGxdKX12YXIgYT10aGlzLmQ7dGhpcy5kPXJbbF0sdGhpcy5zdWJfZXhpc3RzKGUpJiZ0aGlzLnRocm91Z2goZSx0LGksbixvKSx0aGlzLmQ9YX19fSxkaHRtbFhUcmVlT2JqZWN0LnByb3RvdHlwZS5sb2FkSlNPTk9iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiB3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuaW5mbyYmd2luZG93LmNvbnNvbGUuaW5mbygibG9hZEpTT05PYmplY3Qgd2FzIGRlcHJlY2F0ZWQiLCJodHRwOi8vZG9jcy5kaHRtbHguY29tL21pZ3JhdGlvbl9faW5kZXguaHRtbCNtaWdyYXRpb25mcm9tNDN0bzQ0IiksdGhpcy5fbG9hZEpTT05PYmplY3QoZSx0KX0sZGh0bWxYVHJlZU9iamVjdC5wcm90b3R5cGUuX2xvYWRKU09OT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5wYXJzQ291bnR8fHRoaXMuY2FsbEV2ZW50KCJvblhMUyIsW3RoaXMsbnVsbF0pLHRoaXMueG1sc3RhdGU9MTt2YXIgaT1uZXcganNvblBvaW50ZXIoZSk7dGhpcy5fcGFyc2UoaSksdGhpcy5fcD1pLHQmJnQoKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGRoeF9pbml0X3RyZWVzLCExKTp3aW5kb3cuYXR0YWNoRXZlbnQmJndpbmRvdy5hdHRhY2hFdmVudCgib25sb2FkIixkaHhfaW5pdF90cmVlcyk7dmFyIHN0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7c3R5bGUuaW5uZXJIVE1MPSdAa2V5ZnJhbWVzIGRoeF9sb2FkZXJfcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBkaHhfbG9hZGVyX2Rhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO301MCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1cHg7fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNHB4O319LmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxle3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHg7YmFja2dyb3VuZC1jb2xvcjojZjVmNWY1O292ZXJmbG93OmhpZGRlbjtib3JkZXI6bm9uZTtmb250LXNpemU6MTRweDtmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2NvbG9yOiM0MDQwNDA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTstby11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX05vcm1hbCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9EaXNhYmxlZCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpsZWZ0O2ZvbnQ6aW5oZXJpdDtoZWlnaHQ6MjhweDtsaW5lLWhlaWdodDoyOHB4O21hcmdpbjowO3BhZGRpbmc6MCA4cHg7Y3Vyc29yOmRlZmF1bHQ7d2hpdGUtc3BhY2U6bm93cmFwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9Ob3JtYWwgZGl2LnRvcF9sZXZlbF90ZXh0LC5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX0Rpc2FibGVkIGRpdi50b3BfbGV2ZWxfdGV4dCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZCBkaXYudG9wX2xldmVsX3RleHR7ZmxvYXQ6bGVmdDttYXJnaW46MCAzcHg7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX05vcm1hbCBpLC5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9Ub3BMZXZlbF9JdGVtX0Rpc2FibGVkIGksLmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxlIGRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1RvcExldmVsX0l0ZW1fU2VsZWN0ZWQgaXtoZWlnaHQ6aW5oZXJpdDtsaW5lLWhlaWdodDppbmhlcml0O2Zsb2F0OmxlZnQ7Y29sb3I6aW5oZXJpdDttYXJnaW46MCA0cHg7Zm9udC1zaXplOjEuMmVtO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9EaXNhYmxlZHtjb2xvcjojYTZhNmE2O30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfVG9wTGV2ZWxfSXRlbV9TZWxlY3RlZHtiYWNrZ3JvdW5kLWNvbG9yOiNlYmViZWI7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBpbWcuZGh0bWx4TWVudV9Ub3BMZXZlbF9JdGVtX0ljb257ZmxvYXQ6bGVmdDttYXJnaW46NXB4IDNweCAwIDNweDt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O2N1cnNvcjpkZWZhdWx0O30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LnRvcF9zZXB7cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bGVmdDtoZWlnaHQ6MjJweDt3aWR0aDowO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjZGZkZmRmO21hcmdpbjozcHggOHB4IDAgOHB4O2ZvbnQtc2l6ZToxcHg7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpkZWZhdWx0Oy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9yaWdodCwuZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9sZWZ0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHg7Y3Vyc29yOmRlZmF1bHQ7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6Um9ib3RvLEFyaWFsLEhlbHZldGljYTtjb2xvcjojNDA0MDQwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUgZGl2LmRodG1seE1lbnVfVG9wTGV2ZWxfVGV4dF9yaWdodHtyaWdodDo2cHg7fS5kaHRtbHhNZW51X21hdGVyaWFsX01pZGRsZSBkaXYuZGh0bWx4TWVudV9Ub3BMZXZlbF9UZXh0X2xlZnR7bGVmdDo2cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29ue3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6NXB4IDA7YmFja2dyb3VuZC1jb2xvcjojZmFmYWZhO292ZXJmbG93OmhpZGRlbjtjdXJzb3I6ZGVmYXVsdDtsaW5lLWhlaWdodDpub3JtYWw7b3ZlcmZsb3cteTphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApO2JveC1zaGFkb3c6MCAxcHggM3B4IHJnYmEoMCwwLDAsMC4xMiksMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4yNCk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTstby11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRke3BhZGRpbmc6MDttYXJnaW46MDtsaW5lLWhlaWdodDpub3JtYWw7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OlJvYm90byxBcmlhbCxIZWx2ZXRpY2E7Y29sb3I6IzQwNDA0MDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbnt3aWR0aDoxOHB4O3RleHQtYWxpZ246Y2VudGVyO31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGltZy5zdWJfaWNvbnttYXJnaW46NHB4IDZweCAwIDZweDt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGl7d2lkdGg6MThweDtoZWlnaHQ6MzBweDtsaW5lLWhlaWdodDoyOXB4O21hcmdpbjowIDZweDtmb250LXNpemU6MS4yZW07dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6aW5oZXJpdDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb257bWFyZ2luOjAgNnB4O3dpZHRoOjE4cHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgNXB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiaW1ncy9kaHhtZW51X21hdGVyaWFsL2RoeG1lbnVfY2hyZC5wbmciKTt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb24uY2hieF8we2JhY2tncm91bmQtcG9zaXRpb246MCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX2ljb24gZGl2LnN1Yl9pY29uLmNoYnhfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOHB4IDVweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdGQuc3ViX2l0ZW1faWNvbiBkaXYuc3ViX2ljb24ucmRidF8we2JhY2tncm91bmQtcG9zaXRpb246LTcycHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9pY29uIGRpdi5zdWJfaWNvbi5yZGJ0XzF7YmFja2dyb3VuZC1wb3NpdGlvbjotOTBweCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX3RleHQgZGl2LnN1Yl9pdGVtX3RleHR7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtwYWRkaW5nOjAgMjJweCAwIDFweDtvdmVyZmxvdzpoaWRkZW47fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRkLnN1Yl9pdGVtX2hre3BhZGRpbmc6MCAxMHB4IDAgOHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZC5zdWJfaXRlbV9oayBkaXYuc3ViX2l0ZW1faGt7Y29sb3I6IzhkOGQ4ZDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOnJpZ2h0O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZCBkaXYuY29tcGxleF9hcnJvd3tmbG9hdDpyaWdodDt3aWR0aDoxMHB4O21hcmdpbjowIDFweCAwIDExcHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiaW1ncy9kaHhtZW51X21hdGVyaWFsL2RoeG1lbnVfc3ViYXIucG5nIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246MCAxMHB4O292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6MXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ZCBkaXYuY29tcGxleF9hcnJvd19sb2FkaW5ne3dpZHRoOjE2cHg7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6MzBweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6dXJsKCJpbWdzL2RoeG1lbnVfbWF0ZXJpYWwvZGh4bWVudV9sb2FkZXIuZ2lmIik7ZmxvYXQ6cmlnaHQ7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX3NlbGVjdGVkIHRke2JhY2tncm91bmQtY29sb3I6I2ViZWJlYjt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdHIuc3ViX2l0ZW1fc2VsZWN0ZWQgdGQgZGl2LmNvbXBsZXhfYXJyb3d7YmFja2dyb3VuZC1wb3NpdGlvbjotMTBweCAxMHB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQuc3ViX2l0ZW1faGsgZGl2LnN1Yl9pdGVtX2hre2NvbG9yOiNjMGMwYzA7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuc3ViX2l0ZW1fdGV4dCxkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgdGQuc3ViX2l0ZW1faWNvbiBpe2NvbG9yOiNhNmE2YTY7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuY29tcGxleF9hcnJvd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMHB4IDEwcHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBkaXYuc3ViX2ljb24uY2hieF8we2JhY2tncm91bmQtcG9zaXRpb246LTM2cHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgZGl2LnN1Yl9pY29uLmNoYnhfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi01NHB4IDVweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gdHIuc3ViX2l0ZW1fZGlzIHRkIGRpdi5zdWJfaWNvbi5yZGJ0XzB7YmFja2dyb3VuZC1wb3NpdGlvbjotMTA4cHggNXB4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfaXRlbV9kaXMgdGQgZGl2LnN1Yl9pY29uLnJkYnRfMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjZweCA1cHg7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9pdGVtX2RpcyB0ZCBpe2NvbG9yOiNhNmE2YTY7fWRpdi5kaHRtbHhNZW51X21hdGVyaWFsX1N1YkxldmVsQXJlYV9Qb2x5Z29uIHRyLnN1Yl9zZXAgdGR7cGFkZGluZzo1cHggM3B4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiB0ci5zdWJfc2VwIHRkIGRpdi5zdWJfc2Vwe3Bvc2l0aW9uOnJlbGF0aXZlO2ZvbnQtc2l6ZToxcHg7bGluZS1oZWlnaHQ6MXB4O2hlaWdodDowO3dpZHRoOjEwMCU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RmZGZkZjt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXAsZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXBfT3ZlcixkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dVcF9EaXNhYmxlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6MXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNkZmRmZGY7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X3VwLnBuZyIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciAycHg7cGFkZGluZzo4cHggMDttYXJnaW4tYm90dG9tOjNweDt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93VXBfRGlzYWJsZWR7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X3VwX2Rpcy5wbmciKTt9ZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93RG93bixkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dEb3duX092ZXIsZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX1BvbHlnb24gZGl2LmRodG1seE1lbnVfbWF0ZXJpYWxfU3ViTGV2ZWxBcmVhX0Fycm93RG93bl9EaXNhYmxlZHtwb3NpdGlvbjpyZWxhdGl2ZTtmb250LXNpemU6MXB4O2JvcmRlci10b3A6MXB4IHNvbGlkICNkZmRmZGY7YmFja2dyb3VuZC1pbWFnZTp1cmwoImltZ3MvZGh4bWVudV9tYXRlcmlhbC9kaHhtZW51X2Fycm93X2Rvd24ucG5nIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIDZweDtwYWRkaW5nOjhweCAwO21hcmdpbi10b3A6M3B4O31kaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfUG9seWdvbiBkaXYuZGh0bWx4TWVudV9tYXRlcmlhbF9TdWJMZXZlbEFyZWFfQXJyb3dEb3duX0Rpc2FibGVke2JhY2tncm91bmQtaW1hZ2U6dXJsKCJpbWdzL2RoeG1lbnVfbWF0ZXJpYWwvZGh4bWVudV9hcnJvd19kb3duX2Rpcy5wbmciKTt9aWZyYW1lLmRodG1seE1lbnVfSUU2Q292ZXJGaXhfbWF0ZXJpYWx7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDojMDAwO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT0xMDApO30uZGh0bWx4TWVudV9tYXRlcmlhbF9NaWRkbGUuZGlyX2xlZnQgZGl2LmFsaWduX2xlZnR7ZmxvYXQ6bGVmdDt9LmRodG1seE1lbnVfbWF0ZXJpYWxfTWlkZGxlLmRpcl9sZWZ0IGRpdi5hbGlnbl9yaWdodHtmbG9hdDpyaWdodDt9LmRoeG1lbnVfc2tpbl9kZXRlY3R7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotMTAwcHg7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowIHNvbGlkIHdoaXRlO3dpZHRoOjQwcHg7aGVpZ2h0OjEwcHg7b3ZlcmZsb3c6aGlkZGVuO31Aa2V5ZnJhbWVzIGRoeF9sb2FkZXJfcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBkaHhfbG9hZGVyX2Rhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO301MCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1cHg7fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNHB4O319LmRlZmF1bHRUcmVlVGFibGV7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO30uY29udGFpbmVyVGFibGVTdHlsZXtvdmVyZmxvdzphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDowO2ZvbnQtc2l6ZToxMnB4Oy1raHRtbC11c2VyLXNlbGVjdDpub25lO30uY29udGFpbmVyVGFibGVTdHlsZVJUTCBzcGFue2RpcmVjdGlvbjpydGw7dW5pY29kZS1iaWRpOmJpZGktb3ZlcnJpZGU7fS5jb250YWluZXJUYWJsZVN0eWxlUlRMe2RpcmVjdGlvbjpydGw7b3ZlcmZsb3c6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MDtmb250LXNpemU6MTJweDt9LnN0YW5kYXJ0VHJlZVJvd3tmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2ZvbnQtc2l6ZTo7LW1vei11c2VyLXNlbGVjdDpub25lO2xpbmUtaGVpZ2h0OjI0cHg7fS5zZWxlY3RlZFRyZWVSb3d7Zm9udC1mYW1pbHk6Um9ib3RvLEFyaWFsLEhlbHZldGljYTtmb250LXNpemU6Oy1tb3otdXNlci1zZWxlY3Q6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7Y29sb3I6IzM5Yzt9LmRoeHRyZWVfbWF0ZXJpYWwgLnNlbGVjdGVkVHJlZVJvd0Z1bGwgLmRoeFRleHRDZWxse2JhY2tncm91bmQtY29sb3I6I2VlZTtjb2xvcjojMzljO30uZHJhZ0FuZERyb3BSb3d7Y29sb3I6IzM5Yzt9LnN0YW5kYXJ0VHJlZVJvd19sb3J7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtiYWNrZ3JvdW5kLWNvbG9yOjtmb250LWZhbWlseTpSb2JvdG8sQXJpYWwsSGVsdmV0aWNhO2ZvbnQtc2l6ZTo7LW1vei11c2VyLXNlbGVjdDpub25lO30uc3RhbmRhcnRUcmVlSW1hZ2V7aGVpZ2h0OjI0cHg7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlcjowO3BhZGRpbmc6MDttYXJnaW46MDtmb250LXNpemU6MXB4O30uc3RhbmRhcnRUcmVlSW1hZ2UgaW1ne3dpZHRoOjE4cHg7aGVpZ2h0OjI0cHg7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtib3JkZXI6MDtwYWRkaW5nOjA7bWFyZ2luOjA7Zm9udC1zaXplOjFweDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LWtodG1sLXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lOy1vLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt9LmhpZGRlblJvd3t3aWR0aDoxcHg7b3ZlcmZsb3c6aGlkZGVuO30uZHJhZ1NwYW5EaXYsLmRyYWdTcGFuRGl2IHRke2ZvbnQtZmFtaWx5OlJvYm90byxBcmlhbCxIZWx2ZXRpY2E7Zm9udC1zaXplOjtsaW5lLWhlaWdodDo7dmVydGljYWwtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6d2hpdGU7ei1pbmRleDo5OTk7fS5kcmFnU3BhbkRpdiB0ZHtwYWRkaW5nOjVweDt9LmFfZGh4X2hpZGRlbl9pbnB1dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTFweDtsZWZ0Oi0xcHg7d2lkdGg6MXB4O2hlaWdodDoxcHg7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDpub25lO30uYV9kaHhfaGlkZGVuX2lucHV0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMXB4O2xlZnQ6LTFweDt3aWR0aDoxcHg7aGVpZ2h0OjFweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOm5vbmU7fS5zZWxlY3Rpb25CYXJ7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjpibGFjaztwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjJweDt6LWluZGV4OjExO30uaW50cmVlZWRpdFJvd3tmb250LXNpemU6OHB0O2hlaWdodDoxNnB4O2JvcmRlcjoxcHggc29saWQgc2lsdmVyO3BhZGRpbmc6MDttYXJnaW46MDttYXJnaW4tbGVmdDo0cHg7LW1vei11c2VyLXNlbGVjdDp0ZXh0Oy1raHRtbC11c2VyLXNlbGVjdDp0ZXh0O30uZGh4X3RyZWVfdGV4dFNpZ257Zm9udC1zaXplOjhwdDtmb250LWZhbWlseTptb25vc3BhY2U7d2lkdGg6MjFweDtjb2xvcjo7cGFkZGluZzowO21hcmdpbjowO2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO30uZGh4X3RyZWVfb3BhY2l0eXtvcGFjaXR5OjA7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5PTApOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW8tdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO30uZGh4X2JnX2ltZ19maXh7d2lkdGg6MThweDtoZWlnaHQ6MjRweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7YmFja2dyb3VuZC1wb3NpdGlvbi14OmNlbnRlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6Y2VudGVyO30uZGh4dHJlZV9za2luX2RldGVjdHtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi0xMDBweDttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjAgc29saWQgd2hpdGU7d2lkdGg6NDBweDtoZWlnaHQ6MTBweDtvdmVyZmxvdzpoaWRkZW47fScsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7dmFyIGxheWFhaXJfZGVidWdfdmlldz17fTt3aW5kb3cubGF5YWFpcl9kZWJ1Z192aWV3PWxheWFhaXJfZGVidWdfdmlldyxsYXlhYWlyX2RlYnVnX3ZpZXcuaW5pdExheWFBaXJEZWJ1Z1ZpZXc9ZnVuY3Rpb24oZSl7ZS5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCBibGFjayI7dmFyIHQ9TWF0aC5taW4oMjUwLC4zKmUub2Zmc2V0V2lkdGgpLGk9JzxkaXYgY2xhc3M9InRvcC1iYW5uZXIiPlxuPC9kaXY+XG48ZGl2PlxuPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuOyBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjNDQ0OyBwYWRkaW5nOjVweCI+XG48ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbjxidXR0b24gaWQ9Im5vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sIj7lrqHmn6XlhYPntKA8L2J1dHRvbj5cbjxidXR0b24gaWQ9InJlZnJlc2hfY29udHJvbCI+5Yi35pawPC9idXR0b24+XG48L2Rpdj5cbjxkaXYgc3R5bGU9ImZsb2F0OnJpZ2h0Ij5cbjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNob3dfY3VycmVudF9jYWNoZV9jb250cm9sIj7mmL7npLrlvZPliY1jYWNoZemHjee7mDwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2FsbF9jYWNoZV9jb250cm9sIj7mmL7npLrmiYDmnIljYWNoZeWMuuWfnzwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2F0bGFzX2NvbnRyb2wiPuaYvuekuuWkp+WbvuWQiOmbhjwvaW5wdXQ+XG48L2Rpdj5cbjwvZGl2PlxuPGRpdiBjbGFzcz0iaGdyb3VwIj5cbjxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7d2lkdGg6Jyt0KydweDsgYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCBibGFjayIgaWQ9InRyZWVfY29udGFpbmVyIj48L2Rpdj5cbjxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbiI+XG48ZGl2IGlkPSJjb250ZW50X3Rvb2xiYXIiIHN0eWxlPSJ3aWR0aDoxMDAlO21hcmdpbjoxMHB4Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ2aXNpYmlsaXR5X2NvbnRyb2wiPuWPr+ingTwvaW5wdXQ+XG48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzaG93X2JvcmRlcl9jb250cm9sIj7mmL7npLrovrnmoYY8L2lucHV0PlxuPGJ1dHRvbiBpZD0ibG9nX2luZm9fY29udHJvbCI+5omT5Y2w5Yiw5o6n5Yi25Y+wPC9idXR0b24+XG48YnV0dG9uIGlkPSJlbmFibGVkX25vZGVfY2hhaW5fY29udHJvbCI+ZW5hYmxl6ZO+PC9idXR0b24+XG48YnV0dG9uIGlkPSJzaXplX2NoYWluX2NvbnRyb2wiPnNpemXpk748L2J1dHRvbj5cbjwvZGl2PjxkaXYgc3R5bGU9Im92ZXJmbG93OmF1dG8iPjx0YWJsZSBpZD0iY29udGVudF90YWJsZSIgc3R5bGU9ImJvcmRlcjoxcHggc29saWQgI2NjY2NjYztib3JkZXItY29sbGFwc2U6Y29sbGFwc2UiPjwvdGFibGU+XG48L2Rpdj48L2Rpdj5cbjwvZGl2PlxuPC9kaXY+JztlLmlubmVySFRNTD1pLHRoaXMuY29udGFpbmVyPWUsdGhpcy50cmVlPW5ldyBkaHRtbFhUcmVlT2JqZWN0KHRyZWVfY29udGFpbmVyLCIxMDAlIiwiMTAwJSIsMCksbm9kZV9mdW5jdGlvbmFsaXR5X2NvbnRyb2wub25jbGljaz1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGxheWFhaXJfZGVidWdfdmlldy5vbl9pbnNwZWN0X2VsZW1lbnRfY2FsbGJhY2soKSxub2RlX2Z1bmN0aW9uYWxpdHlfY29udHJvbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGRkYiLG5vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sLnN0eWxlLmNvbG9yPSJyZ2IoMTA3LCAxNjMsIDI1NSkifX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFRyZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJlZS5nZXRBbGxJdGVtc1dpdGhLaWRzKCkuc3BsaXQoIiwiKSxpPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXSxyPXRoaXMudHJlZS5nZXRPcGVuU3RhdGUobyk7MT09ciYmaS5wdXNoKG8pfXRoaXMudHJlZS5kZWxldGVDaGlsZEl0ZW1zKDApLHRoaXMudHJlZS5wYXJzZShlLCJqc29uIik7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspdGhpcy50cmVlLm9wZW5JdGVtKGlbbl0pfSxsYXlhYWlyX2RlYnVnX3ZpZXcucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg9ZSsicHgiLHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD10KyJweCI7dmFyIGk9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LXRyZWVfY29udGFpbmVyLm9mZnNldFRvcDt0cmVlX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aSsicHgiLGNvbnRlbnRfdG9vbGJhci5zdHlsZS53aWR0aD1lLXRyZWVfY29udGFpbmVyLm9mZnNldFdpZHRoKyJweCIsY29udGVudF90YWJsZS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodD1pLWNvbnRlbnRfdG9vbGJhci5vZmZzZXRIZWlnaHQtMjErInB4Iixjb250ZW50X3RhYmxlLnN0eWxlLndpZHRoPWUtdHJlZV9jb250YWluZXIub2Zmc2V0V2lkdGgtMTYrInB4In0sbGF5YWFpcl9kZWJ1Z192aWV3LmJvdW5jZVVwSW5zcGVjdEJ1dHRvbj1mdW5jdGlvbigpe25vZGVfZnVuY3Rpb25hbGl0eV9jb250cm9sLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iYnV0dG9uZmFjZSIsbm9kZV9mdW5jdGlvbmFsaXR5X2NvbnRyb2wuc3R5bGUuY29sb3I9ImJsYWNrIn0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZhbHVlSW5wdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZhbHVlQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLnZhbHVlX2NoYW5nZV9jYWxsYmFjaz1lfSxsYXlhYWlyX2RlYnVnX3ZpZXcuYWRkQ29udGVudD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3QuaW5uZXJIVE1MPSc8dGQgc3R5bGU9IndpZHRoOjEwMHB4O2ZvbnQtc2l6ZToxM3B4O2JvcmRlcjoxcHggc29saWQgI0NDQztwYWRkaW5nLWxlZnQ6MTBweCI+JytlLmtleSsnPC90ZD5cbjx0ZCBzdHlsZT0id2lkdGg6MjAwcHg7Ym9yZGVyOjFweCBzb2xpZCAjQ0NDOyI+PGlucHV0IHN0eWxlPSJib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyNXB4O3BhZGRpbmctbGVmdDoxMHB4OyIgdmFsdWU9JytlLnZhbHVlKyI+PC90ZD4iLGNvbnRlbnRfdGFibGUuYXBwZW5kQ2hpbGQodCk7dmFyIGk9dC5sYXN0RWxlbWVudENoaWxkLmxhc3RFbGVtZW50Q2hpbGQ7aS5kYXRhPWUsaS5vbmlucHV0PWZ1bmN0aW9uKGUpe3RoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2smJnRoaXMudmFsdWVfaW5wdXRfY2FsbGJhY2soZS50YXJnZXQuZGF0YSxlLnRhcmdldC52YWx1ZSl9LmJpbmQodGhpcyksaS5vbmNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnZhbHVlX2NoYW5nZV9jYWxsYmFjayYmdGhpcy52YWx1ZV9jaGFuZ2VfY2FsbGJhY2soZS50YXJnZXQuZGF0YSxlLnRhcmdldC52YWx1ZSl9LmJpbmQodGhpcyl9LGxheWFhaXJfZGVidWdfdmlldy5zZXRDb250ZW50cz1mdW5jdGlvbihlKXtjb250ZW50X3RhYmxlLmlubmVySFRNTD0iIjtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTt0aGlzLmFkZENvbnRlbnQoaSl9fSxsYXlhYWlyX2RlYnVnX3ZpZXcuY2hhbmdlVmFsdWVBdD1mdW5jdGlvbihlLHQpe2NvbnRlbnRfdGFibGUuY2hpbGRyZW5bZV0ubGFzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZT10fSxsYXlhYWlyX2RlYnVnX3ZpZXcuY2hhbmdlVmFsdWVCeUxhYmVsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWNvbnRlbnRfdGFibGUuY2hpbGRyZW4ubGVuZ3RoLTE7aT49MDtpLS0paWYoY29udGVudF90YWJsZS5jaGlsZHJlbltpXS5maXJzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQ9PWUpe2NvbnRlbnRfdGFibGUuY2hpbGRyZW5baV0ubGFzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZT10O2JyZWFrfX0sbGF5YWFpcl9kZWJ1Z192aWV3LnNldFZpc2liaWxpdHk9ZnVuY3Rpb24oZSl7dmlzaWJpbGl0eV9jb250cm9sLmNoZWNrZWQ9ISFlfSxsYXlhYWlyX2RlYnVnX3ZpZXcuc2V0U2hvd0RlYnVnQm9yZGVyPWZ1bmN0aW9uKGUpe3Nob3dfYm9yZGVyX2NvbnRyb2wuY2hlY2tlZD0hIWV9LGxheWFhaXJfZGVidWdfdmlldy5nZXRWaXNpYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHZpc2liaWxpdHlfY29udHJvbC5jaGVja2VkfSxsYXlhYWlyX2RlYnVnX3ZpZXcuZ2V0U2hvd0RlYnVnQm9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHNob3dfYm9yZGVyX2NvbnRyb2wuY2hlY2tlZH0sbGF5YWFpcl9kZWJ1Z192aWV3LmdldFNob3dDdXJyZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd19jdXJyZW50X2NhY2hlX2NvbnRyb2wuY2hlY2tlZH0sbGF5YWFpcl9kZWJ1Z192aWV3LmdldFNob3dBbGxDYWNoZT1mdW5jdGlvbigpe3JldHVybiBzaG93X2FsbF9jYWNoZV9jb250cm9sLmNoZWNrZWR9LGxheWFhaXJfZGVidWdfdmlldy5nZXRTaG93QXRsYXM9ZnVuY3Rpb24oKXtyZXR1cm4gc2hvd19hdGxhc19jb250cm9sLmNoZWNrZWR9LGxheWFhaXJfZGVidWdfdmlldy5vbkluc3BlY3RFbGVtZW50PWZ1bmN0aW9uKGUpe3RoaXMub25faW5zcGVjdF9lbGVtZW50X2NhbGxiYWNrPWV9LGxheWFhaXJfZGVidWdfdmlldy5vbkxvZ0luZm89ZnVuY3Rpb24oZSl7bG9nX2luZm9fY29udHJvbC5vbmNsaWNrPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblJlZnJlc2g9ZnVuY3Rpb24oZSl7cmVmcmVzaF9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uUHJpbnRFbmFibGVkTm9kZUNoYWluPWZ1bmN0aW9uKGUpe2VuYWJsZWRfbm9kZV9jaGFpbl9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uUHJpbnRTaXplQ2hhaW49ZnVuY3Rpb24oZSl7c2l6ZV9jaGFpbl9jb250cm9sLm9uY2xpY2s9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uVG9nZ2xlVmlzaWJpbGl0eT1mdW5jdGlvbihlKXt2aXNpYmlsaXR5X2NvbnRyb2wub25jaGFuZ2U9ZX0sbGF5YWFpcl9kZWJ1Z192aWV3Lm9uVG9nZ2xlRGVidWdCb3JkZXI9ZnVuY3Rpb24oZSl7c2hvd19ib3JkZXJfY29udHJvbC5vbmNoYW5nZT1lfSxsYXlhYWlyX2RlYnVnX3ZpZXcub25Ub2dnbGVTaG93Q3VycmVudENhY2hlPWZ1bmN0aW9uKGUpe3Nob3dfY3VycmVudF9jYWNoZV9jb250cm9sLm9uY2hhbmdlPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblRvZ2dsZVNob3dBbGxDYWNoZT1mdW5jdGlvbihlKXtzaG93X2FsbF9jYWNoZV9jb250cm9sLm9uY2hhbmdlPWV9LGxheWFhaXJfZGVidWdfdmlldy5vblRvZ2dsZVNob3dBdGxhcz1mdW5jdGlvbihlKXtzaG93X2F0bGFzX2NvbnRyb2wub25jaGFuZ2U9ZX07";
	return DivScripts;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/AtlasTools.as=======199.999416/199.999416
/**
*tianpeng
*@author
*/
//class laya.debug.tools.AtlasTools
var AtlasTools=(function(){
	function AtlasTools(){
		this.mSprite=null;
		this.mIndex=0;
		this.mTextureDic={};
	}

	__class(AtlasTools,'laya.debug.tools.AtlasTools');
	var __proto=AtlasTools.prototype;
	__proto.start=function(){
		if (!Render.isWebGL)return;
		if (this.mSprite==null){
			this.mSprite=new Sprite();
		}
		Laya.stage.addChild(this.mSprite);
		this.showNext();
	}

	__proto.end=function(){
		if (!Render.isWebGL)return;
		if (this.mSprite){
			Laya.stage.removeChild(this.mSprite);
		}
	}

	__proto.showNext=function(){
		if (!Render.isWebGL)return;
		if (this.mSprite==null){
			this.mSprite=new Sprite();
		}
		Laya.stage.addChild(this.mSprite);
		this.mIndex++;
		var resManager;
		resManager=laya.webgl.atlas.AtlasResourceManager.instance;;
		var tCount=resManager.getAtlaserCount();
		if (this.mIndex >=tCount){
			this.mIndex=0;
		};
		var tTexture;
		if (this.mTextureDic[this.mIndex]){
			tTexture=this.mTextureDic[this.mIndex];
			}else {
			var tAtlaser=resManager.getAtlaserByIndex(this.mIndex);
			if (tAtlaser && tAtlaser.texture){
				tTexture=new Texture(tAtlaser.texture,null);
				this.mTextureDic[this.mIndex]=tTexture;
			}
		}
		if (tTexture){
			this.mSprite.graphics.clear();
			this.mSprite.graphics.save();
			this.mSprite.graphics.alpha(0.9);
			this.mSprite.graphics.drawRect(0,0,1024,1024,"#efefefe");
			this.mSprite.graphics.restore();
			this.mSprite.graphics.drawTexture(tTexture,0,0,1024,1024);
			this.mSprite.graphics.fillText((this.mIndex+1).toString()+"/"+tCount.toString(),25,100,"40px Arial","#ff0000","left");
		}
	}

	AtlasTools.getInstance=function(){
		return AtlasTools.mInstance=AtlasTools.mInstance|| new AtlasTools();
	}

	AtlasTools.mInstance=null;
	return AtlasTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/Base64Tool.as=======199.999413/199.999413
/**
*base64编码解码类
*@author ww
*/
//class laya.debug.tools.Base64Tool
var Base64Tool=(function(){
	function Base64Tool(){}
	__class(Base64Tool,'laya.debug.tools.Base64Tool');
	Base64Tool.init=function(){
		if (Base64Tool.lookup)
			return;
		Base64Tool.lookup=new Uint8Array(256)
		for (var i=0;i < Base64Tool.chars.length;i++){
			Base64Tool.lookup[Base64Tool.chars.charCodeAt(i)]=i;
		}
	}

	Base64Tool.encode=function(arraybuffer){
		var bytes=new Uint8Array(arraybuffer),i=0,len=bytes["length"],base64="";
		for (i=0;i < len;i+=3){
			base64+=Base64Tool.chars[bytes[i] >> 2];
			base64+=Base64Tool.chars[((bytes[i] & 3)<< 4)| (bytes[i+1] >> 4)];
			base64+=Base64Tool.chars[((bytes[i+1] & 15)<< 2)| (bytes[i+2] >> 6)];
			base64+=Base64Tool.chars[bytes[i+2] & 63];
		}
		if ((len % 3)===2){
			base64=base64.substring(0,base64.length-1)+"=";
		}
		else if (len % 3===1){
			base64=base64.substring(0,base64.length-2)+"==";
		}
		return base64;
	}

	Base64Tool.encodeStr=function(str){
		var byte;
		byte=new ByteEx();
		byte.writeUTFString(str);
		return Base64Tool.encodeByte(byte);
	}

	Base64Tool.encodeStr2=function(str){
		var byte;
		byte=new ByteEx();
		byte.writeUTFBytes(str);
		return Base64Tool.encodeByte(byte);
	}

	Base64Tool.encodeByte=function(byte,start,end){
		(start===void 0)&& (start=0);
		(end===void 0)&& (end=-1);
		if (end < 0){
			end=byte.length;
		}
		return Base64Tool.encode(byte.buffer.slice(start,end));
	}

	Base64Tool.decodeToByte=function(base64){
		return new ByteEx(Base64Tool.decode(base64));
	}

	Base64Tool.decode=function(base64){
		Base64Tool.init();
		var bufferLength=base64.length *0.75,len=base64.length,i=0,p=0,encoded1=0,encoded2=0,encoded3=0,encoded4=0;
		if (base64[base64.length-1]==="="){
			bufferLength--;
			if (base64[base64.length-2]==="="){
				bufferLength--;
			}
		};
		var arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);
		for (i=0;i < len;i+=4){
			encoded1=Base64Tool.lookup[base64.charCodeAt(i)];
			encoded2=Base64Tool.lookup[base64.charCodeAt(i+1)];
			encoded3=Base64Tool.lookup[base64.charCodeAt(i+2)];
			encoded4=Base64Tool.lookup[base64.charCodeAt(i+3)];
			bytes[p++]=(encoded1 << 2)| (encoded2 >> 4);
			bytes[p++]=((encoded2 & 15)<< 4)| (encoded3 >> 2);
			bytes[p++]=((encoded3 & 3)<< 6)| (encoded4 & 63);
		}
		return arraybuffer;
	}

	Base64Tool.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
	Base64Tool.lookup=null;
	return Base64Tool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ByteEx.as=======199.999412/199.999412
/**
*<p> <code>Byte</code> 类提供用于优化读取、写入以及处理二进制数据的方法和属性。</p>
*<p> <code>Byte</code> 类适用于需要在字节层访问数据的高级开发人员。</p>
*/
//class laya.debug.tools.ByteEx
var ByteEx=(function(){
	function ByteEx(data){
		/**@private 是否为小端数据。*/
		this._xd_=true;
		/**@private */
		this._allocated_=8;
		/**@private 原始数据。*/
		//this._d_=null;
		/**@private DataView*/
		//this._u8d_=null;
		/**@private */
		this._pos_=0;
		/**@private */
		this._length=0;
		if (data){
			this._u8d_=new Uint8Array(data);
			this._d_=new DataView(this._u8d_.buffer);
			this._length=this._d_.byteLength;
			}else {
			this._resizeBuffer(this._allocated_);
		}
	}

	__class(ByteEx,'laya.debug.tools.ByteEx');
	var __proto=ByteEx.prototype;
	/**@private */
	__proto._resizeBuffer=function(len){
		try {
			var newByteView=new Uint8Array(len);
			if (this._u8d_ !=null){
				if (this._u8d_.length <=len)newByteView.set(this._u8d_);
				else newByteView.set(this._u8d_.subarray(0,len));
			}
			this._u8d_=newByteView;
			this._d_=new DataView(newByteView.buffer);
			}catch (err){
			throw "Invalid typed array length:"+len;
		}
	}

	/**
	*@private
	*<p>常用于解析固定格式的字节流。</p>
	*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>
	*@return 读取的字符串。
	*/
	__proto.getString=function(){
		return this.readString();
	}

	/**
	*<p>常用于解析固定格式的字节流。</p>
	*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>
	*@return 读取的字符串。
	*/
	__proto.readString=function(){
		return this._rUTF(this.getUint16());
	}

	/**
	*@private
	*<p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。</p>
	*<p><b>注意：</b>返回的 Float32Array 对象，在 JavaScript 环境下，是原生的 HTML5 Float32Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Float32Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Float32Array 对象。
	*/
	__proto.getFloat32Array=function(start,len){
		return this.readFloat32Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Float32Array 对象。
	*/
	__proto.readFloat32Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Float32Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.getUint8Array=function(start,len){
		return this.readUint8Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.readUint8Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Uint8Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*<p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。</p>
	*<p><b>注意：</b>返回的 Int16Array 对象，在 JavaScript 环境下，是原生的 HTML5 Int16Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Int16Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>
	*@param start 开始读取的字节偏移量位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Int16Array 对象。
	*/
	__proto.getInt16Array=function(start,len){
		return this.readInt16Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。
	*@param start 开始读取的字节偏移量位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.readInt16Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Int16Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。
	*@return 单精度（32 位）浮点数。
	*/
	__proto.getFloat32=function(){
		return this.readFloat32();
	}

	/**
	*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。
	*@return 单精度（32 位）浮点数。
	*/
	__proto.readFloat32=function(){
		if (this._pos_+4 > this._length)throw "getFloat32 error - Out of bounds";
		var v=this._d_.getFloat32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。
	*@return 双精度（64 位）浮点数。
	*/
	__proto.getFloat64=function(){
		return this.readFloat64();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。
	*@return 双精度（64 位）浮点数。
	*/
	__proto.readFloat64=function(){
		if (this._pos_+8 > this._length)throw "getFloat64 error - Out of bounds";
		var v=this._d_.getFloat64(this._pos_,this._xd_);
		this._pos_+=8;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 单精度（32 位）浮点数。
	*@param value 单精度（32 位）浮点数。
	*/
	__proto.writeFloat32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setFloat32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 双精度（64 位）浮点数。
	*@param value 双精度（64 位）浮点数。
	*/
	__proto.writeFloat64=function(value){
		this._ensureWrite(this._pos_+8);
		this._d_.setFloat64(this._pos_,value,this._xd_);
		this._pos_+=8;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Int32 值。
	*@return Int32 值。
	*/
	__proto.getInt32=function(){
		return this.readInt32();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int32 值。
	*@return Int32 值。
	*/
	__proto.readInt32=function(){
		if (this._pos_+4 > this._length)throw "getInt32 error - Out of bounds";
		var float=this._d_.getInt32(this._pos_,this._xd_);
		this._pos_+=4;
		return float;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint32 值。
	*@return Uint32 值。
	*/
	__proto.getUint32=function(){
		return this.readUint32();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint32 值。
	*@return Uint32 值。
	*/
	__proto.readUint32=function(){
		if (this._pos_+4 > this._length)throw "getUint32 error - Out of bounds";
		var v=this._d_.getUint32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int32 值。
	*@param value 需要写入的 Int32 值。
	*/
	__proto.writeInt32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setInt32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入 Uint32 值。
	*@param value 需要写入的 Uint32 值。
	*/
	__proto.writeUint32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setUint32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Int16 值。
	*@return Int16 值。
	*/
	__proto.getInt16=function(){
		return this.readInt16();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int16 值。
	*@return Int16 值。
	*/
	__proto.readInt16=function(){
		if (this._pos_+2 > this._length)throw "getInt16 error - Out of bounds";
		var us=this._d_.getInt16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint16 值。
	*@return Uint16 值。
	*/
	__proto.getUint16=function(){
		return this.readUint16();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint16 值。
	*@return Uint16 值。
	*/
	__proto.readUint16=function(){
		if (this._pos_+2 > this._length)throw "getUint16 error - Out of bounds";
		var us=this._d_.getUint16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint16 值。
	*@param value 需要写入的Uint16 值。
	*/
	__proto.writeUint16=function(value){
		this._ensureWrite(this._pos_+2);
		this._d_.setUint16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int16 值。
	*@param value 需要写入的 Int16 值。
	*/
	__proto.writeInt16=function(value){
		this._ensureWrite(this._pos_+2);
		this._d_.setInt16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint8 值。
	*@return Uint8 值。
	*/
	__proto.getUint8=function(){
		return this.readUint8();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint8 值。
	*@return Uint8 值。
	*/
	__proto.readUint8=function(){
		if (this._pos_+1 > this._length)throw "getUint8 error - Out of bounds";
		return this._d_.getUint8(this._pos_++);
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint8 值。
	*@param value 需要写入的 Uint8 值。
	*/
	__proto.writeUint8=function(value){
		this._ensureWrite(this._pos_+1);
		this._d_.setUint8(this._pos_,value);
		this._pos_++;
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint8 值。
	*@param pos 字节读取位置。
	*@return Uint8 值。
	*/
	__proto._getUInt8=function(pos){
		return this._readUInt8(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint8 值。
	*@param pos 字节读取位置。
	*@return Uint8 值。
	*/
	__proto._readUInt8=function(pos){
		return this._d_.getUint8(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint16 值。
	*@param pos 字节读取位置。
	*@return Uint16 值。
	*/
	__proto._getUint16=function(pos){
		return this._readUint16(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint16 值。
	*@param pos 字节读取位置。
	*@return Uint16 值。
	*/
	__proto._readUint16=function(pos){
		return this._d_.getUint16(pos,this._xd_);
	}

	/**
	*@private
	*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。
	*@return Matrix 对象。
	*/
	__proto._getMatrix=function(){
		return this._readMatrix();
	}

	/**
	*@private
	*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。
	*@return Matrix 对象。
	*/
	__proto._readMatrix=function(){
		var rst=new Matrix(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());
		return rst;
	}

	/**
	*@private
	*读取指定长度的 UTF 型字符串。
	*@param len 需要读取的长度。
	*@return 读取的字符串。
	*/
	__proto._rUTF=function(len){
		var v="",max=this._pos_+len,c=0,c2=0,c3=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (this._pos_ < max){
			c=u[this._pos_++];
			if (c < 0x80){
				if (c !=0)v+=f(c);
				}else if (c < 0xE0){
				v+=f(((c & 0x3F)<< 6)| (u[this._pos_++] & 0x7F));
				}else if (c < 0xF0){
				c2=u[this._pos_++];
				v+=f(((c & 0x1F)<< 12)| ((c2 & 0x7F)<< 6)| (u[this._pos_++] & 0x7F));
				}else {
				c2=u[this._pos_++];
				c3=u[this._pos_++];
				v+=f(((c & 0x0F)<< 18)| ((c2 & 0x7F)<< 12)| ((c3 << 6)& 0x7F)| (u[this._pos_++] & 0x7F));
			}
			i++;
		}
		return v;
	}

	/**
	*@private
	*读取 <code>len</code> 参数指定的长度的字符串。
	*@param len 要读取的字符串的长度。
	*@return 指定长度的字符串。
	*/
	__proto.getCustomString=function(len){
		return this.readCustomString(len);
	}

	/**
	*@private
	*读取 <code>len</code> 参数指定的长度的字符串。
	*@param len 要读取的字符串的长度。
	*@return 指定长度的字符串。
	*/
	__proto.readCustomString=function(len){
		var v="",ulen=0,c=0,c2=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (len > 0){
			c=u[this._pos_];
			if (c < 0x80){
				v+=f(c);
				this._pos_++;
				len--;
				}else {
				ulen=c-0x80;
				this._pos_++;
				len-=ulen;
				while (ulen > 0){
					c=u[this._pos_++];
					c2=u[this._pos_++];
					v+=f((c2 << 8)| c);
					ulen--;
				}
			}
		}
		return v;
	}

	/**
	*清除字节数组的内容，并将 length 和 pos 属性重置为 0。调用此方法将释放 Byte 实例占用的内存。
	*/
	__proto.clear=function(){
		this._pos_=0;
		this.length=0;
	}

	/**
	*@private
	*获取此对象的 ArrayBuffer 引用。
	*@return
	*/
	__proto.__getBuffer=function(){
		return this._d_.buffer;
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。类似于 writeUTF()方法，但 writeUTFBytes()不使用 16 位长度的字为字符串添加前缀。</p>
	*<p>对应的读取方法为： getUTFBytes 。</p>
	*@param value 要写入的字符串。
	*/
	__proto.writeUTFBytes=function(value){
		value=value+"";
		for (var i=0,sz=value.length;i < sz;i++){
			var c=value.charCodeAt(i);
			if (c <=0x7F){
				this.writeByte(c);
				}else if (c <=0x7FF){
				this._ensureWrite(this._pos_+2);
				this._u8d_.set([0xC0 | (c >> 6),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=2;
				}else if (c <=0xFFFF){
				this._ensureWrite(this._pos_+3);
				this._u8d_.set([0xE0 | (c >> 12),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=3;
				}else {
				this._ensureWrite(this._pos_+4);
				this._u8d_.set([0xF0 | (c >> 18),0x80 | ((c >> 12)& 0x3F),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=4;
			}
		}
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 16 位整数），然后写入表示字符串字符的字节。</p>
	*<p>对应的读取方法为： getUTFString 。</p>
	*@param value 要写入的字符串值。
	*/
	__proto.writeUTFString=function(value){
		var tPos=this.pos;
		this.writeUint16(1);
		this.writeUTFBytes(value);
		var dPos=this.pos-tPos-2;
		this._d_.setUint16(tPos,dPos,this._xd_);
	}

	/**
	*@private
	*读取 UTF-8 字符串。
	*@return 读取的字符串。
	*/
	__proto.readUTFString=function(){
		return this.readUTFBytes(this.getUint16());
	}

	/**
	*<p>从字节流中读取一个 UTF-8 字符串。假定字符串的前缀是一个无符号的短整型（以此字节表示要读取的长度）。</p>
	*<p>对应的写入方法为： writeUTFString 。</p>
	*@return 读取的字符串。
	*/
	__proto.getUTFString=function(){
		return this.readUTFString();
	}

	/**
	*@private
	*读字符串，必须是 writeUTFBytes 方法写入的字符串。
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.readUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		if (len===0)return "";
		var lastBytes=this.bytesAvailable;
		if (len > lastBytes)throw "readUTFBytes error - Out of bounds";
		len=len > 0 ? len :lastBytes;
		return this._rUTF(len);
	}

	/**
	*<p>从字节流中读取一个由 length 参数指定的长度的 UTF-8 字节序列，并返回一个字符串。</p>
	*<p>一般读取的是由 writeUTFBytes 方法写入的字符串。</p>
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.getUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		return this.readUTFBytes(len);
	}

	/**
	*<p>在字节流中写入一个字节。</p>
	*<p>使用参数的低 8 位。忽略高 24 位。</p>
	*@param value
	*/
	__proto.writeByte=function(value){
		this._ensureWrite(this._pos_+1);
		this._d_.setInt8(this._pos_,value);
		this._pos_+=1;
	}

	/**
	*<p>从字节流中读取带符号的字节。</p>
	*<p>返回值的范围是从-128 到 127。</p>
	*@return 介于-128 和 127 之间的整数。
	*/
	__proto.readByte=function(){
		if (this._pos_+1 > this._length)throw "readByte error - Out of bounds";
		return this._d_.getInt8(this._pos_++);
	}

	/**
	*@private
	*从字节流中读取带符号的字节。
	*/
	__proto.getByte=function(){
		return this.readByte();
	}

	/**
	*@private
	*<p>保证该字节流的可用长度不小于 <code>lengthToEnsure</code> 参数指定的值。</p>
	*@param lengthToEnsure 指定的长度。
	*/
	__proto._ensureWrite=function(lengthToEnsure){
		if (this._length < lengthToEnsure)this._length=lengthToEnsure;
		if (this._allocated_ < lengthToEnsure)this.length=lengthToEnsure;
	}

	/**
	*<p>将指定 arraybuffer 对象中的以 offset 为起始偏移量， length 为长度的字节序列写入字节流。</p>
	*<p>如果省略 length 参数，则使用默认长度 0，该方法将从 offset 开始写入整个缓冲区；如果还省略了 offset 参数，则写入整个缓冲区。</p>
	*<p>如果 offset 或 length 小于0，本函数将抛出异常。</p>
	*@param arraybuffer 需要写入的 Arraybuffer 对象。
	*@param offset Arraybuffer 对象的索引的偏移量（以字节为单位）
	*@param length 从 Arraybuffer 对象写入到 Byte 对象的长度（以字节为单位）
	*/
	__proto.writeArrayBuffer=function(arraybuffer,offset,length){
		(offset===void 0)&& (offset=0);
		(length===void 0)&& (length=0);
		if (offset < 0 || length < 0)throw "writeArrayBuffer error - Out of bounds";
		if (length==0)length=arraybuffer.byteLength-offset;
		this._ensureWrite(this._pos_+length);
		var uint8array=new Uint8Array(arraybuffer);
		this._u8d_.set(uint8array.subarray(offset,offset+length),this._pos_);
		this._pos_+=length;
	}

	/**
	*获取此对象的 ArrayBuffer 数据，数据只包含有效数据部分。
	*/
	__getset(0,__proto,'buffer',function(){
		var rstBuffer=this._d_.buffer;
		if (rstBuffer.byteLength===this._length)return rstBuffer;
		return rstBuffer.slice(0,this._length);
	});

	/**
	*<p> <code>Byte</code> 实例的字节序。取值为：<code>BIG_ENDIAN</code> 或 <code>BIG_ENDIAN</code> 。</p>
	*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>
	*<p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>
	*<code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>
	*/
	__getset(0,__proto,'endian',function(){
		return this._xd_ ? "littleEndian" :"bigEndian";
		},function(value){
		this._xd_=(value==="littleEndian");
	});

	/**
	*<p> <code>Byte</code> 对象的长度（以字节为单位）。</p>
	*<p>如果将长度设置为大于当前长度的值，则用零填充字节数组的右侧；如果将长度设置为小于当前长度的值，将会截断该字节数组。</p>
	*<p>如果要设置的长度大于当前已分配的内存空间的字节长度，则重新分配内存空间，大小为以下两者较大者：要设置的长度、当前已分配的长度的2倍，并将原有数据拷贝到新的内存空间中；如果要设置的长度小于当前已分配的内存空间的字节长度，也会重新分配内存空间，大小为要设置的长度，并将原有数据从头截断为要设置的长度存入新的内存空间中。</p>
	*/
	__getset(0,__proto,'length',function(){
		return this._length;
		},function(value){
		if (this._allocated_ < value)this._resizeBuffer(this._allocated_=Math.floor(Math.max(value,this._allocated_ *2)));
		else if (this._allocated_ > value)this._resizeBuffer(this._allocated_=value);
		this._length=value;
	});

	/**
	*移动或返回 Byte 对象的读写指针的当前位置（以字节为单位）。下一次调用读取方法时将在此位置开始读取，或者下一次调用写入方法时将在此位置开始写入。
	*/
	__getset(0,__proto,'pos',function(){
		return this._pos_;
		},function(value){
		this._pos_=value;
	});

	/**
	*可从字节流的当前位置到末尾读取的数据的字节数。
	*/
	__getset(0,__proto,'bytesAvailable',function(){
		return this._length-this._pos_;
	});

	ByteEx.getSystemEndian=function(){
		if (!ByteEx._sysEndian){
			var buffer=new ArrayBuffer(2);
			new DataView(buffer).setInt16(0,256,true);
			ByteEx._sysEndian=(new Int16Array(buffer))[0]===256 ? "littleEndian" :"bigEndian";
		}
		return ByteEx._sysEndian;
	}

	ByteEx.BIG_ENDIAN="bigEndian";
	ByteEx.LITTLE_ENDIAN="littleEndian";
	ByteEx._sysEndian=null;
	return ByteEx;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/CacheAnalyser.as=======199.999411/199.999411
/**
*...
*@author ww
*/
//class laya.debug.tools.CacheAnalyser
var CacheAnalyser=(function(){
	function CacheAnalyser(){}
	__class(CacheAnalyser,'laya.debug.tools.CacheAnalyser');
	var __proto=CacheAnalyser.prototype;
	__proto.renderCanvas=function(sprite,time){
		(time===void 0)&& (time=0);
		if (!CacheAnalyser.showCacheSprite)return;
		if (DebugInfoLayer.I.isDebugItem(sprite))return;
		DebugTool.showDisBoundToSprite(sprite,DebugInfoLayer.I.cacheViewLayer,DebugConsts.CANVAS_REC_COLOR,4);
	}

	__proto.reCacheCanvas=function(sprite,time){
		(time===void 0)&& (time=0);
		if (!CacheAnalyser.showRecacheSprite)return;
		if (DebugInfoLayer.I.isDebugItem(sprite))return;
		var info;
		info=CacheAnalyser.getNodeInfoByNode(sprite);
		info.addCount(time);
		CacheAnalyser.counter.addTime(sprite,time);
		if (!info.parent){
			DebugInfoLayer.I.nodeRecInfoLayer.addChild(info);
		}
	}

	CacheAnalyser.renderLoopBegin=function(){
		DebugInfoLayer.I.cacheViewLayer.graphics.clear();
	}

	CacheAnalyser.getNodeInfoByNode=function(node){
		IDTools.idObj(node);
		var key=0;
		key=IDTools.getObjID(node);
		if (!CacheAnalyser._nodeInfoDic[key]){
			CacheAnalyser._nodeInfoDic[key]=new ReCacheRecInfo();
		}
		(CacheAnalyser._nodeInfoDic [key]).setTarget(node);
		return CacheAnalyser._nodeInfoDic[key];
	}

	CacheAnalyser._nodeInfoDic={};
	CacheAnalyser.showCacheSprite=false;
	CacheAnalyser.showRecacheSprite=true;
	__static(CacheAnalyser,
	['counter',function(){return this.counter=new ObjTimeCountTool();},'I',function(){return this.I=new CacheAnalyser();}
	]);
	return CacheAnalyser;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/CanvasTools.as=======199.999409/199.999409
/**
*...
*@author ww
*/
//class laya.debug.tools.CanvasTools
var CanvasTools=(function(){
	function CanvasTools(){}
	__class(CanvasTools,'laya.debug.tools.CanvasTools');
	CanvasTools.createCanvas=function(width,height){
		var rst=new HTMLCanvas("2D");
		rst.getContext('2d');
		rst.size(width,height);
		return rst;
	}

	CanvasTools.renderSpriteToCanvas=function(sprite,canvas,offsetX,offsetY){
		RenderSprite.renders[sprite._renderType]._fun(sprite,canvas.context,offsetX,offsetY);
	}

	CanvasTools.getImageDataFromCanvas=function(canvas,x,y,width,height){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (width <=0)
			width=canvas.width;
		if (height <=0)
			height=canvas.height;
		var imgdata=canvas.context.getImageData(x,y,width,height);
		return imgdata;
	}

	CanvasTools.getImageDataFromCanvasByRec=function(canvas,rec){
		var imgdata=canvas.context.getImageData(rec.x,rec.y,rec.width,rec.height);
		return imgdata;
	}

	CanvasTools.getDifferCount=function(imageData1,imageData2){
		var data1=imageData1.data;
		var data2=imageData2.data;
		var differCount=0;
		differCount=0;
		CanvasTools.walkImageData(imageData1,myWalkFun);
		return differCount;
		function myWalkFun (i,j,tarPos,data){
			if (!CanvasTools.isPoinSame(tarPos,data1,data2))differCount++;
		}
	}

	CanvasTools.getDifferRate=function(imageData1,imageData2){
		return CanvasTools.getDifferCount(imageData1,imageData2)/(imageData1.width *imageData1.height);
	}

	CanvasTools.getCanvasDisRec=function(canvas){
		var rst;
		rst=new Rectangle;
		var imgdata;
		imgdata=CanvasTools.getImageDataFromCanvas(canvas,0,0);
		var maxX=0;
		var minX=0;
		var maxY=0;
		var minY=0;
		maxX=maxY=0;
		minX=imgdata.width;
		minY=imgdata.height;
		var i=0,iLen=0;
		var j=0,jLen=0;
		iLen=imgdata.width;
		jLen=imgdata.height;
		var data;
		data=imgdata.data;
		var tarPos=0;
		for (j=0;j < jLen;j++){
			for (i=0;i < iLen;i++){
				if (!CanvasTools.isEmptyPoint(data,tarPos)){
					if (minX > i)
						minX=i;
					if (maxX < i)
						maxX=i;
					if (minY > j)
						minY=j;
					if (maxY < j)
						maxY=j;
				}
				tarPos+=4;
			}
		}
		rst.setTo(minX,minY,maxX-minX+1,maxY-minY+1);
		return rst;
	}

	CanvasTools.fillCanvasRec=function(canvas,rec,color){
		var ctx=canvas.context;
		ctx.fillStyle=color;
		ctx.fillRect(rec.x,rec.y,rec.width,rec.height);
	}

	CanvasTools.isEmptyPoint=function(data,pos){
		if (data[pos]==0 && data[pos+1]==0 && data[pos+2]==0 && data[pos+3]==0){
			return true;
		}
		else{
			return false;
		}
	}

	CanvasTools.isPoinSame=function(pos,data1,data2){
		if (data1[pos]==data2[pos] && data1[pos+1]==data2[pos+1] && data1[pos+2]==data2[pos+2] && data1[pos+3]==data2[pos+3]){
			return true;
		}
		else{
			return false;
		}
	}

	CanvasTools.walkImageData=function(imgdata,walkFun){
		var i=0,iLen=0;
		var j=0,jLen=0;
		iLen=imgdata.width;
		jLen=imgdata.height;
		var tarPos=0;
		var data=imgdata.data;
		for (i=0;i < iLen;i++){
			for (j=0;j < jLen;j++){
				walkFun(i,j,tarPos,data);
				tarPos+=4;
			}
		}
	}

	CanvasTools.getSpriteByCanvas=function(canvas){
		var rst;
		rst=new Sprite();
		rst.graphics.drawTexture(new Texture(canvas),0,0,canvas.width,canvas.height);
		return rst;
	}

	CanvasTools.renderSpritesToCanvas=function(canvas,sprites,offx,offy,startIndex){
		(offx===void 0)&& (offx=0);
		(offy===void 0)&& (offy=0);
		(startIndex===void 0)&& (startIndex=0);
		var i=0,len=0;
		len=sprites.length;
		for (i=startIndex;i < len;i++){
			CanvasTools.renderSpriteToCanvas(sprites[i],canvas,offx,offy);
		}
	}

	CanvasTools.clearCanvas=function(canvas){
		var preWidth=NaN;
		var preHeight=NaN;
		preWidth=canvas.width;
		preHeight=canvas.height;
		canvas.size(preWidth+1,preHeight);
		canvas.size(preWidth,preHeight);
	}

	CanvasTools.getImagePixels=function(x,y,width,data,colorLen){
		(colorLen===void 0)&& (colorLen=4);
		var pos=0;
		pos=(x *width+y)*colorLen;
		var i=0,len=0;
		var rst;
		rst=[];
		len=colorLen;
		for (i=0;i < len;i++){
			rst.push(data[pos+i]);
		}
		return rst;
	}

	return CanvasTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ClassTool.as=======199.999408/199.999408
/**
*
*@author ww
*@version 1.0
*
*@created 2015-10-23 下午2:24:04
*/
//class laya.debug.tools.ClassTool
var ClassTool=(function(){
	function ClassTool(){}
	__class(ClassTool,'laya.debug.tools.ClassTool');
	ClassTool.defineProperty=function(obj,name,des){
		Object.defineProperty(obj,name,des);;
	}

	ClassTool.getOwnPropertyDescriptor=function(obj,name){
		var rst;
		rst=Object.getOwnPropertyDescriptor(obj,name);;
		return rst;
	}

	ClassTool.getOwnPropertyDescriptors=function(obj){
		var rst;
		rst=Object.getOwnPropertyDescriptors(obj);;
		return rst;
	}

	ClassTool.getOwnPropertyNames=function(obj){
		var rst;
		rst=Object.getOwnPropertyNames(obj);;
		return rst;
	}

	ClassTool.getObjectGetSetKeys=function(obj,rst){
		if (!rst)rst=[];
		var keys;
		keys=laya.debug.tools.ClassTool.getOwnPropertyNames(obj);
		var key;
		for (key in keys){
			key=keys[key];
			if (key.indexOf("_$get_")>=0){
				key=key.replace("_$get_","");
				rst.push(key);
			}
		}
		if (obj["__proto__"]){
			ClassTool.getObjectGetSetKeys(obj["__proto__"],rst);
		}
		return rst;
	}

	ClassTool.getObjectDisplayAbleKeys=function(obj,rst){
		if (!rst)rst=[];
		var key;
		var tValue;
		var tType;
		for (key in obj){
			tValue=obj[key];
			tType=typeof(tValue);
			if (key.charAt(0)=="_")continue ;
			rst.push(key);
		}
		ClassTool.getObjectGetSetKeys(obj,rst);
		rst=ObjectTools.getNoSameArr(rst);
		return rst;
	}

	ClassTool.getClassName=function(tar){
		if ((typeof tar=='function'))return tar.name;
		return tar["constructor"].name;
	}

	ClassTool.getNodeClassAndName=function(tar){
		if (!tar)return "null";
		var rst;
		if (tar.name){
			rst=ClassTool.getClassName(tar)+"("+tar.name+")";
			}else{
			rst=ClassTool.getClassName(tar);
		}
		return rst;
	}

	ClassTool.getClassNameByClz=function(clz){
		return clz["name"];
	}

	ClassTool.getClassByName=function(className){
		var rst;
		rst=Laya._runScript(className);
		return rst;
	}

	ClassTool.createObjByName=function(className){
		var clz;
		clz=ClassTool.getClassByName(className);
		return new clz();
	}

	__static(ClassTool,
	['displayTypes',function(){return this.displayTypes={"boolean":true,"number":true,"string":true };}
	]);
	return ClassTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ClickSelectTool.as=======199.999407/199.999407
/**
*...
*@author ww
*/
//class laya.debug.tools.ClickSelectTool
var ClickSelectTool=(function(){
	function ClickSelectTool(){
		this.completeHandler=null;
		this.tSelectTar=null;
		this._selectTip=new Sprite();
		this._selectTip.setBounds(new Rectangle(0,0,0,0));
		Notice.listen("ItemClicked",this,this.itemClicked);
	}

	__class(ClickSelectTool,'laya.debug.tools.ClickSelectTool');
	var __proto=ClickSelectTool.prototype;
	__proto.beginClickSelect=function(complete){
		this.completeHandler=complete;
		ClickSelectTool.isClickSelectState=true;
		this.clickSelectChange();
	}

	__proto.clickSelectChange=function(){
		if (!Browser.onPC)return;
		this.tSelectTar=null;
		this.clearSelectTip();
		if (ClickSelectTool.isClickSelectState){
			Laya.timer.loop(200,this,this.updateSelectTar,null,true);
			}else{
			Laya.timer.clear(this,this.updateSelectTar);
		}
	}

	__proto.clearSelectTip=function(){
		this._selectTip.removeSelf();
	}

	__proto.updateSelectTar=function(){
		this.clearSelectTip();
		this.tSelectTar=DisplayHook.instance.getDisUnderMouse();
		if (!this.tSelectTar){
			return;
		}
		if (DebugInfoLayer.I.isDebugItem(this.tSelectTar))return;
		var g;
		g=this._selectTip.graphics;
		g.clear();
		var rec;
		rec=NodeUtils.getGRec(this.tSelectTar);
		DebugInfoLayer.I.popLayer.addChild(this._selectTip);
		g.drawRect(0,0,rec.width,rec.height,null,DebugConsts.CLICK_SELECT_COLOR,2);
		this._selectTip.pos(rec.x,rec.y);
	}

	__proto.itemClicked=function(tar){
		if (!ClickSelectTool.isClickSelectState)return;
		if (ClickSelectTool.ignoreDebugTool){
			if (DebugInfoLayer.I.isDebugItem(tar))return;
		}
		if (Laya.__typeof(tar,laya.debug.uicomps.ContextMenuItem)|| Laya.__typeof(tar.parent,laya.debug.uicomps.ContextMenuItem)){
			return;
		}
		DebugTool.showDisBound(tar);
		if (this.completeHandler){
			this.completeHandler.runWith(tar);
		}
		ClickSelectTool.isClickSelectState=false;
		this.clickSelectChange();
	}

	__getset(1,ClickSelectTool,'I',function(){
		if (!ClickSelectTool._I)ClickSelectTool._I=new ClickSelectTool();
		return ClickSelectTool._I;
	});

	ClickSelectTool._I=null;
	ClickSelectTool.isClickSelectState=false;
	ClickSelectTool.ignoreDebugTool=false;
	return ClickSelectTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ColorTool.as=======199.999405/199.999405
/**
*...
*@author ww
*/
//class laya.debug.tools.ColorTool
var ColorTool=(function(){
	function ColorTool(){
		this.red=NaN;
		this.green=NaN;
		this.blue=NaN;
	}

	__class(ColorTool,'laya.debug.tools.ColorTool');
	ColorTool.toHexColor=function(color){
		return Utils.toHexColor(color);
	}

	ColorTool.getRGBByRGBStr=function(str){
		str.charAt(0)=='#' && (str=str.substr(1));
		var color=parseInt(str,16);
		var flag=(str.length==8);
		var _color;
		_color=[((0x00FF0000 & color)>> 16),((0x0000FF00 & color)>> 8),(0x000000FF & color)];
		return _color;
	}

	ColorTool.getColorBit=function(value){
		var rst;
		rst=Math.floor(value).toString(16);
		rst=rst.length > 1 ? rst :"0"+rst;
		return rst;
	}

	ColorTool.getRGBStr=function(rgb){
		return "#"+ColorTool.getColorBit(rgb[0])+ColorTool.getColorBit(rgb[1])+ColorTool.getColorBit(rgb[2]);
	}

	ColorTool.traseHSB=function(hsb){
		console.log("hsb:",hsb[0],hsb[1],hsb[2]);
	}

	ColorTool.rgb2hsb=function(rgbR,rgbG,rgbB){
		var rgb=[rgbR,rgbG,rgbB];
		rgb.sort(MathTools.sortNumSmallFirst);
		var max=rgb[2];
		var min=rgb[0];
		var hsbB=max / 255.0;
		var hsbS=max==0 ? 0 :(max-min)/ max;
		var hsbH=0;
		if(max==min){
			hsbH=1;
		}
		else
		if (rgbR==0 && rgbG==0&&rgbB==0){
		}else
		if (max==rgbR && rgbG >=rgbB){
			hsbH=(rgbG-rgbB)*60 / (max-min)+0;
		}
		else if (max==rgbR && rgbG < rgbB){
			hsbH=(rgbG-rgbB)*60 / (max-min)+360;
		}
		else if (max==rgbG){
			hsbH=(rgbB-rgbR)*60 / (max-min)+120;
		}
		else if (max==rgbB){
			hsbH=(rgbR-rgbG)*60 / (max-min)+240;
		}
		return [hsbH,hsbS,hsbB];
	}

	ColorTool.hsb2rgb=function(h,s,v){
		var r=0,g=0,b=0;
		var i=Math.floor((h / 60)% 6);
		var f=(h / 60)-i;
		var p=v *(1-s);
		var q=v *(1-f *s);
		var t=v *(1-(1-f)*s);
		switch (i){
			case 0:
				r=v;
				g=t;
				b=p;
				break ;
			case 1:
				r=q;
				g=v;
				b=p;
				break ;
			case 2:
				r=p;
				g=v;
				b=t;
				break ;
			case 3:
				r=p;
				g=q;
				b=v;
				break ;
			case 4:
				r=t;
				g=p;
				b=v;
				break ;
			case 5:
				r=v;
				g=p;
				b=q;
				break ;
			default :
				break ;
			}
		return [Math.floor(r *255.0),Math.floor(g *255.0),Math.floor(b *255.0)];
	}

	return ColorTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/CountTool.as=======199.999398/199.999398
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-24 下午6:37:56
*/
//class laya.debug.tools.CountTool
var CountTool=(function(){
	function CountTool(){
		this.data={};
		this.preO={};
		this.changeO={};
		this.count=0;
	}

	__class(CountTool,'laya.debug.tools.CountTool');
	var __proto=CountTool.prototype;
	__proto.reset=function(){
		this.data={};
		this.count=0;
	}

	__proto.add=function(name,num){
		(num===void 0)&& (num=1);
		this.count++;
		if(!this.data.hasOwnProperty(name)){
			this.data[name]=0;
		}
		this.data[name]=this.data[name]+num;
	}

	__proto.getKeyCount=function(key){
		if(!this.data.hasOwnProperty(key)){
			this.data[key]=0;
		}
		return this.data[key];
	}

	__proto.getKeyChange=function(key){
		if (!this.changeO[key])return 0;
		return this.changeO[key];
	}

	__proto.record=function(){
		var key;
		for (key in this.changeO){
			this.changeO[key]=0;
		}
		for (key in this.data){
			if (!this.preO[key])this.preO[key]=0;
			this.changeO[key]=this.data[key]-this.preO[key];
			this.preO[key]=this.data[key]
		}
	}

	__proto.getCount=function(dataO){
		var rst=0;
		var key;
		for (key in dataO){
			rst+=dataO[key];
		}
		return rst;
	}

	__proto.traceSelf=function(dataO){
		if (!dataO)dataO=this.data;
		var tCount=0;
		tCount=this.getCount(dataO);
		console.log("total:"+tCount);
		return "total:"+tCount+"\n"+TraceTool.traceObj(dataO);
	}

	__proto.traceSelfR=function(dataO){
		if (!dataO)dataO=this.data;
		var tCount=0;
		tCount=this.getCount(dataO);
		console.log("total:"+tCount);
		return "total:"+tCount+"\n"+TraceTool.traceObjR(dataO);
	}

	return CountTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DebugConsts.as=======199.999397/199.999397
/**
*...
*@author ww
*/
//class laya.debug.tools.DebugConsts
var DebugConsts=(function(){
	function DebugConsts(){}
	__class(DebugConsts,'laya.debug.tools.DebugConsts');
	DebugConsts.CLICK_SELECT_COLOR="#ff0000";
	DebugConsts.CANVAS_REC_COLOR="#FF00FF";
	DebugConsts.RECACHE_REC_COLOR="#00ff00";
	DebugConsts.SPRITE_REC_COLOR="#ff0000";
	DebugConsts.SPRITE_REC_LINEWIDTH=2;
	return DebugConsts;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DebugExport.as=======199.999396/199.999396
/**
*
*@author ww
*@version 1.0
*
*@created 2015-10-31 下午3:35:16
*/
//class laya.debug.tools.DebugExport
var DebugExport=(function(){
	function DebugExport(){}
	__class(DebugExport,'laya.debug.tools.DebugExport');
	DebugExport.export=function(){
		var _window;
		_window=window;;
		var key;
		for(key in DebugExport._exportsDic){
			_window[key]=DebugExport._exportsDic[key];
		}
	}

	__static(DebugExport,
	['_exportsDic',function(){return this._exportsDic={
			"DebugTool":DebugTool,
			"Watcher":Watcher
	};}

	]);
	return DebugExport;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DifferTool.as=======199.999390/199.999390
/**
*本类用于显示对象值变化过程
*@author ww
*@version 1.0
*
*@created 2015-10-23 上午10:41:50
*/
//class laya.debug.tools.DifferTool
var DifferTool=(function(){
	function DifferTool(sign,autoTrace){
		this.autoTrace=true;
		this.sign="";
		this.obj=null;
		(sign===void 0)&& (sign="");
		(autoTrace===void 0)&& (autoTrace=true);
		this.sign=sign;
		this.autoTrace=autoTrace;
	}

	__class(DifferTool,'laya.debug.tools.DifferTool');
	var __proto=DifferTool.prototype;
	__proto.update=function(data,msg){
		if(msg){
			console.log(msg);
		};
		var tObj=ObjectTools.copyObj(data);
		if(!this.obj)this.obj={};
		var rst;
		rst=ObjectTools.differ(this.obj,tObj);
		this.obj=tObj;
		if(this.autoTrace){
			console.log(this.sign+" differ:");
			ObjectTools.traceDifferObj(rst);
		}
		return rst;
	}

	DifferTool.differ=function(sign,data,msg){
		if(!DifferTool._differO[sign])DifferTool._differO[sign]=new DifferTool(sign,true);
		var tDiffer;
		tDiffer=DifferTool._differO[sign];
		return tDiffer.update(data,msg);
	}

	DifferTool._differO={};
	return DifferTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DisController.as=======199.999389/199.999389
/**
*
*@author ww
*@version 1.0
*
*@created 2016-1-14 下午4:32:47
*/
//class laya.debug.tools.DisController
var DisController=(function(){
	function DisController(){
		this.arrowAxis=null;
		this._target=null;
		this.recInfo=null;
		DisController.init();
		this.arrowAxis=new Axis();
		this.arrowAxis.mouseEnabled=true;
	}

	__class(DisController,'laya.debug.tools.DisController');
	var __proto=DisController.prototype;
	__proto.switchType=function(){
		this.arrowAxis.switchType();
	}

	__proto.updateMe=function(){
		if(!this._target)return;
		this.recInfo=RecInfo.getGlobalRecInfo(this._target,0,0,1,0,0,1);
		console.log("rotation:",this.recInfo.rotation);
		console.log("pos:",this.recInfo.x,this.recInfo.y);
		console.log("scale:",this.recInfo.width,this.recInfo.height);
		this.arrowAxis.x=this.recInfo.x;
		this.arrowAxis.y=this.recInfo.y;
		this.arrowAxis.rotation=this.recInfo.rotation;
		this.arrowAxis.yAxis.rotation=this.recInfo.rotationV-this.recInfo.rotation;
	}

	__getset(0,__proto,'target',function(){
		return this._target;
		},function(target){
		this._target=target;
		if(target){
			DisController._container.addChild(this.arrowAxis);
			Laya.timer.loop(100,this,this.updateMe);
			}else{
			this.arrowAxis.removeSelf();
			Laya.timer.clear(this,this.updateMe);
		}
		this.arrowAxis.target=target;
		this.updateMe();
	});

	__getset(0,__proto,'type',function(){
		return this.arrowAxis.type;
		},function(lenType){
		this.arrowAxis.type=lenType;
	});

	DisController.init=function(){
		if (DisController._container){
			DisControlTool.setTop(DisController._container);
			return;
		};
		DisController._container=new Sprite();
		DisController._container.mouseEnabled=true;
		Laya.stage.addChild(DisController._container);
	}

	DisController._container=null;
	__static(DisController,
	['I',function(){return this.I=new DisController();}
	]);
	return DisController;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DisControlTool.as=======199.999388/199.999388
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-25 下午7:19:44
*/
//class laya.debug.tools.DisControlTool
var DisControlTool=(function(){
	function DisControlTool(){}
	__class(DisControlTool,'laya.debug.tools.DisControlTool');
	DisControlTool.getObjectsUnderPoint=function(sprite,x,y,rst,filterFun){
		rst=rst?rst:[];
		if(filterFun!=null&&!filterFun(sprite))return rst;
		if (sprite.getBounds().contains(x,y)){
			rst.push(sprite);
			var tS;
			var tempP=new Point();
			tempP.setTo(x,y);
			tempP=sprite.fromParentPoint(tempP);
			x=tempP.x;
			y=tempP.y;
			for (var i=sprite._children.length-1;i >-1;i--){
				var child=sprite._children[i];
				if((child instanceof laya.display.Sprite ))
					DisControlTool.getObjectsUnderPoint(child,x,y,rst,filterFun);
			}
		}
		return rst;
	}

	DisControlTool.getObjectsUnderGlobalPoint=function(sprite,filterFun){
		var point=new Point();
		point.setTo(Laya.stage.mouseX,Laya.stage.mouseY);
		if(sprite.parent)
			point=(sprite.parent).globalToLocal(point);
		return DisControlTool.getObjectsUnderPoint(sprite,point.x,point.y,null,filterFun);
	}

	DisControlTool.findFirstObjectsUnderGlobalPoint=function(){
		var disList;
		disList=DisControlTool.getObjectsUnderGlobalPoint(Laya.stage);
		if (!disList)return null;
		var i=0,len=0;
		var tDis;
		len=disList.length;
		for (i=len-1;i>=0;i--){
			tDis=disList[i];
			if (tDis && tDis.numChildren < 1){
				return tDis;
			}
		}
		return tDis;
	}

	DisControlTool.visibleAndEnableObjFun=function(tar){
		return tar.visible&&tar.mouseEnabled;
	}

	DisControlTool.visibleObjFun=function(tar){
		return tar.visible;
	}

	DisControlTool.getMousePoint=function(sprite){
		var point=new Point();
		point.setTo(Laya.stage.mouseX,Laya.stage.mouseY);
		point=sprite.globalToLocal(point);
		return point;
	}

	DisControlTool.isChildE=function(parent,child){
		if (!parent)return false;
		while (child){
			if (child.parent==parent)return true;
			child=child.parent;
		}
		return false;
	}

	DisControlTool.isInTree=function(pNode,child){
		return pNode==child || DisControlTool.isChildE(pNode,child);
	}

	DisControlTool.setTop=function(tar){
		if(tar&&tar.parent){
			var tParent;
			tParent=tar.parent;
			tParent.setChildIndex(tar,tParent.numChildren-1);
		}
	}

	DisControlTool.clearItemRelativeInfo=function(item){
		var Nan="NaN";
		item.getLayout().left=Nan;
		item.getLayout().right=Nan;
		item.getLayout().top=Nan;
		item.getLayout().bottom=Nan;
	}

	DisControlTool.swap=function(tarA,tarB){
		if (tarA==tarB)return;
		var iA=0;
		iA=tarA.parent.getChildIndex(tarA);
		var iB=0;
		iB=tarB.parent.getChildIndex(tarB);
		var bP;
		bP=tarB.parent;
		tarA.parent.addChildAt(tarB,iA);
		bP.addChildAt(tarA,iB);
	}

	DisControlTool.insertToTarParent=function(tarA,tars,after){
		(after===void 0)&& (after=false);
		var tIndex=0;
		var parent;
		if(!tarA)return;
		parent=tarA.parent;
		if(!parent)return;
		tIndex=parent.getChildIndex(tarA);
		if(after)tIndex++;
		DisControlTool.insertToParent(parent,tars,tIndex);
	}

	DisControlTool.insertToParent=function(parent,tars,index){
		(index===void 0)&& (index=-1);
		if(!parent)return;
		if(index<0)index=parent.numChildren;
		var i=0,len=0;
		len=tars.length;
		for(i=0;i<len;i++){
			DisControlTool.transParent(tars[i],parent);
			parent.addChildAt(tars[i],index);
		}
	}

	DisControlTool.transParent=function(tar,newParent){
		if(!tar||!newParent)return;
		if(!tar.parent)return;
		var preParent;
		preParent=tar.parent;
		var pos;
		pos=new Point(tar.x,tar.y);
		pos=preParent.localToGlobal(pos);
		pos=newParent.globalToLocal(pos);
		tar.pos(pos.x,pos.y);
	}

	DisControlTool.transPoint=function(nowParent,tarParent,point){
		point=nowParent.localToGlobal(point);
		point=tarParent.globalToLocal(point);
		return point;
	}

	DisControlTool.removeItems=function(itemList){
		var i=0,len=0;
		len=itemList.length;
		for (i=0;i < len;i++){
			(itemList [i]).removeSelf();
		}
	}

	DisControlTool.addItems=function(itemList,parent){
		var i=0,len=0;
		len=itemList.length;
		for (i=0;i < len;i++){
			parent.addChild(itemList[i]);
		}
	}

	DisControlTool.getAllChild=function(tar){
		if(!tar)return [];
		var i=0;
		var len=0;
		var rst=[];
		len=tar.numChildren;
		for(i=0;i<len;i++){
			rst.push(tar.getChildAt(i));
		}
		return rst;
	}

	DisControlTool.upDis=function(child){
		if(child&&child.parent){
			var tParent;
			tParent=child.parent;
			var newIndex=0;
			newIndex=tParent.getChildIndex(child)+1;
			if(newIndex>=tParent.numChildren){
				newIndex=tParent.numChildren-1;
			}
			console.log("setChildIndex:"+newIndex);
			tParent.setChildIndex(child,newIndex);
		}
	}

	DisControlTool.downDis=function(child){
		if(child&&child.parent){
			var tParent;
			tParent=child.parent;
			var newIndex=0;
			newIndex=tParent.getChildIndex(child)-1;
			if(newIndex<0)newIndex=0;
			console.log("setChildIndex:"+newIndex);
			tParent.setChildIndex(child,newIndex);
		}
	}

	DisControlTool.setResizeAbleEx=function(node){
		var clickItem;
		clickItem=node.getChildByName("resizeBtn");
		if (clickItem){
			SimpleResizer.setResizeAble(clickItem,node);
		}
	}

	DisControlTool.setResizeAble=function(node){
		node.on("click",null,DisControlTool.resizeHandler,[node]);
	}

	DisControlTool.resizeHandler=function(tar){
		DisResizer.setUp(tar);
	}

	DisControlTool.setDragingItem=function(dragBar,tar){
		dragBar.on("mousedown",null,DisControlTool.dragingHandler,[tar]);
		tar.on("dragend",null,DisControlTool.dragingEnd,[tar]);
	}

	DisControlTool.dragingHandler=function(tar){
		if (tar){
			tar.startDrag();
		}
	}

	DisControlTool.dragingEnd=function(tar){
		DisControlTool.intFyDisPos(tar);
		console.log(tar.x,tar.y);
	}

	DisControlTool.showToStage=function(dis,offX,offY){
		(offX===void 0)&& (offX=0);
		(offY===void 0)&& (offY=0);
		var rec=dis.getBounds();
		dis.x=Laya.stage.mouseX+offX;
		dis.y=Laya.stage.mouseY+offY;
		if (dis.x+rec.width > Laya.stage.width){
			dis.x-=rec.width+offX;
		}
		if (dis.y+rec.height > Laya.stage.height){
			dis.y-=rec.height+offY;
		}
		DisControlTool.intFyDisPos(dis);
	}

	DisControlTool.intFyDisPos=function(dis){
		if (!dis)return;
		dis.x=Math.round(dis.x);
		dis.y=Math.round(dis.y);
	}

	DisControlTool.showOnly=function(disList,showItem){
		var i=0,len=0;
		len=disList.length;
		for (i=0;i < len;i++){
			disList[i].visible=disList[i]==showItem;
		}
	}

	DisControlTool.showOnlyByIndex=function(disList,index){
		DisControlTool.showOnly(disList,disList[index]);
	}

	DisControlTool.addOnly=function(disList,showItem,parent){
		var i=0,len=0;
		len=disList.length;
		for (i=0;i < len;i++){
			if (disList[i] !=showItem){
				disList[i].removeSelf();
				}else{
				parent.addChild(disList[i]);
			}
		}
	}

	DisControlTool.addOnlyByIndex=function(disList,index,parent){
		DisControlTool.addOnly(disList,disList[index],parent);
	}

	__static(DisControlTool,
	['tempP',function(){return this.tempP=new Point();}
	]);
	return DisControlTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DisplayHook.as=======199.999386/199.999386
/**
*调试拾取显示对象类
*@author ww
*/
//class laya.debug.tools.DisplayHook
var DisplayHook=(function(){
	function DisplayHook(){
		this.mouseX=NaN;
		this.mouseY=NaN;
		this._stage=null;
		this._target=null;
		this.isGetting=false;
		this._matrix=new Matrix();
		this._point=new Point();
		this._rect=new Rectangle();
		this._event=Event.EMPTY;
		this._stage=Laya.stage;
		this.init(Render.context.canvas);
	}

	__class(DisplayHook,'laya.debug.tools.DisplayHook');
	var __proto=DisplayHook.prototype;
	__proto.init=function(canvas){
		var _$this=this;
		if (Browser.window.navigator.msPointerEnabled){
			canvas.style['-ms-content-zooming']='none';
			canvas.style['-ms-touch-action']='none';
		};
		var _this=this;
		Browser.document.addEventListener('mousedown',function(e){
			_$this._event._stoped=false;
			DisplayHook.isFirst=true;
			_this.check(_this._stage,e.offsetX,e.offsetY,_this.onMouseDown,true,false);
		},true);
		Browser.document.addEventListener('touchstart',function(e){
			_$this._event._stoped=false;
			DisplayHook.isFirst=true;
			var touches=e.changedTouches;
			for (var i=0,n=touches.length;i < n;i++){
				var touch=touches[i];
				initEvent(touch,e);
				_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown,true,false);
			}
		},true);
		function initEvent (e,event){
			_this._event._stoped=false;
			_this._event.nativeEvent=event || e;
			_this._target=null;
			if (e.offsetX){
				_this.mouseX=e.offsetX;
				_this.mouseY=e.offsetY;
				}else {
				_this.mouseX=e.clientX-Laya.stage.offset.x;
				_this.mouseY=e.clientY-Laya.stage.offset.y;
			}
		}
	}

	__proto.onMouseMove=function(ele,hit){
		this.sendEvent(ele,"mousemove");
		return;
		if (hit && ele !=this._stage && ele!==this._target){
			if (this._target){
				if (this._target.$_MOUSEOVER){
					this._target.$_MOUSEOVER=false;
					this._target.event("mouseout");
				}
			}
			this._target=ele;
			if (!ele.$_MOUSEOVER){
				ele.$_MOUSEOVER=true;
				this.sendEvent(ele,"mouseover");
			}
			}else if (!hit && this._target && ele===this._target){
			this._target=null;
			if (ele.$_MOUSEOVER){
				ele.$_MOUSEOVER=false;
				this.sendEvent(ele,"mouseout");
			}
		}
	}

	__proto.onMouseUp=function(ele,hit){
		hit && this.sendEvent(ele,"mouseup");
	}

	__proto.onMouseDown=function(ele,hit){
		if (hit){
			ele.$_MOUSEDOWN=true;
			this.sendEvent(ele,"mousedown");
		}
	}

	__proto.sendEvent=function(ele,type){
		if (!this._event._stoped){
			ele.event(type,this._event.setTo(type,ele,ele));
			if (type==="mouseup" && ele.$_MOUSEDOWN){
				ele.$_MOUSEDOWN=false;
				ele.event("click",this._event.setTo("click",ele,ele));
			}
		}
	}

	__proto.selectDisUnderMouse=function(){
		DisplayHook.isFirst=true;
		this.check(Laya.stage,Laya.stage.mouseX,Laya.stage.mouseY,null,true,false);
		laya.debug.view.nodeInfo.views.SelectInfosView.I.setSelectTarget(DebugTool.target);
	}

	__proto.getDisUnderMouse=function(){
		this.isGetting=true;
		DisplayHook.isFirst=true;
		DebugTool.target=null;
		this.check(Laya.stage,Laya.stage.mouseX,Laya.stage.mouseY,null,true,false);
		this.isGetting=false;
		return DebugTool.target;
	}

	__proto.check=function(sp,mouseX,mouseY,callBack,hitTest,mouseEnable){
		if (sp==DebugTool.debugLayer)return false;
		if (sp==DebugInfoLayer.I)return false;
		if (this.isGetting && sp==DebugInfoLayer.I)return false;
		if (!sp.visible || sp.getSelfBounds().width<=0)return false;
		var isHit=false;
		mouseEnable=true
		if (mouseEnable){
			var graphicHit=false;
			if (hitTest){
				this._rect=sp.getBounds();
				isHit=this._rect.contains(mouseX,mouseY);
				this._point.setTo(mouseX,mouseY);
				sp.fromParentPoint(this._point);
				mouseX=this._point.x;
				mouseY=this._point.y;
			}
			if (isHit){
				var flag=false;
				for (var i=sp._children.length-1;i >-1;i--){
					var child=sp._children[i];
					(flag=this.check(child,mouseX,mouseY,callBack,hitTest,true));
					if (flag)break ;
				}
				graphicHit=sp.getGraphicBounds().contains(mouseX,mouseY);
				isHit=flag||graphicHit;
				if(isHit&&!flag&&DisplayHook.isFirst){
					DisplayHook.isFirst=false;
					if(! ((sp instanceof laya.debug.tools.debugUI.DButton ))){
						DebugTool.target=sp;
						if (!this.isGetting){
							DebugTool.autoWork();
							Notice.notify("ItemClicked",sp);
						}
					}
				}
			}
		}
		return isHit;
	}

	DisplayHook.initMe=function(){
		if(!DisplayHook.instance){
			DisplayHook.instance=new DisplayHook();
		}
	}

	DisplayHook.ITEM_CLICKED="ItemClicked";
	DisplayHook.instance=null;
	DisplayHook.isFirst=false;
	return DisplayHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/DTrace.as=======199.999383/199.999383
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-28 上午10:39:47
*/
//class laya.debug.tools.DTrace
var DTrace=(function(){
	function DTrace(){}
	__class(DTrace,'laya.debug.tools.DTrace');
	DTrace.getArgArr=function(arg){
		var rst;
		rst=[];
		var i=0,len=arg.length;
		for(i=0;i<len;i++){
			rst.push(arg[i]);
		}
		return rst;
	}

	DTrace.dTrace=function(__arg){
		var arg=arguments;
		arg=DTrace.getArgArr(arg);
		arg.push(TraceTool.getCallLoc(2));
		console.log.apply(console,arg);
		var str;
		str=arg.join(" ");
	}

	DTrace.timeStart=function(sign){
		console.time(sign);;
	}

	DTrace.timeEnd=function(sign){
		console.timeEnd(sign);;
	}

	DTrace.traceTable=function(data){
		console.table(data);;
	}

	return DTrace;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/enginehook/ClassCreateHook.as=======199.999382/199.999382
/**
*...
*@author ww
*/
//class laya.debug.tools.enginehook.ClassCreateHook
var ClassCreateHook=(function(){
	function ClassCreateHook(){
		this.createInfo={};
	}

	__class(ClassCreateHook,'laya.debug.tools.enginehook.ClassCreateHook');
	var __proto=ClassCreateHook.prototype;
	__proto.hookClass=function(clz){
		var _$this=this;
		if (ClassCreateHook.isInited)return;
		ClassCreateHook.isInited=true;
		var createFun=function (sp){
			_$this.classCreated(sp,clz);
		}
		FunHook.hook(clz,"call",createFun);
	}

	__proto.classCreated=function(clz,oClass){
		var key;
		key=ClassTool.getNodeClassAndName(clz);
		var depth=0;
		var tClz;
		tClz=clz;
		while (tClz && tClz !=oClass){
			tClz=tClz.__super;
			depth++;
		}
		if (!ClassCreateHook.I.createInfo[key]){
			ClassCreateHook.I.createInfo[key]=0;
		}
		ClassCreateHook.I.createInfo[key]=ClassCreateHook.I.createInfo[key]+1;
		RunProfile.run(key,depth+6);
	}

	__proto.getClassCreateInfo=function(clz){
		var key;
		key=ClassTool.getClassName(clz);
		return RunProfile.getRunInfo(key);
	}

	ClassCreateHook.isInited=false;
	__static(ClassCreateHook,
	['I',function(){return this.I=new ClassCreateHook();}
	]);
	return ClassCreateHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/enginehook/RenderSpriteHook.as=======199.999377/199.999377
/**
*...
*@author ww
*/
//class laya.debug.tools.enginehook.RenderSpriteHook
var RenderSpriteHook=(function(){
	function RenderSpriteHook(){
		/**@private */
		//this._next=null;
		/**@private */
		//this._fun=null;
	}

	__class(RenderSpriteHook,'laya.debug.tools.enginehook.RenderSpriteHook');
	var __proto=RenderSpriteHook.prototype;
	__proto._canvas=function(sprite,context,x,y){
		if (!SpriteRenderForVisibleAnalyse.allowRendering)return;
		var _cacheStyle=sprite._cacheStyle;
		var _next=this._next;
		var _repaint;
		if (!_cacheStyle.enableCanvasRender){
			RenderSpriteHook._oldCanvas.call(this,sprite,context,x,y);
			return;
		}
		if (sprite._needRepaint()|| (!_cacheStyle.canvas)){
			_repaint=true;
			}else{
			_repaint=false;
		};
		var preTime;
		preTime=Browser.now();
		RenderSpriteHook._oldCanvas.call(this,sprite,context,x,y);
		if (Config.showCanvasMark){
		}
		if (_repaint){
			CacheAnalyser.I.reCacheCanvas(sprite,Browser.now()-preTime);
			}else{
			CacheAnalyser.I.renderCanvas(sprite,Browser.now()-preTime);
		}
	}

	RenderSpriteHook.init=function(){
		if (RenderSpriteHook._oldCanvas)return;
		RenderSpriteHook._oldCanvas=RenderSprite["prototype"]["_canvas"];
		RenderSprite["prototype"]["_canvas"]=RenderSpriteHook["prototype"]["_canvas"];
	}

	RenderSpriteHook.IMAGE=0x01;
	RenderSpriteHook.FILTERS=0x02;
	RenderSpriteHook.ALPHA=0x04;
	RenderSpriteHook.TRANSFORM=0x08;
	RenderSpriteHook.CANVAS=0x10;
	RenderSpriteHook.BLEND=0x20;
	RenderSpriteHook.CLIP=0x40;
	RenderSpriteHook.STYLE=0x80;
	RenderSpriteHook.GRAPHICS=0x100;
	RenderSpriteHook.CUSTOM=0x200;
	RenderSpriteHook.ENABLERENDERMERGE=0x400;
	RenderSpriteHook.CHILDS=0x800;
	RenderSpriteHook.INIT=0x11111;
	RenderSpriteHook.renders=[];
	RenderSpriteHook._oldCanvas=null;
	RenderSpriteHook.I=null;
	RenderSpriteHook._preCreateFun=null;
	return RenderSpriteHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/enginehook/SpriteRenderForVisibleAnalyse.as=======199.999376/199.999376
/**
*...
*@author ww
*/
//class laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse
var SpriteRenderForVisibleAnalyse=(function(){
	function SpriteRenderForVisibleAnalyse(){
		/**@private */
		this._repaint=1;
		this._renderType=1;
		this._x=0;
		this._y=0;
		this.target=null;
		this.isTargetRenderd=false;
		this.preFun=null;
		this._next=null;
		this.pgraphic=RenderSprite["prototype"]["_graphics"];
		this.pimage=RenderSprite["prototype"]["_image"];
		this.pimage2=RenderSprite["prototype"]["_image2"];
	}

	__class(SpriteRenderForVisibleAnalyse,'laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse');
	var __proto=SpriteRenderForVisibleAnalyse.prototype;
	__proto.setRenderHook=function(){
		Sprite["prototype"]["render"]=SpriteRenderForVisibleAnalyse.I.render;
	}

	/**
	*更新、呈现显示对象。
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.render=function(context,x,y){
		var me;
		me=this;
		if (DebugInfoLayer.I.isDebugItem(me))return;
		if (me==laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.target){
			laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering=true;
			laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.isTargetRenderd=true;
			CanvasTools.clearCanvas(SpriteRenderForVisibleAnalyse.mainCanvas);
		}
		RenderSprite.renders[this._renderType]._fun(this,context,x+this._x,y+this._y);
		if (me==laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.I.target){
			SpriteRenderForVisibleAnalyse.tarRec=CanvasTools.getCanvasDisRec(laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.mainCanvas);
			console.log("rec",SpriteRenderForVisibleAnalyse.tarRec.toString());
			if (SpriteRenderForVisibleAnalyse.tarRec.width >0&& SpriteRenderForVisibleAnalyse.tarRec.height > 0){
				SpriteRenderForVisibleAnalyse.isTarRecOK=true;
				SpriteRenderForVisibleAnalyse.preImageData=CanvasTools.getImageDataFromCanvasByRec(SpriteRenderForVisibleAnalyse.mainCanvas,SpriteRenderForVisibleAnalyse.tarRec);
				SpriteRenderForVisibleAnalyse.tarImageData=CanvasTools.getImageDataFromCanvasByRec(SpriteRenderForVisibleAnalyse.mainCanvas,SpriteRenderForVisibleAnalyse.tarRec);
				}else{
				console.log("tarRec Not OK:",SpriteRenderForVisibleAnalyse.tarRec);
			}
			}else{
			if (SpriteRenderForVisibleAnalyse.isTarRecOK){
				SpriteRenderForVisibleAnalyse.tImageData=CanvasTools.getImageDataFromCanvasByRec(SpriteRenderForVisibleAnalyse.mainCanvas,SpriteRenderForVisibleAnalyse.tarRec);
				var dRate=NaN;
				dRate=CanvasTools.getDifferRate(SpriteRenderForVisibleAnalyse.preImageData,SpriteRenderForVisibleAnalyse.tImageData);
				SpriteRenderForVisibleAnalyse.preImageData=SpriteRenderForVisibleAnalyse.tImageData;
				if (dRate > 0){
					VisibleAnalyser.addCoverNode(me,dRate);
				}
			}
		}
	}

	__proto.analyseNode=function(node){
		VisibleAnalyser.resetCoverList();
		if (Sprite["prototype"]["render"] !=SpriteRenderForVisibleAnalyse.I.render){
			this.preFun=Sprite["prototype"]["render"];
		}
		this.target=node;
		Sprite["prototype"]["render"]=this.render;
		if (!SpriteRenderForVisibleAnalyse.tarCanvas)
			SpriteRenderForVisibleAnalyse.tarCanvas=CanvasTools.createCanvas(Laya.stage.width,Laya.stage.height);
		if (!SpriteRenderForVisibleAnalyse.mainCanvas)
			SpriteRenderForVisibleAnalyse.mainCanvas=CanvasTools.createCanvas(Laya.stage.width,Laya.stage.height);
		this.isTargetRenderd=false;
		SpriteRenderForVisibleAnalyse.isVisibleTesting=true;
		SpriteRenderForVisibleAnalyse.allowRendering=false;
		CanvasTools.clearCanvas(SpriteRenderForVisibleAnalyse.mainCanvas);
		CanvasTools.clearCanvas(SpriteRenderForVisibleAnalyse.tarCanvas);
		SpriteRenderForVisibleAnalyse.isTarRecOK=false;
		var ctx=new RenderContext(SpriteRenderForVisibleAnalyse.mainCanvas.width,SpriteRenderForVisibleAnalyse.mainCanvas.height,SpriteRenderForVisibleAnalyse.mainCanvas);
		SpriteRenderForVisibleAnalyse.mainCanvas=ctx.canvas;
		this.render.call(Laya.stage,ctx,0,0);
		if (!SpriteRenderForVisibleAnalyse.isTarRecOK){
			SpriteRenderForVisibleAnalyse.coverRate=0;
			}else{
			SpriteRenderForVisibleAnalyse.coverRate=CanvasTools.getDifferRate(SpriteRenderForVisibleAnalyse.preImageData,SpriteRenderForVisibleAnalyse.tarImageData);
		}
		VisibleAnalyser.coverRate=SpriteRenderForVisibleAnalyse.coverRate;
		VisibleAnalyser.isTarRecOK=SpriteRenderForVisibleAnalyse.isTarRecOK;
		console.log("coverRate:",SpriteRenderForVisibleAnalyse.coverRate);
		this.isTargetRenderd=false;
		SpriteRenderForVisibleAnalyse.isVisibleTesting=false;
		SpriteRenderForVisibleAnalyse.allowRendering=true;
		Sprite["prototype"]["render"]=this.preFun;
	}

	__proto.noRenderMode=function(){
		return;
		RenderSprite["prototype"]["_graphics"]=this.m_graphics;
		RenderSprite["prototype"]["_image"]=this.m_image;
		RenderSprite["prototype"]["_image2"]=this.m_image2;
	}

	__proto.normalMode=function(){
		RenderSprite["prototype"]["_graphics"]=this.pgraphic;
		RenderSprite["prototype"]["_image"]=this.pimage;
		RenderSprite["prototype"]["_image2"]=this.pimage2;
	}

	__proto.inits=function(){
		this.noRenderMode();
	}

	__proto.m_graphics=function(sprite,context,x,y){
		if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering){
			var tf=sprite._style;
			sprite._graphics && sprite._graphics._render(sprite,context,x-tf.translateX,y-tf.translateY);
		};
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto.m_image=function(sprite,context,x,y){
		if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering){
			var style=sprite._style;
			context.drawTexture2(x,y,style.translateX,style.translateY,sprite.transform,style.alpha,style.blendMode,sprite._graphics._one);
		}
	}

	__proto.m_image2=function(sprite,context,x,y){
		if (laya.debug.tools.enginehook.SpriteRenderForVisibleAnalyse.allowRendering){
			var tf=sprite._style;
			context.drawTexture2(x,y,tf.translateX,tf.translateY,sprite.transform,1,null,sprite._graphics._one);
		}
	}

	SpriteRenderForVisibleAnalyse.tarCanvas=null;
	SpriteRenderForVisibleAnalyse.mainCanvas=null;
	SpriteRenderForVisibleAnalyse.preImageData=null;
	SpriteRenderForVisibleAnalyse.tImageData=null;
	SpriteRenderForVisibleAnalyse.tarImageData=null;
	SpriteRenderForVisibleAnalyse.tarRec=null;
	SpriteRenderForVisibleAnalyse.isTarRecOK=false;
	SpriteRenderForVisibleAnalyse.isVisibleTesting=false;
	SpriteRenderForVisibleAnalyse.allowRendering=true;
	SpriteRenderForVisibleAnalyse.coverRate=NaN;
	__static(SpriteRenderForVisibleAnalyse,
	['I',function(){return this.I=new SpriteRenderForVisibleAnalyse();}
	]);
	return SpriteRenderForVisibleAnalyse;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/enginehook/SpriteRenderHook.as=======199.999375/199.999375
/**
*...
*@author ww
*/
//class laya.debug.tools.enginehook.SpriteRenderHook
var SpriteRenderHook=(function(){
	function SpriteRenderHook(){
		/**@private */
		this._repaint=1;
		this._renderType=1;
		this._x=0;
		this._y=0;
	}

	__class(SpriteRenderHook,'laya.debug.tools.enginehook.SpriteRenderHook');
	var __proto=SpriteRenderHook.prototype;
	/**
	*更新、呈现显示对象。
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.render=function(context,x,y){
		if ((this)==Laya.stage){
			CacheAnalyser.renderLoopBegin();
		};
		var preTime=0;
		preTime=Browser.now();
		Stat.spriteCount++;
		if (this["ShowBorderSign"]){
			DebugTool.showDisBoundToSprite(this,DebugInfoLayer.I.cacheViewLayer,DebugConsts.SPRITE_REC_COLOR,DebugConsts.SPRITE_REC_LINEWIDTH);
		}
		RenderSprite.renders[this._renderType]._fun(this,context,x+this._x,y+this._y);
		this._repaint=0;
		RenderAnalyser.I.render(this,Browser.now()-preTime);
	}

	SpriteRenderHook.init=function(){
		if (SpriteRenderHook.I)return;
		SpriteRenderHook.I=new SpriteRenderHook();
		SpriteRenderHook.setRenderHook();
	}

	SpriteRenderHook.setRenderHook=function(){
		Sprite["prototype"]["render"]=SpriteRenderHook.I.render;
	}

	SpriteRenderHook.showDisplayBorder=function(sprite,ifShowBorder){
		(ifShowBorder===void 0)&& (ifShowBorder=true);
		sprite["ShowBorderSign"]=ifShowBorder;
	}

	SpriteRenderHook.isDisplayShowBorder=function(sprite){
		return sprite["ShowBorderSign"];
	}

	SpriteRenderHook.I=null;
	SpriteRenderHook.ShowBorderSign="ShowBorderSign";
	return SpriteRenderHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/hook/FunHook.as=======199.999370/199.999370
/**
*本类用于在对象的函数上挂钩子
*@author ww
*@version 1.0
*
*@created 2015-10-23 下午1:13:13
*/
//class laya.debug.tools.hook.FunHook
var FunHook=(function(){
	function FunHook(){}
	__class(FunHook,'laya.debug.tools.hook.FunHook');
	FunHook.hook=function(obj,funName,preFun,aftFun){
		FunHook.hookFuns(obj,funName,[preFun,obj[funName],aftFun],1);
	}

	FunHook.hookAllFun=function(obj){
		var key;
		var arr;
		arr=ClassTool.getOwnPropertyNames(obj);
		for(key in arr){
			key=arr[key];
			if (FunHook.special[key])continue ;
			console.log("try hook:",key);
			if((typeof (obj[key])=='function')){
				console.log("hook:",key);
				FunHook.hookFuns(obj,key,[FunHook.getTraceMsg("call:"+key),obj[key]],1);
			}
		}
		if(obj["__proto__"]){
			FunHook.hookAllFun(obj["__proto__"]);
			}else{
			console.log("end:",obj);
		}
	}

	FunHook.getTraceMsg=function(msg){
		var rst;
		rst=function (){
			console.log(msg);
		}
		return rst;
	}

	FunHook.hookFuns=function(obj,funName,funList,rstI){
		(rstI===void 0)&& (rstI=-1);
		var _preFun=obj[funName];
		var newFun;
		newFun=function (__args){
			var args=arguments;
			var rst;
			var i=0;
			var len=0;
			len=funList.length;
			for(i=0;i<len;i++){
				if(!funList[i])continue ;
				if(i==rstI){
					rst=funList[i].apply(this,args);
					}else{
					funList[i].apply(this,args);
				}
			}
			return rst;
		};
		newFun["pre"]=_preFun;
		obj[funName]=newFun;
	}

	FunHook.removeHook=function(obj,funName){
		if(obj[funName].pre!=null){
			obj[funName]=obj[funName].pre;
		}
	}

	FunHook.debugHere=function(){
		debugger;;
	}

	FunHook.traceLoc=function(level,msg){
		(level===void 0)&& (level=0);
		(msg===void 0)&& (msg="");
		console.log(msg,"fun loc:",TraceTool.getCallLoc(3+level));
	}

	FunHook.getLocFun=function(level,msg){
		(level===void 0)&& (level=0);
		(msg===void 0)&& (msg="");
		level+=1;
		var rst;
		rst=function (){
			FunHook.traceLoc(level,msg);
		}
		return rst;
	}

	__static(FunHook,
	['special',function(){return this.special={
			"length":true,
			"name":true,
			"arguments":true,
			"caller":true,
			"prototype":true,
			"is":true,
			"isExtensible":true,
			"isFrozen":true,
			"isSealed":true,
			"preventExtensions":true,
			"seal":true,
			"unobserve":true,
			"apply":true,
			"call":true,
			"bind":true,
			"freeze":true,
			"unobserve":true
	};}

	]);
	return FunHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/hook/VarHook.as=======199.999369/199.999369
/**
*本类用于监控对象 set get 函数的调用
*@author ww
*@version 1.0
*
*@created 2015-10-23 下午2:52:48
*/
//class laya.debug.tools.hook.VarHook
var VarHook=(function(){
	function VarHook(){}
	__class(VarHook,'laya.debug.tools.hook.VarHook');
	VarHook.hookVar=function(obj,name,setHook,getHook){
		if(!setHook)setHook=[];
		if(!getHook)getHook=[];
		var preO=obj;
		var preValue=obj[name];
		var des;
		des=ClassTool.getOwnPropertyDescriptor(obj,name);
		var ndes={};
		var mSet=function (value){
			console.log("var hook set "+name+":",value);
			preValue=value;
		};
		var mGet=function (){
			console.log("var hook get"+name+":",preValue);
			return preValue;
		}
		if(des){
			ndes.set=mSet;
			ndes.get=mGet;
			ndes.enumerable=des.enumerable;
			setHook.push(ndes.set);
			getHook.push(ndes.get);
			FunHook.hookFuns(ndes,"set",setHook);
			FunHook.hookFuns(ndes,"get",getHook,getHook.length-1);
			ClassTool.defineProperty(obj,name,ndes);
			return;
		}
		while(!des&&obj["__proto__"]){
			obj=obj["__proto__"];
			des=ClassTool.getOwnPropertyDescriptor(obj,name);
		}
		if (des){
			ndes.set=des.set?des.set:mSet;
			ndes.get=des.get?des.get:mGet;
			ndes.enumerable=des.enumerable;
			setHook.push(ndes.set);
			getHook.push(ndes.get);
			FunHook.hookFuns(ndes,"set",setHook);
			FunHook.hookFuns(ndes,"get",getHook,getHook.length-1);
			ClassTool.defineProperty(preO,name,ndes);
		}
		if(!des){
			console.log("get des fail add directly");
			ndes.set=mSet;
			ndes.get=mGet;
			setHook.push(ndes.set);
			getHook.push(ndes.get);
			FunHook.hookFuns(ndes,"set",setHook);
			FunHook.hookFuns(ndes,"get",getHook,getHook.length-1);
			ClassTool.defineProperty(obj,name,ndes);
		}
	}

	VarHook.getLocFun=function(msg,level){
		(msg===void 0)&& (msg="");
		(level===void 0)&& (level=0);
		level+=1;
		var rst;
		rst=function (){
			FunHook.traceLoc(level,msg);
		}
		return rst;
	}

	return VarHook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/IDTools.as=======199.999368/199.999368
/**
*
*@author ww
*@version 1.0
*
*@created 2015-10-29 上午9:45:33
*/
//class laya.debug.tools.IDTools
var IDTools=(function(){
	function IDTools(){
		this.tID=1;
	}

	__class(IDTools,'laya.debug.tools.IDTools');
	var __proto=IDTools.prototype;
	__proto.getID=function(){
		return this.tID++;
	}

	IDTools.getAID=function(){
		return IDTools._ID.getID();
	}

	IDTools.idObjE=function(obj,sign){
		(sign===void 0)&& (sign="default");
		if (obj["_M_id_"])return obj;
		if(!sign){
			sign="default";
		}
		if(!IDTools._idDic[sign]){
			IDTools._idDic[sign]=new IDTools();
		}
		obj["_M_id_"]=IDTools._idDic[sign].getAID();
		return obj;
	}

	IDTools.setObjID=function(obj,id){
		obj["_M_id_"]=id;
		return obj;
	}

	IDTools.idObj=function(obj){
		if (obj["_M_id_"])return obj;
		obj["_M_id_"]=IDTools.getAID();
		return obj;
	}

	IDTools.getObjID=function(obj){
		if(!obj)return-1;
		return obj["_M_id_"];
	}

	IDTools.idSign="_M_id_";
	__static(IDTools,
	['_ID',function(){return this._ID=new IDTools();},'_idDic',function(){return this._idDic={"default":new IDTools()};}
	]);
	return IDTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/JsonTool.as=======199.999367/199.999367
/**
*
*@author ww
*@version 1.0
*
*@created 2015-11-27 上午9:58:59
*/
//class laya.debug.tools.JsonTool
var JsonTool=(function(){
	function JsonTool(){}
	__class(JsonTool,'laya.debug.tools.JsonTool');
	JsonTool.getJsonString=function(obj,singleLine,split,depth,Width){
		(singleLine===void 0)&& (singleLine=true);
		(split===void 0)&& (split="\n");
		(depth===void 0)&& (depth=0);
		(Width===void 0)&& (Width=4);
		var preStr="";
		preStr=JsonTool.getEmptyStr(depth*Width);
		var rst;
		var keyValues;
		keyValues={};
		var tKey;
		var tValue;
		var type;
		var keys;
		keys=[];
		for(tKey in obj){
			keys.push(tKey);
			tValue=obj[tKey];
			if(JsonTool.singleLineKey[tKey]){
				keyValues[tKey]=JsonTool.getValueStr(tValue,true,split,depth+1,Width);
				}else{
				keyValues[tKey]=JsonTool.getValueStr(tValue,singleLine,split,depth+1,Width);
			}
		};
		var i=0,len=0;
		len=keys.length;
		keys.sort();
		keys=keys.reverse();
		var keyPreStr;
		keyPreStr=JsonTool.getEmptyStr((depth+1)*Width);
		if(singleLine){
			split="";
			preStr="";
			keyPreStr="";
		};
		var keyValueStrArr;
		keyValueStrArr=[];
		for(i=0;i<len;i++){
			tKey=keys[i];
			keyValueStrArr.push(keyPreStr+JsonTool.wrapValue(tKey)+":"+keyValues[tKey]);
		}
		rst="{"+split+keyValueStrArr.join(","+split)+split+preStr+"}";
		return rst;
	}

	JsonTool.wrapValue=function(value,wraper){
		(wraper===void 0)&& (wraper="\"");
		return wraper+value+wraper;
	}

	JsonTool.getArrStr=function(arr,singleLine,split,depth,Width){
		(singleLine===void 0)&& (singleLine=true);
		(split===void 0)&& (split="\n");
		(depth===void 0)&& (depth=0);
		(Width===void 0)&& (Width=4);
		var rst;
		var i=0,len=0;
		len=arr.length;
		var valueStrArr;
		valueStrArr=[];
		for(i=0;i<len;i++){
			valueStrArr.push(JsonTool.getValueStr(arr[i],singleLine,split,depth+1,Width));
		};
		var preStr="";
		preStr=JsonTool.getEmptyStr((depth+1)*Width);
		if(singleLine){
			split="";
			preStr="";
		}
		rst="["+split+preStr+valueStrArr.join(","+split+preStr)+"]";
		return rst;
	}

	JsonTool.quote=function(string){
		JsonTool.escapable.lastIndex=0;
		return JsonTool.escapable.test(string)? '"'+string.replace(JsonTool.escapable,function(a){
			var c=JsonTool.meta[a];
			return typeof c==='string' ? c :
			'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);
		})+'"' :'"'+string+'"';
	}

	JsonTool.getValueStr=function(tValue,singleLine,split,depth,Width){
		(singleLine===void 0)&& (singleLine=true);
		(split===void 0)&& (split="\n");
		(depth===void 0)&& (depth=0);
		(Width===void 0)&& (Width=0);
		var rst;
		if((typeof tValue=='string')){
			rst=JsonTool.quote(tValue);
			}else if(tValue==null){
			rst="null";
			}else if((typeof tValue=='number')|| ((typeof tValue=='number')&& Math.floor(tValue)==tValue)|| (typeof tValue=='boolean')){
			rst=tValue;
			}else if((tValue instanceof Array)){
			rst=JsonTool.getArrStr(tValue,singleLine,split,depth,Width);
			}else if((typeof tValue=='object')){
			rst=JsonTool.getJsonString(tValue,singleLine,split,depth,Width);
			}else{
			rst=tValue;
		}
		return rst;
	}

	JsonTool.getEmptyStr=function(width){
		if(!JsonTool.emptyDic.hasOwnProperty(width)){
			var i=0;
			var len=0;
			len=width;
			var rst;
			rst="";
			for(i=0;i<len;i++){
				rst+=" ";
			}
			JsonTool.emptyDic[width]=rst;
		}
		return JsonTool.emptyDic[width];
	}

	JsonTool.emptyDic={};
	__static(JsonTool,
	['singleLineKey',function(){return this.singleLineKey={
			"props":true
		};},'escapable',function(){return this.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;},'meta',function(){return this.meta = {   
		'\b':'\\b',
		'\t':'\\t',
		'\n':'\\n',
		'\f':'\\f',
		'\r':'\\r',
		'"' :'\\"',
		'\\':'\\\\'
};}


]);
return JsonTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/JSTools.as=======199.999366/199.999366
/**
*本类用于操作html对象
*@author ww
*/
//class laya.debug.tools.JSTools
var JSTools=(function(){
	function JSTools(){}
	__class(JSTools,'laya.debug.tools.JSTools');
	JSTools.showToBody=function(el,x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		Browser.document.body.appendChild(el);
		var style;
		style=el.style;
		style.position="absolute";
		style.top=y+"px";
		style.left=x+"px";
	}

	JSTools.showToParent=function(el,x,y,parent){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		parent.appendChild(el);
		var style;
		style=el.style;
		style.position="absolute";
		style.top=y+"px";
		style.left=x+"px";
	}

	JSTools.addToBody=function(el){
		Browser.document.body.appendChild(el);
	}

	JSTools.setPos=function(el,x,y){
		var style;
		style=el.style;
		style.top=y+"px";
		style.left=x+"px";
	}

	JSTools.setSize=function(el,width,height){
		var style;
		style=el.style;
		style.width=width+"px";
		style.height=height+"px";
	}

	JSTools.setTransform=function(el,mat){
		var style;
		style=el.style;
		style.transformOrigin=style.webkitTransformOrigin=style.msTransformOrigin=style.mozTransformOrigin=style.oTransformOrigin="0px 0px 0px";
		style.transform=style.webkitTransform=style.msTransform=style.mozTransform=style.oTransform="matrix("+mat.toString()+")";
	}

	JSTools.noMouseEvent=function(el){
		var style;
		style=el.style;
		style["pointer-events"]="none";
	}

	JSTools.setMouseEnable=function(el,enable){
		var style;
		style=el.style;
		style["pointer-events"]=enable?"auto":"none";
	}

	JSTools.setZIndex=function(el,zIndex){
		var style;
		style=el.style;
		style["z-index"]=zIndex;
	}

	JSTools.showAboveSprite=function(el,sprite,dx,dy){
		(dx===void 0)&& (dx=0);
		(dy===void 0)&& (dy=0);
		var pos;
		pos=new Point();
		pos=sprite.localToGlobal(pos);
		pos.x+=dx;
		pos.y+=dy;
		pos.x+=Laya.stage.offset.x;
		pos.y+=Laya.stage.offset.y;
		JSTools.showToBody(el,pos.x,pos.y);
	}

	JSTools.removeElement=function(el){
		Browser.removeElement(el);
	}

	JSTools.isElementInDom=function(el){
		return el && el.parentNode;
	}

	JSTools.getImageSpriteByFile=function(file,width,height){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		var reader;
		reader=new FileReader();;
		reader.readAsDataURL(file);
		var sprite;
		sprite=new Sprite();
		reader.onload=function (e){
			var txt;
			txt=new Texture();
			txt.load(reader.result);
			sprite.graphics.drawTexture(txt,0,0,width,height);
		}
		return sprite;
	}

	JSTools.getPixelRatio=function(){
		if (JSTools._pixelRatio > 0)return JSTools._pixelRatio;
		var canvas=Browser.createElement("canvas");
		var context=canvas.getContext('2d');
		var devicePixelRatio=Browser.window.devicePixelRatio || 1;
		var backingStoreRatio=context.webkitBackingStorePixelRatio ||
		context.mozBackingStorePixelRatio ||
		context.msBackingStorePixelRatio ||
		context.oBackingStorePixelRatio ||
		context.backingStorePixelRatio || 1;
		var ratio=devicePixelRatio / backingStoreRatio;
		console.log("pixelRatioc:",ratio);
		JSTools._pixelRatio=ratio;
		return ratio;
	}

	JSTools._pixelRatio=-1;
	return JSTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/MathTools.as=======199.999362/199.999362
/**
*...
*@author ww
*/
//class laya.debug.tools.MathTools
var MathTools=(function(){
	function MathTools(){}
	__class(MathTools,'laya.debug.tools.MathTools');
	MathTools.sortBigFirst=function(a,b){
		if (a==b)
			return 0;
		return b > a ? 1 :-1;
	}

	MathTools.sortSmallFirst=function(a,b){
		if (a==b)
			return 0;
		return b > a ?-1 :1;
	}

	MathTools.sortNumBigFirst=function(a,b){
		return parseFloat(b)-parseFloat(a);
	}

	MathTools.sortNumSmallFirst=function(a,b){
		return parseFloat(a)-parseFloat(b);
	}

	MathTools.sortByKey=function(key,bigFirst,forceNum){
		(bigFirst===void 0)&& (bigFirst=false);
		(forceNum===void 0)&& (forceNum=true);
		var _sortFun;
		if (bigFirst){
			_sortFun=forceNum ? MathTools.sortNumBigFirst :MathTools.sortBigFirst;
			}else {
			_sortFun=forceNum ? MathTools.sortNumSmallFirst :MathTools.sortSmallFirst;
		}
		return function (a,b){
			return _sortFun(a[key],b[key]);
		};
	}

	return MathTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/MouseEventAnalyser.as=======199.999361/199.999361
/**
*...
*@author ww
*/
//class laya.debug.tools.MouseEventAnalyser
var MouseEventAnalyser=(function(){
	function MouseEventAnalyser(){}
	__class(MouseEventAnalyser,'laya.debug.tools.MouseEventAnalyser');
	MouseEventAnalyser.analyseNode=function(node){
		DebugTool.showDisBound(node,true);
		var _node;
		_node=node;
		ObjectTools.clearObj(MouseEventAnalyser.infoO);
		ObjectTools.clearObj(MouseEventAnalyser.nodeO);
		ObjectTools.clearObj(MouseEventAnalyser.hitO);
		var nodeList;
		nodeList=[];
		while (node){
			IDTools.idObj(node);
			MouseEventAnalyser.nodeO[IDTools.getObjID(node)]=node;
			nodeList.push(node);
			node=node.parent;
		}
		MouseEventAnalyser.check(Laya.stage,Laya.stage.mouseX,Laya.stage.mouseY,null);
		var canStr;
		if (MouseEventAnalyser.hitO[IDTools.getObjID(_node)]){
			console.log("can hit");
			canStr="can hit";
		}
		else{
			console.log("can't hit");
			canStr="can't hit";
		};
		var i=0,len=0;
		nodeList=nodeList.reverse();
		len=nodeList.length;
		var rstTxts;
		rstTxts=["[分析对象]:"+ClassTool.getNodeClassAndName(_node)+":"+canStr];
		for (i=0;i < len;i++){
			node=nodeList[i];
			if (MouseEventAnalyser.hitO[IDTools.getObjID(node)]){
				console.log("can hit:",ClassTool.getNodeClassAndName(node));
				console.log("原因:",MouseEventAnalyser.infoO[IDTools.getObjID(node)]);
				rstTxts.push("can hit:"+" "+ClassTool.getNodeClassAndName(node));
				rstTxts.push("原因:"+" "+MouseEventAnalyser.infoO[IDTools.getObjID(node)]);
			}
			else{
				console.log("can't hit:"+ClassTool.getNodeClassAndName(node));
				console.log("原因:",MouseEventAnalyser.infoO[IDTools.getObjID(node)] ? MouseEventAnalyser.infoO[IDTools.getObjID(node)] :"鼠标事件在父级已停止派发");
				rstTxts.push("can't hit:"+" "+ClassTool.getNodeClassAndName(node));
				rstTxts.push("原因:"+" "+(MouseEventAnalyser.infoO[IDTools.getObjID(node)] ? MouseEventAnalyser.infoO[IDTools.getObjID(node)] :"鼠标事件在父级已停止派发"));
			}
		};
		var rstStr;
		rstStr=rstTxts.join("\n");
		laya.debug.view.nodeInfo.ToolPanel.I.showTxtInfo(rstStr);
	}

	MouseEventAnalyser.check=function(sp,mouseX,mouseY,callBack){
		IDTools.idObj(sp);
		var isInAnlyseChain=false;
		isInAnlyseChain=MouseEventAnalyser.nodeO[IDTools.getObjID(sp)];
		MouseEventAnalyser._point.setTo(mouseX,mouseY);
		sp.fromParentPoint(MouseEventAnalyser._point);
		mouseX=MouseEventAnalyser._point.x;
		mouseY=MouseEventAnalyser._point.y;
		var scrollRect=sp.scrollRect;
		if (scrollRect){
			MouseEventAnalyser._rect.setTo(scrollRect.x,scrollRect.y,scrollRect.width,scrollRect.height);
			var isHit=MouseEventAnalyser._rect.contains(mouseX,mouseY);
			if (!isHit){
				if (isInAnlyseChain){
					MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="scrollRect没有包含鼠标"+MouseEventAnalyser._rect.toString()+":"+mouseX+","+mouseY;
				}
				return false;
			}
		};
		var i=0,len=0;
		var cList;
		cList=sp._children;
		len=cList.length;
		var child;
		var childInChain;
		childInChain=null;
		for (i=0;i < len;i++){
			child=cList[i];
			IDTools.idObj(child);
			if (MouseEventAnalyser.nodeO[IDTools.getObjID(child)]){
				childInChain=child;
				break ;
			}
		};
		var coverByOthers=false;
		coverByOthers=childInChain ? true :false;
		var flag=false;
		if (sp.hitTestPrior && !sp.mouseThrough && !MouseEventAnalyser.hitTest(sp,mouseX,mouseY)){
			MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="hitTestPrior=true，宽高区域不包含鼠标:"+":"+mouseX+","+mouseY+" size:"+sp.width+","+sp.height;
			return false;
		}
		for (i=sp._children.length-1;i >-1;i--){
			child=sp._children[i];
			if (child==childInChain){
				if (!childInChain.mouseEnabled){
					MouseEventAnalyser.infoO[IDTools.getObjID(childInChain)]="mouseEnabled=false";
				}
				if (!childInChain.visible){
					MouseEventAnalyser.infoO[IDTools.getObjID(childInChain)]="visible=false";
				}
				coverByOthers=false;
			}
			if (child.mouseEnabled && child.visible){
				flag=MouseEventAnalyser.check(child,mouseX ,mouseY,callBack);
				if (flag){
					MouseEventAnalyser.hitO[IDTools.getObjID(sp)]=true;
					MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="子对象被击中";
					if (child==childInChain){
						MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="子对象被击中,"+"击中对象在分析链中";
					}
					else{
						MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="子对象被击中,"+"击中对象不在分析链中";
						if (coverByOthers){
							MouseEventAnalyser.infoO[IDTools.getObjID(childInChain)]="被兄弟节点挡住,兄弟节点信息:"+ClassTool.getNodeClassAndName(child)+","+child.getBounds().toString();
							DebugTool.showDisBound(child,false,"#ffff00");
						}
					}
					return true;
				}
				else{
					if (child==childInChain){
						coverByOthers=false;
					}
				}
			}
		};
		var mHitRect=new Rectangle();
		var graphicHit=false;
		graphicHit=sp.getGraphicBounds().contains(mouseX,mouseY);
		if (sp.width > 0 && sp.height > 0){
			var hitRect=MouseEventAnalyser._rect;
			if (!sp.mouseThrough){
				if (sp.hitArea)
					hitRect=sp.hitArea;
				else
				hitRect.setTo(0,0,sp.width,sp.height);
				mHitRect.copyFrom(hitRect);
				isHit=hitRect.contains(mouseX,mouseY);
			}
			else{
				isHit=graphicHit;
				mHitRect.copyFrom(sp.getGraphicBounds());
			}
			if (isHit){
				MouseEventAnalyser.hitO[IDTools.getObjID(sp)]=true;
			}
			}else{
		}
		if (!isHit){
			if (graphicHit){
				MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="子对象未包含鼠标，实际绘图区域包含鼠标，设置的宽高区域不包含鼠标:"+":"+mouseX+","+mouseY+" hitRec:"+mHitRect.toString()+" graphicBounds:"+sp.getGraphicBounds().toString()+"，设置mouseThrough=true或将宽高设置到实际绘图区域可解决问题";
				}else{
				MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="子对象未包含鼠标，实际绘图区域不包含鼠标，设置的宽高区域不包含鼠标:"+":"+mouseX+","+mouseY+" hitRec:"+mHitRect.toString()+" graphicBounds:"+sp.getGraphicBounds().toString();
			}
		}
		else{
			MouseEventAnalyser.infoO[IDTools.getObjID(sp)]="自身区域被击中";
		}
		return isHit;
	}

	MouseEventAnalyser.hitTest=function(sp,mouseX,mouseY){
		var isHit=false;
		if ((sp.hitArea instanceof laya.utils.HitArea )){
			return sp.hitArea.isHit(mouseX,mouseY);
		}
		if (sp.width > 0 && sp.height > 0 || sp.mouseThrough || sp.hitArea){
			var hitRect=MouseEventAnalyser._rect;
			if (!sp.mouseThrough){
				if (sp.hitArea)hitRect=sp.hitArea;
				else hitRect.setTo(0,0,sp.width,sp.height);
				isHit=hitRect.contains(mouseX,mouseY);
				}else {
				isHit=sp.getGraphicBounds().contains(mouseX,mouseY);
			}
		}
		return isHit;
	}

	MouseEventAnalyser.infoO={};
	MouseEventAnalyser.nodeO={};
	MouseEventAnalyser.hitO={};
	__static(MouseEventAnalyser,
	['_matrix',function(){return this._matrix=new Matrix();},'_point',function(){return this._point=new Point();},'_rect',function(){return this._rect=new Rectangle();}
	]);
	return MouseEventAnalyser;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ObjectTools.as=======199.999359/199.999359
/**
*本类提供obj相关的一些操作
*@author ww
*@version 1.0
*
*@created 2015-10-21 下午2:03:36
*/
//class laya.debug.tools.ObjectTools
var ObjectTools=(function(){
	function ObjectTools(){}
	__class(ObjectTools,'laya.debug.tools.ObjectTools');
	ObjectTools.getFlatKey=function(tKey,aKey){
		if(tKey=="")return aKey;
		return tKey+ObjectTools.sign+aKey;
	}

	ObjectTools.flatObj=function(obj,rst,tKey){
		(tKey===void 0)&& (tKey="");
		rst=rst?rst:{};
		var key;
		var tValue;
		for(key in obj){
			if((typeof (obj[key])=='object')){
				ObjectTools.flatObj(obj[key],rst,ObjectTools.getFlatKey(tKey,key));
				}else{
				tValue=obj[key];
				rst[ObjectTools.getFlatKey(tKey,key)]=obj[key];
			}
		}
		return rst;
	}

	ObjectTools.recoverObj=function(obj){
		var rst={};
		var tKey;
		for(tKey in obj){
			ObjectTools.setKeyValue(rst,tKey,obj[tKey]);
		}
		return rst;
	}

	ObjectTools.differ=function(objA,objB){
		var tKey;
		var valueA;
		var valueB;
		objA=ObjectTools.flatObj(objA);
		objB=ObjectTools.flatObj(objB);
		var rst={};
		for(tKey in objA){
			if(!objB.hasOwnProperty(tKey)){
				rst[tKey]="被删除";
			}
		}
		for(tKey in objB){
			if(objB[tKey]!=objA[tKey]){
				rst[tKey]={"pre":objA[tKey],"now":objB[tKey]};
			}
		}
		return rst;
	}

	ObjectTools.traceDifferObj=function(obj){
		var key;
		var tO;
		for(key in obj){
			if((typeof (obj[key])=='string')){
				console.log(key+":",obj[key]);
				}else{
				tO=obj[key];
				console.log(key+":","now:",tO["now"],"pre:",tO["pre"]);
			}
		}
	}

	ObjectTools.setKeyValue=function(obj,flatKey,value){
		if(flatKey.indexOf(ObjectTools.sign)>=0){
			var keys=flatKey.split(ObjectTools.sign);
			var tKey;
			while(keys.length>1){
				tKey=keys.shift();
				if(!obj[tKey]){
					obj[tKey]={};
					console.log("addKeyObj:",tKey);
				}
				obj=obj[tKey];
				if(!obj){
					console.log("wrong flatKey:",flatKey);
					return;
				}
			}
			obj[keys.shift()]=value;
			}else{
			obj[flatKey]=value;
		}
	}

	ObjectTools.clearObj=function(obj){
		var key;
		for (key in obj){
			delete obj[key];
		}
	}

	ObjectTools.copyObjFast=function(obj){
		var jsStr;
		jsStr=laya.debug.tools.ObjectTools.getJsonString(obj);
		return laya.debug.tools.ObjectTools.getObj(jsStr);
	}

	ObjectTools.copyObj=function(obj){
		if((obj instanceof Array))return ObjectTools.copyArr(obj);
		var rst={};
		var key;
		for(key in obj){
			if(obj[key]===null||obj[key]===undefined){
				rst[key]=obj[key];
			}else
			if(((obj[key])instanceof Array)){
				rst[key]=ObjectTools.copyArr(obj[key]);
			}
			else
			if((typeof (obj[key])=='object')){
				rst[key]=ObjectTools.copyObj(obj[key]);
				}else{
				rst[key]=obj[key];
			}
		}
		return rst;
	}

	ObjectTools.copyArr=function(arr){
		var rst;
		rst=[];
		var i=0,len=0;
		len=arr.length;
		for(i=0;i<len;i++){
			rst.push(ObjectTools.copyObj(arr[i]));
		}
		return rst;
	}

	ObjectTools.concatArr=function(src,a){
		if (!a)return src;
		if (!src)return a;
		var i=0,len=a.length;
		for (i=0;i < len;i++){
			src.push(a[i]);
		}
		return src;
	}

	ObjectTools.insertArrToArr=function(src,insertArr,pos){
		(pos===void 0)&& (pos=0);
		if (pos < 0)pos=0;
		if (pos > src.length)pos=src.length;
		var preLen=src.length;
		var i=0,len=0;
		src.length+=insertArr.length;
		var moveLen=0;
		moveLen=insertArr.length;
		for (i=src.length-1;i >=pos;i--){
			src[i]=src[i-moveLen];
		}
		len=insertArr.length;
		for (i=0;i < len;i++){
			src[pos+i]=insertArr[i];
		}
		return src;
	}

	ObjectTools.clearArr=function(arr){
		if (!arr)return arr;
		arr.length=0;
		return arr;
	}

	ObjectTools.removeFromArr=function(arr,item){
		var i=0,len=0;
		len=arr.length;
		for(i=0;i<len;i++){
			if(arr[i]==item){
				arr[i].splice(i,1);
				return;
			}
		}
	}

	ObjectTools.setValueArr=function(src,v){
		src || (src=[]);
		src.length=0;
		return ObjectTools.concatArr(src,v);
	}

	ObjectTools.getFrom=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src[i]);
		}
		return rst;
	}

	ObjectTools.getFromR=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src.pop());
		}
		return rst;
	}

	ObjectTools.enableDisplayTree=function(dis){
		while (dis){
			dis.mouseEnabled=true;
			dis=dis.parent;
		}
	}

	ObjectTools.getJsonString=function(obj){
		var rst;
		rst=JSON.stringify(obj);
		return rst;
	}

	ObjectTools.getObj=function(jsonStr){
		var rst;
		rst=JSON.parse(jsonStr);
		return rst;
	}

	ObjectTools.getKeyArr=function(obj){
		var rst;
		var key;
		rst=[];
		for(key in obj){
			rst.push(key);
		}
		return rst;
	}

	ObjectTools.getObjValues=function(dataList,key){
		var rst;
		var i=0,len=0;
		len=dataList.length;
		rst=[];
		for(i=0;i<len;i++){
			rst.push(dataList[i][key]);
		}
		return rst;
	}

	ObjectTools.hasKeys=function(obj,keys){
		var i=0,len=0;
		len=keys.length;
		for(i=0;i<len;i++){
			if(!obj.hasOwnProperty(keys[i]))return false;
		}
		return true;
	}

	ObjectTools.copyValueByArr=function(tar,src,keys){
		var i=0,len=keys.length;
		for(i=0;i<len;i++){
			if(!(src[keys[i]]===null))
				tar[keys[i]]=src[keys[i]];
		}
	}

	ObjectTools.getNoSameArr=function(arr){
		var i=0,len=0;
		var rst;
		rst=[];
		var tItem;
		len=arr.length;
		for (i=0;i < len;i++){
			tItem=arr[i];
			if (rst.indexOf(tItem)< 0){
				rst.push(tItem);
			}
		}
		return rst;
	}

	ObjectTools.insertValue=function(tar,src){
		var key;
		for (key in src){
			tar[key]=src[key];
		}
	}

	ObjectTools.replaceValue=function(obj,replaceO){
		var key;
		for(key in obj){
			if(replaceO.hasOwnProperty(obj[key])){
				obj[key]=replaceO[obj[key]];
			}
			if((typeof (obj[key])=='object')){
				ObjectTools.replaceValue(obj[key],replaceO);
			}
		}
	}

	ObjectTools.setKeyValues=function(items,key,value){
		var i=0,len=0;
		len=items.length;
		for(i=0;i<len;i++){
			items[i][key]=value;
		}
	}

	ObjectTools.findItemPos=function(items,sign,value){
		var i=0,len=0;
		len=items.length;
		for(i=0;i<len;i++){
			if(items[i][sign]==value){
				return i;
			}
		}
		return-1;
	}

	ObjectTools.setObjValue=function(obj,key,value){
		obj[key]=value;
		return obj;
	}

	ObjectTools.setAutoTypeValue=function(obj,key,value){
		if(obj.hasOwnProperty(key)){
			if(ObjectTools.isNumber(obj[key])){
				obj[key]=parseFloat(value);
				}else{
				obj[key]=value;
			}
			}else{
			obj[key]=value;
		}
		return obj;
	}

	ObjectTools.getAutoValue=function(value){
		var tFloat=parseFloat(value);
		if(typeof(value)=="string"){
			if(tFloat+""===StringTool.trimSide(value))return tFloat;
		}
		return value;
	}

	ObjectTools.isNumber=function(value){
		return (parseFloat(value)==value);
	}

	ObjectTools.isNaNS=function(value){
		return (value.toString()=="NaN");
	}

	ObjectTools.isNaN=function(value){
		if(typeof(value)=="number")return false;
		if(typeof(value)=="string"){
			if(parseFloat(value).toString()!="NaN"){
				if(parseFloat(value)==value){
					return false;
				}
			}
		}
		return true;
	}

	ObjectTools.getStrTypedValue=function(value){
		if(value=="false"){
			return false;
		}else
		if(value=="true"){
			return true;
		}else
		if(value=="null"){
			return null;
		}else
		if(value=="undefined"){
			return null;
			}else{
			return ObjectTools.getAutoValue(value);
		}
	}

	ObjectTools.createKeyValueDic=function(dataList,keySign){
		var rst;
		rst={};
		var i=0,len=0;
		len=dataList.length;
		var tItem;
		var tKey;
		for(i=0;i<len;i++){
			tItem=dataList[i];
			tKey=tItem[keySign];
			rst[tKey]=tItem;
		}
		return rst;
	}

	ObjectTools.sign="_";
	return ObjectTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ObjTimeCountTool.as=======199.999358/199.999358
/**
*...
*@author ww
*/
//class laya.debug.tools.ObjTimeCountTool
var ObjTimeCountTool=(function(){
	function ObjTimeCountTool(){
		this.timeDic={};
		this.resultDic={};
		this.countDic={};
		this.resultCountDic={};
		this.nodeDic={};
		this.resultNodeDic={};
	}

	__class(ObjTimeCountTool,'laya.debug.tools.ObjTimeCountTool');
	var __proto=ObjTimeCountTool.prototype;
	__proto.addTime=function(sprite,time){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		if (!this.timeDic.hasOwnProperty(key)){
			this.timeDic[key]=0;
		}
		this.timeDic[key]=this.timeDic[key]+time;
		if (!this.countDic.hasOwnProperty(key)){
			this.countDic[key]=0;
		}
		this.countDic[key]=this.countDic[key]+1;
		this.nodeDic[key]=sprite;
	}

	__proto.getTime=function(sprite){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		if (!this.resultDic[key])return 0;
		return this.resultDic[key];
	}

	__proto.getCount=function(sprite){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		return this.resultCountDic[key];
	}

	__proto.reset=function(){
		var key;
		for (key in this.timeDic){
			this.timeDic[key]=0;
			this.countDic[key]=0;
		}
		ObjectTools.clearObj(this.nodeDic);
	}

	__proto.updates=function(){
		ObjectTools.clearObj(this.resultDic);
		ObjectTools.insertValue(this.resultDic,this.timeDic);
		ObjectTools.clearObj(this.resultCountDic);
		ObjectTools.insertValue(this.resultCountDic,this.countDic);
		ObjectTools.insertValue(this.resultNodeDic,this.nodeDic);
		this.reset();
	}

	return ObjTimeCountTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/RecInfo.as=======199.999357/199.999357
/**
*
*@author ww
*@version 1.0
*
*@created 2015-12-23 下午12:00:48
*/
//class laya.debug.tools.RecInfo
var RecInfo=(function(){
	function RecInfo(){
		this.oX=0;
		this.oY=0;
		this.hX=1;
		this.hY=0;
		this.vX=0;
		this.vY=1;
	}

	__class(RecInfo,'laya.debug.tools.RecInfo');
	var __proto=RecInfo.prototype;
	__proto.initByPoints=function(oPoint,ePoint,vPoint){
		this.oX=oPoint.x;
		this.oY=oPoint.y;
		this.hX=ePoint.x;
		this.hY=ePoint.y;
		this.vX=vPoint.x;
		this.vY=vPoint.y;
	}

	__getset(0,__proto,'rotation',function(){
		return this.rotationRad/Math.PI*180;
	});

	__getset(0,__proto,'width',function(){
		return Math.sqrt((this.hX-this.oX)*(this.hX-this.oX)+(this.hY-this.oY)*(this.hY-this.oY));
	});

	__getset(0,__proto,'x',function(){
		return this.oX;
	});

	__getset(0,__proto,'rotationRadV',function(){
		var dx=this.vX-this.oX;
		var dy=this.vY-this.oY;
		return Math.atan2(dy,dx);
	});

	__getset(0,__proto,'y',function(){
		return this.oY;
	});

	__getset(0,__proto,'rotationRad',function(){
		var dx=this.hX-this.oX;
		var dy=this.hY-this.oY;
		return Math.atan2(dy,dx);
	});

	__getset(0,__proto,'height',function(){
		return Math.sqrt((this.vX-this.oX)*(this.vX-this.oX)+(this.vY-this.oY)*(this.vY-this.oY));
	});

	__getset(0,__proto,'rotationV',function(){
		return this.rotationRadV/Math.PI*180;
	});

	RecInfo.createByPoints=function(oPoint,ePoint,vPoint){
		var rst;
		rst=new RecInfo();
		rst.initByPoints(oPoint,ePoint,vPoint);
		return rst;
	}

	RecInfo.getGlobalPoints=function(sprite,x,y){
		return sprite.localToGlobal(new Point(x,y));
	}

	RecInfo.getGlobalRecInfo=function(sprite,x0,y0,x1,y1,x2,y2){
		(x0===void 0)&& (x0=0);
		(y0===void 0)&& (y0=0);
		(x1===void 0)&& (x1=1);
		(y1===void 0)&& (y1=0);
		(x2===void 0)&& (x2=0);
		(y2===void 0)&& (y2=1);
		return RecInfo.createByPoints(RecInfo.getGlobalPoints(sprite,x0,y0),RecInfo.getGlobalPoints(sprite,x1,y1),RecInfo.getGlobalPoints(sprite,x2,y2));
	}

	return RecInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/RenderAnalyser.as=======199.999356/199.999356
/**
*...
*@author ww
*/
//class laya.debug.tools.RenderAnalyser
var RenderAnalyser=(function(){
	function RenderAnalyser(){
		this.timeDic={};
		this.resultDic={};
		this.countDic={};
		this.resultCountDic={};
		this.nodeDic={};
		this.isWorking=false;
		this.working=true;
	}

	__class(RenderAnalyser,'laya.debug.tools.RenderAnalyser');
	var __proto=RenderAnalyser.prototype;
	__proto.render=function(sprite,time){
		this.addTime(sprite,time);
	}

	__proto.addTime=function(sprite,time){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		if (!this.timeDic.hasOwnProperty(key)){
			this.timeDic[key]=0;
		}
		this.timeDic[key]=this.timeDic[key]+time;
		if (!this.countDic.hasOwnProperty(key)){
			this.countDic[key]=0;
		}
		this.countDic[key]=this.countDic[key]+1;
		this.nodeDic[key]=sprite;
	}

	__proto.getTime=function(sprite){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		if (!this.resultDic[key])return 0;
		return this.resultDic[key];
	}

	__proto.getCount=function(sprite){
		IDTools.idObj(sprite);
		var key=0;
		key=IDTools.getObjID(sprite);
		return this.resultCountDic[key];
	}

	__proto.reset=function(){
		var key;
		for (key in this.timeDic){
			this.timeDic[key]=0;
			this.countDic[key]=0;
		}
		ObjectTools.clearObj(this.nodeDic);
	}

	__proto.updates=function(){
		ObjectTools.clearObj(this.resultDic);
		ObjectTools.insertValue(this.resultDic,this.timeDic);
		ObjectTools.clearObj(this.resultCountDic);
		ObjectTools.insertValue(this.resultCountDic,this.countDic);
		this.reset();
	}

	__getset(0,__proto,'working',null,function(v){
		this.isWorking=v;
		if (v){
			Laya.timer.loop(NodeConsts.RenderCostMaxTime,this,this.updates);
			}else{
			Laya.timer.clear(this,this.updates);
		}
	});

	__static(RenderAnalyser,
	['I',function(){return this.I=new RenderAnalyser();}
	]);
	return RenderAnalyser;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/resizer/DisResizer.as=======199.999354/199.999354
/**
*本类用于调整对象的宽高以及坐标
*@author ww
*/
//class laya.debug.tools.resizer.DisResizer
var DisResizer=(function(){
	function DisResizer(){}
	__class(DisResizer,'laya.debug.tools.resizer.DisResizer');
	DisResizer.init=function(){
		if (DisResizer._up)return;
		DisResizer._up=new AutoFillRec("T");
		DisResizer._up.height=2;
		DisResizer._up.type=0;
		DisResizer._down=new AutoFillRec("T");
		DisResizer._down.height=2;
		DisResizer._down.type=0;
		DisResizer._left=new AutoFillRec("R");
		DisResizer._left.width=2;
		DisResizer._left.type=1;
		DisResizer._right=new AutoFillRec("R");
		DisResizer._right.width=2;
		DisResizer._right.type=1;
		DisResizer._barList=[DisResizer._up,DisResizer._down,DisResizer._left,DisResizer._right];
		DisResizer.addEvent();
	}

	DisResizer.stageDown=function(e){
		var target;
		target=e.target;
		if (DisResizer._tar && DisControlTool.isInTree(DisResizer._tar,target)){
			return;
		}
		DisResizer.clear();
	}

	DisResizer.clear=function(){
		DisResizer._tar=null;
		Laya.stage.off("mouseup",null,DisResizer.stageDown);
		DisControlTool.removeItems(DisResizer._barList);
		DisResizer.clearDragEvents();
	}

	DisResizer.addEvent=function(){
		var i=0,len=0;
		var tBar;
		len=DisResizer._barList.length;
		for (i=0;i < len;i++){
			tBar=DisResizer._barList[i];
			tBar.on("mousedown",null,DisResizer.barDown);
		}
	}

	DisResizer.barDown=function(e){
		DisResizer.clearDragEvents();
		DisResizer.tBar=e.target;
		if (!DisResizer.tBar)return;
		var area;
		area=new Rectangle();
		if (DisResizer.tBar.type==0){
			area.x=DisResizer.tBar.x;
			area.width=0;
			area.y=DisResizer.tBar.y-200;
			area.height=400;
			}else{
			area.x=DisResizer.tBar.x-200;
			area.width=400;
			area.y=0;
			area.height=0;
		};
		var option;
		option={};
		option.area=area;
		DisResizer.tBar.record();
		DisResizer.tBar.startDrag(area);
		DisResizer.tBar.on("dragmove",null,DisResizer.draging);
		DisResizer.tBar.on("dragend",null,DisResizer.dragEnd);
	}

	DisResizer.draging=function(e){
		console.log("draging");
		if (!DisResizer.tBar)return;
		if (!DisResizer._tar)return;
		switch(DisResizer.tBar){
			case DisResizer._left:
				DisResizer._tar.x+=DisResizer.tBar.getDx();
				DisResizer._tar.width-=DisResizer.tBar.getDx();
				DisResizer._up.width-=DisResizer.tBar.getDx();
				DisResizer._down.width-=DisResizer.tBar.getDx();
				DisResizer._right.x-=DisResizer.tBar.getDx();
				DisResizer.tBar.x-=DisResizer.tBar.getDx();
				break ;
			case DisResizer._right:
				DisResizer._tar.width+=DisResizer.tBar.getDx();
				DisResizer._up.width+=DisResizer.tBar.getDx();
				DisResizer._down.width+=DisResizer.tBar.getDx();
				break ;
			case DisResizer._up:
				DisResizer._tar.y+=DisResizer.tBar.getDy();
				DisResizer._tar.height-=DisResizer.tBar.getDy();
				DisResizer._right.height-=DisResizer.tBar.getDy();
				DisResizer._left.height-=DisResizer.tBar.getDy();
				DisResizer._down.y-=DisResizer.tBar.getDy();
				DisResizer.tBar.y-=DisResizer.tBar.getDy();
				break ;
			case DisResizer._down:
				DisResizer._tar.height+=DisResizer.tBar.getDy();
				DisResizer._right.height+=DisResizer.tBar.getDy();
				DisResizer._left.height+=DisResizer.tBar.getDy();
				break ;
			}
		DisResizer.tBar.record();
	}

	DisResizer.dragEnd=function(e){
		console.log("dragEnd");
		DisResizer.clearDragEvents();
		DisResizer.updates();
	}

	DisResizer.clearDragEvents=function(){
		if (!DisResizer.tBar)return;
		DisResizer.tBar.off("dragmove",null,DisResizer.draging);
		DisResizer.tBar.off("dragend",null,DisResizer.dragEnd);
	}

	DisResizer.setUp=function(dis,force){
		(force===void 0)&& (force=false);
		if (force && dis==DisResizer._tar){
			return;
		};
		DisControlTool.removeItems(DisResizer._barList);
		if (DisResizer._tar==dis){
			DisResizer._tar=null;
			DisResizer.clearDragEvents();
			if(!force)
				return;
		}
		DisResizer._tar=dis;
		DisResizer.updates();
		DisControlTool.addItems(DisResizer._barList,dis);
		Laya.stage.off("mouseup",null,DisResizer.stageDown);
		Laya.stage.on("mouseup",null,DisResizer.stageDown);
	}

	DisResizer.updates=function(){
		var dis;
		dis=DisResizer._tar;
		if(!dis)return;
		var bounds;
		bounds=new Rectangle(0,0,dis.width,dis.height);
		DisResizer._up.x=bounds.x;
		DisResizer._up.y=bounds.y;
		DisResizer._up.width=bounds.width;
		DisResizer._down.x=bounds.x;
		DisResizer._down.y=bounds.y+bounds.height-2;
		DisResizer._down.width=bounds.width;
		DisResizer._left.x=bounds.x;
		DisResizer._left.y=bounds.y;
		DisResizer._left.height=bounds.height;
		DisResizer._right.x=bounds.x+bounds.width-2;
		DisResizer._right.y=bounds.y;
		DisResizer._right.height=bounds.height;
	}

	DisResizer.Side=2;
	DisResizer.Vertical=1;
	DisResizer.Horizon=0;
	DisResizer._up=null;
	DisResizer._down=null;
	DisResizer._left=null;
	DisResizer._right=null;
	DisResizer._barList=null;
	DisResizer._tar=null;
	DisResizer.barWidth=2;
	DisResizer.useGetBounds=false;
	DisResizer.tBar=null;
	return DisResizer;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/resizer/SimpleResizer.as=======199.999353/199.999353
/**
*...
*@author ww
*/
//class laya.debug.tools.resizer.SimpleResizer
var SimpleResizer=(function(){
	function SimpleResizer(){}
	__class(SimpleResizer,'laya.debug.tools.resizer.SimpleResizer');
	SimpleResizer.setResizeAble=function(clickItem,tar,minWidth,minHeight){
		(minWidth===void 0)&& (minWidth=150);
		(minHeight===void 0)&& (minHeight=150);
		clickItem.on("mousedown",null,SimpleResizer.onMouseDown,[tar,minWidth,minHeight]);
	}

	SimpleResizer.onMouseDown=function(tar,minWidth,minHeight,e){
		SimpleResizer.clearEvents();
		if (!tar)return;
		SimpleResizer.preMousePoint.setTo(Laya.stage.mouseX,Laya.stage.mouseY);
		SimpleResizer.preTarSize.setTo(tar.width,tar.height);
		SimpleResizer.preScale.setTo(1,1);
		var rTar;
		rTar=tar;
		while (rTar&&rTar!=Laya.stage){
			SimpleResizer.preScale.x *=rTar.scaleX;
			SimpleResizer.preScale.y *=rTar.scaleY;
			rTar=rTar.parent;
		}
		Laya.stage.on("mouseup",null,SimpleResizer.onMouseMoveEnd);
		Laya.timer.loop(100,null,SimpleResizer.onMouseMoving,[tar,minWidth,minHeight]);
	}

	SimpleResizer.onMouseMoving=function(tar,minWidth,minHeight,e){
		var tWidth=(Laya.stage.mouseX-SimpleResizer.preMousePoint.x)/ SimpleResizer.preScale.x+SimpleResizer.preTarSize.x;
		var tHeight=(Laya.stage.mouseY-SimpleResizer.preMousePoint.y)/SimpleResizer.preScale.y+SimpleResizer.preTarSize.y;
		tar.width=tWidth > minWidth?tWidth:minWidth;
		tar.height=tHeight>minHeight?tHeight:minHeight;
	}

	SimpleResizer.onMouseMoveEnd=function(e){
		SimpleResizer.clearEvents();
	}

	SimpleResizer.clearEvents=function(){
		Laya.timer.clear(null,SimpleResizer.onMouseMoving);
		Laya.stage.off("mouseup",null,SimpleResizer.onMouseMoveEnd);
	}

	__static(SimpleResizer,
	['preMousePoint',function(){return this.preMousePoint=new Point();},'preTarSize',function(){return this.preTarSize=new Point();},'preScale',function(){return this.preScale=new Point();}
	]);
	return SimpleResizer;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/RunProfile.as=======199.999351/199.999351
/**
*类实例创建分析工具
*@author ww
*@version 1.0
*
*@created 2015-9-25 下午3:31:46
*/
//class laya.debug.tools.RunProfile
var RunProfile=(function(){
	function RunProfile(){}
	__class(RunProfile,'laya.debug.tools.RunProfile');
	RunProfile.run=function(funName,callLen){
		(callLen===void 0)&& (callLen=3);
		var tCount;
		if(!RunProfile.infoDic.hasOwnProperty(funName)){
			RunProfile.infoDic[funName]=new CountTool();
		}
		tCount=RunProfile.infoDic[funName];
		var msg;
		msg=TraceTool.getCallLoc(callLen)+"\n"+TraceTool.getCallStack(1,callLen-3);
		tCount.add(msg);
		if(RunProfile._runShowDic[funName]){
			console.log("Create:"+funName);
			console.log(msg);
		}
	}

	RunProfile.showClassCreate=function(funName){
		RunProfile._runShowDic[funName]=true;
	}

	RunProfile.hideClassCreate=function(funName){
		RunProfile._runShowDic[funName]=false;
	}

	RunProfile.getRunInfo=function(funName){
		var rst;
		rst=RunProfile.infoDic[funName];
		if(rst){
		}
		return RunProfile.infoDic[funName];
	}

	RunProfile.runTest=function(fun,count,sign){
		(sign===void 0)&& (sign="runTest");
		DTrace.timeStart(sign);
		var i=0;
		for(i=0;i<count;i++){
			fun();
		}
		DTrace.timeEnd(sign);
	}

	RunProfile.runTest2=function(fun,count,sign){
		(sign===void 0)&& (sign="runTest");
		var preTime=NaN;
		preTime=Browser.now();
		var i=0;
		for(i=0;i<count;i++){
			fun();
		}
		return Browser.now()-preTime;
	}

	RunProfile.infoDic={};
	RunProfile._runShowDic={};
	return RunProfile;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/StringTool.as=======199.999349/199.999349
/**
*一些字符串操作函数
*@author ww
*
*/
//class laya.debug.tools.StringTool
var StringTool=(function(){
	function StringTool(){}
	__class(StringTool,'laya.debug.tools.StringTool');
	StringTool.toUpCase=function(str){
		return str.toUpperCase();
	}

	StringTool.toLowCase=function(str){
		return str.toLowerCase();
	}

	StringTool.toUpHead=function(str){
		var rst;
		if(str.length<=1)return str.toUpperCase();
		rst=str.charAt(0).toUpperCase()+str.substr(1);
		return rst;
	}

	StringTool.toLowHead=function(str){
		var rst;
		if(str.length<=1)return str.toLowerCase();
		rst=str.charAt(0).toLowerCase()+str.substr(1);
		return rst;
	}

	StringTool.packageToFolderPath=function(packageName){
		var rst;
		rst=packageName.replace(".","/");
		return rst;
	}

	StringTool.insert=function(str,iStr,index){
		return str.substring(0,index)+iStr+str.substr(index);
	}

	StringTool.insertAfter=function(str,iStr,tarStr,isLast){
		(isLast===void 0)&& (isLast=false);
		var i=0;
		if(isLast){
			i=str.lastIndexOf(tarStr);
			}else{
			i=str.indexOf(tarStr);
		}
		if(i>=0){
			return StringTool.insert(str,iStr,i+tarStr.length);
		}
		return str;
	}

	StringTool.insertBefore=function(str,iStr,tarStr,isLast){
		(isLast===void 0)&& (isLast=false);
		var i=0;
		if(isLast){
			i=str.lastIndexOf(tarStr);
			}else{
			i=str.indexOf(tarStr);
		}
		if(i>=0){
			return StringTool.insert(str,iStr,i);
		}
		return str;
	}

	StringTool.insertParamToFun=function(funStr,params){
		var oldParam;
		oldParam=StringTool.getParamArr(funStr);
		var inserStr;
		inserStr=params.join(",");
		if(oldParam.length>0){
			inserStr=","+inserStr;
		}
		return StringTool.insertBefore(funStr,inserStr,")",true);
	}

	StringTool.trim=function(str,vList){
		if(!vList){
			vList=[" ","\r","\n","\t",String.fromCharCode(65279)];
		};
		var rst;
		var i=0;
		var len=0;
		rst=str;
		len=vList.length;
		for(i=0;i<len;i++){
			rst=StringTool.getReplace(rst,vList[i],"");
		}
		return rst;
	}

	StringTool.isEmpty=function(str){
		if(str.length<1)return true;
		return StringTool.emptyStrDic.hasOwnProperty(str);
	}

	StringTool.trimLeft=function(str){
		var i=0;
		i=0;
		var len=0;
		len=str.length;
		while(StringTool.isEmpty(str.charAt(i))&&i<len){
			i++;
		}
		if(i<len){
			return str.substr(i);
		}
		return "";
	}

	StringTool.trimRight=function(str){
		var i=0;
		i=str.length-1;
		while(StringTool.isEmpty(str.charAt(i))&&i>=0){
			i--;
		};
		var rst;
		rst=str.substring(0,i)
		if(i>=0){
			return str.substring(0,i+1);
		}
		return "";
	}

	StringTool.trimSide=function(str){
		var rst;
		rst=StringTool.trimLeft(str);
		rst=StringTool.trimRight(rst);
		return rst;
	}

	StringTool.isOkFileName=function(fileName){
		if(laya.debug.tools.StringTool.trimSide(fileName)=="")return false;
		var i=0,len=0;
		len=fileName.length;
		for(i=0;i<len;i++){
			if(StringTool.specialChars[fileName.charAt(i)])return false;
		}
		return true;
	}

	StringTool.trimButEmpty=function(str){
		return StringTool.trim(str,["\r","\n","\t"]);
	}

	StringTool.removeEmptyStr=function(strArr){
		var i=0;
		i=strArr.length-1;
		var str;
		for(i=i;i>=0;i--){
			str=strArr[i];
			str=laya.debug.tools.StringTool.trimSide(str);
			if(StringTool.isEmpty(str)){
				strArr.splice(i,1);
				}else{
				strArr[i]=str;
			}
		}
		return strArr;
	}

	StringTool.ifNoAddToTail=function(str,sign){
		if(str.indexOf(sign)>=0){
			return str;
		}
		return str+sign;
	}

	StringTool.trimEmptyLine=function(str){
		var i=0;
		var len=0;
		var tLines;
		var tLine;
		tLines=str.split("\n");
		for(i=tLines.length-1;i>=0;i--){
			tLine=tLines[i];
			if(StringTool.isEmptyLine(tLine)){
				tLines.splice(i,1);
			}
		}
		return tLines.join("\n");
	}

	StringTool.isEmptyLine=function(str){
		str=laya.debug.tools.StringTool.trim(str);
		if(str=="")return true;
		return false;
	}

	StringTool.removeCommentLine=function(lines){
		var rst;
		rst=[];
		var i=0;
		var tLine;
		var adptLine;
		i=0;
		var len=0;
		var index=0;
		len=lines.length;
		while(i<len){
			adptLine=tLine=lines[i];
			index=tLine.indexOf("/**");
			if(index>=0){
				adptLine=tLine.substring(0,index-1);
				StringTool.addIfNotEmpty(rst,adptLine);
				while(i<len){
					tLine=lines[i];
					index=tLine.indexOf("*/");
					if(index>=0){
						adptLine=tLine.substring(index+2);
						StringTool.addIfNotEmpty(rst,adptLine);
						break ;
					}
					i++;
				}
				}else if(tLine.indexOf("//")>=0){
				if(laya.debug.tools.StringTool.trim(tLine).indexOf("//")==0){
					}else{
					StringTool.addIfNotEmpty(rst,adptLine);
				}
				}else{
				StringTool.addIfNotEmpty(rst,adptLine);
			}
			i++;
		}
		return rst;
	}

	StringTool.addIfNotEmpty=function(arr,str){
		if(!str)return;
		var tStr;
		tStr=StringTool.trim(str);
		if(tStr!=""){
			arr.push(str);
		}
	}

	StringTool.trimExt=function(str,vars){
		var rst;
		rst=StringTool.trim(str);
		var i=0;
		var len=0;
		len=vars.length;
		for(i=0;i<len;i++){
			rst=StringTool.getReplace(rst,vars[i],"");
		}
		return rst;
	}

	StringTool.getBetween=function(str,left,right,ifMax){
		(ifMax===void 0)&& (ifMax=false);
		if(!str)return "";
		if(!left)return "";
		if(!right)return "";
		var lId=0;
		var rId=0;
		lId=str.indexOf(left);
		if(lId<0)return"";
		if(ifMax){
			rId=str.lastIndexOf(right);
			if(rId<lId)return "";
			}else{
			rId=str.indexOf(right,lId+1);
		}
		if(rId<0)return "";
		return str.substring(lId+left.length,rId);
	}

	StringTool.getSplitLine=function(line,split){
		(split===void 0)&& (split=" ");
		return line.split(split);
	}

	StringTool.getLeft=function(str,sign){
		var i=0;
		i=str.indexOf(sign);
		return str.substr(0,i);
	}

	StringTool.getRight=function(str,sign){
		var i=0;
		i=str.indexOf(sign);
		return str.substr(i+1);
	}

	StringTool.delelteItem=function(arr){
		while (arr.length>0){
			if(arr[0]==""){
				arr.shift();
				}else{
				break ;
			}
		}
	}

	StringTool.getWords=function(line){
		var rst=StringTool.getSplitLine(line);
		StringTool.delelteItem(rst);
		return rst;
	}

	StringTool.getLinesI=function(startLine,endLine,lines){
		var i=0;
		var rst=[];
		for(i=startLine;i<=endLine;i++){
			rst.push(lines[i]);
		}
		return rst;
	}

	StringTool.structfy=function(str,inWidth,removeEmpty){
		(inWidth===void 0)&& (inWidth=4);
		(removeEmpty===void 0)&& (removeEmpty=true);
		if(removeEmpty){
			str=laya.debug.tools.StringTool.trimEmptyLine(str);
		};
		var lines;
		var tIn=0;
		tIn=0;
		var tInStr;
		tInStr=StringTool.getEmptyStr(0);
		lines=str.split("\n");
		var i=0;
		var len=0;
		var tLineStr;
		len=lines.length;
		for(i=0;i<len;i++){
			tLineStr=lines[i];
			tLineStr=laya.debug.tools.StringTool.trimLeft(tLineStr);
			tLineStr=laya.debug.tools.StringTool.trimRight(tLineStr);
			tIn+=StringTool.getPariCount(tLineStr);
			if(tLineStr.indexOf("}")>=0){
				tInStr=StringTool.getEmptyStr(tIn*inWidth);
			}
			tLineStr=tInStr+tLineStr;
			lines[i]=tLineStr;
			tInStr=StringTool.getEmptyStr(tIn*inWidth);
		}
		return lines.join("\n");
	}

	StringTool.getEmptyStr=function(width){
		if(!StringTool.emptyDic.hasOwnProperty(width)){
			var i=0;
			var len=0;
			len=width;
			var rst;
			rst="";
			for(i=0;i<len;i++){
				rst+=" ";
			}
			StringTool.emptyDic[width]=rst;
		}
		return StringTool.emptyDic[width];
	}

	StringTool.getPariCount=function(str,inChar,outChar){
		(inChar===void 0)&& (inChar="{");
		(outChar===void 0)&& (outChar="}");
		var varDic;
		varDic={};
		varDic[inChar]=1;
		varDic[outChar]=-1;
		var i=0;
		var len=0;
		var tChar;
		len=str.length;
		var rst=0;
		rst=0;
		for(i=0;i<len;i++){
			tChar=str.charAt(i);
			if(varDic.hasOwnProperty(tChar)){
				rst+=varDic[tChar];
			}
		}
		return rst;
	}

	StringTool.readInt=function(str,startI){
		(startI===void 0)&& (startI=0);
		var rst=NaN;
		rst=0;
		var tNum=0;
		var tC;
		var i=0;
		var isBegin=false;
		isBegin=false;
		var len=0;
		len=str.length;
		for(i=startI;i<len;i++){
			tC=str.charAt(i);
			if(Number(tC)>0||tC=="0"){
				rst=10*rst+Number(tC);
				if(rst>0)isBegin=true;
				}else{
				if(isBegin)return rst;
			}
		}
		return rst;
	}

	StringTool.getReplace=function(str,oStr,nStr){
		if(!str)return "";
		var rst;
		rst=str.replace(new RegExp(oStr,"g"),nStr);
		return rst;
	}

	StringTool.getWordCount=function(str,findWord){
		var rg=new RegExp(findWord,"g")
		return str.match(rg).length;
	}

	StringTool.getResolvePath=function(path,basePath){
		if(StringTool.isAbsPath(path)){
			return path;
		};
		var tSign;
		tSign="\\";
		if(basePath.indexOf("/")>=0){
			tSign="/";
		}
		if(basePath.charAt(basePath.length-1)==tSign){
			basePath=basePath.substr(0,basePath.length-1);
		};
		var parentSign;
		parentSign=".."+tSign;
		var tISign;
		tISign="."+tSign;
		var pCount=0;
		pCount=StringTool.getWordCount(path,parentSign);
		path=laya.debug.tools.StringTool.getReplace(path,parentSign,"");
		path=laya.debug.tools.StringTool.getReplace(path,tISign,"");
		var i=0;
		var len=0;
		len=pCount;
		var iPos=0;
		for(i=0;i<len;i++){
			basePath=StringTool.removeLastSign(path,tSign);
		}
		return basePath+tSign+path;
	}

	StringTool.isAbsPath=function(path){
		if(path.indexOf(":")>=0)return true;
		return false;
	}

	StringTool.removeLastSign=function(str,sign){
		var iPos=0;
		iPos=str.lastIndexOf(sign);
		str=str.substring(0,iPos);
		return str;
	}

	StringTool.getParamArr=function(str){
		var paramStr;
		paramStr=laya.debug.tools.StringTool.getBetween(str,"(",")",true);
		if(StringTool.trim(paramStr).length<1)return [];
		return paramStr.split(",");
	}

	StringTool.copyStr=function(str){
		return str.substring();
	}

	StringTool.ArrayToString=function(arr){
		var rst;
		rst="[{items}]".replace(new RegExp("\\{items\\}","g"),StringTool.getArrayItems(arr));
		return rst;
	}

	StringTool.getArrayItems=function(arr){
		var rst;
		if(arr.length<1)return "";
		rst=StringTool.parseItem(arr[0]);
		var i=0;
		var len=0;
		len=arr.length;
		for(i=1;i<len;i++){
			rst+=","+StringTool.parseItem(arr[i]);
		}
		return rst;
	}

	StringTool.parseItem=function(item){
		var rst;
		rst="\""+item+"\"";
		return "";
	}

	StringTool.initAlphaSign=function(){
		if (StringTool.alphaSigns)return;
		StringTool.alphaSigns={};
		StringTool.addSign("a","z",StringTool.alphaSigns);
		StringTool.addSign("A","Z",StringTool.alphaSigns);
		StringTool.addSign("0","9",StringTool.alphaSigns);
	}

	StringTool.addSign=function(ss,e,tar){
		var i=0;
		var len=0;
		var s=0;
		s=ss.charCodeAt(0);
		len=e.charCodeAt(0);
		for(i=s;i<=len;i++){
			tar[String.fromCharCode(i)]=true;
			console.log("add :"+String.fromCharCode(i));
		}
	}

	StringTool.isPureAlphaNum=function(str){
		StringTool.initAlphaSign();
		if (!str)return true;
		var i=0,len=0;
		len=str.length;
		for (i=0;i < len;i++){
			if (!StringTool.alphaSigns[str.charAt(i)])return false;
		}
		return true;
	}

	StringTool.emptyDic={};
	StringTool.alphaSigns=null;
	__static(StringTool,
	['emptyStrDic',function(){return this.emptyStrDic={
			" ":true,
			"\r":true,
			"\n":true,
			"\t":true
	};},'specialChars',function(){return this.specialChars={"*":true,"&":true,"%":true,"#":true,"?":true};}

	]);
	return StringTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/TraceTool.as=======199.999345/199.999345
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-25 上午10:48:54
*/
//class laya.debug.tools.TraceTool
var TraceTool=(function(){
	function TraceTool(){}
	__class(TraceTool,'laya.debug.tools.TraceTool');
	TraceTool.closeAllLog=function(){
		var logFun;
		logFun=TraceTool.emptyLog;
		Browser.window.console.log=logFun;
	}

	TraceTool.emptyLog=function(){}
	TraceTool.traceObj=function(obj){
		TraceTool.tempArr.length=0;
		var key;
		for(key in obj){
			TraceTool.tempArr.push(key+":"+obj[key]);
		};
		var rst;
		rst=TraceTool.tempArr.join("\n");
		console.log(rst);
		return rst;
	}

	TraceTool.traceObjR=function(obj){
		TraceTool.tempArr.length=0;
		var key;
		for(key in obj){
			TraceTool.tempArr.push(obj[key]+":"+key);
		};
		var rst;
		rst=TraceTool.tempArr.join("\n");
		console.log(rst);
		return rst;
	}

	TraceTool.traceSize=function(tar){
		DebugTool.dTrace("Size: x:"+tar.x+" y:"+tar.y+" w:"+tar.width+" h:"+tar.height+" scaleX:"+tar.scaleX+" scaleY:"+tar.scaleY);
	}

	TraceTool.traceSplit=function(msg){
		console.log("---------------------"+msg+"---------------------------");
	}

	TraceTool.group=function(gName){
		console.group(gName);;
	}

	TraceTool.groupEnd=function(){
		console.groupEnd();;
	}

	TraceTool.getCallStack=function(life,s){
		(life===void 0)&& (life=1);
		(s===void 0)&& (s=1);
		var caller;
		caller=TraceTool.getCallStack;
		caller=caller.caller.caller;
		var msg;
		msg="";
		while(caller&&life>0){
			if(s<=0){
				msg+=caller+"<-";
				life--;
				}else{
			}
			caller=caller.caller;
			s--;
		}
		return msg;
	}

	TraceTool.getCallLoc=function(index){
		(index===void 0)&& (index=2);
		var loc;
		try {
			TraceTool.Erroer.i++;
			}catch (e){
			var arr;
			arr=e.stack.replace(/Error\n/).split(/\n/);
			if (arr[index]){
				loc=arr[index].replace(/^\s+|\s+$/,"");
				}else{
				loc="unknow";
			}
		}
		return loc;
	}

	TraceTool.traceCallStack=function(){
		var loc;
		try {
			TraceTool.Erroer.i++;
			}catch (e){
			loc=e.stack;
		}
		console.log(loc);
		return loc;
	}

	TraceTool.getPlaceHolder=function(len){
		if(!TraceTool.holderDic.hasOwnProperty(len)){
			var rst;
			rst="";
			var i=0;
			for(i=0;i<len;i++){
				rst+="-";
			}
			TraceTool.holderDic[len]=rst;
		}
		return TraceTool.holderDic[len];
	}

	TraceTool.traceTree=function(tar,depth,isFirst){
		(depth===void 0)&& (depth=0);
		(isFirst===void 0)&& (isFirst=true);
		if(isFirst){
			console.log("traceTree");
		}
		if(!tar)return;
		var i=0;
		var len=0;
		if(tar.numChildren<1){
			console.log(tar);
			return;
		}
		TraceTool.group(tar);
		len=tar.numChildren;
		depth++;
		for(i=0;i<len;i++){
			TraceTool.traceTree(tar.getChildAt(i),depth,false);
		}
		TraceTool.groupEnd();
	}

	TraceTool.getClassName=function(tar){
		return tar["constructor"].name;
	}

	TraceTool.traceSpriteInfo=function(tar,showBounds,showSize,showTree){
		(showBounds===void 0)&& (showBounds=true);
		(showSize===void 0)&& (showSize=true);
		(showTree===void 0)&& (showTree=true);
		if(!((tar instanceof laya.display.Sprite ))){
			console.log("not Sprite");
			return;
		}
		if(!tar){
			console.log("null Sprite");
			return;
		}
		TraceTool.traceSplit("traceSpriteInfo");
		DebugTool.dTrace(laya.debug.tools.TraceTool.getClassName(tar)+":"+tar.name);
		if(showTree){
			TraceTool.traceTree(tar);
			}else{
			console.log(tar);
		}
		if(showSize){
			TraceTool.traceSize(tar);
		}
		if(showBounds){
			console.log("bounds:"+tar.getBounds());
		}
	}

	TraceTool.tempArr=[];
	TraceTool.Erroer=null;
	TraceTool.holderDic={};
	return TraceTool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/ValueChanger.as=======199.999343/199.999343
/**
*
*@author ww
*@version 1.0
*
*@created 2015-12-30 下午5:12:53
*/
//class laya.debug.tools.ValueChanger
var ValueChanger=(function(){
	function ValueChanger(){
		this.target=null;
		this.key=null;
		this._tValue=NaN;
		this.preValue=0;
	}

	__class(ValueChanger,'laya.debug.tools.ValueChanger');
	var __proto=ValueChanger.prototype;
	__proto.record=function(){
		this.preValue=this.value;
	}

	__proto.showValueByAdd=function(addValue){
		this.value=this.preValue+addValue;
	}

	__proto.showValueByScale=function(scale){
		this.value=this.preValue *scale;
	}

	__proto.recover=function(){
		this.value=this.preValue;
	}

	__proto.dispose=function(){
		this.target=null;
	}

	__getset(0,__proto,'value',function(){
		if(this.target){
			this._tValue=this.target[this.key];
		}
		return this._tValue;
		},function(nValue){
		this._tValue=nValue;
		if(this.target){
			this.target[this.key]=nValue;
		}
	});

	__getset(0,__proto,'dValue',function(){
		return this.value-this.preValue;
	});

	__getset(0,__proto,'scaleValue',function(){
		return this.value/this.preValue;
	});

	ValueChanger.create=function(target,key){
		var rst;
		rst=new ValueChanger();
		rst.target=target;
		rst.key=key;
		return rst;
	}

	return ValueChanger;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/VisibleAnalyser.as=======199.999342/199.999342
/**
*...
*@author ww
*/
//class laya.debug.tools.VisibleAnalyser
var VisibleAnalyser=(function(){
	function VisibleAnalyser(){}
	__class(VisibleAnalyser,'laya.debug.tools.VisibleAnalyser');
	VisibleAnalyser.analyseTarget=function(node){
		var isInstage=false;
		isInstage=node.displayedInStage;
		var gRec;
		gRec=NodeUtils.getGRec(node);
		var stageRec=new Rectangle();
		stageRec.setTo(0,0,Laya.stage.width,Laya.stage.height);
		var isInVisibleRec=false;
		var visibleRec;
		visibleRec=stageRec.intersection(gRec);
		if (visibleRec.width > 0 && visibleRec.height > 0){
			isInVisibleRec=true;
		}
		else{
			isInVisibleRec=false;
		};
		var gAlpha=NaN;
		gAlpha=NodeUtils.getGAlpha(node);
		var gVisible=false;
		gVisible=NodeUtils.getGVisible(node);
		var msg;
		msg="";
		msg+="isInstage:"+isInstage+"\n";
		msg+="isInVisibleRec:"+isInVisibleRec+"\n";
		msg+="gVisible:"+gVisible+"\n";
		msg+="gAlpha:"+gAlpha+"\n";
		if (isInstage && isInVisibleRec && gVisible && gAlpha > 0){
			if (Render.isWebGL){
				VisibleAnalyser.anlyseRecVisible(node);
				}else{
				SpriteRenderForVisibleAnalyse.I.analyseNode(node);
			}
			msg+="coverRate:"+VisibleAnalyser.coverRate+"\n";
			if (VisibleAnalyser._coverList.length > 0){
				Laya.timer.once(1000,null,VisibleAnalyser.showListLater);
			}
		}
		console.log(msg);
		laya.debug.view.nodeInfo.views.OutPutView.I.showTxt(msg);
	}

	VisibleAnalyser.showListLater=function(){
		laya.debug.view.nodeInfo.views.NodeListPanelView.I.showList(VisibleAnalyser._coverList);
	}

	VisibleAnalyser.isCoverByBrother=function(node){
		var parent=node.parent;
		if (!parent)
			return;
		var _childs;
		_childs=parent._children;
		var index=0;
		index=_childs.indexOf(node);
		if (index < 0)
			return;
		var i=0,len=0;
		var canvas;
		var rec;
		rec=parent.getSelfBounds();
		if (rec.width <=0 || rec.height <=0)
			return;
	}

	VisibleAnalyser.anlyseRecVisible=function(node){
		VisibleAnalyser.isNodeWalked=false;
		VisibleAnalyser._analyseTarget=node;
		if (!VisibleAnalyser.mainCanvas)
			VisibleAnalyser.mainCanvas=CanvasTools.createCanvas(Laya.stage.width,Laya.stage.height);
		CanvasTools.clearCanvas(VisibleAnalyser.mainCanvas);
		VisibleAnalyser.tColor=1;
		VisibleAnalyser.resetCoverList();
		WalkTools.walkTargetEX(Laya.stage,VisibleAnalyser.recVisibleWalker,null,VisibleAnalyser.filterFun);
		if (!VisibleAnalyser.isTarRecOK){
			VisibleAnalyser.coverRate=0;
		}
		else{
			VisibleAnalyser.coverRate=CanvasTools.getDifferRate(VisibleAnalyser.preImageData,VisibleAnalyser.tarImageData);
		}
		console.log("coverRate:",VisibleAnalyser.coverRate);
	}

	VisibleAnalyser.getRecArea=function(rec){
		return rec.width *rec.height;
	}

	VisibleAnalyser.addCoverNode=function(node,coverRate){
		var data;
		data={};
		data.path=node;
		data.label=ClassTool.getNodeClassAndName(node)+":"+coverRate;
		data.coverRate=coverRate;
		VisibleAnalyser._coverList.push(data);
		console.log("coverByNode:",node,coverRate);
	}

	VisibleAnalyser.resetCoverList=function(){
		VisibleAnalyser._coverList.length=0;
	}

	VisibleAnalyser.recVisibleWalker=function(node){
		if (node==VisibleAnalyser._analyseTarget){
			VisibleAnalyser.isNodeWalked=true;
			VisibleAnalyser.tarRec.copyFrom(NodeUtils.getGRec(node));
			console.log("tarRec:",VisibleAnalyser.tarRec.toString());
			if (VisibleAnalyser.tarRec.width > 0 && VisibleAnalyser.tarRec.height > 0){
				VisibleAnalyser.isTarRecOK=true;
				VisibleAnalyser.tColor++;
				CanvasTools.fillCanvasRec(VisibleAnalyser.mainCanvas,VisibleAnalyser.tarRec,ColorTool.toHexColor(VisibleAnalyser.tColor));
				VisibleAnalyser.preImageData=CanvasTools.getImageDataFromCanvasByRec(VisibleAnalyser.mainCanvas,VisibleAnalyser.tarRec);
				VisibleAnalyser.tarImageData=CanvasTools.getImageDataFromCanvasByRec(VisibleAnalyser.mainCanvas,VisibleAnalyser.tarRec);
			}
			else{
				console.log("tarRec Not OK:",VisibleAnalyser.tarRec);
			}
		}
		else{
			if (VisibleAnalyser.isTarRecOK){
				var tRec;
				tRec=NodeUtils.getGRec(node);
				VisibleAnalyser.interRec=VisibleAnalyser.tarRec.intersection(tRec,VisibleAnalyser.interRec);
				if (VisibleAnalyser.interRec && VisibleAnalyser.interRec.width > 0 && VisibleAnalyser.interRec.height > 0){
					VisibleAnalyser.tColor++;
					CanvasTools.fillCanvasRec(VisibleAnalyser.mainCanvas,tRec,ColorTool.toHexColor(VisibleAnalyser.tColor));
					VisibleAnalyser.tImageData=CanvasTools.getImageDataFromCanvasByRec(VisibleAnalyser.mainCanvas,VisibleAnalyser.tarRec);
					var dRate=NaN;
					dRate=CanvasTools.getDifferRate(VisibleAnalyser.preImageData,VisibleAnalyser.tImageData);
					VisibleAnalyser.preImageData=VisibleAnalyser.tImageData;
					VisibleAnalyser.addCoverNode(node,dRate);
				}
			}
		}
	}

	VisibleAnalyser.filterFun=function(node){
		if (node.visible==false)
			return false;
		if (node.alpha < 0)
			return false;
		if (DebugInfoLayer.I.isDebugItem(node))return false;
		return true;
	}

	VisibleAnalyser.isNodeWalked=false;
	VisibleAnalyser._analyseTarget=null;
	VisibleAnalyser.isTarRecOK=false;
	VisibleAnalyser.mainCanvas=null;
	VisibleAnalyser.preImageData=null;
	VisibleAnalyser.tImageData=null;
	VisibleAnalyser.tarImageData=null;
	VisibleAnalyser.coverRate=NaN;
	VisibleAnalyser.tColor=0;
	VisibleAnalyser._coverList=[];
	__static(VisibleAnalyser,
	['tarRec',function(){return this.tarRec=new Rectangle();},'interRec',function(){return this.interRec=new Rectangle();}
	]);
	return VisibleAnalyser;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/WalkTools.as=======199.999341/199.999341
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-24 下午6:15:01
*/
//class laya.debug.tools.WalkTools
var WalkTools=(function(){
	function WalkTools(){}
	__class(WalkTools,'laya.debug.tools.WalkTools');
	WalkTools.walkTarget=function(target,fun,_this){
		fun.apply(_this,[target]);
		var i=0;
		var len=0;
		var tChild;
		len=target.numChildren;
		for(i=0;i<len;i++){
			tChild=target.getChildAt(i);
			WalkTools.walkTarget(tChild,fun,tChild);
		}
	}

	WalkTools.walkTargetEX=function(target,fun,_this,filterFun){
		if (filterFun !=null && !filterFun(target))return;
		fun.apply(_this,[target]);
		var i=0;
		var len=0;
		var tChild;
		var childs;
		childs=target._children;
		len=childs.length;
		for(i=0;i<len;i++){
			tChild=childs[i];
			WalkTools.walkTarget(tChild,fun,tChild);
		}
	}

	WalkTools.walkChildren=function(target,fun,_this){
		if(!target||target.numChildren<1)return;
		WalkTools.walkArr(DisControlTool.getAllChild(target),fun,_this);
	}

	WalkTools.walkArr=function(arr,fun,_this){
		if(!arr)return;
		var i=0;
		var len=0;
		len=arr.length;
		for(i=0;i<len;i++){
			fun.apply(_this,[arr[i],i]);
		}
	}

	return WalkTools;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/Watcher.as=======199.999340/199.999340
/**
*本类用于监控对象值变化
*@author ww
*@version 1.0
*
*@created 2015-10-23 下午4:18:27
*/
//class laya.debug.tools.Watcher
var Watcher=(function(){
	function Watcher(){}
	__class(Watcher,'laya.debug.tools.Watcher');
	Watcher.watch=function(obj,name,funs){
		VarHook.hookVar(obj,name,funs);
	}

	Watcher.traceChange=function(obj,name,sign){
		(sign===void 0)&& (sign="var changed:");
		VarHook.hookVar(obj,name,[Watcher.getTraceValueFun(name),VarHook.getLocFun(sign)]);
	}

	Watcher.debugChange=function(obj,name){
		VarHook.hookVar(obj,name,[VarHook.getLocFun("debug loc"),FunHook.debugHere]);
	}

	Watcher.differChange=function(obj,name,sign,msg){
		(msg===void 0)&& (msg="");
		VarHook.hookVar(obj,name,[Watcher.getDifferFun(obj,name,sign,msg)]);
	}

	Watcher.getDifferFun=function(obj,name,sign,msg){
		(msg===void 0)&& (msg="");
		var rst;
		rst=function (){
			DifferTool.differ(sign,obj[name],msg);
		}
		return rst;
	}

	Watcher.traceValue=function(value){
		console.log("value:",value);
	}

	Watcher.getTraceValueFun=function(name){
		var rst;
		rst=function (value){
			console.log("set "+name+" :",value);
		}
		return rst;
	}

	return Watcher;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/NodeConsts.as=======199.999336/199.999336
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.NodeConsts
var NodeConsts=(function(){
	function NodeConsts(){}
	__class(NodeConsts,'laya.debug.view.nodeInfo.NodeConsts');
	NodeConsts.defaultFitlerStr="x,y,width,height,scaleX,scaleY,alpha,renderCost";
	NodeConsts.RenderCostMaxTime=3000;
	return NodeConsts;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/NodeUtils.as=======199.999333/199.999333
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.NodeUtils
var NodeUtils=(function(){
	function NodeUtils(){}
	__class(NodeUtils,'laya.debug.view.nodeInfo.NodeUtils');
	NodeUtils.getFilterdTree=function(sprite,keys){
		if (!keys)
			keys=NodeUtils.defaultKeys;
		var me;
		me={};
		var key;
		var i=0,len=0;
		len=keys.length;
		for (i=0;i < len;i++){
			key=keys[i];
			me[key]=sprite[key];
		};
		var cList;
		var tChild;
		cList=sprite._children;
		len=cList.length;
		var mClist;
		mClist=[];
		for (i=0;i < len;i++){
			tChild=cList[i];
			mClist.push(NodeUtils.getFilterdTree(tChild,keys));
		}
		me.childs=mClist;
		return me;
	}

	NodeUtils.getNodeValue=function(node,key){
		var rst;
		if ((node instanceof laya.display.Sprite )){
			var tNode;
			tNode=node;
			switch (key){
				case "gRec":
					rst=laya.debug.view.nodeInfo.NodeUtils.getGRec(tNode).toString();
					break ;
				case "gAlpha":
					rst=laya.debug.view.nodeInfo.NodeUtils.getGAlpha(tNode)+"";
					break ;
				case "cmdCount":
					rst=laya.debug.view.nodeInfo.NodeUtils.getNodeCmdCount(tNode)+"";
					break ;
				case "cmdAll":
					rst=laya.debug.view.nodeInfo.NodeUtils.getNodeCmdTotalCount(tNode)+"";
					break ;
				case "nodeAll":
					rst=""+laya.debug.view.nodeInfo.NodeUtils.getNodeCount(tNode);
					break ;
				case "nodeVisible":
					rst=""+laya.debug.view.nodeInfo.NodeUtils.getNodeCount(tNode,true);
					break ;
				case "nodeRender":
					rst=""+laya.debug.view.nodeInfo.NodeUtils.getRenderNodeCount(tNode);
					break ;
				case "nodeReCache":
					rst=""+laya.debug.view.nodeInfo.NodeUtils.getReFreshRenderNodeCount(tNode);
					break ;
				case "renderCost":
					rst=""+RenderAnalyser.I.getTime(tNode);
					break ;
				case "renderCount":
					rst=""+RenderAnalyser.I.getCount(tNode);
					break ;
				default :
					rst=node[key]+"";
				}
		}
		else {
			rst=node[key]+"";
		}
		return rst;
	}

	NodeUtils.getPropertyDesO=function(tValue,keys){
		if (!keys)
			keys=NodeUtils.defaultKeys;
		var rst={};
		if ((typeof tValue=='object')){
			rst.label=""+ClassTool.getNodeClassAndName(tValue);
		}
		else {
			rst.label=""+tValue;
		}
		rst.type="";
		rst.path=tValue;
		rst.childs=[];
		rst.isDirectory=false;
		var key;
		var i=0,len=0;
		var tChild;
		if ((tValue instanceof laya.display.Node )){
			rst.des=ClassTool.getNodeClassAndName(tValue);
			rst.isDirectory=true;
			len=keys.length;
			for (i=0;i < len;i++){
				key=keys[i];
				tChild=NodeUtils.getPropertyDesO(tValue[key],keys);
				if (tValue.hasOwnProperty(key)){
					tChild.label=""+key+":"+tChild.des;
				}
				else {
					tChild.label=""+key+":"+NodeUtils.getNodeValue(tValue,key);
				}
				rst.childs.push(tChild);
			}
			key="_children";
			tChild=NodeUtils.getPropertyDesO(tValue[key],keys);
			tChild.label=""+key+":"+tChild.des;
			tChild.isChilds=true;
			rst.childs.push(tChild);
		}
		else if ((tValue instanceof Array)){
			rst.des="Array["+(tValue).length+"]";
			rst.isDirectory=true;
			var tList;
			tList=tValue;
			len=tList.length;
			for (i=0;i < len;i++){
				tChild=NodeUtils.getPropertyDesO(tList[i],keys);
				tChild.label=""+i+":"+tChild.des;
				rst.childs.push(tChild);
			}
		}
		else if ((typeof tValue=='object')){
			rst.des=ClassTool.getNodeClassAndName(tValue);
			rst.isDirectory=true;
			for (key in tValue){
				tChild=NodeUtils.getPropertyDesO(tValue[key],keys);
				tChild.label=""+key+":"+tChild.des;
				rst.childs.push(tChild);
			}
		}
		else {
			rst.des=""+tValue;
		}
		rst.hasChild=rst.childs.length > 0;
		return rst;
	}

	NodeUtils.adptShowKeys=function(keys){
		var i=0,len=0;
		len=keys.length;
		for (i=len-1;i >=0;i--){
			keys[i]=StringTool.trimSide(keys[i]);
			if (keys[i].length < 1){
				keys.splice(i,1);
			}
		}
		return keys;
	}

	NodeUtils.getNodeTreeData=function(sprite,keys){
		NodeUtils.adptShowKeys(keys);
		var treeO;
		treeO=NodeUtils.getPropertyDesO(sprite,keys);
		var treeArr;
		treeArr=[];
		NodeUtils.getTreeArr(treeO,treeArr);
		return treeArr;
	}

	NodeUtils.getTreeArr=function(treeO,arr,add){
		(add===void 0)&& (add=true);
		if (add)
			arr.push(treeO);
		var tArr=treeO.childs;
		var i=0,len=tArr.length;
		for (i=0;i < len;i++){
			if (!add){
				tArr[i].nodeParent=null;
			}
			else {
				tArr[i].nodeParent=treeO;
			}
			if (tArr[i].isDirectory){
				NodeUtils.getTreeArr(tArr[i],arr);
			}
			else {
				arr.push(tArr[i]);
			}
		}
	}

	NodeUtils.traceStage=function(){
		console.log(NodeUtils.getFilterdTree(Laya.stage,null));
		console.log("treeArr:",NodeUtils.getNodeTreeData(Laya.stage,null));
	}

	NodeUtils.getNodeCount=function(node,visibleRequire){
		(visibleRequire===void 0)&& (visibleRequire=false);
		if (visibleRequire){
			if (!node.visible)
				return 0;
		};
		var rst=0;
		rst=1;
		var i=0,len=0;
		var cList;
		cList=node._children;
		len=cList.length;
		for (i=0;i < len;i++){
			rst+=NodeUtils.getNodeCount(cList[i],visibleRequire);
		}
		return rst;
	}

	NodeUtils.getGVisible=function(node){
		while (node){
			if (!node.visible)
				return false;
			node=node.parent;
		}
		return true;
	}

	NodeUtils.getGAlpha=function(node){
		var rst=NaN;
		rst=1;
		while (node){
			rst *=node.alpha;
			node=node.parent;
		}
		return rst;
	}

	NodeUtils.getGPos=function(node){
		var point;
		point=new Point();
		node.localToGlobal(point);
		return point;
	}

	NodeUtils.getGRec=function(node){
		var pointList;
		pointList=node._getBoundPointsM(true);
		if (!pointList || pointList.length < 1)
			return Rectangle.TEMP.setTo(0,0,0,0);
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,node.localToGlobal,node);
		pointList=GrahamScan.pointListToPlist(pointList);
		var _disBoundRec;
		_disBoundRec=Rectangle._getWrapRec(pointList,_disBoundRec);
		return _disBoundRec;
	}

	NodeUtils.getGGraphicRec=function(node){
		var pointList;
		pointList=node.getGraphicBounds()._getBoundPoints();
		if (!pointList || pointList.length < 1)
			return Rectangle.TEMP.setTo(0,0,0,0);
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,node.localToGlobal,node);
		pointList=GrahamScan.pointListToPlist(pointList);
		var _disBoundRec;
		_disBoundRec=Rectangle._getWrapRec(pointList,_disBoundRec);
		return _disBoundRec;
	}

	NodeUtils.getNodeCmdCount=function(node){
		var rst=0;
		if (node.graphics){
			if (node.graphics.cmds){
				rst=node.graphics.cmds.length;
			}
			else {
				if (node.graphics._one){
					rst=1;
				}
				else {
					rst=0;
				}
			}
		}
		else {
			rst=0;
		}
		return rst;
	}

	NodeUtils.getNodeCmdTotalCount=function(node){
		var rst=0;
		var i=0,len=0;
		var cList;
		cList=node._children;
		len=cList.length;
		rst=NodeUtils.getNodeCmdCount(node);
		for (i=0;i < len;i++){
			rst+=NodeUtils.getNodeCmdTotalCount(cList[i]);
		}
		return rst;
	}

	NodeUtils.getRenderNodeCount=function(node){
		if (node.cacheAs !="none")
			return 1;
		var rst=0;
		var i=0,len=0;
		var cList;
		cList=node._children;
		len=cList.length;
		rst=1;
		for (i=0;i < len;i++){
			rst+=NodeUtils.getRenderNodeCount(cList[i]);
		}
		return rst;
	}

	NodeUtils.getReFreshRenderNodeCount=function(node){
		var rst=0;
		var i=0,len=0;
		var cList;
		cList=node._children;
		len=cList.length;
		rst=1;
		for (i=0;i < len;i++){
			rst+=NodeUtils.getRenderNodeCount(cList[i]);
		}
		return rst;
	}

	NodeUtils.showCachedSpriteRecs=function(){
		NodeUtils.g=DebugInfoLayer.I.graphicLayer.graphics;
		NodeUtils.g.clear();
		WalkTools.walkTarget(Laya.stage,NodeUtils.drawCachedBounds,null);
	}

	NodeUtils.drawCachedBounds=function(sprite){
		if (sprite.cacheAs=="none")
			return;
		if (DebugInfoLayer.I.isDebugItem(sprite))
			return;
		var rec;
		rec=NodeUtils.getGRec(sprite);
		NodeUtils.g.drawRect(rec.x,rec.y,rec.width,rec.height,null,"#0000ff",2);
	}

	NodeUtils.g=null;
	__static(NodeUtils,
	['defaultKeys',function(){return this.defaultKeys=["x","y","width","height"];}
	]);
	return NodeUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/BitmapFont.as=======199.999327/199.999327
/**
*<code>BitmapFont</code> 是位图字体类，用于定义位图字体信息。
*字体制作及使用方法，请参考文章
*@see http://ldc.layabox.com/doc/?nav=ch-js-1-2-5
*/
//class laya.display.BitmapFont
var BitmapFont=(function(){
	function BitmapFont(){
		this._texture=null;
		this._fontCharDic={};
		this._fontWidthMap={};
		this._complete=null;
		this._path=null;
		this._maxWidth=0;
		this._spaceWidth=10;
		this._padding=null;
		/**当前位图字体字号，使用时，如果字号和设置不同，并且autoScaleSize=true，则按照设置字号比率进行缩放显示。*/
		this.fontSize=12;
		/**表示是否根据实际使用的字体大小缩放位图字体大小。*/
		this.autoScaleSize=false;
		/**字符间距（以像素为单位）。*/
		this.letterSpacing=0;
	}

	__class(BitmapFont,'laya.display.BitmapFont');
	var __proto=BitmapFont.prototype;
	/**
	*通过指定位图字体文件路径，加载位图字体文件，加载完成后会自动解析。
	*@param path 位图字体文件的路径。
	*@param complete 加载并解析完成的回调。
	*/
	__proto.loadFont=function(path,complete){
		this._path=path;
		this._complete=complete;
		if (!path || path.indexOf(".fnt")===-1){
			console.error('Bitmap font configuration information must be a ".fnt" file');
			return;
		}
		Laya.loader.load([{url:path,type:"xml"},{url:path.replace(".fnt",".png"),type:"image"}],Handler.create(this,this._onLoaded));
	}

	/**
	*@private
	*/
	__proto._onLoaded=function(){
		this.parseFont(Loader.getRes(this._path),Loader.getRes(this._path.replace(".fnt",".png")));
		this._complete && this._complete.run();
	}

	/**
	*解析字体文件。
	*@param xml 字体文件XML。
	*@param texture 字体的纹理。
	*/
	__proto.parseFont=function(xml,texture){
		if (xml==null || texture==null)return;
		this._texture=texture;
		var tX=0;
		var tScale=1;
		var tInfo=xml.getElementsByTagName("info");
		this.fontSize=parseInt(tInfo[0].attributes["size"].nodeValue);
		var tPadding=tInfo[0].attributes["padding"].nodeValue;
		var tPaddingArray=tPadding.split(",");
		this._padding=[parseInt(tPaddingArray[0]),parseInt(tPaddingArray[1]),parseInt(tPaddingArray[2]),parseInt(tPaddingArray[3])];
		var chars=xml.getElementsByTagName("char");
		var i=0;
		for (i=0;i < chars.length;i++){
			var tAttribute=chars[i].attributes;
			var tId=parseInt(tAttribute["id"].nodeValue);
			var xOffset=parseInt(tAttribute["xoffset"].nodeValue)/ tScale;
			var yOffset=parseInt(tAttribute["yoffset"].nodeValue)/ tScale;
			var xAdvance=parseInt(tAttribute["xadvance"].nodeValue)/ tScale;
			var region=new Rectangle();
			region.x=parseInt(tAttribute["x"].nodeValue);
			region.y=parseInt(tAttribute["y"].nodeValue);
			region.width=parseInt(tAttribute["width"].nodeValue);
			region.height=parseInt(tAttribute["height"].nodeValue);
			var tTexture=Texture.create(texture,region.x,region.y,region.width,region.height,xOffset,yOffset);
			this._maxWidth=Math.max(this._maxWidth,xAdvance+this.letterSpacing);
			this._fontCharDic[tId]=tTexture;
			this._fontWidthMap[tId]=xAdvance;
		}
	}

	/**
	*获取指定字符的字体纹理对象。
	*@param char 字符。
	*@return 指定的字体纹理对象。
	*/
	__proto.getCharTexture=function(char){
		return this._fontCharDic[char.charCodeAt(0)];
	}

	/**
	*销毁位图字体，调用Text.unregisterBitmapFont 时，默认会销毁。
	*/
	__proto.destroy=function(){
		if (this._texture){
			for (var p in this._fontCharDic){
				var tTexture=this._fontCharDic[p];
				if (tTexture)tTexture.destroy();
			}
			this._texture.destroy();
			this._fontCharDic=null;
			this._fontWidthMap=null;
			this._texture=null;
			this._complete=null;
			this._padding=null;
		}
	}

	/**
	*设置空格的宽（如果字体库有空格，这里就可以不用设置了）。
	*@param spaceWidth 宽度，单位为像素。
	*/
	__proto.setSpaceWidth=function(spaceWidth){
		this._spaceWidth=spaceWidth;
	}

	/**
	*获取指定字符的宽度。
	*@param char 字符。
	*@return 宽度。
	*/
	__proto.getCharWidth=function(char){
		var code=char.charCodeAt(0);
		if (this._fontWidthMap[code])return this._fontWidthMap[code]+this.letterSpacing;
		if (char===" ")return this._spaceWidth+this.letterSpacing;
		return 0;
	}

	/**
	*获取指定文本内容的宽度。
	*@param text 文本内容。
	*@return 宽度。
	*/
	__proto.getTextWidth=function(text){
		var tWidth=0;
		for (var i=0,n=text.length;i < n;i++){
			tWidth+=this.getCharWidth(text.charAt(i));
		}
		return tWidth;
	}

	/**
	*获取最大字符宽度。
	*/
	__proto.getMaxWidth=function(){
		return this._maxWidth;
	}

	/**
	*获取最大字符高度。
	*/
	__proto.getMaxHeight=function(){
		return this.fontSize;
	}

	/**
	*@private
	*将指定的文本绘制到指定的显示对象上。
	*/
	__proto._drawText=function(text,sprite,drawX,drawY,align,width){
		var tWidth=this.getTextWidth(text);
		var tTexture;
		var dx=0;
		align==="center" && (dx=(width-tWidth)/ 2);
		align==="right" && (dx=(width-tWidth));
		var tx=0;
		for (var i=0,n=text.length;i < n;i++){
			tTexture=this.getCharTexture(text.charAt(i));
			if (tTexture){
				sprite.graphics.drawImage(tTexture,drawX+tx+dx,drawY);
				tx+=this.getCharWidth(text.charAt(i));
			}
		}
	}

	return BitmapFont;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/AlphaCmd.as=======199.999326/199.999326
/**
*...
*@author ww
*/
//class laya.display.cmd.AlphaCmd
var AlphaCmd=(function(){
	function AlphaCmd(){
		//this._alpha=NaN;
	}

	__class(AlphaCmd,'laya.display.cmd.AlphaCmd');
	var __proto=AlphaCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("AlphaCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.alpha(this._alpha);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Alpha";
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
	});

	AlphaCmd.create=function(alpha){
		var cmd=Pool.getItemByClass("AlphaCmd",AlphaCmd);
		cmd._alpha=alpha;
		return cmd;
	}

	AlphaCmd.ID="Alpha";
	return AlphaCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/ClipRectCmd.as=======199.999325/199.999325
/**
*...
*@author ww
*/
//class laya.display.cmd.ClipRectCmd
var ClipRectCmd=(function(){
	function ClipRectCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._width=NaN;
		//this._height=NaN;
	}

	__class(ClipRectCmd,'laya.display.cmd.ClipRectCmd');
	var __proto=ClipRectCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("ClipRectCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.clipRect(this._x+gx,this._y+gy,this._width,this._height);
	}

	__getset(0,__proto,'cmdID',function(){
		return "ClipRect";
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	ClipRectCmd.create=function(x,y,width,height){
		var cmd=Pool.getItemByClass("ClipRectCmd",ClipRectCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._width=width;
		cmd._height=height;
		return cmd;
	}

	ClipRectCmd.ID="ClipRect";
	return ClipRectCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawCircleCmd.as=======199.999324/199.999324
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawCircleCmd
var DrawCircleCmd=(function(){
	function DrawCircleCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._radius=NaN;
		//this._fillColor=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
		//this._vid=0;
	}

	__class(DrawCircleCmd,'laya.display.cmd.DrawCircleCmd');
	var __proto=DrawCircleCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._fillColor=null;
		this._lineColor=null;
		Pool.recover("DrawCircleCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawCircle(this._x+gx,this._y+gy,this._radius,this._fillColor,this._lineColor,this._lineWidth,this._vid);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawCircle";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		this._radius=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawCircleCmd.create=function(x,y,radius,fillColor,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawCircleCmd",DrawCircleCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._radius=radius;
		cmd._fillColor=fillColor;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		cmd._vid=vid;
		return cmd;
	}

	DrawCircleCmd.ID="DrawCircle";
	return DrawCircleCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawCurvesCmd.as=======199.999323/199.999323
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawCurvesCmd
var DrawCurvesCmd=(function(){
	function DrawCurvesCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._points=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
	}

	__class(DrawCurvesCmd,'laya.display.cmd.DrawCurvesCmd');
	var __proto=DrawCurvesCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._points=null;
		this._lineColor=null;
		Pool.recover("DrawCurvesCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawCurves(this._x+gx,this._y+gy,this._points,this._lineColor,this._lineWidth);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'points',function(){
		return this._points;
		},function(value){
		this._points=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawCurves";
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawCurvesCmd.create=function(x,y,points,lineColor,lineWidth){
		var cmd=Pool.getItemByClass("DrawCurvesCmd",DrawCurvesCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._points=points;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		return cmd;
	}

	DrawCurvesCmd.ID="DrawCurves";
	return DrawCurvesCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawImageCmd.as=======199.999322/199.999322
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawImageCmd
var DrawImageCmd=(function(){
	function DrawImageCmd(){
		//this._texture=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._width=NaN;
		//this._height=NaN;
	}

	__class(DrawImageCmd,'laya.display.cmd.DrawImageCmd');
	var __proto=DrawImageCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		Pool.recover("DrawImageCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawTexture(this._texture,this._x+gx,this._y+gy,this._width,this._height);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawImage";
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	DrawImageCmd.create=function(texture,x,y,width,height){
		var cmd=Pool.getItemByClass("DrawImageCmd",DrawImageCmd);
		cmd._texture=texture;
		cmd._x=x;
		cmd._y=y;
		cmd._width=width;
		cmd._height=height;
		return cmd;
	}

	DrawImageCmd.ID="DrawImage";
	return DrawImageCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawLineCmd.as=======199.999321/199.999321
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawLineCmd
var DrawLineCmd=(function(){
	function DrawLineCmd(){
		//this._fromX=NaN;
		//this._fromY=NaN;
		//this._toX=NaN;
		//this._toY=NaN;
		//this._lineColor=null;
		//this._lineWidth=NaN;
		//this._vid=0;
	}

	__class(DrawLineCmd,'laya.display.cmd.DrawLineCmd');
	var __proto=DrawLineCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("DrawLineCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawLine(gx,gy,this._fromX,this._fromY,this._toX,this._toY,this._lineColor,this._lineWidth,this._vid);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawLine";
	});

	__getset(0,__proto,'toY',function(){
		return this._toY;
		},function(value){
		this._toY=value;
	});

	__getset(0,__proto,'fromX',function(){
		return this._fromX;
		},function(value){
		this._fromX=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'toX',function(){
		return this._toX;
		},function(value){
		this._toX=value;
	});

	__getset(0,__proto,'fromY',function(){
		return this._fromY;
		},function(value){
		this._fromY=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawLineCmd.create=function(fromX,fromY,toX,toY,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawLineCmd",DrawLineCmd);
		cmd._fromX=fromX;
		cmd._fromY=fromY;
		cmd._toX=toX;
		cmd._toY=toY;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		cmd._vid=vid;
		return cmd;
	}

	DrawLineCmd.ID="DrawLine";
	return DrawLineCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawLinesCmd.as=======199.999320/199.999320
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawLinesCmd
var DrawLinesCmd=(function(){
	function DrawLinesCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._points=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
		//this._vid=0;
	}

	__class(DrawLinesCmd,'laya.display.cmd.DrawLinesCmd');
	var __proto=DrawLinesCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._points=null;
		this._lineColor=null;
		Pool.recover("DrawLinesCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawLines(this._x+gx,this._y+gy,this._points,this._lineColor,this._lineWidth,this._vid);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'points',function(){
		return this._points;
		},function(value){
		this._points=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawLines";
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawLinesCmd.create=function(x,y,points,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawLinesCmd",DrawLinesCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._points=points;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		cmd._vid=vid;
		return cmd;
	}

	DrawLinesCmd.ID="DrawLines";
	return DrawLinesCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawPathCmd.as=======199.999319/199.999319
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawPathCmd
var DrawPathCmd=(function(){
	function DrawPathCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._paths=null;
		//this._brush=null;
		//this._pen=null;
	}

	__class(DrawPathCmd,'laya.display.cmd.DrawPathCmd');
	var __proto=DrawPathCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._paths=null;
		this._brush=null;
		this._pen=null;
		Pool.recover("DrawPathCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawPath(this._x+gx,this._y+gy,this._paths,this._brush,this._pen);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawPath";
	});

	__getset(0,__proto,'paths',function(){
		return this._paths;
		},function(value){
		this._paths=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'brush',function(){
		return this._brush;
		},function(value){
		this._brush=value;
	});

	__getset(0,__proto,'pen',function(){
		return this._pen;
		},function(value){
		this._pen=value;
	});

	DrawPathCmd.create=function(x,y,paths,brush,pen){
		var cmd=Pool.getItemByClass("DrawPathCmd",DrawPathCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._paths=paths;
		cmd._brush=brush;
		cmd._pen=pen;
		return cmd;
	}

	DrawPathCmd.ID="DrawPath";
	return DrawPathCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawPieCmd.as=======199.999318/199.999318
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawPieCmd
var DrawPieCmd=(function(){
	function DrawPieCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._radius=NaN;
		//this._startAngle=NaN;
		//this._endAngle=NaN;
		//this._fillColor=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
		//this._vid=0;
	}

	__class(DrawPieCmd,'laya.display.cmd.DrawPieCmd');
	var __proto=DrawPieCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._fillColor=null;
		this._lineColor=null;
		Pool.recover("DrawPieCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawPie(this._x+gx,this._y+gy,this._radius,this._startAngle,this._endAngle,this._fillColor,this._lineColor,this._lineWidth,this._vid);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'startAngle',function(){
		return this._startAngle;
		},function(value){
		this._startAngle=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawPie";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		this._radius=value;
	});

	__getset(0,__proto,'endAngle',function(){
		return this._endAngle;
		},function(value){
		this._endAngle=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	DrawPieCmd.create=function(x,y,radius,startAngle,endAngle,fillColor,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawPieCmd",DrawPieCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._radius=radius;
		cmd._startAngle=startAngle;
		cmd._endAngle=endAngle;
		cmd._fillColor=fillColor;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		cmd._vid=vid;
		return cmd;
	}

	DrawPieCmd.ID="DrawPie";
	return DrawPieCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawPolyCmd.as=======199.999317/199.999317
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawPolyCmd
var DrawPolyCmd=(function(){
	function DrawPolyCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._points=null;
		//this._fillColor=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
		//this._isConvexPolygon=false;
		//this._vid=0;
	}

	__class(DrawPolyCmd,'laya.display.cmd.DrawPolyCmd');
	var __proto=DrawPolyCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._points=null;
		this._fillColor=null;
		this._lineColor=null;
		Pool.recover("DrawPolyCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._drawPoly(this._x+gx,this._y+gy,this._points,this._fillColor,this._lineColor,this._lineWidth,this._isConvexPolygon,this._vid);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'points',function(){
		return this._points;
		},function(value){
		this._points=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawPoly";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'isConvexPolygon',function(){
		return this._isConvexPolygon;
		},function(value){
		this._isConvexPolygon=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawPolyCmd.create=function(x,y,points,fillColor,lineColor,lineWidth,isConvexPolygon,vid){
		var cmd=Pool.getItemByClass("DrawPolyCmd",DrawPolyCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._points=points;
		cmd._fillColor=fillColor;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		cmd._isConvexPolygon=isConvexPolygon;
		cmd._vid=vid;
		return cmd;
	}

	DrawPolyCmd.ID="DrawPoly";
	return DrawPolyCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawRectCmd.as=======199.999316/199.999316
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawRectCmd
var DrawRectCmd=(function(){
	function DrawRectCmd(){
		//this._x=NaN;
		//this._y=NaN;
		//this._width=NaN;
		//this._height=NaN;
		//this._fillColor=null;
		//this._lineColor=null;
		//this._lineWidth=NaN;
	}

	__class(DrawRectCmd,'laya.display.cmd.DrawRectCmd');
	var __proto=DrawRectCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._fillColor=null;
		this._lineColor=null;
		Pool.recover("DrawRectCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawRect(this._x+gx,this._y+gy,this._width,this._height,this._fillColor,this._lineColor,this._lineWidth);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawRect";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawRectCmd.create=function(x,y,width,height,fillColor,lineColor,lineWidth){
		var cmd=Pool.getItemByClass("DrawRectCmd",DrawRectCmd);
		cmd._x=x;
		cmd._y=y;
		cmd._width=width;
		cmd._height=height;
		cmd._fillColor=fillColor;
		cmd._lineColor=lineColor;
		cmd._lineWidth=lineWidth;
		return cmd;
	}

	DrawRectCmd.ID="DrawRect";
	return DrawRectCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawTextureCmd.as=======199.999315/199.999315
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawTextureCmd
var DrawTextureCmd=(function(){
	function DrawTextureCmd(){
		//this._texture=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._width=NaN;
		//this._height=NaN;
		//this._matrix=null;
		//this._alpha=NaN;
		//this._color=null;
		//this._blendMode=null;
	}

	__class(DrawTextureCmd,'laya.display.cmd.DrawTextureCmd');
	var __proto=DrawTextureCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		this._matrix=null;
		Pool.recover("DrawTextureCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawTextureWithTransform(this._texture,this._x,this._y,this._width,this._height,this._matrix,gx,gy,this._alpha,this._blendMode);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawTexture";
	});

	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(value){
		this._matrix=value;
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
	});

	__getset(0,__proto,'blendMode',function(){
		return this._blendMode;
		},function(value){
		this._blendMode=value;
	});

	DrawTextureCmd.create=function(texture,x,y,width,height,matrix,alpha,color,blendMode){
		var cmd=Pool.getItemByClass("DrawTextureCmd",DrawTextureCmd);
		cmd._texture=texture;
		cmd._x=x;
		cmd._y=y;
		cmd._width=width;
		cmd._height=height;
		cmd._matrix=matrix;
		cmd._alpha=alpha;
		cmd._color=color;
		cmd._blendMode=blendMode;
		return cmd;
	}

	DrawTextureCmd.ID="DrawTexture";
	return DrawTextureCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawTexturesCmd.as=======199.999314/199.999314
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawTexturesCmd
var DrawTexturesCmd=(function(){
	function DrawTexturesCmd(){
		//this._texture=null;
		//this._pos=null;
	}

	__class(DrawTexturesCmd,'laya.display.cmd.DrawTexturesCmd');
	var __proto=DrawTexturesCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		this._pos=null;
		Pool.recover("DrawTexturesCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawTextures(this._texture,this._pos,gx,gy);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawTextures";
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
	});

	__getset(0,__proto,'pos',function(){
		return this._pos;
		},function(value){
		this._pos=value;
	});

	DrawTexturesCmd.create=function(texture,pos){
		var cmd=Pool.getItemByClass("DrawTexturesCmd",DrawTexturesCmd);
		cmd._texture=texture;
		cmd._pos=pos;
		return cmd;
	}

	DrawTexturesCmd.ID="DrawTextures";
	return DrawTexturesCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/DrawTrianglesCmd.as=======199.999313/199.999313
/**
*...
*@author ww
*/
//class laya.display.cmd.DrawTrianglesCmd
var DrawTrianglesCmd=(function(){
	function DrawTrianglesCmd(){
		//this._texture=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._vertices=null;
		//this._uvs=null;
		//this._indices=null;
		//this._matrix=null;
		//this._alpha=NaN;
		//this._color=null;
		//this._blendMode=null;
	}

	__class(DrawTrianglesCmd,'laya.display.cmd.DrawTrianglesCmd');
	var __proto=DrawTrianglesCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		this._vertices=null;
		this._uvs=null;
		this._indices=null;
		this._matrix=null;
		Pool.recover("DrawTrianglesCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawTriangles(this._texture,this._x+gx,this._y+gy,this._vertices,this._uvs,this._indices,this._matrix,this._alpha,this._color,this._blendMode);
	}

	__getset(0,__proto,'vertices',function(){
		return this._vertices;
		},function(value){
		this._vertices=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawTriangles";
	});

	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(value){
		this._matrix=value;
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
	});

	__getset(0,__proto,'uvs',function(){
		return this._uvs;
		},function(value){
		this._uvs=value;
	});

	__getset(0,__proto,'indices',function(){
		return this._indices;
		},function(value){
		this._indices=value;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
	});

	__getset(0,__proto,'blendMode',function(){
		return this._blendMode;
		},function(value){
		this._blendMode=value;
	});

	DrawTrianglesCmd.create=function(texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){
		var cmd=Pool.getItemByClass("DrawTrianglesCmd",DrawTrianglesCmd);
		cmd._texture=texture;
		cmd._x=x;
		cmd._y=y;
		cmd._vertices=vertices;
		cmd._uvs=uvs;
		cmd._indices=indices;
		cmd._matrix=matrix;
		cmd._alpha=alpha;
		cmd._color=color;
		cmd._blendMode=blendMode;
		return cmd;
	}

	DrawTrianglesCmd.ID="DrawTriangles";
	return DrawTrianglesCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/FillBorderTextCmd.as=======199.999312/199.999312
/**
*...
*@author ww
*/
//class laya.display.cmd.FillBorderTextCmd
var FillBorderTextCmd=(function(){
	function FillBorderTextCmd(){
		//this._text=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._font=null;
		//this._fillColor=null;
		//this._borderColor=null;
		//this._lineWidth=NaN;
		//this._textAlign=null;
	}

	__class(FillBorderTextCmd,'laya.display.cmd.FillBorderTextCmd');
	var __proto=FillBorderTextCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("FillBorderTextCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.fillBorderText(this._text,this._x+gx,this._y+gy,this._font,this._fillColor,this._borderColor,this._lineWidth,this._textAlign);
	}

	__getset(0,__proto,'cmdID',function(){
		return "FillBorderText";
	});

	__getset(0,__proto,'borderColor',function(){
		return this._borderColor;
		},function(value){
		this._borderColor=value;
	});

	__getset(0,__proto,'text',function(){
		return this._text;
		},function(value){
		this._text=value;
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'textAlign',function(){
		return this._textAlign;
		},function(value){
		this._textAlign=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		this._font=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	FillBorderTextCmd.create=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){
		var cmd=Pool.getItemByClass("FillBorderTextCmd",FillBorderTextCmd);
		cmd._text=text;
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._fillColor=fillColor;
		cmd._borderColor=borderColor;
		cmd._lineWidth=lineWidth;
		cmd._textAlign=textAlign;
		return cmd;
	}

	FillBorderTextCmd.ID="FillBorderText";
	return FillBorderTextCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/FillBorderWordsCmd.as=======199.999311/199.999311
/**
*...
*@author ww
*/
//class laya.display.cmd.FillBorderWordsCmd
var FillBorderWordsCmd=(function(){
	function FillBorderWordsCmd(){
		//this._words=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._font=null;
		//this._fillColor=null;
		//this._borderColor=null;
		//this._lineWidth=0;
	}

	__class(FillBorderWordsCmd,'laya.display.cmd.FillBorderWordsCmd');
	var __proto=FillBorderWordsCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._words=null;
		Pool.recover("FillBorderWordsCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.fillBorderWords(this._words,this._x+gx,this._y+gy,this._font,this._fillColor,this._borderColor,this._lineWidth);
	}

	__getset(0,__proto,'borderColor',function(){
		return this._borderColor;
		},function(value){
		this._borderColor=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "FillBorderWords";
	});

	__getset(0,__proto,'words',function(){
		return this._words;
		},function(value){
		this._words=value;
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		this._font=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	FillBorderWordsCmd.create=function(words,x,y,font,fillColor,borderColor,lineWidth){
		var cmd=Pool.getItemByClass("FillBorderWordsCmd",FillBorderWordsCmd);
		cmd._words=words;
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._fillColor=fillColor;
		cmd._borderColor=borderColor;
		cmd._lineWidth=lineWidth;
		return cmd;
	}

	FillBorderWordsCmd.ID="FillBorderWords";
	return FillBorderWordsCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/FillTextCmd.as=======199.999310/199.999310
/**
*...
*@author ww
*/
//class laya.display.cmd.FillTextCmd
var FillTextCmd=(function(){
	function FillTextCmd(){
		//this._text=null;
		this._textIsWorldText=false;
		//this._x=NaN;
		//this._y=NaN;
		//this._font=null;
		//this._color=null;
		//this._textAlign=null;
	}

	__class(FillTextCmd,'laya.display.cmd.FillTextCmd');
	var __proto=FillTextCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("FillTextCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.drawText(this._text,this._x+gx,this._y+gy,this._font,this._color,this._textAlign);
	}

	__getset(0,__proto,'text',function(){
		return this._text;
		},function(value){
		this._text=value;
		this._textIsWorldText=(value instanceof laya.utils.WordText );
		this._textIsWorldText && (this._text).cleanCache();
	});

	__getset(0,__proto,'cmdID',function(){
		return "FillText";
	});

	__getset(0,__proto,'textAlign',function(){
		return this._textAlign;
		},function(value){
		this._textAlign=value;
		this._textIsWorldText && (this._text).cleanCache();
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
		this._textIsWorldText && (this._text).cleanCache();
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		this._font=value;
		this._textIsWorldText && (this._text).cleanCache();
	});

	FillTextCmd.create=function(text,x,y,font,color,textAlign){
		var cmd=Pool.getItemByClass("FillTextCmd",FillTextCmd);
		cmd._text=text;
		cmd._textIsWorldText=(text instanceof laya.utils.WordText );
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._color=color;
		cmd._textAlign=textAlign;
		return cmd;
	}

	FillTextCmd.ID="FillText";
	return FillTextCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/FillTextureCmd.as=======199.999309/199.999309
/**
*...
*@author ww
*/
//class laya.display.cmd.FillTextureCmd
var FillTextureCmd=(function(){
	function FillTextureCmd(){
		//this._texture=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._width=NaN;
		//this._height=NaN;
		//this._type=null;
		//this._offset=null;
		//this._other=null;
	}

	__class(FillTextureCmd,'laya.display.cmd.FillTextureCmd');
	var __proto=FillTextureCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		this._offset=null;
		this._other=null;
		Pool.recover("FillTextureCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.fillTexture(this._texture,this._x+gx,this._y+gy,this._width,this._height,this._type,this._offset,this._other);
	}

	__getset(0,__proto,'cmdID',function(){
		return "FillTexture";
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'offset',function(){
		return this._offset;
		},function(value){
		this._offset=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	__getset(0,__proto,'other',function(){
		return this._other;
		},function(value){
		this._other=value;
	});

	__getset(0,__proto,'type',function(){
		return this._type;
		},function(value){
		this._type=value;
	});

	FillTextureCmd.create=function(texture,x,y,width,height,type,offset,other){
		var cmd=Pool.getItemByClass("FillTextureCmd",FillTextureCmd);
		cmd._texture=texture;
		cmd._x=x;
		cmd._y=y;
		cmd._width=width;
		cmd._height=height;
		cmd._type=type;
		cmd._offset=offset;
		cmd._other=other;
		return cmd;
	}

	FillTextureCmd.ID="FillTexture";
	return FillTextureCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/FillWordsCmd.as=======199.999308/199.999308
/**
*...
*@author ww
*/
//class laya.display.cmd.FillWordsCmd
var FillWordsCmd=(function(){
	function FillWordsCmd(){
		//this._words=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._font=null;
		//this._color=null;
	}

	__class(FillWordsCmd,'laya.display.cmd.FillWordsCmd');
	var __proto=FillWordsCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._words=null;
		Pool.recover("FillWordsCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.fillWords(this._words,this._x+gx,this._y+gy,this._font,this._color);
	}

	__getset(0,__proto,'cmdID',function(){
		return "FillWords";
	});

	__getset(0,__proto,'words',function(){
		return this._words;
		},function(value){
		this._words=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		this._font=value;
	});

	FillWordsCmd.create=function(words,x,y,font,color){
		var cmd=Pool.getItemByClass("FillWordsCmd",FillWordsCmd);
		cmd._words=words;
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._color=color;
		return cmd;
	}

	FillWordsCmd.ID="FillWords";
	return FillWordsCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/RestoreCmd.as=======199.999307/199.999307
/**
*...
*@author ww
*/
//class laya.display.cmd.RestoreCmd
var RestoreCmd=(function(){
	function RestoreCmd(){}
	__class(RestoreCmd,'laya.display.cmd.RestoreCmd');
	var __proto=RestoreCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("RestoreCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.restore();
	}

	__getset(0,__proto,'cmdID',function(){
		return "Restore";
	});

	RestoreCmd.create=function(){
		var cmd=Pool.getItemByClass("RestoreCmd",RestoreCmd);
		return cmd;
	}

	RestoreCmd.ID="Restore";
	return RestoreCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/RotateCmd.as=======199.999306/199.999306
/**
*...
*@author ww
*/
//class laya.display.cmd.RotateCmd
var RotateCmd=(function(){
	function RotateCmd(){
		//this._angle=NaN;
		//this._pivotX=NaN;
		//this._pivotY=NaN;
	}

	__class(RotateCmd,'laya.display.cmd.RotateCmd');
	var __proto=RotateCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("RotateCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._rotate(this._angle,this._pivotX+gx,this._pivotY+gy);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Rotate";
	});

	__getset(0,__proto,'angle',function(){
		return this._angle;
		},function(value){
		this._angle=value;
	});

	__getset(0,__proto,'pivotX',function(){
		return this._pivotX;
		},function(value){
		this._pivotX=value;
	});

	__getset(0,__proto,'pivotY',function(){
		return this._pivotY;
		},function(value){
		this._pivotY=value;
	});

	RotateCmd.create=function(angle,pivotX,pivotY){
		var cmd=Pool.getItemByClass("RotateCmd",RotateCmd);
		cmd._angle=angle;
		cmd._pivotX=pivotX;
		cmd._pivotY=pivotY;
		return cmd;
	}

	RotateCmd.ID="Rotate";
	return RotateCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/SaveCmd.as=======199.999305/199.999305
/**
*...
*@author ww
*/
//class laya.display.cmd.SaveCmd
var SaveCmd=(function(){
	function SaveCmd(){}
	__class(SaveCmd,'laya.display.cmd.SaveCmd');
	var __proto=SaveCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("SaveCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.save();
	}

	__getset(0,__proto,'cmdID',function(){
		return "Save";
	});

	SaveCmd.create=function(){
		var cmd=Pool.getItemByClass("SaveCmd",SaveCmd);
		return cmd;
	}

	SaveCmd.ID="Save";
	return SaveCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/ScaleCmd.as=======199.999304/199.999304
/**
*...
*@author ww
*/
//class laya.display.cmd.ScaleCmd
var ScaleCmd=(function(){
	function ScaleCmd(){
		//this._scaleX=NaN;
		//this._scaleY=NaN;
		//this._pivotX=NaN;
		//this._pivotY=NaN;
	}

	__class(ScaleCmd,'laya.display.cmd.ScaleCmd');
	var __proto=ScaleCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("ScaleCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._scale(this._scaleX,this._scaleY,this._pivotX+gx,this._pivotY+gy);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Scale";
	});

	__getset(0,__proto,'scaleX',function(){
		return this._scaleX;
		},function(value){
		this._scaleX=value;
	});

	__getset(0,__proto,'scaleY',function(){
		return this._scaleY;
		},function(value){
		this._scaleY=value;
	});

	__getset(0,__proto,'pivotX',function(){
		return this._pivotX;
		},function(value){
		this._pivotX=value;
	});

	__getset(0,__proto,'pivotY',function(){
		return this._pivotY;
		},function(value){
		this._pivotY=value;
	});

	ScaleCmd.create=function(scaleX,scaleY,pivotX,pivotY){
		var cmd=Pool.getItemByClass("ScaleCmd",ScaleCmd);
		cmd._scaleX=scaleX;
		cmd._scaleY=scaleY;
		cmd._pivotX=pivotX;
		cmd._pivotY=pivotY;
		return cmd;
	}

	ScaleCmd.ID="Scale";
	return ScaleCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/StrokeTextCmd.as=======199.999303/199.999303
/**
*...
*@author ww
*/
//class laya.display.cmd.StrokeTextCmd
var StrokeTextCmd=(function(){
	function StrokeTextCmd(){
		//this._text=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._font=null;
		//this._color=null;
		//this._lineWidth=NaN;
		//this._textAlign=null;
	}

	__class(StrokeTextCmd,'laya.display.cmd.StrokeTextCmd');
	var __proto=StrokeTextCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("StrokeTextCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.strokeWord(this._text,this._x+gx,this._y+gy,this._font,this._color,this._lineWidth,this._textAlign);
	}

	__getset(0,__proto,'text',function(){
		return this._text;
		},function(value){
		this._text=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "StrokeText";
	});

	__getset(0,__proto,'textAlign',function(){
		return this._textAlign;
		},function(value){
		this._textAlign=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		this._color=value;
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		this._font=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	StrokeTextCmd.create=function(text,x,y,font,color,lineWidth,textAlign){
		var cmd=Pool.getItemByClass("StrokeTextCmd",StrokeTextCmd);
		cmd._text=text;
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._color=color;
		cmd._lineWidth=lineWidth;
		cmd._textAlign=textAlign;
		return cmd;
	}

	StrokeTextCmd.ID="StrokeText";
	return StrokeTextCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/TransformCmd.as=======199.999302/199.999302
/**
*...
*@author ww
*/
//class laya.display.cmd.TransformCmd
var TransformCmd=(function(){
	function TransformCmd(){
		//this._matrix=null;
		//this._pivotX=NaN;
		//this._pivotY=NaN;
	}

	__class(TransformCmd,'laya.display.cmd.TransformCmd');
	var __proto=TransformCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._matrix=null;
		Pool.recover("TransformCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context._transform(this._matrix,this._pivotX+gx,this._pivotY+gy);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Transform";
	});

	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(value){
		this._matrix=value;
	});

	__getset(0,__proto,'pivotX',function(){
		return this._pivotX;
		},function(value){
		this._pivotX=value;
	});

	__getset(0,__proto,'pivotY',function(){
		return this._pivotY;
		},function(value){
		this._pivotY=value;
	});

	TransformCmd.create=function(matrix,pivotX,pivotY){
		var cmd=Pool.getItemByClass("TransformCmd",TransformCmd);
		cmd._matrix=matrix;
		cmd._pivotX=pivotX;
		cmd._pivotY=pivotY;
		return cmd;
	}

	TransformCmd.ID="Transform";
	return TransformCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmd/TranslateCmd.as=======199.999301/199.999301
/**
*...
*@author ww
*/
//class laya.display.cmd.TranslateCmd
var TranslateCmd=(function(){
	function TranslateCmd(){
		//this._tx=NaN;
		//this._ty=NaN;
	}

	__class(TranslateCmd,'laya.display.cmd.TranslateCmd');
	var __proto=TranslateCmd.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("TranslateCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.translate(this._tx,this._ty);
	}

	__getset(0,__proto,'ty',function(){
		return this._ty;
		},function(value){
		this._ty=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "Translate";
	});

	__getset(0,__proto,'tx',function(){
		return this._tx;
		},function(value){
		this._tx=value;
	});

	TranslateCmd.create=function(tx,ty){
		var cmd=Pool.getItemByClass("TranslateCmd",TranslateCmd);
		cmd._tx=tx;
		cmd._ty=ty;
		return cmd;
	}

	TranslateCmd.ID="Translate";
	return TranslateCmd;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/AlphaCmdNative.as=======199.999300/199.999300
/**
*...
*@author ww
*/
//class laya.display.cmdNative.AlphaCmdNative
var AlphaCmdNative=(function(){
	function AlphaCmdNative(){
		//this._graphicsCmdEncoder=null;
		//this._alpha=NaN;
		this._paramData=new ParamData(4,true);
	}

	__class(AlphaCmdNative,'laya.display.cmdNative.AlphaCmdNative');
	var __proto=AlphaCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("AlphaCmd",this);
	}

	/**@private */
	__proto.run=function(context,gx,gy){
		context.alpha(this._alpha);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Alpha";
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		value=value > 1 ? 1:value;
		value=value < 0 ? 0:value;
		this._alpha=value;
		var nColor=0x00ffffff;
		nColor=((value *255)<< 24)| nColor;
		this._paramData._int32Data[0]=nColor;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	AlphaCmdNative.create=function(alpha){
		var cmd=Pool.getItemByClass("AlphaCmd",AlphaCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		cmd.alpha=alpha;
		cbuf.setGlobalValueEx(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,15,cmd._paramData.getPtrID(),0);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	AlphaCmdNative.ID="Alpha";
	return AlphaCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/ClipRectCmdNative.as=======199.999299/199.999299
//class laya.display.cmdNative.ClipRectCmdNative
var ClipRectCmdNative=(function(){
	function ClipRectCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=new ParamData(4 *4,true);
	}

	__class(ClipRectCmdNative,'laya.display.cmdNative.ClipRectCmdNative');
	var __proto=ClipRectCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("ClipRectCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "ClipRect";
	});

	__getset(0,__proto,'width',function(){
		},function(value){
	});

	__getset(0,__proto,'x',function(){
		},function(value){
	});

	__getset(0,__proto,'y',function(){
		},function(value){
	});

	__getset(0,__proto,'height',function(){
		},function(value){
	});

	ClipRectCmdNative.create=function(x,y,w,h){
		var cmd=Pool.getItemByClass("ClipRectCmd",ClipRectCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		var f32=cmd._paramData._float32Data;
		f32[0]=x;
		f32[1]=y;
		f32[2]=w;
		f32[3]=h;
		var nDataID=cmd._paramData.getPtrID();
		LayaGL.syncBufferToRenderThread(cmd._paramData);
		cbuf.setClipValueEx(LayaNative2D.GLOBALVALUE_CLIPDIR,LayaNative2D.GLOBALVALUE_CLIPSIZE,LayaNative2D.GLOBALVALUE_MATRIX32,nDataID);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	ClipRectCmdNative.ID="ClipRect";
	return ClipRectCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawImageCmdNative.as=======199.999298/199.999298
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawImageCmdNative
var DrawImageCmdNative=(function(){
	function DrawImageCmdNative(){
		this._graphicsCmdEncoder=null;
		this._index=0;
		this._paramData=null;
		this._texture=null;
		this._x=NaN;
		this._y=NaN;
		this._width=NaN;
		this._height=NaN;
	}

	__class(DrawImageCmdNative,'laya.display.cmdNative.DrawImageCmdNative');
	var __proto=DrawImageCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._graphicsCmdEncoder=null;
		Pool.recover("DrawImageCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawImage";
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
		this._paramData._int32Data[DrawImageCmdNative._PARAM_TEXTURE_POS_]=this._texture.bitmap._glTexture;
		var _fb=this._paramData._float32Data;
		var uv=this.texture.uv;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+2]=uv[0];_fb[DrawImageCmdNative._PARAM_VB_POS_+3]=uv[1];
		_fb[DrawImageCmdNative._PARAM_VB_POS_+8]=uv[2];_fb[DrawImageCmdNative._PARAM_VB_POS_+9]=uv[3];
		_fb[DrawImageCmdNative._PARAM_VB_POS_+14]=uv[4];_fb[DrawImageCmdNative._PARAM_VB_POS_+15]=uv[5];
		_fb[DrawImageCmdNative._PARAM_VB_POS_+20]=uv[6];_fb[DrawImageCmdNative._PARAM_VB_POS_+21]=uv[7];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawImageCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawImageCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawImageCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	DrawImageCmdNative.create=function(texture,x,y,width,height){
		var cmd=Pool.getItemByClass("DrawImageCmd",DrawImageCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		if (!DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_){
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(124,32,true);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPDIR,1);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPSIZE,2);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.uniformTextureByParamData(0,1*4,DrawImageCmdNative._PARAM_TEXTURE_POS_*4);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.setRectMeshByParamData(3*4,DrawImageCmdNative._PARAM_VB_POS_*4,4*4);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_);
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(29*4,true);
			}{
			cmd._texture=texture;
			cmd._x=x;
			cmd._y=y;
			cmd._width=width;
			cmd._height=height;
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[0]=3;
			_i32b[1]=0x84C0;
			_i32b[DrawImageCmdNative._PARAM_TEXTURE_POS_]=texture.bitmap._glTexture;
			_i32b[3]=1;
			_i32b[4]=24 *4;
			var w=width !=0 ? width :texture.bitmap.width;
			var h=height !=0 ? height :texture.bitmap.height;
			var uv=texture.uv;
			var ix=DrawImageCmdNative._PARAM_VB_POS_;
			_fb[ix++]=x;_fb[ix++]=y;_fb[ix++]=uv[0];_fb[ix++]=uv[1];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x+w;_fb[ix++]=y;_fb[ix++]=uv[2];_fb[ix++]=uv[3];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x+w;_fb[ix++]=y+h;_fb[ix++]=uv[4];_fb[ix++]=uv[5];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x;_fb[ix++]=y+h;_fb[ix++]=uv[6];_fb[ix++]=uv[7];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		cmd._graphicsCmdEncoder.useCommandEncoder(DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawImageCmdNative.ID="DrawImage";
	DrawImageCmdNative._DRAW_IMAGE_CMD_ENCODER_=null;
	DrawImageCmdNative._PARAM_TEXTURE_POS_=2;
	DrawImageCmdNative._PARAM_VB_POS_=5;
	return DrawImageCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawLineCmdNative.as=======199.999297/199.999297
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawLineCmdNative
var DrawLineCmdNative=(function(){
	function DrawLineCmdNative(){
		this._paramData=null;
		this._fromX=NaN;
		this._fromY=NaN;
		this._toX=NaN;
		this._toY=NaN;
		this._lineColor=null;
		this._lineWidth=NaN;
		this._vid=0;
	}

	__class(DrawLineCmdNative,'laya.display.cmdNative.DrawLineCmdNative');
	var __proto=DrawLineCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("DrawLineCmd",this);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
		var c1=Color$1.create(this.lineColor);
		var nColor=c1.numColor;
		var _i32b=this._paramData._int32Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		ix++;ix++;_i32b[ix++]=nColor;
		ix++;ix++;_i32b[ix++]=nColor;
		ix++;ix++;_i32b[ix++]=nColor;
		ix++;ix++;_i32b[ix++]=nColor;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawLine";
	});

	__getset(0,__proto,'toY',function(){
		return this._toY;
		},function(value){
		this._toY=value;
		var points=[this.fromX,this.fromY,this.toX,this.toY];
		var vbArray=[];
		var ibArray=[];
		BasePoly.createLine2(points,ibArray,this._lineWidth,0,vbArray,false);
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		var _i16b=this._paramData._int16Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];ix++;
		_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];ix++;
		_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];ix++;
		_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];ix++;
		var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
		_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
		_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
		_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'fromX',function(){
		return this._fromX;
		},function(value){
		this._fromX=value;
		var points=[this.fromX,this.fromY,this.toX,this.toY];
		var vbArray=[];
		var ibArray=[];
		BasePoly.createLine2(points,ibArray,this._lineWidth,0,vbArray,false);
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		var _i16b=this._paramData._int16Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];ix++;
		_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];ix++;
		_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];ix++;
		_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];ix++;
		var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
		_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
		_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
		_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'toX',function(){
		return this._toX;
		},function(value){
		this._toX=value;
		var points=[this.fromX,this.fromY,this.toX,this.toY];
		var vbArray=[];
		var ibArray=[];
		BasePoly.createLine2(points,ibArray,this._lineWidth,0,vbArray,false);
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		var _i16b=this._paramData._int16Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];ix++;
		_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];ix++;
		_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];ix++;
		_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];ix++;
		var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
		_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
		_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
		_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'fromY',function(){
		return this._fromY;
		},function(value){
		this._fromY=value;
		var points=[this.fromX,this.fromY,this.toX,this.toY];
		var vbArray=[];
		var ibArray=[];
		BasePoly.createLine2(points,ibArray,this._lineWidth,0,vbArray,false);
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		var _i16b=this._paramData._int16Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];ix++;
		_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];ix++;
		_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];ix++;
		_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];ix++;
		var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
		_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
		_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
		_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
		var points=[this.fromX,this.fromY,this.toX,this.toY];
		var vbArray=[];
		var ibArray=[];
		BasePoly.createLine2(points,ibArray,this.lineWidth,0,vbArray,false);
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		var _i16b=this._paramData._int16Data;
		var ix=DrawLineCmdNative._PARAM_VB_POS_;
		_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];ix++;
		_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];ix++;
		_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];ix++;
		_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];ix++;
		var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
		_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
		_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
		_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	DrawLineCmdNative.create=function(fromX,fromY,toX,toY,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawLineCmd",DrawLineCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		if (!DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_){
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(84,32,true);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWVG);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHVG);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.setMeshByParamData(DrawLineCmdNative._PARAM_VB_POS_*4,1*4,DrawLineCmdNative._PARAM_IB_POS_*4,2*4);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_);
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(21 *4,true);
			}{
			cmd._fromX=fromX;
			cmd._fromY=fromY;
			cmd._toX=toX;
			cmd._toY=toY;
			cmd._lineColor=lineColor;
			cmd._lineWidth=lineWidth;
			cmd._vid=vid;
			var c1=Color$1.create(lineColor);
			var nColor=c1.numColor;
			var points=[fromX,fromY,toX,toY];
			var vbArray=[];
			var ibArray=[];
			BasePoly.createLine2(points,ibArray,lineWidth,0,vbArray,false);
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			var _i16b=cmd._paramData._int16Data;
			_i32b[0]=1;
			_i32b[1]=12 *4;
			_i32b[2]=6 *2;
			var ix=DrawLineCmdNative._PARAM_VB_POS_;
			_fb[ix++]=vbArray[0];_fb[ix++]=vbArray[1];_i32b[ix++]=nColor;
			_fb[ix++]=vbArray[2];_fb[ix++]=vbArray[3];_i32b[ix++]=nColor;
			_fb[ix++]=vbArray[4];_fb[ix++]=vbArray[5];_i32b[ix++]=nColor;
			_fb[ix++]=vbArray[6];_fb[ix++]=vbArray[7];_i32b[ix++]=nColor;
			var ibx=DrawLineCmdNative._PARAM_IB_POS_*2;
			_i16b[ibx++]=ibArray[0];_i16b[ibx++]=ibArray[1];
			_i16b[ibx++]=ibArray[2];_i16b[ibx++]=ibArray[3];
			_i16b[ibx++]=ibArray[4];_i16b[ibx++]=ibArray[5];
			if (!lineColor){
				_fb[DrawLineCmdNative._PARAM_LINECOLOR_POS_]=0xff0000ff;
			}
			else{
				_fb[DrawLineCmdNative._PARAM_LINECOLOR_POS_]=lineColor;
			}
			_fb[DrawLineCmdNative._PARAM_LINEWIDTH_POS_]=lineWidth;
			_fb[DrawLineCmdNative._PARAM_VID_POS_]=vid;
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		cmd._graphicsCmdEncoder.useCommandEncoder(DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawLineCmdNative.ID="DrawLine";
	DrawLineCmdNative._DRAW_LINE_CMD_ENCODER_=null;
	DrawLineCmdNative._PARAM_VB_POS_=3;
	DrawLineCmdNative._PARAM_IB_POS_=15;
	DrawLineCmdNative._PARAM_LINECOLOR_POS_=18;
	DrawLineCmdNative._PARAM_LINEWIDTH_POS_=19;
	DrawLineCmdNative._PARAM_VID_POS_=20;
	return DrawLineCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawLinesCmdNative.as=======199.999296/199.999296
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawLinesCmdNative
var DrawLinesCmdNative=(function(){
	function DrawLinesCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=null;
		this._x=NaN;
		this._y=NaN;
		this._points=null;
		this._lineColor=null;
		this._lineWidth=NaN;
		this._vid=0;
		this.ibBuffer=null;
		this.vbBuffer=null;
		this._ibSize=0;
		this._vbSize=0;
	}

	__class(DrawLinesCmdNative,'laya.display.cmdNative.DrawLinesCmdNative');
	var __proto=DrawLinesCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._points=null;
		this._lineColor=null;
		Pool.recover("DrawLinesCmd",this);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'points',function(){
		return this._points;
		},function(value){
		this._points=value;
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawLines";
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawLinesCmdNative.create=function(x,y,points,lineColor,lineWidth,vid){
		var cmd=Pool.getItemByClass("DrawLinesCmd",DrawLinesCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		var vertNum=(points.length / 2)*2;
		if (!DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_){
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(88,32,true);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWVG);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHVG);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.setMeshExByParamData(DrawLinesCmdNative._PARAM_VB_POS_ *4,DrawLinesCmdNative._PARAM_VB_SIZE_POS_ *4,DrawLinesCmdNative._PARAM_IB_POS_ *4,DrawLinesCmdNative._PARAM_IB_SIZE_POS_ *4);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_);
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(8 *4,true);
			}{
			cmd._x=x;
			cmd._y=y;
			cmd._points=points;
			cmd._lineColor=lineColor;
			cmd._lineWidth=lineWidth;
			cmd._vid=vid;
			var vbArray=[];
			var ibArray=[];
			BasePoly.createLine2(points,ibArray,lineWidth,0,vbArray,false);
			var c1=Color$1.create(lineColor);
			var nColor=c1.numColor;
			if (!cmd.vbBuffer || cmd.vbBuffer.getByteLength()< vertNum*3*4){
				cmd.vbBuffer=new ParamData(vertNum*3*4,true);
			}
			cmd._vbSize=vertNum *3 *4;
			var _vb=cmd.vbBuffer._float32Data;
			var _i32b=cmd.vbBuffer._int32Data;
			var ix=0;
			for (var i=0;i < vertNum;i++){
				_vb[ix++]=vbArray[i *2]+x;_vb[ix++]=vbArray[i *2+1]+y;_i32b[ix++]=nColor;
			}
			if (!cmd.ibBuffer || cmd.ibBuffer.getByteLength()< (vertNum-2)*3 *2){
				cmd.ibBuffer=new ParamData((vertNum-2)*3 *2,true,true);
			}
			cmd._ibSize=(vertNum-2)*3 *2;
			var _ib=cmd.ibBuffer._int16Data;
			for (var ii=0;ii < (vertNum-2)*3;ii++){
				_ib[ii]=ibArray[ii];
			};
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[0]=1;
			_i32b[DrawLinesCmdNative._PARAM_VB_POS_]=cmd.vbBuffer.getPtrID();
			_i32b[DrawLinesCmdNative._PARAM_IB_POS_]=cmd.ibBuffer.getPtrID();
			if (!lineColor){
				_fb[DrawLinesCmdNative._PARAM_LINECOLOR_POS_]=0xff0000ff;
			}
			else{
				_fb[DrawLinesCmdNative._PARAM_LINECOLOR_POS_]=lineColor;
			}
			_fb[DrawLinesCmdNative._PARAM_LINEWIDTH_POS_]=lineWidth;
			_fb[DrawLinesCmdNative._PARAM_VID_POS_]=vid;
			_i32b[DrawLinesCmdNative._PARAM_VB_SIZE_POS_]=cmd._vbSize;
			_i32b[DrawLinesCmdNative._PARAM_IB_SIZE_POS_]=cmd._ibSize;
			LayaGL.syncBufferToRenderThread(cmd.vbBuffer);
			LayaGL.syncBufferToRenderThread(cmd.ibBuffer);
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		cmd._graphicsCmdEncoder.useCommandEncoder(DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawLinesCmdNative.ID="DrawLines";
	DrawLinesCmdNative._DRAW_LINES_CMD_ENCODER_=null;
	DrawLinesCmdNative._PARAM_VB_POS_=1;
	DrawLinesCmdNative._PARAM_IB_POS_=2;
	DrawLinesCmdNative._PARAM_LINECOLOR_POS_=3;
	DrawLinesCmdNative._PARAM_LINEWIDTH_POS_=4;
	DrawLinesCmdNative._PARAM_VID_POS_=5;
	DrawLinesCmdNative._PARAM_VB_SIZE_POS_=6;
	DrawLinesCmdNative._PARAM_IB_SIZE_POS_=7;
	return DrawLinesCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawPolyCmdNative.as=======199.999295/199.999295
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawPolyCmdNative
var DrawPolyCmdNative=(function(){
	function DrawPolyCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=null;
		this._paramID=null;
		this._x=NaN;
		this._y=NaN;
		this._points=null;
		this._fillColor=null;
		this._lineColor=null;
		this._lineWidth=NaN;
		this._isConvexPolygon=false;
		this._vid=0;
		this._vertNum=0;
		this.ibBuffer=null;
		this.vbBuffer=null;
		this.line_ibBuffer=null;
		this.line_vbBuffer=null;
		this._ibSize=0;
		this._vbSize=0;
		this._line_ibSize=0;
		this._line_vbSize=0;
	}

	__class(DrawPolyCmdNative,'laya.display.cmdNative.DrawPolyCmdNative');
	var __proto=DrawPolyCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._points=null;
		this._fillColor=null;
		this._lineColor=null;
		Pool.recover("DrawPolyCmd",this);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
	});

	__getset(0,__proto,'points',function(){
		return this._points;
		},function(value){
		this._points=value;
		var _vb=this.vbBuffer._float32Data;
		var ix=0;
		for (var i=0;i < this._vertNum;i++){
			_vb[ix++]=this._points[i *2]+this.x;
			_vb[ix++]=this._points[i *2+1]+this.y;
			ix++;
		}
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawPoly";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		this._fillColor=value;
		var c1=Color$1.create(this.fillColor);
		var nColor=c1.numColor;
		var _i32b=this.vbBuffer._int32Data;
		var ix=0;
		for (var i=0;i < this._vertNum;i++){
			ix++;ix++;_i32b[ix++]=nColor;
		}
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
		var _vb=this.vbBuffer._float32Data;
		var ix=0;
		for (var i=0;i < this._vertNum;i++){
			_vb[ix++]=this.points[i *2]+this.x;
			_vb[ix++]=this.points[i *2+1]+this.y;
			ix++;
		}
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
	});

	__getset(0,__proto,'isConvexPolygon',function(){
		return this._isConvexPolygon;
		},function(value){
		this._isConvexPolygon=value;
	});

	__getset(0,__proto,'vid',function(){
		return this._vid;
		},function(value){
		this._vid=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
		var _vb=this.vbBuffer._float32Data;
		var ix=0;
		for (var i=0;i < this._vertNum;i++){
			_vb[ix++]=this.points[i *2]+this.x;
			_vb[ix++]=this.points[i *2+1]+this.y;
			ix++;
		}
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
	});

	DrawPolyCmdNative.create=function(x,y,points,fillColor,lineColor,lineWidth,isConvexPolygon,vid){
		var cmd=Pool.getItemByClass("DrawPolyCmd",DrawPolyCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		var vertNum=points.length / 2;
		cmd._vertNum=vertNum;
		if (lineColor){
			if (!DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_){
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(140,32,true);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWVG);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHVG);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.setMeshExByParamData(DrawPolyCmdNative._PARAM_VB_POS_ *4,DrawPolyCmdNative._PARAM_VB_SIZE_POS_ *4,DrawPolyCmdNative._PARAM_IB_POS_ *4,DrawPolyCmdNative._PARAM_IB_SIZE_POS_ *4);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.setMeshExByParamData(DrawPolyCmdNative._PARAM_LINE_VB_POS_ *4,DrawPolyCmdNative._PARAM_LINE_VB_SIZE_POS_ *4,DrawPolyCmdNative._PARAM_LINE_IB_POS_ *4,DrawPolyCmdNative._PARAM_LINE_IB_SIZE_POS_ *4);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
				DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
				LayaGL.syncBufferToRenderThread(DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_);
			}
		}
		else{
			if (!DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_){
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(88,32,true);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWVG);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHVG);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.setMeshExByParamData(DrawPolyCmdNative._PARAM_VB_POS_ *4,DrawPolyCmdNative._PARAM_VB_SIZE_POS_ *4,DrawPolyCmdNative._PARAM_IB_POS_ *4,DrawPolyCmdNative._PARAM_IB_SIZE_POS_ *4);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
				DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
				LayaGL.syncBufferToRenderThread(DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_);
			}
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(14 *4,true);
			}{
			cmd._x=x;
			cmd._y=y;
			cmd._points=points;
			cmd._fillColor=fillColor;
			cmd._lineColor=lineColor;
			cmd._lineWidth=lineWidth;
			cmd._isConvexPolygon=isConvexPolygon;
			cmd._vid=vid;
			var linePoints=[];
			var lineVertNum=0;
			var vbArray=[];
			var ibArray=[];
			if (lineColor){
				for (var i=0;i < points.length;i++){
					linePoints.push(points[i]);
				}
				linePoints.push(points[0]);
				linePoints.push(points[1]);
				BasePoly.createLine2(linePoints,ibArray,lineWidth,0,vbArray,false);
				lineVertNum=linePoints.length;
			};
			var curvert=0;
			if (isConvexPolygon){
				var faceNum=vertNum-2;
				if (!cmd.ibBuffer || cmd.ibBuffer.getByteLength()< faceNum *3 *2){
					cmd.ibBuffer=new ParamData(faceNum*3*2,true,true);
				}
				cmd._ibSize=faceNum *3 *2;
				var _ib=cmd.ibBuffer._int16Data;
				var idxpos=0;
				for (var fi=0;fi < faceNum;fi++){
					_ib[idxpos++]=curvert;
					_ib[idxpos++]=fi+1+curvert;
					_ib[idxpos++]=fi+2+curvert;
				}
				if (lineColor){
					if (!cmd.line_ibBuffer || cmd.line_ibBuffer.getByteLength()< (lineVertNum-2)*3*2){
						cmd.line_ibBuffer=new ParamData((lineVertNum-2)*3*2,true,true);
					}
					cmd._line_ibSize=(lineVertNum-2)*3 *2;
					var _line_ib=cmd.line_ibBuffer._int16Data;
					var idxpos=0;
					for (var ii=0;ii < (lineVertNum-2)*3;ii++){
						_line_ib[idxpos++]=ibArray[ii];
					}
				}
			}
			else{
				var cur=Earcut.earcut(points,null,2);
				if (cur.length > 0){
					if (!cmd.ibBuffer || cmd.ibBuffer.getByteLength()< cur.length*2){
						cmd.ibBuffer=new ParamData(cur.length*2,true,true);
					}
					cmd._ibSize=cur.length *2;
					var _ib=cmd.ibBuffer._int16Data;
					var idxpos=0;
					for (var ii=0;ii < cur.length;ii++){
						_ib[idxpos++]=cur[ii];
					}
					if (lineColor){
						if (!cmd.line_ibBuffer || cmd.line_ibBuffer.getByteLength()< (lineVertNum-2)*3*2){
							cmd.line_ibBuffer=new ParamData((lineVertNum-2)*3*2,true,true);
						}
						cmd._line_ibSize=(lineVertNum-2)*3 *2;
						var _line_ib=cmd.line_ibBuffer._int16Data;
						var idxpos=0;
						for (var ii=0;ii < (lineVertNum-2)*3;ii++){
							_line_ib[idxpos++]=ibArray[ii];
						}
					}
				}
			};
			var c1=Color$1.create(fillColor);
			var nColor=c1.numColor;
			if (!cmd.vbBuffer || cmd.vbBuffer.getByteLength()< vertNum *3 *4){
				cmd.vbBuffer=new ParamData(vertNum*3 *4,true);
			}
			cmd._vbSize=vertNum *3 *4;
			var _vb=cmd.vbBuffer._float32Data;
			var _vb_i32b=cmd.vbBuffer._int32Data;
			var ix=0;
			for (var i=0;i < vertNum;i++){
				_vb[ix++]=points[i *2]+x;_vb[ix++]=points[i *2+1]+y;_vb_i32b[ix++]=nColor;
			}
			if (lineColor){
				if (!cmd.line_vbBuffer || cmd.line_vbBuffer.getByteLength()< lineVertNum*3 *4){
					cmd.line_vbBuffer=new ParamData(lineVertNum*3 *4,true);
				}
				cmd._line_vbSize=lineVertNum *3 *4;
				var c2=Color$1.create(lineColor);
				var nColor2=c2.numColor;
				var _line_vb=cmd.line_vbBuffer._float32Data;
				var _line_vb_i32b=cmd.line_vbBuffer._int32Data;
				var ix=0;
				for (var i=0;i < lineVertNum;i++){
					_line_vb[ix++]=vbArray[i *2]+x;_line_vb[ix++]=vbArray[i *2+1]+y;_line_vb_i32b[ix++]=nColor2;
				}
			};
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[0]=1;
			_i32b[1]=8*4;
			_i32b[DrawPolyCmdNative._PARAM_VB_POS_]=cmd.vbBuffer.getPtrID();
			_i32b[DrawPolyCmdNative._PARAM_IB_POS_]=cmd.ibBuffer.getPtrID();
			_i32b[DrawPolyCmdNative._PARAM_VB_SIZE_POS_]=cmd._vbSize;
			_i32b[DrawPolyCmdNative._PARAM_IB_SIZE_POS_]=cmd._ibSize;
			_fb[DrawPolyCmdNative._PARAM_ISCONVEXT_POS_]=isConvexPolygon;
			_fb[DrawPolyCmdNative._PARAM_VID_POS_]=vid;
			if (lineColor){
				_i32b[DrawPolyCmdNative._PARAM_LINE_VB_POS_]=cmd.line_vbBuffer.getPtrID();
				_i32b[DrawPolyCmdNative._PARAM_LINE_IB_POS_]=cmd.line_ibBuffer.getPtrID();
				_fb[DrawPolyCmdNative._PARAM_LINECOLOR_POS_]=lineColor;
				_fb[DrawPolyCmdNative._PARAM_LINEWIDTH_POS_]=lineWidth;
				_i32b[DrawPolyCmdNative._PARAM_LINE_VB_SIZE_POS_]=cmd._line_vbSize;
				_i32b[DrawPolyCmdNative._PARAM_LINE_IB_SIZE_POS_]=cmd._line_ibSize;
				LayaGL.syncBufferToRenderThread(cmd.line_vbBuffer);
				LayaGL.syncBufferToRenderThread(cmd.line_ibBuffer);
			}
			LayaGL.syncBufferToRenderThread(cmd.vbBuffer);
			LayaGL.syncBufferToRenderThread(cmd.ibBuffer);
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		if (lineColor){
			cmd._graphicsCmdEncoder.useCommandEncoder(DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		}
		else{
			cmd._graphicsCmdEncoder.useCommandEncoder(DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		}
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawPolyCmdNative.ID="DrawPoly";
	DrawPolyCmdNative._DRAW_POLY_CMD_ENCODER_=null;
	DrawPolyCmdNative._DRAW_POLY_LINES_CMD_ENCODER_=null;
	DrawPolyCmdNative._PARAM_VB_POS_=2;
	DrawPolyCmdNative._PARAM_IB_POS_=3;
	DrawPolyCmdNative._PARAM_LINE_VB_POS_=4;
	DrawPolyCmdNative._PARAM_LINE_IB_POS_=5;
	DrawPolyCmdNative._PARAM_LINECOLOR_POS_=6;
	DrawPolyCmdNative._PARAM_LINEWIDTH_POS_=7;
	DrawPolyCmdNative._PARAM_ISCONVEXT_POS_=8;
	DrawPolyCmdNative._PARAM_VID_POS_=9;
	DrawPolyCmdNative._PARAM_VB_SIZE_POS_=10;
	DrawPolyCmdNative._PARAM_IB_SIZE_POS_=11;
	DrawPolyCmdNative._PARAM_LINE_VB_SIZE_POS_=12;
	DrawPolyCmdNative._PARAM_LINE_IB_SIZE_POS_=13;
	return DrawPolyCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawRectCmdNative.as=======199.999294/199.999294
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawRectCmdNative
var DrawRectCmdNative=(function(){
	function DrawRectCmdNative(){
		this._graphicsCmdEncoder=null;
		this._index=0;
		this._paramData=null;
		this._x=NaN;
		this._y=NaN;
		this._width=NaN;
		this._height=NaN;
		this._fillColor=null;
		this._lineColor=null;
		this._lineWidth=NaN;
	}

	__class(DrawRectCmdNative,'laya.display.cmdNative.DrawRectCmdNative');
	var __proto=DrawRectCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._graphicsCmdEncoder=null;
		Pool.recover("DrawRectCmd",this);
	}

	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'cmdID',function(){
		return "DrawRect";
	});

	__getset(0,__proto,'fillColor',function(){
		return this._fillColor;
		},function(value){
		if (typeof value==='string'){
			var c1=Color$1.create(this.fillColor);
			var nColor=c1.numColor;
			var _i32b=this._paramData._int32Data;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+4]=nColor;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+10]=nColor;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+16]=nColor;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+22]=nColor;
		}
		else{
			var _i32b=this._paramData._int32Data;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+4]=value;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+10]=value;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+16]=value;
			_i32b[DrawRectCmdNative._PARAM_VB_POS_+22]=value;
		}
		this._fillColor=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawRectCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawRectCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawRectCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=this.lineWidth;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	DrawRectCmdNative.create=function(x,y,width,height,fillColor,lineColor,lineWidth){
		var cmd=Pool.getItemByClass("DrawRectCmd",DrawRectCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		if (!DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_){
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(84,32,true);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.setRectMeshByParamData(0,DrawRectCmdNative._PARAM_VB_POS_ *4,1 *4);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_);
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(28*4,true);
			}{
			cmd._x=x;
			cmd._y=y;
			cmd._width=width;
			cmd._height=height;
			cmd._fillColor=fillColor;
			cmd._lineColor=lineColor;
			cmd._lineWidth=lineWidth;
			var c1=Color$1.create(fillColor);
			var nColor=c1.numColor;
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[0]=1;
			_i32b[1]=24*4;
			var ix=DrawRectCmdNative._PARAM_VB_POS_;
			_fb[ix++]=x;_fb[ix++]=y;_fb[ix++]=0;_fb[ix++]=0;_i32b[ix++]=nColor;_fb[ix++]=0xffffffff;
			_fb[ix++]=x+width;_fb[ix++]=y;_fb[ix++]=0;_fb[ix++]=0;_i32b[ix++]=nColor;_fb[ix++]=0xffffffff;
			_fb[ix++]=x+width;_fb[ix++]=y+height;_fb[ix++]=0;_fb[ix++]=0;_i32b[ix++]=nColor;_fb[ix++]=0xffffffff;
			_fb[ix++]=x;_fb[ix++]=y+height;_fb[ix++]=0;_fb[ix++]=0;_i32b[ix++]=nColor;_fb[ix++]=0xffffffff;
			if (!lineColor){
				_fb[DrawRectCmdNative._PARAM_LINECOLOR_POS_]=0xff0000ff;
			}
			else{
				_fb[DrawRectCmdNative._PARAM_LINECOLOR_POS_]=lineColor;
			}
			_fb[DrawRectCmdNative._PARAM_LINEWIDTH_POS_]=lineWidth;
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		cmd._graphicsCmdEncoder.useCommandEncoder(DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawRectCmdNative.ID="DrawRect";
	DrawRectCmdNative._DRAW_RECT_CMD_ENCODER_=null;
	DrawRectCmdNative._PARAM_VB_POS_=2;
	DrawRectCmdNative._PARAM_LINECOLOR_POS_=26;
	DrawRectCmdNative._PARAM_LINEWIDTH_POS_=27;
	return DrawRectCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawTextureCmdNative.as=======199.999293/199.999293
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawTextureCmdNative
var DrawTextureCmdNative=(function(){
	function DrawTextureCmdNative(){
		this._graphicsCmdEncoder=null;
		this._index=0;
		this._paramData=null;
		this._texture=null;
		this._x=NaN;
		this._y=NaN;
		this._width=NaN;
		this._height=NaN;
		this._matrix=null;
		this._alpha=NaN;
		this._color=null;
		this._blendMode=null;
	}

	__class(DrawTextureCmdNative,'laya.display.cmdNative.DrawTextureCmdNative');
	var __proto=DrawTextureCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		Pool.recover("DrawTextureCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawTexture";
	});

	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(matrix){
		var _fb=this._paramData._float32Data;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_]=matrix.a;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+1]=matrix.b;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+2]=matrix.c;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+3]=matrix.d;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+4]=matrix.tx;
		_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+5]=matrix.ty;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		if (!value||!value.url){
			return;
		}
		this._texture=value;
		this._paramData._int32Data[DrawTextureCmdNative._PARAM_TEXTURE_POS_]=this._texture.bitmap._glTexture;
		var _fb=this._paramData._float32Data;
		var uv=this.texture.uv;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+2]=uv[0];_fb[DrawTextureCmdNative._PARAM_VB_POS_+3]=uv[1];
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+8]=uv[2];_fb[DrawTextureCmdNative._PARAM_VB_POS_+9]=uv[3];
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+14]=uv[4];_fb[DrawTextureCmdNative._PARAM_VB_POS_+15]=uv[5];
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+20]=uv[6];_fb[DrawTextureCmdNative._PARAM_VB_POS_+21]=uv[7];
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_]=this._x;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+6]=this._x+this._width;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+12]=this._x+this._width;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+18]=this._x;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
		var _fb=this._paramData._float32Data;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+1]=this._y;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+7]=this._y;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+13]=this._y+this._height;
		_fb[DrawTextureCmdNative._PARAM_VB_POS_+19]=this._y+this._height;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
		var _fb=this._paramData._float32Data;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	DrawTextureCmdNative.create=function(texture,x,y,width,height,matrix,alpha,color,blendMode){
		var cmd=Pool.getItemByClass("DrawTextureCmd",DrawTextureCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		if (!matrix){
			if (!DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_){
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(124,32,true);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPDIR,1);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPSIZE,2);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.uniformTextureByParamData(0,1*4,DrawTextureCmdNative._PARAM_TEXTURE_POS_*4);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.setRectMeshByParamData(3*4,DrawTextureCmdNative._PARAM_VB_POS_*4,4*4);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
				LayaGL.syncBufferToRenderThread(DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_);
			}
		}
		else{
			if (!DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_){
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_=LayaGL.instance.createCommandEncoder(132,32,true);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.save();
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.setGlobalValueByParamData(LayaNative2D.GLOBALVALUE_MATRIX32,7,DrawTextureCmdNative._PARAM_MATRIX_POS_ *4);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPDIR,1);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPSIZE,2);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.uniformTextureByParamData(0,1*4,DrawTextureCmdNative._PARAM_TEXTURE_POS_*4);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.setRectMeshByParamData(3*4,DrawTextureCmdNative._PARAM_VB_POS_*4,4*4);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
				DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.restore();
				LayaGL.syncBufferToRenderThread(DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_);
			}
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(37*4,true);
			}{
			cmd._texture=texture;
			cmd._x=x;
			cmd._y=y;
			cmd._width=width;
			cmd._height=height;
			cmd._matrix=matrix;
			cmd._alpha=alpha;
			cmd._color=color;
			cmd._blendMode=blendMode;
			var w=width !=0 ? width :texture.bitmap.width;
			var h=height !=0 ? height :texture.bitmap.height;
			var uv=texture.uv;
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[0]=3;
			_i32b[1]=0x84C0;
			_i32b[DrawTextureCmdNative._PARAM_TEXTURE_POS_]=texture.bitmap._glTexture;
			_i32b[3]=1;
			_i32b[4]=24 *4;
			var ix=DrawTextureCmdNative._PARAM_VB_POS_;
			_fb[ix++]=x;_fb[ix++]=y;_fb[ix++]=uv[0];_fb[ix++]=uv[1];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x+w;_fb[ix++]=y;_fb[ix++]=uv[2];_fb[ix++]=uv[3];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x+w;_fb[ix++]=y+h;_fb[ix++]=uv[4];_fb[ix++]=uv[5];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			_fb[ix++]=x;_fb[ix++]=y+h;_fb[ix++]=uv[6];_fb[ix++]=uv[7];_i32b[ix++]=0xffffffff;_i32b[ix++]=0xffffffff;
			if (matrix){
				_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_]=matrix.a;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+1]=matrix.b;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+2]=matrix.c;
				_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+3]=matrix.d;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+4]=matrix.tx;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+5]=matrix.ty;
			}
			else{
				_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_]=1;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+1]=0;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+2]=0;
				_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+3]=1;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+4]=0;_fb[DrawTextureCmdNative._PARAM_MATRIX_POS_+5]=0;
			}
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		if (matrix){
			cmd._graphicsCmdEncoder.useCommandEncoder(DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_.getPtrID(),cmd._paramData.getPtrID(),-1);
		}
		else{
			cmd._graphicsCmdEncoder.useCommandEncoder(DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		}
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawTextureCmdNative.ID="DrawTexture";
	DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_=null;
	DrawTextureCmdNative._DRAW_TEXTURE_CMD_ENCODER_MATRIX_=null;
	DrawTextureCmdNative._PARAM_TEXTURE_POS_=2;
	DrawTextureCmdNative._PARAM_VB_POS_=5;
	DrawTextureCmdNative._PARAM_MATRIX_POS_=29;
	DrawTextureCmdNative._PARAM_BLEND_SRC_POS_=35;
	DrawTextureCmdNative._PARAM_BLEND_DEST_POS_=36;
	return DrawTextureCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/DrawTexturesCmdNative.as=======199.999292/199.999292
/**
*...
*@author ww
*/
//class laya.display.cmdNative.DrawTexturesCmdNative
var DrawTexturesCmdNative=(function(){
	function DrawTexturesCmdNative(){
		this._graphicsCmdEncoder=null;
		this._index=0;
		this._paramData=null;
		this._texture=null;
		this._pos=null;
		this._rectNum=0;
		this._vbSize=0;
		this.vbBuffer=null;
	}

	__class(DrawTexturesCmdNative,'laya.display.cmdNative.DrawTexturesCmdNative');
	var __proto=DrawTexturesCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._texture=null;
		this._pos=null;
		Pool.recover("DrawTexturesCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "DrawTextures";
	});

	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		this._texture=value;
		var w=this._texture.bitmap.width;
		var h=this._texture.bitmap.height;
		var uv=this._texture.uv;
		var _vb=this.vbBuffer._float32Data;
		var _vb_i32b=this.vbBuffer._int32Data;
		var ix=0;
		for (var i=0;i < this._rectNum;i++){
			var x=this.pos[i *2];
			var y=this.pos[i *2+1];
			_vb[ix++]=x;_vb[ix++]=y;_vb[ix++]=uv[0];_vb[ix++]=uv[1];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x+w;_vb[ix++]=y;_vb[ix++]=uv[2];_vb[ix++]=uv[3];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x+w;_vb[ix++]=y+h;_vb[ix++]=uv[4];_vb[ix++]=uv[5];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x;_vb[ix++]=y+h;_vb[ix++]=uv[6];_vb[ix++]=uv[7];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
		};
		var _i32b=this._paramData._int32Data;
		_i32b[DrawTexturesCmdNative._PARAM_TEXLOCATION_POS_]=0x84C0;
		_i32b[DrawTexturesCmdNative._PARAM_TEXTURE_POS_]=this._texture.bitmap._glTexture;
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pos',function(){
		return this._pos;
		},function(value){
		this._pos=value;
		var nRectNum=this._pos.length / 2;
		var w=this.texture.bitmap.width;
		var h=this.texture.bitmap.height;
		var uv=this.texture.uv;
		if (!this.vbBuffer || this.vbBuffer.getByteLength()< nRectNum *24*4){
			this.vbBuffer=new ParamData(nRectNum*24*4,true);
		}
		this._vbSize=nRectNum *24 *4;
		this._rectNum=nRectNum;
		var _vb=this.vbBuffer._float32Data;
		var _vb_i32b=this.vbBuffer._int32Data;
		var ix=0;
		for (var i=0;i < nRectNum;i++){
			var x=this.pos[i *2];
			var y=this.pos[i *2+1];
			_vb[ix++]=x;_vb[ix++]=y;_vb[ix++]=uv[0];_vb[ix++]=uv[1];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x+w;_vb[ix++]=y;_vb[ix++]=uv[2];_vb[ix++]=uv[3];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x+w;_vb[ix++]=y+h;_vb[ix++]=uv[4];_vb[ix++]=uv[5];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			_vb[ix++]=x;_vb[ix++]=y+h;_vb[ix++]=uv[6];_vb[ix++]=uv[7];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
		};
		var _fb=this._paramData._float32Data;
		var _i32b=this._paramData._int32Data;
		_i32b[DrawTexturesCmdNative._PARAM_RECT_NUM_POS_]=this._rectNum;
		_i32b[DrawTexturesCmdNative._PARAM_VB_POS_]=this.vbBuffer.getPtrID();
		_i32b[DrawTexturesCmdNative._PARAM_VB_SIZE_POS_]=this._vbSize;
		LayaGL.syncBufferToRenderThread(this.vbBuffer);
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	DrawTexturesCmdNative.create=function(texture,pos){
		var cmd=Pool.getItemByClass("DrawTexturesCmd",DrawTexturesCmdNative);
		cmd._graphicsCmdEncoder=this._commandEncoder;;
		if (!DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_){
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_=LayaGL.instance.createCommandEncoder(124,32,true);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPDIR,1);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.uniformEx(LayaNative2D.GLOBALVALUE_CLIPSIZE,2);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.uniformTextureByParamData(DrawTexturesCmdNative._PARAM_UNIFORMLOCATION_POS_,DrawTexturesCmdNative._PARAM_TEXLOCATION_POS_*4,DrawTexturesCmdNative._PARAM_TEXTURE_POS_*4);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.setRectMeshExByParamData(DrawTexturesCmdNative._PARAM_RECT_NUM_POS_*4,DrawTexturesCmdNative._PARAM_VB_POS_ *4,DrawTexturesCmdNative._PARAM_VB_SIZE_POS_ *4);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_);
		}
		if (!cmd._paramData){
			cmd._paramData=new ParamData(6*4,true);
			}{
			cmd._texture=texture;
			cmd._pos=pos;
			var w=texture.bitmap.width;
			var h=texture.bitmap.height;
			var uv=texture.uv;
			var nRectNum=pos.length / 2;
			if (!cmd.vbBuffer || cmd.vbBuffer.getByteLength()< nRectNum *24*4){
				cmd.vbBuffer=new ParamData(nRectNum*24*4,true);
			}
			cmd._vbSize=nRectNum *24 *4;
			cmd._rectNum=nRectNum;
			var _vb=cmd.vbBuffer._float32Data;
			var _vb_i32b=cmd.vbBuffer._int32Data;
			var ix=0;
			for (var i=0;i < nRectNum;i++){
				var x=pos[i *2];
				var y=pos[i *2+1];
				_vb[ix++]=x;_vb[ix++]=y;_vb[ix++]=uv[0];_vb[ix++]=uv[1];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
				_vb[ix++]=x+w;_vb[ix++]=y;_vb[ix++]=uv[2];_vb[ix++]=uv[3];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
				_vb[ix++]=x+w;_vb[ix++]=y+h;_vb[ix++]=uv[4];_vb[ix++]=uv[5];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
				_vb[ix++]=x;_vb[ix++]=y+h;_vb[ix++]=uv[6];_vb[ix++]=uv[7];_vb_i32b[ix++]=0xffffffff;_vb_i32b[ix++]=0xffffffff;
			};
			var _fb=cmd._paramData._float32Data;
			var _i32b=cmd._paramData._int32Data;
			_i32b[DrawTexturesCmdNative._PARAM_UNIFORMLOCATION_POS_]=3;
			_i32b[DrawTexturesCmdNative._PARAM_TEXLOCATION_POS_]=0x84C0;
			_i32b[DrawTexturesCmdNative._PARAM_TEXTURE_POS_]=texture.bitmap._glTexture;
			_i32b[DrawTexturesCmdNative._PARAM_RECT_NUM_POS_]=cmd._rectNum;
			_i32b[DrawTexturesCmdNative._PARAM_VB_POS_]=cmd.vbBuffer.getPtrID();
			_i32b[DrawTexturesCmdNative._PARAM_VB_SIZE_POS_]=cmd._vbSize;
			LayaGL.syncBufferToRenderThread(cmd.vbBuffer);
			LayaGL.syncBufferToRenderThread(cmd._paramData);
		}
		cmd._graphicsCmdEncoder.useCommandEncoder(DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_.getPtrID(),cmd._paramData.getPtrID(),-1);
		LayaGL.syncBufferToRenderThread(cmd._graphicsCmdEncoder);
		return cmd;
	}

	DrawTexturesCmdNative.ID="DrawTextures";
	DrawTexturesCmdNative._DRAW_TEXTURES_CMD_ENCODER_=null;
	DrawTexturesCmdNative._PARAM_UNIFORMLOCATION_POS_=0;
	DrawTexturesCmdNative._PARAM_TEXLOCATION_POS_=1;
	DrawTexturesCmdNative._PARAM_TEXTURE_POS_=2;
	DrawTexturesCmdNative._PARAM_RECT_NUM_POS_=3;
	DrawTexturesCmdNative._PARAM_VB_POS_=4;
	DrawTexturesCmdNative._PARAM_VB_SIZE_POS_=5;
	return DrawTexturesCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/FillTextCmdNative.as=======199.999291/199.999291
//class laya.display.cmdNative.FillTextCmdNative
var FillTextCmdNative=(function(){
	function FillTextCmdNative(){
		this._graphicsCmdEncoder=null;
		this._index=0;
		this._text=null;
		this._x=NaN;
		this._y=NaN;
		this._font=null;
		this._color=null;
		this._textAlign=null;
		this._draw_texture_cmd_encoder_=LayaGL.instance.createCommandEncoder(64,32,true);
		this.cbook=CharBook.charbookInst;
	}

	__class(FillTextCmdNative,'laya.display.cmdNative.FillTextCmdNative');
	var __proto=FillTextCmdNative.prototype;
	__proto.createFillText=function(cbuf,text,x,y,font,color,textAlign){
		var c1=Color$1.create(color);
		var nColor=c1.numColor;
		var ctx={};
		ctx._curMat=new Matrix();
		ctx._italicDeg=0;
		ctx._drawTextureUseColor=0xffffffff;
		ctx.fillStyle=color;
		ctx._drawTextureM=function (tex,x,y,width,height,m,alpha,uv){
			cbuf.useProgramEx(LayaNative2D.PROGRAMEX_DRAWTEXTURE);
			cbuf.useVDO(LayaNative2D.VDO_MESHQUADTEXTURE);
			cbuf.uniformEx(LayaNative2D.GLOBALVALUE_VIEWS,0);
			cbuf.uniformTexture(3,0x84C0,tex.bitmap._glTexture);
			var buffer=new Float32Array([
			x,y,uv[0],uv[1],0,0,
			x+width,y,uv[2],uv[3],0,0,
			x+width,y+height,uv[4],uv[5],0,0,
			x,y+height,uv[6],uv[7],0,0]);
			var i32=new Int32Array(buffer.buffer);
			i32[4]=i32[10]=i32[16]=i32[22]=nColor;
			i32[5]=i32[11]=i32[17]=i32[23]=0xffffffff;
			cbuf.setRectMesh(1,buffer,buffer.length);
			cbuf.modifyMesh(LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
			cbuf.modifyMesh(LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
			LayaGL.syncBufferToRenderThread(cbuf);
		}
		this.cbook.filltext(ctx,text,x,y,font,color,null,0,textAlign);
	}

	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._graphicsCmdEncoder=null;
		Pool.recover("FillTextCmd",this);
	}

	__getset(0,__proto,'text',function(){
		return this._text;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._text=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	__getset(0,__proto,'cmdID',function(){
		return "FillText";
	});

	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._font=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._color=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	__getset(0,__proto,'textAlign',function(){
		return this._textAlign;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._textAlign=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._x=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		var cbuf=this._draw_texture_cmd_encoder_;
		cbuf.clearEncoding();
		this._y=value;
		this.createFillText(cbuf,this._text,this._x,this._y,this._font,this._color,this._textAlign);
		LayaGL.syncBufferToRenderThread(cbuf);
	});

	FillTextCmdNative.create=function(text,x,y,font,color,textAlign){
		if (!this.cbook)new Error('Error:charbook not create!');
		var cmd=Pool.getItemByClass("FillTextCmd",FillTextCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;;
		cmd._text=text;
		cmd._x=x;
		cmd._y=y;
		cmd._font=font;
		cmd._color=color;
		cmd._textAlign=textAlign;
		cmd._draw_texture_cmd_encoder_.clearEncoding();
		cmd.createFillText(cmd._draw_texture_cmd_encoder_,text,x,y,font,color,textAlign);
		LayaGL.syncBufferToRenderThread(cmd._draw_texture_cmd_encoder_);
		cbuf.useCommandEncoder(cmd._draw_texture_cmd_encoder_.getPtrID(),-1,-1);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	FillTextCmdNative.ID="FillText";
	return FillTextCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/RestoreCmdNative.as=======199.999290/199.999290
/**
*...
*@author ww
*/
//class laya.display.cmdNative.RestoreCmdNative
var RestoreCmdNative=(function(){
	function RestoreCmdNative(){
		this._graphicsCmdEncoder=null;
	}

	__class(RestoreCmdNative,'laya.display.cmdNative.RestoreCmdNative');
	var __proto=RestoreCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("RestoreCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Restore";
	});

	RestoreCmdNative.create=function(){
		var cmd=Pool.getItemByClass("RestoreCmd",RestoreCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;;
		cbuf.restore();
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	RestoreCmdNative.ID="Restore";
	return RestoreCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/RotateCmdNative.as=======199.999289/199.999289
/**
*...
*@author ww
*/
//class laya.display.cmdNative.RotateCmdNative
var RotateCmdNative=(function(){
	function RotateCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=new ParamData(3 *4,true);
	}

	__class(RotateCmdNative,'laya.display.cmdNative.RotateCmdNative');
	var __proto=RotateCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("RotateCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Rotate";
	});

	__getset(0,__proto,'angle',function(){
		return this._paramData._float32Data[0];
		},function(value){
		this._paramData._float32Data[0]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotX',function(){
		return this._paramData._float32Data[1];
		},function(value){
		this._paramData._float32Data[1]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotY',function(){
		return this._paramData._float32Data[2];
		},function(value){
		this._paramData._float32Data[2]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	RotateCmdNative.create=function(angle,pivotX,pivotY){
		var cmd=Pool.getItemByClass("RotateCmd",RotateCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		var f32=cmd._paramData._float32Data;
		f32[0]=angle;
		f32[1]=pivotX;
		f32[2]=pivotY;
		var nDataID=cmd._paramData.getPtrID();
		LayaGL.syncBufferToRenderThread(cmd._paramData);
		cbuf.setGlobalValueEx(LayaNative2D.GLOBALVALUE_MATRIX32,13,nDataID,0);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	RotateCmdNative.ID="Rotate";
	return RotateCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/SaveCmdNative.as=======199.999288/199.999288
/**
*...
*@author ww
*/
//class laya.display.cmdNative.SaveCmdNative
var SaveCmdNative=(function(){
	function SaveCmdNative(){
		this._graphicsCmdEncoder=null;
	}

	__class(SaveCmdNative,'laya.display.cmdNative.SaveCmdNative');
	var __proto=SaveCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("SaveCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Save";
	});

	SaveCmdNative.create=function(){
		var cmd=Pool.getItemByClass("SaveCmd",SaveCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;;
		cbuf.save();
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	SaveCmdNative.ID="Save";
	return SaveCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/ScaleCmdNative.as=======199.999287/199.999287
/**
*...
*@author ww
*/
//class laya.display.cmdNative.ScaleCmdNative
var ScaleCmdNative=(function(){
	function ScaleCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=new ParamData(4 *4,true);
	}

	__class(ScaleCmdNative,'laya.display.cmdNative.ScaleCmdNative');
	var __proto=ScaleCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("ScaleCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Scale";
	});

	__getset(0,__proto,'scaleX',function(){
		return this._paramData._float32Data[0];
		},function(value){
		this._paramData._float32Data[0]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'scaleY',function(){
		return this._paramData._float32Data[1];
		},function(value){
		this._paramData._float32Data[1]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotX',function(){
		return this._paramData._float32Data[2];
		},function(value){
		this._paramData._float32Data[2]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotY',function(){
		return this._paramData._float32Data[3];
		},function(value){
		this._paramData._float32Data[3]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	ScaleCmdNative.create=function(scaleX,scaleY,pivotX,pivotY){
		var cmd=Pool.getItemByClass("ScaleCmd",ScaleCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		var f32=cmd._paramData._float32Data;
		f32[0]=scaleX;
		f32[1]=scaleY;
		f32[2]=pivotX;
		f32[3]=pivotY;
		var nDataID=cmd._paramData.getPtrID();
		LayaGL.syncBufferToRenderThread(cmd._paramData);
		cbuf.setGlobalValueEx(LayaNative2D.GLOBALVALUE_MATRIX32,12,nDataID,0);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	ScaleCmdNative.ID="Scale";
	return ScaleCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/TransformCmdNative.as=======199.999286/199.999286
/**
*...
*@author ww
*/
//class laya.display.cmdNative.TransformCmdNative
var TransformCmdNative=(function(){
	function TransformCmdNative(){
		this._graphicsCmdEncoder=null;
		this._matrix=null;
		this._paramData=new ParamData(8*4,true);
	}

	__class(TransformCmdNative,'laya.display.cmdNative.TransformCmdNative');
	var __proto=TransformCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		this._matrix=null;
		Pool.recover("TransformCmd",this);
	}

	__getset(0,__proto,'cmdID',function(){
		return "Transform";
	});

	__getset(0,__proto,'matrix',function(){
		return this._matrix;
		},function(value){
		this._matrix=value;
		var _fb=this._paramData._float32Data;
		_fb[0]=this._matrix.a;_fb[1]=this._matrix.b;_fb[2]=this._matrix.c;
		_fb[3]=this._matrix.d;_fb[4]=this._matrix.tx;_fb[5]=this._matrix.ty;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotX',function(){
		return this._paramData._float32Data[6];
		},function(value){
		this._paramData._float32Data[6]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'pivotY',function(){
		return this._paramData._float32Data[7];
		},function(value){
		this._paramData._float32Data[7]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	TransformCmdNative.create=function(matrix,pivotX,pivotY){
		var cmd=Pool.getItemByClass("TransformCmd",TransformCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		var f32=cmd._paramData._float32Data;
		f32[0]=matrix.a;f32[1]=matrix.b;f32[2]=matrix.c;
		f32[3]=matrix.d;f32[4]=matrix.tx;f32[5]=matrix.ty;
		f32[6]=pivotX;f32[7]=pivotY;
		cmd._matrix=matrix;
		var nDataID=cmd._paramData.getPtrID();
		LayaGL.syncBufferToRenderThread(cmd._paramData);
		cbuf.setGlobalValueEx(LayaNative2D.GLOBALVALUE_MATRIX32,14,nDataID,0);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	TransformCmdNative.ID="Transform";
	return TransformCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/cmdNative/TranslateCmdNative.as=======199.999285/199.999285
/**
*...
*@author ww
*/
//class laya.display.cmdNative.TranslateCmdNative
var TranslateCmdNative=(function(){
	function TranslateCmdNative(){
		this._graphicsCmdEncoder=null;
		this._paramData=new ParamData(2 *4,true);
	}

	__class(TranslateCmdNative,'laya.display.cmdNative.TranslateCmdNative');
	var __proto=TranslateCmdNative.prototype;
	/**
	*回收到对象池
	*/
	__proto.recover=function(){
		Pool.recover("TranslateCmd",this);
	}

	__getset(0,__proto,'ty',function(){
		return this._paramData._float32Data[1];
		},function(value){
		this._paramData._float32Data[1]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	__getset(0,__proto,'cmdID',function(){
		return "Translate";
	});

	__getset(0,__proto,'tx',function(){
		return this._paramData._float32Data[0];
		},function(value){
		this._paramData._float32Data[0]=value;
		LayaGL.syncBufferToRenderThread(this._paramData);
	});

	TranslateCmdNative.create=function(tx,ty){
		var cmd=Pool.getItemByClass("TranslateCmd",TranslateCmdNative);
		var cbuf=cmd._graphicsCmdEncoder=this._commandEncoder;
		var f32=cmd._paramData._float32Data;
		f32[0]=tx;
		f32[1]=ty;
		var nDataID=cmd._paramData.getPtrID();
		LayaGL.syncBufferToRenderThread(cmd._paramData);
		cbuf.setGlobalValueEx(LayaNative2D.GLOBALVALUE_MATRIX32,9,nDataID,0);
		LayaGL.syncBufferToRenderThread(cbuf);
		return cmd;
	}

	TranslateCmdNative.ID="Translate";
	return TranslateCmdNative;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/css/BoundsStyle.as=======199.999284/199.999284
/**
*@private
*Graphic bounds数据类
*/
//class laya.display.css.BoundsStyle
var BoundsStyle=(function(){
	function BoundsStyle(){
		/**@private */
		//this.bounds=null;
		/**用户设的bounds*/
		//this.userBounds=null;
		/**缓存的bounds顶点,sprite计算bounds用*/
		//this.temBM=null;
	}

	__class(BoundsStyle,'laya.display.css.BoundsStyle');
	var __proto=BoundsStyle.prototype;
	/**
	*重置
	*/
	__proto.reset=function(){
		if(this.bounds)this.bounds.recover();
		if(this.userBounds)this.userBounds.recover();
		this.bounds=null;
		this.userBounds=null;
		this.temBM=null;
		return this;
	}

	/**
	*回收
	*/
	__proto.recover=function(){
		Pool.recover("BoundsStyle",this.reset());
	}

	BoundsStyle.create=function(){
		return Pool.getItemByClass("BoundsStyle",BoundsStyle);
	}

	return BoundsStyle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/css/CacheStyle.as=======199.999283/199.999283
/**
*@private
*存储cache相关
*/
//class laya.display.css.CacheStyle
var CacheStyle=(function(){
	function CacheStyle(){
		/**当前实际的cache状态*/
		//this.cacheAs=null;
		/**是否开启canvas渲染*/
		//this.enableCanvasRender=false;
		/**用户设的cacheAs类型*/
		//this.userSetCache=null;
		/**是否需要为滤镜cache*/
		//this.cacheForFilters=false;
		/**是否为静态缓存*/
		//this.staticCache=false;
		/**是否需要刷新缓存*/
		//this.reCache=false;
		/**mask对象*/
		//this.mask=null;
		/**作为mask时的父对象*/
		//this.maskParent=null;
		/**滤镜数据*/
		//this.filters=null;
		/**当前缓存区域*/
		//this.cacheRect=null;
		/**当前使用的canvas*/
		//this.canvas=null;
		/**滤镜数据*/
		//this.filterCache=null;
		/**是否有发光滤镜*/
		//this.hasGlowFilter=false;
		this.reset();
	}

	__class(CacheStyle,'laya.display.css.CacheStyle');
	var __proto=CacheStyle.prototype;
	/**
	*是否需要Bitmap缓存
	*@return
	*/
	__proto.needBitmapCache=function(){
		return this.cacheForFilters || this.mask;
	}

	/**
	*是否需要开启canvas渲染
	*/
	__proto.needEnableCanvasRender=function(){
		return this.userSetCache !="none" || this.cacheForFilters || this.mask;
	}

	/**
	*释放cache的资源
	*/
	__proto.releaseContext=function(){
		if (this.canvas){
			Pool.recover("CacheCanvas",this.canvas);
			this.canvas.size(0,0);
			this.canvas=null;
		}
	}

	__proto.createContext=function(){
		if (!this.canvas){
			this.canvas=Pool.getItem("CacheCanvas")|| HTMLCanvas.create("AUTO");
			var tx=this.canvas.context;
			if (!tx){
				tx=this.canvas.getContext('2d');
				tx.__tx=0;
				tx.__ty=0;
			}
		}
	}

	/**
	*释放滤镜资源
	*/
	__proto.releaseFilterCache=function(){
		var fc=this.filterCache;
		if (fc){
			fc.destroy();
			fc.recycle();
			this.filterCache=null;
		}
	}

	/**
	*回收
	*/
	__proto.recover=function(){
		if (this===CacheStyle.EMPTY)return;
		Pool.recover("SpriteCache",this.reset());
	}

	/**
	*重置
	*/
	__proto.reset=function(){
		this.releaseContext();
		this.releaseFilterCache();
		this.cacheAs="none";
		this.enableCanvasRender=false;
		this.userSetCache="none";
		this.cacheForFilters=false;
		this.staticCache=false;
		this.reCache=true;
		this.mask=null;
		this.maskParent=null;
		this.filterCache=null;
		this.filters=null;
		this.hasGlowFilter=false;
		if(this.cacheRect)this.cacheRect.recover();
		this.cacheRect=null;
		return this
	}

	__proto._calculateCacheRect=function(sprite,tCacheType,x,y){
		var _cacheStyle=sprite._cacheStyle;
		if (!_cacheStyle.cacheRect)
			_cacheStyle.cacheRect=Rectangle.create();
		var tRec;
		if (!Render.isWebGL || tCacheType==="bitmap"){
			tRec=sprite.getSelfBounds();
			tRec.x=tRec.x-sprite.pivotX;
			tRec.y=tRec.y-sprite.pivotY;
			tRec.x=tRec.x-16;
			tRec.y=tRec.y-16;
			tRec.width=tRec.width+32;
			tRec.height=tRec.height+32;
			tRec.x=Math.floor(tRec.x+x)-x;
			tRec.y=Math.floor(tRec.y+y)-y;
			tRec.width=Math.floor(tRec.width);
			tRec.height=Math.floor(tRec.height);
			_cacheStyle.cacheRect.copyFrom(tRec);
			}else {
			_cacheStyle.cacheRect.setTo(-sprite._style.pivotX,-sprite._style.pivotY,1,1);
		}
		tRec=_cacheStyle.cacheRect;
		var scaleX=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleX;
		var scaleY=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleY;
		if (!Render.isWebGL){
			var chainScaleX=1;
			var chainScaleY=1;
			var tar;
			tar=sprite;
			while (tar && tar !=Laya.stage){
				chainScaleX *=tar.scaleX;
				chainScaleY *=tar.scaleY;
				tar=tar.parent;
			}
			if (chainScaleX > 1)scaleX *=chainScaleX;
			if (chainScaleY > 1)scaleY *=chainScaleY;
		}
		if (sprite._style.scrollRect){
			var scrollRect=sprite._style.scrollRect;
			tRec.x-=scrollRect.x;
			tRec.y-=scrollRect.y;
		}
		CacheStyle._scaleInfo.setTo(scaleX,scaleY);
		return CacheStyle._scaleInfo;
	}

	CacheStyle.create=function(){
		return Pool.getItemByClass("SpriteCache",CacheStyle);
	}

	CacheStyle.EMPTY=new CacheStyle();
	__static(CacheStyle,
	['_scaleInfo',function(){return this._scaleInfo=new Point();}
	]);
	return CacheStyle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/css/SpriteStyle.as=======199.999282/199.999282
/**
*@private
*元素样式
*/
//class laya.display.css.SpriteStyle
var SpriteStyle=(function(){
	function SpriteStyle(){
		//this.scaleX=NaN;
		//this.scaleY=NaN;
		//this.skewX=NaN;
		//this.skewY=NaN;
		//this.pivotX=NaN;
		//this.pivotY=NaN;
		//this.rotation=NaN;
		//this.alpha=NaN;
		//this.scrollRect=null;
		//this.viewport=null;
		//this.hitArea=null;
		//this.dragging=null;
		//this.blendMode=null;
		this.reset();
	}

	__class(SpriteStyle,'laya.display.css.SpriteStyle');
	var __proto=SpriteStyle.prototype;
	/**
	*重置，方便下次复用
	*/
	__proto.reset=function(){
		this.scaleX=this.scaleY=1;
		this.skewX=this.skewY=0;
		this.pivotX=this.pivotY=this.rotation=0;
		this.alpha=1;
		if(this.scrollRect)this.scrollRect.recover();
		this.scrollRect=null;
		if(this.viewport)this.viewport.recover();
		this.viewport=null;
		this.hitArea=null;
		this.dragging=null;
		this.blendMode=null;
		return this
	}

	/**
	*回收
	*/
	__proto.recover=function(){
		if (this===SpriteStyle.EMPTY)return;
		Pool.recover("SpriteStyle",this.reset());
	}

	SpriteStyle.create=function(){
		return Pool.getItemByClass("SpriteStyle",SpriteStyle);
	}

	SpriteStyle.EMPTY=new SpriteStyle();
	return SpriteStyle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/GraphicsBounds.as=======199.999278/199.999278
/**
*@private
*Graphic bounds数据类
*/
//class laya.display.GraphicsBounds
var GraphicsBounds=(function(){
	function GraphicsBounds(){
		/**@private */
		//this._temp=null;
		/**@private */
		//this._bounds=null;
		/**@private */
		//this._rstBoundPoints=null;
		/**@private */
		this._cacheBoundsType=false;
		/**@private */
		//this._graphics=null;
	}

	__class(GraphicsBounds,'laya.display.GraphicsBounds');
	var __proto=GraphicsBounds.prototype;
	/**
	*销毁
	*/
	__proto.destroy=function(){
		this._graphics=null;
		this._cacheBoundsType=false;
		if (this._temp)this._temp.length=0;
		if (this._rstBoundPoints)this._rstBoundPoints.length=0;
		if (this._bounds)this._bounds.recover();
		this._bounds=null;
		Pool.recover("GraphicsBounds",this);
	}

	/**
	*重置数据
	*/
	__proto.reset=function(){
		this._temp && (this._temp.length=0);
	}

	/**
	*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 位置与宽高组成的 一个 Rectangle 对象。
	*/
	__proto.getBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._bounds || !this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType){
			this._bounds=Rectangle._getWrapRec(this.getBoundPoints(realSize),this._bounds)
		}
		this._cacheBoundsType=realSize;
		return this._bounds;
	}

	/**
	*@private
	*@param realSize （可选）使用图片的真实大小，默认为false
	*获取端点列表。
	*/
	__proto.getBoundPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType)
			this._temp=this._getCmdPoints(realSize);
		this._cacheBoundsType=realSize;
		return this._rstBoundPoints=Utils.copyArray(this._rstBoundPoints,this._temp);
	}

	__proto._getCmdPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		var context=Render._context;
		var cmds=this._graphics.cmds;
		var rst;
		rst=this._temp || (this._temp=[]);
		rst.length=0;
		if (!cmds && this._graphics._one !=null){
			GraphicsBounds._tempCmds.length=0;
			GraphicsBounds._tempCmds.push(this._graphics._one);
			cmds=GraphicsBounds._tempCmds;
		}
		if (!cmds)return rst;
		var matrixs=GraphicsBounds._tempMatrixArrays;
		matrixs.length=0;
		var tMatrix=GraphicsBounds._initMatrix;
		tMatrix.identity();
		var tempMatrix=GraphicsBounds._tempMatrix;
		var cmd;
		var tex;
		for (var i=0,n=cmds.length;i < n;i++){
			cmd=cmds[i];
			switch (cmd.cmdID){
				case "Alpha":
					matrixs.push(tMatrix);
					tMatrix=tMatrix.clone();
					break ;
				case "Restore":
					tMatrix=matrixs.pop();
					break ;
				case "Scale":
					tempMatrix.identity();
					tempMatrix.translate(-cmd.pivotX,-cmd.pivotY);
					tempMatrix.scale(cmd.scaleX,cmd.scaleY);
					tempMatrix.translate(cmd.pivotX,cmd.pivotY);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case "Rotate":
					tempMatrix.identity();
					tempMatrix.translate(-cmd.pivotX,-cmd.pivotY);
					tempMatrix.rotate(cmd.angle);
					tempMatrix.translate(cmd.pivotX,cmd.pivotY);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case "Translate":
					tempMatrix.identity();
					tempMatrix.translate(cmd.tx,cmd.ty);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case "Transform":
					tempMatrix.identity();
					tempMatrix.translate(-cmd.pivotX,-cmd.pivotY);
					tempMatrix.concat(cmd.matrix);
					tempMatrix.translate(cmd.pivotX,cmd.pivotY);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case "DrawImage":
				case "FillTexture":
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),tMatrix);
					break ;
				case "DrawTexture":
					tMatrix.copyTo(tempMatrix);
					if(cmd.matrix)
						tempMatrix.concat(cmd.matrix);
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),tempMatrix);
					break ;
				case "DrawImage":
					tex=cmd.texture;
					if (realSize){
						if (cmd.width && cmd.height){
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),tMatrix);
							}else {
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,tex.width,tex.height),tMatrix);
						}
						}else {
						var wRate=(cmd.width || tex.sourceWidth)/ tex.width;
						var hRate=(cmd.height || tex.sourceHeight)/ tex.height;
						var oWidth=wRate *tex.sourceWidth;
						var oHeight=hRate *tex.sourceHeight;
						var offX=tex.offsetX > 0 ? tex.offsetX :0;
						var offY=tex.offsetY > 0 ? tex.offsetY :0;
						offX *=wRate;
						offY *=hRate;
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x-offX,cmd.y-offY,oWidth,oHeight),tMatrix);
					}
					break ;
				case "FillTexture":
					if (cmd.width && cmd.height){
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),tMatrix);
						}else {
						tex=cmd.texture;
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,tex.width,tex.height),tMatrix);
					}
					break ;
				case "DrawTexture":;
					var drawMatrix;
					if (cmd.matrix){
						tMatrix.copyTo(tempMatrix);
						tempMatrix.concat(cmd.matrix);
						drawMatrix=tempMatrix;
						}else {
						drawMatrix=tMatrix;
					}
					if (realSize){
						if (cmd.width && cmd.height){
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),drawMatrix);
							}else {
							tex=cmd.texture;
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,tex.width,tex.height),drawMatrix);
						}
						}else {
						tex=cmd.texture;
						wRate=(cmd.width || tex.sourceWidth)/ tex.width;
						hRate=(cmd.height || tex.sourceHeight)/ tex.height;
						oWidth=wRate *tex.sourceWidth;
						oHeight=hRate *tex.sourceHeight;
						offX=tex.offsetX > 0 ? tex.offsetX :0;
						offY=tex.offsetY > 0 ? tex.offsetY :0;
						offX *=wRate;
						offY *=hRate;
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x-offX,cmd.y-offY,oWidth,oHeight),drawMatrix);
					}
					break ;
				case "DrawRect":
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x,cmd.y,cmd.width,cmd.height),tMatrix);
					break ;
				case "DrawCircle":
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd.x-cmd.radius,cmd.y-cmd.radius,cmd.x+cmd.radius,cmd.y+cmd.radius),tMatrix);
					break ;
				case "DrawLine":
					GraphicsBounds._tempPoints.length=0;
					var lineWidth=NaN;
					lineWidth=cmd.lineWidth *0.5;
					if (cmd.fromX==cmd.toX){
						GraphicsBounds._tempPoints.push(cmd.fromX+lineWidth,cmd.fromY,cmd.toX+lineWidth,cmd.toY,cmd.fromX-lineWidth,cmd.fromY,cmd.toX-lineWidth,cmd.toY);
						}else if (cmd.fromY==cmd.toY){
						GraphicsBounds._tempPoints.push(cmd.fromX,cmd.fromY+lineWidth,cmd.toX,cmd.toY+lineWidth,cmd.fromX,cmd.fromY-lineWidth,cmd.toX,cmd.toY-lineWidth);
						}else {
						GraphicsBounds._tempPoints.push(cmd.fromX,cmd.fromY,cmd.toX,cmd.toY);
					}
					GraphicsBounds._addPointArrToRst(rst,GraphicsBounds._tempPoints,tMatrix);
					break ;
				case "DrawCurves":
					GraphicsBounds._addPointArrToRst(rst,Bezier.I.getBezierPoints(cmd.points),tMatrix,cmd.x,cmd.y);
					break ;
				case "DrawLines":
				case "DrawPoly":
					GraphicsBounds._addPointArrToRst(rst,cmd.points,tMatrix,cmd.x,cmd.y);
					break ;
				case "DrawPath":
					GraphicsBounds._addPointArrToRst(rst,this._getPathPoints(cmd.paths),tMatrix,cmd.x,cmd.y);
					break ;
				case "DrawPie":
					GraphicsBounds._addPointArrToRst(rst,this._getPiePoints(cmd.x,cmd.y,cmd.radius,cmd.startAngle,cmd.endAngle),tMatrix);
					break ;
				}
		}
		if (rst.length > 200){
			rst=Utils.copyArray(rst,Rectangle._getWrapRec(rst)._getBoundPoints());
		}else if (rst.length > 8)
		rst=GrahamScan.scanPList(rst);
		return rst;
	}

	__proto._switchMatrix=function(tMatix,tempMatrix){
		tempMatrix.concat(tMatix);
		tempMatrix.copyTo(tMatix);
	}

	__proto._getPiePoints=function(x,y,radius,startAngle,endAngle){
		var rst=GraphicsBounds._tempPoints;
		GraphicsBounds._tempPoints.length=0;
		rst.push(x,y);
		var dP=Math.PI / 10;
		var i=NaN;
		for (i=startAngle;i < endAngle;i+=dP){
			rst.push(x+radius *Math.cos(i),y+radius *Math.sin(i));
		}
		if (endAngle !=i){
			rst.push(x+radius *Math.cos(endAngle),y+radius *Math.sin(endAngle));
		}
		return rst;
	}

	__proto._getPathPoints=function(paths){
		var i=0,len=0;
		var rst=GraphicsBounds._tempPoints;
		rst.length=0;
		len=paths.length;
		var tCMD;
		for (i=0;i < len;i++){
			tCMD=paths[i];
			if (tCMD.length > 1){
				rst.push(tCMD[1],tCMD[2]);
				if (tCMD.length > 3){
					rst.push(tCMD[3],tCMD[4]);
				}
			}
		}
		return rst;
	}

	GraphicsBounds.create=function(){
		return Pool.getItemByClass("GraphicsBounds",GraphicsBounds);
	}

	GraphicsBounds._addPointArrToRst=function(rst,points,matrix,dx,dy){
		(dx===void 0)&& (dx=0);
		(dy===void 0)&& (dy=0);
		var i=0,len=0;
		len=points.length;
		for (i=0;i < len;i+=2){
			GraphicsBounds._addPointToRst(rst,points[i]+dx,points[i+1]+dy,matrix);
		}
	}

	GraphicsBounds._addPointToRst=function(rst,x,y,matrix){
		var _tempPoint=Point.TEMP;
		_tempPoint.setTo(x ? x :0,y ? y :0);
		matrix.transformPoint(_tempPoint);
		rst.push(_tempPoint.x,_tempPoint.y);
	}

	GraphicsBounds._tempPoints=[];
	GraphicsBounds._tempMatrixArrays=[];
	GraphicsBounds._tempCmds=[];
	__static(GraphicsBounds,
	['_tempMatrix',function(){return this._tempMatrix=new Matrix();},'_initMatrix',function(){return this._initMatrix=new Matrix();}
	]);
	return GraphicsBounds;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/SpriteConst.as=======199.999276/199.999276
/**
*@private
*/
//class laya.display.SpriteConst
var SpriteConst=(function(){
	function SpriteConst(){}
	__class(SpriteConst,'laya.display.SpriteConst');
	SpriteConst.POSRENDERTYPE=0;
	SpriteConst.POSBUFFERBEGIN=1;
	SpriteConst.POSBUFFEREND=2;
	SpriteConst.POSREPAINT=3;
	SpriteConst.POSFRAMECOUNT=4;
	SpriteConst.POSX=5;
	SpriteConst.POSY=6;
	SpriteConst.POSPIVOTX=7;
	SpriteConst.POSPIVOTY=8;
	SpriteConst.POSSCALEX=9;
	SpriteConst.POSSCALEY=10;
	SpriteConst.POSSKEWX=11;
	SpriteConst.POSSKEWY=12;
	SpriteConst.POSROTATION=13;
	SpriteConst.POSTRANSFORM_FLAG=14;
	SpriteConst.POSMATRIX=15;
	SpriteConst.POSCOLOR=21;
	SpriteConst.POSGRAPICS=22;
	SpriteConst.POSSIM_TEXTURE_ID=23;
	SpriteConst.POSSIM_TEXTURE_DATA=24;
	SpriteConst.POSLAYAGL3D=25;
	SpriteConst.POSCUSTOM=26;
	SpriteConst.POSCLIP=27;
	SpriteConst.POSCLIP_NEG_POS=31;
	SpriteConst.POSCOLORFILTER_COLOR=33;
	SpriteConst.POSCOLORFILTER_ALPHA=49;
	SpriteConst.POSSIZE=53;
	SpriteConst.ALPHA=0x01;
	SpriteConst.TRANSFORM=0x02;
	SpriteConst.BLEND=0x04;
	SpriteConst.CANVAS=0x08;
	SpriteConst.FILTERS=0x10;
	SpriteConst.MASK=0x20;
	SpriteConst.CLIP=0x40;
	SpriteConst.STYLE=0x80;
	SpriteConst.TEXTURE=0x100;
	SpriteConst.GRAPHICS=0x200;
	SpriteConst.LAYAGL3D=0x400;
	SpriteConst.CUSTOM=0x800;
	SpriteConst.ONECHILD=0x1000;
	SpriteConst.CHILDS=0x2000;
	SpriteConst.REPAINT_NONE=0;
	SpriteConst.REPAINT_NODE=0x01;
	SpriteConst.REPAINT_CACHE=0x02;
	SpriteConst.REPAINT_ALL=0x03;
	return SpriteConst;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/Event.as=======199.999274/199.999274
/**
*<code>Event</code> 是事件类型的集合。一般当发生事件时，<code>Event</code> 对象将作为参数传递给事件侦听器。
*/
//class laya.events.Event
var Event=(function(){
	function Event(){
		/**事件类型。*/
		//this.type=null;
		/**原生浏览器事件。*/
		//this.nativeEvent=null;
		/**事件目标触发对象。*/
		//this.target=null;
		/**事件当前冒泡对象。*/
		//this.currentTarget=null;
		/**@private */
		//this._stoped=false;
		/**分配给触摸点的唯一标识号（作为 int）。*/
		//this.touchId=0;
		/**键盘值*/
		//this.keyCode=0;
		/**滚轮滑动增量*/
		//this.delta=0;
	}

	__class(Event,'laya.events.Event');
	var __proto=Event.prototype;
	/**
	*设置事件数据。
	*@param type 事件类型。
	*@param currentTarget 事件目标触发对象。
	*@param target 事件当前冒泡对象。
	*@return 返回当前 Event 对象。
	*/
	__proto.setTo=function(type,currentTarget,target){
		this.type=type;
		this.currentTarget=currentTarget;
		this.target=target;
		return this;
	}

	/**
	*阻止对事件流中当前节点的后续节点中的所有事件侦听器进行处理。此方法不会影响当前节点 (currentTarget)中的任何事件侦听器。
	*/
	__proto.stopPropagation=function(){
		this._stoped=true;
	}

	/**鼠标在 Stage 上的 Y 轴坐标*/
	__getset(0,__proto,'stageY',function(){
		return Laya.stage.mouseY;
	});

	/**
	*包含按下或释放的键的字符代码值。字符代码值为英文键盘值。
	*/
	__getset(0,__proto,'charCode',function(){
		return this.nativeEvent.charCode;
	});

	/**
	*触摸点列表。
	*/
	__getset(0,__proto,'touches',function(){
		var arr=this.nativeEvent.touches;
		if (arr){
			var stage=Laya.stage;
			for (var i=0,n=arr.length;i < n;i++){
				var e=arr[i];
				var point=Point.TEMP;
				point.setTo(e.clientX,e.clientY);
				stage._canvasTransform.invertTransformPoint(point);
				stage.transform.invertTransformPoint(point);
				e.stageX=point.x;
				e.stageY=point.y;
			}
		}
		return arr;
	});

	/**
	*表示键在键盘上的位置。这对于区分在键盘上多次出现的键非常有用。<br>
	*例如，您可以根据此属性的值来区分左 Shift 键和右 Shift 键：左 Shift 键的值为 KeyLocation.LEFT，右 Shift 键的值为 KeyLocation.RIGHT。另一个示例是区分标准键盘 (KeyLocation.STANDARD)与数字键盘 (KeyLocation.NUM_PAD)上按下的数字键。
	*/
	__getset(0,__proto,'keyLocation',function(){
		return this.nativeEvent.location || this.nativeEvent.keyLocation;
	});

	/**
	*表示 Ctrl 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'ctrlKey',function(){
		return this.nativeEvent.ctrlKey;
	});

	/**
	*表示 Alt 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'altKey',function(){
		return this.nativeEvent.altKey;
	});

	/**
	*表示 Shift 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'shiftKey',function(){
		return this.nativeEvent.shiftKey;
	});

	/**鼠标在 Stage 上的 X 轴坐标*/
	__getset(0,__proto,'stageX',function(){
		return Laya.stage.mouseX;
	});

	Event.EMPTY=new Event();
	Event.MOUSE_DOWN="mousedown";
	Event.MOUSE_UP="mouseup";
	Event.CLICK="click";
	Event.RIGHT_MOUSE_DOWN="rightmousedown";
	Event.RIGHT_MOUSE_UP="rightmouseup";
	Event.RIGHT_CLICK="rightclick";
	Event.MOUSE_MOVE="mousemove";
	Event.MOUSE_OVER="mouseover";
	Event.MOUSE_OUT="mouseout";
	Event.MOUSE_WHEEL="mousewheel";
	Event.ROLL_OVER="mouseover";
	Event.ROLL_OUT="mouseout";
	Event.DOUBLE_CLICK="doubleclick";
	Event.CHANGE="change";
	Event.CHANGED="changed";
	Event.RESIZE="resize";
	Event.ADDED="added";
	Event.REMOVED="removed";
	Event.DISPLAY="display";
	Event.UNDISPLAY="undisplay";
	Event.ERROR="error";
	Event.COMPLETE="complete";
	Event.LOADED="loaded";
	Event.PROGRESS="progress";
	Event.INPUT="input";
	Event.RENDER="render";
	Event.OPEN="open";
	Event.MESSAGE="message";
	Event.CLOSE="close";
	Event.KEY_DOWN="keydown";
	Event.KEY_PRESS="keypress";
	Event.KEY_UP="keyup";
	Event.FRAME="enterframe";
	Event.DRAG_START="dragstart";
	Event.DRAG_MOVE="dragmove";
	Event.DRAG_END="dragend";
	Event.ENTER="enter";
	Event.SELECT="select";
	Event.BLUR="blur";
	Event.FOCUS="focus";
	Event.VISIBILITY_CHANGE="visibilitychange";
	Event.FOCUS_CHANGE="focuschange";
	Event.PLAYED="played";
	Event.PAUSED="paused";
	Event.STOPPED="stopped";
	Event.START="start";
	Event.END="end";
	Event.COMPONENT_ADDED="componentadded";
	Event.COMPONENT_REMOVED="componentremoved";
	Event.HIERARCHY_LOADED="hierarchyloaded";
	Event.RELEASED="released";
	Event.LINK="link";
	Event.LABEL="label";
	Event.FULL_SCREEN_CHANGE="fullscreenchange";
	Event.DEVICE_LOST="devicelost";
	Event.MESH_CHANGED="meshchanged";
	Event.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged";
	Event.ANIMATION_CHANGED="animationchanged";
	Event.TRAIL_FILTER_CHANGE="trailfilterchange";
	return Event;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/Keyboard.as=======199.999273/199.999273
/**
*<code>Keyboard</code> 类的属性是一些常数，这些常数表示控制游戏时最常用的键。
*/
//class laya.events.Keyboard
var Keyboard=(function(){
	function Keyboard(){}
	__class(Keyboard,'laya.events.Keyboard');
	Keyboard.NUMBER_0=48;
	Keyboard.NUMBER_1=49;
	Keyboard.NUMBER_2=50;
	Keyboard.NUMBER_3=51;
	Keyboard.NUMBER_4=52;
	Keyboard.NUMBER_5=53;
	Keyboard.NUMBER_6=54;
	Keyboard.NUMBER_7=55;
	Keyboard.NUMBER_8=56;
	Keyboard.NUMBER_9=57;
	Keyboard.A=65;
	Keyboard.B=66;
	Keyboard.C=67;
	Keyboard.D=68;
	Keyboard.E=69;
	Keyboard.F=70;
	Keyboard.G=71;
	Keyboard.H=72;
	Keyboard.I=73;
	Keyboard.J=74;
	Keyboard.K=75;
	Keyboard.L=76;
	Keyboard.M=77;
	Keyboard.N=78;
	Keyboard.O=79;
	Keyboard.P=80;
	Keyboard.Q=81;
	Keyboard.R=82;
	Keyboard.S=83;
	Keyboard.T=84;
	Keyboard.U=85;
	Keyboard.V=86;
	Keyboard.W=87;
	Keyboard.X=88;
	Keyboard.Y=89;
	Keyboard.Z=90;
	Keyboard.F1=112;
	Keyboard.F2=113;
	Keyboard.F3=114;
	Keyboard.F4=115;
	Keyboard.F5=116;
	Keyboard.F6=117;
	Keyboard.F7=118;
	Keyboard.F8=119;
	Keyboard.F9=120;
	Keyboard.F10=121;
	Keyboard.F11=122;
	Keyboard.F12=123;
	Keyboard.F13=124;
	Keyboard.F14=125;
	Keyboard.F15=126;
	Keyboard.NUMPAD=21;
	Keyboard.NUMPAD_0=96;
	Keyboard.NUMPAD_1=97;
	Keyboard.NUMPAD_2=98;
	Keyboard.NUMPAD_3=99;
	Keyboard.NUMPAD_4=100;
	Keyboard.NUMPAD_5=101;
	Keyboard.NUMPAD_6=102;
	Keyboard.NUMPAD_7=103;
	Keyboard.NUMPAD_8=104;
	Keyboard.NUMPAD_9=105;
	Keyboard.NUMPAD_ADD=107;
	Keyboard.NUMPAD_DECIMAL=110;
	Keyboard.NUMPAD_DIVIDE=111;
	Keyboard.NUMPAD_ENTER=108;
	Keyboard.NUMPAD_MULTIPLY=106;
	Keyboard.NUMPAD_SUBTRACT=109;
	Keyboard.SEMICOLON=186;
	Keyboard.EQUAL=187;
	Keyboard.COMMA=188;
	Keyboard.MINUS=189;
	Keyboard.PERIOD=190;
	Keyboard.SLASH=191;
	Keyboard.BACKQUOTE=192;
	Keyboard.LEFTBRACKET=219;
	Keyboard.BACKSLASH=220;
	Keyboard.RIGHTBRACKET=221;
	Keyboard.QUOTE=222;
	Keyboard.ALTERNATE=18;
	Keyboard.BACKSPACE=8;
	Keyboard.CAPS_LOCK=20;
	Keyboard.COMMAND=15;
	Keyboard.CONTROL=17;
	Keyboard.DELETE=46;
	Keyboard.ENTER=13;
	Keyboard.ESCAPE=27;
	Keyboard.PAGE_UP=33;
	Keyboard.PAGE_DOWN=34;
	Keyboard.END=35;
	Keyboard.HOME=36;
	Keyboard.LEFT=37;
	Keyboard.UP=38;
	Keyboard.RIGHT=39;
	Keyboard.DOWN=40;
	Keyboard.SHIFT=16;
	Keyboard.SPACE=32;
	Keyboard.TAB=9;
	Keyboard.INSERT=45;
	return Keyboard;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/KeyBoardManager.as=======199.999272/199.999272
/**
*<p><code>KeyBoardManager</code> 是键盘事件管理类。该类从浏览器中接收键盘事件，并派发该事件。</p>
*<p>派发事件时若 Stage.focus 为空则只从 Stage 上派发该事件，否则将从 Stage.focus 对象开始一直冒泡派发该事件。所以在 Laya.stage 上监听键盘事件一定能够收到，如果在其他地方监听，则必须处在Stage.focus的冒泡链上才能收到该事件。</p>
*<p>用户可以通过代码 Laya.stage.focus=someNode 的方式来设置focus对象。</p>
*<p>用户可统一的根据事件对象中 e.keyCode 来判断按键类型，该属性兼容了不同浏览器的实现。</p>
*/
//class laya.events.KeyBoardManager
var KeyBoardManager=(function(){
	function KeyBoardManager(){}
	__class(KeyBoardManager,'laya.events.KeyBoardManager');
	KeyBoardManager.__init__=function(){
		KeyBoardManager._addEvent("keydown");
		KeyBoardManager._addEvent("keypress");
		KeyBoardManager._addEvent("keyup");
	}

	KeyBoardManager._addEvent=function(type){
		Browser.document.addEventListener(type,function(e){
			laya.events.KeyBoardManager._dispatch(e,type);
		},true);
	}

	KeyBoardManager._dispatch=function(e,type){
		if (!KeyBoardManager.enabled)return;
		KeyBoardManager._event._stoped=false;
		KeyBoardManager._event.nativeEvent=e;
		KeyBoardManager._event.keyCode=e.keyCode || e.which || e.charCode;
		if (type==="keydown")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=true;
		else if (type==="keyup")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=null;
		var target=(Laya.stage.focus && (Laya.stage.focus.event !=null)&& Laya.stage.focus.displayedInStage)? Laya.stage.focus :Laya.stage;
		var ct=target;
		while (ct){
			ct.event(type,KeyBoardManager._event.setTo(type,ct,target));
			ct=ct.parent;
		}
	}

	KeyBoardManager.hasKeyDown=function(key){
		return KeyBoardManager._pressKeys[key];
	}

	KeyBoardManager._pressKeys={};
	KeyBoardManager.enabled=true;
	__static(KeyBoardManager,
	['_event',function(){return this._event=new Event();}
	]);
	return KeyBoardManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/MouseManager.as=======199.999270/199.999270
/**
*<p><code>MouseManager</code> 是鼠标、触摸交互管理器。</p>
*<p>鼠标事件流包括捕获阶段、目标阶段、冒泡阶段。<br/>
*捕获阶段：此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象；<br/>
*目标阶段：找到命中的目标对象；<br/>
*冒泡阶段：事件离开目标对象，按节点层级向上逐层通知，直到到达舞台的过程。</p>
*/
//class laya.events.MouseManager
var MouseManager=(function(){
	function MouseManager(){
		/**canvas 上的鼠标X坐标。*/
		this.mouseX=0;
		/**canvas 上的鼠标Y坐标。*/
		this.mouseY=0;
		/**是否禁用除 stage 以外的鼠标事件检测。*/
		this.disableMouseEvent=false;
		/**鼠标按下的时间。单位为毫秒。*/
		this.mouseDownTime=0;
		/**鼠标移动精度。*/
		this.mouseMoveAccuracy=2;
		this._stage=null;
		this._target=null;
		this._lastMoveTimer=0;
		this._isLeftMouse=false;
		this._eventList=[];
		this._touchIDs={};
		this._id=1;
		this._tTouchID=0;
		this._event=new Event();
		this._matrix=new Matrix();
		this._point=new Point();
		this._rect=new Rectangle();
		this._prePoint=new Point();
		this._curTouchID=NaN;
	}

	__class(MouseManager,'laya.events.MouseManager');
	var __proto=MouseManager.prototype;
	/**
	*@private
	*初始化。
	*/
	__proto.__init__=function(stage,canvas){
		this._stage=stage;
		var _this=this;
		var list=this._eventList;
		canvas.oncontextmenu=function (e){
			if (MouseManager.enabled)return false;
		}
		canvas.addEventListener('mousedown',function(e){
			if (MouseManager.enabled){
				if (!Browser.onIE)e.preventDefault();
				list.push(e);
				_this.mouseDownTime=Browser.now();
			}
		});
		canvas.addEventListener('mouseup',function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
				_this.mouseDownTime=-Browser.now();
			}
		},true);
		canvas.addEventListener('mousemove',function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				var now=Browser.now();
				if (now-_this._lastMoveTimer < 10)return;
				_this._lastMoveTimer=now;
				list.push(e);
			}
		},true);
		canvas.addEventListener("mouseout",function(e){
			if (MouseManager.enabled)list.push(e);
		})
		canvas.addEventListener("mouseover",function(e){
			if (MouseManager.enabled)list.push(e);
		})
		canvas.addEventListener("touchstart",function(e){
			if (MouseManager.enabled){
				list.push(e);
				if (!Input.isInputting)e.preventDefault();
				_this.mouseDownTime=Browser.now();
			}
		});
		canvas.addEventListener("touchend",function(e){
			if (MouseManager.enabled){
				if (!Input.isInputting)e.preventDefault();
				list.push(e);
				_this.mouseDownTime=-Browser.now();
			}
		},true);
		canvas.addEventListener("touchmove",function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
			}
		},true);
		canvas.addEventListener("touchcancel",function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
			}
		},true);
		canvas.addEventListener('mousewheel',function(e){
			if (MouseManager.enabled)list.push(e);
		});
		canvas.addEventListener('DOMMouseScroll',function(e){
			if (MouseManager.enabled)list.push(e);
		});
	}

	__proto.initEvent=function(e,nativeEvent){
		var _this=this;
		_this._event._stoped=false;
		_this._event.nativeEvent=nativeEvent || e;
		_this._target=null;
		this._point.setTo(e.pageX || e.clientX,e.pageY || e.clientY);
		this._stage._canvasTransform.invertTransformPoint(this._point);
		_this.mouseX=this._point.x;
		_this.mouseY=this._point.y;
		_this._event.touchId=e.identifier || 0;
		this._tTouchID=_this._event.touchId;
		var evt;
		evt=TouchManager.I._event;
		evt._stoped=false;
		evt.nativeEvent=_this._event.nativeEvent;
		evt.touchId=_this._event.touchId;
	}

	__proto.checkMouseWheel=function(e){
		this._event.delta=e.wheelDelta ? e.wheelDelta *0.025 :-e.detail;
		var _lastOvers=TouchManager.I.getLastOvers();
		for (var i=0,n=_lastOvers.length;i < n;i++){
			var ele=_lastOvers[i];
			ele.event("mousewheel",this._event.setTo("mousewheel",ele,this._target));
		}
	}

	// _stage.event(Event.MOUSE_WHEEL,_event.setTo(Event.MOUSE_WHEEL,_stage,_target));
	__proto.onMouseMove=function(ele){
		TouchManager.I.onMouseMove(ele,this._tTouchID);
	}

	__proto.onMouseDown=function(ele){
		if (Input.isInputting && Laya.stage.focus && Laya.stage.focus["focus"] && !Laya.stage.focus.contains(this._target)){
			var pre_input=Laya.stage.focus['_tf'] || Laya.stage.focus;
			var new_input=ele['_tf'] || ele;
			if ((new_input instanceof laya.display.Input )&& new_input.multiline==pre_input.multiline)
				pre_input['_focusOut']();
			else
			pre_input.focus=false;
		}
		TouchManager.I.onMouseDown(ele,this._tTouchID,this._isLeftMouse);
	}

	__proto.onMouseUp=function(ele){
		TouchManager.I.onMouseUp(ele,this._tTouchID,this._isLeftMouse);
	}

	__proto.check=function(sp,mouseX,mouseY,callBack){
		this._point.setTo(mouseX,mouseY);
		sp.fromParentPoint(this._point);
		mouseX=this._point.x;
		mouseY=this._point.y;
		var scrollRect=sp._style.scrollRect;
		if (scrollRect){
			this._rect.setTo(scrollRect.x,scrollRect.y,scrollRect.width,scrollRect.height);
			if (!this._rect.contains(mouseX,mouseY))return false;
		}
		if (!this.disableMouseEvent){
			if (sp.hitTestPrior && !sp.mouseThrough && !this.hitTest(sp,mouseX,mouseY)){
				return false;
			}
			for (var i=sp._children.length-1;i >-1;i--){
				var child=sp._children[i];
				if (!child.destroyed && child._mouseState > 1 && child._visible){
					if (this.check(child,mouseX,mouseY,callBack))return true;
				}
			}
		};
		var isHit=(sp.hitTestPrior && !sp.mouseThrough && !this.disableMouseEvent)? true :this.hitTest(sp,mouseX,mouseY);
		if (isHit){
			this._target=sp;
			callBack.call(this,sp);
			}else if (callBack===this.onMouseUp && sp===this._stage){
			this._target=this._stage;
			callBack.call(this,this._target);
		}
		return isHit;
	}

	__proto.hitTest=function(sp,mouseX,mouseY){
		var isHit=false;
		if (sp.scrollRect){
			mouseX-=sp._style.scrollRect.x;
			mouseY-=sp._style.scrollRect.y;
		};
		var hitArea=sp._style.hitArea;
		if (hitArea && hitArea.isHitGraphic){
			return hitArea.isHit(mouseX,mouseY);
		}
		if (sp.width > 0 && sp.height > 0 || sp.mouseThrough || hitArea){
			if (!sp.mouseThrough){
				isHit=(hitArea ? hitArea :this._rect.setTo(0,0,sp.width,sp.height)).contains(mouseX,mouseY);
				}else {
				isHit=sp.getGraphicBounds().contains(mouseX,mouseY);
			}
		}
		return isHit;
	}

	/**
	*执行事件处理。
	*/
	__proto.runEvent=function(){
		var len=this._eventList.length;
		if (!len)return;
		var _this=this;
		var i=0;
		while (i < len){
			var evt=this._eventList[i];
			if (evt.type!=='mousemove')this._prePoint.x=this._prePoint.y=-1000000;
			switch (evt.type){
				case 'mousedown':
					this._touchIDs[0]=this._id++;
					if (!MouseManager._isTouchRespond){
						_this._isLeftMouse=evt.button===0;
						_this.initEvent(evt);
						_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);
					}else
					MouseManager._isTouchRespond=false;
					break ;
				case 'mouseup':
					_this._isLeftMouse=evt.button===0;
					_this.initEvent(evt);
					_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);
					break ;
				case 'mousemove':
					if ((Math.abs(this._prePoint.x-evt.clientX)+Math.abs(this._prePoint.y-evt.clientY))>=this.mouseMoveAccuracy){
						this._prePoint.x=evt.clientX;
						this._prePoint.y=evt.clientY;
						_this.initEvent(evt);
						_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);
					}
					break ;
				case "touchstart":
					MouseManager._isTouchRespond=true;
					_this._isLeftMouse=true;
					var touches=evt.changedTouches;
					for (var j=0,n=touches.length;j < n;j++){
						var touch=touches[j];
						if (MouseManager.multiTouchEnabled || isNaN(this._curTouchID)){
							this._curTouchID=touch.identifier;
							if (this._id % 200===0)this._touchIDs={};
							this._touchIDs[touch.identifier]=this._id++;
							_this.initEvent(touch,evt);
							_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);
						}
					}
					break ;
				case "touchend":
				case "touchcancel":
					MouseManager._isTouchRespond=true;
					_this._isLeftMouse=true;
					var touchends=evt.changedTouches;
					for (j=0,n=touchends.length;j < n;j++){
						touch=touchends[j];
						if (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){
							this._curTouchID=NaN;
							_this.initEvent(touch,evt);
							var isChecked=false;
							isChecked=_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);
							if (!isChecked){
								_this.onMouseUp(null);
							}
						}
					}
					break ;
				case "touchmove":;
					var touchemoves=evt.changedTouches;
					for (j=0,n=touchemoves.length;j < n;j++){
						touch=touchemoves[j];
						if (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){
							_this.initEvent(touch,evt);
							_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);
						}
					}
					break ;
				case "wheel":
				case "mousewheel":
				case "DOMMouseScroll":
					_this.checkMouseWheel(evt);
					break ;
				case "mouseout":
					_this._stage.event("mouseout",_this._event.setTo("mouseout",_this._stage,_this._stage));
					break ;
				case "mouseover":
					_this._stage.event("mouseover",_this._event.setTo("mouseover",_this._stage,_this._stage));
					break ;
				}
			i++;
		}
		this._eventList.length=0;
	}

	MouseManager.enabled=true;
	MouseManager.multiTouchEnabled=true;
	MouseManager._isTouchRespond=false;
	__static(MouseManager,
	['instance',function(){return this.instance=new MouseManager();}
	]);
	return MouseManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/events/TouchManager.as=======199.999269/199.999269
/**
*@private
*Touch事件管理类，处理多点触控下的鼠标事件
*/
//class laya.events.TouchManager
var TouchManager=(function(){
	function TouchManager(){
		/**
		*当前over的touch表
		*/
		this.preOvers=[];
		/**
		*当前down的touch表
		*/
		this.preDowns=[];
		this.preRightDowns=[];
		/**
		*是否启用
		*/
		this.enable=true;
		this._lastClickTime=0;
		this._event=new Event();
	}

	__class(TouchManager,'laya.events.TouchManager');
	var __proto=TouchManager.prototype;
	/**
	*从touch表里查找对应touchID的数据
	*@param touchID touch ID
	*@param arr touch表
	*@return
	*
	*/
	__proto.getTouchFromArr=function(touchID,arr){
		var i=0,len=0;
		len=arr.length;
		var tTouchO;
		for (i=0;i < len;i++){
			tTouchO=arr[i];
			if (tTouchO.id==touchID){
				return tTouchO;
			}
		}
		return null;
	}

	/**
	*从touch表里移除一个元素
	*@param touchID touch ID
	*@param arr touch表
	*
	*/
	__proto.removeTouchFromArr=function(touchID,arr){
		var i=0;
		for (i=arr.length-1;i >=0;i--){
			if (arr[i].id==touchID){
				arr.splice(i,1);
			}
		}
	}

	/**
	*创建一个touch数据
	*@param ele 当前的根节点
	*@param touchID touchID
	*@return
	*
	*/
	__proto.createTouchO=function(ele,touchID){
		var rst;
		rst=Pool.getItem("TouchData")|| {};
		rst.id=touchID;
		rst.tar=ele;
		return rst;
	}

	/**
	*处理touchStart
	*@param ele 根节点
	*@param touchID touchID
	*@param isLeft （可选）是否为左键
	*/
	__proto.onMouseDown=function(ele,touchID,isLeft){
		(isLeft===void 0)&& (isLeft=false);
		if (!this.enable)
			return;
		var preO;
		var tO;
		var arrs;
		preO=this.getTouchFromArr(touchID,this.preOvers);
		arrs=this.getEles(ele,null,TouchManager._tEleArr);
		if (!preO){
			tO=this.createTouchO(ele,touchID);
			this.preOvers.push(tO);
			}else {
			preO.tar=ele;
		}
		if (Browser.onMobile)
			this.sendEvents(arrs,"mouseover",touchID);
		var preDowns;
		preDowns=isLeft ? this.preDowns :this.preRightDowns;
		preO=this.getTouchFromArr(touchID,preDowns);
		if (!preO){
			tO=this.createTouchO(ele,touchID);
			preDowns.push(tO);
			}else {
			preO.tar=ele;
		}
		this.sendEvents(arrs,isLeft ? "mousedown" :"rightmousedown",touchID);
	}

	/**
	*派发事件。
	*@param eles 对象列表。
	*@param type 事件类型。
	*@param touchID （可选）touchID，默认为0。
	*/
	__proto.sendEvents=function(eles,type,touchID){
		(touchID===void 0)&& (touchID=0);
		var i=0,len=0;
		len=eles.length;
		this._event._stoped=false;
		var _target;
		_target=eles[0];
		var tE;
		for (i=0;i < len;i++){
			tE=eles[i];
			if (tE.destroyed)return;
			tE.event(type,this._event.setTo(type,tE,_target));
			if (this._event._stoped)
				break ;
		}
	}

	/**
	*获取对象列表。
	*@param start 起始节点。
	*@param end 结束节点。
	*@param rst 返回值。如果此值不为空，则将其赋值为计算结果，从而避免创建新数组；如果此值为空，则创建新数组返回。
	*@return Array 返回节点列表。
	*/
	__proto.getEles=function(start,end,rst){
		if (!rst){
			rst=[];
			}else {
			rst.length=0;
		}
		while (start && start !=end){
			rst.push(start);
			start=start._parent;
		}
		return rst;
	}

	/**
	*touchMove时处理out事件和over时间。
	*@param eleNew 新的根节点。
	*@param elePre 旧的根节点。
	*@param touchID （可选）touchID，默认为0。
	*/
	__proto.checkMouseOutAndOverOfMove=function(eleNew,elePre,touchID){
		(touchID===void 0)&& (touchID=0);
		if (elePre==eleNew)
			return;
		var tar;
		var arrs;
		var i=0,len=0;
		if (elePre.contains(eleNew)){
			arrs=this.getEles(eleNew,elePre,TouchManager._tEleArr);
			this.sendEvents(arrs,"mouseover",touchID);
			}else if (eleNew.contains(elePre)){
			arrs=this.getEles(elePre,eleNew,TouchManager._tEleArr);
			this.sendEvents(arrs,"mouseout",touchID);
			}else {
			arrs=TouchManager._tEleArr;
			arrs.length=0;
			var oldArr;
			oldArr=this.getEles(elePre,null,TouchManager._oldArr);
			var newArr;
			newArr=this.getEles(eleNew,null,TouchManager._newArr);
			len=oldArr.length;
			var tIndex=0;
			for (i=0;i < len;i++){
				tar=oldArr[i];
				tIndex=newArr.indexOf(tar);
				if (tIndex >=0){
					newArr.splice(tIndex,newArr.length-tIndex);
					break ;
					}else {
					arrs.push(tar);
				}
			}
			if (arrs.length > 0){
				this.sendEvents(arrs,"mouseout",touchID);
			}
			if (newArr.length > 0){
				this.sendEvents(newArr,"mouseover",touchID);
			}
		}
	}

	/**
	*处理TouchMove事件
	*@param ele 根节点
	*@param touchID touchID
	*
	*/
	__proto.onMouseMove=function(ele,touchID){
		if (!this.enable)
			return;
		var preO;
		preO=this.getTouchFromArr(touchID,this.preOvers);
		var arrs;
		var tO;
		if (!preO){
			arrs=this.getEles(ele,null,TouchManager._tEleArr);
			this.sendEvents(arrs,"mouseover",touchID);
			this.preOvers.push(this.createTouchO(ele,touchID));
			}else {
			this.checkMouseOutAndOverOfMove(ele,preO.tar);
			preO.tar=ele;
			arrs=this.getEles(ele,null,TouchManager._tEleArr);
		}
		this.sendEvents(arrs,"mousemove",touchID);
	}

	__proto.getLastOvers=function(){
		TouchManager._tEleArr.length=0;
		if (this.preOvers.length > 0 && this.preOvers[0].tar){
			return this.getEles(this.preOvers[0].tar,null,TouchManager._tEleArr);
		}
		TouchManager._tEleArr.push(Laya.stage);
		return TouchManager._tEleArr;
	}

	/**
	*处理TouchEnd事件
	*@param ele 根节点
	*@param touchID touchID
	*@param isLeft 是否为左键
	*/
	__proto.onMouseUp=function(ele,touchID,isLeft){
		(isLeft===void 0)&& (isLeft=false);
		if (!this.enable)
			return;
		var preO;
		var tO;
		var arrs;
		var oldArr;
		var i=0,len=0;
		var tar;
		var sendArr;
		var onMobile=Browser.onMobile;
		arrs=this.getEles(ele,null,TouchManager._tEleArr);
		this.sendEvents(arrs,isLeft ? "mouseup" :"rightmouseup",touchID);
		var preDowns;
		preDowns=isLeft ? this.preDowns :this.preRightDowns;
		preO=this.getTouchFromArr(touchID,preDowns);
		if (!preO){
			}else {
			var isDouble=false;
			var now=Browser.now();
			isDouble=now-this._lastClickTime < 300;
			this._lastClickTime=now;
			if (ele==preO.tar){
				sendArr=arrs;
				}else {
				oldArr=this.getEles(preO.tar,null,TouchManager._oldArr);
				sendArr=TouchManager._newArr;
				sendArr.length=0;
				len=oldArr.length;
				for (i=0;i < len;i++){
					tar=oldArr[i];
					if (arrs.indexOf(tar)>=0){
						sendArr.push(tar);
					}
				}
			}
			if (sendArr.length > 0){
				this.sendEvents(sendArr,isLeft ? "click" :"rightclick",touchID);
			}
			if (isLeft && isDouble){
				this.sendEvents(sendArr,"doubleclick",touchID);
			}
			this.removeTouchFromArr(touchID,preDowns);
			preO.tar=null;
			Pool.recover("TouchData",preO);
		}
		preO=this.getTouchFromArr(touchID,this.preOvers);
		if (!preO){
			}else {
			if (onMobile){
				sendArr=this.getEles(preO.tar,null,sendArr);
				if (sendArr && sendArr.length > 0){
					this.sendEvents(sendArr,"mouseout",touchID);
				}
				this.removeTouchFromArr(touchID,this.preOvers);
				preO.tar=null;
				Pool.recover("TouchData",preO);
			}
		}
	}

	TouchManager._oldArr=[];
	TouchManager._newArr=[];
	TouchManager._tEleArr=[];
	__static(TouchManager,
	['I',function(){return this.I=new TouchManager();}
	]);
	return TouchManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/Filter.as=======199.999267/199.999267
/**
*<code>Filter</code> 是滤镜基类。
*/
//class laya.filters.Filter
var Filter=(function(){
	function Filter(){
		/**@private */
		this._action=null;
	}

	__class(Filter,'laya.filters.Filter');
	var __proto=Filter.prototype;
	Laya.imps(__proto,{"laya.filters.IFilter":true})
	/**@private 滤镜类型。*/
	__getset(0,__proto,'type',function(){return-1});
	/**@private 滤镜动作。*/
	__getset(0,__proto,'action',function(){return this._action });
	Filter.BLUR=0x10;
	Filter.COLOR=0x20;
	Filter.GLOW=0x08;
	return Filter;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/ColorFilterAction.as=======199.999265/199.999265
/**
*@private
*<code>ColorFilterAction</code> 是一个颜色滤镜应用类。
*/
//class laya.filters.ColorFilterAction
var ColorFilterAction=(function(){
	function ColorFilterAction(){
		this.data=null;
	}

	__class(ColorFilterAction,'laya.filters.ColorFilterAction');
	var __proto=ColorFilterAction.prototype;
	Laya.imps(__proto,{"laya.filters.IFilterAction":true})
	/**
	*给指定的对象应用颜色滤镜。
	*@param srcCanvas 需要应用画布对象。
	*@return 应用了滤镜后的画布对象。
	*/
	__proto.apply=function(srcCanvas){
		var canvas=srcCanvas.canvas;
		var ctx=canvas.context;
		if (canvas.width==0 || canvas.height==0)return canvas;
		var imgdata=ctx.getImageData(0,0,canvas.width,canvas.height);
		var data=imgdata.data;
		var nData;
		for (var i=0,n=data.length;i < n;i+=4){
			nData=this.getColor(data[i],data[i+1],data[i+2],data[i+3]);
			if (data[i+3]==0)continue ;
			data[i]=nData[0];
			data[i+1]=nData[1];
			data[i+2]=nData[2];
			data[i+3]=nData[3];
		}
		ctx.putImageData(imgdata,0,0);
		return srcCanvas;
	}

	__proto.getColor=function(red,green,blue,alpha){
		var rst=[];
		if (this.data._mat && this.data._alpha){
			var mat=this.data._mat;
			var tempAlpha=this.data._alpha;
			rst[0]=mat[0] *red+mat[1] *green+mat[2] *blue+mat[3] *alpha+tempAlpha[0];
			rst[1]=mat[4] *red+mat[5] *green+mat[6] *blue+mat[7] *alpha+tempAlpha[1];
			rst[2]=mat[8] *red+mat[9] *green+mat[10] *blue+mat[11] *alpha+tempAlpha[2];
			rst[3]=mat[12] *red+mat[13] *green+mat[14] *blue+mat[15] *alpha+tempAlpha[3];
		}
		return rst;
	}

	return ColorFilterAction;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/webgl/FilterActionGL.as=======199.999258/199.999258
//class laya.filters.webgl.FilterActionGL
var FilterActionGL=(function(){
	function FilterActionGL(){}
	__class(FilterActionGL,'laya.filters.webgl.FilterActionGL');
	var __proto=FilterActionGL.prototype;
	Laya.imps(__proto,{"laya.filters.IFilterActionGL":true})
	__proto.setValue=function(shader){}
	__proto.setValueMix=function(shader){}
	__proto.apply3d=function(scope,sprite,context,x,y){return null;}
	__proto.apply=function(srcCanvas){return null;}
	__getset(0,__proto,'typeMix',function(){
		return 0;
	});

	return FilterActionGL;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/Arith.as=======199.999231/199.999231
/**
*@private
*/
//class laya.maths.Arith
var Arith=(function(){
	function Arith(){}
	__class(Arith,'laya.maths.Arith');
	Arith.formatR=function(r){
		if (r > Math.PI)r-=Math.PI *2;
		if (r <-Math.PI)r+=Math.PI *2;
		return r;
	}

	Arith.isPOT=function(w,h){
		return (w > 0 && (w & (w-1))===0 && h > 0 && (h & (h-1))===0);
	}

	Arith.setMatToArray=function(mat,array){
		mat.a,mat.b,0,0,mat.c,mat.d,0,0,0,0,1,0,mat.tx+20,mat.ty+20,0,1
		array[0]=mat.a;
		array[1]=mat.b;
		array[4]=mat.c;
		array[5]=mat.d;
		array[12]=mat.tx;
		array[13]=mat.ty;
	}

	return Arith;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/Bezier.as=======199.999230/199.999230
/**
*@private
*计算贝塞尔曲线的工具类。
*/
//class laya.maths.Bezier
var Bezier=(function(){
	function Bezier(){
		/**@private */
		this._controlPoints=[new Point(),new Point(),new Point()];
		this._calFun=this.getPoint2;
	}

	__class(Bezier,'laya.maths.Bezier');
	var __proto=Bezier.prototype;
	/**@private */
	__proto._switchPoint=function(x,y){
		var tPoint=this._controlPoints.shift();
		tPoint.setTo(x,y);
		this._controlPoints.push(tPoint);
	}

	/**
	*计算二次贝塞尔点。
	*/
	__proto.getPoint2=function(t,rst){
		var p1=this._controlPoints[0];
		var p2=this._controlPoints[1];
		var p3=this._controlPoints[2];
		var lineX=Math.pow((1-t),2)*p1.x+2 *t *(1-t)*p2.x+Math.pow(t,2)*p3.x;
		var lineY=Math.pow((1-t),2)*p1.y+2 *t *(1-t)*p2.y+Math.pow(t,2)*p3.y;
		rst.push(lineX,lineY);
	}

	/**
	*计算三次贝塞尔点
	*/
	__proto.getPoint3=function(t,rst){
		var p1=this._controlPoints[0];
		var p2=this._controlPoints[1];
		var p3=this._controlPoints[2];
		var p4=this._controlPoints[3];
		var lineX=Math.pow((1-t),3)*p1.x+3 *p2.x *t *(1-t)*(1-t)+3 *p3.x *t *t *(1-t)+p4.x *Math.pow(t,3);
		var lineY=Math.pow((1-t),3)*p1.y+3 *p2.y *t *(1-t)*(1-t)+3 *p3.y *t *t *(1-t)+p4.y *Math.pow(t,3);
		rst.push(lineX,lineY);
	}

	/**
	*计算贝塞尔点序列
	*/
	__proto.insertPoints=function(count,rst){
		var i=NaN;
		count=count > 0 ? count :5;
		var dLen=NaN;
		dLen=1 / count;
		for (i=0;i <=1;i+=dLen){
			this._calFun(i,rst);
		}
	}

	/**
	*获取贝塞尔曲线上的点。
	*@param pList 控制点[x0,y0,x1,y1...]
	*@param inSertCount 每次曲线的插值数量
	*/
	__proto.getBezierPoints=function(pList,inSertCount,count){
		(inSertCount===void 0)&& (inSertCount=5);
		(count===void 0)&& (count=2);
		var i=0,len=0;
		len=pList.length;
		if (len < (count+1)*2)return [];
		var rst=[];
		switch (count){
			case 2:
				this._calFun=this.getPoint2;
				break ;
			case 3:
				this._calFun=this.getPoint3;
				break ;
			default :
				return [];
			}
		while (this._controlPoints.length <=count){
			this._controlPoints.push(Point.create());
		}
		for (i=0;i < count *2;i+=2){
			this._switchPoint(pList[i],pList[i+1]);
		}
		for (i=count *2;i < len;i+=2){
			this._switchPoint(pList[i],pList[i+1]);
			if ((i / 2)% count==0)this.insertPoints(inSertCount,rst);
		}
		return rst;
	}

	__static(Bezier,
	['I',function(){return this.I=new Bezier();}
	]);
	return Bezier;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/GrahamScan.as=======199.999229/199.999229
/**
*@private
*凸包算法。
*/
//class laya.maths.GrahamScan
var GrahamScan=(function(){
	function GrahamScan(){}
	__class(GrahamScan,'laya.maths.GrahamScan');
	GrahamScan.multiply=function(p1,p2,p0){
		return ((p1.x-p0.x)*(p2.y-p0.y)-(p2.x-p0.x)*(p1.y-p0.y));
	}

	GrahamScan.dis=function(p1,p2){
		return (p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y);
	}

	GrahamScan._getPoints=function(count,tempUse,rst){
		(tempUse===void 0)&& (tempUse=false);
		if (!GrahamScan._mPointList)GrahamScan._mPointList=[];
		while (GrahamScan._mPointList.length < count)GrahamScan._mPointList.push(new Point());
		if (!rst)rst=[];
		rst.length=0;
		if (tempUse){
			GrahamScan.getFrom(rst,GrahamScan._mPointList,count);
			}else {
			GrahamScan.getFromR(rst,GrahamScan._mPointList,count);
		}
		return rst;
	}

	GrahamScan.getFrom=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src[i]);
		}
		return rst;
	}

	GrahamScan.getFromR=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src.pop());
		}
		return rst;
	}

	GrahamScan.pListToPointList=function(pList,tempUse){
		(tempUse===void 0)&& (tempUse=false);
		var i=0,len=pList.length / 2,rst=GrahamScan._getPoints(len,tempUse,GrahamScan._tempPointList);
		for (i=0;i < len;i++){
			rst[i].setTo(pList[i+i],pList[i+i+1]);
		}
		return rst;
	}

	GrahamScan.pointListToPlist=function(pointList){
		var i=0,len=pointList.length,rst=GrahamScan._temPList,tPoint;
		rst.length=0;
		for (i=0;i < len;i++){
			tPoint=pointList[i];
			rst.push(tPoint.x,tPoint.y);
		}
		return rst;
	}

	GrahamScan.scanPList=function(pList){
		return Utils.copyArray(pList,GrahamScan.pointListToPlist(GrahamScan.scan(GrahamScan.pListToPointList(pList,true))));
	}

	GrahamScan.scan=function(PointSet){
		var i=0,j=0,k=0,top=2,tmp,n=PointSet.length,ch;
		var _tmpDic={};
		var key;
		ch=GrahamScan._temArr;
		ch.length=0;
		n=PointSet.length;
		for (i=n-1;i >=0;i--){
			tmp=PointSet[i];
			key=tmp.x+"_"+tmp.y;
			if (!_tmpDic.hasOwnProperty(key)){
				_tmpDic[key]=true;
				ch.push(tmp);
			}
		}
		n=ch.length;
		Utils.copyArray(PointSet,ch);
		for (i=1;i < n;i++)
		if ((PointSet[i].y < PointSet[k].y)|| ((PointSet[i].y==PointSet[k].y)&& (PointSet[i].x < PointSet[k].x)))
			k=i;
		tmp=PointSet[0];
		PointSet[0]=PointSet[k];
		PointSet[k]=tmp;
		for (i=1;i < n-1;i++){
			k=i;
			for (j=i+1;j < n;j++)
			if ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])> 0)|| ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])==0)&& (GrahamScan.dis(PointSet[0],PointSet[j])< GrahamScan.dis(PointSet[0],PointSet[k]))))
				k=j;
			tmp=PointSet[i];
			PointSet[i]=PointSet[k];
			PointSet[k]=tmp;
		}
		ch=GrahamScan._temArr;
		ch.length=0;
		if (PointSet.length < 3){
			return Utils.copyArray(ch,PointSet);
		}
		ch.push(PointSet[0],PointSet[1],PointSet[2]);
		for (i=3;i < n;i++){
			while (ch.length >=2 && GrahamScan.multiply(PointSet[i],ch[ch.length-1],ch[ch.length-2])>=0)ch.pop();
			PointSet[i] && ch.push(PointSet[i]);
		}
		return ch;
	}

	GrahamScan._mPointList=null;
	GrahamScan._tempPointList=[];
	GrahamScan._temPList=[];
	GrahamScan._temArr=[];
	return GrahamScan;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/MathUtil.as=======199.999228/199.999228
/**
*@private
*<code>MathUtil</code> 是一个数据处理工具类。
*/
//class laya.maths.MathUtil
var MathUtil=(function(){
	function MathUtil(){}
	__class(MathUtil,'laya.maths.MathUtil');
	MathUtil.subtractVector3=function(l,r,o){
		o[0]=l[0]-r[0];
		o[1]=l[1]-r[1];
		o[2]=l[2]-r[2];
	}

	MathUtil.lerp=function(left,right,amount){
		return left *(1-amount)+right *amount;
	}

	MathUtil.scaleVector3=function(f,b,e){
		e[0]=f[0] *b;
		e[1]=f[1] *b;
		e[2]=f[2] *b;
	}

	MathUtil.lerpVector3=function(l,r,t,o){
		var ax=l[0],ay=l[1],az=l[2];
		o[0]=ax+t *(r[0]-ax);
		o[1]=ay+t *(r[1]-ay);
		o[2]=az+t *(r[2]-az);
	}

	MathUtil.lerpVector4=function(l,r,t,o){
		var ax=l[0],ay=l[1],az=l[2],aw=l[3];
		o[0]=ax+t *(r[0]-ax);
		o[1]=ay+t *(r[1]-ay);
		o[2]=az+t *(r[2]-az);
		o[3]=aw+t *(r[3]-aw);
	}

	MathUtil.slerpQuaternionArray=function(a,Offset1,b,Offset2,t,out,Offset3){
		var ax=a[Offset1+0],ay=a[Offset1+1],az=a[Offset1+2],aw=a[Offset1+3],bx=b[Offset2+0],by=b[Offset2+1],bz=b[Offset2+2],bw=b[Offset2+3];
		var omega,cosom,sinom,scale0,scale1;
		cosom=ax *bx+ay *by+az *bz+aw *bw;
		if (cosom < 0.0){
			cosom=-cosom;
			bx=-bx;
			by=-by;
			bz=-bz;
			bw=-bw;
		}
		if ((1.0-cosom)> 0.000001){
			omega=Math.acos(cosom);
			sinom=Math.sin(omega);
			scale0=Math.sin((1.0-t)*omega)/ sinom;
			scale1=Math.sin(t *omega)/ sinom;
			}else {
			scale0=1.0-t;
			scale1=t;
		}
		out[Offset3+0]=scale0 *ax+scale1 *bx;
		out[Offset3+1]=scale0 *ay+scale1 *by;
		out[Offset3+2]=scale0 *az+scale1 *bz;
		out[Offset3+3]=scale0 *aw+scale1 *bw;
		return out;
	}

	MathUtil.getRotation=function(x0,y0,x1,y1){
		return Math.atan2(y1-y0,x1-x0)/ Math.PI *180;
	}

	MathUtil.sortBigFirst=function(a,b){
		if (a==b)return 0;
		return b > a ? 1 :-1;
	}

	MathUtil.sortSmallFirst=function(a,b){
		if (a==b)return 0;
		return b > a ?-1 :1;
	}

	MathUtil.sortNumBigFirst=function(a,b){
		return parseFloat(b)-parseFloat(a);
	}

	MathUtil.sortNumSmallFirst=function(a,b){
		return parseFloat(a)-parseFloat(b);
	}

	MathUtil.sortByKey=function(key,bigFirst,forceNum){
		(bigFirst===void 0)&& (bigFirst=false);
		(forceNum===void 0)&& (forceNum=true);
		var _sortFun;
		if (bigFirst){
			_sortFun=forceNum ? MathUtil.sortNumBigFirst :MathUtil.sortBigFirst;
			}else {
			_sortFun=forceNum ? MathUtil.sortNumSmallFirst :MathUtil.sortSmallFirst;
		}
		return function (a,b){
			return _sortFun(a[key],b[key]);
		}
	}

	return MathUtil;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/Matrix.as=======199.999227/199.999227
/**
*<p> <code>Matrix</code> 类表示一个转换矩阵，它确定如何将点从一个坐标空间映射到另一个坐标空间。</p>
*<p>您可以对一个显示对象执行不同的图形转换，方法是设置 Matrix 对象的属性，将该 Matrix 对象应用于 Transform 对象的 matrix 属性，然后应用该 Transform 对象作为显示对象的 transform 属性。这些转换函数包括平移（x 和 y 重新定位）、旋转、缩放和倾斜。</p>
*/
//class laya.maths.Matrix
var Matrix=(function(){
	function Matrix(a,b,c,d,tx,ty,nums){
		/**缩放或旋转图像时影响像素沿 x 轴定位的值。*/
		//this.a=NaN;
		/**旋转或倾斜图像时影响像素沿 y 轴定位的值。*/
		//this.b=NaN;
		/**旋转或倾斜图像时影响像素沿 x 轴定位的值。*/
		//this.c=NaN;
		/**缩放或旋转图像时影响像素沿 y 轴定位的值。*/
		//this.d=NaN;
		/**沿 x 轴平移每个点的距离。*/
		//this.tx=NaN;
		/**沿 y 轴平移每个点的距离。*/
		//this.ty=NaN;
		/**@private 是否有旋转缩放操作*/
		this._bTransform=false;
		(a===void 0)&& (a=1);
		(b===void 0)&& (b=0);
		(c===void 0)&& (c=0);
		(d===void 0)&& (d=1);
		(tx===void 0)&& (tx=0);
		(ty===void 0)&& (ty=0);
		(nums===void 0)&& (nums=0);
		if (Matrix._createFun!=null){
			return Matrix._createFun(a,b,c,d,tx,ty,nums);
		}
		this.a=a;
		this.b=b;
		this.c=c;
		this.d=d;
		this.tx=tx;
		this.ty=ty;
		this._checkTransform();
	}

	__class(Matrix,'laya.maths.Matrix');
	var __proto=Matrix.prototype;
	/**
	*将本矩阵设置为单位矩阵。
	*@return 返回当前矩形。
	*/
	__proto.identity=function(){
		this.a=this.d=1;
		this.b=this.tx=this.ty=this.c=0;
		this._bTransform=false;
		return this;
	}

	/**@private */
	__proto._checkTransform=function(){
		return this._bTransform=(this.a!==1 || this.b!==0 || this.c!==0 || this.d!==1);
	}

	/**
	*设置沿 x 、y 轴平移每个点的距离。
	*@param x 沿 x 轴平移每个点的距离。
	*@param y 沿 y 轴平移每个点的距离。
	*@return 返回对象本身
	*/
	__proto.setTranslate=function(x,y){
		this.tx=x;
		this.ty=y;
		return this;
	}

	/**
	*沿 x 和 y 轴平移矩阵，平移的变化量由 x 和 y 参数指定。
	*@param x 沿 x 轴向右移动的量（以像素为单位）。
	*@param y 沿 y 轴向下移动的量（以像素为单位）。
	*@return 返回此矩形对象。
	*/
	__proto.translate=function(x,y){
		this.tx+=x;
		this.ty+=y;
		return this;
	}

	/**
	*对矩阵应用缩放转换。
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*@return 返回矩阵对象本身
	*/
	__proto.scale=function(x,y){
		this.a *=x;
		this.d *=y;
		this.c *=x;
		this.b *=y;
		this.tx *=x;
		this.ty *=y;
		this._bTransform=true;
		return this;
	}

	/**
	*对 Matrix 对象应用旋转转换。
	*@param angle 以弧度为单位的旋转角度。
	*@return 返回矩阵对象本身
	*/
	__proto.rotate=function(angle){
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var a1=this.a;
		var c1=this.c;
		var tx1=this.tx;
		this.a=a1 *cos-this.b *sin;
		this.b=a1 *sin+this.b *cos;
		this.c=c1 *cos-this.d *sin;
		this.d=c1 *sin+this.d *cos;
		this.tx=tx1 *cos-this.ty *sin;
		this.ty=tx1 *sin+this.ty *cos;
		this._bTransform=true;
		return this;
	}

	/**
	*对 Matrix 对象应用倾斜转换。
	*@param x 沿着 X 轴的 2D 倾斜弧度。
	*@param y 沿着 Y 轴的 2D 倾斜弧度。
	*@return 当前 Matrix 对象。
	*/
	__proto.skew=function(x,y){
		var tanX=Math.tan(x);
		var tanY=Math.tan(y);
		var a1=this.a;
		var b1=this.b;
		this.a+=tanY *this.c;
		this.b+=tanY *this.d;
		this.c+=tanX *a1;
		this.d+=tanX *b1;
		return this;
	}

	/**
	*对指定的点应用当前矩阵的逆转化并返回此点。
	*@param out 待转化的点 Point 对象。
	*@return 返回out
	*/
	__proto.invertTransformPoint=function(out){
		var a1=this.a;
		var b1=this.b;
		var c1=this.c;
		var d1=this.d;
		var tx1=this.tx;
		var n=a1 *d1-b1 *c1;
		var a2=d1 / n;
		var b2=-b1 / n;
		var c2=-c1 / n;
		var d2=a1 / n;
		var tx2=(c1 *this.ty-d1 *tx1)/ n;
		var ty2=-(a1 *this.ty-b1 *tx1)/ n;
		return out.setTo(a2 *out.x+c2 *out.y+tx2,b2 *out.x+d2 *out.y+ty2);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPoint=function(out){
		return out.setTo(this.a *out.x+this.c *out.y+this.tx,this.b *out.x+this.d *out.y+this.ty);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点，忽略tx、ty。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPointN=function(out){
		return out.setTo(this.a *out.x+this.c *out.y ,this.b *out.x+this.d *out.y);
	}

	/**
	*@private
	*将 Matrix 对象表示的几何转换应用于指定点。
	*@param data 点集合。
	*@param out 存储应用转化的点的列表。
	*@return 返回out数组
	*/
	__proto.transformPointArray=function(data,out){
		var len=data.length;
		for (var i=0;i < len;i+=2){
			var x=data[i],y=data[i+1];
			out[i]=this.a *x+this.c *y+this.tx;
			out[i+1]=this.b *x+this.d *y+this.ty;
		}
		return out;
	}

	/**
	*获取 X 轴缩放值。
	*@return X 轴缩放值。
	*/
	__proto.getScaleX=function(){
		return this.b===0 ? this.a :Math.sqrt(this.a *this.a+this.b *this.b);
	}

	/**
	*获取 Y 轴缩放值。
	*@return Y 轴缩放值。
	*/
	__proto.getScaleY=function(){
		return this.c===0 ? this.d :Math.sqrt(this.c *this.c+this.d *this.d);
	}

	/**
	*执行原始矩阵的逆转换。
	*@return 当前矩阵对象。
	*/
	__proto.invert=function(){
		var a1=this.a;
		var b1=this.b;
		var c1=this.c;
		var d1=this.d;
		var tx1=this.tx;
		var n=a1 *d1-b1 *c1;
		this.a=d1 / n;
		this.b=-b1 / n;
		this.c=-c1 / n;
		this.d=a1 / n;
		this.tx=(c1 *this.ty-d1 *tx1)/ n;
		this.ty=-(a1 *this.ty-b1 *tx1)/ n;
		return this;
	}

	/**
	*将 Matrix 的成员设置为指定值。
	*@param a 缩放或旋转图像时影响像素沿 x 轴定位的值。
	*@param b 旋转或倾斜图像时影响像素沿 y 轴定位的值。
	*@param c 旋转或倾斜图像时影响像素沿 x 轴定位的值。
	*@param d 缩放或旋转图像时影响像素沿 y 轴定位的值。
	*@param tx 沿 x 轴平移每个点的距离。
	*@param ty 沿 y 轴平移每个点的距离。
	*@return 当前矩阵对象。
	*/
	__proto.setTo=function(a,b,c,d,tx,ty){
		this.a=a,this.b=b,this.c=c,this.d=d,this.tx=tx,this.ty=ty;
		return this;
	}

	/**
	*将指定矩阵与当前矩阵连接，从而将这两个矩阵的几何效果有效地结合在一起。
	*@param matrix 要连接到源矩阵的矩阵。
	*@return 当前矩阵。
	*/
	__proto.concat=function(matrix){
		var a=this.a;
		var c=this.c;
		var tx=this.tx;
		this.a=a *matrix.a+this.b *matrix.c;
		this.b=a *matrix.b+this.b *matrix.d;
		this.c=c *matrix.a+this.d *matrix.c;
		this.d=c *matrix.b+this.d *matrix.d;
		this.tx=tx *matrix.a+this.ty *matrix.c+matrix.tx;
		this.ty=tx *matrix.b+this.ty *matrix.d+matrix.ty;
		return this;
	}

	/**
	*@private
	*对矩阵应用缩放转换。反向相乘
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*/
	__proto.scaleEx=function(x,y){
		var ba=this.a,bb=this.b,bc=this.c,bd=this.d;
		if (bb!==0 || bc!==0){
			this.a=x *ba;
			this.b=x *bb;
			this.c=y *bc;
			this.d=y *bd;
			}else {
			this.a=x *ba;
			this.b=0 *bd;
			this.c=0 *ba;
			this.d=y *bd;
		}
		this._bTransform=true;
	}

	/**
	*@private
	*对 Matrix 对象应用旋转转换。反向相乘
	*@param angle 以弧度为单位的旋转角度。
	*/
	__proto.rotateEx=function(angle){
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var ba=this.a,bb=this.b,bc=this.c,bd=this.d;
		if (bb!==0 || bc!==0){
			this.a=cos *ba+sin *bc;
			this.b=cos *bb+sin *bd;
			this.c=-sin *ba+cos *bc;
			this.d=-sin *bb+cos *bd;
			}else {
			this.a=cos *ba;
			this.b=sin *bd;
			this.c=-sin *ba;
			this.d=cos *bd;
		}
		this._bTransform=true;
	}

	/**
	*返回此 Matrix 对象的副本。
	*@return 与原始实例具有完全相同的属性的新 Matrix 实例。
	*/
	__proto.clone=function(){
		var dec=Matrix.create();
		dec.a=this.a;
		dec.b=this.b;
		dec.c=this.c;
		dec.d=this.d;
		dec.tx=this.tx;
		dec.ty=this.ty;
		dec._bTransform=this._bTransform;
		return dec;
	}

	/**
	*将当前 Matrix 对象中的所有矩阵数据复制到指定的 Matrix 对象中。
	*@param dec 要复制当前矩阵数据的 Matrix 对象。
	*@return 已复制当前矩阵数据的 Matrix 对象。
	*/
	__proto.copyTo=function(dec){
		dec.a=this.a;
		dec.b=this.b;
		dec.c=this.c;
		dec.d=this.d;
		dec.tx=this.tx;
		dec.ty=this.ty;
		dec._bTransform=this._bTransform;
		return dec;
	}

	/**
	*返回列出该 Matrix 对象属性的文本值。
	*@return 一个字符串，它包含 Matrix 对象的属性值：a、b、c、d、tx 和 ty。
	*/
	__proto.toString=function(){
		return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty;
	}

	/**
	*销毁此对象。
	*/
	__proto.destroy=function(){
		this.recover();
	}

	/**
	*回收到对象池，方便复用
	*/
	__proto.recover=function(){
		Pool.recover("Matrix",this.identity());
	}

	Matrix.mul=function(m1,m2,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		var ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.mul16=function(m1,m2,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		var ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;
		if (bb!==0 || bc!==0){
			out[0]=aa *ba+ab *bc;
			out[1]=aa *bb+ab *bd;
			out[4]=ac *ba+ad *bc;
			out[5]=ac *bb+ad *bd;
			out[12]=ba *atx+bc *aty+btx;
			out[13]=bb *atx+bd *aty+bty;
			}else {
			out[0]=aa *ba;
			out[1]=ab *bd;
			out[4]=ac *ba;
			out[5]=ad *bd;
			out[12]=ba *atx+btx;
			out[13]=bd *aty+bty;
		}
		return out;
	}

	Matrix.mulPre=function(m1,ba,bb,bc,bd,btx,bty,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.mulPos=function(m1,aa,ab,ac,ad,atx,aty,out){
		var ba=m1.a,bb=m1.b,bc=m1.c,bd=m1.d,btx=m1.tx,bty=m1.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.preMul=function(parent,self,out){
		var pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;
		var na=self.a,nb=self.b,nc=self.c,nd=self.d,ntx=self.tx,nty=self.ty;
		out.a=na *pa;
		out.b=out.c=0;
		out.d=nd *pd;
		out.tx=ntx *pa+parent.tx;
		out.ty=nty *pd+parent.ty;
		if (nb!==0 || nc!==0 || pb!==0 || pc!==0){
			out.a+=nb *pc;
			out.d+=nc *pb;
			out.b+=na *pb+nb *pd;
			out.c+=nc *pa+nd *pc;
			out.tx+=nty *pc;
			out.ty+=ntx *pb;
		}
		return out;
	}

	Matrix.preMulXY=function(parent,x,y,out){
		var pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;
		out.a=pa;
		out.b=pb;
		out.c=pc;
		out.d=pd;
		out.tx=x *pa+parent.tx+y *pc;
		out.ty=y *pd+parent.ty+x *pb;
		return out;
	}

	Matrix.create=function(){
		return Pool.getItemByClass("Matrix",Matrix);
	}

	Matrix.EMPTY=new Matrix();
	Matrix.TEMP=new Matrix();
	Matrix._createFun=null;
	return Matrix;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/Point.as=======199.999226/199.999226
/**
*<code>Point</code> 对象表示二维坐标系统中的某个位置，其中 x 表示水平轴，y 表示垂直轴。
*/
//class laya.maths.Point
var Point=(function(){
	function Point(x,y){
		/**该点的水平坐标。*/
		//this.x=NaN;
		/**该点的垂直坐标。*/
		//this.y=NaN;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		this.x=x;
		this.y=y;
	}

	__class(Point,'laya.maths.Point');
	var __proto=Point.prototype;
	/**
	*将 <code>Point</code> 的成员设置为指定值。
	*@param x 水平坐标。
	*@param y 垂直坐标。
	*@return 当前 Point 对象。
	*/
	__proto.setTo=function(x,y){
		this.x=x;
		this.y=y;
		return this;
	}

	/**
	*重置
	*/
	__proto.reset=function(){
		this.x=this.y=0;
		return this;
	}

	/**
	*回收到对象池，方便复用
	*/
	__proto.recover=function(){
		Pool.recover("Point",this.reset());
	}

	/**
	*计算当前点和目标点(x，y)的距离。
	*@param x 水平坐标。
	*@param y 垂直坐标。
	*@return 返回当前点和目标点之间的距离。
	*/
	__proto.distance=function(x,y){
		return Math.sqrt((this.x-x)*(this.x-x)+(this.y-y)*(this.y-y));
	}

	/**返回包含 x 和 y 坐标的值的字符串。*/
	__proto.toString=function(){
		return this.x+","+this.y;
	}

	/**
	*标准化向量。
	*/
	__proto.normalize=function(){
		var d=Math.sqrt(this.x *this.x+this.y *this.y);
		if (d > 0){
			var id=1.0 / d;
			this.x *=id;
			this.y *=id;
		}
	}

	/**
	*copy point坐标
	*@param point 需要被copy的point
	*/
	__proto.copy=function(point){
		return this.setTo(point.x,point.y);
	}

	Point.create=function(){
		return Pool.getItemByClass("Point",Point);
	}

	Point.TEMP=new Point();
	Point.EMPTY=new Point();
	return Point;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/maths/Rectangle.as=======199.999225/199.999225
/**
*<p><code>Rectangle</code> 对象是按其位置（由它左上角的点 (x,y)确定）以及宽度和高度定义的区域。</p>
*<p>Rectangle 类的 x、y、width 和 height 属性相互独立；更改一个属性的值不会影响其他属性。</p>
*/
//class laya.maths.Rectangle
var Rectangle=(function(){
	function Rectangle(x,y,width,height){
		/**矩形左上角的 X 轴坐标。*/
		//this.x=NaN;
		/**矩形左上角的 Y 轴坐标。*/
		//this.y=NaN;
		/**矩形的宽度。*/
		//this.width=NaN;
		/**矩形的高度。*/
		//this.height=NaN;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
	}

	__class(Rectangle,'laya.maths.Rectangle');
	var __proto=Rectangle.prototype;
	/**
	*将 Rectangle 的属性设置为指定值。
	*@param x x 矩形左上角的 X 轴坐标。
	*@param y x 矩形左上角的 Y 轴坐标。
	*@param width 矩形的宽度。
	*@param height 矩形的高。
	*@return 返回属性值修改后的矩形对象本身。
	*/
	__proto.setTo=function(x,y,width,height){
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
		return this;
	}

	/**
	*重置
	*/
	__proto.reset=function(){
		this.x=this.y=this.width=this.height=0;
		return this;
	}

	/**
	*回收
	*/
	__proto.recover=function(){
		Pool.recover("Rectangle",this.reset());
	}

	/**
	*复制 source 对象的属性值到此矩形对象中。
	*@param sourceRect 源 Rectangle 对象。
	*@return 返回属性值修改后的矩形对象本身。
	*/
	__proto.copyFrom=function(source){
		this.x=source.x;
		this.y=source.y;
		this.width=source.width;
		this.height=source.height;
		return this;
	}

	/**
	*确定由此 Rectangle 对象定义的矩形区域内是否包含指定的点。
	*@param x 点的 X 轴坐标值（水平位置）。
	*@param y 点的 Y 轴坐标值（垂直位置）。
	*@return 如果 Rectangle 对象包含指定的点，则值为 true；否则为 false。
	*/
	__proto.contains=function(x,y){
		if (this.width <=0 || this.height <=0)return false;
		if (x >=this.x && x < this.right){
			if (y >=this.y && y < this.bottom){
				return true;
			}
		}
		return false;
	}

	/**
	*确定在 rect 参数中指定的对象是否与此 Rectangle 对象相交。此方法检查指定的 Rectangle 对象的 x、y、width 和 height 属性，以查看它是否与此 Rectangle 对象相交。
	*@param rect Rectangle 对象。
	*@return 如果传入的矩形对象与此对象相交，则返回 true 值，否则返回 false。
	*/
	__proto.intersects=function(rect){
		return !(rect.x > (this.x+this.width)|| (rect.x+rect.width)< this.x || rect.y > (this.y+this.height)|| (rect.y+rect.height)< this.y);
	}

	/**
	*如果在 rect 参数中指定的 Rectangle 对象与此 Rectangle 对象相交，则返回交集区域作为 Rectangle 对象。如果矩形不相交，则此方法返回null。
	*@param rect 待比较的矩形区域。
	*@param out （可选）待输出的矩形区域。如果为空则创建一个新的。建议：尽量复用对象，减少对象创建消耗。
	*@return 返回相交的矩形区域对象。
	*/
	__proto.intersection=function(rect,out){
		if (!this.intersects(rect))return null;
		out || (out=new Rectangle());
		out.x=Math.max(this.x,rect.x);
		out.y=Math.max(this.y,rect.y);
		out.width=Math.min(this.right,rect.right)-out.x;
		out.height=Math.min(this.bottom,rect.bottom)-out.y;
		return out;
	}

	/**
	*<p>矩形联合，通过填充两个矩形之间的水平和垂直空间，将这两个矩形组合在一起以创建一个新的 Rectangle 对象。</p>
	*<p>注意：union()方法忽略高度或宽度值为 0 的矩形，如：var rect2:Rectangle=new Rectangle(300,300,50,0);</p>
	*@param 要添加到此 Rectangle 对象的 Rectangle 对象。
	*@param out 用于存储输出结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。Rectangle.TEMP对象用于对象复用。
	*@return 充当两个矩形的联合的新 Rectangle 对象。
	*/
	__proto.union=function(source,out){
		out || (out=new Rectangle());
		this.clone(out);
		if (source.width <=0 || source.height <=0)return out;
		out.addPoint(source.x,source.y);
		out.addPoint(source.right,source.bottom);
		return this;
	}

	/**
	*返回一个 Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。
	*@param out （可选）用于存储结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。。Rectangle.TEMP对象用于对象复用。
	*@return Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。
	*/
	__proto.clone=function(out){
		out || (out=new Rectangle());
		out.x=this.x;
		out.y=this.y;
		out.width=this.width;
		out.height=this.height;
		return out;
	}

	/**
	*当前 Rectangle 对象的水平位置 x 和垂直位置 y 以及高度 width 和宽度 height 以逗号连接成的字符串。
	*/
	__proto.toString=function(){
		return this.x+","+this.y+","+this.width+","+this.height;
	}

	/**
	*检测传入的 Rectangle 对象的属性是否与当前 Rectangle 对象的属性 x、y、width、height 属性值都相等。
	*@param rect 待比较的 Rectangle 对象。
	*@return 如果判断的属性都相等，则返回 true ,否则返回 false。
	*/
	__proto.equals=function(rect){
		if (!rect || rect.x!==this.x || rect.y!==this.y || rect.width!==this.width || rect.height!==this.height)return false;
		return true;
	}

	/**
	*<p>为当前矩形对象加一个点，以使当前矩形扩展为包含当前矩形和此点的最小矩形。</p>
	*<p>此方法会修改本对象。</p>
	*@param x 点的 X 坐标。
	*@param y 点的 Y 坐标。
	*@return 返回此 Rectangle 对象。
	*/
	__proto.addPoint=function(x,y){
		this.x > x && (this.width+=this.x-x,this.x=x);
		this.y > y && (this.height+=this.y-y,this.y=y);
		if (this.width < x-this.x)this.width=x-this.x;
		if (this.height < y-this.y)this.height=y-this.y;
		return this;
	}

	/**
	*@private
	*返回代表当前矩形的顶点数据。
	*@return 顶点数据。
	*/
	__proto._getBoundPoints=function(){
		var rst=Rectangle._temB;
		rst.length=0;
		if (this.width==0 || this.height==0)return rst;
		rst.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height);
		return rst;
	}

	/**
	*确定此 Rectangle 对象是否为空。
	*@return 如果 Rectangle 对象的宽度或高度小于等于 0，则返回 true 值，否则返回 false。
	*/
	__proto.isEmpty=function(){
		if (this.width <=0 || this.height <=0)return true;
		return false;
	}

	/**此矩形右侧的 X 轴坐标。 x 和 width 属性的和。*/
	__getset(0,__proto,'right',function(){
		return this.x+this.width;
	});

	/**此矩形底端的 Y 轴坐标。y 和 height 属性的和。*/
	__getset(0,__proto,'bottom',function(){
		return this.y+this.height;
	});

	Rectangle.create=function(){
		return Pool.getItemByClass("Rectangle",Rectangle);
	}

	Rectangle._getBoundPointS=function(x,y,width,height){
		var rst=Rectangle._temA;
		rst.length=0;
		if (width==0 || height==0)return rst;
		rst.push(x,y,x+width,y,x,y+height,x+width,y+height);
		return rst;
	}

	Rectangle._getWrapRec=function(pointList,rst){
		if (!pointList || pointList.length < 1)return rst ? rst.setTo(0,0,0,0):Rectangle.TEMP.setTo(0,0,0,0);
		rst=rst ? rst :laya.maths.Rectangle.create();
		var i,len=pointList.length,minX,maxX,minY,maxY,tPoint=Point.TEMP;
		minX=minY=99999;
		maxX=maxY=-minX;
		for (i=0;i < len;i+=2){
			tPoint.x=pointList[i];
			tPoint.y=pointList[i+1];
			minX=minX < tPoint.x ? minX :tPoint.x;
			minY=minY < tPoint.y ? minY :tPoint.y;
			maxX=maxX > tPoint.x ? maxX :tPoint.x;
			maxY=maxY > tPoint.y ? maxY :tPoint.y;
		}
		return rst.setTo(minX,minY,maxX-minX,maxY-minY);
	}

	Rectangle.EMPTY=new Rectangle();
	Rectangle.TEMP=new Rectangle();
	Rectangle._temB=[];
	Rectangle._temA=[];
	return Rectangle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/SoundManager.as=======199.999220/199.999220
/**
*<code>SoundManager</code> 是一个声音管理类。提供了对背景音乐、音效的播放控制方法。
*引擎默认有两套声音方案：WebAudio和H5Audio
*播放音效，优先使用WebAudio播放声音，如果WebAudio不可用，则用H5Audio播放，H5Audio在部分机器上有兼容问题（比如不能混音，播放有延迟等）。
*播放背景音乐，则使用H5Audio播放（使用WebAudio会增加特别大的内存，并且要等加载完毕后才能播放，有延迟）
*建议背景音乐用mp3类型，音效用wav或者mp3类型（如果打包为app，音效只能用wav格式）。
*详细教程及声音格式请参考：http://ldc.layabox.com/doc/?nav=ch-as-1-7-0
*/
//class laya.media.SoundManager
var SoundManager=(function(){
	function SoundManager(){}
	__class(SoundManager,'laya.media.SoundManager');
	/**
	*失去焦点后是否自动停止背景音乐。
	*/
	__getset(1,SoundManager,'autoStopMusic',function(){
		return SoundManager._autoStopMusic;
		},function(v){
		Laya.stage.off("blur",null,SoundManager._stageOnBlur);
		Laya.stage.off("focus",null,SoundManager._stageOnFocus);
		Laya.stage.off("visibilitychange",null,SoundManager._visibilityChange);
		SoundManager._autoStopMusic=v;
		if (v){
			Laya.stage.on("blur",null,SoundManager._stageOnBlur);
			Laya.stage.on("focus",null,SoundManager._stageOnFocus);
			Laya.stage.on("visibilitychange",null,SoundManager._visibilityChange);
		}
	});

	/**
	*背景音乐和所有音效是否静音。
	*/
	__getset(1,SoundManager,'muted',function(){
		return SoundManager._muted;
		},function(value){
		if (value)SoundManager.stopAllSound();
		SoundManager.musicMuted=value;
		SoundManager._muted=value;
	});

	/**
	*背景音乐（不包括音效）是否静音。
	*/
	__getset(1,SoundManager,'musicMuted',function(){
		return SoundManager._musicMuted;
		},function(value){
		if (value){
			if (SoundManager._bgMusic)SoundManager.stopSound(SoundManager._bgMusic);
			SoundManager._musicMuted=value;
			}else {
			SoundManager._musicMuted=value;
			if (SoundManager._bgMusic)SoundManager.playMusic(SoundManager._bgMusic);
		}
	});

	/**
	*所有音效（不包括背景音乐）是否静音。
	*/
	__getset(1,SoundManager,'soundMuted',function(){
		return SoundManager._soundMuted;
		},function(value){
		SoundManager._soundMuted=value;
	});

	SoundManager.__init__=function(){
		var win=Browser.window;
		var supportWebAudio=win["AudioContext"] || win["webkitAudioContext"] || win["mozAudioContext"] ? true :false;
		if (supportWebAudio)WebAudioSound.initWebAudio();
		SoundManager._soundClass=supportWebAudio?WebAudioSound:AudioSound;
		return supportWebAudio;
	}

	SoundManager.addChannel=function(channel){
		if (SoundManager._channels.indexOf(channel)>=0)return;
		SoundManager._channels.push(channel);
	}

	SoundManager.removeChannel=function(channel){
		for (var i=SoundManager._channels.length-1;i >=0;i--){
			if (SoundManager._channels[i]===channel){
				SoundManager._channels.splice(i,1);
				return;
			}
		}
	}

	SoundManager._visibilityChange=function(){
		if (Laya.stage.isVisibility)SoundManager._stageOnFocus();
		else SoundManager._stageOnBlur();
	}

	SoundManager._stageOnBlur=function(){
		SoundManager._isActive=false;
		if (SoundManager._musicChannel){
			if (!SoundManager._musicChannel.isStopped){
				SoundManager._blurPaused=true;
				SoundManager._musicLoops=SoundManager._musicChannel.loops;
				SoundManager._musicCompleteHandler=SoundManager._musicChannel.completeHandler;
				SoundManager._musicPosition=SoundManager._musicChannel.position;
				SoundManager._musicChannel.stop();
				Laya.stage.once("mousedown",null,SoundManager._stageOnFocus);
			}
		}
		SoundManager.stopAllSound();
	}

	SoundManager._stageOnFocus=function(){
		SoundManager._isActive=true;
		Laya.stage.off("mousedown",null,SoundManager._stageOnFocus);
		if (SoundManager._blurPaused){
			if (SoundManager._bgMusic)SoundManager.playMusic(SoundManager._bgMusic,SoundManager._musicLoops,SoundManager._musicCompleteHandler,SoundManager._musicPosition);
			SoundManager._blurPaused=false;
		}
	}

	SoundManager.playSound=function(url,loops,complete,soundClass,startTime){
		(loops===void 0)&& (loops=1);
		(startTime===void 0)&& (startTime=0);
		if (!SoundManager._isActive)return null;
		if (SoundManager._muted)return null;
		url=URL.formatURL(url);
		if (url===SoundManager._bgMusic){
			if (SoundManager._musicMuted)return null;
			}else {
			if (Render.isConchApp){
				var ext=Utils.getFileExtension(url);
				if (ext !="wav" && ext !="ogg"){
					return null;
				}
			}
			if (SoundManager._soundMuted)return null;
		};
		var tSound=Laya.loader.getRes(url);
		if (!soundClass)soundClass=SoundManager._soundClass;
		if (!tSound){
			tSound=new soundClass();
			tSound.load(url);
			Loader.cacheRes(url,tSound);
		};
		var channel;
		channel=tSound.play(startTime,loops);
		channel.url=url;
		channel.volume=(url===SoundManager._bgMusic)? SoundManager.musicVolume :SoundManager.soundVolume;
		channel.completeHandler=complete;
		return channel;
	}

	SoundManager.destroySound=function(url){
		var tSound=Laya.loader.getRes(url);
		if (tSound){
			Loader.clearRes(url);
			tSound.dispose();
		}
	}

	SoundManager.playMusic=function(url,loops,complete,startTime){
		(loops===void 0)&& (loops=0);
		(startTime===void 0)&& (startTime=0);
		url=URL.formatURL(url);
		SoundManager._bgMusic=url;
		if (SoundManager._musicChannel)SoundManager._musicChannel.stop();
		return SoundManager._musicChannel=SoundManager.playSound(url,loops,complete,null,startTime);
	}

	SoundManager.stopSound=function(url){
		url=URL.formatURL(url);
		var channel;
		for (var i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url===url){
				channel.stop();
			}
		}
	}

	SoundManager.stopAll=function(){
		SoundManager._bgMusic=null;
		var channel;
		for (var i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			channel.stop();
		}
	}

	SoundManager.stopAllSound=function(){
		var channel;
		for (var i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url!==SoundManager._bgMusic){
				channel.stop();
			}
		}
	}

	SoundManager.stopMusic=function(){
		SoundManager._bgMusic=null;
		if (SoundManager._musicChannel)SoundManager._musicChannel.stop();
	}

	SoundManager.setSoundVolume=function(volume,url){
		if (url){
			url=URL.formatURL(url);
			SoundManager._setVolume(url,volume);
			}else {
			SoundManager.soundVolume=volume;
			var channel;
			for (var i=SoundManager._channels.length-1;i >=0;i--){
				channel=SoundManager._channels[i];
				if (channel.url!==SoundManager._bgMusic){
					channel.volume=volume;
				}
			}
		}
	}

	SoundManager.setMusicVolume=function(volume){
		SoundManager.musicVolume=volume;
		SoundManager._setVolume(SoundManager._bgMusic,volume);
	}

	SoundManager._setVolume=function(url,volume){
		url=URL.formatURL(url);
		var channel;
		for (var i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url===url){
				channel.volume=volume;
			}
		}
	}

	SoundManager.musicVolume=1;
	SoundManager.soundVolume=1;
	SoundManager.playbackRate=1;
	SoundManager._muted=false;
	SoundManager._soundMuted=false;
	SoundManager._musicMuted=false;
	SoundManager._bgMusic=null;
	SoundManager._musicChannel=null;
	SoundManager._channels=[];
	SoundManager._autoStopMusic=false;
	SoundManager._blurPaused=false;
	SoundManager._isActive=true;
	SoundManager._musicLoops=0;
	SoundManager._musicPosition=0;
	SoundManager._musicCompleteHandler=null;
	SoundManager._soundClass=null;
	return SoundManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/AtlasInfoManager.as=======199.999216/199.999216
/**
*@private
*/
//class laya.net.AtlasInfoManager
var AtlasInfoManager=(function(){
	function AtlasInfoManager(){}
	__class(AtlasInfoManager,'laya.net.AtlasInfoManager');
	AtlasInfoManager.enable=function(infoFile,callback){
		Laya.loader.load(infoFile,Handler.create(null,AtlasInfoManager._onInfoLoaded,[callback]),null,"json");
	}

	AtlasInfoManager._onInfoLoaded=function(callback,data){
		var tKey;
		var tPrefix;
		var tArr;
		var i=0,len=0;
		for (tKey in data){
			tArr=data[tKey];
			tPrefix=tArr[0];
			tArr=tArr[1];
			len=tArr.length;
			for (i=0;i < len;i++){
				AtlasInfoManager._fileLoadDic[tPrefix+tArr[i]]=tKey;
			}
		}
		callback && callback.run();
	}

	AtlasInfoManager.getFileLoadPath=function(file){
		return AtlasInfoManager._fileLoadDic[file] || file;
	}

	AtlasInfoManager._fileLoadDic={};
	return AtlasInfoManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/LocalStorage.as=======199.999213/199.999213
/**
*<p> <code>LocalStorage</code> 类用于没有时间限制的本地数据存储。</p>
*/
//class laya.net.LocalStorage
var LocalStorage=(function(){
	function LocalStorage(){}
	__class(LocalStorage,'laya.net.LocalStorage');
	LocalStorage.__init__=function(){
		var window=Browser.window;
		if (window.localStorage){
			try {
				LocalStorage.items=window.localStorage;
				LocalStorage.setItem('laya','1');
				LocalStorage.removeItem('laya');
				LocalStorage.support=true;
			}catch (e){}
		}
		if (!LocalStorage.support)console.warn('LocalStorage is not supprot or browser is private mode.');
		return LocalStorage.support;
	}

	LocalStorage.setItem=function(key,value){
		try {
			LocalStorage.support && LocalStorage.items.setItem(key,value);
			}catch (e){
			console.warn("set localStorage failed",e);
		}
	}

	LocalStorage.getItem=function(key){
		return LocalStorage.support ? LocalStorage.items.getItem(key):null;
	}

	LocalStorage.setJSON=function(key,value){
		try {
			LocalStorage.support && LocalStorage.items.setItem(key,JSON.stringify(value));
			}catch (e){
			console.log("set localStorage failed",e);
		}
	}

	LocalStorage.getJSON=function(key){
		return LocalStorage.support ? JSON.parse(LocalStorage.items.getItem(key)):null;
	}

	LocalStorage.removeItem=function(key){
		LocalStorage.support && LocalStorage.items.removeItem(key);
	}

	LocalStorage.clear=function(){
		LocalStorage.support && LocalStorage.items.clear();
	}

	LocalStorage.items=null;
	LocalStorage.support=false;
	return LocalStorage;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/URL.as=======199.999210/199.999210
/**
*<p><code>URL</code> 提供URL格式化，URL版本管理的类。</p>
*<p>引擎加载资源的时候，会自动调用formatURL函数格式化URL路径</p>
*<p>通过basePath属性可以设置网络基础路径</p>
*<p>通过设置customFormat函数，可以自定义URL格式化的方式</p>
*<p>除了默认的通过增加后缀的格式化外，通过VersionManager类，可以开启IDE提供的，基于目录的管理方式来替代 "?v=" 的管理方式</p>
*@see laya.net.VersionManager
*/
//class laya.net.URL
var URL=(function(){
	function URL(url){
		/**@private */
		this._url=null;
		/**@private */
		this._path=null;
		this._url=URL.formatURL(url);
		this._path=URL.getPath(url);
	}

	__class(URL,'laya.net.URL');
	var __proto=URL.prototype;
	/**地址的文件夹路径（不包括文件名）。*/
	__getset(0,__proto,'path',function(){
		return this._path;
	});

	/**格式化后的地址。*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	URL.formatURL=function(url){
		if (!url)return "null path";
		if (url.indexOf(":")> 0)return url;
		if (URL.customFormat !=null)url=URL.customFormat(url);
		var char1=url.charAt(0);
		if (char1==="."){
			return URL._formatRelativePath (URL.basePath+url);
			}else if (char1==='~'){
			return URL.rootPath+url.substring(1);
			}else if (char1==="d"){
			if (url.indexOf("data:image")===0)return url;
			}else if (char1==="/"){
			return url;
		}
		return URL.basePath+url;
	}

	URL._formatRelativePath=function(value){
		var parts=value.split("/");
		for (var i=0,len=parts.length;i < len;i++){
			if (parts[i]=='..'){
				parts.splice(i-1,2);
				i-=2;
			}
		}
		return parts.join('/');
	}

	URL.getPath=function(url){
		var ofs=url.lastIndexOf('/');
		return ofs > 0 ? url.substr(0,ofs+1):"";
	}

	URL.getFileName=function(url){
		var ofs=url.lastIndexOf('/');
		return ofs > 0 ? url.substr(ofs+1):url;
	}

	URL.version={};
	URL.basePath="";
	URL.rootPath="";
	URL.customFormat=function(url){
		var newUrl=URL.version[url];
		if (!Render.isConchApp && newUrl)url+="?v="+newUrl;
		return url;
	}

	return URL;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/value/Value2D.as=======199.999190/199.999190
//class laya.webgl.shader.d2.value.Value2D
var Value2D=(function(){
	function Value2D(mainID,subID){
		this.size=[0,0];
		this.alpha=1.0;
		//这个目前只给setIBVB用。其他的都放到attribute的color中了
		//this.mmat=null;
		//worldmatrix，是4x4的，因为为了shader使用方便。 TODO 换成float32Array
		//this.texture=null;
		this.ALPHA=1.0;
		//这个？
		//this.shader=null;
		//this.mainID=0;
		this.subID=0;
		//this.filters=null;
		//this.textureHost=null;
		//public var fillStyle:DrawStyle;//TODO 这个有什么用？
		//this.color=null;
		//public var strokeStyle:DrawStyle;
		//this.colorAdd=null;
		//this.u_mmat2=null;
		this.ref=1;
		//this._attribLocation=null;
		//[name,location,name,location...] 由继承类赋值。这个最终会传给对应的shader
		//this._inClassCache=null;
		this._cacheID=0;
		this.clipDir=[99999999,0,0,99999999];
		//裁剪信息
		this.clipRect=[0,0];
		this.defines=new ShaderDefines2D();
		this.mainID=mainID;
		this.subID=subID;
		this.textureHost=null;
		this.texture=null;
		this.fillStyle=null;
		this.color=null;
		this.strokeStyle=null;
		this.colorAdd=null;
		this.u_mmat2=null;
		this._cacheID=mainID|subID;
		this._inClassCache=Value2D._cache[this._cacheID];
		if (mainID>0 && !this._inClassCache){
			this._inClassCache=Value2D._cache[this._cacheID]=[];
			this._inClassCache._length=0;
		}
		this.clear();
	}

	__class(Value2D,'laya.webgl.shader.d2.value.Value2D');
	var __proto=Value2D.prototype;
	__proto.setValue=function(value){}
	//public function refresh():ShaderValue
	__proto._ShaderWithCompile=function(){
		var ret=Shader.withCompile2D(0,this.mainID,this.defines.toNameDic(),this.mainID | this.defines._value,Shader2X.create);
		ret.setAttributesLocation(this._attribLocation);
		return ret;
	}

	__proto.upload=function(){
		var renderstate2d=RenderState2D;
		RenderState2D.worldMatrix4===RenderState2D.TEMPMAT4_ARRAY || this.defines.addInt(0x80);
		this.mmat=renderstate2d.worldMatrix4;
		var sd=Shader.sharders[this.mainID | this.defines._value] || this._ShaderWithCompile();
		if (sd._shaderValueWidth!==renderstate2d.width || sd._shaderValueHeight!==renderstate2d.height){
			this.size[0]=renderstate2d.width;
			this.size[1]=renderstate2d.height;
			sd._shaderValueWidth=renderstate2d.width;
			sd._shaderValueHeight=renderstate2d.height;
			sd.upload(this,null);
		}
		else{
			sd.upload(this,sd._params2dQuick2 || sd._make2dQuick2());
		}
	}

	__proto.getRenderKey=function(){
		return [this.ALPHA,this.shader?this.shader.id:0,this.filters?this.filters.key:0].join('/');
	}

	__proto.setFilters=function(value){
		this.filters=value;
		if (!value)
			return;
		var n=value.length,f;
		for (var i=0;i < n;i++){
			f=value[i];
			if (f){
				this.defines.add(f.type);
				f.action.setValue(this);
			}
		}
	}

	__proto.clear=function(){
		this.defines._value=this.subID+(WebGL.shaderHighPrecision?0x400:0);
	}

	__proto.release=function(){
		if ((--this.ref)< 1){
			this._inClassCache && (this._inClassCache[this._inClassCache._length++]=this);
			this.fillStyle=null;
			this.strokeStyle=null;
			this.clear();
			this.filters=null;
			this.ref=1;
		}
	}

	Value2D._initone=function(type,classT){
		Value2D._typeClass[type]=classT;
		Value2D._cache[type]=[];
		Value2D._cache[type]._length=0;
	}

	Value2D.__init__=function(){
		Value2D._initone(0x04,PrimitiveSV);
		Value2D._initone(0x100,FillTextureSV);
		Value2D._initone(0x200,SkinSV);
		Value2D._initone(0x01,TextureSV);
		Value2D._initone(0x01 | 0x40,TextSV);
		Value2D._initone(0x01 | 0x08,TextureSV);
	}

	Value2D.create=function(mainType,subType){
		var types=Value2D._cache[mainType|subType];
		if (types._length)
			return types[--types._length];
		else
		return new Value2D._typeClass[mainType|subType](subType);
	}

	Value2D._cache=[];
	Value2D._typeClass=[];
	Value2D.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
	return Value2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/layagl/CommandEncoder.as=======199.999189/199.999189
/**
*@private
*CommandEncoder
*/
//class laya.renders.layagl.CommandEncoder
var CommandEncoder=(function(){
	function CommandEncoder(layagl,reserveSize,adjustSize,isSyncToRenderThread){
		this._idata=[];
	}

	__class(CommandEncoder,'laya.renders.layagl.CommandEncoder');
	var __proto=CommandEncoder.prototype;
	__proto.getArrayData=function(){
		return this._idata;
	}

	__proto.getPtrID=function(){
		return 0;
	}

	__proto.beginEncoding=function(){}
	__proto.endEncoding=function(){}
	__proto.clearEncoding=function(){
		this._idata.length=0;
	}

	__proto.getCount=function(){
		return this._idata.length;
	}

	__proto.add_ShaderValue=function(o){
		this._idata.push(o);
	}

	__proto.addShaderAttribute=function(one){
		this.add_ShaderValue(one);
	}

	__proto.addShaderUniform=function(one){
		this.add_ShaderValue(one);
	}

	return CommandEncoder;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/layagl/LayaGL.as=======199.999188/199.999188
/**
*@private
*封装GL命令
*/
//class laya.renders.layagl.LayaGL
var LayaGL=(function(){
	function LayaGL(){}
	__class(LayaGL,'laya.renders.layagl.LayaGL');
	var __proto=LayaGL.prototype;
	__proto.createCommandEncoder=function(reserveSize,adjustSize,isSyncToRenderThread){
		(reserveSize===void 0)&& (reserveSize=128);
		(adjustSize===void 0)&& (adjustSize=64);
		(isSyncToRenderThread===void 0)&& (isSyncToRenderThread=false);
		return new CommandEncoder(this,reserveSize,adjustSize,isSyncToRenderThread);
	}

	__proto.beginCommandEncoding=function(commandEncoder){}
	__proto.endCommandEncoding=function(){}
	__proto.drawTexture=function(texture,x,y,width,height){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		this.drawImage(texture,x,y,width,height);
	}

	__proto.drawImage=function(texture,x,y,width,height){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		this._customCmds.push(DrawImageCmd.create.call(this,texture,x,y,width,height));
	}

	__proto.fillText=function(text,x,y,font,color,textAlign){
		this._customCmds.push(FillTextCmd.create.call(this,text,x,y,font||Text.defaultFontStr(),color,textAlign));
	}

	__proto.save=function(){
		this._customCmds.push(SaveCmd.create.call(this));
	}

	__proto.restore=function(){
		this._customCmds.push(RestoreCmd.create.call(this));
	}

	__proto.translate=function(tx,ty){
		this._customCmds.push(TranslateCmd.create.call(this,tx,ty));
	}

	__proto.rotate=function(angle,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._customCmds.push(RotateCmd.create.call(this,angle,pivotX,pivotY));
	}

	__proto.scale=function(scaleX,scaleY,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._customCmds.push(ScaleCmd.create.call(this,scaleX,scaleY,pivotX,pivotY));
	}

	__proto.transform=function(matrix,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._customCmds.push(TransformCmd.create.call(this,matrix,pivotX,pivotY));
	}

	LayaGL.getFrameCount=function(){
		return 0;
	}

	LayaGL.syncBufferToRenderThread=function(value){}
	LayaGL.createArrayBufferRef=function(arrayBuffer,type,syncRender){}
	LayaGL.EXECUTE_JS_THREAD_BUFFER=0;
	LayaGL.EXECUTE_RENDER_THREAD_BUFFER=1;
	LayaGL.EXECUTE_COPY_TO_RENDER=2;
	LayaGL.EXECUTE_COPY_TO_RENDER3D=3;
	LayaGL.VALUE_OPERATE_ADD=0;
	LayaGL.VALUE_OPERATE_SUB=1;
	LayaGL.VALUE_OPERATE_MUL=2;
	LayaGL.VALUE_OPERATE_DIV=3;
	LayaGL.VALUE_OPERATE_M2_MUL=4;
	LayaGL.VALUE_OPERATE_M3_MUL=5;
	LayaGL.VALUE_OPERATE_M4_MUL=6;
	LayaGL.VALUE_OPERATE_M32_MUL=7;
	LayaGL.VALUE_OPERATE_SET=8;
	LayaGL.VALUE_OPERATE_M32_TRANSLATE=9;
	LayaGL.VALUE_OPERATE_M32_SCALE=10;
	LayaGL.VALUE_OPERATE_M32_ROTATE=11;
	LayaGL.VALUE_OPERATE_M32_SCALE_PIVOT=12;
	LayaGL.VALUE_OPERATE_M32_ROTATE_PIVOT=13;
	LayaGL.VALUE_OPERATE_M32_TRANSFORM_PIVOT=14;
	LayaGL.VALUE_OPERATE_BYTE4_COLOR_MUL=15;
	LayaGL.instance=null;
	return LayaGL;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/layagl/LayaGLQuickRunner.as=======199.999187/199.999187
/**
*@private
*快速节点命令执行器
*多个指令组合才有意义，单个指令没必要在下面加
*/
//class laya.renders.layagl.LayaGLQuickRunner
var LayaGLQuickRunner=(function(){
	function LayaGLQuickRunner(){}
	__class(LayaGLQuickRunner,'laya.renders.layagl.LayaGLQuickRunner');
	LayaGLQuickRunner.__init__=function(){
		LayaGLQuickRunner.map[0x01 | 0x02 | 0x200]=LayaGLQuickRunner.alpha_transform_drawLayaGL;
		LayaGLQuickRunner.map[0x01 | 0x200]=LayaGLQuickRunner.alpha_drawLayaGL;
		LayaGLQuickRunner.map[0x02 | 0x200]=LayaGLQuickRunner.transform_drawLayaGL;
		LayaGLQuickRunner.map[0x02 | 0x2000]=LayaGLQuickRunner.transform_drawNodes;
		LayaGLQuickRunner.map[0x01 | 0x02 | 0x100]=LayaGLQuickRunner.alpha_transform_drawTexture;
		LayaGLQuickRunner.map[0x01 | 0x100]=LayaGLQuickRunner.alpha_drawTexture;
		LayaGLQuickRunner.map[0x02 | 0x100]=LayaGLQuickRunner.transform_drawTexture;
		LayaGLQuickRunner.map[0x200 | 0x2000]=LayaGLQuickRunner.drawLayaGL_drawNodes;
	}

	LayaGLQuickRunner.transform_drawTexture=function(sprite,context,x,y){
		var style=sprite._style;
		var tex=sprite.texture;
		context.saveTransform(LayaGLQuickRunner.curMat);
		context.transformByMatrix(sprite.transform,x,y);
		context.drawTexture(tex,0,0,tex.width,tex.height);
		context.restoreTransform(LayaGLQuickRunner.curMat);
	}

	LayaGLQuickRunner.alpha_drawTexture=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha=NaN;
		var tex=sprite.texture;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.globalAlpha;
			context.globalAlpha *=alpha;
			context.drawTexture(tex,-style.pivotX,-style.pivotY,tex.width,tex.height);
			context.globalAlpha=temp;
		}
	}

	LayaGLQuickRunner.alpha_transform_drawTexture=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha=NaN;
		var tex=sprite.texture;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.globalAlpha;
			context.globalAlpha *=alpha;
			context.saveTransform(LayaGLQuickRunner.curMat);
			context.transformByMatrix(sprite.transform,x,y);
			context.drawTexture(tex,-style.pivotX,-style.pivotY,tex.width,tex.height);
			context.restoreTransform(LayaGLQuickRunner.curMat);
			context.globalAlpha=temp;
		}
	}

	LayaGLQuickRunner.alpha_transform_drawLayaGL=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha=NaN;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.globalAlpha;
			var transform=sprite.transform;
			context.globalAlpha *=alpha;
			context.saveTransform(LayaGLQuickRunner.curMat);
			context.transformByMatrix(sprite.transform,x,y);
			sprite._graphics && sprite._graphics._render(sprite,context,-style.pivotX,-style.pivotY);
			context.restoreTransform(LayaGLQuickRunner.curMat);
			context.globalAlpha=temp;
		}
	}

	LayaGLQuickRunner.alpha_drawLayaGL=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha=NaN;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.globalAlpha;
			context.globalAlpha *=alpha;
			sprite._graphics && sprite._graphics._render(sprite,context,x,y);
			context.globalAlpha=temp;
		}
	}

	LayaGLQuickRunner.transform_drawLayaGL=function(sprite,context,x,y){
		var style=sprite._style;
		var transform=sprite.transform;
		if (transform){
			context.saveTransform(LayaGLQuickRunner.curMat);
			context.transformByMatrix(sprite.transform,x,y);
			sprite._graphics && sprite._graphics._render(sprite,context,-style.pivotX,-style.pivotY);
			context.restoreTransform(LayaGLQuickRunner.curMat);
			}else {
			sprite._graphics && sprite._graphics._render(sprite,context,-style.pivotX,-style.pivotY);
		}
	}

	LayaGLQuickRunner.transform_drawNodes=function(sprite,context,x,y){
		var transform=sprite.transform;
		var style=sprite._style;
		context.saveTransform(LayaGLQuickRunner.curMat);
		context.transformByMatrix(sprite.transform,x,y);
		x=-style.pivotX;
		y=-style.pivotY;
		var childs=sprite._children,n=childs.length,ele;
		if (style.viewport){
			var rect=style.viewport;
			var left=rect.x;
			var top=rect.y;
			var right=rect.right;
			var bottom=rect.bottom;
			var _x=NaN,_y=NaN;
			for (i=0;i < n;++i){
				if ((ele=childs [i])._visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top)){
					ele.render(context,x,y);
				}
			}
			}else {
			for (var i=0;i < n;++i)
			(ele=(childs [i]))._visible && ele.render(context,x,y);
		}
		context.restoreTransform(LayaGLQuickRunner.curMat);
	}

	LayaGLQuickRunner.drawNode=function(renderData,x,y){
		debugger;
	}

	LayaGLQuickRunner.drawLayaGL=function(sprite,context,x,y){
		sprite._graphics && sprite._graphics._render(sprite,context,x-sprite.pivotX,y-sprite.pivotY);
	}

	LayaGLQuickRunner.drawLayaGL_drawNodes=function(sprite,context,x,y){
		var style=sprite._style;
		x=x-style.pivotX;
		y=y-style.pivotY;
		sprite._graphics && sprite._graphics._render(sprite,context,x,y);
		var childs=sprite._children,n=childs.length,ele;
		if (style.viewport){
			var rect=style.viewport;
			var left=rect.x;
			var top=rect.y;
			var right=rect.right;
			var bottom=rect.bottom;
			var _x=NaN,_y=NaN;
			for (i=0;i < n;++i){
				if ((ele=childs [i])._visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top)){
					ele.render(context,x,y);
				}
			}
			}else {
			for (var i=0;i < n;++i)
			(ele=(childs [i]))._visible && ele.render(context,x,y);
		}
	}

	LayaGLQuickRunner.map={};
	__static(LayaGLQuickRunner,
	['curMat',function(){return this.curMat=new Matrix();}
	]);
	return LayaGLQuickRunner;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/layagl/LayaGLRunner.as=======199.999186/199.999186
/**
*@private
*普通命令执行器
*/
//class laya.renders.layagl.LayaGLRunner
var LayaGLRunner=(function(){
	function LayaGLRunner(){}
	__class(LayaGLRunner,'laya.renders.layagl.LayaGLRunner');
	LayaGLRunner.uploadVertexBufferAttributes=function(layaGL,commandEncoder,data){
		var attributeParamsMap=commandEncoder.getArrayData();
		var one,shaderCall=0;
		for (var i=0,n=attributeParamsMap.length;i < n;i++){
			one=attributeParamsMap[i];
			var value=data[one.dataOffset];
			if (value==null){
				var location=one.location;
				var bindedAttributeBuffer=Buffer._bindedAtributeBuffer
				LayaGL.instance.disableVertexAttribArray(one.location);
				bindedAttributeBuffer[location]=null;
				}else {
				shaderCall+=one.caller._attribute(one,value);
			}
		}
		return shaderCall;
	}

	LayaGLRunner.uploadMultiVertexBufferAttributes=function(layaGL,commandEncoder,data){
		var attributeParamsMap=commandEncoder.getArrayData();
		var one,shaderCall=0;
		for (var i=0,n=attributeParamsMap.length;i < n;i++){
			one=attributeParamsMap[i];
			var value=data[one.dataOffset];
			if (value==null){
				LayaGL.instance.disableVertexAttribArray(one.location);
				}else {
				(value [0]).bind();
				shaderCall+=one.caller._attribute(one,value[1]);
			}
		}
		return shaderCall;
	}

	LayaGLRunner.uploadShaderUniforms=function(layaGL,commandEncoder,data,uploadUnTexture){
		var shaderUniform=commandEncoder.getArrayData();
		var shaderCall=0;
		for (var i=0,n=shaderUniform.length;i < n;i++){
			var one=shaderUniform[i];
			if (uploadUnTexture || one.textureID!==-1){
				var value=data[one.dataOffset];
				if (value !=null)
					shaderCall+=one.fun.call(one.caller,one,value);
			}
		}
		return shaderCall;
	}

	LayaGLRunner.uploadCustomUniform=function(layaGL,custom,index,data){
		var shaderCall=0;
		var one=custom[index];
		if (one && data !=null)
			shaderCall+=one.fun.call(one.caller,one,data);
		return shaderCall;
	}

	LayaGLRunner.uploadShaderAttributesForNative=function(layaGL,commandEncoder,data){
		return layaGL.uploadShaderAttributes(commandEncoder,data);
	}

	LayaGLRunner.uploadShaderUniformsForNative=function(layaGL,commandEncoder,data){
		return layaGL.uploadShaderUniforms(commandEncoder,data);
	}

	return LayaGLRunner;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/layagl/LayaNative2D.as=======199.999185/199.999185
/**
*...
*@author James
*/
//class laya.renders.layagl.LayaNative2D
var LayaNative2D=(function(){
	function LayaNative2D(){}
	__class(LayaNative2D,'laya.renders.layagl.LayaNative2D');
	LayaNative2D._init_simple_texture_cmdEncoder_=function(){
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_=LayaGL.instance.createCommandEncoder(124,32,true);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.useProgramEx(laya.renders.layagl.LayaNative2D.PROGRAMEX_DRAWTEXTURE);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.useVDO(laya.renders.layagl.LayaNative2D.VDO_MESHQUADTEXTURE);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.uniformEx(laya.renders.layagl.LayaNative2D.GLOBALVALUE_VIEWS,0);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.uniformEx(laya.renders.layagl.LayaNative2D.GLOBALVALUE_CLIPDIR,1);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.uniformEx(laya.renders.layagl.LayaNative2D.GLOBALVALUE_CLIPSIZE,2);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.uniformTextureByParamData(0,1*4,2*4);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.setRectMeshByParamData(3*4,5*4,4*4);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.modifyMesh(laya.renders.layagl.LayaNative2D.GLOBALVALUE_MATRIX32,0,7);
		LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.modifyMesh(laya.renders.layagl.LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,1,15);
		LayaGL.syncBufferToRenderThread(LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_);
	}

	LayaNative2D.__init__=function(){
		if (Render.isConchApp){
			var layaGL=LayaGL.instance;
			LayaNative2D.GLOBALVALUE_MATRIX32=layaGL.addGlobalValueDefine(0,0x1406,6,new Float32Array([1,0,0,1,0,0]));
			LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR=layaGL.addGlobalValueDefine(0,0x1404,1,new Uint32Array([0xFFFFFFFF]));
			LayaNative2D.GLOBALVALUE_ITALICDEG=layaGL.addGlobalValueDefine(0,0x1406,1,new Float32Array([0]));
			LayaNative2D.GLOBALVALUE_CLIPDIR=layaGL.addGlobalValueDefine(0,0x1406,4,new Float32Array([1e6,0,0,1e6]));
			LayaNative2D.GLOBALVALUE_CLIPSIZE=layaGL.addGlobalValueDefine(0,0x1406,2,new Float32Array([0,0]));
			LayaNative2D.GLOBALVALUE_COLORFILTER_COLOR=layaGL.addGlobalValueDefine(0,0x1406,16,new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]));
			LayaNative2D.GLOBALVALUE_COLORFILTER_ALPHA=layaGL.addGlobalValueDefine(0,0x1406,4,new Float32Array([0,0,0,1]));
			layaGL.endGlobalValueDefine();
			LayaNative2D.PROGRAMEX_DRAWTEXTURE=LayaGL.instance.createProgramEx(
			"/*\n	texturefillrectʹõġ\n*/\nattribute vec4 posuv;\nattribute vec4 attribColor;\nattribute vec4 attribFlags;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipDir;\nuniform vec2 clipRect;\nvarying vec2 cliped;\nuniform vec2 size;\n\n#ifdef WORLDMAT\n	uniform mat4 mmat;\n#endif\n\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\n\nvoid main() {\n\n#ifdef WORLDMAT\n	vec4 pos=mmat*vec4(posuv.xy,0.,1.);\n	gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,0.,1.0);\n#else\n	gl_Position =vec4((posuv.x/size.x-0.5)*2.0,(0.5-posuv.y/size.y)*2.0,0.,1.0);\n#endif\n  \n	v_texcoordAlpha.xy = posuv.zw;\n	//v_texcoordAlpha.z = attribColor.a/255.0;\n	v_color = attribColor/255.0;\n	v_color.xyz*=v_color.w;//ҲҪԤ\n	\n	v_useTex = attribFlags.r/255.0;\n	float clipw = length(clipDir.xy);\n	float cliph = length(clipDir.zw);\n	vec2 clippos = posuv.xy - clipRect.xy;	//posѾӦþˣΪ˼壬clipλҲҪ\n	if(clipw>20000. && cliph>20000.)\n		cliped = vec2(0.5,0.5);\n	else {\n		//ת01֮䡣/clipw/clipw ʾclipposnormalize֮clip֮ٳclipw\n		cliped=vec2( dot(clippos,clipDir.xy)/clipw/clipw, dot(clippos,clipDir.zw)/cliph/cliph);\n	}\n\n}",
			"/*\n	texture和fillrect使用的。\n*/\n\nprecision mediump float;\n//precision highp float;\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\nuniform sampler2D texture;\nvarying vec2 cliped;\n\n#ifdef BLUR_FILTER\nuniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoordAlpha.xy-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}\n#endif\n\n#ifdef COLOR_FILTER\nuniform vec4 colorAlpha;\nuniform mat4 colorMat;\n#endif\n\n#ifdef GLOW_FILTER\nuniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;\n#endif\n\n#ifdef COLOR_ADD\nuniform vec4 colorAdd;\n#endif\n\nvoid main() {\n	if(cliped.x<0.) discard;\n	if(cliped.x>1.) discard;\n	if(cliped.y<0.) discard;\n	if(cliped.y>1.) discard;\n	\n   vec4 color= texture2D(texture, v_texcoordAlpha.xy);\n   if(v_useTex<=0.)color = vec4(1.,1.,1.,1.);\n   color.a*=v_color.w;\n   //color.rgb*=v_color.w;\n   color.rgb*=v_color.rgb;\n   gl_FragColor=color;\n   \n   #ifdef COLOR_ADD\n	gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\n	gl_FragColor.xyz *= colorAdd.a;\n   #endif\n   \n   #ifdef BLUR_FILTER\n	gl_FragColor =   blur();\n	gl_FragColor.w*=v_color.w;   \n   #endif\n   \n   #ifdef COLOR_FILTER\n	mat4 alphaMat =colorMat;\n\n	alphaMat[0][3] *= gl_FragColor.a;\n	alphaMat[1][3] *= gl_FragColor.a;\n	alphaMat[2][3] *= gl_FragColor.a;\n\n	gl_FragColor = gl_FragColor * alphaMat;\n	gl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n   #endif\n   \n   #ifdef GLOW_FILTER\n	const float c_IterationTime = 10.0;\n	float floatIterationTotalTime = c_IterationTime * c_IterationTime;\n	vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n	vec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\n	vec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\n	float maxNum = u_blurX * u_blurY;\n	vec2 vec2Off = vec2(0.0,0.0);\n	float floatOff = c_IterationTime/2.0;\n	for(float i = 0.0;i<=c_IterationTime; ++i){\n		for(float j = 0.0;j<=c_IterationTime; ++j){\n			vec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n			vec4Color += texture2D(texture, v_texcoordAlpha.xy + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n		}\n	}\n	gl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\n	gl_FragColor.rgb *= gl_FragColor.a;   \n   #endif\n}",
			"posuv,attribColor,attribFlags","size,clipDir,clipRect,texture,colorMat,colorAlpha");
			LayaNative2D.PROGRAMEX_DRAWVG=LayaGL.instance.createProgramEx(
			"attribute vec4 position;\nattribute vec4 attribColor;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipDir;\nuniform vec2 clipRect;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\n//uniform vec2 u_pos;\nuniform vec2 size;\nvarying vec4 color;\n//vec4 dirxy=vec4(0.9,0.1, -0.1,0.9);\n//vec4 clip=vec4(100.,30.,300.,600.);\nvarying vec2 cliped;\nvoid main(){\n	vec4 tPos = vec4(position.x,position.y ,position.z,position.w);\n	vec4 pos=mmat*tPos;\n	gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n	float clipw = length(clipDir.xy);\n	float cliph = length(clipDir.zw);\n	vec2 clippos = tPos.xy - clipRect.xy;	//posѾӦþˣΪ˼壬clipλҲҪ\n	if(clipw>20000. && cliph>20000.)\n		cliped = vec2(0.5,0.5);\n	else {\n		//clipdirǴŵķclipposźĿռģҪѷnormalizeһ\n		cliped=vec2( dot(clippos,clipDir.xy)/clipw/clipw, dot(clippos,clipDir.zw)/cliph/cliph);\n	}\n  //pos2d.x = dot(clippos,dirx);\n  color=attribColor/255.;\n}",
			"precision mediump float;\n//precision mediump float;\nvarying vec4 color;\n//uniform float alpha;\nvarying vec2 cliped;\nvoid main(){\n	//vec4 a=vec4(color.r, color.g, color.b, 1);\n	//a.a*=alpha;\n    gl_FragColor= color;// vec4(color.r, color.g, color.b, alpha);\n	gl_FragColor.rgb*=color.a;\n	if(cliped.x<0.) discard;\n	if(cliped.x>1.) discard;\n	if(cliped.y<0.) discard;\n	if(cliped.y>1.) discard;\n}",
			"position,attribColor","size,clipDir,clipRect");
			LayaNative2D.VDO_MESHQUADTEXTURE=layaGL.createVDO(new Int32Array([0x1406,0,4,24,0x1401,16,4,24,0x1401,20,4,24]));
			LayaNative2D.VDO_MESHVG=layaGL.createVDO(new Int32Array([0x1406,0,2,12,0x1401,8,4,12]));
			LayaNative2D._init_simple_texture_cmdEncoder_();
			LayaNative2D.SHADER_MACRO_COLOR_FILTER=LayaGL.instance.defineShaderMacro("#define COLOR_FILTER",[ {uname:4,id:LayaNative2D.GLOBALVALUE_COLORFILTER_COLOR },{uname:5,id:LayaNative2D.GLOBALVALUE_COLORFILTER_ALPHA }]);
			LayaGLTemplate.__init__();
			new CharBook();
			CharPages.charRender=new CharRender_Native();
		}
	}

	LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_=null;
	LayaNative2D.PROGRAMEX_DRAWTEXTURE=0;
	LayaNative2D.PROGRAMEX_DRAWVG=0;
	LayaNative2D.PROGRAMEX_DRAWRECT=0;
	LayaNative2D.VDO_MESHQUADTEXTURE=0;
	LayaNative2D.VDO_MESHVG=0;
	LayaNative2D.GLOBALVALUE_VIEWS=0;
	LayaNative2D.GLOBALVALUE_MATRIX32=0;
	LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR=0;
	LayaNative2D.GLOBALVALUE_ITALICDEG=0;
	LayaNative2D.GLOBALVALUE_CLIPDIR=0;
	LayaNative2D.GLOBALVALUE_CLIPSIZE=0;
	LayaNative2D.GLOBALVALUE_COLORFILTER_COLOR=0;
	LayaNative2D.GLOBALVALUE_COLORFILTER_ALPHA=0;
	LayaNative2D.SHADER_MACRO_COLOR_FILTER=0;
	return LayaNative2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/Render.as=======199.999183/199.999183
/**
*@private
*<code>Render</code> 是渲染管理类。它是一个单例，可以使用 Laya.render 访问。
*/
//class laya.renders.Render
var Render=(function(){
	function Render(width,height){
		/**@private */
		this._timeId=0;
		var style=Render._mainCanvas.source.style;
		style.position='absolute';
		style.top=style.left="0px";
		style.background="#000000";
		Render._mainCanvas.source.id="layaCanvas";
		var isWebGl=laya.renders.Render.isWebGL;
		Render._mainCanvas.source.width=width;
		Render._mainCanvas.source.height=height;
		isWebGl && Render.WebGL.init(Render._mainCanvas,width,height);
		Browser.container.appendChild(Render._mainCanvas.source);
		function getContext (width,height,canvas){
			if (canvas){
				Render._context=canvas.getContext('2d');
				Render._context.__tx=0;
				Render._context.__ty=0;
				}else {
				canvas=HTMLCanvas.create("3D");
				Render._context=RunDriver.createWebGLContext2D(canvas);
				canvas._setContext(Render._context);
			}
			canvas.size(width,height);
			return Render._context;
		}
		Render._context=getContext(width,height,isWebGl ? null :Render._mainCanvas);
		Browser.window.requestAnimationFrame(loop);
		function loop (){
			Laya.stage._loop();
			Browser.window.requestAnimationFrame(loop);
		}
		Laya.stage.on("visibilitychange",this,this._onVisibilitychange);
	}

	__class(Render,'laya.renders.Render');
	var __proto=Render.prototype;
	/**@private */
	__proto._onVisibilitychange=function(){
		if (!Laya.stage.isVisibility){
			this._timeId=Browser.window.setInterval(this._enterFrame,1000);
			}else if (this._timeId !=0){
			Browser.window.clearInterval(this._timeId);
		}
	}

	/**@private */
	__proto._enterFrame=function(e){
		Laya.stage._loop();
	}

	/**目前使用的渲染器。*/
	__getset(1,Render,'context',function(){
		return Render._context;
	});

	/**渲染使用的原生画布引用。 */
	__getset(1,Render,'canvas',function(){
		return Render._mainCanvas.source;
	});

	Render._context=null;
	Render._mainCanvas=null;
	Render.WebGL=null;
	Render.isConchApp=false;
	Render.isWebGL=false;
	Render.is3DMode=false;
	Render.optimizeTextureMemory=function(url,texture){
		return true;
	}

	Render.__init$=function(){{
			Render.isConchApp=(window.conch !=null);
		};;
	}

	return Render;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/RenderContext.as=======199.999182/199.999182
/**
*@private
*渲染环境
*/
//class laya.renders.RenderContext
var RenderContext=(function(){
	function RenderContext(width,height,canvas){
		/**全局x坐标 */
		this.x=0;
		/**全局y坐标 */
		this.y=0;
		/**当前使用的画布 */
		//this.canvas=null;
		/**当前使用的画布上下文 */
		//this.ctx=null;
		//if (tex._loaded)this.ctx.drawTexture(tex,x,y,width,height,this.x,this.y);
		this._drawTexture=function(x,y,args){}
		this._fillTexture=function(x,y,args){
			if (args[0]._loaded)this.ctx.fillTexture(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);
		}
		this._drawTextureWithTransform=function(x,y,args){
			if (args[0]._loaded)this.ctx.drawTextureWithTransform(args[0],args[1],args[2],args[3],args[4],args[5],x,y,args[6],args[7]);
		}
		this._fillQuadrangle=function(x,y,args){
			this.ctx.fillQuadrangle(args[0],args[1],args[2],args[3],args[4]);
		}
		//矢量方法
		this._drawPie=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[8]);
			ctx.beginPath();
			if (Render.isWebGL){
				ctx.movePath(args[0]+x,args[1]+y);
				ctx.moveTo(0,0);
				}else {
				ctx.moveTo(x+args[0],y+args[1]);
			}
			ctx.arc(x+args[0],y+args[1],args[2],args[3],args[4]);
			ctx.closePath();
			this._fillAndStroke(args[5],args[6],args[7],true);
		}
		this._clipRect=function(x,y,args){
			this.ctx.clipRect(x+args[0],y+args[1],args[2],args[3]);
		}
		this._fillRect=function(x,y,args){
			this.ctx._drawRect(x+args[0],y+args[1],args[2],args[3],args[4]);
		}
		this._setShader=function(x,y,args){
			this.ctx.setShader(args[0]);
		}
		this._drawLine=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[6]);
			ctx.beginPath();
			ctx.strokeStyle=args[4];
			ctx.lineWidth=args[5];
			if (Render.isWebGL){
				ctx.movePath(x,y);
				ctx.moveTo(args[0],args[1]);
				ctx.lineTo(args[2],args[3]);
				}else {
				ctx.moveTo(x+args[0],y+args[1]);
				ctx.lineTo(x+args[2],y+args[3]);
			}
			ctx.stroke();
		}
		this._drawLines=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[5]);
			ctx.beginPath();
			x+=args[0],y+=args[1];
			Render.isWebGL && ctx.movePath(x,y);
			ctx.strokeStyle=args[3];
			ctx.lineWidth=args[4];
			var points=args[2];
			var i=2,n=points.length;
			if (Render.isWebGL){
				ctx.moveTo(points[0],points[1]);
				while (i < n){
					ctx.lineTo(points[i++],points[i++]);
				}
				}else {
				ctx.moveTo(x+points[0],y+points[1]);
				while (i < n){
					ctx.lineTo(x+points[i++],y+points[i++]);
				}
			}
			ctx.stroke();
		}
		this._drawLinesWebGL=function(x,y,args){
			this.ctx.drawLines(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4]);
		}
		//x:Number,y:Number,points:Array,lineColor:String,lineWidth:Number=1
		this._drawCurves=function(x,y,args){}
		//this.ctx.drawCurves(x,y,args);
		this._draw=function(x,y,args){
			args[0].call(null,this,x,y);
		}
		this._transformByMatrix=function(x,y,args){
			this.ctx.transformByMatrix(args[0]);
		}
		this._setTransform=function(x,y,args){
			this.ctx.setTransform(args[0],args[1],args[2],args[3],args[4],args[5]);
		}
		this._setTransformByMatrix=function(x,y,args){
			this.ctx.setTransformByMatrix(args[0]);
		}
		this._save=function(x,y,args){
			this.ctx.save();
		}
		this._restore=function(x,y,args){
			this.ctx.restore();
		}
		this._translate=function(x,y,args){
			this.ctx.translate(args[0],args[1]);
		}
		this._transform=function(x,y,args){
			this.ctx.translate(args[1]+x,args[2]+y);
			var mat=args[0];
			this.ctx.transform(mat.a,mat.b,mat.c,mat.d,mat.tx,mat.ty);
			this.ctx.translate(-x-args[1],-y-args[2]);
		}
		this._rotate=function(x,y,args){
			this.ctx.translate(args[1]+x,args[2]+y);
			this.ctx.rotate(args[0]);
			this.ctx.translate(-x-args[1],-y-args[2]);
		}
		this._scale=function(x,y,args){
			this.ctx.translate(args[2]+x,args[3]+y);
			this.ctx.scale(args[0],args[1]);
			this.ctx.translate(-x-args[2],-y-args[3]);
		}
		this._alpha=function(x,y,args){
			this.ctx.globalAlpha *=args[0];
		}
		this._setAlpha=function(x,y,args){
			this.ctx.globalAlpha=args[0];
		}
		this._fillText=function(x,y,args){
			this.ctx.drawText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5]);
		}
		this._strokeText=function(x,y,args){
			this.ctx.strokeWord(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6]);
		}
		this._fillBorderText=function(x,y,args){
			this.ctx.fillBorderText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);
		}
		this._fillWords=function(x,y,args){
			this.ctx.fillWords(args[0],args[1]+x,args[2]+y,args[3],args[4]);
		}
		/***@private */
		this._fillBorderWords=function(x,y,args){
			this.ctx.fillBorderWords(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6]);
		}
		this._blendMode=function(x,y,args){
			this.ctx.globalCompositeOperation=args[0];
		}
		this._beginClip=function(x,y,args){
			this.ctx.beginClip && this.ctx.beginClip(x+args[0],y+args[1],args[2],args[3]);
		}
		this._setIBVB=function(x,y,args){
			this.ctx.setIBVB(args[0]+x,args[1]+y,args[2],args[3],args[4],args[5],args[6],args[7]);
		}
		this._fillTrangles=function(x,y,args){
			this.ctx.fillTrangles(args[0],args[1]+x,args[2]+y,args[3],args[4]);
		}
		//x:Number,y:Number,paths:Array,brush:Object=null,pen:Object=null
		this._drawPath=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(-1);
			ctx.beginPath();
			x+=args[0],y+=args[1];
			var paths=args[2];
			for (var i=0,n=paths.length;i < n;i++){
				var path=paths[i];
				switch (path[0]){
					case "moveTo":
						ctx.moveTo(x+path[1],y+path[2]);
						break ;
					case "lineTo":
						ctx.lineTo(x+path[1],y+path[2]);
						break ;
					case "arcTo":
						ctx.arcTo(x+path[1],y+path[2],x+path[3],y+path[4],path[5]);
						break ;
					case "closePath":
						ctx.closePath();
						break ;
					}
			};
			var brush=args[3];
			if (brush !=null){
				ctx.fillStyle=brush.fillStyle;
				ctx.fill();
			};
			var pen=args[4];
			if (pen !=null){
				ctx.strokeStyle=pen.strokeStyle;
				ctx.lineWidth=pen.lineWidth || 1;
				ctx.lineJoin=pen.lineJoin;
				ctx.lineCap=pen.lineCap;
				ctx.miterLimit=pen.miterLimit;
				ctx.stroke();
			}
		}
		// polygon(x:Number,y:Number,r:Number,edges:Number,color:uint,borderWidth:int=2,borderColor:uint=0)
		this.drawPoly=function(x,y,args){
			this.ctx.drawPoly(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4],args[5],args[6]);
		}
		//x:Number,y:Number,points:Array,fillColor:String,lineColor:String=null,lineWidth:Number=1
		this._drawPoly=function(x,y,args){
			var ctx=this.ctx;
			var points=args[2];
			var i=2,n=points.length;
			if (Render.isWebGL){
				ctx.setPathId(args[6]);
				ctx.beginPath();
				x+=args[0],y+=args[1];
				ctx.movePath(x,y);
				ctx.moveTo(points[0],points[1]);
				while (i < n){
					ctx.lineTo(points[i++],points[i++]);
				}
				}else {
				ctx.beginPath();
				x+=args[0],y+=args[1];
				ctx.moveTo(x+points[0],y+points[1]);
				while (i < n){
					ctx.lineTo(x+points[i++],y+points[i++]);
				}
			}
			ctx.closePath();
			this._fillAndStroke(args[3],args[4],args[5],args[7]);
		}
		this._drawSkin=function(x,y,args){
			var tSprite=args[0];
			if (tSprite){
				var ctx=this.ctx;
				tSprite.render(ctx,x,y);
			}
		}
		this._drawParticle=function(x,y,args){
			this.ctx.drawParticle(x+this.x,y+this.y,args[0]);
		}
		if (canvas){
			this.ctx=canvas.getContext('2d');
			}else {
			canvas=HTMLCanvas.create("3D");
			this.ctx=RunDriver.createWebGLContext2D(canvas);
			canvas._setContext(this.ctx);
		}
		canvas.size(width,height);
		this.canvas=canvas;
	}

	__class(RenderContext,'laya.renders.RenderContext');
	var __proto=RenderContext.prototype;
	/**销毁当前渲染环境*/
	__proto.destroy=function(){
		if (this.canvas){
			this.canvas.destroy();
			this.canvas=null;
		}
		if (this.ctx){
			this.ctx.destroy();
			this.ctx=null;
		}
	}

	__proto.drawTexture=function(tex,x,y,width,height){}
	//if (args[0]._loaded)this.ctx.drawTexture(args[0],args[1],args[2],args[3],args[4],x,y);
	__proto._drawTextures=function(x,y,args){
		if (args[0]._loaded)this.ctx.drawTextures(args[0],args[1],x+this.x,y+this.y);
	}

	__proto.fillQuadrangle=function(tex,x,y,point4,m){
		this.ctx.fillQuadrangle(tex,x,y,point4,m);
	}

	__proto.drawCanvas=function(canvas,x,y,width,height){
		this.ctx.drawCanvas(canvas,x+this.x,y+this.y,width,height);
	}

	__proto.drawRect=function(x,y,width,height,fillColor,lineColor,lineWidth){
		var ctx=this.ctx;
		if (fillColor !=null){
			ctx.fillStyle=fillColor;
			ctx.fillRect(x,y,width,height);
		}
		if (lineColor !=null){
			ctx.strokeStyle=lineColor;
			ctx.lineWidth=lineWidth;
			ctx.strokeRect(x,y,width,height);
		}
	}

	__proto._fillAndStroke=function(fillColor,strokeColor,lineWidth,isConvexPolygon){
		(isConvexPolygon===void 0)&& (isConvexPolygon=false);
		var ctx=this.ctx;
		if (fillColor !=null){
			ctx.fillStyle=fillColor;
			if (Render.isWebGL){
				ctx.fill(isConvexPolygon);
				}else {
				ctx.fill();
			}
		}
		if (strokeColor !=null && lineWidth > 0){
			ctx.strokeStyle=strokeColor;
			ctx.lineWidth=lineWidth;
			ctx.stroke();
		}
	}

	//ctx.translate(-x-args[0],-y-args[1]);
	__proto.clipRect=function(x,y,width,height){
		this.ctx.clipRect(x+this.x,y+this.y,width,height);
	}

	__proto.fillRect=function(x,y,width,height,fillStyle){
		this.ctx._drawRect(x+this.x,y+this.y,width,height,fillStyle);
	}

	__proto.drawCircle=function(x,y,radius,color,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		Stat.drawCall++;
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.strokeStyle=color;
		ctx.lineWidth=lineWidth;
		ctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);
		ctx.stroke();
	}

	__proto._drawCircle=function(x,y,args){
		var ctx=this.ctx;
		Render.isWebGL && ctx.setPathId(args[6]);
		Stat.drawCall++;
		ctx.beginPath();
		Render.isWebGL && ctx.movePath(args[0]+x,args[1]+y);
		ctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);
		ctx.closePath();
		this._fillAndStroke(args[3],args[4],args[5],true);
	}

	/**
	*绘制三角形
	*@param x
	*@param y
	*@param tex
	*@param args [x,y,texture,vertices,indices,uvs,matrix]
	*/
	__proto.drawTriangles=function(x,y,args){
		var indices=args[4];
		var i=0,len=indices.length;
		var ctx=this.ctx;
		for (i=0;i < len;i+=3){
			var index0=indices[i] *2;
			var index1=indices[i+1] *2;
			var index2=indices[i+2] *2;
			ctx.drawTriangle(args[2],args[3],args[5],index0,index1,index2,args[6],true);
		}
	}

	__proto.fillCircle=function(x,y,radius,color){
		Stat.drawCall++;
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.fillStyle=color;
		ctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);
		ctx.fill();
	}

	/**
	*绘制圆形
	*@param x
	*@param y
	*@param args [radius:Number,color:String]
	*/
	__proto._fillCircle=function(x,y,args){
		Stat.drawCall++;
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.fillStyle=args[3];
		ctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);
		ctx.fill();
	}

	__proto.setShader=function(shader){
		this.ctx.setShader(shader);
	}

	__proto.drawLine=function(fromX,fromY,toX,toY,color,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.strokeStyle=color;
		ctx.lineWidth=lineWidth;
		ctx.moveTo(this.x+fromX,this.y+fromY);
		ctx.lineTo(this.x+toX,this.y+toY);
		ctx.stroke();
	}

	__proto.clear=function(){
		this.ctx.clear();
	}

	__proto.transformByMatrix=function(value){
		this.ctx.transformByMatrix(value);
	}

	__proto.setTransform=function(a,b,c,d,tx,ty){
		this.ctx.setTransform(a,b,c,d,tx,ty);
	}

	__proto.setTransformByMatrix=function(value){
		this.ctx.setTransformByMatrix(value);
	}

	__proto.save=function(){
		this.ctx.save();
	}

	__proto.restore=function(){
		this.ctx.restore();
	}

	__proto.translate=function(x,y){
		this.ctx.translate(x,y);
	}

	__proto.transform=function(a,b,c,d,tx,ty){
		this.ctx.transform(a,b,c,d,tx,ty);
	}

	__proto.rotate=function(angle){
		this.ctx.rotate(angle);
	}

	__proto.scale=function(scaleX,scaleY){
		this.ctx.scale(scaleX,scaleY);
	}

	__proto.alpha=function(value){
		this.ctx.globalAlpha *=value;
	}

	__proto.setAlpha=function(value){
		this.ctx.globalAlpha=value;
	}

	__proto.fillText=function(text,x,y,font,color,textAlign){
		this.ctx.drawText(text,x+this.x,y+this.y,font,color,textAlign);
	}

	__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){
		this.ctx.strokeWord(text,x+this.x,y+this.y,font,color,lineWidth,textAlign);
	}

	__proto.blendMode=function(type){
		this.ctx.globalCompositeOperation=type;
	}

	__proto.flush=function(){
		this.ctx.flush && this.ctx.flush();
	}

	__proto.addRenderObject=function(o){
		this.ctx.addRenderObject(o);
	}

	__proto.beginClip=function(x,y,w,h){
		this.ctx.beginClip && this.ctx.beginClip(x,y,w,h);
	}

	__proto.endClip=function(){
		this.ctx.endClip && this.ctx.endClip();
	}

	__proto.fillTrangles=function(x,y,args){
		this.ctx.fillTrangles(args[0],args[1],args[2],args[3],args.length > 4 ? args[4] :null);
	}

	RenderContext.PI2=2 *Math.PI;
	return RenderContext;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/RenderData.as=======199.999181/199.999181
//TODO:是否还有用
//class laya.renders.RenderData
var RenderData=(function(){
	function RenderData(){
		this.context=null;
		this.sprite=null;
		this.data=null;
		this.x=NaN;
		this.y=NaN;
	}

	__class(RenderData,'laya.renders.RenderData');
	return RenderData;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/renders/RenderSprite.as=======199.999180/199.999180
/**
*@private
*精灵渲染器
*/
//class laya.renders.RenderSprite
var RenderSprite=(function(){
	function RenderSprite(type,next){
		/**@private */
		//this._next=null;
		/**@private */
		//this._fun=null;
		if (LayaGLQuickRunner.map[type]){
			this._fun=LayaGLQuickRunner.map[type];
			this._next=RenderSprite.NORENDER;
			return;
		}
		this._next=next || RenderSprite.NORENDER;
		switch (type){
			case 0:
				this._fun=this._no;
				return;
			case 0x01:
				this._fun=this._alpha;
				return;
			case 0x02:
				this._fun=this._transform;
				return;
			case 0x04:
				this._fun=this._blend;
				return;
			case 0x08:
				this._fun=this._canvas;
				return;
			case 0x20:
				this._fun=this._mask;
				return;
			case 0x40:
				this._fun=this._clip;
				return;
			case 0x80:
				this._fun=this._style;
				return;
			case 0x200:
				this._fun=this._graphics;
				return;
			case 0x2000:
				this._fun=this._children;
				return;
			case 0x800:
				this._fun=this._custom;
				return;
			case 0x100:
				this._fun=this._texture;
				return;
			case 0x10:
				this._fun=Filter._filter;
				return;
			case 0x11111:
				this._fun=RenderSprite._initRenderFun;
				return;
			}
		this.onCreate(type);
	}

	__class(RenderSprite,'laya.renders.RenderSprite');
	var __proto=RenderSprite.prototype;
	__proto.onCreate=function(type){}
	__proto._style=function(sprite,context,x,y){
		var style=sprite._style;
		if (style.render !=null)style.render(sprite,context,x,y);
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto._no=function(sprite,context,x,y){}
	__proto._custom=function(sprite,context,x,y){
		sprite.customRender(context,x,y);
		this._next._fun.call(this._next,sprite,context,x-sprite.pivotX,y-sprite.pivotY);
	}

	__proto._clip=function(sprite,context,x,y){
		var next=this._next;
		if (next==RenderSprite.NORENDER)return;
		var r=sprite._style.scrollRect;
		context.save();
		context.clipRect(x,y,r.width,r.height);
		next._fun.call(next,sprite,context,x-r.x,y-r.y);
		context.restore();
	}

	__proto._blend=function(sprite,context,x,y){
		var style=sprite._style;
		if (style.blendMode){
			context.globalCompositeOperation=style.blendMode;
		};
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
		context.globalCompositeOperation="source-over";
	}

	__proto._mask=function(sprite,context,x,y){
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
		var mask=sprite.mask;
		if (mask){
			context.globalCompositeOperation="destination-in";
			if (mask.numChildren > 0 || !mask.graphics._isOnlyOne()){
				mask.cacheAs="bitmap";
			}
			mask.render(context,x-sprite._style.pivotX,y-sprite._style.pivotY);
		}
		context.globalCompositeOperation="source-over";
	}

	__proto._texture=function(sprite,context,x,y){
		var tex=sprite.texture;
		context.drawTexture(tex,x-sprite.pivotX,y-sprite.pivotY,tex.width,tex.height);
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto._graphics=function(sprite,context,x,y){
		sprite._graphics && sprite._graphics._render(sprite,context,x-sprite.pivotX,y-sprite.pivotY);
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto._image=function(sprite,context,x,y){
		var style=sprite._style;
		context.drawTexture2(x,y,style.pivotX,style.pivotY,sprite.transform,sprite._graphics._one);
	}

	__proto._image2=function(sprite,context,x,y){
		var style=sprite._style;
		context.drawTexture2(x,y,style.pivotX,style.pivotY,sprite.transform,sprite._graphics._one);
	}

	__proto._alpha=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.globalAlpha;
			context.globalAlpha *=alpha;
			var next=this._next;
			next._fun.call(next,sprite,context,x,y);
			context.globalAlpha=temp;
		}
	}

	__proto._transform=function(sprite,context,x,y){
		var transform=sprite.transform,_next=this._next;
		var style=sprite._style;
		if (transform && _next !=RenderSprite.NORENDER){
			context.save();
			context.transform(transform.a,transform.b,transform.c,transform.d,transform.tx+x,transform.ty+y);
			_next._fun.call(_next,sprite,context,0,0);
			context.restore();
		}else
		_next._fun.call(_next,sprite,context,x,y);
	}

	__proto._children=function(sprite,context,x,y){
		var style=sprite._style;
		var childs=sprite._children,n=childs.length,ele;
		x=x-sprite.pivotX;
		y=y-sprite.pivotY;
		if (style.viewport){
			var rect=style.viewport;
			var left=rect.x;
			var top=rect.y;
			var right=rect.right;
			var bottom=rect.bottom;
			var _x=NaN,_y=NaN;
			for (i=0;i < n;++i){
				if ((ele=childs [i])._visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top)){
					ele.render(context,x,y);
				}
			}
			}else {
			for (var i=0;i < n;++i)
			(ele=(childs [i]))._visible && ele.render(context,x,y);
		}
	}

	__proto._canvas=function(sprite,context,x,y){
		var _cacheStyle=sprite._cacheStyle;
		var _next=this._next;
		if (!_cacheStyle.enableCanvasRender){
			_next._fun.call(_next,sprite,context,x,y);
			return;
		}
		_cacheStyle.cacheAs==='bitmap' ? (Stat.canvasBitmap++):(Stat.canvasNormal++);
		if (sprite._needRepaint()|| (!_cacheStyle.canvas)){
			this._canvas_repaint(sprite,context,x,y);
			}else {
			var tRec=_cacheStyle.cacheRect;
			context.drawCanvas(_cacheStyle.canvas,x+tRec.x,y+tRec.y,tRec.width,tRec.height);
		}
	}

	__proto._canvas_repaint=function(sprite,context,x,y){
		var _cacheStyle=sprite._cacheStyle;
		var _next=this._next;
		var tx;
		var canvas=_cacheStyle.canvas;
		var left;
		var top;
		var tRec;
		var tCacheType=_cacheStyle.cacheAs;
		var w,h;
		var scaleX,scaleY;
		var scaleInfo;
		scaleInfo=_cacheStyle._calculateCacheRect(sprite,tCacheType,x,y);
		scaleX=scaleInfo.x;
		scaleY=scaleInfo.y;
		tRec=_cacheStyle.cacheRect;
		w=tRec.width *scaleX;
		h=tRec.height *scaleY;
		left=tRec.x;
		top=tRec.y;
		if (Render.isWebGL && tCacheType==='bitmap' && (w > 2048 || h > 2048)){
			console.warn("cache bitmap size larger than 2048,cache ignored");
			_cacheStyle.releaseContext();
			_next._fun.call(_next,sprite,context,x,y);
			return;
		}
		if (!canvas){
			_cacheStyle.createContext();
			canvas=_cacheStyle.canvas;
		}
		tx=canvas.context;
		canvas.context.sprite=sprite;
		(canvas.width !=w || canvas.height !=h)&& canvas.size(w,h);
		if (tCacheType==='bitmap')canvas.context.asBitmap=true;
		else if (tCacheType==='normal')canvas.context.asBitmap=false;
		canvas.clear();
		if (tCacheType==='normal'){
			tx.touches=[];
		}
		if (scaleX !=1 || scaleY !=1){
			var ctx=tx;
			ctx.save();
			ctx.scale(scaleX,scaleY);
			_next._fun.call(_next,sprite,tx,-left,-top);
			ctx.restore();
			sprite._applyFilters();
			}else {
			ctx=tx;
			_next._fun.call(_next,sprite,tx,-left,-top);
			sprite._applyFilters();
		}
		if (_cacheStyle.staticCache)_cacheStyle.reCache=false;
		Stat.canvasReCache++;
		context.drawCanvas(canvas,x+left,y+top,tRec.width,tRec.height);
	}

	RenderSprite.__init__=function(){
		LayaGLQuickRunner.__init__();
		var i=0,len=0;
		var initRender;
		initRender=RunDriver.createRenderSprite(0x11111,null);
		len=RenderSprite.renders.length=0x2000 *2;
		for (i=0;i < len;i++)
		RenderSprite.renders[i]=initRender;
		RenderSprite.renders[0]=RunDriver.createRenderSprite(0,null);
		function _initSame (value,o){
			var n=0;
			for (var i=0;i < value.length;i++){
				n |=value[i];
				RenderSprite.renders[n]=o;
			}
		}
	}

	RenderSprite._initRenderFun=function(sprite,context,x,y){
		var type=sprite._renderType;
		var r=RenderSprite.renders[type]=RenderSprite._getTypeRender(type);
		r._fun(sprite,context,x,y);
	}

	RenderSprite._getTypeRender=function(type){
		if (LayaGLQuickRunner.map[type])return RunDriver.createRenderSprite(type,null);
		var rst=null;
		var tType=0x2000;
		while (tType > 0){
			if (tType & type)
				rst=RunDriver.createRenderSprite(tType,rst);
			tType=tType >> 1;
		}
		return rst;
	}

	RenderSprite.INIT=0x11111;
	RenderSprite.renders=[];
	RenderSprite.NORENDER=new RenderSprite(0,null);
	return RenderSprite;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/Context.as=======199.999179/199.999179
/**
*@private
*Context扩展类
*/
//class laya.resource.Context
var Context=(function(){
	function Context(){
		//this._canvas=null;
	}

	__class(Context,'laya.resource.Context');
	var __proto=Context.prototype;
	/**@private */
	__proto.drawCanvas=function(canvas,x,y,width,height){
		Stat.drawCall++;
		this.drawImage(canvas._source,x,y,width,height);
	}

	/**@private */
	__proto._drawRect=function(x,y,width,height,style){
		Stat.drawCall++;
		style && (this.fillStyle=style);
		this.fillRect(x,y,width,height);
	}

	/**@private */
	__proto.drawText=function(text,x,y,font,color,textAlign){
		Stat.drawCall++;
		if (arguments.length > 3 && font !=null){
			this.font=font;
			this.fillStyle=color;
			this.textAlign=textAlign;
			this.textBaseline="top";
		}
		this.fillText(text,x,y);
	}

	/**@private */
	__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){
		Stat.drawCall++;
		this.font=font;
		this.fillStyle=fillColor;
		this.textBaseline="top";
		this.strokeStyle=borderColor;
		this.lineWidth=lineWidth;
		this.textAlign=textAlign;
		this.strokeText(text,x,y);
		this.fillText(text,x,y);
	}

	/***@private */
	__proto.fillWords=function(words,x,y,font,color){
		font && (this.font=font);
		color && (this.fillStyle=color);
		this.textBaseline="top";
		this.textAlign='left';
		for (var i=0,n=words.length;i < n;i++){
			var a=words[i];
			this.fillText(a.char,a.x+x,a.y+y);
		}
	}

	/***@private */
	__proto.fillBorderWords=function(words,x,y,font,color,borderColor,lineWidth){
		font && (this.font=font);
		color && (this.fillStyle=color);
		this.textBaseline="top";
		this.lineWidth=lineWidth;
		this.textAlign='left';
		this.strokeStyle=borderColor;
		for (var i=0,n=words.length;i < n;i++){
			var a=words[i];
			this.strokeText(a.char,a.x+x,a.y+y);
			this.fillText(a.char,a.x+x,a.y+y);
		}
	}

	/**@private */
	__proto.strokeWord=function(text,x,y,font,color,lineWidth,textAlign){
		Stat.drawCall++;
		if (arguments.length > 3 && font !=null){
			this.font=font;
			this.strokeStyle=color;
			this.lineWidth=lineWidth;
			this.textAlign=textAlign;
			this.textBaseline="top";
		}
		this.strokeText(text,x,y);
	}

	/**@private */
	__proto.setTransformByMatrix=function(value){
		this.setTransform(value.a,value.b,value.c,value.d,value.tx,value.ty);
	}

	/**@private */
	__proto.clipRect=function(x,y,width,height){
		Stat.drawCall++;
		this.beginPath();
		this.rect(x,y,width,height);
		this.clip();
	}

	/**@private */
	__proto.drawTextureWithTransform=function(tex,tx,ty,width,height,m,gx,gy,alpha,blendMode){
		'use strict';
		if (!tex.getEnabled())
			return;
		Stat.drawCall++;
		var alphaChanged=alpha!==1;
		if (alphaChanged){
			var temp=this.globalAlpha;
			this.globalAlpha *=alpha;
		}
		if (blendMode)
			this.globalCompositeOperation=blendMode;
		var uv=tex.uv,w=tex.bitmap._w,h=tex.bitmap._h;
		if (m){
			this.save();
			this.transform(m.a,m.b,m.c,m.d,m.tx+gx,m.ty+gy);
			this.drawImage(tex.bitmap._source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,tx,ty,width,height);
			this.restore();
			}else {
			this.drawImage(tex.bitmap._source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,gx+tx,gy+ty,width,height);
		}
		if (alphaChanged)
			this.globalAlpha=temp;
		if (blendMode)
			this.globalCompositeOperation="source-over";
	}

	/**@private */
	__proto.drawTexture2=function(x,y,pivotX,pivotY,m,args2){
		'use strict';
		var tex=args2[0];
		if (!tex.getEnabled())
			return;
		Stat.drawCall++;
		var uv=tex.uv,w=tex.bitmap._w,h=tex.bitmap._h;
		if (m){
			this.save();
			this.transform(m.a,m.b,m.c,m.d,m.tx+x,m.ty+y);
			this.drawImage(tex.bitmap._source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX,args2[2]-pivotY,args2[3],args2[4]);
			this.restore();
			}else {
			this.drawImage(tex.bitmap._source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX+x,args2[2]-pivotY+y,args2[3],args2[4]);
		}
	}

	__proto.fillTexture=function(texture,x,y,width,height,type,offset,other){
		if (!other.pat){
			if (texture.uv !=Texture.DEF_UV){
				var canvas=new HTMLCanvas("2D");
				canvas.getContext('2d');
				canvas.size(texture.width,texture.height);
				canvas.context.drawTexture(texture,0,0,texture.width,texture.height);
				texture=new Texture(canvas);
			}
			other.pat=this.createPattern(texture.bitmap.source,type);
		};
		var oX=x,oY=y;
		var sX=0,sY=0;
		if (offset){
			oX+=offset.x % texture.width;
			oY+=offset.y % texture.height;
			sX-=offset.x % texture.width;
			sY-=offset.y % texture.height;
		}
		this.translate(oX,oY);
		this._drawRect(sX,sY,width,height,other.pat);
		this.translate(-oX,-oY);
	}

	/**@private */
	__proto.flush=function(){
		return 0;
	}

	/**@private */
	__proto.destroy=function(){
		this.canvas.width=this.canvas.height=0;
	}

	/**@private */
	__proto.clear=function(){
		if(!Render.isConchApp)this.clearRect(0,0,this._canvas.width,this._canvas.height);
	}

	__proto.drawTriangle=function(texture,vertices,uvs,index0,index1,index2,matrix,canvasPadding){
		var source=texture.bitmap;
		var textureSource=source.source;
		var textureWidth=texture.width;
		var textureHeight=texture.height;
		var sourceWidth=source.width;
		var sourceHeight=source.height;
		var u0=uvs[index0] *sourceWidth;
		var u1=uvs[index1] *sourceWidth;
		var u2=uvs[index2] *sourceWidth;
		var v0=uvs[index0+1] *sourceHeight;
		var v1=uvs[index1+1] *sourceHeight;
		var v2=uvs[index2+1] *sourceHeight;
		var x0=vertices[index0];
		var x1=vertices[index1];
		var x2=vertices[index2];
		var y0=vertices[index0+1];
		var y1=vertices[index1+1];
		var y2=vertices[index2+1];
		if (canvasPadding){
			var paddingX=1;
			var paddingY=1;
			var centerX=(x0+x1+x2)/ 3;
			var centerY=(y0+y1+y2)/ 3;
			var normX=x0-centerX;
			var normY=y0-centerY;
			var dist=Math.sqrt((normX *normX)+(normY *normY));
			x0=centerX+((normX / dist)*(dist+paddingX));
			y0=centerY+((normY / dist)*(dist+paddingY));
			normX=x1-centerX;
			normY=y1-centerY;
			dist=Math.sqrt((normX *normX)+(normY *normY));
			x1=centerX+((normX / dist)*(dist+paddingX));
			y1=centerY+((normY / dist)*(dist+paddingY));
			normX=x2-centerX;
			normY=y2-centerY;
			dist=Math.sqrt((normX *normX)+(normY *normY));
			x2=centerX+((normX / dist)*(dist+paddingX));
			y2=centerY+((normY / dist)*(dist+paddingY));
		}
		this.save();
		if (matrix)
			this.transform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);
		this.beginPath();
		this.moveTo(x0,y0);
		this.lineTo(x1,y1);
		this.lineTo(x2,y2);
		this.closePath();
		this.clip();
		var delta=(u0 *v1)+(v0 *u2)+(u1 *v2)-(v1 *u2)-(v0 *u1)-(u0 *v2);
		var dDelta=1 / delta;
		var deltaA=(x0 *v1)+(v0 *x2)+(x1 *v2)-(v1 *x2)-(v0 *x1)-(x0 *v2);
		var deltaB=(u0 *x1)+(x0 *u2)+(u1 *x2)-(x1 *u2)-(x0 *u1)-(u0 *x2);
		var deltaC=(u0 *v1 *x2)+(v0 *x1 *u2)+(x0 *u1 *v2)-(x0 *v1 *u2)-(v0 *u1 *x2)-(u0 *x1 *v2);
		var deltaD=(y0 *v1)+(v0 *y2)+(y1 *v2)-(v1 *y2)-(v0 *y1)-(y0 *v2);
		var deltaE=(u0 *y1)+(y0 *u2)+(u1 *y2)-(y1 *u2)-(y0 *u1)-(u0 *y2);
		var deltaF=(u0 *v1 *y2)+(v0 *y1 *u2)+(y0 *u1 *v2)-(y0 *v1 *u2)-(v0 *u1 *y2)-(u0 *y1 *v2);
		this.transform(deltaA *dDelta,deltaD *dDelta,deltaB *dDelta,deltaE *dDelta,deltaC *dDelta,deltaF *dDelta);
		this.drawImage(textureSource,texture.uv[0] *sourceWidth,texture.uv[1] *sourceHeight,textureWidth,textureHeight,texture.uv[0] *sourceWidth,texture.uv[1] *sourceHeight,textureWidth,textureHeight);
		this.restore();
	}

	//=============新增==================
	__proto.transformByMatrix=function(matrix,tx,ty){
		this.transform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx+tx,matrix.ty+ty);
	}

	__proto.saveTransform=function(matrix){
		this.save();
	}

	__proto.restoreTransform=function(matrix){
		this.restore();
	}

	__proto.drawRect=function(x,y,width,height,fillColor,lineColor,lineWidth){
		var ctx=this;
		if (fillColor !=null){
			ctx.fillStyle=fillColor;
			ctx.fillRect(x,y,width,height);
		}
		if (lineColor !=null){
			ctx.strokeStyle=lineColor;
			ctx.lineWidth=lineWidth;
			ctx.strokeRect(x,y,width,height);
		}
	}

	/**@private */
	__proto.drawTexture=function(tex,x,y,width,height){
		if (!tex.loaded)return;
		Stat.drawCall++;
		var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
		this.drawImage(tex.bitmap._source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x,y,width,height);
	}

	__proto.drawTextures=function(tex,pos,tx,ty){
		Stat.drawCall+=pos.length / 2;
		var w=tex.width;
		var h=tex.height;
		for (var i=0,sz=pos.length;i < sz;i+=2){
			this.drawTexture(tex,pos[i]+tx,pos[i+1]+ty,w,h);
		}
	}

	/**
	*绘制三角形
	*@param x
	*@param y
	*@param tex
	*@param args [x,y,texture,vertices,indices,uvs,matrix]
	*/
	__proto.drawTriangles=function(texture,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){
		var i=0,len=indices.length;
		this.translate(x,y);
		for (i=0;i < len;i+=3){
			var index0=indices[i] *2;
			var index1=indices[i+1] *2;
			var index2=indices[i+2] *2;
			this.drawTriangle(texture,vertices,uvs,index0,index1,index2,matrix,true);
		}
		this.translate(-x,-y);
	}

	__proto.alpha=function(value){
		this.globalAlpha *=value;
	}

	__proto._transform=function(mat,pivotX,pivotY){
		this.translate(pivotX,pivotY);
		this.transform(mat.a,mat.b,mat.c,mat.d,mat.tx,mat.ty);
		this.translate(-pivotX,-pivotY);
	}

	__proto._rotate=function(angle,pivotX,pivotY){
		this.translate(pivotX,pivotY);
		this.rotate(angle);
		this.translate(-pivotX,-pivotY);
	}

	__proto._scale=function(scaleX,scaleY,pivotX,pivotY){
		this.translate(pivotX,pivotY);
		this.scale(scaleX,scaleY);
		this.translate(-pivotX,-pivotY);
	}

	__proto._drawLine=function(x,y,fromX,fromY,toX,toY,lineColor,lineWidth,vid){
		var ctx=this.ctx;
		this.beginPath();
		this.strokeStyle=lineColor;
		this.lineWidth=lineWidth;
		this.moveTo(x+fromX,y+fromY);
		this.lineTo(x+toX,y+toY);
		this.stroke();
	}

	__proto._drawLines=function(x,y,points,lineColor,lineWidth,vid){
		Render.isWebGL && this.setPathId(vid);
		this.beginPath();
		this.strokeStyle=lineColor;
		this.lineWidth=lineWidth;
		var i=2,n=points.length;
		if (Render.isWebGL){
			this.addPath(points.slice(),false,false,x,y);
			}else {
			this.moveTo(x+points[0],y+points[1]);
			while (i < n){
				this.lineTo(x+points[i++],y+points[i++]);
			}
		}
		this.stroke();
	}

	__proto.drawCurves=function(x,y,points,lineColor,lineWidth){
		this.beginPath();
		this.strokeStyle=lineColor;
		this.lineWidth=lineWidth;
		this.moveTo(x+points[0],y+points[1]);
		var i=2,n=points.length;
		while (i < n){
			this.quadraticCurveTo(x+points[i++],y+points[i++],x+points[i++],y+points[i++]);
		}
		this.stroke();
	}

	__proto._fillAndStroke=function(fillColor,strokeColor,lineWidth,isConvexPolygon){
		(isConvexPolygon===void 0)&& (isConvexPolygon=false);
		if (fillColor !=null){
			this.fillStyle=fillColor;
			this.fill();
		}
		if (strokeColor !=null && lineWidth > 0){
			this.strokeStyle=strokeColor;
			this.lineWidth=lineWidth;
			this.stroke();
		}
	}

	__proto._drawCircle=function(x,y,radius,fillColor,lineColor,lineWidth,vid){
		Stat.drawCall++;
		Render.isWebGL? this.beginPath(true):this.beginPath();
		this.arc(x,y,radius,0,Context.PI2);
		this.closePath();
		this._fillAndStroke(fillColor,lineColor,lineWidth);
	}

	//矢量方法
	__proto._drawPie=function(x,y,radius,startAngle,endAngle,fillColor,lineColor,lineWidth,vid){
		this.beginPath();
		this.moveTo(x ,y);
		this.arc(x,y,radius,startAngle,endAngle);
		this.closePath();
		this._fillAndStroke(fillColor,lineColor,lineWidth);
	}

	//ctx.translate(-x-args[0],-y-args[1]);
	__proto._drawPoly=function(x,y,points,fillColor,lineColor,lineWidth,isConvexPolygon,vid){
		var i=2,n=points.length;
		this.beginPath();
		if (Render.isWebGL){
			this.setPathId(vid);
			this.addPath(points.slice(),true,isConvexPolygon,x,y);
			}else {
			this.moveTo(x+points[0],y+points[1]);
			while (i < n){
				this.lineTo(x+points[i++],y+points[i++]);
			}
		}
		this.closePath();
		this._fillAndStroke(fillColor,lineColor,lineWidth,isConvexPolygon);
	}

	__proto._drawPath=function(x,y,paths,brush,pen){
		var ctx=this.ctx;
		this.beginPath();
		for (var i=0,n=paths.length;i < n;i++){
			var path=paths[i];
			switch (path[0]){
				case "moveTo":
					this.moveTo(x+path[1],y+path[2]);
					break ;
				case "lineTo":
					this.lineTo(x+path[1],y+path[2]);
					break ;
				case "arcTo":
					this.arcTo(x+path[1],y+path[2],x+path[3],y+path[4],path[5]);
					break ;
				case "closePath":
					this.closePath();
					break ;
				}
		}
		if (brush !=null){
			this.fillStyle=brush.fillStyle;
			this.fill();
		}
		if (pen !=null){
			this.strokeStyle=pen.strokeStyle;
			this.lineWidth=pen.lineWidth || 1;
			this.lineJoin=pen.lineJoin;
			this.lineCap=pen.lineCap;
			this.miterLimit=pen.miterLimit;
			this.stroke();
		}
	}

	Context.__init__=function(to){
		var from=laya.resource.Context.prototype;
		to=to || CanvasRenderingContext2D.prototype;
		var funs=["saveTransform","restoreTransform","transformByMatrix","drawTriangles","drawTriangle",'drawTextures','fillWords','fillBorderWords','drawRect','strokeWord','drawText','fillTexture','setTransformByMatrix','clipRect','drawTexture','drawTexture2','drawTextureWithTransform','flush','clear','destroy','drawCanvas','fillBorderText','drawCurves',"_drawRect","alpha","_transform","_rotate","_scale","_drawLine","_drawLines","_drawCircle","_fillAndStroke","_drawPie","_drawPoly","_drawPath","drawTextureWithTransform"];
		funs.forEach(function(i){
			to[i]=from[i];
		});
	}

	Context.PI2=2 *Math.PI;
	return Context;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/ResourceManager.as=======199.999172/199.999172
/**
*@private
*<code>ResourceManager</code> 是资源管理类。它用于资源的载入、获取、销毁。
*/
//class laya.resource.ResourceManager
var ResourceManager=(function(){
	function ResourceManager(name){
		/**唯一标识ID。*/
		this._id=0;
		/**名字。*/
		this._name=null;
		/**所管理资源。*/
		this._resources=null;
		/**所管理资源的累计内存,以字节为单位。*/
		this._memorySize=0;
		this._id=++ResourceManager._uniqueIDCounter;
		this._name=name ? name :"Content Manager";
		ResourceManager._isResourceManagersSorted=false;
		this._memorySize=0;
		ResourceManager._resourceManagers.push(this);
		this._resources=[];
	}

	__class(ResourceManager,'laya.resource.ResourceManager');
	var __proto=ResourceManager.prototype;
	Laya.imps(__proto,{"laya.resource.IDispose":true})
	/**
	*获取指定索引的资源 Resource 对象。
	*@param 索引。
	*@return 资源 Resource 对象。
	*/
	__proto.getResourceByIndex=function(index){
		return this._resources[index];
	}

	/**
	*获取此管理器所管理的资源个数。
	*@return 资源个数。
	*/
	__proto.getResourcesLength=function(){
		return this._resources.length;
	}

	/**
	*添加指定资源。
	*@param resource 需要添加的资源 Resource 对象。
	*@return 是否添加成功。
	*/
	__proto.addResource=function(resource){
		if (resource.resourceManager)
			resource.resourceManager.removeResource(resource);
		var index=this._resources.indexOf(resource);
		if (index===-1){
			resource._resourceManager=this;
			this._resources.push(resource);
			this.addSize(resource.gpuMemory);
			return true;
		}
		return false;
	}

	/**
	*移除指定资源。
	*@param resource 需要移除的资源 Resource 对象
	*@return 是否移除成功。
	*/
	__proto.removeResource=function(resource){
		var index=this._resources.indexOf(resource);
		if (index!==-1){
			this._resources.splice(index,1);
			resource._resourceManager=null;
			this._memorySize-=resource.gpuMemory;
			return true;
		}
		return false;
	}

	/**
	*卸载此资源管理器载入的资源。
	*/
	__proto.unload=function(){
		var tempResources=this._resources.slice(0,this._resources.length);
		for (var i=0;i < tempResources.length;i++){
			var resource=tempResources[i];
			resource.destroy();
		}
		tempResources.length=0;
	}

	/**释放资源。*/
	__proto.dispose=function(){
		if (this===ResourceManager._systemResourceManager)
			throw new Error("systemResourceManager不能被释放！");
		ResourceManager._resourceManagers.splice(ResourceManager._resourceManagers.indexOf(this),1);
		ResourceManager._isResourceManagersSorted=false;
		var tempResources=this._resources.slice(0,this._resources.length);
		for (var i=0;i < tempResources.length;i++){
			var resource=tempResources[i];
			resource.resourceManager.removeResource(resource);
			resource.destroy();
		}
		tempResources.length=0;
	}

	/**
	*增加内存。
	*@param add 需要增加的内存大小。
	*/
	__proto.addSize=function(add){
		if (add){
			this._memorySize+=add;
		}
	}

	/**
	*唯一标识 ID 。
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*名字。
	*/
	__getset(0,__proto,'name',function(){
		return this._name;
		},function(value){
		if ((value || value!=="")&& this._name!==value){
			this._name=value;
			ResourceManager._isResourceManagersSorted=false;
		}
	});

	/**
	*此管理器所管理资源的累计内存，以字节为单位。
	*/
	__getset(0,__proto,'memorySize',function(){
		return this._memorySize;
	});

	/**
	*系统资源管理器。
	*/
	__getset(1,ResourceManager,'systemResourceManager',function(){
		return ResourceManager._systemResourceManager;
	});

	ResourceManager.__init__=function(){
		ResourceManager.currentResourceManager=ResourceManager.systemResourceManager;
	}

	ResourceManager.getLoadedResourceManagerByIndex=function(index){
		return ResourceManager._resourceManagers[index];
	}

	ResourceManager.getLoadedResourceManagersCount=function(){
		return ResourceManager._resourceManagers.length;
	}

	ResourceManager.recreateContentManagers=function(force){
		(force===void 0)&& (force=false);
	}

	ResourceManager.releaseContentManagers=function(force){
		(force===void 0)&& (force=false);
		var temp=ResourceManager.currentResourceManager;
		for (var i=0;i < ResourceManager._resourceManagers.length;i++){
			ResourceManager.currentResourceManager=ResourceManager._resourceManagers[i];
			for (var j=0;j < ResourceManager.currentResourceManager._resources.length;j++){
				var resource=ResourceManager.currentResourceManager._resources[j];
				(!resource.released)&& (resource.releaseResource(force));
			}
		}
		ResourceManager.currentResourceManager=temp;
	}

	ResourceManager._uniqueIDCounter=0;
	ResourceManager._isResourceManagersSorted=false;
	ResourceManager._resourceManagers=[];
	__static(ResourceManager,
	['_systemResourceManager',function(){return this._systemResourceManager=new ResourceManager("System Resource Manager");},'currentResourceManager',function(){return this.currentResourceManager=ResourceManager._systemResourceManager;}
	]);
	return ResourceManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/ConchCmdReplace.as=======199.999170/199.999170
/**
*...
*@author ww
*/
//class laya.runtime.ConchCmdReplace
var ConchCmdReplace=(function(){
	function ConchCmdReplace(){}
	__class(ConchCmdReplace,'laya.runtime.ConchCmdReplace');
	ConchCmdReplace.__init__=function(){
		var cmdO=laya.display.cmd;
		var cmdONative=laya.display.cmdNative;
		var key;
		for (key in cmdO){
			if (cmdONative[key+"Native"]){
				cmdO[key].create=cmdONative[key+"Native"].create;
			}
		}
	}

	return ConchCmdReplace;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/ConchGraphicsAdpt.as=======199.999169/199.999169
/**
*...
*@author ww
*/
//class laya.runtime.ConchGraphicsAdpt
var ConchGraphicsAdpt=(function(){
	function ConchGraphicsAdpt(){
		this._commandEncoder=null;
	}

	__class(ConchGraphicsAdpt,'laya.runtime.ConchGraphicsAdpt');
	var __proto=ConchGraphicsAdpt.prototype;
	__proto._createData=function(){
		this._commandEncoder=LayaGL.instance.createCommandEncoder(128,64,true);
	}

	__proto._clearData=function(){
		if (this._commandEncoder)this._commandEncoder.clearEncoding();
	}

	__proto._destroyData=function(){
		if (this._commandEncoder){
			this._commandEncoder.clearEncoding();
			this._commandEncoder=null;
		}
	}

	ConchGraphicsAdpt.__init__=function(){
		var spP=Graphics["prototype"];
		var mP=ConchGraphicsAdpt["prototype"];
		var funs=[
		"_createData",
		"_clearData",
		"_destroyData"];
		var i=0,len=0;
		len=funs.length;
		var tFunName;
		for (i=0;i < len;i++){
			tFunName=funs[i];
			spP[tFunName]=mP[tFunName];
		}
	}

	return ConchGraphicsAdpt;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/LayaGLTemplate.as=======199.999162/199.999162
/**
*@private
*命令模板，用来优化合并命令执行
*/
//class laya.runtime.LayaGLTemplate
var LayaGLTemplate=(function(){
	function LayaGLTemplate(){
		this._commStr="";
		this._id=0;
		this._commandEncoder=LayaGL.instance.createCommandEncoder(64,16,false);
	}

	__class(LayaGLTemplate,'laya.runtime.LayaGLTemplate');
	var __proto=LayaGLTemplate.prototype;
	__proto.addComd=function(funcName,argsArray){
		this._commStr+=funcName+"("+argsArray+");";
		this._commandEncoder[funcName].apply(this._commandEncoder,argsArray);
	}

	LayaGLTemplate.createByRenderType=function(renderType){
		var template=LayaGLTemplate.GLS[renderType]=new LayaGLTemplate();
		if (Render.isConchApp){
			window.conch.setGLTemplate(renderType,template._commandEncoder.getPtrID());
		};
		var n=0x01;
		while (n <=0x2000){
			var tempType=renderType & n;
			if (tempType && LayaGLTemplate.__FUN_PARAM__[n]){
				var objArr=LayaGLTemplate.__FUN_PARAM__[n];
				for (var i=0,sz=objArr.length;i < sz;i++){
					var obj=objArr[i];
					template.addComd(obj.func,obj.args);
				}
			}
			n <<=1;
		}
		template._id=renderType;
		console.log("template="+template._commStr);
		return template;
	}

	LayaGLTemplate.__init__=function(){
		LayaGLTemplate.__FUN_PARAM__[0x01]=[{func:"setGlobalValueByParamData",args:[LayaNative2D.GLOBALVALUE_DRAWTEXTURE_COLOR,15,21*4] }];
		LayaGLTemplate.__FUN_PARAM__[0x02]=[ {func:"calcLocalMatrix32",args:[14*4,15*4,5*4,6*4,7*4,8*4,9*4,10*4,11*4,12*4,13*4]},
		{func:"setGlobalValueByParamData",args:[LayaNative2D.GLOBALVALUE_MATRIX32,7,15 *4] }];
		LayaGLTemplate.__FUN_PARAM__[0x100]=[{func:"useCommandEncoder",args:[23*4,24 *4,1] }];
		LayaGLTemplate.__FUN_PARAM__[0x200]=[ {func:"useCommandEncoder",args:[22 *4,-1,1] }];
		LayaGLTemplate.__FUN_PARAM__[0x400]=[{func:"useCommandEncoder",args:[25 *4,-1,3] }];
		LayaGLTemplate.__FUN_PARAM__[0x800]=[{func:"useCommandEncoder",args:[26 *4,-1,1] }];
		LayaGLTemplate.__FUN_PARAM__[0x40]=[ {func:"setClipByParamData",args:[LayaNative2D.GLOBALVALUE_CLIPDIR,LayaNative2D.GLOBALVALUE_CLIPSIZE,LayaNative2D.GLOBALVALUE_MATRIX32,27 *4] },
		{func:"setGlobalValueByParamData",args:[LayaNative2D.GLOBALVALUE_MATRIX32,9,31 *4] }];
		LayaGLTemplate.__FUN_PARAM__[0x10]=[ {func:"addShaderMacro",args:[LayaNative2D.SHADER_MACRO_COLOR_FILTER] },
		{func:"setGlobalValueByParamData",args:[LayaNative2D.GLOBALVALUE_COLORFILTER_COLOR,8,33 *4] },
		{func:"setGlobalValueByParamData",args:[LayaNative2D.GLOBALVALUE_COLORFILTER_ALPHA,8,49*4] }];
	}

	LayaGLTemplate.GLS=[];
	LayaGLTemplate.__FUN_PARAM__=[];
	return LayaGLTemplate;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/MatrixConch.as=======199.999161/199.999161
/**
*<p> <code>Matrix</code> 类表示一个转换矩阵，它确定如何将点从一个坐标空间映射到另一个坐标空间。</p>
*<p>您可以对一个显示对象执行不同的图形转换，方法是设置 Matrix 对象的属性，将该 Matrix 对象应用于 Transform 对象的 matrix 属性，然后应用该 Transform 对象作为显示对象的 transform 属性。这些转换函数包括平移（x 和 y 重新定位）、旋转、缩放和倾斜。</p>
*/
//class laya.runtime.MatrixConch
var MatrixConch=(function(){
	function MatrixConch(a,b,c,d,tx,ty,nums){
		/**@private */
		//this._nums=null;
		/**@private 是否有旋转缩放操作*/
		//this._bTransform=false;
		(a===void 0)&& (a=1);
		(b===void 0)&& (b=0);
		(c===void 0)&& (c=0);
		(d===void 0)&& (d=1);
		(tx===void 0)&& (tx=0);
		(ty===void 0)&& (ty=0);
		this._nums=nums=nums ? nums :new Float32Array(6);
		nums[0]=a;
		nums[1]=b;
		nums[2]=c;
		nums[3]=d;
		nums[4]=tx;
		nums[5]=ty;
		this._checkTransform();
	}

	__class(MatrixConch,'laya.runtime.MatrixConch');
	var __proto=MatrixConch.prototype;
	/**
	*将本矩阵设置为单位矩阵。
	*@return 返回矩阵对象本身
	*/
	__proto.identity=function(){
		var nums=this._nums;
		nums[0]=nums[3]=1;
		nums[1]=nums[4]=nums[5]=nums[2]=0;
		this._bTransform=false;
		return this;
	}

	/**@private */
	__proto._checkTransform=function(){
		var nums=this._nums;
		return this._bTransform=(nums[0]!==1 || nums[1]!==0 || nums[2]!==0 || nums[3]!==1);
	}

	/**
	*设置沿 x 、y 轴平移每个点的距离。
	*@param x 沿 x 轴平移每个点的距离。
	*@param y 沿 y 轴平移每个点的距离。
	*@return 返回矩阵对象本身
	*/
	__proto.setTranslate=function(x,y){
		this._nums[4]=x;
		this._nums[5]=y;
		return this;
	}

	/**
	*沿 x 和 y 轴平移矩阵，平移的变化量由 x 和 y 参数指定。
	*@param x 沿 x 轴向右移动的量（以像素为单位）。
	*@param y 沿 y 轴向下移动的量（以像素为单位）。
	*@return 返回矩阵对象本身
	*/
	__proto.translate=function(x,y){
		this._nums[4]+=x;
		this._nums[5]+=y;
		return this;
	}

	/**
	*对矩阵应用缩放转换。
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*@return 返回矩阵对象本身
	*/
	__proto.scale=function(x,y){
		var nums=this._nums;
		nums[0] *=x;
		nums[3] *=y;
		nums[2] *=x;
		nums[1] *=y;
		nums[4] *=x;
		nums[5] *=y;
		this._bTransform=true;
		return this;
	}

	/**
	*对 Matrix 对象应用旋转转换。
	*@param angle 以弧度为单位的旋转角度。
	*@return 返回矩阵对象本身
	*/
	__proto.rotate=function(angle){
		var nums=this._nums;
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var a1=nums[0];
		var c1=nums[2];
		var tx1=nums[4];
		nums[0]=a1 *cos-nums[1] *sin;
		nums[1]=a1 *sin+nums[1] *cos;
		nums[2]=c1 *cos-nums[3] *sin;
		nums[3]=c1 *sin+nums[3] *cos;
		nums[4]=tx1 *cos-nums[5] *sin;
		nums[5]=tx1 *sin+nums[5] *cos;
		this._bTransform=true;
		return this;
	}

	/**
	*对 Matrix 对象应用倾斜转换。
	*@param x 沿着 X 轴的 2D 倾斜弧度。
	*@param y 沿着 Y 轴的 2D 倾斜弧度。
	*@return 返回矩阵对象本身
	*/
	__proto.skew=function(x,y){
		var nums=this._nums;
		var tanX=Math.tan(x);
		var tanY=Math.tan(y);
		var a1=nums[0];
		var b1=nums[1];
		nums[0]+=tanY *nums[2];
		nums[1]+=tanY *nums[3];
		nums[2]+=tanX *a1;
		nums[3]+=tanX *b1;
		return this;
	}

	/**
	*对指定的点应用当前矩阵的逆转化并返回此点。
	*@param out 待转化的点 Point 对象。
	*@return 返回out
	*/
	__proto.invertTransformPoint=function(out){
		var nums=this._nums;
		var a1=nums[0];
		var b1=nums[1];
		var c1=nums[2];
		var d1=nums[3];
		var tx1=nums[4];
		var n=a1 *d1-b1 *c1;
		var a2=d1 / n;
		var b2=-b1 / n;
		var c2=-c1 / n;
		var d2=a1 / n;
		var tx2=(c1 *nums[5]-d1 *tx1)/ n;
		var ty2=-(a1 *nums[5]-b1 *tx1)/ n;
		return out.setTo(a2 *out.x+c2 *out.y+tx2,b2 *out.x+d2 *out.y+ty2);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPoint=function(out){
		var nums=this._nums;
		return out.setTo(nums[0] *out.x+nums[2] *out.y+nums[4],nums[1] *out.x+nums[3] *out.y+nums[5]);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点，忽略tx、ty。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPointN=function(out){
		var nums=this._nums;
		return out.setTo(nums[0] *out.x+nums[2] *out.y ,nums[1] *out.x+nums[3] *out.y);
	}

	/**
	*获取 X 轴缩放值。
	*@return X 轴缩放值。
	*/
	__proto.getScaleX=function(){
		var nums=this._nums;
		return nums[1]===0 ? this.a :Math.sqrt(nums[0] *nums[0]+nums[1] *nums[1]);
	}

	/**
	*获取 Y 轴缩放值。
	*@return Y 轴缩放值。
	*/
	__proto.getScaleY=function(){
		var nums=this._nums;
		return nums[2]===0 ? nums[3] :Math.sqrt(nums[2] *nums[2]+nums[3] *nums[3]);
	}

	/**
	*执行原始矩阵的逆转换。
	*@return 返回矩阵对象本身
	*/
	__proto.invert=function(){
		var nums=this._nums;
		var a1=nums[0];
		var b1=nums[1];
		var c1=nums[2];
		var d1=nums[3];
		var tx1=nums[4];
		var n=a1 *d1-b1 *c1;
		nums[0]=d1 / n;
		nums[1]=-b1 / n;
		nums[2]=-c1 / n;
		nums[3]=a1 / n;
		nums[4]=(c1 *this.ty-d1 *tx1)/ n;
		nums[5]=-(a1 *this.ty-b1 *tx1)/ n;
		return this;
	}

	/**
	*将 Matrix 的成员设置为指定值。
	*@param a 缩放或旋转图像时影响像素沿 x 轴定位的值。
	*@param b 旋转或倾斜图像时影响像素沿 y 轴定位的值。
	*@param c 旋转或倾斜图像时影响像素沿 x 轴定位的值。
	*@param d 缩放或旋转图像时影响像素沿 y 轴定位的值。
	*@param tx 沿 x 轴平移每个点的距离。
	*@param ty 沿 y 轴平移每个点的距离。
	*@return 返回矩阵对象本身
	*/
	__proto.setTo=function(a,b,c,d,tx,ty){
		var nums=this._nums;
		nums[0]=a,nums[1]=b,nums[2]=c,nums[3]=d,nums[4]=tx,nums[5]=ty;
		return this;
	}

	/**
	*将指定矩阵与当前矩阵连接，从而将这两个矩阵的几何效果有效地结合在一起。
	*@param matrix 要连接到源矩阵的矩阵。
	*@return 当前矩阵。
	*/
	__proto.concat=function(matrix){
		var nums=this._nums;
		var aNums=matrix._nums;
		var a=nums[0];
		var c=nums[2];
		var tx=nums[4];
		nums[0]=a *aNums[0]+nums[1] *aNums[2];
		nums[1]=a *aNums[1]+nums[1] *aNums[3];
		nums[2]=c *aNums[0]+nums[3] *aNums[2];
		nums[3]=c *aNums[1]+nums[3] *aNums[3];
		nums[4]=tx *aNums[0]+nums[5] *aNums[2]+aNums[4];
		nums[5]=tx *aNums[1]+nums[5] *aNums[3]+aNums[5];
		return this;
	}

	/**
	*@private
	*对矩阵应用缩放转换。反向相乘
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*/
	__proto.scaleEx=function(x,y){
		var nums=this._nums;
		var ba=nums[0],bb=nums[1],bc=nums[2],bd=nums[3];
		if (bb!==0 || bc!==0){
			nums[0]=x *ba;
			nums[1]=x *bb;
			nums[2]=y *bc;
			nums[3]=y *bd;
			}else {
			nums[0]=x *ba;
			nums[1]=0 *bd;
			nums[2]=0 *ba;
			nums[3]=y *bd;
		}
		this._bTransform=true;
	}

	/**
	*@private
	*对 Matrix 对象应用旋转转换。反向相乘
	*@param angle 以弧度为单位的旋转角度。
	*/
	__proto.rotateEx=function(angle){
		var nums=this._nums;
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var ba=nums[0],bb=nums[1],bc=nums[2],bd=nums[3];
		if (bb!==0 || bc!==0){
			nums[0]=cos *ba+sin *bc;
			nums[1]=cos *bb+sin *bd;
			nums[2]=-sin *ba+cos *bc;
			nums[3]=-sin *bb+cos *bd;
			}else {
			nums[0]=cos *ba;
			nums[1]=sin *bd;
			nums[2]=-sin *ba;
			nums[3]=cos *bd;
		}
		this._bTransform=true;
	}

	/**
	*返回此 Matrix 对象的副本。
	*@return 与原始实例具有完全相同的属性的新 Matrix 实例。
	*/
	__proto.clone=function(){
		var nums=this._nums;
		var dec=MatrixConch.create();
		var dNums=dec._nums;
		dNums[0]=nums[0];
		dNums[1]=nums[1];
		dNums[2]=nums[2];
		dNums[3]=nums[3];
		dNums[4]=nums[4];
		dNums[5]=nums[5];
		dec._bTransform=this._bTransform;
		return dec;
	}

	/**
	*将当前 Matrix 对象中的所有矩阵数据复制到指定的 Matrix 对象中。
	*@param dec 要复制当前矩阵数据的 Matrix 对象。
	*@return 已复制当前矩阵数据的 Matrix 对象。
	*/
	__proto.copyTo=function(dec){
		var nums=this._nums;
		var dNums=dec._nums;
		dNums[0]=nums[0];
		dNums[1]=nums[1];
		dNums[2]=nums[2];
		dNums[3]=nums[3];
		dNums[4]=nums[4];
		dNums[5]=nums[5];
		dec._bTransform=this._bTransform;
		return dec;
	}

	/**
	*返回列出该 Matrix 对象属性的文本值。
	*@return 一个字符串，它包含 Matrix 对象的属性值：a、b、c、d、tx 和 ty。
	*/
	__proto.toString=function(){
		return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty;
	}

	/**
	*销毁此对象。
	*/
	__proto.destroy=function(){
		this.recover();
	}

	/**
	*回收到对象池，方便复用
	*/
	__proto.recover=function(){
		MatrixConch._pool.push(this);
	}

	/**缩放或旋转图像时影响像素沿 x 轴定位的值。*/
	__getset(0,__proto,'a',function(){
		return this._nums[0];
		},function(value){
		this._nums[0]=value;
	});

	/**旋转或倾斜图像时影响像素沿 y 轴定位的值。*/
	__getset(0,__proto,'b',function(){
		return this._nums[1];
		},function(value){
		this._nums[1]=value;
	});

	/**旋转或倾斜图像时影响像素沿 x 轴定位的值。*/
	__getset(0,__proto,'c',function(){
		return this._nums[2];
		},function(value){
		this._nums[2]=value;
	});

	/**缩放或旋转图像时影响像素沿 y 轴定位的值。*/
	__getset(0,__proto,'d',function(){
		return this._nums[3];
		},function(value){
		this._nums[3]=value;
	});

	/**沿 x 轴平移每个点的距离。*/
	__getset(0,__proto,'tx',function(){
		return this._nums[4];
		},function(value){
		this._nums[4]=value;
	});

	/**沿 y 轴平移每个点的距离。*/
	__getset(0,__proto,'ty',function(){
		return this._nums[5];
		},function(value){
		this._nums[5]=value;
	});

	MatrixConch.mul=function(m1,m2,out){
		var m1Nums=m1._nums;
		var m2Nums=m2._nums;
		var oNums=out._nums;
		var aa=m1Nums[0],ab=m1Nums[1],ac=m1Nums[2],ad=m1Nums[3],atx=m1Nums[4],aty=m1Nums[5];
		var ba=m2Nums[0],bb=m2Nums[1],bc=m2Nums[2],bd=m2Nums[3],btx=m2Nums[4],bty=m2Nums[5];
		if (bb!==0 || bc!==0){
			oNums[0]=aa *ba+ab *bc;
			oNums[1]=aa *bb+ab *bd;
			oNums[2]=ac *ba+ad *bc;
			oNums[3]=ac *bb+ad *bd;
			oNums[4]=ba *atx+bc *aty+btx;
			oNums[5]=bb *atx+bd *aty+bty;
			}else {
			oNums[0]=aa *ba;
			oNums[1]=ab *bd;
			oNums[2]=ac *ba;
			oNums[3]=ad *bd;
			oNums[4]=ba *atx+btx;
			oNums[5]=bd *aty+bty;
		}
		return out;
	}

	MatrixConch.mul16=function(m1,m2,out){
		var m1Nums=m1._nums;
		var m2Nums=m2._nums;
		var aa=m1Nums[0],ab=m1Nums[1],ac=m1Nums[2],ad=m1Nums[3],atx=m1Nums[4],aty=m1Nums[5];
		var ba=m2Nums[0],bb=m2Nums[1],bc=m2Nums[2],bd=m2Nums[3],btx=m2Nums[4],bty=m2Nums[5];
		if (bb!==0 || bc!==0){
			out[0]=aa *ba+ab *bc;
			out[1]=aa *bb+ab *bd;
			out[4]=ac *ba+ad *bc;
			out[5]=ac *bb+ad *bd;
			out[12]=ba *atx+bc *aty+btx;
			out[13]=bb *atx+bd *aty+bty;
			}else {
			out[0]=aa *ba;
			out[1]=ab *bd;
			out[4]=ac *ba;
			out[5]=ad *bd;
			out[12]=ba *atx+btx;
			out[13]=bd *aty+bty;
		}
		return out;
	}

	MatrixConch.mulPre=function(m1,ba,bb,bc,bd,btx,bty,out){
		var m1Nums=m1._nums;
		var oNums=out._nums;
		var aa=m1Nums[0],ab=m1Nums[1],ac=m1Nums[2],ad=m1Nums[3],atx=m1Nums[4],aty=m1Nums[5];
		if (bb!==0 || bc!==0){
			oNums[0]=aa *ba+ab *bc;
			oNums[1]=aa *bb+ab *bd;
			oNums[2]=ac *ba+ad *bc;
			oNums[3]=ac *bb+ad *bd;
			oNums[4]=ba *atx+bc *aty+btx;
			oNums[5]=bb *atx+bd *aty+bty;
			}else {
			oNums[0]=aa *ba;
			oNums[1]=ab *bd;
			oNums[2]=ac *ba;
			oNums[3]=ad *bd;
			oNums[4]=ba *atx+btx;
			oNums[5]=bd *aty+bty;
		}
		return out;
	}

	MatrixConch.mulPos=function(m1,aa,ab,ac,ad,atx,aty,out){
		var m1Nums=m1._nums;
		var oNums=out._nums;
		var ba=m1Nums[0],bb=m1Nums[1],bc=m1Nums[2],bd=m1Nums[3],btx=m1Nums[4],bty=m1Nums[5];
		if (bb!==0 || bc!==0){
			oNums[0]=aa *ba+ab *bc;
			oNums[1]=aa *bb+ab *bd;
			oNums[2]=ac *ba+ad *bc;
			oNums[3]=ac *bb+ad *bd;
			oNums[4]=ba *atx+bc *aty+btx;
			oNums[5]=bb *atx+bd *aty+bty;
			}else {
			oNums[0]=aa *ba;
			oNums[1]=ab *bd;
			oNums[2]=ac *ba;
			oNums[3]=ad *bd;
			oNums[4]=ba *atx+btx;
			oNums[5]=bd *aty+bty;
		}
		return out;
	}

	MatrixConch.preMul=function(parent,self,out){
		var pNums=parent._nums;
		var sNums=self._nums;
		var oNums=out._nums;
		var pa=pNums[0],pb=pNums[1],pc=pNums[2],pd=pNums[3];
		var na=sNums[0],nb=sNums[1],nc=sNums[2],nd=sNums[3],ntx=sNums[4],nty=sNums[5];
		oNums[0]=na *pa;
		oNums[1]=oNums[2]=0;
		oNums[3]=nd *pd;
		oNums[4]=ntx *pa+pNums[4];
		oNums[5]=nty *pd+pNums[5];
		if (nb!==0 || nc!==0 || pb!==0 || pc!==0){
			oNums[0]+=nb *pc;
			oNums[3]+=nc *pb;
			oNums[1]+=na *pb+nb *pd;
			oNums[2]+=nc *pa+nd *pc;
			oNums[4]+=nty *pc;
			oNums[5]+=ntx *pb;
		}
		return out;
	}

	MatrixConch.preMulXY=function(parent,x,y,out){
		var pNums=parent._nums;
		var oNums=out._nums;
		var pa=pNums[0],pb=pNums[1],pc=pNums[2],pd=pNums[3];
		oNums[0]=pa;
		oNums[1]=pb;
		oNums[2]=pc;
		oNums[3]=pd;
		oNums[4]=x *pa+pNums[4]+y *pc;
		oNums[5]=y *pd+pNums[5]+x *pb;
		return out;
	}

	MatrixConch.create=function(nums){
		var m;
		if (MatrixConch._pool.length){
			m=MatrixConch._pool.pop();
			nums && (m._nums=nums);
			m.identity();
			return m;
		}else return new MatrixConch(1,0,0,1,0,0,nums);
	}

	MatrixConch.A=0;
	MatrixConch.B=1;
	MatrixConch.C=2;
	MatrixConch.D=3;
	MatrixConch.TX=4;
	MatrixConch.TY=5;
	MatrixConch.EMPTY=new MatrixConch();
	MatrixConch.TEMP=new MatrixConch();
	MatrixConch._pool=[];
	return MatrixConch;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/system/System.as=======199.999160/199.999160
/**
*@private
*/
//class laya.system.System
var System=(function(){
	function System(){}
	__class(System,'laya.system.System');
	System.changeDefinition=function(name,classObj){
		Laya[name]=classObj;
		var str=name+"=classObj";
		eval(str);
	}

	System.__init__=function(){
		if (Render.isConchApp && window.conch){
			window.conch.disableConchResManager();
			window.conch.disableConchAutoRestoreLostedDevice();
		}
	}

	return System;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/LayoutStyle.as=======199.999137/199.999137
/**
*<code>LayoutStyle</code> 是一个布局样式类。
*/
//class laya.ui.LayoutStyle
var LayoutStyle=(function(){
	function LayoutStyle(){
		/**一个布尔值，表示是否有效。*/
		this.enable=false;
		this.top=NaN;
		this.bottom=NaN;
		this.left=NaN;
		this.right=NaN;
		this.centerX=NaN;
		this.centerY=NaN;
		this.anchorX=NaN;
		this.anchorY=NaN;
	}

	__class(LayoutStyle,'laya.ui.LayoutStyle');
	__static(LayoutStyle,
	['EMPTY',function(){return this.EMPTY=new LayoutStyle();}
	]);
	return LayoutStyle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Styles.as=======199.999130/199.999130
/**
*<code>Styles</code> 定义了组件常用的样式属性。
*/
//class laya.ui.Styles
var Styles=(function(){
	function Styles(){}
	__class(Styles,'laya.ui.Styles');
	Styles.labelColor="#000000";
	Styles.buttonStateNum=3;
	Styles.scrollBarMinNum=15;
	Styles.scrollBarDelayTime=500;
	__static(Styles,
	['defaultSizeGrid',function(){return this.defaultSizeGrid=[4,4,4,4,0];},'labelPadding',function(){return this.labelPadding=[2,2,2,2];},'inputLabelPadding',function(){return this.inputLabelPadding=[1,1,1,3];},'buttonLabelColors',function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"];},'comboBoxItemColors',function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"];}
	]);
	return Styles;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/UIUtils.as=======199.999123/199.999123
/**
*<code>UIUtils</code> 是文本工具集。
*/
//class laya.ui.UIUtils
var UIUtils=(function(){
	function UIUtils(){}
	__class(UIUtils,'laya.ui.UIUtils');
	UIUtils.fillArray=function(arr,str,type){
		var temp=arr.concat();
		if (str){
			var a=str.split(",");
			for (var i=0,n=Math.min(temp.length,a.length);i < n;i++){
				var value=a[i];
				temp[i]=(value=="true" ? true :(value=="false" ? false :value));
				if (type !=null)temp[i]=type(value);
			}
		}
		return temp;
	}

	UIUtils.toColor=function(color){
		return Utils.toHexColor(color);
	}

	UIUtils.gray=function(traget,isGray){
		(isGray===void 0)&& (isGray=true);
		if (isGray){
			UIUtils.addFilter(traget,UIUtils.grayFilter);
			}else {
			UIUtils.clearFilter(traget,ColorFilter);
		}
	}

	UIUtils.addFilter=function(target,filter){
		var filters=target.filters || [];
		filters.push(filter);
		target.filters=filters;
	}

	UIUtils.clearFilter=function(target,filterType){
		var filters=target.filters;
		if (filters !=null && filters.length > 0){
			for (var i=filters.length-1;i >-1;i--){
				var filter=filters[i];
				if (Laya.__typeof(filter,filterType))filters.splice(i,1);
			}
			target.filters=filters;
		}
	}

	UIUtils._getReplaceStr=function(word){
		return UIUtils.escapeSequence[word];
	}

	UIUtils.adptString=function(str){
		return str.replace(/\\(\w)/g,UIUtils._getReplaceStr);
	}

	UIUtils.getBindFun=function(value){
		var fun=UIUtils._funMap.get(value);
		if (fun==null){
			var temp="\""+value+"\"";
			temp=temp.replace(/^"\${|}"$/g,"").replace(/\${/g,"\"+").replace(/}/g,"+\"");
			var str="(function(data){if(data==null)return;with(data){try{\nreturn "+temp+"\n}catch(e){}}})";
			fun=Browser.window.eval(str);
			UIUtils._funMap.set(value,fun);
		}
		return fun;
	}

	__static(UIUtils,
	['grayFilter',function(){return this.grayFilter=new ColorFilter([0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0,0,0,1,0]);},'escapeSequence',function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"};},'_funMap',function(){return this._funMap=new WeakObject();}
	]);
	return UIUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Browser.as=======199.999118/199.999118
/**
*<code>Browser</code> 是浏览器代理类。封装浏览器及原生 js 提供的一些功能。
*/
//class laya.utils.Browser
var Browser=(function(){
	function Browser(){}
	__class(Browser,'laya.utils.Browser');
	/**获得设备像素比。*/
	__getset(1,Browser,'pixelRatio',function(){
		if (Browser._pixelRatio < 0){
			Browser.__init__();
			if (Browser.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")>-1)Browser._pixelRatio=2;
			else {
				var ctx=Browser.context;
				var backingStore=ctx.backingStorePixelRatio || ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;
				Browser._pixelRatio=(Browser._window.devicePixelRatio || 1)/ backingStore;
				if (Browser._pixelRatio < 1)Browser._pixelRatio=1;
			}
		}
		return Browser._pixelRatio;
	});

	/**浏览器窗口物理高度。考虑了设备像素比。*/
	__getset(1,Browser,'height',function(){
		Browser.__init__();
		return ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientWidth :Browser.clientHeight)*Browser.pixelRatio;
	});

	/**
	*浏览器窗口可视宽度。
	*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerWidth(包含滚动条宽度)> document.body.clientWidth(不包含滚动条宽度)，如果前者为0或为空，则选择后者。
	*/
	__getset(1,Browser,'clientWidth',function(){
		Browser.__init__();
		return Browser._window.innerWidth || Browser._document.body.clientWidth;
	});

	/**浏览器原生 window 对象的引用。*/
	__getset(1,Browser,'window',function(){
		return Browser._window || Browser.__init__();
	});

	/**
	*浏览器窗口可视高度。
	*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerHeight(包含滚动条高度)> document.body.clientHeight(不包含滚动条高度)> document.documentElement.clientHeight(不包含滚动条高度)，如果前者为0或为空，则选择后者。
	*/
	__getset(1,Browser,'clientHeight',function(){
		Browser.__init__();
		return Browser._window.innerHeight || Browser._document.body.clientHeight || Browser._document.documentElement.clientHeight;
	});

	/**浏览器窗口物理宽度。考虑了设备像素比。*/
	__getset(1,Browser,'width',function(){
		Browser.__init__();
		return ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientHeight :Browser.clientWidth)*Browser.pixelRatio;
	});

	/**画布容器，用来盛放画布的容器。方便对画布进行控制*/
	__getset(1,Browser,'container',function(){
		if (!Browser._container){
			Browser.__init__();
			Browser._container=Browser.createElement("div");
			Browser._container.id="layaContainer";
			Browser._document.body.appendChild(Browser._container);
		}
		return Browser._container;
		},function(value){
		Browser._container=value;
	});

	/**浏览器原生 document 对象的引用。*/
	__getset(1,Browser,'document',function(){
		Browser.__init__();
		return Browser._document;
	});

	Browser.__init__=function(){
		if (Browser._window)return Browser._window;
		var win=Browser._window=window;
		var doc=Browser._document=win.document;
		win.requestAnimationFrame=win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (fun){
			return win.setTimeout(fun,1000 / 60);
		};
		var bodyStyle=doc.body.style;
		bodyStyle.margin=0;
		bodyStyle.overflow='hidden';
		var metas=doc.getElementsByTagName('meta');
		var i=0,flag=false,content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no';
		while (i < metas.length){
			var meta=metas[i];
			if (meta.name=='viewport'){
				meta.content=content;
				flag=true;
				break ;
			}
			i++;
		}
		if (!flag){
			meta=doc.createElement('meta');
			meta.name='viewport',meta.content=content;
			doc.getElementsByTagName('head')[0].appendChild(meta);
		};
		var u=Browser.userAgent=win.navigator.userAgent;
		Browser.onMobile=u.indexOf("Mobile")>-1;
		Browser.onIOS=!!u.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/);
		Browser.onIPhone=u.indexOf("iPhone")>-1;
		Browser.onIPad=u.indexOf("iPad")>-1;
		Browser.onAndroid=u.indexOf('Android')>-1 || u.indexOf('Adr')>-1;
		Browser.onWP=u.indexOf("Windows Phone")>-1;
		Browser.onQQBrowser=u.indexOf("QQBrowser")>-1;
		Browser.onMQQBrowser=u.indexOf("MQQBrowser")>-1 ||(u.indexOf("Mobile")>-1 && u.indexOf("QQ")>-1);
		Browser.onIE=!!win.ActiveXObject || "ActiveXObject" in win;
		Browser.onWeiXin=u.indexOf('MicroMessenger')>-1;
		Browser.onSafari=!!u.match(/Version\/\d+\.\d\x20Mobile\/\S+\x20Safari/);
		Browser.onPC=!Browser.onMobile;
		Browser.supportLocalStorage=LocalStorage.__init__();
		Browser.supportWebAudio=SoundManager.__init__();
		Render._mainCanvas=HTMLCanvas.create('2D');
		Browser.canvas=HTMLCanvas.create('2D');
		Browser.context=Browser.canvas.getContext('2d');
		return win;
	}

	Browser.createElement=function(type){
		Browser.__init__();
		return Browser._document.createElement(type);
	}

	Browser.getElementById=function(type){
		Browser.__init__();
		return Browser._document.getElementById(type);
	}

	Browser.removeElement=function(ele){
		if (ele && ele.parentNode)ele.parentNode.removeChild(ele);
	}

	Browser.now=function(){
		return Date.now();;
	}

	Browser.userAgent=null;
	Browser.onMobile=false;
	Browser.onIOS=false;
	Browser.onIPhone=false;
	Browser.onIPad=false;
	Browser.onAndroid=false;
	Browser.onWP=false;
	Browser.onQQBrowser=false;
	Browser.onMQQBrowser=false;
	Browser.onSafari=false;
	Browser.onIE=false;
	Browser.onWeiXin=false;
	Browser.onPC=false;
	Browser.supportWebAudio=false;
	Browser.supportLocalStorage=false;
	Browser.canvas=null;
	Browser.context=null;
	Browser._window=null;
	Browser._document=null;
	Browser._container=null;
	Browser._pixelRatio=-1;
	return Browser;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Byte.as=======199.999117/199.999117
/**
*<p> <code>Byte</code> 类提供用于优化读取、写入以及处理二进制数据的方法和属性。</p>
*<p> <code>Byte</code> 类适用于需要在字节层访问数据的高级开发人员。</p>
*/
//class laya.utils.Byte
var Byte=(function(){
	function Byte(data){
		/**@private 是否为小端数据。*/
		this._xd_=true;
		/**@private */
		this._allocated_=8;
		/**@private 原始数据。*/
		//this._d_=null;
		/**@private DataView*/
		//this._u8d_=null;
		/**@private */
		this._pos_=0;
		/**@private */
		this._length=0;
		if (data){
			this._u8d_=new Uint8Array(data);
			this._d_=new DataView(this._u8d_.buffer);
			this._length=this._d_.byteLength;
			}else {
			this._resizeBuffer(this._allocated_);
		}
	}

	__class(Byte,'laya.utils.Byte');
	var __proto=Byte.prototype;
	/**@private */
	__proto._resizeBuffer=function(len){
		try {
			var newByteView=new Uint8Array(len);
			if (this._u8d_ !=null){
				if (this._u8d_.length <=len)newByteView.set(this._u8d_);
				else newByteView.set(this._u8d_.subarray(0,len));
			}
			this._u8d_=newByteView;
			this._d_=new DataView(newByteView.buffer);
			}catch (err){
			throw "Invalid typed array length:"+len;
		}
	}

	/**
	*@private
	*<p>常用于解析固定格式的字节流。</p>
	*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>
	*@return 读取的字符串。
	*/
	__proto.getString=function(){
		return this.readString();
	}

	/**
	*<p>常用于解析固定格式的字节流。</p>
	*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>
	*@return 读取的字符串。
	*/
	__proto.readString=function(){
		return this._rUTF(this.getUint16());
	}

	/**
	*@private
	*<p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。</p>
	*<p><b>注意：</b>返回的 Float32Array 对象，在 JavaScript 环境下，是原生的 HTML5 Float32Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Float32Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Float32Array 对象。
	*/
	__proto.getFloat32Array=function(start,len){
		return this.readFloat32Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Float32Array 对象。
	*/
	__proto.readFloat32Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Float32Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.getUint8Array=function(start,len){
		return this.readUint8Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.readUint8Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Uint8Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*<p>从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。</p>
	*<p><b>注意：</b>返回的 Int16Array 对象，在 JavaScript 环境下，是原生的 HTML5 Int16Array 对象，对此对象的读取操作都是基于运行此程序的当前主机字节序，此顺序可能与实际数据的字节序不同，如果使用此对象进行读取，需要用户知晓实际数据的字节序和当前主机字节序，如果相同，可正常读取，否则需要用户对实际数据(Int16Array.buffer)包装一层 DataView ，使用 DataView 对象可按照指定的字节序进行读取。</p>
	*@param start 开始读取的字节偏移量位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Int16Array 对象。
	*/
	__proto.getInt16Array=function(start,len){
		return this.readInt16Array(start,len);
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。
	*@param start 开始读取的字节偏移量位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.readInt16Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Int16Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*@private
	*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。
	*@return 单精度（32 位）浮点数。
	*/
	__proto.getFloat32=function(){
		return this.readFloat32();
	}

	/**
	*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。
	*@return 单精度（32 位）浮点数。
	*/
	__proto.readFloat32=function(){
		if (this._pos_+4 > this._length)throw "getFloat32 error - Out of bounds";
		var v=this._d_.getFloat32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。
	*@return 双精度（64 位）浮点数。
	*/
	__proto.getFloat64=function(){
		return this.readFloat64();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。
	*@return 双精度（64 位）浮点数。
	*/
	__proto.readFloat64=function(){
		if (this._pos_+8 > this._length)throw "getFloat64 error - Out of bounds";
		var v=this._d_.getFloat64(this._pos_,this._xd_);
		this._pos_+=8;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 单精度（32 位）浮点数。
	*@param value 单精度（32 位）浮点数。
	*/
	__proto.writeFloat32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setFloat32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 双精度（64 位）浮点数。
	*@param value 双精度（64 位）浮点数。
	*/
	__proto.writeFloat64=function(value){
		this._ensureWrite(this._pos_+8);
		this._d_.setFloat64(this._pos_,value,this._xd_);
		this._pos_+=8;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Int32 值。
	*@return Int32 值。
	*/
	__proto.getInt32=function(){
		return this.readInt32();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int32 值。
	*@return Int32 值。
	*/
	__proto.readInt32=function(){
		if (this._pos_+4 > this._length)throw "getInt32 error - Out of bounds";
		var float=this._d_.getInt32(this._pos_,this._xd_);
		this._pos_+=4;
		return float;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint32 值。
	*@return Uint32 值。
	*/
	__proto.getUint32=function(){
		return this.readUint32();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint32 值。
	*@return Uint32 值。
	*/
	__proto.readUint32=function(){
		if (this._pos_+4 > this._length)throw "getUint32 error - Out of bounds";
		var v=this._d_.getUint32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int32 值。
	*@param value 需要写入的 Int32 值。
	*/
	__proto.writeInt32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setInt32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入 Uint32 值。
	*@param value 需要写入的 Uint32 值。
	*/
	__proto.writeUint32=function(value){
		this._ensureWrite(this._pos_+4);
		this._d_.setUint32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Int16 值。
	*@return Int16 值。
	*/
	__proto.getInt16=function(){
		return this.readInt16();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int16 值。
	*@return Int16 值。
	*/
	__proto.readInt16=function(){
		if (this._pos_+2 > this._length)throw "getInt16 error - Out of bounds";
		var us=this._d_.getInt16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint16 值。
	*@return Uint16 值。
	*/
	__proto.getUint16=function(){
		return this.readUint16();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint16 值。
	*@return Uint16 值。
	*/
	__proto.readUint16=function(){
		if (this._pos_+2 > this._length)throw "getUint16 error - Out of bounds";
		var us=this._d_.getUint16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint16 值。
	*@param value 需要写入的Uint16 值。
	*/
	__proto.writeUint16=function(value){
		this._ensureWrite(this._pos_+2);
		this._d_.setUint16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int16 值。
	*@param value 需要写入的 Int16 值。
	*/
	__proto.writeInt16=function(value){
		this._ensureWrite(this._pos_+2);
		this._d_.setInt16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*@private
	*从字节流的当前字节偏移量位置处读取一个 Uint8 值。
	*@return Uint8 值。
	*/
	__proto.getUint8=function(){
		return this.readUint8();
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint8 值。
	*@return Uint8 值。
	*/
	__proto.readUint8=function(){
		if (this._pos_+1 > this._length)throw "getUint8 error - Out of bounds";
		return this._d_.getUint8(this._pos_++);
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint8 值。
	*@param value 需要写入的 Uint8 值。
	*/
	__proto.writeUint8=function(value){
		this._ensureWrite(this._pos_+1);
		this._d_.setUint8(this._pos_,value);
		this._pos_++;
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint8 值。
	*@param pos 字节读取位置。
	*@return Uint8 值。
	*/
	__proto._getUInt8=function(pos){
		return this._readUInt8(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint8 值。
	*@param pos 字节读取位置。
	*@return Uint8 值。
	*/
	__proto._readUInt8=function(pos){
		return this._d_.getUint8(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint16 值。
	*@param pos 字节读取位置。
	*@return Uint16 值。
	*/
	__proto._getUint16=function(pos){
		return this._readUint16(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint16 值。
	*@param pos 字节读取位置。
	*@return Uint16 值。
	*/
	__proto._readUint16=function(pos){
		return this._d_.getUint16(pos,this._xd_);
	}

	/**
	*@private
	*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。
	*@return Matrix 对象。
	*/
	__proto._getMatrix=function(){
		return this._readMatrix();
	}

	/**
	*@private
	*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。
	*@return Matrix 对象。
	*/
	__proto._readMatrix=function(){
		var rst=new Matrix(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());
		return rst;
	}

	/**
	*@private
	*读取指定长度的 UTF 型字符串。
	*@param len 需要读取的长度。
	*@return 读取的字符串。
	*/
	__proto._rUTF=function(len){
		var v="",max=this._pos_+len,c=0,c2=0,c3=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (this._pos_ < max){
			c=u[this._pos_++];
			if (c < 0x80){
				if (c !=0)v+=f(c);
				}else if (c < 0xE0){
				v+=f(((c & 0x3F)<< 6)| (u[this._pos_++] & 0x7F));
				}else if (c < 0xF0){
				c2=u[this._pos_++];
				v+=f(((c & 0x1F)<< 12)| ((c2 & 0x7F)<< 6)| (u[this._pos_++] & 0x7F));
				}else {
				c2=u[this._pos_++];
				c3=u[this._pos_++];
				v+=f(((c & 0x0F)<< 18)| ((c2 & 0x7F)<< 12)| ((c3 << 6)& 0x7F)| (u[this._pos_++] & 0x7F));
			}
			i++;
		}
		return v;
	}

	/**
	*@private
	*读取 <code>len</code> 参数指定的长度的字符串。
	*@param len 要读取的字符串的长度。
	*@return 指定长度的字符串。
	*/
	__proto.getCustomString=function(len){
		return this.readCustomString(len);
	}

	/**
	*@private
	*读取 <code>len</code> 参数指定的长度的字符串。
	*@param len 要读取的字符串的长度。
	*@return 指定长度的字符串。
	*/
	__proto.readCustomString=function(len){
		var v="",ulen=0,c=0,c2=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (len > 0){
			c=u[this._pos_];
			if (c < 0x80){
				v+=f(c);
				this._pos_++;
				len--;
				}else {
				ulen=c-0x80;
				this._pos_++;
				len-=ulen;
				while (ulen > 0){
					c=u[this._pos_++];
					c2=u[this._pos_++];
					v+=f((c2 << 8)| c);
					ulen--;
				}
			}
		}
		return v;
	}

	/**
	*清除字节数组的内容，并将 length 和 pos 属性重置为 0。调用此方法将释放 Byte 实例占用的内存。
	*/
	__proto.clear=function(){
		this._pos_=0;
		this.length=0;
	}

	/**
	*@private
	*获取此对象的 ArrayBuffer 引用。
	*@return
	*/
	__proto.__getBuffer=function(){
		return this._d_.buffer;
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。类似于 writeUTF()方法，但 writeUTFBytes()不使用 16 位长度的字为字符串添加前缀。</p>
	*<p>对应的读取方法为： getUTFBytes 。</p>
	*@param value 要写入的字符串。
	*/
	__proto.writeUTFBytes=function(value){
		value=value+"";
		for (var i=0,sz=value.length;i < sz;i++){
			var c=value.charCodeAt(i);
			if (c <=0x7F){
				this.writeByte(c);
				}else if (c <=0x7FF){
				this._ensureWrite(this._pos_+2);
				this._u8d_.set([0xC0 | (c >> 6),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=2;
				}else if (c <=0xFFFF){
				this._ensureWrite(this._pos_+3);
				this._u8d_.set([0xE0 | (c >> 12),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=3;
				}else {
				this._ensureWrite(this._pos_+4);
				this._u8d_.set([0xF0 | (c >> 18),0x80 | ((c >> 12)& 0x3F),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=4;
			}
		}
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 16 位整数），然后写入表示字符串字符的字节。</p>
	*<p>对应的读取方法为： getUTFString 。</p>
	*@param value 要写入的字符串值。
	*/
	__proto.writeUTFString=function(value){
		var tPos=this.pos;
		this.writeUint16(1);
		this.writeUTFBytes(value);
		var dPos=this.pos-tPos-2;
		this._d_.setUint16(tPos,dPos,this._xd_);
	}

	/**
	*@private
	*读取 UTF-8 字符串。
	*@return 读取的字符串。
	*/
	__proto.readUTFString=function(){
		return this.readUTFBytes(this.getUint16());
	}

	/**
	*<p>从字节流中读取一个 UTF-8 字符串。假定字符串的前缀是一个无符号的短整型（以此字节表示要读取的长度）。</p>
	*<p>对应的写入方法为： writeUTFString 。</p>
	*@return 读取的字符串。
	*/
	__proto.getUTFString=function(){
		return this.readUTFString();
	}

	/**
	*@private
	*读字符串，必须是 writeUTFBytes 方法写入的字符串。
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.readUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		if (len===0)return "";
		var lastBytes=this.bytesAvailable;
		if (len > lastBytes)throw "readUTFBytes error - Out of bounds";
		len=len > 0 ? len :lastBytes;
		return this._rUTF(len);
	}

	/**
	*<p>从字节流中读取一个由 length 参数指定的长度的 UTF-8 字节序列，并返回一个字符串。</p>
	*<p>一般读取的是由 writeUTFBytes 方法写入的字符串。</p>
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.getUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		return this.readUTFBytes(len);
	}

	/**
	*<p>在字节流中写入一个字节。</p>
	*<p>使用参数的低 8 位。忽略高 24 位。</p>
	*@param value
	*/
	__proto.writeByte=function(value){
		this._ensureWrite(this._pos_+1);
		this._d_.setInt8(this._pos_,value);
		this._pos_+=1;
	}

	/**
	*<p>从字节流中读取带符号的字节。</p>
	*<p>返回值的范围是从-128 到 127。</p>
	*@return 介于-128 和 127 之间的整数。
	*/
	__proto.readByte=function(){
		if (this._pos_+1 > this._length)throw "readByte error - Out of bounds";
		return this._d_.getInt8(this._pos_++);
	}

	/**
	*@private
	*从字节流中读取带符号的字节。
	*/
	__proto.getByte=function(){
		return this.readByte();
	}

	/**
	*@private
	*<p>保证该字节流的可用长度不小于 <code>lengthToEnsure</code> 参数指定的值。</p>
	*@param lengthToEnsure 指定的长度。
	*/
	__proto._ensureWrite=function(lengthToEnsure){
		if (this._length < lengthToEnsure)this._length=lengthToEnsure;
		if (this._allocated_ < lengthToEnsure)this.length=lengthToEnsure;
	}

	/**
	*<p>将指定 arraybuffer 对象中的以 offset 为起始偏移量， length 为长度的字节序列写入字节流。</p>
	*<p>如果省略 length 参数，则使用默认长度 0，该方法将从 offset 开始写入整个缓冲区；如果还省略了 offset 参数，则写入整个缓冲区。</p>
	*<p>如果 offset 或 length 小于0，本函数将抛出异常。</p>
	*@param arraybuffer 需要写入的 Arraybuffer 对象。
	*@param offset Arraybuffer 对象的索引的偏移量（以字节为单位）
	*@param length 从 Arraybuffer 对象写入到 Byte 对象的长度（以字节为单位）
	*/
	__proto.writeArrayBuffer=function(arraybuffer,offset,length){
		(offset===void 0)&& (offset=0);
		(length===void 0)&& (length=0);
		if (offset < 0 || length < 0)throw "writeArrayBuffer error - Out of bounds";
		if (length==0)length=arraybuffer.byteLength-offset;
		this._ensureWrite(this._pos_+length);
		var uint8array=new Uint8Array(arraybuffer);
		this._u8d_.set(uint8array.subarray(offset,offset+length),this._pos_);
		this._pos_+=length;
	}

	/**
	*获取此对象的 ArrayBuffer 数据，数据只包含有效数据部分。
	*/
	__getset(0,__proto,'buffer',function(){
		var rstBuffer=this._d_.buffer;
		if (rstBuffer.byteLength===this._length)return rstBuffer;
		return rstBuffer.slice(0,this._length);
	});

	/**
	*<p> <code>Byte</code> 实例的字节序。取值为：<code>BIG_ENDIAN</code> 或 <code>BIG_ENDIAN</code> 。</p>
	*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>
	*<p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>
	*<code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>
	*/
	__getset(0,__proto,'endian',function(){
		return this._xd_ ? "littleEndian" :"bigEndian";
		},function(value){
		this._xd_=(value==="littleEndian");
	});

	/**
	*<p> <code>Byte</code> 对象的长度（以字节为单位）。</p>
	*<p>如果将长度设置为大于当前长度的值，则用零填充字节数组的右侧；如果将长度设置为小于当前长度的值，将会截断该字节数组。</p>
	*<p>如果要设置的长度大于当前已分配的内存空间的字节长度，则重新分配内存空间，大小为以下两者较大者：要设置的长度、当前已分配的长度的2倍，并将原有数据拷贝到新的内存空间中；如果要设置的长度小于当前已分配的内存空间的字节长度，也会重新分配内存空间，大小为要设置的长度，并将原有数据从头截断为要设置的长度存入新的内存空间中。</p>
	*/
	__getset(0,__proto,'length',function(){
		return this._length;
		},function(value){
		if (this._allocated_ < value)this._resizeBuffer(this._allocated_=Math.floor(Math.max(value,this._allocated_ *2)));
		else if (this._allocated_ > value)this._resizeBuffer(this._allocated_=value);
		this._length=value;
	});

	/**
	*移动或返回 Byte 对象的读写指针的当前位置（以字节为单位）。下一次调用读取方法时将在此位置开始读取，或者下一次调用写入方法时将在此位置开始写入。
	*/
	__getset(0,__proto,'pos',function(){
		return this._pos_;
		},function(value){
		this._pos_=value;
	});

	/**
	*可从字节流的当前位置到末尾读取的数据的字节数。
	*/
	__getset(0,__proto,'bytesAvailable',function(){
		return this._length-this._pos_;
	});

	Byte.getSystemEndian=function(){
		if (!Byte._sysEndian){
			var buffer=new ArrayBuffer(2);
			new DataView(buffer).setInt16(0,256,true);
			Byte._sysEndian=(new Int16Array(buffer))[0]===256 ? "littleEndian" :"bigEndian";
		}
		return Byte._sysEndian;
	}

	Byte.BIG_ENDIAN="bigEndian";
	Byte.LITTLE_ENDIAN="littleEndian";
	Byte._sysEndian=null;
	return Byte;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/CacheManger.as=======199.999116/199.999116
/**
*@private
*对象缓存统一管理类
*/
//class laya.utils.CacheManger
var CacheManger=(function(){
	function CacheManger(){}
	__class(CacheManger,'laya.utils.CacheManger');
	CacheManger.regCacheByFunction=function(disposeFunction,getCacheListFunction){
		CacheManger.unRegCacheByFunction(disposeFunction,getCacheListFunction);
		var cache;
		cache={tryDispose:disposeFunction,getCacheList:getCacheListFunction};
		CacheManger._cacheList.push(cache);
	}

	CacheManger.unRegCacheByFunction=function(disposeFunction,getCacheListFunction){
		var i=0,len=0;
		len=CacheManger._cacheList.length;
		for (i=0;i < len;i++){
			if (CacheManger._cacheList[i].tryDispose==disposeFunction && CacheManger._cacheList[i].getCacheList==getCacheListFunction){
				CacheManger._cacheList.splice(i,1);
				return;
			}
		}
	}

	CacheManger.forceDispose=function(){
		var i=0,len=CacheManger._cacheList.length;
		for (i=0;i < len;i++){
			CacheManger._cacheList[i].tryDispose(true);
		}
	}

	CacheManger.beginCheck=function(waitTime){
		(waitTime===void 0)&& (waitTime=15000);
		Laya.timer.loop(waitTime,null,CacheManger._checkLoop);
	}

	CacheManger.stopCheck=function(){
		Laya.timer.clear(null,CacheManger._checkLoop);
	}

	CacheManger._checkLoop=function(){
		var cacheList=CacheManger._cacheList;
		if (cacheList.length < 1)return;
		var tTime=Browser.now();
		var count=0;
		var len=0;
		len=count=cacheList.length;
		while (count > 0){
			CacheManger._index++;
			CacheManger._index=CacheManger._index % len;
			cacheList[CacheManger._index].tryDispose(false);
			if (Browser.now()-tTime > CacheManger.loopTimeLimit)break ;
			count--;
		}
	}

	CacheManger.loopTimeLimit=2;
	CacheManger._cacheList=[];
	CacheManger._index=0;
	return CacheManger;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/ClassUtils.as=======199.999115/199.999115
/**
*<code>ClassUtils</code> 是一个类工具类。
*/
//class laya.utils.ClassUtils
var ClassUtils=(function(){
	function ClassUtils(){}
	__class(ClassUtils,'laya.utils.ClassUtils');
	ClassUtils.regClass=function(className,classDef){
		ClassUtils._classMap[className]=classDef;
	}

	ClassUtils.regShortClassName=function(classes){
		for (var i=0;i < classes.length;i++){
			var classDef=classes[i];
			var className=classDef.name;
			ClassUtils._classMap[className]=classDef;
		}
	}

	ClassUtils.getRegClass=function(className){
		return ClassUtils._classMap[className];
	}

	ClassUtils.getClass=function(className){
		var classObject=ClassUtils._classMap[className] || className;
		if ((typeof classObject=='string'))return (Laya["__classmap"][classObject] || Laya[className]);
		return classObject;
	}

	ClassUtils.getInstance=function(className){
		var compClass=ClassUtils.getClass(className);
		if (compClass)return new compClass();
		else console.warn("[error] Undefined class:",className);
		return null;
	}

	ClassUtils.createByJson=function(json,node,root,customHandler,instanceHandler){
		if ((typeof json=='string'))json=JSON.parse(json);
		var props=json.props;
		if (!node){
			node=instanceHandler ? instanceHandler.runWith(json):ClassUtils.getInstance(props.runtime || json.type);
			if (!node)return null;
		};
		var child=json.child;
		if (child){
			for (var i=0,n=child.length;i < n;i++){
				var data=child[i];
				if ((data.props.name==="render" || data.props.renderType==="render")&& node["_$set_itemRender"])
					node.itemRender=data;
				else {
					if (data.type=="Graphic"){
						ClassUtils._addGraphicsToSprite(data,node);
						}else if (ClassUtils._isDrawType(data.type)){
						ClassUtils._addGraphicToSprite(data,node,true);
						}else {
						var tChild=ClassUtils.createByJson(data,null,root,customHandler,instanceHandler)
						if (data.type==="Script"){
							if (tChild.hasOwnProperty("owner")){
								tChild["owner"]=node;
								}else if (tChild.hasOwnProperty("target")){
								tChild["target"]=node;
							}
							}else if (data.props.renderType=="mask"){
							node.mask=tChild;
							}else {
							node.addChild(tChild);
						}
					}
				}
			}
		}
		if (props){
			for (var prop in props){
				var value=props[prop];
				if (prop==="var" && root){
					root[value]=node;
					}else if ((value instanceof Array)&& (typeof (node[prop])=='function')){
					node[prop].apply(node,value);
					}else {
					node[prop]=value;
				}
			}
		}
		if (customHandler && json.customProps){
			customHandler.runWith([node,json]);
		}
		if (node["created"])node.created();
		return node;
	}

	ClassUtils._addGraphicsToSprite=function(graphicO,sprite){
		var graphics=graphicO.child;
		if (!graphics || graphics.length < 1)return;
		var g=ClassUtils._getGraphicsFromSprite(graphicO,sprite);
		var ox=0;
		var oy=0;
		if (graphicO.props){
			ox=ClassUtils._getObjVar(graphicO.props,"x",0);
			oy=ClassUtils._getObjVar(graphicO.props,"y",0);
		}
		if (ox !=0 && oy !=0){
			g.translate(ox,oy);
		};
		var i=0,len=0;
		len=graphics.length;
		for (i=0;i < len;i++){
			ClassUtils._addGraphicToGraphics(graphics[i],g);
		}
		if (ox !=0 && oy !=0){
			g.translate(-ox,-oy);
		}
	}

	ClassUtils._addGraphicToSprite=function(graphicO,sprite,isChild){
		(isChild===void 0)&& (isChild=false);
		var g=isChild ? ClassUtils._getGraphicsFromSprite(graphicO,sprite):sprite.graphics;
		ClassUtils._addGraphicToGraphics(graphicO,g);
	}

	ClassUtils._getGraphicsFromSprite=function(dataO,sprite){
		if (!dataO || !dataO.props)return sprite.graphics;
		var propsName=dataO.props.renderType;
		if (propsName==="hit" || propsName==="unHit"){
			var hitArea=sprite._style.hitArea || (sprite.hitArea=new HitArea());
			if (!hitArea[propsName]){
				hitArea[propsName]=new Graphics();
			};
			var g=hitArea[propsName];
		}
		if (!g)g=sprite.graphics;
		return g;
	}

	ClassUtils._getTransformData=function(propsO){
		var m;
		if (propsO.hasOwnProperty("pivotX")|| propsO.hasOwnProperty("pivotY")){
			m=m || new Matrix();
			m.translate(-ClassUtils._getObjVar(propsO,"pivotX",0),-ClassUtils._getObjVar(propsO,"pivotY",0));
		};
		var sx=ClassUtils._getObjVar(propsO,"scaleX",1),sy=ClassUtils._getObjVar(propsO,"scaleY",1);
		var rotate=ClassUtils._getObjVar(propsO,"rotation",0);
		var skewX=ClassUtils._getObjVar(propsO,"skewX",0);
		var skewY=ClassUtils._getObjVar(propsO,"skewY",0);
		if (sx !=1 || sy !=1 || rotate !=0){
			m=m || new Matrix();
			m.scale(sx,sy);
			m.rotate(rotate *0.0174532922222222);
		}
		return m;
	}

	ClassUtils._addGraphicToGraphics=function(graphicO,graphic){
		var propsO;
		propsO=graphicO.props;
		if (!propsO)return;
		var drawConfig;
		drawConfig=ClassUtils.DrawTypeDic[graphicO.type];
		if (!drawConfig)return;
		var g=graphic;
		var params=ClassUtils._getParams(propsO,drawConfig[1],drawConfig[2],drawConfig[3]);
		var m=ClassUtils._tM;
		if (m || ClassUtils._alpha !=1){
			g.save();
			if (m)g.transform(m);
			if (ClassUtils._alpha !=1)g.alpha(ClassUtils._alpha);
		}
		g[drawConfig[0]].apply(g,params);
		if (m || ClassUtils._alpha !=1){
			g.restore();
		}
	}

	ClassUtils._adptLineData=function(params){
		params[2]=parseFloat(params[0])+parseFloat(params[2]);
		params[3]=parseFloat(params[1])+parseFloat(params[3]);
		return params;
	}

	ClassUtils._adptTextureData=function(params){
		params[0]=Loader.getRes(params[0]);
		return params;
	}

	ClassUtils._adptLinesData=function(params){
		params[2]=ClassUtils._getPointListByStr(params[2]);
		return params;
	}

	ClassUtils._isDrawType=function(type){
		if (type==="Image")return false;
		return ClassUtils.DrawTypeDic.hasOwnProperty(type);
	}

	ClassUtils._getParams=function(obj,params,xPos,adptFun){
		(xPos===void 0)&& (xPos=0);
		var rst=ClassUtils._temParam;
		rst.length=params.length;
		var i=0,len=0;
		len=params.length;
		for (i=0;i < len;i++){
			rst[i]=ClassUtils._getObjVar(obj,params[i][0],params[i][1]);
		}
		ClassUtils._alpha=ClassUtils._getObjVar(obj,"alpha",1);
		var m;
		m=ClassUtils._getTransformData(obj);
		if (m){
			if (!xPos)xPos=0;
			m.translate(rst[xPos],rst[xPos+1]);
			rst[xPos]=rst[xPos+1]=0;
			ClassUtils._tM=m;
			}else {
			ClassUtils._tM=null;
		}
		if (adptFun && ClassUtils[adptFun]){
			rst=ClassUtils[adptFun](rst);
		}
		return rst;
	}

	ClassUtils._getPointListByStr=function(str){
		var pointArr=str.split(",");
		var i=0,len=0;
		len=pointArr.length;
		for (i=0;i < len;i++){
			pointArr[i]=parseFloat(pointArr[i]);
		}
		return pointArr;
	}

	ClassUtils._getObjVar=function(obj,key,noValue){
		if (obj.hasOwnProperty(key)){
			return obj[key];
		}
		return noValue;
	}

	ClassUtils._temParam=[];
	ClassUtils._classMap={'Sprite':Sprite,'Scene':Scene,'Text':Text,'Animation':'laya.display.Animation','Skeleton':'laya.ani.bone.Skeleton','Particle2D':'laya.particle.Particle2D','div':'laya.html.dom.HTMLDivParser','p':'laya.html.dom.HTMLElement','img':'laya.html.dom.HTMLImageElement','span':'laya.html.dom.HTMLElement','br':'laya.html.dom.HTMLBrElement','style':'laya.html.dom.HTMLStyleElement','font':'laya.html.dom.HTMLElement','a':'laya.html.dom.HTMLElement','#text':'laya.html.dom.HTMLElement','link':'laya.html.dom.HTMLLinkElement'};
	ClassUtils._tM=null;
	ClassUtils._alpha=NaN;
	__static(ClassUtils,
	['DrawTypeDic',function(){return this.DrawTypeDic={"Rect":["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Circle":["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Pie":["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Image":["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],"Texture":["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],"FillTexture":["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],"FillText":["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],"Line":["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],"Lines":["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],"Curves":["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],"Poly":["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]};}
	]);
	return ClassUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Color.as=======199.999114/199.999114
/**
*@private
*<code>Color</code> 是一个颜色值处理类。
*/
//class laya.utils.Color
var Color$1=(function(){
	function Color(value){
		//TODO:delete？
		this.arrColor=[];
		/**字符串型颜色值。*/
		//this.strColor=null;
		/**uint 型颜色值。*/
		//this.numColor=0;
		/**@private TODO:*/
		//this._drawStyle=null;
		if (value==null){
			this.strColor="#00000000";
			this.numColor=0;
			this.arrColor=[0,0,0,0];
			return;
		};
		var i=0,len=0;
		var color=0;
		if ((typeof value=='string')){
			if ((value).indexOf("rgba(")>=0){
				var tStr=value;
				var beginI=0,endI=0;
				beginI=tStr.indexOf("(");
				endI=tStr.indexOf(")");
				tStr=tStr.substring(beginI+1,endI);
				this.arrColor=tStr.split(",");
				len=this.arrColor.length;
				for (i=0;i < len;i++){
					this.arrColor[i]=parseFloat(this.arrColor[i]);
				}
				color=((this.arrColor[0] *256+this.arrColor[1])*256+this.arrColor[2])*256+Math.round(this.arrColor[3] *255);
				this.strColor=value;
				}else{
				this.strColor=value;
				value.charAt(0)==='#' && (value=value.substr(1));
				len=value.length;
				if (len===3 || len===4){
					var temp="";
					for (i=0;i < len;i++){
						temp+=(value[i]+value[i]);
					}
					value=temp;
				}
				color=parseInt(value,16);
			}
			}else {
			color=value;
			this.strColor=Utils.toHexColor(color);
		}
		if (this.strColor.indexOf("rgba")>=0 || this.strColor.length===9){
			this.arrColor=[((0xFF000000 & color)>>>24)/ 255,((0xFF0000 & color)>> 16)/ 255,((0xFF00 & color)>>8)/ 255,(0xFF & color)/ 255];
			this.numColor=(0xff000000&color)>>>24|(color & 0xff0000)>> 8 | (color & 0x00ff00)<<8 | ((color & 0xff)<<24);
			}else {
			this.arrColor=[((0xFF0000 & color)>> 16)/ 255,((0xFF00 & color)>> 8)/ 255,(0xFF & color)/ 255,1];
			this.numColor=0xff000000|(color & 0xff0000)>> 16 | (color & 0x00ff00)| (color & 0xff)<< 16;
		}
		(this.arrColor).__id=++Color._COLODID;
	}

	__class(Color,'laya.utils.Color',null,'Color$1');
	Color._initDefault=function(){
		Color._DEFAULT={};
		for (var i in Color._COLOR_MAP)Color._SAVE[i]=Color._DEFAULT[i]=new Color(Color._COLOR_MAP[i]);
		return Color._DEFAULT;
	}

	Color._initSaveMap=function(){
		Color._SAVE_SIZE=0;
		Color._SAVE={};
		for (var i in Color._DEFAULT)Color._SAVE[i]=Color._DEFAULT[i];
	}

	Color.create=function(value){
		var key=value+"";
		var color=Color._SAVE[key];
		if (color !=null)return color;
		if (Color._SAVE_SIZE < 1000)Color._initSaveMap();
		return Color._SAVE[key]=new Color(value);
	}

	Color._SAVE={};
	Color._SAVE_SIZE=0;
	Color._COLOR_MAP={"white":'#FFFFFF',"red":'#FF0000',"green":'#00FF00',"blue":'#0000FF',"black":'#000000',"yellow":'#FFFF00','gray':'#808080'};
	Color._DEFAULT=Color._initDefault();
	Color._COLODID=1;
	return Color;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Dragging.as=======199.999113/199.999113
/**
*@private
*<code>Dragging</code> 类是触摸滑动控件。
*/
//class laya.utils.Dragging
var Dragging=(function(){
	function Dragging(){
		/**被拖动的对象。*/
		//this.target=null;
		/**缓动衰减系数。*/
		this.ratio=0.92;
		/**单帧最大偏移量。*/
		this.maxOffset=60;
		/**滑动范围。*/
		//this.area=null;
		/**表示拖动是否有惯性。*/
		//this.hasInertia=false;
		/**橡皮筋最大值。*/
		//this.elasticDistance=NaN;
		/**橡皮筋回弹时间，单位为毫秒。*/
		//this.elasticBackTime=NaN;
		/**事件携带数据。*/
		//this.data=null;
		this._dragging=false;
		this._clickOnly=true;
		//this._elasticRateX=NaN;
		//this._elasticRateY=NaN;
		//this._lastX=NaN;
		//this._lastY=NaN;
		//this._offsetX=NaN;
		//this._offsetY=NaN;
		//this._offsets=null;
		//this._disableMouseEvent=false;
		//this._tween=null;
		//this._parent=null;
	}

	__class(Dragging,'laya.utils.Dragging');
	var __proto=Dragging.prototype;
	/**
	*开始拖拽。
	*@param target 待拖拽的 <code>Sprite</code> 对象。
	*@param area 滑动范围。
	*@param hasInertia 拖动是否有惯性。
	*@param elasticDistance 橡皮筋最大值。
	*@param elasticBackTime 橡皮筋回弹时间，单位为毫秒。
	*@param data 事件携带数据。
	*@param disableMouseEvent 鼠标事件是否有效。
	*@param ratio 惯性阻尼系数
	*/
	__proto.start=function(target,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){
		(ratio===void 0)&& (ratio=0.92);
		this.clearTimer();
		this.target=target;
		this.area=area;
		this.hasInertia=hasInertia;
		this.elasticDistance=area ? elasticDistance :0;
		this.elasticBackTime=elasticBackTime;
		this.data=data;
		this._disableMouseEvent=disableMouseEvent;
		this.ratio=ratio;
		if (target.globalScaleX !=1 || target.globalScaleY !=1){
			this._parent=target.parent;
			}else {
			this._parent=Laya.stage;
		}
		this._clickOnly=true;
		this._dragging=true;
		this._elasticRateX=this._elasticRateY=1;
		this._lastX=this._parent.mouseX;
		this._lastY=this._parent.mouseY;
		Laya.stage.on("mouseup",this,this.onStageMouseUp);
		Laya.stage.on("mouseout",this,this.onStageMouseUp);
		Laya.timer.frameLoop(1,this,this.loop);
	}

	/**
	*清除计时器。
	*/
	__proto.clearTimer=function(){
		Laya.timer.clear(this,this.loop);
		Laya.timer.clear(this,this.tweenMove);
		if (this._tween){
			this._tween.recover();
			this._tween=null;
		}
	}

	/**
	*停止拖拽。
	*/
	__proto.stop=function(){
		if (this._dragging){
			MouseManager.instance.disableMouseEvent=false;
			Laya.stage.off("mouseup",this,this.onStageMouseUp);
			Laya.stage.off("mouseout",this,this.onStageMouseUp);
			this._dragging=false;
			this.target && this.area && this.backToArea();
			this.clear();
		}
	}

	/**
	*拖拽的循环处理函数。
	*/
	__proto.loop=function(){
		var point=this._parent.getMousePoint();
		var mouseX=point.x;
		var mouseY=point.y;
		var offsetX=mouseX-this._lastX;
		var offsetY=mouseY-this._lastY;
		if (this._clickOnly){
			if (Math.abs(offsetX *Laya.stage._canvasTransform.getScaleX())> 1 || Math.abs(offsetY *Laya.stage._canvasTransform.getScaleY())> 1){
				this._clickOnly=false;
				this._offsets || (this._offsets=[]);
				this._offsets.length=0;
				this.target.event("dragstart",this.data);
				MouseManager.instance.disableMouseEvent=this._disableMouseEvent;
			}else return;
			}else {
			this._offsets.push(offsetX,offsetY);
		}
		if (offsetX===0 && offsetY===0)return;
		this._lastX=mouseX;
		this._lastY=mouseY;
		this.target.x+=offsetX *this._elasticRateX;
		this.target.y+=offsetY *this._elasticRateY;
		this.area && this.checkArea();
		this.target.event("dragmove",this.data);
	}

	/**
	*拖拽区域检测。
	*/
	__proto.checkArea=function(){
		if (this.elasticDistance <=0){
			this.backToArea();
			}else {
			if (this.target._x < this.area.x){
				var offsetX=this.area.x-this.target._x;
				}else if (this.target._x > this.area.x+this.area.width){
				offsetX=this.target._x-this.area.x-this.area.width;
				}else {
				offsetX=0;
			}
			this._elasticRateX=Math.max(0,1-(offsetX / this.elasticDistance));
			if (this.target._y < this.area.y){
				var offsetY=this.area.y-this.target.y;
				}else if (this.target._y > this.area.y+this.area.height){
				offsetY=this.target._y-this.area.y-this.area.height;
				}else {
				offsetY=0;
			}
			this._elasticRateY=Math.max(0,1-(offsetY / this.elasticDistance));
		}
	}

	/**
	*移动至设定的拖拽区域。
	*/
	__proto.backToArea=function(){
		this.target.x=Math.min(Math.max(this.target._x,this.area.x),this.area.x+this.area.width);
		this.target.y=Math.min(Math.max(this.target._y,this.area.y),this.area.y+this.area.height);
	}

	/**
	*舞台的抬起事件侦听函数。
	*@param e Event 对象。
	*/
	__proto.onStageMouseUp=function(e){
		MouseManager.instance.disableMouseEvent=false;
		Laya.stage.off("mouseup",this,this.onStageMouseUp);
		Laya.stage.off("mouseout",this,this.onStageMouseUp);
		Laya.timer.clear(this,this.loop);
		if (this._clickOnly || !this.target)return;
		if (this.hasInertia){
			if (this._offsets.length < 1){
				this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY);
			}
			this._offsetX=this._offsetY=0;
			var len=this._offsets.length;
			var n=Math.min(len,6);
			var m=this._offsets.length-n;
			for (var i=len-1;i > m;i--){
				this._offsetY+=this._offsets[i--];
				this._offsetX+=this._offsets[i];
			}
			this._offsetX=this._offsetX / n *2;
			this._offsetY=this._offsetY / n *2;
			if (Math.abs(this._offsetX)> this.maxOffset)this._offsetX=this._offsetX > 0 ? this.maxOffset :-this.maxOffset;
			if (Math.abs(this._offsetY)> this.maxOffset)this._offsetY=this._offsetY > 0 ? this.maxOffset :-this.maxOffset;
			Laya.timer.frameLoop(1,this,this.tweenMove);
			}else if (this.elasticDistance > 0){
			this.checkElastic();
			}else {
			this.clear();
		}
	}

	/**
	*橡皮筋效果检测。
	*/
	__proto.checkElastic=function(){
		var tx=NaN;
		var ty=NaN;
		if (this.target.x < this.area.x)tx=this.area.x;
		else if (this.target._x > this.area.x+this.area.width)tx=this.area.x+this.area.width;
		if (this.target.y < this.area.y)ty=this.area.y;
		else if (this.target._y > this.area.y+this.area.height)ty=this.area.y+this.area.height;
		if (!isNaN(tx)|| !isNaN(ty)){
			var obj={};
			if (!isNaN(tx))obj.x=tx;
			if (!isNaN(ty))obj.y=ty;
			this._tween=Tween.to(this.target,obj,this.elasticBackTime,Ease.sineOut,Handler.create(this,this.clear),0,false,false);
			}else {
			this.clear();
		}
	}

	/**
	*移动。
	*/
	__proto.tweenMove=function(){
		this._offsetX *=this.ratio *this._elasticRateX;
		this._offsetY *=this.ratio *this._elasticRateY;
		this.target.x+=this._offsetX;
		this.target.y+=this._offsetY;
		this.area && this.checkArea();
		this.target.event("dragmove",this.data);
		if ((Math.abs(this._offsetX)< 1 && Math.abs(this._offsetY)< 1)|| this._elasticRateX < 0.5 || this._elasticRateY < 0.5){
			Laya.timer.clear(this,this.tweenMove);
			if (this.elasticDistance > 0)this.checkElastic();
			else this.clear();
		}
	}

	/**
	*结束拖拽。
	*/
	__proto.clear=function(){
		if (this.target){
			this.clearTimer();
			var sp=this.target;
			this.target=null;
			this._parent=null;
			sp.event("dragend",this.data);
		}
	}

	return Dragging;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Ease.as=======199.999112/199.999112
/**
*<code>Ease</code> 类定义了缓动函数，以便实现 <code>Tween</code> 动画的缓动效果。
*/
//class laya.utils.Ease
var Ease=(function(){
	function Ease(){}
	__class(Ease,'laya.utils.Ease');
	Ease.linearNone=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearIn=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearInOut=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearOut=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.bounceIn=function(t,b,c,d){
		return c-Ease.bounceOut(d-t,0,c,d)+b;
	}

	Ease.bounceInOut=function(t,b,c,d){
		if (t < d *0.5)return Ease.bounceIn(t *2,0,c,d)*.5+b;
		else return Ease.bounceOut(t *2-d,0,c,d)*.5+c *.5+b;
	}

	Ease.bounceOut=function(t,b,c,d){
		if ((t /=d)< (1 / 2.75))return c *(7.5625 *t *t)+b;
		else if (t < (2 / 2.75))return c *(7.5625 *(t-=(1.5 / 2.75))*t+.75)+b;
		else if (t < (2.5 / 2.75))return c *(7.5625 *(t-=(2.25 / 2.75))*t+.9375)+b;
		else return c *(7.5625 *(t-=(2.625 / 2.75))*t+.984375)+b;
	}

	Ease.backIn=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		return c *(t /=d)*t *((s+1)*t-s)+b;
	}

	Ease.backInOut=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		if ((t /=d *0.5)< 1)return c *0.5 *(t *t *(((s *=(1.525))+1)*t-s))+b;
		return c / 2 *((t-=2)*t *(((s *=(1.525))+1)*t+s)+2)+b;
	}

	Ease.backOut=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		return c *((t=t / d-1)*t *((s+1)*t+s)+1)+b;
	}

	Ease.elasticIn=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d)==1)return b+c;
		if (!p)p=d *.3;
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		return-(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;
	}

	Ease.elasticInOut=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d *0.5)==2)return b+c;
		if (!p)p=d *(.3 *1.5);
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		if (t < 1)return-.5 *(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;
		return a *Math.pow(2,-10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p)*.5+c+b;
	}

	Ease.elasticOut=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d)==1)return b+c;
		if (!p)p=d *.3;
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		return (a *Math.pow(2,-10 *t)*Math.sin((t *d-s)*Ease.PI2 / p)+c+b);
	}

	Ease.strongIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t *t+b;
	}

	Ease.strongInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;
		return c *0.5 *((t-=2)*t *t *t *t+2)+b;
	}

	Ease.strongOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t *t *t+1)+b;
	}

	Ease.sineInOut=function(t,b,c,d){
		return-c *0.5 *(Math.cos(Math.PI *t / d)-1)+b;
	}

	Ease.sineIn=function(t,b,c,d){
		return-c *Math.cos(t / d *Ease.HALF_PI)+c+b;
	}

	Ease.sineOut=function(t,b,c,d){
		return c *Math.sin(t / d *Ease.HALF_PI)+b;
	}

	Ease.quintIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t *t+b;
	}

	Ease.quintInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;
		return c *0.5 *((t-=2)*t *t *t *t+2)+b;
	}

	Ease.quintOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t *t *t+1)+b;
	}

	Ease.quartIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t+b;
	}

	Ease.quartInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t+b;
		return-c *0.5 *((t-=2)*t *t *t-2)+b;
	}

	Ease.quartOut=function(t,b,c,d){
		return-c *((t=t / d-1)*t *t *t-1)+b;
	}

	Ease.cubicIn=function(t,b,c,d){
		return c *(t /=d)*t *t+b;
	}

	Ease.cubicInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t+b;
		return c *0.5 *((t-=2)*t *t+2)+b;
	}

	Ease.cubicOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t+1)+b;
	}

	Ease.quadIn=function(t,b,c,d){
		return c *(t /=d)*t+b;
	}

	Ease.quadInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t+b;
		return-c *0.5 *((--t)*(t-2)-1)+b;
	}

	Ease.quadOut=function(t,b,c,d){
		return-c *(t /=d)*(t-2)+b;
	}

	Ease.expoIn=function(t,b,c,d){
		return (t==0)? b :c *Math.pow(2,10 *(t / d-1))+b-c *0.001;
	}

	Ease.expoInOut=function(t,b,c,d){
		if (t==0)return b;
		if (t==d)return b+c;
		if ((t /=d *0.5)< 1)return c *0.5 *Math.pow(2,10 *(t-1))+b;
		return c *0.5 *(-Math.pow(2,-10 *--t)+2)+b;
	}

	Ease.expoOut=function(t,b,c,d){
		return (t==d)? b+c :c *(-Math.pow(2,-10 *t / d)+1)+b;
	}

	Ease.circIn=function(t,b,c,d){
		return-c *(Math.sqrt(1-(t /=d)*t)-1)+b;
	}

	Ease.circInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return-c *0.5 *(Math.sqrt(1-t *t)-1)+b;
		return c *0.5 *(Math.sqrt(1-(t-=2)*t)+1)+b;
	}

	Ease.circOut=function(t,b,c,d){
		return c *Math.sqrt(1-(t=t / d-1)*t)+b;
	}

	Ease.HALF_PI=Math.PI *0.5;
	Ease.PI2=Math.PI *2;
	return Ease;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/HitArea.as=======199.999109/199.999109
/**
*鼠标点击区域，可以设置绘制一系列矢量图作为点击区域和非点击区域（目前只支持圆形，矩形，多边形）
*
*/
//class laya.utils.HitArea
var HitArea=(function(){
	function HitArea(){
		/**@private */
		this._hit=null;
		/**@private */
		this._unHit=null;
	}

	__class(HitArea,'laya.utils.HitArea');
	var __proto=HitArea.prototype;
	/**
	*检测对象是否包含指定的点。
	*@param x 点的 X 轴坐标值（水平位置）。
	*@param y 点的 Y 轴坐标值（垂直位置）。
	*@return 如果包含指定的点，则值为 true；否则为 false。
	*/
	__proto.contains=function(x,y){
		if (!HitArea._isHitGraphic(x,y,this.hit))return false;
		return !HitArea._isHitGraphic(x,y,this.unHit);
	}

	/**
	*可点击区域，可以设置绘制一系列矢量图作为点击区域（目前只支持圆形，矩形，多边形）
	*/
	__getset(0,__proto,'hit',function(){
		if (!this._hit)this._hit=new Graphics();
		return this._hit;
		},function(value){
		this._hit=value;
	});

	/**
	*不可点击区域，可以设置绘制一系列矢量图作为非点击区域（目前只支持圆形，矩形，多边形）
	*/
	__getset(0,__proto,'unHit',function(){
		if (!this._unHit)this._unHit=new Graphics();
		return this._unHit;
		},function(value){
		this._unHit=value;
	});

	HitArea._isHitGraphic=function(x,y,graphic){
		if (!graphic)return false;
		var cmds=graphic.cmds;
		if (!cmds && graphic._one){
			cmds=HitArea._cmds;
			cmds.length=1;
			cmds[0]=graphic._one;
		}
		if (!cmds)return false;
		var i=0,len=0;
		len=cmds.length;
		var cmd;
		for (i=0;i < len;i++){
			cmd=cmds[i];
			if (!cmd)continue ;
			var context=Render._context;
			switch (cmd.callee){
				case context._translate:
				case 6:
					x-=cmd[0];
					y-=cmd[1];
				}
			if (HitArea._isHitCmd(x,y,cmd))return true;
		}
		return false;
	}

	HitArea._isHitCmd=function(x,y,cmd){
		if (!cmd)return false;
		var context=Render._context;
		var rst=false;
		switch (cmd["callee"]){
			case context._drawRect:
			case 13:
				HitArea._rect.setTo(cmd[0],cmd[1],cmd[2],cmd[3]);
				rst=HitArea._rect.contains(x,y);
				break ;
			case context._drawCircle:
			case context._fillCircle:
			case 14:;
				var d=NaN;
				x-=cmd[0];
				y-=cmd[1];
				d=x *x+y *y;
				rst=d < cmd[2] *cmd[2];
				break ;
			case context._drawPoly:
			case 18:
				x-=cmd[0];
				y-=cmd[1];
				rst=HitArea._ptInPolygon(x,y,cmd[2]);
				break ;
			}
		return rst;
	}

	HitArea._ptInPolygon=function(x,y,areaPoints){
		var p=HitArea._ptPoint;
		p.setTo(x,y);
		var nCross=0;
		var p1x=NaN,p1y=NaN,p2x=NaN,p2y=NaN;
		var len=0;
		len=areaPoints.length;
		for (var i=0;i < len;i+=2){
			p1x=areaPoints[i];
			p1y=areaPoints[i+1];
			p2x=areaPoints[(i+2)% len];
			p2y=areaPoints[(i+3)% len];
			if (p1y==p2y)continue ;
			if (p.y < Math.min(p1y,p2y))continue ;
			if (p.y >=Math.max(p1y,p2y))continue ;
			var tx=(p.y-p1y)*(p2x-p1x)/ (p2y-p1y)+p1x;
			if (tx > p.x)nCross++;
		}
		return (nCross % 2==1);
	}

	HitArea._cmds=[];
	__static(HitArea,
	['_rect',function(){return this._rect=new Rectangle();},'_ptPoint',function(){return this._ptPoint=new Point();}
	]);
	return HitArea;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/HTMLChar.as=======199.999108/199.999108
/**
*@private
*<code>HTMLChar</code> 是一个 HTML 字符类。
*/
//class laya.utils.HTMLChar
var HTMLChar=(function(){
	function HTMLChar(){
		/**x坐标*/
		//this.x=NaN;
		/**y坐标*/
		//this.y=NaN;
		/**宽*/
		//this.width=NaN;
		/**高*/
		//this.height=NaN;
		/**表示是否是正常单词(英文|.|数字)。*/
		//this.isWord=false;
		/**字符。*/
		//this.char=null;
		/**字符数量。*/
		//this.charNum=NaN;
		/**CSS 样式。*/
		//this.style=null;
		this.reset();
	}

	__class(HTMLChar,'laya.utils.HTMLChar');
	var __proto=HTMLChar.prototype;
	/**
	*根据指定的字符、宽高、样式，创建一个 <code>HTMLChar</code> 类的实例。
	*@param char 字符。
	*@param w 宽度。
	*@param h 高度。
	*@param style CSS 样式。
	*/
	__proto.setData=function(char,w,h,style){
		this.char=char;
		this.charNum=char.charCodeAt(0);
		this.x=this.y=0;
		this.width=w;
		this.height=h;
		this.style=style;
		this.isWord=!HTMLChar._isWordRegExp.test(char);
		return this;
	}

	/**
	*重置
	*/
	__proto.reset=function(){
		this.x=this.y=this.width=this.height=0;
		this.isWord=false;
		this.char=null;
		this.charNum=0;
		this.style=null;
		return this;
	}

	/**
	*回收
	*/
	__proto.recover=function(){
		Pool.recover("HTMLChar",this.reset());
	}

	/**@private */
	__proto._isChar=function(){
		return true;
	}

	/**@private */
	__proto._getCSSStyle=function(){
		return this.style;
	}

	HTMLChar.create=function(){
		return Pool.getItemByClass("HTMLChar",HTMLChar);
	}

	HTMLChar._isWordRegExp=new RegExp("[\\w\.]","");
	return HTMLChar;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Log.as=======199.999107/199.999107
/**
*<code>Log</code> 类用于在界面内显示日志记录信息。
*注意：在加速器内不可使用
*/
//class laya.utils.Log
var Log=(function(){
	function Log(){}
	__class(Log,'laya.utils.Log');
	Log.enable=function(){
		if (!Log._logdiv){
			Log._logdiv=Browser.createElement('div');
			Log._logdiv.style.cssText="border:white;padding:4px;overflow-y:auto;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;";
			Browser.document.body.appendChild(Log._logdiv);
			Log._btn=Browser.createElement("button");
			Log._btn.innerText="Hide";
			Log._btn.style.cssText="z-index:1000001;position: absolute;left:10px;top:10px;";
			Log._btn.onclick=Log.toggle;
			Browser.document.body.appendChild(Log._btn);
		}
	}

	Log.toggle=function(){
		var style=Log._logdiv.style;
		if (style.display===""){
			Log._btn.innerText="Show";
			style.display="none";
			}else {
			Log._btn.innerText="Hide";
			style.display="";
		}
	}

	Log.print=function(value){
		if (Log._logdiv){
			if (Log._count >=Log.maxCount)Log.clear();
			Log._count++;
			Log._logdiv.innerText+=value+"\n";
			if (Log.autoScrollToBottom){
				if (Log._logdiv.scrollHeight-Log._logdiv.scrollTop-Log._logdiv.clientHeight < 50){
					Log._logdiv.scrollTop=Log._logdiv.scrollHeight;
				}
			}
		}
	}

	Log.clear=function(){
		Log._logdiv.innerText="";
		Log._count=0;
	}

	Log._logdiv=null;
	Log._btn=null;
	Log._count=0;
	Log.maxCount=50;
	Log.autoScrollToBottom=true;
	return Log;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Pool.as=======199.999105/199.999105
/**
*<p> <code>Pool</code> 是对象池类，用于对象的存储、重复使用。</p>
*<p>合理使用对象池，可以有效减少对象创建的开销，避免频繁的垃圾回收，从而优化游戏流畅度。</p>
*/
//class laya.utils.Pool
var Pool=(function(){
	function Pool(){}
	__class(Pool,'laya.utils.Pool');
	Pool.getPoolBySign=function(sign){
		return Pool._poolDic[sign] || (Pool._poolDic[sign]=[]);
	}

	Pool.clearBySign=function(sign){
		if (Pool._poolDic[sign])Pool._poolDic[sign].length=0;
	}

	Pool.recover=function(sign,item){
		if (item["__InPool"])return;
		item["__InPool"]=true;
		Pool.getPoolBySign(sign).push(item);
	}

	Pool.getItemByClass=function(sign,cls){
		var pool=Pool.getPoolBySign(sign);
		if (pool.length){
			var rst=pool.pop();
			rst["__InPool"]=false;
			}else {
			rst=new cls();
		}
		return rst;
	}

	Pool.getItemByCreateFun=function(sign,createFun){
		var pool=Pool.getPoolBySign(sign);
		var rst=pool.length ? pool.pop():createFun();
		rst["__InPool"]=false;
		return rst;
	}

	Pool.getItem=function(sign){
		var pool=Pool.getPoolBySign(sign);
		var rst=pool.length ? pool.pop():null;
		if (rst){
			rst["__InPool"]=false;
		}
		return rst;
	}

	Pool.POOLSIGN="__InPool";
	Pool._poolDic={};
	return Pool;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/RunDriver.as=======199.999103/199.999103
/**
*@private
*/
//class laya.utils.RunDriver
var RunDriver=(function(){
	function RunDriver(){}
	__class(RunDriver,'laya.utils.RunDriver');
	RunDriver.enableNative=function(){
		LayaGLRunner.uploadVertexBufferAttributes=LayaGLRunner.uploadShaderAttributesForNative;
		LayaGLRunner.uploadShaderUniforms=LayaGLRunner.uploadShaderUniformsForNative;
		var sprite=Sprite;
		sprite.prototype.render=sprite.prototype.renderToNative;
		sprite.prototype.repaint=sprite.prototype.repaintForNative;
		sprite.prototype.parentRepaint=sprite.prototype.parentRepaintForNative;
		var stage=Stage;
		stage.prototype.repaint=stage.prototype.repaintForNative;
		if (window.conch){
			CommandEncoder=window.GLCommandEncoder;
			var prototypeGL=window.LayaGLContext.prototype;
			var protoLast=LayaGL.prototype;
			LayaGL=window.LayaGLContext;
			prototypeGL.drawImage=protoLast.drawImage;
			prototypeGL.drawTexture=protoLast.drawTexture;
			prototypeGL.fillText=protoLast.fillText;
			prototypeGL.save=protoLast.save;
			prototypeGL.restore=protoLast.restore;
			prototypeGL.translate=protoLast.translate;
			prototypeGL.scale=protoLast.scale;
			prototypeGL.rotate=protoLast.rotate;
			prototypeGL.transform=protoLast.transform;
		}
		ConchSpriteAdpt.init();
	}

	RunDriver.FILTER_ACTIONS=[];
	RunDriver.getIncludeStr=function(name){
		return null;
	}

	RunDriver.createShaderCondition=function(conditionScript){
		var fn="(function() {return "+conditionScript+";})";
		return Browser.window.eval(fn);
	}

	RunDriver.fontMap=[];
	RunDriver.measureText=function(txt,font){
		var isChinese=RunDriver.hanzi.test(txt);
		if (isChinese && RunDriver.fontMap[font]){
			return RunDriver.fontMap[font];
		};
		var ctx=Browser.context;
		ctx.font=font;
		var r=ctx.measureText(txt);
		if (isChinese)RunDriver.fontMap[font]=r;
		return r;
	}

	RunDriver.flashFlushImage=function(atlasWebGLCanvas){
	};

	RunDriver.drawToCanvas=function(sprite,_renderType,canvasWidth,canvasHeight,offsetX,offsetY){
		debugger;
		return null;
	}

	RunDriver.createParticleTemplate2D=null;
	RunDriver.createGLTextur=null;
	RunDriver.createWebGLContext2D=null;
	RunDriver.changeWebGLSize=function(w,h){
	};

	RunDriver.createRenderSprite=function(type,next){
		return new RenderSprite(type,next);
	}

	RunDriver.createFilterAction=function(type){
		return new ColorFilterAction();
	}

	RunDriver.createGraphics=function(){
		return new Graphics();
	}

	RunDriver.clear=function(value){
		if (!Render.isConchApp){
			Render._context.clear();
		}
	}

	RunDriver.getTexturePixels=function(value,x,y,width,height){
		return null;
	}

	RunDriver.skinAniSprite=function(){
		return null;
	}

	RunDriver.cancelLoadByUrl=function(url){
	};

	__static(RunDriver,
	['hanzi',function(){return this.hanzi=new RegExp("^[\u4E00-\u9FA5]$");}
	]);
	return RunDriver;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/SceneUtils.as=======199.999102/199.999102
/**
*@private 场景辅助类
*/
//class laya.utils.SceneUtils
var SceneUtils=(function(){
	var DataWatcher,InitTool;
	function SceneUtils(){}
	__class(SceneUtils,'laya.utils.SceneUtils');
	SceneUtils.getBindFun=function(value){
		var fun=SceneUtils._funMap.get(value);
		if (fun==null){
			var temp="\""+value+"\"";
			temp=temp.replace(/^"\${|}"$/g,"").replace(/\${/g,"\"+").replace(/}/g,"+\"");
			var str="(function(data){if(data==null)return;with(data){try{\nreturn "+temp+"\n}catch(e){}}})";
			fun=Browser.window.eval(str);
			SceneUtils._funMap.set(value,fun);
		}
		return fun;
	}

	SceneUtils.createByData=function(root,uiView){
		var tInitTool=InitTool.create();
		SceneUtils.createComp(uiView,root,root,null,tInitTool);
		if (uiView.animations){
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAni;
			var tAniO;
			for (i=0;i < len;i++){
				tAni=new FrameAnimation();
				tAniO=animations[i];
				tAni._setUp(tInitTool._idMap,tAniO);
				root[tAniO.name]=tAni;
				tAni._setControlNode(root);
				switch (tAniO.action){
					case 1:
						tAni.play(0,false);
						break ;
					case 2:
						tAni.play(0,true);
						break ;
					}
				anilist.push(tAni);
			}
			root._aniList=anilist;
		}
		if (root._width > 0 && uiView.props.hitTestPrior==null && !root.mouseThrough)
			root.hitTestPrior=true;
		tInitTool.beginLoad();
	}

	SceneUtils.createComp=function(uiView,comp,view,dataMap,initTool){
		comp=comp || SceneUtils.getCompInstance(uiView);
		if (!comp){
			if (uiView.props && uiView.props.runtime)
				console.warn("runtime not found:"+uiView.props.runtime);
			else
			console.warn("can not create:"+uiView.type);
			return null;
		};
		var child=uiView.child;
		if (child){
			var isList=comp["_$componentType"]=="List";
			for (var i=0,n=child.length;i < n;i++){
				var node=child[i];
				if (comp.hasOwnProperty("itemRender")&& (node.props.name=="render" || node.props.renderType==="render")){
					comp["itemRender"]=node;
					}else if (node.type=="Graphic"){
					ClassUtils._addGraphicsToSprite(node,comp);
					}else if (ClassUtils._isDrawType(node.type)){
					ClassUtils._addGraphicToSprite(node,comp,true);
					}else {
					if (isList){
						var arr=[];
						var tChild=SceneUtils.createComp(node,null,view,arr,initTool);
						if (arr.length)
							tChild["_$bindData"]=arr;
						}else {
						tChild=SceneUtils.createComp(node,null,view,dataMap,initTool);
					}
					if (node.type=="Script"){
						if ((tChild instanceof laya.components.Component )){
							comp._addComponentInstance(tChild,false);
							}else {
							if ("owner" in tChild){
								tChild["owner"]=comp;
								}else if ("target" in tChild){
								tChild["target"]=comp;
							}
						}
						}else if (node.props.renderType=="mask" || node.props.name=="mask"){
						comp.mask=tChild;
						}else {(
						tChild instanceof laya.display.Sprite )&& comp.addChild(tChild);
					}
				}
			}
		};
		var props=uiView.props;
		for (var prop in props){
			var value=props[prop];
			if ((typeof value=='string')&& (value.indexOf("@node:")>=0 || value.indexOf("@Prefab:")>=0)){
				if (initTool){
					initTool.addNodeRef(comp,prop,value);
				}
			}else
			SceneUtils.setCompValue(comp,prop,value,view,dataMap);
		}
		if (comp._afterInited){
			if (initTool){
				initTool.addInitItem(comp);
				}else {
				comp._afterInited();
			}
		}
		if (uiView.compId && initTool && initTool._idMap){
			initTool._idMap[uiView.compId]=comp;
		}
		return comp;
	}

	SceneUtils.setCompValue=function(comp,prop,value,view,dataMap){
		if ((typeof value=='string')&& value.indexOf("${")>-1){
			SceneUtils._sheet || (SceneUtils._sheet=ClassUtils.getClass("laya.data.Table"));
			if (!SceneUtils._sheet){
				console.warn("Can not find class Sheet");
				return;
			}
			if (dataMap){
				dataMap.push(comp,prop,value);
				}else if (view){
				if (value.indexOf("].")==-1){
					value=value.replace(".","[0].");
				};
				var watcher=new DataWatcher(comp,prop,value);
				watcher.exe(view);
				var one,temp;
				var str=value.replace(/\[.*?\]\./g,".");
				while ((one=SceneUtils._parseWatchData.exec(str))!=null){
					var key1=one[1];
					while ((temp=SceneUtils._parseKeyWord.exec(key1))!=null){
						var key2=temp[0];
						var arr=(view._watchMap[key2] || (view._watchMap[key2]=[]));
						arr.push(watcher);
						SceneUtils._sheet.I.notifer.on(key2,view,view.changeData,[key2]);
					}
					arr=(view._watchMap[key1] || (view._watchMap[key1]=[]));
					arr.push(watcher);
					SceneUtils._sheet.I.notifer.on(key1,view,view.changeData,[key1]);
				}
			}
			return;
		}
		if (prop==="var" && view){
			view[value]=comp;
			}else {
			comp[prop]=(value==="true" ? true :(value==="false" ? false :value));
		}
	}

	SceneUtils.getCompInstance=function(json){
		var runtime=(json.props&&json.props.runtime)|| json.type;
		var compClass=ClassUtils.getClass(runtime);
		if (!compClass)
			throw "Can not find class "+runtime;
		if (json.props && json.props.hasOwnProperty("renderType")&& json.props["renderType"]=="instance")
			return compClass["instance"];
		return new compClass();
	}

	SceneUtils._sheet=null;
	__static(SceneUtils,
	['_funMap',function(){return this._funMap=new WeakObject();},'_parseWatchData',function(){return this._parseWatchData=/\${(.*?)}/g;},'_parseKeyWord',function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g;}
	]);
	SceneUtils.__init$=function(){
		/**
		*@private 场景辅助类
		*/
		//class DataWatcher
		DataWatcher=(function(){
			function DataWatcher(comp,prop,value){
				this.comp=null;
				this.prop=null;
				this.value=null;
				this.comp=comp;
				this.prop=prop;
				this.value=value;
			}
			__class(DataWatcher,'');
			var __proto=DataWatcher.prototype;
			__proto.exe=function(view){
				var fun=SceneUtils.getBindFun(this.value);
				this.comp[this.prop]=fun.call(this,view);
			}
			return DataWatcher;
		})()
		/**
		*@private 场景辅助类
		*/
		//class InitTool
		InitTool=(function(){
			function InitTool(){
				/**@private */
				this._nodeRefList=null;
				/**@private */
				this._initList=null;
				this._loadList=null;
				/**@private */
				this._idMap=null;
			}
			__class(InitTool,'');
			var __proto=InitTool.prototype;
			__proto.reset=function(){
				this._nodeRefList=null;
				this._initList=null;
				this._idMap=null;
				this._loadList=null;
			}
			__proto.recover=function(){
				this.reset();
				Pool.recover("InitTool",this);
			}
			__proto.addLoadRes=function(url,type){
				if (!this._loadList)this._loadList=[];
				if (!type){
					this._loadList.push(url);
					}else {
					this._loadList.push({url:url,type:type});
				}
			}
			/**@private */
			__proto.addNodeRef=function(node,prop,referStr){
				if (!this._nodeRefList)this._nodeRefList=[];
				this._nodeRefList.push([node,prop,referStr]);
				if (referStr.indexOf("@Prefab:")>=0){
					this.addLoadRes(referStr.replace("@Prefab:",""),"json");
				}
			}
			/**@private */
			__proto.setNodeRef=function(){
				if (!this._nodeRefList)return;
				if (!this._idMap){
					this._nodeRefList=null;
					return;
				};
				var i=0,len=0;
				len=this._nodeRefList.length;
				var tRefInfo;
				for (i=0;i < len;i++){
					tRefInfo=this._nodeRefList[i];
					tRefInfo[0][tRefInfo[1]]=this.getReferData(tRefInfo[2]);
				}
				this._nodeRefList=null;
			}
			/**@private */
			__proto.getReferData=function(referStr){
				if (referStr.indexOf("@Prefab:")>=0){
					var prefab;
					prefab=new Prefab();
					prefab.json=Loader.getRes(referStr.replace("@Prefab:",""));
					return prefab;
					}else if (referStr.indexOf("@arr:")>=0){
					referStr=referStr.replace("@arr:","");
					var list;
					list=referStr.split(",");
					var i=0,len=0;
					var tStr;
					len=list.length;
					for (i=0;i < len;i++){
						tStr=list[i];
						if (tStr){
							list[i]=this._idMap[tStr.replace("@node:","")];
							}else {
							list[i]=null;
						}
					}
					return list;
					}else {
					return this._idMap[referStr.replace("@node:","")];
				}
			}
			/**@private */
			__proto.addInitItem=function(item){
				if (!this._initList)this._initList=[];
				this._initList.push(item);
			}
			/**@private */
			__proto.doInits=function(){
				if (!this._initList)return;
				var i=0,len=0;
				len=this._initList.length;
				for (i=0;i < len;i++){
					this._initList[i]._afterInited();
				}
				this._initList=null;
			}
			/**@private */
			__proto.finish=function(){
				this.setNodeRef();
				this.doInits();
				this.recover();
			}
			/**@private */
			__proto.beginLoad=function(){
				if (!this._loadList || this._loadList.length < 1){
					this.finish();
					}else {
					Laya.loader.load(this._loadList,Handler.create(this,this.finish));
				}
			}
			InitTool.create=function(){
				var tool=Pool.getItemByClass("InitTool",InitTool);
				tool._idMap=[];
				return tool;
			}
			return InitTool;
		})()
	}

	return SceneUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Stat.as=======199.999099/199.999099
/**
*<p> <code>Stat</code> 是一个性能统计面板，可以实时更新相关的性能参数。</p>
*<p>参与统计的性能参数如下（所有参数都是每大约1秒进行更新）：<br/>
*FPS(Canvas)/FPS(WebGL)：Canvas 模式或者 WebGL 模式下的帧频，也就是每秒显示的帧数，值越高、越稳定，感觉越流畅；<br/>
*Sprite：统计所有渲染节点（包括容器）数量，它的大小会影响引擎进行节点遍历、数据组织和渲染的效率。其值越小，游戏运行效率越高；<br/>
*DrawCall：此值是决定性能的重要指标，其值越小，游戏运行效率越高。Canvas模式下表示每大约1秒的图像绘制次数；WebGL模式下表示每大约1秒的渲染提交批次，每次准备数据并通知GPU渲染绘制的过程称为1次DrawCall，在每次DrawCall中除了在通知GPU的渲染上比较耗时之外，切换材质与shader也是非常耗时的操作；<br/>
*Memory：Canvas模式下，表示内存占用大小，值越小越好，过高会导致游戏闪退；WebGL模式下，表示内存与显存的占用，值越小越好；<br/>
*Shader：是 WebGL 模式独有的性能指标，表示每大约1秒 Shader 提交次数，值越小越好；<br/>
*Canvas：由三个数值组成，只有设置 CacheAs 后才会有值，默认为0/0/0。从左到右数值的意义分别为：每帧重绘的画布数量 / 缓存类型为"normal"类型的画布数量 / 缓存类型为"bitmap"类型的画布数量。</p>
*/
//class laya.utils.Stat
var Stat=(function(){
	function Stat(){}
	__class(Stat,'laya.utils.Stat');
	/**
	*设置点击FPS区域后，触发的函数。里面可以放置一些调试逻辑处理。
	*/
	__getset(1,Stat,'onclick',null,function(fn){
		Stat._canvas.source.onclick=fn;
		Stat._canvas.source.style.pointerEvents='';
	});

	Stat.show=function(x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		if (Render.isConchApp){
			window.conch && window.conch.showFPS&&window.conch.showFPS(x,y);
			return;
		};
		var pixel=Browser.pixelRatio;
		Stat._width=pixel *130;
		Stat._vx=pixel *75;
		Stat._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"};
		Stat._view[1]={title:"Sprite",value:"spriteCount",color:"white",units:"int"};
		Stat._view[2]={title:"DrawCall",value:"drawCall",color:"white",units:"int"};
		Stat._view[3]={title:"Memory",value:"currentMemorySize",color:"yellow",units:"M"};
		if (Render.isWebGL){
			Stat._view[4]={title:"Shader",value:"shaderCall",color:"white",units:"int"};
			if (!Render.is3DMode){
				Stat._view[0].title="FPS(WebGL)";
				Stat._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int" };
				Stat._view[6]={title:"Mesh2D",value:"mesh2DNum",color:"white",uints:"int" };
				}else {
				Stat._view[0].title="FPS(3D)";
				Stat._view[5]={title:"TriFaces",value:"trianglesFaces",color:"white",units:"int"};
				Stat._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"};
				Stat._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"};
			}
			}else {
			Stat._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"};
		}
		Stat._fontSize=12 *pixel;
		for (var i=0;i < Stat._view.length;i++){
			Stat._view[i].x=4;
			Stat._view[i].y=i *Stat._fontSize+2 *pixel;
		}
		Stat._height=pixel *(Stat._view.length *12+3 *pixel)+4;
		if (!Stat._canvas){
			Stat._canvas=new HTMLCanvas('2D');
			Stat._canvas.size(Stat._width,Stat._height);
			Stat._ctx=Stat._canvas.getContext('2d');
			Stat._ctx.textBaseline="top";
			Stat._ctx.font=Stat._fontSize+"px Sans-serif";
			Stat._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;left:"+x+"px;top:"+y+"px;width:"+(Stat._width / pixel)+"px;height:"+(Stat._height / pixel)+"px;";
		}
		Stat._first=true;
		Stat._loop();
		Stat._first=false;
		Browser.container.appendChild(Stat._canvas.source);
		Stat.enable();
	}

	Stat.enable=function(){
		Laya.timer.frameLoop(1,Stat,Stat._loop);
	}

	Stat.hide=function(){
		if (Stat._canvas){
			Browser.removeElement(Stat._canvas.source);
			Laya.timer.clear(Stat,Stat._loop);
		}
	}

	Stat.clear=function(){
		Stat.trianglesFaces=Stat.drawCall=Stat.shaderCall=Stat.spriteCount=Stat.treeNodeCollision=Stat.treeSpriteCollision=Stat.canvasNormal=Stat.canvasBitmap=Stat.canvasReCache=0;
	}

	Stat._loop=function(){
		Stat._count++;
		var timer=Browser.now();
		if (timer-Stat._timer < 1000)return;
		var count=Stat._count;
		Stat.FPS=Math.round((count *1000)/ (timer-Stat._timer));
		if (Stat._canvas){
			Stat.trianglesFaces=Math.round(Stat.trianglesFaces / count);
			Stat.drawCall=Math.round(Stat.drawCall / count);
			Stat.shaderCall=Math.round(Stat.shaderCall / count);
			Stat.spriteCount=Math.round(Stat.spriteCount / count)-1;
			Stat.canvasNormal=Math.round(Stat.canvasNormal / count);
			Stat.canvasBitmap=Math.round(Stat.canvasBitmap / count);
			Stat.canvasReCache=Math.ceil(Stat.canvasReCache / count);
			Stat.treeNodeCollision=Math.round(Stat.treeNodeCollision / count);
			Stat.treeSpriteCollision=Math.round(Stat.treeSpriteCollision / count);
			var delay=Stat.FPS > 0 ? Math.floor(1000 / Stat.FPS).toString():" ";
			Stat._fpsStr=Stat.FPS+(Stat.renderSlow ? " slow" :"")+" "+delay;
			Stat._canvasStr=Stat.canvasReCache+"/"+Stat.canvasNormal+"/"+Stat.canvasBitmap;
			Stat.currentMemorySize=ResourceManager.systemResourceManager.memorySize;
			var ctx=Stat._ctx;
			ctx.clearRect(Stat._first ? 0 :Stat._vx,0,Stat._width,Stat._height);
			for (var i=0;i < Stat._view.length;i++){
				var one=Stat._view[i];
				if (Stat._first){
					ctx.fillStyle="white";
					ctx.fillText(one.title,one.x,one.y);
				}
				ctx.fillStyle=one.color;
				var value=Stat[one.value];
				(one.units=="M")&& (value=Math.floor(value / (1024 *1024)*100)/ 100+" M");
				ctx.fillText(value+"",one.x+Stat._vx,one.y);
			}
			Stat.clear();
		}
		Stat._count=0;
		Stat._timer=timer;
	}

	Stat.FPS=0;
	Stat.loopCount=0;
	Stat.shaderCall=0;
	Stat.drawCall=0;
	Stat.trianglesFaces=0;
	Stat.spriteCount=0;
	Stat.treeNodeCollision=0;
	Stat.treeSpriteCollision=0;
	Stat.canvasNormal=0;
	Stat.canvasBitmap=0;
	Stat.canvasReCache=0;
	Stat.renderSlow=false;
	Stat.currentMemorySize=0;
	Stat.mesh2DNum=0;
	Stat._fpsStr=null;
	Stat._canvasStr=null;
	Stat._canvas=null;
	Stat._ctx=null;
	Stat._timer=0;
	Stat._count=0;
	Stat._width=0;
	Stat._height=100;
	Stat._view=[];
	Stat._fontSize=12;
	Stat._first=false;
	Stat._vx=NaN;
	return Stat;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/StringKey.as=======199.999098/199.999098
/**
*@private
*<code>StringKey</code> 类用于存取字符串对应的数字。
*/
//class laya.utils.StringKey
var StringKey=(function(){
	function StringKey(){
		this._strsToID={};
		this._idToStrs=[];
		this._length=0;
	}

	__class(StringKey,'laya.utils.StringKey');
	var __proto=StringKey.prototype;
	/**
	*添加一个字符。
	*@param str 字符，将作为key 存储相应生成的数字。
	*@return 此字符对应的数字。
	*/
	__proto.add=function(str){
		var index=this._strsToID[str];
		if (index !=null)return index;
		this._idToStrs[this._length]=str;
		return this._strsToID[str]=this._length++;
	}

	/**
	*获取指定字符对应的ID。
	*@param str 字符。
	*@return 此字符对应的ID。
	*/
	__proto.getID=function(str){
		var index=this._strsToID[str];
		return index==null ?-1 :index;
	}

	/**
	*根据指定ID获取对应字符。
	*@param id ID。
	*@return 此id对应的字符。
	*/
	__proto.getName=function(id){
		var str=this._idToStrs[id];
		return str==null ? undefined :str;
	}

	return StringKey;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Timer.as=======199.999095/199.999095
/**
*<code>Timer</code> 是时钟管理类。它是一个单例，不要手动实例化此类，应该通过 Laya.timer 访问。
*/
//class laya.utils.Timer
var Timer=(function(){
	var TimerHandler;
	function Timer(){
		/**时针缩放。*/
		this.scale=1;
		/**当前的帧数。*/
		this.currFrame=0;
		/**@private */
		this._mid=1;
		/**@private */
		this._map=[];
		/**@private */
		this._laters=[];
		/**@private */
		this._handlers=[];
		/**@private */
		this._temp=[];
		/**@private */
		this._count=0;
		/**两帧之间的时间间隔,单位毫秒。*/
		this._delta=0;
		this.currTimer=Browser.now();
		this._lastTimer=Browser.now();
	}

	__class(Timer,'laya.utils.Timer');
	var __proto=Timer.prototype;
	/**@private */
	__proto._init=function(){
		Laya.timer && Laya.timer.frameLoop(1,this,this._update);
	}

	/**@private */
	__proto._now=function(){
		return Date.now();
	}

	/**
	*@private
	*帧循环处理函数。
	*/
	__proto._update=function(){
		if (this.scale <=0){
			this._lastTimer=Browser.now();
			return;
		};
		var frame=this.currFrame=this.currFrame+this.scale;
		var now=Browser.now();
		this._delta=(now-this._lastTimer)*this.scale;
		var timer=this.currTimer=this.currTimer+this._delta;
		this._lastTimer=now;
		var handlers=this._handlers;
		this._count=0;
		for (i=0,n=handlers.length;i < n;i++){
			handler=handlers[i];
			if (handler.method!==null){
				var t=handler.userFrame ? frame :timer;
				if (t >=handler.exeTime){
					if (handler.repeat){
						if (!handler.jumpFrame){
							handler.exeTime+=handler.delay;
							handler.run(false);
							if (t > handler.exeTime){
								handler.exeTime+=Math.ceil((t-handler.exeTime)/ handler.delay)*handler.delay;
							}
							}else {
							while (t >=handler.exeTime){
								handler.exeTime+=handler.delay;
								handler.run(false);
							}
						}
						}else {
						handler.run(true);
					}
				}
				}else {
				this._count++;
			}
		}
		if (this._count > 30 || frame % 200===0)this._clearHandlers();
		var laters=this._laters;
		for (var i=0,n=laters.length-1;i <=n;i++){
			var handler=laters[i];
			if (handler.method!==null){
				this._map[handler.key]=null;
				handler.run(false);
			}
			this._recoverHandler(handler);
			i===n && (n=laters.length-1);
		}
		laters.length=0;
	}

	/**@private */
	__proto._clearHandlers=function(){
		var handlers=this._handlers;
		for (var i=0,n=handlers.length;i < n;i++){
			var handler=handlers[i];
			if (handler.method!==null)this._temp.push(handler);
			else this._recoverHandler(handler);
		}
		this._handlers=this._temp;
		handlers.length=0;
		this._temp=handlers;
	}

	/**@private */
	__proto._recoverHandler=function(handler){
		if(this._map[handler.key]==handler)this._map[handler.key]=null;
		handler.clear();
		Timer._pool.push(handler);
	}

	/**@private */
	__proto._create=function(useFrame,repeat,delay,caller,method,args,coverBefore){
		if (!delay){
			method.apply(caller,args);
			return null;
		}
		if (coverBefore){
			var handler=this._getHandler(caller,method);
			if (handler){
				handler.repeat=repeat;
				handler.userFrame=useFrame;
				handler.delay=delay;
				handler.caller=caller;
				handler.method=method;
				handler.args=args;
				handler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+Browser.now()-this._lastTimer);
				return handler;
			}
		}
		handler=Timer._pool.length > 0 ? Timer._pool.pop():new TimerHandler();
		handler.repeat=repeat;
		handler.userFrame=useFrame;
		handler.delay=delay;
		handler.caller=caller;
		handler.method=method;
		handler.args=args;
		handler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+Browser.now()-this._lastTimer);
		this._indexHandler(handler);
		this._handlers.push(handler);
		return handler;
	}

	/**@private */
	__proto._indexHandler=function(handler){
		var caller=handler.caller;
		var method=handler.method;
		var cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;
		var mid=method.$_TID || (method.$_TID=(this._mid++)*100000);
		handler.key=cid+mid;
		this._map[handler.key]=handler;
	}

	/**
	*定时执行一次。
	*@param delay 延迟时间(单位为毫秒)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.once=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(false,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行。
	*@param delay 间隔时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次
	*/
	__proto.loop=function(delay,caller,method,args,coverBefore,jumpFrame){
		(coverBefore===void 0)&& (coverBefore=true);
		(jumpFrame===void 0)&& (jumpFrame=false);
		var handler=this._create(false,true,delay,caller,method,args,coverBefore);
		if (handler)handler.jumpFrame=jumpFrame;
	}

	/**
	*定时执行一次(基于帧率)。
	*@param delay 延迟几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.frameOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(true,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行(基于帧率)。
	*@param delay 间隔几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.frameLoop=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(true,true,delay,caller,method,args,coverBefore);
	}

	/**返回统计信息。*/
	__proto.toString=function(){
		return "callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+Timer._pool.length;
	}

	/**
	*清理定时器。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.clear=function(caller,method){
		var handler=this._getHandler(caller,method);
		if (handler){
			this._map[handler.key]=null;handler.key=0;
			handler.clear();
		}
	}

	/**
	*清理对象身上的所有定时器。
	*@param caller 执行域(this)。
	*/
	__proto.clearAll=function(caller){
		if (!caller)return;
		for (var i=0,n=this._handlers.length;i < n;i++){
			var handler=this._handlers[i];
			if (handler.caller===caller){
				this._map[handler.key]=null;handler.key=0;
				handler.clear();
			}
		}
	}

	/**@private */
	__proto._getHandler=function(caller,method){
		var cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;
		var mid=method.$_TID || (method.$_TID=(this._mid++)*100000);
		return this._map[cid+mid];
	}

	/**
	*延迟执行。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*/
	__proto.callLater=function(caller,method,args){
		if (this._getHandler(caller,method)==null){
			if (Timer._pool.length)
				var handler=Timer._pool.pop();
			else handler=new TimerHandler();
			handler.caller=caller;
			handler.method=method;
			handler.args=args;
			this._indexHandler(handler);
			this._laters.push(handler);
		}
	}

	/**
	*立即执行 callLater 。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.runCallLater=function(caller,method){
		var handler=this._getHandler(caller,method);
		if (handler && handler.method !=null){
			this._map[handler.key]=null;
			handler.run(true);
		}
	}

	/**
	*立即提前执行定时器，执行之后从队列中删除
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.runTimer=function(caller,method){
		this.runCallLater(caller,method);
	}

	/**
	*两帧之间的时间间隔,单位毫秒。
	*/
	__getset(0,__proto,'delta',function(){
		return this._delta;
	});

	Timer._pool=[];
	Timer.__init$=function(){
		/**@private */
		//class TimerHandler
		TimerHandler=(function(){
			function TimerHandler(){
				this.key=0;
				this.repeat=false;
				this.delay=0;
				this.userFrame=false;
				this.exeTime=0;
				this.caller=null;
				this.method=null;
				this.args=null;
				this.jumpFrame=false;
			}
			__class(TimerHandler,'');
			var __proto=TimerHandler.prototype;
			__proto.clear=function(){
				this.caller=null;
				this.method=null;
				this.args=null;
			}
			__proto.run=function(withClear){
				var caller=this.caller;
				if (caller && caller.destroyed)return this.clear();
				var method=this.method;
				var args=this.args;
				withClear && this.clear();
				if (method==null)return;
				args ? method.apply(caller,args):method.call(caller);
			}
			return TimerHandler;
		})()
	}

	return Timer;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Tween.as=======199.999093/199.999093
/**
*<code>Tween</code> 是一个缓动类。使用此类能够实现对目标对象属性的渐变。
*/
//class laya.utils.Tween
var Tween=(function(){
	function Tween(){
		/**@private */
		//this._complete=null;
		/**@private */
		//this._target=null;
		/**@private */
		//this._ease=null;
		/**@private */
		//this._props=null;
		/**@private */
		//this._duration=0;
		/**@private */
		//this._delay=0;
		/**@private */
		//this._startTimer=0;
		/**@private */
		//this._usedTimer=0;
		/**@private */
		//this._usedPool=false;
		/**@private 唯一标识，TimeLintLite用到*/
		this.gid=0;
		/**更新回调，缓动数值发生变化时，回调变化的值*/
		//this.update=null;
	}

	__class(Tween,'laya.utils.Tween');
	var __proto=Tween.prototype;
	/**
	*缓动对象的props属性到目标值。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.to=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,true,false,true);
	}

	/**
	*从props属性，缓动到当前状态。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.from=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,false,false,true);
	}

	/**@private */
	__proto._create=function(target,props,duration,ease,complete,delay,coverBefore,isTo,usePool,runNow){
		if (!target)throw new Error("Tween:target is null");
		this._target=target;
		this._duration=duration;
		this._ease=ease || props.ease || Tween.easeNone;
		this._complete=complete || props.complete;
		this._delay=delay;
		this._props=[];
		this._usedTimer=0;
		this._startTimer=Browser.now();
		this._usedPool=usePool;
		this.update=props.update;
		var gid=(target.$_GID || (target.$_GID=Utils.getGID()));
		if (!Tween.tweenMap[gid]){
			Tween.tweenMap[gid]=[this];
			}else {
			if (coverBefore)Tween.clearTween(target);
			Tween.tweenMap[gid].push(this);
		}
		if (runNow){
			if (delay <=0)this.firstStart(target,props,isTo);
			else Laya.timer.once(delay,this,this.firstStart,[target,props,isTo]);
			}else {
			this._initProps(target,props,isTo);
		}
		return this;
	}

	__proto.firstStart=function(target,props,isTo){
		if (target.destroyed){
			this.clear();
			return;
		}
		this._initProps(target,props,isTo);
		this._beginLoop();
	}

	__proto._initProps=function(target,props,isTo){
		for (var p in props){
			if ((typeof (target[p])=='number')){
				var start=isTo ? target[p] :props[p];
				var end=isTo ? props[p] :target[p];
				this._props.push([p,start,end-start]);
				if (!isTo)target[p]=start;
			}
		}
	}

	__proto._beginLoop=function(){
		Laya.timer.frameLoop(1,this,this._doEase);
	}

	/**执行缓动**/
	__proto._doEase=function(){
		this._updateEase(Browser.now());
	}

	/**@private */
	__proto._updateEase=function(time){
		var target=this._target;
		if (!target)return;
		if (target.destroyed)return Tween.clearTween(target);
		var usedTimer=this._usedTimer=time-this._startTimer-this._delay;
		if (usedTimer < 0)return;
		if (usedTimer >=this._duration)return this.complete();
		var ratio=usedTimer > 0 ? this._ease(usedTimer,0,1,this._duration):0;
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+(ratio *prop[2]);
		}
		if (this.update)this.update.run();
	}

	/**
	*立即结束缓动并到终点。
	*/
	__proto.complete=function(){
		if (!this._target)return;
		Laya.timer.runTimer(this,this.firstStart);
		var target=this._target;
		var props=this._props;
		var handler=this._complete;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+prop[2];
		}
		if (this.update)this.update.run();
		this.clear();
		handler && handler.run();
	}

	/**
	*暂停缓动，可以通过resume或restart重新开始。
	*/
	__proto.pause=function(){
		Laya.timer.clear(this,this._beginLoop);
		Laya.timer.clear(this,this._doEase);
	}

	/**
	*设置开始时间。
	*@param startTime 开始时间。
	*/
	__proto.setStartTime=function(startTime){
		this._startTimer=startTime;
	}

	/**
	*停止并清理当前缓动。
	*/
	__proto.clear=function(){
		if (this._target){
			this._remove();
			this._clear();
		}
	}

	/**
	*@private
	*/
	__proto._clear=function(){
		this.pause();
		Laya.timer.clear(this,this.firstStart);
		this._complete=null;
		this._target=null;
		this._ease=null;
		this._props=null;
		if (this._usedPool){
			this.update=null;
			Pool.recover("tween",this);
		}
	}

	/**回收到对象池。*/
	__proto.recover=function(){
		this._usedPool=true;
		this._clear();
	}

	__proto._remove=function(){
		var tweens=Tween.tweenMap[this._target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				if (tweens[i]===this){
					tweens.splice(i,1);
					break ;
				}
			}
		}
	}

	/**
	*重新开始暂停的缓动。
	*/
	__proto.restart=function(){
		this.pause();
		this._usedTimer=0;
		this._startTimer=Browser.now();
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			this._target[prop[0]]=prop[1];
		}
		Laya.timer.once(this._delay,this,this._beginLoop);
	}

	/**
	*恢复暂停的缓动。
	*/
	__proto.resume=function(){
		if (this._usedTimer >=this._duration)return;
		this._startTimer=Browser.now()-this._usedTimer-this._delay;
		this._beginLoop();
	}

	/**设置当前执行比例**/
	__getset(0,__proto,'progress',null,function(v){
		var uTime=v *this._duration;
		this._startTimer=Browser.now()-this._delay-uTime;
	});

	Tween.to=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return Pool.getItemByClass("tween",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,true,autoRecover,true);
	}

	Tween.from=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return Pool.getItemByClass("tween",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,false,autoRecover,true);
	}

	Tween.clearAll=function(target){
		if (!target || !target.$_GID)return;
		var tweens=Tween.tweenMap[target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				tweens[i]._clear();
			}
			tweens.length=0;
		}
	}

	Tween.clear=function(tween){
		tween.clear();
	}

	Tween.clearTween=function(target){
		Tween.clearAll(target);
	}

	Tween.easeNone=function(t,b,c,d){
		return c *t / d+b;
	}

	Tween.tweenMap=[];
	return Tween;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/Utils.as=======199.999092/199.999092
/**
*<code>Utils</code> 是工具类。
*/
//class laya.utils.Utils
var Utils=(function(){
	function Utils(){}
	__class(Utils,'laya.utils.Utils');
	Utils.toRadian=function(angle){
		return angle *Utils._pi2;
	}

	Utils.toAngle=function(radian){
		return radian *Utils._pi;
	}

	Utils.toHexColor=function(color){
		if (color < 0 || isNaN(color))return null;
		var str=color.toString(16);
		while (str.length < 6)str="0"+str;
		return "#"+str;
	}

	Utils.getGID=function(){
		return Utils._gid++;
	}

	Utils.concatArray=function(source,array){
		if (!array)return source;
		if (!source)return array;
		var i=0,len=array.length;
		for (i=0;i < len;i++){
			source.push(array[i]);
		}
		return source;
	}

	Utils.clearArray=function(array){
		if (!array)return array;
		array.length=0;
		return array;
	}

	Utils.copyArray=function(source,array){
		source || (source=[]);
		if (!array)return source;
		source.length=array.length;
		var i=0,len=array.length;
		for (i=0;i < len;i++){
			source[i]=array[i];
		}
		return source;
	}

	Utils.getGlobalRecByPoints=function(sprite,x0,y0,x1,y1){
		var newLTPoint;
		newLTPoint=Point.create().setTo(x0,y0);
		newLTPoint=sprite.localToGlobal(newLTPoint);
		var newRBPoint;
		newRBPoint=Point.create().setTo(x1,y1);
		newRBPoint=sprite.localToGlobal(newRBPoint);
		var rst=Rectangle._getWrapRec([newLTPoint.x,newLTPoint.y,newRBPoint.x,newRBPoint.y]);
		newLTPoint.recover();
		newRBPoint.recover();
		return rst;
	}

	Utils.getGlobalPosAndScale=function(sprite){
		return Utils.getGlobalRecByPoints(sprite,0,0,1,1);
	}

	Utils.bind=function(fun,scope){
		var rst=fun;
		rst=fun.bind(scope);;
		return rst;
	}

	Utils.measureText=function(txt,font){
		return RunDriver.measureText(txt,font);
	}

	Utils.updateOrder=function(array){
		if (!array || array.length < 2)return false;
		var i=1,j=0,len=array.length,key=NaN,c;
		while (i < len){
			j=i;
			c=array[j];
			key=array[j]._zOrder;
			while (--j >-1){
				if (array[j]._zOrder > key)array[j+1]=array[j];
				else break ;
			}
			array[j+1]=c;
			i++;
		}
		return true;
	}

	Utils.transPointList=function(points,x,y){
		var i=0,len=points.length;
		for (i=0;i < len;i+=2){
			points[i]+=x;
			points[i+1]+=y;
		}
	}

	Utils.parseInt=function(str,radix){
		(radix===void 0)&& (radix=0);
		var result=Browser.window.parseInt(str,radix);
		if (isNaN(result))return 0;
		return result;
	}

	Utils.getFileExtension=function(path){
		Utils._extReg.lastIndex=path.lastIndexOf(".");
		var result=Utils._extReg.exec(path);
		if (result && result.length > 1){
			return result[1].toLowerCase();
		}
		return null;
	}

	Utils.getTransformRelativeToWindow=function(coordinateSpace,x,y){
		var stage=Laya.stage;
		var globalTransform=laya.utils.Utils.getGlobalPosAndScale(coordinateSpace);
		var canvasMatrix=stage._canvasTransform.clone();
		var canvasLeft=canvasMatrix.tx;
		var canvasTop=canvasMatrix.ty;
		canvasMatrix.rotate(-Math.PI / 180 *Laya.stage.canvasDegree);
		canvasMatrix.scale(Laya.stage.clientScaleX,Laya.stage.clientScaleY);
		var perpendicular=(Laya.stage.canvasDegree % 180 !=0);
		var tx=NaN,ty=NaN;
		if (perpendicular){
			tx=y+globalTransform.y;
			ty=x+globalTransform.x;
			tx *=canvasMatrix.d;
			ty *=canvasMatrix.a;
			if (Laya.stage.canvasDegree==90){
				tx=canvasLeft-tx;
				ty+=canvasTop;
			}
			else {
				tx+=canvasLeft;
				ty=canvasTop-ty;
			}
		}
		else {
			tx=x+globalTransform.x;
			ty=y+globalTransform.y;
			tx *=canvasMatrix.a;
			ty *=canvasMatrix.d;
			tx+=canvasLeft;
			ty+=canvasTop;
		}
		ty+=Laya.stage['_safariOffsetY'];
		var domScaleX=NaN,domScaleY=NaN;
		if (perpendicular){
			domScaleX=canvasMatrix.d *globalTransform.height;
			domScaleY=canvasMatrix.a *globalTransform.width;
			}else {
			domScaleX=canvasMatrix.a *globalTransform.width;
			domScaleY=canvasMatrix.d *globalTransform.height;
		}
		return {x:tx,y:ty,scaleX:domScaleX,scaleY:domScaleY};
	}

	Utils.fitDOMElementInArea=function(dom,coordinateSpace,x,y,width,height){
		if (!dom._fitLayaAirInitialized){
			dom._fitLayaAirInitialized=true;
			dom.style.transformOrigin=dom.style.webKittransformOrigin="left top";
			dom.style.position="absolute"
		};
		var transform=Utils.getTransformRelativeToWindow(coordinateSpace,x,y);
		dom.style.transform=dom.style.webkitTransform="scale("+transform.scaleX+","+transform.scaleY+") rotate("+(Laya.stage.canvasDegree)+"deg)";
		dom.style.width=width+'px';
		dom.style.height=height+'px';
		dom.style.left=transform.x+'px';
		dom.style.top=transform.y+'px';
	}

	Utils.isOkTextureList=function(textureList){
		if (!textureList)return false;
		var i=0,len=textureList.length;
		var tTexture;
		for (i=0;i < len;i++){
			tTexture=textureList[i];
			if (!tTexture || !tTexture.source)return false;
		}
		return true;
	}

	Utils.isOKCmdList=function(cmds){
		if (!cmds)return false;
		var i=0,len=cmds.length;
		var cmd;
		var tex;
		for (i=0;i < len;i++){
			cmd=cmds[i];
		}
		return true;
	}

	Utils._gid=1;
	Utils._pi=180 / Math.PI;
	Utils._pi2=Math.PI / 180;
	Utils._extReg=/\.(\w+)\??/g;
	Utils.parseXMLFromString=function(value){
		var rst;
		value=value.replace(/>\s+</g,'><');
		rst=(new DOMParser()).parseFromString(value,'text/xml');
		if (rst.firstChild.textContent.indexOf("This page contains the following errors")>-1){
			throw new Error(rst.firstChild.firstChild.textContent);
		}
		return rst;
	}

	return Utils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/VectorGraphManager.as=======199.999091/199.999091
/**
*@private
*TODO:
*/
//class laya.utils.VectorGraphManager
var VectorGraphManager=(function(){
	function VectorGraphManager(){
		this.useDic={};
		this.shapeDic={};
		this.shapeLineDic={};
		this._id=0;
		this._checkKey=false;
		this._freeIdArray=[];
		if (Render.isWebGL){
			CacheManger.regCacheByFunction(Utils.bind(this.startDispose,this),Utils.bind(this.getCacheList,this));
		}
	}

	__class(VectorGraphManager,'laya.utils.VectorGraphManager');
	var __proto=VectorGraphManager.prototype;
	/**
	*得到个空闲的ID
	*@return
	*/
	__proto.getId=function(){
		return this._id++;
	}

	/**
	*添加一个图形到列表中
	*@param id
	*@param shape
	*/
	__proto.addShape=function(id,shape){
		this.shapeDic[id]=shape;
		if (!this.useDic[id]){
			this.useDic[id]=true;
		}
	}

	/**
	*添加一个线图形到列表中
	*@param id
	*@param Line
	*/
	__proto.addLine=function(id,Line){
		this.shapeLineDic[id]=Line;
		if (!this.shapeLineDic[id]){
			this.shapeLineDic[id]=true;
		}
	}

	/**
	*检测一个对象是否在使用中
	*@param id
	*/
	__proto.getShape=function(id){
		if (this._checkKey){
			if (this.useDic[id] !=null){
				this.useDic[id]=true;
			}
		}
	}

	/**
	*删除一个图形对象
	*@param id
	*/
	__proto.deleteShape=function(id){
		if (this.shapeDic[id]){
			this.shapeDic[id]=null;
			delete this.shapeDic[id];
		}
		if (this.shapeLineDic[id]){
			this.shapeLineDic[id]=null;
			delete this.shapeLineDic[id];
		}
		if (this.useDic[id] !=null){
			delete this.useDic[id];
		}
	}

	/**
	*得到缓存列表
	*@return
	*/
	__proto.getCacheList=function(){
		var str;
		var list=[];
		for (str in this.shapeDic){
			list.push(this.shapeDic[str]);
		}
		for (str in this.shapeLineDic){
			list.push(this.shapeLineDic[str]);
		}
		return list;
	}

	/**
	*开始清理状态，准备销毁
	*/
	__proto.startDispose=function(key){
		var str;
		for (str in this.useDic){
			this.useDic[str]=false;
		}
		this._checkKey=true;
	}

	/**
	*确认销毁
	*/
	__proto.endDispose=function(){
		if (this._checkKey){
			var str;
			for (str in this.useDic){
				if (!this.useDic[str]){
					this.deleteShape(str);
				}
			}
			this._checkKey=false;
		}
	}

	VectorGraphManager.getInstance=function(){
		return VectorGraphManager.instance=VectorGraphManager.instance|| new VectorGraphManager();
	}

	VectorGraphManager.instance=null;
	return VectorGraphManager;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/WeakObject.as=======199.999090/199.999090
/**
*封装弱引用WeakMap
*如果支持WeakMap，则使用WeakMap，如果不支持，则用Object代替
*注意：如果采用Object，为了防止内存泄漏，则采用定时清理缓存策略
*/
//class laya.utils.WeakObject
var WeakObject=(function(){
	function WeakObject(){
		/**@private */
		this._obj=null;
		this._obj=WeakObject.supportWeakMap ? new Browser.window.WeakMap():{};
		if (!WeakObject.supportWeakMap)WeakObject._maps.push(this);
	}

	__class(WeakObject,'laya.utils.WeakObject');
	var __proto=WeakObject.prototype;
	/**
	*设置缓存
	*@param key kye对象，可被回收
	*@param value object对象，可被回收
	*/
	__proto.set=function(key,value){
		if (key==null)return;
		if (WeakObject.supportWeakMap){
			var objKey=key;
			if ((typeof key=='string')|| (typeof key=='number')){
				objKey=WeakObject._keys[key];
				if (!objKey)objKey=WeakObject._keys[key]={k:key};
			}
			this._obj.set(objKey,value);
			}else {
			if ((typeof key=='string')|| (typeof key=='number')){
				this._obj[key]=value;
				}else {
				key.$_GID || (key.$_GID=Utils.getGID());
				this._obj[key.$_GID]=value;
			}
		}
	}

	/**
	*获取缓存
	*@param key kye对象，可被回收
	*/
	__proto.get=function(key){
		if (key==null)return null;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			return this._obj.get(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))return this._obj[key];
			return this._obj[key.$_GID];
		}
	}

	/**
	*删除缓存
	*/
	__proto.del=function(key){
		if (key==null)return;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			_obj.delete(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))delete this._obj[key];
			else delete this._obj[this._obj.$_GID];
		}
	}

	/**
	*是否有缓存
	*/
	__proto.has=function(key){
		if (key==null)return false;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			return this._obj.has(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))return this._obj[key] !=null;
			return this._obj[this._obj.$_GID] !=null;
		}
	}

	WeakObject.__init__=function(){
		WeakObject.supportWeakMap=Browser.window.WeakMap !=null;
		if (!WeakObject.supportWeakMap)Laya.timer.loop(WeakObject.delInterval,null,WeakObject.clearCache);
	}

	WeakObject.clearCache=function(){
		for (var i=0,n=WeakObject._maps.length;i < n;i++){
			var obj=WeakObject._maps[i];
			obj._obj={};
		}
	}

	WeakObject.supportWeakMap=false;
	WeakObject.delInterval=10 *60 *1000;
	WeakObject._keys={};
	WeakObject._maps=[];
	__static(WeakObject,
	['I',function(){return this.I=new WeakObject();}
	]);
	return WeakObject;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/WordText.as=======199.999089/199.999089
/**
*@private
*/
//class laya.utils.WordText
var WordText=(function(){
	function WordText(){
		//TODO:
		this.id=NaN;
		this.save=[];
		this.toUpperCase=null;
		this.changed=false;
		this._text=null;
		this.width=-1;
		//整个WordText的长度。-1表示没有计算还。
		this.pageChars=[];
	}

	__class(WordText,'laya.utils.WordText');
	var __proto=WordText.prototype;
	//把本对象的字符按照texture分组保存的文字信息。里面又是一个数组。具体含义见使用的地方。
	__proto.setText=function(txt){
		this.changed=true;
		this._text=txt;
		this.width=-1;
		this.pageChars=[];
	}

	//需要重新更新
	__proto.toString=function(){
		return this._text;
	}

	__proto.charCodeAt=function(i){
		return this._text ? this._text.charCodeAt(i):NaN;
	}

	__proto.charAt=function(i){
		return this._text ? this._text.charAt(i):null;
	}

	__proto.cleanCache=function(){
		this.pageChars=[];
	}

	__getset(0,__proto,'length',function(){
		return this._text ? this._text.length :0;
	});

	return WordText;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/BlendMode.as=======199.999088/199.999088
//class laya.webgl.canvas.BlendMode
var BlendMode=(function(){
	function BlendMode(){}
	__class(BlendMode,'laya.webgl.canvas.BlendMode');
	BlendMode._init_=function(gl){
		BlendMode.fns=[BlendMode.BlendNormal,BlendMode.BlendAdd,BlendMode.BlendMultiply,BlendMode.BlendScreen,BlendMode.BlendOverlay,BlendMode.BlendLight,BlendMode.BlendMask,BlendMode.BlendDestinationOut];
		BlendMode.targetFns=[BlendMode.BlendNormalTarget,BlendMode.BlendAddTarget,BlendMode.BlendMultiplyTarget,BlendMode.BlendScreenTarget,BlendMode.BlendOverlayTarget,BlendMode.BlendLightTarget,BlendMode.BlendMask,BlendMode.BlendDestinationOut];
	}

	BlendMode.BlendNormal=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0303);
	}

	BlendMode.BlendAdd=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0304);
	}

	BlendMode.BlendMultiply=function(gl){
		WebGLContext.setBlendFunc(gl,0x0306,0x0303);
	}

	BlendMode.BlendScreen=function(gl){
		WebGLContext.setBlendFunc(gl,1,1);
	}

	BlendMode.BlendOverlay=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0301);
	}

	BlendMode.BlendLight=function(gl){
		WebGLContext.setBlendFunc(gl,1,1);
	}

	BlendMode.BlendNormalTarget=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0303);
	}

	BlendMode.BlendAddTarget=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0304);
	}

	BlendMode.BlendMultiplyTarget=function(gl){
		WebGLContext.setBlendFunc(gl,0x0306,0x0303);
	}

	BlendMode.BlendScreenTarget=function(gl){
		WebGLContext.setBlendFunc(gl,1,1);
	}

	BlendMode.BlendOverlayTarget=function(gl){
		WebGLContext.setBlendFunc(gl,1,0x0301);
	}

	BlendMode.BlendLightTarget=function(gl){
		WebGLContext.setBlendFunc(gl,1,1);
	}

	BlendMode.BlendMask=function(gl){
		WebGLContext.setBlendFunc(gl,0,0x0302);
	}

	BlendMode.BlendDestinationOut=function(gl){
		WebGLContext.setBlendFunc(gl,0,0);
	}

	BlendMode.activeBlendFunction=null;
	BlendMode.NAMES=["normal","add","multiply","screen","overlay","light","mask","destination-out"];
	BlendMode.TOINT={"normal":0,"add":1,"multiply":2,"screen":3 ,"lighter":1,"overlay":4,"light":5,"mask":6,"destination-out":7 };
	BlendMode.NORMAL="normal";
	BlendMode.ADD="add";
	BlendMode.MULTIPLY="multiply";
	BlendMode.SCREEN="screen";
	BlendMode.LIGHT="light";
	BlendMode.OVERLAY="overlay";
	BlendMode.DESTINATIONOUT="destination-out";
	BlendMode.fns=[];
	BlendMode.targetFns=[];
	return BlendMode;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/DrawStyle.as=======199.999087/199.999087
//class laya.webgl.canvas.DrawStyle
var DrawStyle=(function(){
	function DrawStyle(value){
		this._color=null;
		this.setValue(value);
	}

	__class(DrawStyle,'laya.webgl.canvas.DrawStyle');
	var __proto=DrawStyle.prototype;
	__proto.setValue=function(value){
		if (value){
			this._color=((value instanceof laya.utils.Color ))?(value):Color$1.create(value);
		}
		else this._color=Color$1.create("#000000");
	}

	__proto.reset=function(){
		this._color=Color$1.create("#000000");
	}

	__proto.toInt=function(){
		return this._color.numColor;
	}

	__proto.equal=function(value){
		if ((typeof value=='string'))return this._color.strColor===value;
		if ((value instanceof laya.utils.Color ))return this._color.numColor===(value).numColor;
		return false;
	}

	__proto.toColorStr=function(){
		return this._color.strColor;
	}

	DrawStyle.create=function(value){
		if (value){
			var color=((value instanceof laya.utils.Color ))?(value):Color$1.create(value);
			return color._drawStyle || (color._drawStyle=new DrawStyle(value));
		}
		return DrawStyle.DEFAULT;
	}

	DrawStyle.DEFAULT=new DrawStyle("#000000");
	return DrawStyle;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/Path.as=======199.999086/199.999086
//class laya.webgl.canvas.Path
var Path=(function(){
	var renderPath;
	function Path(){
		this._x=0;
		this._y=0;
		//public var _rect:Rectangle;
		this._lastOriX=0;
		//moveto等的原始位置。没有经过内部矩阵变换的
		this._lastOriY=0;
		//public var dirty:Boolean=false;
		this.paths=[];
		//所有的路径。{@type renderPath[] }
		this._curPath=null;
	}

	__class(Path,'laya.webgl.canvas.Path');
	var __proto=Path.prototype;
	//vb=VertexBuffer2D.create(5);
	__proto.beginPath=function(convex){
		this.paths.length=1;
		this._curPath=this.paths[0]=new renderPath();
		this._curPath.convex=convex;
	}

	//_curPath.path=[];
	__proto.closePath=function(){
		this._curPath.loop=true;
	}

	__proto.newPath=function(){
		this._curPath=new renderPath();
		this.paths.push(this._curPath);
	}

	__proto.addPoint=function(pointX,pointY){
		this._curPath.path.push(pointX,pointY);
	}

	__proto.getEndPointX=function(){
		return (this._curPath&&this._curPath.path.length>2)?this._curPath.path[this._curPath.path.length-2]:0;
	}

	__proto.getEndPointY=function(){
		return (this._curPath&&this._curPath.path.length>2)?this._curPath.path[this._curPath.path.length-1]:0;
	}

	//直接添加一个完整的path
	__proto.push=function(points,convex){
		if (!this._curPath){
			this._curPath=new renderPath();
			this.paths.push(this._curPath);
		}
		else if(this._curPath.path.length > 0){
			this._curPath=new renderPath();
			this.paths.push(this._curPath);
		};
		var rp=this._curPath;
		rp.path=points.slice();
		rp.convex=convex;
	}

	__proto.polygon=function(x,y,points,color,borderWidth,borderColor){
		var geo;
		debugger;
	}

	/*
	pathes.push(points);
	if (!color)geo.fill=false;
	if (borderColor==undefined)geo.borderWidth=0;
	return geo;
	*/
	__proto.setGeomtry=function(shape){
		debugger;
	}

	//geomatrys.push(_curGeomatry=shape);
	__proto.drawLine=function(x,y,points,width,color){
		debugger;
	}

	/*
	var geo:BasePoly;
	if (closePath){
		geomatrys.push(_curGeomatry=geo=new LoopLine(x,y,points,width,color));
		}else {
		geomatrys.push(_curGeomatry=geo=new Line(x,y,points,width,color));
	}

	geo.fill=false;
	return geo;
	*/
	__proto.update=function(mesh){}
	//this.count=(mesh._ib._byteLength-si)/ CONST3D2D.BYTES_PIDX;
	__proto.reset=function(){
		this.paths.length=0;
	}

	//geomatrys.length=0;TODO
	__proto.recover=function(){}
	Path.__init$=function(){
		//Pool.recover("path",this);
		//class renderPath
		renderPath=(function(){
			function renderPath(){
				this.path=[];
				//[x,y,x,y,....]的数组
				this.loop=false;
				this.convex=false;
			}
			__class(renderPath,'');
			return renderPath;
		})()
	}

	return Path;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveClipRect.as=======199.999082/199.999082
//class laya.webgl.canvas.save.SaveClipRect
var SaveClipRect=(function(){
	function SaveClipRect(){
		this._clipInfoID=-1;
		this._transedClipInfo=new Array(6);
		this._clipRect=new Rectangle();
	}

	__class(SaveClipRect,'laya.webgl.canvas.save.SaveClipRect');
	var __proto=SaveClipRect.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){return false;}
	__proto.restore=function(context){
		context._transedClipInfo[0]=this._transedClipInfo[0];
		context._transedClipInfo[1]=this._transedClipInfo[1];
		context._transedClipInfo[2]=this._transedClipInfo[2];
		context._transedClipInfo[3]=this._transedClipInfo[3];
		context._transedClipInfo[4]=this._transedClipInfo[4];
		context._transedClipInfo[5]=this._transedClipInfo[5];
		this._clipRect.clone(context._clipRect);
		context._clipInfoID=this._clipInfoID;
		SaveClipRect.POOL[SaveClipRect.POOL._length++]=this;
	}

	SaveClipRect.save=function(context){
		if ((context._saveMark._saveuse & 0x20000)==0x20000)return;
		context._saveMark._saveuse |=0x20000;
		var cache=SaveClipRect.POOL;
		var o=cache._length > 0 ? cache[--cache._length] :(new SaveClipRect());
		o._transedClipInfo[0]=context._transedClipInfo[0];
		o._transedClipInfo[1]=context._transedClipInfo[1];
		o._transedClipInfo[2]=context._transedClipInfo[2];
		o._transedClipInfo[3]=context._transedClipInfo[3];
		o._transedClipInfo[4]=context._transedClipInfo[4];
		o._transedClipInfo[5]=context._transedClipInfo[5];
		context._clipRect.clone(o._clipRect);
		o._clipInfoID=context._clipInfoID;
		var _save=context._save;
		_save[_save._length++]=o;
	}

	SaveClipRect.POOL=SaveBase._createArray();
	return SaveClipRect;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveClipRectStencil.as=======199.999081/199.999081
//class laya.webgl.canvas.save.SaveClipRectStencil
var SaveClipRectStencil=(function(){
	function SaveClipRectStencil(){
		//this._clipSaveRect=null;
		//this._saveMatrix=null;
		this._contextX=0;
		this._contextY=0;
		//this._submitStencil=null;
		this._clipRect=new Rectangle();
		this._rect=new Rectangle();
		this._matrix=new Matrix();
	}

	__class(SaveClipRectStencil,'laya.webgl.canvas.save.SaveClipRectStencil');
	var __proto=SaveClipRectStencil.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){return false;}
	__proto.restore=function(context){
		SubmitStencil.restore(context,this._rect,this._saveMatrix,this._contextX,this._contextY);
		context._clipRect=this._clipSaveRect;
		context._curMat=this._saveMatrix;
		context._x=this._contextX;
		context._y=this._contextY;
		SaveClipRectStencil.POOL[SaveClipRectStencil.POOL._length++]=this;
		context._curSubmit=Submit.RENDERBASE;
	}

	SaveClipRectStencil.save=function(context,submitStencil,x,y,width,height){
		if ((context._saveMark._saveuse & 0x40000)==0x40000)return;
		context._saveMark._saveuse |=0x40000;
		var cache=SaveClipRectStencil.POOL;
		var o=cache._length > 0 ? cache[--cache._length] :(new SaveClipRectStencil());
		o._clipSaveRect=context._clipRect;
		context._clipRect=o._clipRect.copyFrom(context._clipRect);
		o._rect.x=x;
		o._rect.y=y;
		o._rect.width=width;
		o._rect.height=height;
		o._contextX=context._x;
		o._contextY=context._y;
		o._saveMatrix=context._curMat;
		context._curMat.copyTo(o._matrix);
		context._curMat=o._matrix;
		o._submitStencil=submitStencil;
		var _save=context._save;
		_save[_save._length++]=o;
	}

	SaveClipRectStencil.POOL=SaveBase._createArray();
	return SaveClipRectStencil;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveMark.as=======199.999080/199.999080
//class laya.webgl.canvas.save.SaveMark
var SaveMark=(function(){
	function SaveMark(){
		this._saveuse=0;
		//this._preSaveMark=null;
		;
	}

	__class(SaveMark,'laya.webgl.canvas.save.SaveMark');
	var __proto=SaveMark.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){
		return true;
	}

	__proto.restore=function(context){
		context._saveMark=this._preSaveMark;
		SaveMark.POOL[SaveMark.POOL._length++]=this;
	}

	SaveMark.Create=function(context){
		var no=SaveMark.POOL;
		var o=no._length > 0 ? no[--no._length] :(new SaveMark());
		o._saveuse=0;
		o._preSaveMark=context._saveMark;
		context._saveMark=o;
		return o;
	}

	SaveMark.POOL=SaveBase._createArray();
	return SaveMark;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveTransform.as=======199.999079/199.999079
//class laya.webgl.canvas.save.SaveTransform
var SaveTransform=(function(){
	function SaveTransform(){
		//this._savematrix=null;
		this._matrix=new Matrix();
	}

	__class(SaveTransform,'laya.webgl.canvas.save.SaveTransform');
	var __proto=SaveTransform.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){return false;}
	__proto.restore=function(context){
		context._curMat=this._savematrix;
		SaveTransform.POOL[SaveTransform.POOL._length++]=this;
	}

	SaveTransform.save=function(context){
		var _saveMark=context._saveMark;
		if ((_saveMark._saveuse & 0x800)===0x800)return;
		_saveMark._saveuse |=0x800;
		var no=SaveTransform.POOL;
		var o=no._length > 0 ? no[--no._length] :(new SaveTransform());
		o._savematrix=context._curMat;
		context._curMat=context._curMat.copyTo(o._matrix);
		var _save=context._save;
		_save[_save._length++]=o;
	}

	SaveTransform.POOL=SaveBase._createArray();
	return SaveTransform;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/save/SaveTranslate.as=======199.999078/199.999078
//class laya.webgl.canvas.save.SaveTranslate
var SaveTranslate=(function(){
	function SaveTranslate(){
		this._mat=new Matrix();
	}

	__class(SaveTranslate,'laya.webgl.canvas.save.SaveTranslate');
	var __proto=SaveTranslate.prototype;
	Laya.imps(__proto,{"laya.webgl.canvas.save.ISaveData":true})
	__proto.isSaveMark=function(){return false;}
	__proto.restore=function(context){
		this._mat.copyTo(context._curMat);
		SaveTranslate.POOL[SaveTranslate.POOL._length++]=this;
	}

	SaveTranslate.save=function(context){
		var no=SaveTranslate.POOL;
		var o=no._length > 0 ? no[--no._length] :(new SaveTranslate());
		context._curMat.copyTo(o._mat);
		var _save=context._save;
		_save[_save._length++]=o;
	}

	SaveTranslate.POOL=SaveBase._createArray();
	return SaveTranslate;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharBook.as=======199.999074/199.999074
/**
*key:font
*下面是各种大小的page
*每个大小的page可以有多个
*/
//class laya.webgl.resource.CharBook
var CharBook=(function(){
	function CharBook(){
		//private var fontPages:*={};//以font family为key。里面是一个以height为key的page列表
		this.fontPages=[];
		//用数组方式保存 CharPages,原来用Object不利于遍历
		this.fontPagesName=[];
		//当前选中的font
		this._curPage=null;
		//当前选中的page
		this.tempUV=[0,0,1,0,1,1,0,1];
		//用来去掉context的缩放的矩阵
		this.fontScale=1.0;
		//临时缩放。
		this._curStrPos=0;
		this.tempMat=new Matrix();
		CharBook.charbookInst=this;
		CharPages.charRender=Render.isConchApp?(new CharRender_Native()):(new CharRender_Canvas());
	}

	__class(CharBook,'laya.webgl.resource.CharBook');
	var __proto=CharBook.prototype;
	__proto.selectFont=function(fontFamily,fontsize){
		var ret;
		var sz=CharPages.getBmpSize(fontsize);
		var szid=Math.floor(sz / CharBook.gridSize);
		var key=fontFamily+szid;
		var fid=this.fontPagesName.indexOf(key);
		if (fid < 0){
			var selFontPages=new CharPages(fontFamily,fontsize,sz);
			this.fontPages.push(selFontPages);
			this.fontPagesName.push(key);
			ret=selFontPages;
			}else {
			ret=this.fontPages[fid];
		}
		ret.selectSize(fontsize,sz);
		return ret;
	}

	__proto.isEmoji=function(emoji){
		return CharBook._emojiReg.test(emoji);
	}

	/**
	*从string中取出一个完整的char，例如emoji的话要多个
	*会修改 _curStrPos
	*TODO 由于各种文字中的组合写法，这个需要能扩展，以便支持泰文等
	*@param str
	*@param start 开始位置
	*/
	__proto.getNextChar=function(str){
		var len=str.length;
		var start=this._curStrPos;
		if (start >=len)
			return null;
		var link=false;
		var i=start;
		var state=0;
		for (;i < len;i++){
			var c=str.charCodeAt(i);
			if ((c & 0xd800)==0xd800){
				state=1;
				continue ;
			}
			if (c===0xfe0e || c===0xfe0f){
				state=1;
				continue ;
			}
			if (c==0x200d){
				state=1;
				continue ;
			}
			if (state==1)
				break ;
			else {
				i++;
				break ;
			}
		}
		this._curStrPos=i;
		return str.substring(start,i);
	}

	/**
	*
	*TEST
	*emoji:'💗'
	*arabic:'سلام'
	*组合:'ă'
	*泰语:'ฏ๎๎๎๎๎๎๎๎๎๎๎๎๎๎๎'
	*天城文:'कि' *
	*/
	__proto.filltext=function(ctx,data,x,y,fontStr,color,strokeColor,lineWidth,textAlign,underLine){
		(underLine===void 0)&& (underLine=0);
		if (data.length <=0)
			return;
		var c1=Color$1.create(color);
		var c2=strokeColor?Color$1.create(strokeColor):null;
		var nColor=c1.numColor;
		var nStrokeColor=c2?c2.numColor:0;
		CharBook._curFont=fontStr;
		this.fontScale=1.0;
		if (CharBook.scaleFontWithCtx){
			var sx=ctx._curMat.getScaleX();
			var sy=ctx._curMat.getScaleY();
			if (sx < 1e-4 || sy < 1e-1)
				return;
			if (sx > 1.0 || sy > 1.0){
				ctx._curMat.copyTo(this.tempMat);
				if (sx > sy){
					this.fontScale=sx;
					var s1=sy / sx / sx;
					this.tempMat.a /=sx;this.tempMat.b /=sx;
					this.tempMat.c *=s1;this.tempMat.d *=s1;
					}else {
					this.fontScale=sy;
					var s1=sx / sy / sy;
					this.tempMat.a *=s1;this.tempMat.b *=s1;
					this.tempMat.c /=sy;this.tempMat.d /=sy;
				}
				x *=sx;x=Math.floor(x+0.5);
				y *=sy;y=Math.floor(y+0.5);
			}
		};
		var font=FontInContext.create(fontStr);
		var fontFamily=font.getFamily();
		var bold=(font.getBold()>=0)
		if (font.getItalic()>=0){
			ctx._italicDeg=12;
		}
		this._curPage=this.selectFont(fontFamily,font.size *this.fontScale);
		var curx=x;
		var wt=data;
		var str=data;
		var strWidth=0;
		var isWT=str instanceof WordText;
		var sameTexData=(CharBook.cacheRenderInfoInWordText && isWT)?wt.pageChars:[];
		if (isWT){
			str=wt.toString();
			strWidth=wt.width;
			if (strWidth < 0){
				strWidth=wt.width=this._curPage.getWidth(str);
			}
			}else {
			strWidth=this._curPage.getWidth(str);
		}
		switch (textAlign){
			case 'center':
				curx=x-strWidth / 2;
				break ;
			case 'right':
				curx=x-strWidth;
				break ;
			default :
				curx=x;
			}
		if (sameTexData){
			var needRebuild=false;
			for (var i=0,sz=sameTexData.length;i < sz;i++){
				var pri=sameTexData[i];
				if (!pri)continue ;
				for (var j=0,pisz=pri.length;j < pisz;j++){
					var riSaved=pri[j];
					if (riSaved.ri.tex.__destroyed){
						needRebuild=true;
						break ;
					}
				}
				if (needRebuild)break ;
			}
			if (needRebuild)
				sameTexData=wt.pageChars=[];
		}
		if (!sameTexData || sameTexData.length <=0){
			var stx=0;
			this._curStrPos=0;
			var curstr=this.getNextChar(str);
			while (curstr){
				var isEmo=this.isEmoji(curstr);
				var ri=this._curPage.getChar(curstr,false,0,nColor,bold,false);
				if (ri.isSpace){}
					else{
					var add=sameTexData[ri.tex.id];
					if (!add){
						sameTexData[ri.tex.id]=add=[];
					}
					if (strokeColor && lineWidth > 0){
						var ris=this._curPage.getChar(curstr,false,lineWidth,nStrokeColor,bold,false);
						add=sameTexData[ris.tex.id];
						if (!add){
							add=[];sameTexData[ris.tex.id]=add;
						}
						add.push({ri:ris,isEmoji:false,x:stx,color:strokeColor,nColor:nStrokeColor});
					}
					add.push({ri:ri,isEmoji:isEmo,x:stx,color:color,nColor:nColor});
				}
				stx+=ri.width;
				curstr=this.getNextChar(str);
			}
		};
		var lastUseColor=ctx._drawTextureUseColor;
		this._drawReSortedWords(ctx,curx,sameTexData,y);
		ctx._drawTextureUseColor=lastUseColor;
		ctx._italicDeg=0;
	}

	/**
	*画出重新按照贴图顺序分组的文字。
	*@param samePagesData
	*@param startx 保存的数据是相对位置，所以需要加上这个便宜，相对位置更灵活一些。
	*@param y {int}因为这个只能画在一行上所以没有必要保存y。所以这里再把y传进来
	*/
	__proto._drawReSortedWords=function(ctx,startx,samePagesData,y){
		var lastcolor=0;
		for (var i=0,sz=samePagesData.length;i < sz;i++){
			var pri=samePagesData[i];
			if (!pri)continue ;
			for (var j=0,pisz=pri.length;j < pisz;j++){
				var riSaved=pri[j];
				var ri=riSaved.ri;
				if (ri.isSpace)continue ;
				ctx._drawTextureUseColor=CharBook.getFontBmpWithColor?false:!riSaved.isEmoji;
				if (lastcolor !=riSaved.nColor){
					ctx.fillStyle=riSaved.color;
					lastcolor=riSaved.nColor;
				}
				ri.touch();
				this._drawCharRenderInfo(ctx,riSaved.ri,startx+riSaved.x,y);
			}
		}
	}

	/**
	*画出保存在ri中的文字信息。
	*@param ctx
	*@param ri
	*@param x
	*@param y
	*/
	__proto._drawCharRenderInfo=function(ctx,ri,x,y){
		var fontMat=null;
		if (this.fontScale !=1.0){
			fontMat=this.tempMat;
		}
		ctx._drawTextureM(ri.tex.texture,
		x-this._curPage.margin_left,y-this._curPage.margin_top,ri.bmpWidth ,ri.bmpHeight,
		fontMat,1.0,ri.uv);
		if (ctx.touches){
			ctx.touches.push(ri);
		}
	}

	/**
	*垃圾回收
	*/
	__proto.GC=function(){
		var i=0,sz=this.fontPages.length;
		if(sz){
			var curCleanID=Stat.loopCount % sz;
			(this.fontPages [curCleanID]).removeLRU();
		}
	}

	CharBook.textureWidth=256;
	CharBook.cacheRenderInfoInWordText=true;
	CharBook.scaleFontWithCtx=false;
	CharBook.getFontBmpWithColor=true;
	CharBook.gridSize=16;
	CharBook.debug=false;
	CharBook._curFont=null;
	CharBook.charbookInst=null;
	CharBook._fontMem=0;
	__static(CharBook,
	['_emojiReg',function(){return this._emojiReg=/(?:0\u20E3|1\u20E3|2\u20E3|3\u20E3|4\u20E3|5\u20E3|6\u20E3|7\u20E3|8\u20E3|9\u20E3|#\u20E3|\*\u20E3|\uD83C(?:\uDDE6\uD83C(?:\uDDE8|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDEE|\uDDF1|\uDDF2|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFC|\uDDFD|\uDDFF)|\uDDE7\uD83C(?:\uDDE6|\uDDE7|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDEF|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFB|\uDDFC|\uDDFE|\uDDFF)|\uDDE8\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF5|\uDDF7|\uDDFA|\uDDFB|\uDDFC|\uDDFD|\uDDFE|\uDDFF)|\uDDE9\uD83C(?:\uDDEA|\uDDEC|\uDDEF|\uDDF0|\uDDF2|\uDDF4|\uDDFF)|\uDDEA\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEC|\uDDED|\uDDF7|\uDDF8|\uDDF9|\uDDFA)|\uDDEB\uD83C(?:\uDDEE|\uDDEF|\uDDF0|\uDDF2|\uDDF4|\uDDF7)|\uDDEC\uD83C(?:\uDDE6|\uDDE7|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDF1|\uDDF2|\uDDF3|\uDDF5|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFC|\uDDFE)|\uDDED\uD83C(?:\uDDF0|\uDDF2|\uDDF3|\uDDF7|\uDDF9|\uDDFA)|\uDDEE\uD83C(?:\uDDE8|\uDDE9|\uDDEA|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9)|\uDDEF\uD83C(?:\uDDEA|\uDDF2|\uDDF4|\uDDF5)|\uDDF0\uD83C(?:\uDDEA|\uDDEC|\uDDED|\uDDEE|\uDDF2|\uDDF3|\uDDF5|\uDDF7|\uDDFC|\uDDFE|\uDDFF)|\uDDF1\uD83C(?:\uDDE6|\uDDE7|\uDDE8|\uDDEE|\uDDF0|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFB|\uDDFE)|\uDDF2\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF5|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFB|\uDDFC|\uDDFD|\uDDFE|\uDDFF)|\uDDF3\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEB|\uDDEC|\uDDEE|\uDDF1|\uDDF4|\uDDF5|\uDDF7|\uDDFA|\uDDFF)|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C(?:\uDDE6|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF7|\uDDF8|\uDDF9|\uDDFC|\uDDFE)|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C(?:\uDDEA|\uDDF4|\uDDF8|\uDDFA|\uDDFC)|\uDDF8\uD83C(?:\uDDE6|\uDDE7|\uDDE8|\uDDE9|\uDDEA|\uDDEC|\uDDED|\uDDEE|\uDDEF|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF7|\uDDF8|\uDDF9|\uDDFB|\uDDFD|\uDDFE|\uDDFF)|\uDDF9\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEB|\uDDEC|\uDDED|\uDDEF|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF7|\uDDF9|\uDDFB|\uDDFC|\uDDFF)|\uDDFA\uD83C(?:\uDDE6|\uDDEC|\uDDF2|\uDDF8|\uDDFE|\uDDFF)|\uDDFB\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEC|\uDDEE|\uDDF3|\uDDFA)|\uDDFC\uD83C(?:\uDDEB|\uDDF8)|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C(?:\uDDEA|\uDDF9)|\uDDFF\uD83C(?:\uDDE6|\uDDF2|\uDDFC)))|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2694\u2696\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD79\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED0\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3]|\uD83E[\uDD10-\uDD18\uDD80-\uDD84\uDDC0]/g;}
	]);
	return CharBook;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharInternalTexture.as=======199.999073/199.999073
/**
*由于drawTextureM需要一个Texture对象，又不想真的弄一个，所以，做个假的，只封装必须成员
*/
//class laya.webgl.resource.CharInternalTexture
var CharInternalTexture=(function(){
	function CharInternalTexture(par){
		this._par=null;
		this._loaded=true;
		//drawTextureM的条件
		this.bitmap={};
		this.bitmap.id=par.id;
		this._par=par;
	}

	__class(CharInternalTexture,'laya.webgl.resource.CharInternalTexture');
	var __proto=CharInternalTexture.prototype;
	__proto._getSource=function(){
		return this._par._source;
	}

	return CharInternalTexture;
})()


;
	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharPages.as=======199.999072/199.999072
/**
*管理若干张CharPageTexture
*里面的字体属于相同字体，相同大小
*清理方式：
*每隔一段时间检查一下是否能合并，一旦发现可以省出一整张贴图，就开始清理
*/
//class laya.webgl.resource.CharPages
var CharPages=(function(){
	function CharPages(fontFamily,fontsize,extSize){
		//private static var ctx:*=null;
		this.pages=[];
		// CharPageTexture
		this.fontFamily=null;
		this.fontsize=0;
		//字体的size
		this._slotW=0;
		//格子的大小
		this._gridW=0;
		//以格子为单位的宽
		this._gridNum=0;
		//public var _textureHeight:int=1024;//
		this._baseSize=0;
		//0~15=0， 16~31=1，...
		this._lastSz=0;
		this._spaceWidthMap=[];
		this._minScoreID=-1;
		//得分最小的page
		this._selectedSize=0;
		this._selectedSizeIdx=0;
		//限制到1~16内
		this.margin_left=0;
		//有的字体会超出边界，所以加一个外围保护
		this.margin_top=0;
		this.margin_bottom=0;
		this.margin_right=0;
		this._textureWidth=CharBook.textureWidth;
		this.fontFamily=fontFamily;
		this.fontsize=fontsize;
		this.margin_left=this.margin_right=this.margin_top=this.margin_bottom=Render.isConchApp?0:Math.ceil((fontsize / 4.0));
		this._baseSize=Math.floor(extSize / CharBook.gridSize)*CharBook.gridSize;
		this._selectedSize=fontsize;
		this._selectedSizeIdx=extSize-this._baseSize;
		this._slotW=Math.ceil(extSize / CharBook.gridSize)*CharBook.gridSize
		this._gridW=Math.floor(this._textureWidth / this._slotW);
		this._gridNum=this._gridW *this._gridW;
		console.log('gridInfo:slotW='+this._slotW+',gridw='+this._gridW+',gridNum='+this._gridNum+',textureW='+this._textureWidth);
	}

	__class(CharPages,'laya.webgl.resource.CharPages');
	var __proto=CharPages.prototype;
	__proto.getWidth=function(str){
		return CharPages.charRender.getWidth(str);
	}

	/**
	*由于内部包含多个大小的字体，所以加一个切换大小的函数
	*@param sz
	*@param extsz 扩展后的大小。
	*/
	__proto.selectSize=function(sz,extsz){
		this._selectedSize=sz;
		this._selectedSizeIdx=extsz-this._baseSize;
	}

	//为了效率这里不直接设置ctx的font
	__proto.getSpaceChar=function(touch){
		if (this._spaceWidthMap[this._selectedSizeIdx]){
			return this._spaceWidthMap[this._selectedSizeIdx];
		};
		var ret=new CharRenderInfo();
		this._spaceWidthMap[this._selectedSizeIdx]=ret;
		ret.width=this.getWidth(' ');
		ret.isSpace=true;
		return ret;
	}

	/**
	*添加一个文字到texture
	*@param str
	*@param forceAdd
	*@param bold 是否加粗
	*@param touch 是否touch,如果保存起来以后再处理就设置为false
	*@return
	*/
	__proto.getChar=function(str,forceAdd,lineWidth,color,bold,touch){
		if (str===' ')
			return this.getSpaceChar(touch);
		var key=(lineWidth > 0?(str+'_'):str);
		var ret;
		color=color & 0xffffff;
		if (CharBook.getFontBmpWithColor){
			if (color===0xffffff)key=key+'#w';
			else if (color===0xff0000)key=key+'#b';
			else if (color===0xfff00)key=key+'#g';
			else if (color===0xff)key=key+'#r';
			else key+='#'+color.toString(16);
		}
		bold && (key+='B');
		for (var i=0,sz=this.pages.length;i < sz;i++){
			var cp=this.pages[i];
			var cpmap=cp.charMaps[this._selectedSizeIdx];
			if (cpmap){
				ret=cpmap[key];
				if (ret){
					touch && ret.touch();
					return ret;
				}
			}
		}
		ret=new CharRenderInfo();
		this._getASlot(ret);
		var charmaps=ret.tex.charMaps[this._selectedSizeIdx];
		(!charmaps)&& (charmaps=ret.tex.charMaps[this._selectedSizeIdx]={});
		charmaps[key]=ret;
		touch && ret.touch();
		var colStr='';
		if (CharBook.getFontBmpWithColor){
			colStr=((color&0xff00)+((color&0xff)<<16)+((color&0xff0000)>>16)).toString(16);
			colStr='#000000'.substr(0,7-colStr.length)+colStr;
		}
		ret.height=this._selectedSize;
		var bmp=this.getCharBmp(str,CharBook._curFont,lineWidth,colStr,ret);
		ret.bmpWidth=bmp.width;
		ret.bmpHeight=bmp.height;
		var cy=Math.floor(ret.pos / this._gridW);
		var cx=ret.pos % this._gridW;
		var _curX=cx *this._slotW;
		var _curY=cy *this._slotW;
		var texW=this._textureWidth;
		var minx=_curX / texW;
		var miny=_curY / texW;
		var maxx=(_curX+bmp.width)/ texW;
		var maxy=(_curY+bmp.height)/ texW;
		var uv=ret.uv;
		uv[0]=minx;uv[1]=miny;
		uv[2]=maxx;uv[3]=miny;
		uv[4]=maxx;uv[5]=maxy;
		uv[6]=minx;uv[7]=maxy;
		ret.tex.addChar(bmp,_curX,_curY);
		return ret;
	}

	__proto.getCharStroke=function(str,forceAdd,width,color){
		return null;
	}

	/**
	*从所有的page中找一个空格子
	*如果没有地方了，就创建一个新的charpageTexture
	*/
	__proto._getASlot=function(ret){
		var sz=this.pages.length;
		var cp;
		var pos=0;
		for (var i=0;i < sz;i++){
			cp=this.pages[i];
			pos=cp.findAGrid();
			if (pos>=0){
				ret.tex=cp;
				ret.pos=pos
				return;
			}
		}
		cp=new CharPageTexture(this);
		this.pages.push(cp);
		pos=cp.findAGrid();
		if (pos==-1)
			throw "_getASlot error!";
		ret.tex=cp;
		ret.pos=pos;
	}

	/**
	*渲染完成后再做
	*同时找到最不常用的
	*@return
	*/
	__proto.getAllPageScore=function(){
		var i=0,sz=this.pages.length;
		var curTick=Stat.loopCount;
		var score=0;
		var minScore=10000;
		for (;i < sz;i++){
			var cp=this.pages[i];
			if (cp._scoreTick==curTick){
				score+=cp._score;
				}else {
				cp._score=0;
			}
			if (cp._score < minScore){
				minScore=cp._score;
				this._minScoreID=i;
			}
		}
		return score;
	}

	__proto.removeLRU=function(){
		var cp;
		var freed=this._gridNum *this.pages.length-this.getAllPageScore();
		if (freed>=this._gridNum){
			if (this._minScoreID >=0){
				console.log('remove font page '+this._minScoreID);
				cp=this.pages[this._minScoreID];
				var used=cp._score;
				cp.destroy();
				this.pages[this._minScoreID]=this.pages[this.pages.length-1];
				this.pages.pop();
				var curloop=Stat.loopCount;
				var i=0,sz=this.pages.length;
				for(;i < sz && used > 0;i++){
					cp=this.pages[i];
					var cleaned=cp.removeOld(curloop);
					used-=cleaned;
				}
			}
		}
	}

	/**
	*TODO stroke
	*@param char
	*@param font
	*@param size 返回宽高
	*@return
	*/
	__proto.getCharBmp=function(char,font,lineWidth,colStr,size){
		return CharPages.charRender.getCharBmp(char,font,lineWidth,colStr,size,this.margin_left,this.margin_top,this.margin_right,this.margin_bottom);
	}

	CharPages.getBmpSize=function(fonstsize){
		return fonstsize *1.5;
	}

	CharPages.charRender=null;
	return CharPages;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharRenderInfo.as=======199.999070/199.999070
/**
*TODO如果占用内存较大,这个结构有很多成员可以临时计算
*/
//class laya.webgl.resource.CharRenderInfo
var CharRenderInfo=(function(){
	function CharRenderInfo(){
		this.tex=null;
		//
		this.uv=[0,0,1,1];
		//uv
		this.pos=0;
		//数组下标
		this.width=0;
		//字体宽度
		this.height=0;
		//字体高度
		this.bmpWidth=0;
		//实际图片的宽度。可能与排版用的width不一致
		this.bmpHeight=0;
		this.touchTick=0;
		//
		this.isSpace=false;
	}

	__class(CharRenderInfo,'laya.webgl.resource.CharRenderInfo');
	var __proto=CharRenderInfo.prototype;
	//是否是空格，如果是空格，则只有width有效
	__proto.touch=function(){
		var curLoop=Stat.loopCount;
		if (this.tex._scoreTick !=curLoop){
			this.tex._score=0;
			this.tex._scoreTick=curLoop;
		}
		if (this.touchTick !=curLoop){
			this.tex._score++;
		}
		this.touchTick=curLoop;
	}

	return CharRenderInfo;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharRender_Canvas.as=======199.999069/199.999069
//class laya.webgl.resource.CharRender_Canvas
var CharRender_Canvas=(function(){
	function CharRender_Canvas(){
		if (!CharRender_Canvas.canvas){
			CharRender_Canvas.canvas=window.document.createElement('canvas');
			CharRender_Canvas.canvas.width=512;
			CharRender_Canvas.canvas.height=512;
			CharRender_Canvas.canvas.style.left="-1000px";
			CharRender_Canvas.canvas.style.position="absolute";
			document.body.appendChild(CharRender_Canvas.canvas);;
			CharRender_Canvas.ctx=CharRender_Canvas.canvas.getContext('2d');
		}
	}

	__class(CharRender_Canvas,'laya.webgl.resource.CharRender_Canvas');
	var __proto=CharRender_Canvas.prototype;
	__proto.getWidth=function(str){
		if (!CharRender_Canvas.ctx)return 0;
		if(CharRender_Canvas.ctx._lastFont!=CharBook._curFont){
			CharRender_Canvas.ctx.font=CharBook._curFont;
			CharRender_Canvas.ctx._lastFont=CharBook._curFont;
		}
		return CharRender_Canvas.ctx.measureText(str).width;
	}

	/**
	*TODO stroke
	*@param char
	*@param font
	*@param size 返回宽高
	*@return
	*/
	__proto.getCharBmp=function(char,font,lineWidth,colStr,size,margin_left,margin_top,margin_right,margin_bottom){
		if (CharRender_Canvas.ctx.font !=font){
			CharRender_Canvas.ctx.font=font;
			CharRender_Canvas.ctx._lastFont=font;
		};
		var w=size.width=CharRender_Canvas.ctx.measureText(char).width;
		var h=size.height;
		w+=(margin_left+margin_right);
		h+=(margin_top+margin_bottom);
		CharRender_Canvas.ctx.clearRect(0,0,w,h);
		CharRender_Canvas.ctx.textBaseline="top";
		if (lineWidth > 0){
			CharRender_Canvas.ctx.strokeStyle=colStr;
			CharRender_Canvas.ctx.lineWidth=lineWidth;
			CharRender_Canvas.ctx.strokeText(char,margin_left,margin_top);
			}else {
			CharRender_Canvas.ctx.fillStyle=colStr;
			CharRender_Canvas.ctx.fillText(char,margin_left,margin_top);
		}
		if (CharBook.debug){
			CharRender_Canvas.ctx.strokeStyle='#ff0000';
			CharRender_Canvas.ctx.strokeRect(0,0,w,h);
			CharRender_Canvas.ctx.strokeStyle='#00ff00';
			CharRender_Canvas.ctx.strokeRect(margin_left,margin_top,size.width,size.height);
		}
		return CharRender_Canvas.ctx.getImageData(0,0,w,h);
	}

	CharRender_Canvas.canvas=null;
	CharRender_Canvas.ctx=null;
	return CharRender_Canvas;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharRender_Native.as=======199.999068/199.999068
//class laya.webgl.resource.CharRender_Native
var CharRender_Native=(function(){
	function CharRender_Native(){
		this.lastFont='';
	}

	__class(CharRender_Native,'laya.webgl.resource.CharRender_Native');
	var __proto=CharRender_Native.prototype;
	__proto.getWidth=function(str){
		if (!window.conchTextCanvas)return 0;
		if (this.lastFont !=CharBook._curFont){
			window.conchTextCanvas.font=CharBook._curFont;
			this.lastFont=CharBook._curFont;
		}
		return window.conchTextCanvas.measureText(str).width;
	}

	/**
	*TODO stroke
	*@param char
	*@param font
	*@param size 返回宽高
	*@return
	*/
	__proto.getCharBmp=function(char,font,lineWidth,colStr,size,margin_left,margin_top,margin_right,margin_bottom){
		if (!window.conchTextCanvas)return null;
		if(this.lastFont!=font){
			window.conchTextCanvas.font=CharBook._curFont;
			this.lastFont=CharBook._curFont;
		};
		var w=size.width=window.conchTextCanvas.measureText(char).width;
		var h=size.height;
		w+=(margin_left+margin_right);
		h+=(margin_top+margin_bottom);
		var textInfo=window.conchTextCanvas.getTextBitmapData(char,0xffffffff);
		return textInfo;
	}

	return CharRender_Native;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/WebGLRTMgr.as=======199.999064/199.999064
/**
*WebGLRTMgr 管理WebGLRenderTarget的创建和回收
*/
//class laya.webgl.resource.WebGLRTMgr
var WebGLRTMgr=(function(){
	function WebGLRTMgr(){}
	__class(WebGLRTMgr,'laya.webgl.resource.WebGLRTMgr');
	WebGLRTMgr.getRT=function(w,h){
		w=w | 0;
		h=h | 0;
		if (w >=10000){
			console.error('getRT error! w too big');
		};
		var key=h *10000+w;
		var sw=WebGLRTMgr.dict[key];
		var ret;
		if (sw){
			if (sw.length > 0){
				ret=sw.pop();
				ret._mgrKey=key;
				return ret;
			}
		}
		ret=new RenderTexture2D(w,h,1,-1);
		ret._mgrKey=key;
		return ret;
	}

	WebGLRTMgr.releaseRT=function(rt){
		if (rt._mgrKey <=0)
			return;
		var sw=WebGLRTMgr.dict[rt._mgrKey];
		!sw && (sw=[],WebGLRTMgr.dict[rt._mgrKey]=sw);
		rt._mgrKey=0;
		sw.push(rt);
	}

	WebGLRTMgr.dict={};
	return WebGLRTMgr;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/Shader2D.as=======199.999063/199.999063
//class laya.webgl.shader.d2.Shader2D
var Shader2D=(function(){
	function Shader2D(){
		this.ALPHA=1;
		//this.shader=null;
		//this.filters=null;
		this.shaderType=0;
		//this.colorAdd=null;
		this.defines=new ShaderDefines2D();
	}

	__class(Shader2D,'laya.webgl.shader.d2.Shader2D');
	var __proto=Shader2D.prototype;
	__proto.destroy=function(){
		this.defines=null;
		this.filters=null;
	}

	__proto.getRenderKey=function(){
		return [this.ALPHA,this.shader?this.shader.id:0,this.filters?this.filters.key:0].join('/');
	}

	Shader2D.__init__=function(){
		Shader.addInclude("parts/ColorFilter.glsl","#begin code ColorFilter_ps_logic\n	mat4 alphaMat =colorMat;\n\n	alphaMat[0][3] *= gl_FragColor.a;\n	alphaMat[1][3] *= gl_FragColor.a;\n	alphaMat[2][3] *= gl_FragColor.a;\n\n	gl_FragColor = gl_FragColor * alphaMat;\n	gl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n#end\n\n#begin code ColorFilter_ps_uniform\n	uniform vec4 colorAlpha;\n	uniform mat4 colorMat;\n#end\n\n#begin function void test(void)\n{\n	\n}\n#end");
		Shader.addInclude("parts/GlowFilter_ps_uniform.glsl","uniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;");
		Shader.addInclude("parts/GlowFilter_ps_logic.glsl","const float c_IterationTime = 10.0;\nfloat floatIterationTotalTime = c_IterationTime * c_IterationTime;\nvec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\nvec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\nvec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\nfloat maxNum = u_blurX * u_blurY;\nvec2 vec2Off = vec2(0.0,0.0);\nfloat floatOff = c_IterationTime/2.0;\nfor(float i = 0.0;i<=c_IterationTime; ++i){\n	for(float j = 0.0;j<=c_IterationTime; ++j){\n		vec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n		vec4Color += texture2D(texture, v_texcoordAlpha.xy + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n	}\n}\ngl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\ngl_FragColor.rgb *= gl_FragColor.a;");
		Shader.addInclude("parts/BlurFilter_ps_logic.glsl","gl_FragColor =   blur();\ngl_FragColor.w*=v_color.w;");
		Shader.addInclude("parts/BlurFilter_ps_uniform.glsl","uniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoordAlpha.xy-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}");
		Shader.addInclude("parts/ColorAdd.glsl","#begin code ColorAdd_ps_logic\n	gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\n	gl_FragColor.xyz *= colorAdd.a;\n#end\n\n#begin code ColorAdd_ps_uniform\n	uniform vec4 colorAdd;\n#end\n");
		var vs,ps;
		vs="/*\n	texturefillrectʹõġ\n*/\nattribute vec4 posuv;\nattribute vec4 attribColor;\nattribute vec4 attribFlags;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipDir;\nuniform vec2 clipRect;\nvarying vec2 cliped;\nuniform vec2 size;\n\n#ifdef WORLDMAT\n	uniform mat4 mmat;\n#endif\n\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\n\nvoid main() {\n\n#ifdef WORLDMAT\n	vec4 pos=mmat*vec4(posuv.xy,0.,1.);\n	gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,0.,1.0);\n#else\n	gl_Position =vec4((posuv.x/size.x-0.5)*2.0,(0.5-posuv.y/size.y)*2.0,0.,1.0);\n#endif\n  \n	v_texcoordAlpha.xy = posuv.zw;\n	//v_texcoordAlpha.z = attribColor.a/255.0;\n	v_color = attribColor/255.0;\n	v_color.xyz*=v_color.w;//ҲҪԤ\n	\n	v_useTex = attribFlags.r/255.0;\n	float clipw = length(clipDir.xy);\n	float cliph = length(clipDir.zw);\n	vec2 clippos = posuv.xy - clipRect.xy;	//posѾӦþˣΪ˼壬clipλҲҪ\n	if(clipw>20000. && cliph>20000.)\n		cliped = vec2(0.5,0.5);\n	else {\n		//ת01֮䡣/clipw/clipw ʾclipposnormalize֮clip֮ٳclipw\n		cliped=vec2( dot(clippos,clipDir.xy)/clipw/clipw, dot(clippos,clipDir.zw)/cliph/cliph);\n	}\n\n}";
		ps="/*\n	texture和fillrect使用的。\n*/\n\nprecision mediump float;\n//precision highp float;\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\nuniform sampler2D texture;\nvarying vec2 cliped;\n\n#ifdef BLUR_FILTER\nuniform vec4 strength_sig2_2sig2_gauss1;\nuniform vec2 blurInfo;\n\n#define PI 3.141593\n\n//float sigma=strength/3.0;//3σ以外影响很小。即当σ=1的时候，半径为3\n//float sig2 = sigma*sigma;\n//float _2sig2 = 2.0*sig2;\n//return 1.0/(2*PI*sig2)*exp(-(x*x+y*y)/_2sig2)\n//float gauss1 = 1.0/(2.0*PI*sig2);\n\nfloat getGaussian(float x, float y){\n    return strength_sig2_2sig2_gauss1.w*exp(-(x*x+y*y)/strength_sig2_2sig2_gauss1.z);\n}\n\nvec4 blur(){\n    const float blurw = 9.0;\n    vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n    vec2 halfsz=vec2(blurw,blurw)/2.0/blurInfo;    \n    vec2 startpos=v_texcoordAlpha.xy-halfsz;\n    vec2 ctexcoord = startpos;\n    vec2 step = 1.0/blurInfo;  //每个像素      \n    \n    for(float y = 0.0;y<=blurw; ++y){\n        ctexcoord.x=startpos.x;\n        for(float x = 0.0;x<=blurw; ++x){\n            //TODO 纹理坐标的固定偏移应该在vs中处理\n            vec4Color += texture2D(texture, ctexcoord)*getGaussian(x-blurw/2.0,y-blurw/2.0);\n            ctexcoord.x+=step.x;\n        }\n        ctexcoord.y+=step.y;\n    }\n    return vec4Color;\n}\n#endif\n\n#ifdef COLOR_FILTER\nuniform vec4 colorAlpha;\nuniform mat4 colorMat;\n#endif\n\n#ifdef GLOW_FILTER\nuniform vec4 u_color;\nuniform float u_strength;\nuniform float u_blurX;\nuniform float u_blurY;\nuniform float u_offsetX;\nuniform float u_offsetY;\nuniform float u_textW;\nuniform float u_textH;\n#endif\n\n#ifdef COLOR_ADD\nuniform vec4 colorAdd;\n#endif\n\nvoid main() {\n	if(cliped.x<0.) discard;\n	if(cliped.x>1.) discard;\n	if(cliped.y<0.) discard;\n	if(cliped.y>1.) discard;\n	\n   vec4 color= texture2D(texture, v_texcoordAlpha.xy);\n   if(v_useTex<=0.)color = vec4(1.,1.,1.,1.);\n   color.a*=v_color.w;\n   //color.rgb*=v_color.w;\n   color.rgb*=v_color.rgb;\n   gl_FragColor=color;\n   \n   #ifdef COLOR_ADD\n	gl_FragColor = vec4(colorAdd.rgb,colorAdd.a*gl_FragColor.a);\n	gl_FragColor.xyz *= colorAdd.a;\n   #endif\n   \n   #ifdef BLUR_FILTER\n	gl_FragColor =   blur();\n	gl_FragColor.w*=v_color.w;   \n   #endif\n   \n   #ifdef COLOR_FILTER\n	mat4 alphaMat =colorMat;\n\n	alphaMat[0][3] *= gl_FragColor.a;\n	alphaMat[1][3] *= gl_FragColor.a;\n	alphaMat[2][3] *= gl_FragColor.a;\n\n	gl_FragColor = gl_FragColor * alphaMat;\n	gl_FragColor += colorAlpha/255.0*gl_FragColor.a;\n   #endif\n   \n   #ifdef GLOW_FILTER\n	const float c_IterationTime = 10.0;\n	float floatIterationTotalTime = c_IterationTime * c_IterationTime;\n	vec4 vec4Color = vec4(0.0,0.0,0.0,0.0);\n	vec2 vec2FilterDir = vec2(-(u_offsetX)/u_textW,-(u_offsetY)/u_textH);\n	vec2 vec2FilterOff = vec2(u_blurX/u_textW/c_IterationTime * 2.0,u_blurY/u_textH/c_IterationTime * 2.0);\n	float maxNum = u_blurX * u_blurY;\n	vec2 vec2Off = vec2(0.0,0.0);\n	float floatOff = c_IterationTime/2.0;\n	for(float i = 0.0;i<=c_IterationTime; ++i){\n		for(float j = 0.0;j<=c_IterationTime; ++j){\n			vec2Off = vec2(vec2FilterOff.x * (i - floatOff),vec2FilterOff.y * (j - floatOff));\n			vec4Color += texture2D(texture, v_texcoordAlpha.xy + vec2FilterDir + vec2Off)/floatIterationTotalTime;\n		}\n	}\n	gl_FragColor = vec4(u_color.rgb,vec4Color.a * u_strength);\n	gl_FragColor.rgb *= gl_FragColor.a;   \n   #endif\n}";
		Shader.preCompile2D(0,0x01,vs,ps,null);
		vs="attribute vec4 position;\nattribute vec4 attribColor;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipDir;\nuniform vec2 clipRect;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\n//uniform vec2 u_pos;\nuniform vec2 size;\nvarying vec4 color;\n//vec4 dirxy=vec4(0.9,0.1, -0.1,0.9);\n//vec4 clip=vec4(100.,30.,300.,600.);\nvarying vec2 cliped;\nvoid main(){\n	vec4 tPos = vec4(position.x,position.y ,position.z,position.w);\n	vec4 pos=mmat*tPos;\n	gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n	float clipw = length(clipDir.xy);\n	float cliph = length(clipDir.zw);\n	vec2 clippos = tPos.xy - clipRect.xy;	//posѾӦþˣΪ˼壬clipλҲҪ\n	if(clipw>20000. && cliph>20000.)\n		cliped = vec2(0.5,0.5);\n	else {\n		//clipdirǴŵķclipposźĿռģҪѷnormalizeһ\n		cliped=vec2( dot(clippos,clipDir.xy)/clipw/clipw, dot(clippos,clipDir.zw)/cliph/cliph);\n	}\n  //pos2d.x = dot(clippos,dirx);\n  color=attribColor/255.;\n}";
		ps="precision mediump float;\n//precision mediump float;\nvarying vec4 color;\n//uniform float alpha;\nvarying vec2 cliped;\nvoid main(){\n	//vec4 a=vec4(color.r, color.g, color.b, 1);\n	//a.a*=alpha;\n    gl_FragColor= color;// vec4(color.r, color.g, color.b, alpha);\n	gl_FragColor.rgb*=color.a;\n	if(cliped.x<0.) discard;\n	if(cliped.x>1.) discard;\n	if(cliped.y<0.) discard;\n	if(cliped.y>1.) discard;\n}";
		Shader.preCompile2D(0,0x04,vs,ps,null);
		vs="/*\n	texturefillrectʹõġ\n*/\nattribute vec4 posuv;\nattribute vec4 attribColor;\nattribute vec4 attribFlags;\n//attribute vec4 clipDir;\n//attribute vec2 clipRect;\nuniform vec4 clipDir;\nuniform vec2 clipRect;\nvarying vec2 cliped;\nuniform vec2 size;\n\n#ifdef WORLDMAT\n	uniform mat4 mmat;\n#endif\n\nvarying vec4 v_texcoordAlpha;\nvarying vec4 v_color;\nvarying float v_useTex;\n\nvoid main() {\n\n#ifdef WORLDMAT\n	vec4 pos=mmat*vec4(posuv.xy,0.,1.);\n	gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,0.,1.0);\n#else\n	gl_Position =vec4((posuv.x/size.x-0.5)*2.0,(0.5-posuv.y/size.y)*2.0,0.,1.0);\n#endif\n  \n	v_texcoordAlpha.xy = posuv.zw;\n	//v_texcoordAlpha.z = attribColor.a/255.0;\n	v_color = attribColor/255.0;\n	v_color.xyz*=v_color.w;//ҲҪԤ\n	\n	v_useTex = attribFlags.r/255.0;\n	float clipw = length(clipDir.xy);\n	float cliph = length(clipDir.zw);\n	vec2 clippos = posuv.xy - clipRect.xy;	//posѾӦþˣΪ˼壬clipλҲҪ\n	if(clipw>20000. && cliph>20000.)\n		cliped = vec2(0.5,0.5);\n	else {\n		//ת01֮䡣/clipw/clipw ʾclipposnormalize֮clip֮ٳclipw\n		cliped=vec2( dot(clippos,clipDir.xy)/clipw/clipw, dot(clippos,clipDir.zw)/cliph/cliph);\n	}\n\n}";
		ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\n//precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D texture;\nuniform float alpha;\nuniform vec4 u_TexRange;\nuniform vec2 u_offset;\n\n#import?BLUR_FILTER  \"parts/BlurFilter_ps_uniform.glsl\";\n\n#import?COLOR_FILTER \"parts/ColorFilter.glsl\" with ColorFilter_ps_uniform;\n\n#import?GLOW_FILTER \"parts/GlowFilter_ps_uniform.glsl\";\n\n#import?COLOR_ADD \"parts/ColorAdd.glsl\" with ColorAdd_ps_uniform;\n\nvoid main() {\n   vec2 newTexCoord;\n   newTexCoord.x = mod(u_offset.x + v_texcoord.x,u_TexRange.y) + u_TexRange.x;\n   newTexCoord.y = mod(u_offset.y + v_texcoord.y,u_TexRange.w) + u_TexRange.z;\n   vec4 color= texture2D(texture, newTexCoord);\n   color.a*=alpha;\n   gl_FragColor=color;\n   \n   #import?COLOR_ADD \"parts/ColorAdd.glsl\" with ColorAdd_ps_logic;\n   \n   #import?BLUR_FILTER  \"parts/BlurFilter_ps_logic.glsl\";\n   \n   #import?COLOR_FILTER \"parts/ColorFilter.glsl\" with ColorFilter_ps_logic;\n   \n   #import?GLOW_FILTER \"parts/GlowFilter_ps_logic.glsl\";\n}";
		Shader.preCompile2D(0,0x100,vs,ps,null);
		vs="attribute vec2 position;\nattribute vec2 texcoord;\nattribute vec4 color;\nuniform vec2 size;\nuniform float offsetX;\nuniform float offsetY;\nuniform mat4 mmat;\nuniform mat4 u_mmat2;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nvoid main() {\n  vec4 pos=mmat*u_mmat2*vec4(offsetX+position.x,offsetY+position.y,0,1 );\n  gl_Position = vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0);\n  v_color = color;\n  v_color.rgb *= v_color.a;\n  v_texcoord = texcoord;  \n}";
		ps="precision mediump float;\nvarying vec2 v_texcoord;\nvarying vec4 v_color;\nuniform sampler2D texture;\nuniform float alpha;\nvoid main() {\n	vec4 t_color = texture2D(texture, v_texcoord);\n	gl_FragColor = t_color.rgba * v_color;\n	gl_FragColor *= alpha;\n}";
		Shader.preCompile2D(0,0x200,vs,ps,null);
	}

	return Shader2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/ShaderDefines.as=======199.999060/199.999060
//class laya.webgl.shader.ShaderDefines
var ShaderDefines$1=(function(){
	function ShaderDefines(name2int,int2name,int2nameMap){
		this._value=0;
		//this._name2int=null;
		//this._int2name=null;
		//this._int2nameMap=null;
		this._name2int=name2int;
		this._int2name=int2name;
		this._int2nameMap=int2nameMap;
	}

	__class(ShaderDefines,'laya.webgl.shader.ShaderDefines',null,'ShaderDefines$1');
	var __proto=ShaderDefines.prototype;
	__proto.add=function(value){
		if ((typeof value=='string'))value=this._name2int[value];
		this._value |=value;
		return this._value;
	}

	__proto.addInt=function(value){
		this._value |=value;
		return this._value;
	}

	__proto.remove=function(value){
		if ((typeof value=='string'))value=this._name2int[value];
		this._value &=(~value);
		return this._value;
	}

	__proto.isDefine=function(def){
		return (this._value & def)===def;
	}

	__proto.getValue=function(){
		return this._value;
	}

	__proto.setValue=function(value){
		this._value=value;
	}

	__proto.toNameDic=function(){
		var r=this._int2nameMap[this._value];
		return r ? r :ShaderDefines._toText(this._value,this._int2name,this._int2nameMap);
	}

	ShaderDefines._reg=function(name,value,_name2int,_int2name){
		_name2int[name]=value;
		_int2name[value]=name;
	}

	ShaderDefines._toText=function(value,_int2name,_int2nameMap){
		var r=_int2nameMap[value];
		if (r)return r;
		var o={};
		var d=1;
		for (var i=0;i < 32;i++){
			d=1 << i;
			if (d > value)break ;
			if (value & d){
				var name=_int2name[d];
				name && (o[name]="");
			}
		}
		_int2nameMap[value]=o;
		return o;
	}

	ShaderDefines._toInt=function(names,_name2int){
		var words=names.split('.');
		var num=0;
		for (var i=0,n=words.length;i < n;i++){
			var value=_name2int[words[i]];
			if (!value)throw new Error("Defines to int err:"+names+"/"+words[i]);
			num |=value;
		}
		return num;
	}

	return ShaderDefines;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/skinAnishader/SkinMesh.as=======199.999059/199.999059
/**
*这里销毁的问题，后面待确认
*/
//class laya.webgl.shader.d2.skinAnishader.SkinMesh
var SkinMesh=(function(){
	function SkinMesh(){
		this.mVBBuffer=null;
		this.mIBBuffer=null;
		this.mVBData=null;
		this.mIBData=null;
		this.mEleNum=0;
		this.mTexture=null;
		this.transform=null;
		this._vs=null;
		this._ps=null;
		this._indexStart=-1;
		this._verticles=null;
		this._uvs=null;
		this._tempMatrix=new Matrix();
	}

	__class(SkinMesh,'laya.webgl.shader.d2.skinAnishader.SkinMesh');
	var __proto=SkinMesh.prototype;
	__proto.init=function(texture,vs,ps){
		if (vs){
			this._vs=vs;
			}else {
			this._vs=[];
			var tWidth=texture.width;
			var tHeight=texture.height;
			var tRed=1;
			var tGreed=1;
			var tBlue=1;
			var tAlpha=1;
			this._vs.push(0,0,0,0,tRed,tGreed,tBlue,tAlpha);
			this._vs.push(tWidth,0,1,0,tRed,tGreed,tBlue,tAlpha);
			this._vs.push(tWidth,tHeight,1,1,tRed,tGreed,tBlue,tAlpha);
			this._vs.push(0,tHeight,0,1,tRed,tGreed,tBlue,tAlpha);
		}
		if (ps){
			this._ps=ps;
			}else {
			if (!SkinMesh._defaultPS){
				SkinMesh._defaultPS=[];
				SkinMesh._defaultPS.push(0,1,3,3,1,2);
			}
			this._ps=SkinMesh._defaultPS;
		}
		this.mVBData=new Float32Array(this._vs);
		this.mIBData=new Uint16Array(this._ps.length);
		this.mIBData["start"]=-1;
		this.mEleNum=this._ps.length;
		this.mTexture=texture;
	}

	__proto.init2=function(texture,vs,ps,verticles,uvs){
		if (this.transform)this.transform=null;
		if (ps){
			this._ps=ps;
			}else {
			this._ps=[];
			this._ps.push(0,1,3,3,1,2);
		}
		this._verticles=verticles;
		this._uvs=uvs;
		this.mEleNum=this._ps.length;
		this.mTexture=texture;
	}

	__proto._initMyData=function(){
		var vsI=0;
		var vI=0;
		var vLen=this._verticles.length;
		var tempVLen=vLen *4;
		this._vs=SkinMesh._tempVS;
		var insertNew=false;
		if (this._vs.length < tempVLen){
			this._vs.length=tempVLen;
			insertNew=true;
		}
		SkinMesh._tVSLen=tempVLen;
		if (insertNew){
			while (vsI < tempVLen){
				this._vs[vsI]=this._verticles[vI];
				this._vs[vsI+1]=this._verticles[vI+1];
				this._vs[vsI+2]=this._uvs[vI];
				this._vs[vsI+3]=this._uvs[vI+1];
				this._vs[vsI+4]=1;
				this._vs[vsI+5]=1;
				this._vs[vsI+6]=1;
				this._vs[vsI+7]=1;
				vsI+=8;
				vI+=2;
			}
			}else{
			while (vsI < tempVLen){
				this._vs[vsI]=this._verticles[vI];
				this._vs[vsI+1]=this._verticles[vI+1];
				this._vs[vsI+2]=this._uvs[vI];
				this._vs[vsI+3]=this._uvs[vI+1];
				vsI+=8;
				vI+=2;
			}
		}
	}

	__proto.getData2=function(vb,ib,start){
		this.mVBBuffer=vb;
		this.mIBBuffer=ib;
		this._initMyData();
		vb.appendEx2(this._vs,Float32Array,SkinMesh._tVSLen,4);
		this._indexStart=ib._byteLength;
		var tIB;
		tIB=SkinMesh._tempIB;
		if (tIB.length < this._ps.length){
			tIB.length=this._ps.length;
		}
		for (var i=0,n=this._ps.length;i < n;i++){
			tIB[i]=this._ps[i]+start;
		}
		ib.appendEx2(tIB,Uint16Array,this._ps.length,2);
	}

	__proto.getData=function(vb,ib,start){
		this.mVBBuffer=vb;
		this.mIBBuffer=ib;
		vb.append(this.mVBData);
		this._indexStart=ib._byteLength;
		if (this.mIBData["start"] !=start){
			for (var i=0,n=this._ps.length;i < n;i++){
				this.mIBData[i]=this._ps[i]+start;
			}
			this.mIBData["start"]=start;
		}
		ib.append(this.mIBData);
	}

	__proto.render=function(context,x,y){
		if (Render.isWebGL && this.mTexture){
			SkinMeshBuffer.getInstance().addSkinMesh(this);
			var tempSubmit=Submit.createShape(context,this.mIBBuffer,this.mVBBuffer,this.mEleNum,this._indexStart,Value2D.create(0x200,0));
			this.transform || (this.transform=Matrix.EMPTY);
			this.transform.translate(x,y);
			Matrix.mul(this.transform,context._curMat,this._tempMatrix);
			this.transform.translate(-x,-y);
			var tShaderValue=tempSubmit.shaderValue;
			var tArray=tShaderValue.u_mmat2;
			RenderState2D.mat2MatArray(this._tempMatrix,tArray);
			tShaderValue.textureHost=this.mTexture;
			tShaderValue.offsetX=0;
			tShaderValue.offsetY=0;
			tShaderValue.u_mmat2=tArray;
			tShaderValue.ALPHA=context._shader2D.ALPHA;
			context._submits[context._submits._length++]=tempSubmit;
		}
		else if (Render.isConchApp&&this.mTexture){
			this.transform || (this.transform=Matrix.EMPTY);
			context.setSkinMesh&&context.setSkinMesh(x,y,this._ps,this.mVBData,this.mEleNum,0,this.mTexture,this.transform);
		}
	}

	SkinMesh._tempVS=[];
	SkinMesh._tempIB=[];
	SkinMesh._defaultPS=null;
	SkinMesh._tVSLen=0;
	return SkinMesh;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/skinAnishader/SkinMeshBuffer.as=======199.999058/199.999058
//class laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer
var SkinMeshBuffer=(function(){
	function SkinMeshBuffer(){
		this.ib=null;
		this.vb=null;
		var gl=WebGL.mainContext;
		this.ib=IndexBuffer2D.create(0x88E8);
		this.vb=VertexBuffer2D.create(8);
	}

	__class(SkinMeshBuffer,'laya.webgl.shader.d2.skinAnishader.SkinMeshBuffer');
	var __proto=SkinMeshBuffer.prototype;
	__proto.addSkinMesh=function(skinMesh){
		skinMesh.getData2(this.vb,this.ib,this.vb._byteLength / 32);
	}

	__proto.reset=function(){
		this.vb.clear();
		this.ib.clear();
	}

	SkinMeshBuffer.getInstance=function(){
		return SkinMeshBuffer.instance=SkinMeshBuffer.instance|| new SkinMeshBuffer();
	}

	SkinMeshBuffer.instance=null;
	return SkinMeshBuffer;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/ShaderValue.as=======199.999051/199.999051
//class laya.webgl.shader.ShaderValue
var ShaderValue=(function(){
	function ShaderValue(){}
	__class(ShaderValue,'laya.webgl.shader.ShaderValue');
	return ShaderValue;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shapes/BasePoly.as=======199.999050/199.999050
//此类可以减少代码
//class laya.webgl.shapes.BasePoly
var BasePoly=(function(){
	function BasePoly(x,y,width,height,edges,color,borderWidth,borderColor,round){
		//this.x=NaN;
		//this.y=NaN;
		//this.r=NaN;
		//this.width=NaN;
		//this.height=NaN;
		//this.edges=NaN;
		this.r0=0
		//this.color=0;
		//this.borderColor=NaN;
		//this.borderWidth=NaN;
		//this.round=0;
		this.fill=true;
		//this.mUint16Array=null;
		//this.mFloat32Array=null;
		this.r1=Math.PI / 2;
		(round===void 0)&& (round=0);
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
		this.edges=edges;
		this.color=color;
		this.borderWidth=borderWidth;
		this.borderColor=borderColor;
	}

	__class(BasePoly,'laya.webgl.shapes.BasePoly');
	var __proto=BasePoly.prototype;
	Laya.imps(__proto,{"laya.webgl.shapes.IShape":true})
	__proto.getData=function(ib,vb,start){}
	__proto.rebuild=function(points){}
	__proto.setMatrix=function(mat){}
	__proto.needUpdate=function(mat){
		return true;
	}

	__proto.sector=function(outVert,outIndex,start){
		var x=this.x,y=this.y,edges=this.edges,seg=(this.r1-this.r0)/ edges;
		var w=this.width,h=this.height,color=this.color;
		var r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;
		outVert.push(x,y,r,g,b);
		for (var i=0;i < edges+1;i++){
			outVert.push(x+Math.sin(seg *i+this.r0)*w,y+Math.cos(seg *i+this.r0)*h);
			outVert.push(r,g,b);
		}
		for (i=0;i < edges;i++){
			outIndex.push(start,start+i+1,start+i+2);
		}
	}

	//闭合路径
	__proto.createLoopLine=function(p,indices,lineWidth,len,outVertex,outIndex){
		var points=p.concat();
		var result=outVertex ? outVertex :p;
		var color=this.borderColor;
		var r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;
		points.splice(0,5);
		var firstPoint=[points[0],points[1]];
		var lastPoint=[points[points.length-5],points[points.length-4]];
		var midPointX=lastPoint[0]+(firstPoint[0]-lastPoint[0])*0.5;
		var midPointY=lastPoint[1]+(firstPoint[1]-lastPoint[1])*0.5;
		points.unshift(midPointX,midPointY,0,0,0);
		points.push(midPointX,midPointY,0,0,0);
		var length=points.length / 5;
		var iStart=len,w=lineWidth / 2;
		var px,py,p1x,p1y,p2x,p2y,p3x,p3y;
		var perpx,perpy,perp2x,perp2y,perp3x,perp3y;
		var a1,b1,c1,a2,b2,c2;
		var denom,pdist,dist;
		p1x=points[0];
		p1y=points[1];
		p2x=points[5];
		p2y=points[6];
		perpx=-(p1y-p2y);
		perpy=p1x-p2x;
		dist=Math.sqrt(perpx *perpx+perpy *perpy);
		perpx=perpx / dist *w;
		perpy=perpy / dist *w;
		result.push(p1x-perpx,p1y-perpy,r,g,b,p1x+perpx,p1y+perpy,r,g,b);
		for (var i=1;i < length-1;i++){
			p1x=points[(i-1)*5];
			p1y=points[(i-1)*5+1];
			p2x=points[(i)*5];
			p2y=points[(i)*5+1];
			p3x=points[(i+1)*5];
			p3y=points[(i+1)*5+1];
			perpx=-(p1y-p2y);
			perpy=p1x-p2x;
			dist=Math.sqrt(perpx *perpx+perpy *perpy);
			perpx=perpx / dist *w;
			perpy=perpy / dist *w;
			perp2x=-(p2y-p3y);
			perp2y=p2x-p3x;
			dist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);
			perp2x=perp2x / dist *w;
			perp2y=perp2y / dist *w;
			a1=(-perpy+p1y)-(-perpy+p2y);
			b1=(-perpx+p2x)-(-perpx+p1x);
			c1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);
			a2=(-perp2y+p3y)-(-perp2y+p2y);
			b2=(-perp2x+p2x)-(-perp2x+p3x);
			c2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);
			denom=a1 *b2-a2 *b1;
			if (Math.abs(denom)< 0.1){
				denom+=10.1;
				result.push(p2x-perpx,p2y-perpy,r,g,b,p2x+perpx,p2y+perpy,r,g,b);
				continue ;
			}
			px=(b1 *c2-b2 *c1)/ denom;
			py=(a2 *c1-a1 *c2)/ denom;
			pdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);
			result.push(px,py,r,g,b,p2x-(px-p2x),p2y-(py-p2y),r,g,b);
		}
		if (outIndex){
			indices=outIndex;
		};
		var groupLen=this.edges+1;
		for (i=1;i < groupLen;i++){
			indices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);
		}
		indices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+1,iStart+1,iStart,iStart+(i-1)*2);
		return result;
	}

	BasePoly.createLine2=function(p,indices,lineWidth,len,outVertex,loop){
		var points=p.concat();
		if (loop){
			points.push(points[0],points[1]);
		};
		var result=outVertex;
		var length=points.length / 2;
		var iStart=len,w=lineWidth / 2;
		var px,py,p1x,p1y,p2x,p2y,p3x,p3y;
		var perpx,perpy,perp2x,perp2y,perp3x,perp3y;
		var a1,b1,c1,a2,b2,c2;
		var denom,pdist,dist;
		p1x=points[0];
		p1y=points[1];
		p2x=points[2];
		p2y=points[3];
		perpx=-(p1y-p2y);
		perpy=p1x-p2x;
		dist=Math.sqrt(perpx *perpx+perpy *perpy);
		perpx=perpx / dist *w;
		perpy=perpy / dist *w;
		result.push(p1x-perpx ,p1y-perpy ,p1x+perpx ,p1y+perpy);
		for (var i=1;i < length-1;i++){
			p1x=points[(i-1)*2];
			p1y=points[(i-1)*2+1];
			p2x=points[(i)*2];
			p2y=points[(i)*2+1];
			p3x=points[(i+1)*2];
			p3y=points[(i+1)*2+1];
			perpx=-(p1y-p2y);
			perpy=p1x-p2x;
			dist=Math.sqrt(perpx *perpx+perpy *perpy);
			perpx=perpx / dist *w;
			perpy=perpy / dist *w;
			perp2x=-(p2y-p3y);
			perp2y=p2x-p3x;
			dist=Math.sqrt(perp2x *perp2x+perp2y *perp2y);
			perp2x=perp2x / dist *w;
			perp2y=perp2y / dist *w;
			a1=(-perpy+p1y)-(-perpy+p2y);
			b1=(-perpx+p2x)-(-perpx+p1x);
			c1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);
			a2=(-perp2y+p3y)-(-perp2y+p2y);
			b2=(-perp2x+p2x)-(-perp2x+p3x);
			c2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);
			denom=a1 *b2-a2 *b1;
			if (Math.abs(denom)< 0.1){
				denom+=10.1;
				result.push(p2x-perpx ,p2y-perpy ,p2x+perpx ,p2y+perpy);
				continue ;
			}
			px=(b1 *c2-b2 *c1)/ denom;
			py=(a2 *c1-a1 *c2)/ denom;
			pdist=(px-p2x)*(px-p2x)+(py-p2y)+(py-p2y);
			result.push(px,py ,p2x-(px-p2x),p2y-(py-p2y));
		}
		p1x=points[points.length-4];
		p1y=points[points.length-3];
		p2x=points[points.length-2];
		p2y=points[points.length-1];
		perpx=-(p1y-p2y);
		perpy=p1x-p2x;
		dist=Math.sqrt(perpx *perpx+perpy *perpy);
		perpx=perpx / dist *w;
		perpy=perpy / dist *w;
		result.push(p2x-perpx ,p2y-perpy ,p2x+perpx ,p2y+perpy);
		for (i=1;i < length;i++){
			indices.push(iStart+(i-1)*2,iStart+(i-1)*2+1,iStart+i *2+1,iStart+i *2+1,iStart+i *2,iStart+(i-1)*2);
		}
		return result;
	}

	BasePoly.createLineTriangle=function(path,color,width,loop,outvb,vbstride,outib){
		var points=path.slice();
		var ptlen=points.length;
		var p1x=points[0],p1y=points[1];
		var p2x=points[2],p2y=points[2];
		var len=0;
		var rp=0;
		var dx=0,dy=0;
		var pointnum=ptlen / 2;
		if (pointnum <=1)return;
		if (pointnum==2){
			return;
		};
		var tmpData=new Array(pointnum *4);
		var realPtNum=0;
		var ci=0;
		for (var i=0;i < pointnum-1;i++){
			p1x=points[ci++],p1y=points[ci++];
			p2x=points[ci++],p2y=points[ci++];
			dx=p2x-p1x,dy=p2y-p1y;
			if(dx!=0 && dy!=0){
				len=Math.sqrt(dx *dx+dy *dy);
				if (len > 1e-3){
					rp=realPtNum *4;
					tmpData[rp]=p1x;
					tmpData[rp+1]=p1y;
					tmpData[rp+2]=dx / len;
					tmpData[rp+3]=dy / len;
					realPtNum++;
				}
			}
		}
		if (loop){
			p1x=points[ptlen-2],p1y=points[ptlen-1];
			p2x=points[0],p2y=points[1];
			dx=p2x-p1x,dy=p2y-p1y;
			if(dx!=0 && dy!=0){
				len=Math.sqrt(dx *dx+dy *dy);
				if (len > 1e-3){
					rp=realPtNum *4;
					tmpData[rp]=p1x;
					tmpData[rp+1]=p1y;
					tmpData[rp+2]=dx / len;
					tmpData[rp+3]=dy / len;
					realPtNum++;
				}
			}
			}else {
			rp=realPtNum *4;
			tmpData[rp]=p1x;
			tmpData[rp+1]=p1y;
			tmpData[rp+2]=dx / len;
			tmpData[rp+3]=dy / len;
			realPtNum++;
		}
		ci=0;
		for (i=0;i < pointnum;i++){
			p1x=points[ci],p1y=points[ci+1];
			p2x=points[ci+2],p2y=points[ci+3];
			var p3x=points[ci+4],p3y=points[ci+5];
		}
		if (loop){}
			}
	return BasePoly;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shapes/Earcut.as=======199.999049/199.999049
//class laya.webgl.shapes.Earcut
var Earcut=(function(){
	var Node;
	function Earcut(){}
	__class(Earcut,'laya.webgl.shapes.Earcut');
	Earcut.earcut=function(data,holeIndices,dim){
		dim=dim || 2;
		var hasHoles=holeIndices && holeIndices.length,
		outerLen=hasHoles ? holeIndices[0] *dim :data.length,
		outerNode=Earcut.linkedList(data,0,outerLen,dim,true),
		triangles=[];
		if (!outerNode)return triangles;
		var minX,minY,maxX,maxY,x,y,invSize;
		if (hasHoles)outerNode=Earcut.eliminateHoles(data,holeIndices,outerNode,dim);
		if (data.length > 80 *dim){
			minX=maxX=data[0];
			minY=maxY=data[1];
			for (var i=dim;i < outerLen;i+=dim){
				x=data[i];
				y=data[i+1];
				if (x < minX)minX=x;
				if (y < minY)minY=y;
				if (x > maxX)maxX=x;
				if (y > maxY)maxY=y;
			}
			invSize=Math.max(maxX-minX,maxY-minY);
			invSize=invSize!==0 ? 1 / invSize :0;
		}
		Earcut.earcutLinked(outerNode,triangles,dim,minX,minY,invSize);
		return triangles;
	}

	Earcut.linkedList=function(data,start,end,dim,clockwise){
		var i,last;
		if (clockwise===(Earcut.signedArea(data,start,end,dim)> 0)){
			for (i=start;i < end;i+=dim)last=Earcut.insertNode(i,data[i],data[i+1],last);
			}else {
			for (i=end-dim;i >=start;i-=dim)last=Earcut.insertNode(i,data[i],data[i+1],last);
		}
		if (last && Earcut.equals(last,last.next)){
			Earcut.removeNode(last);
			last=last.next;
		}
		return last;
	}

	Earcut.filterPoints=function(start,end){
		if (!start)return start;
		if (!end)end=start;
		var p=start,
		again;
		do {
			again=false;
			if (!p.steiner && (Earcut.equals(p,p.next)|| Earcut.area(p.prev,p,p.next)===0)){
				Earcut.removeNode(p);
				p=end=p.prev;
				if (p===p.next)break ;
				again=true;
				}else {
				p=p.next;
			}
		}while (again || p!==end);
		return end;
	}

	Earcut.earcutLinked=function(ear,triangles,dim,minX,minY,invSize,pass){
		if (!ear)return;
		if (!pass && invSize)Earcut.indexCurve(ear,minX,minY,invSize);
		var stop=ear,
		prev,next;
		while (ear.prev!==ear.next){
			prev=ear.prev;
			next=ear.next;
			if (invSize ? Earcut.isEarHashed(ear,minX,minY,invSize):Earcut.isEar(ear)){
				triangles.push(prev.i / dim,ear.i / dim,next.i / dim);
				Earcut.removeNode(ear);
				ear=next.next;
				stop=next.next;
				continue ;
			}
			ear=next;
			if (ear===stop){
				if (!pass){
					Earcut.earcutLinked(Earcut.filterPoints(ear),triangles,dim,minX,minY,invSize,1);
					}else if (pass===1){
					ear=Earcut.cureLocalIntersections(ear,triangles,dim);
					Earcut.earcutLinked(ear,triangles,dim,minX,minY,invSize,2);
					}else if (pass===2){
					Earcut.splitEarcut(ear,triangles,dim,minX,minY,invSize);
				}
				break ;
			}
		}
	}

	Earcut.isEar=function(ear){
		var a=ear.prev,
		b=ear,
		c=ear.next;
		if (Earcut.area(a,b,c)>=0)return false;
		var p=ear.next.next;
		while (p!==ear.prev){
			if (Earcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&
				Earcut.area(p.prev,p,p.next)>=0)return false;
			p=p.next;
		}
		return true;
	}

	Earcut.isEarHashed=function(ear,minX,minY,invSize){
		var a=ear.prev,
		b=ear,
		c=ear.next;
		if (Earcut.area(a,b,c)>=0)return false;
		var minTX=a.x < b.x ? (a.x < c.x ? a.x :c.x):(b.x < c.x ? b.x :c.x),
		minTY=a.y < b.y ? (a.y < c.y ? a.y :c.y):(b.y < c.y ? b.y :c.y),
		maxTX=a.x > b.x ? (a.x > c.x ? a.x :c.x):(b.x > c.x ? b.x :c.x),
		maxTY=a.y > b.y ? (a.y > c.y ? a.y :c.y):(b.y > c.y ? b.y :c.y);
		var minZ=Earcut.zOrder(minTX,minTY,minX,minY,invSize),
		maxZ=Earcut.zOrder(maxTX,maxTY,minX,minY,invSize);
		var p=ear.nextZ;
		while (p && p.z <=maxZ){
			if (p!==ear.prev && p!==ear.next &&
				Earcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&
			Earcut.area(p.prev,p,p.next)>=0)return false;
			p=p.nextZ;
		}
		p=ear.prevZ;
		while (p && p.z >=minZ){
			if (p!==ear.prev && p!==ear.next &&
				Earcut.pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&
			Earcut.area(p.prev,p,p.next)>=0)return false;
			p=p.prevZ;
		}
		return true;
	}

	Earcut.cureLocalIntersections=function(start,triangles,dim){
		var p=start;
		do {
			var a=p.prev,
			b=p.next.next;
			if (!Earcut.equals(a,b)&& Earcut.intersects(a,p,p.next,b)&& Earcut.locallyInside(a,b)&& Earcut.locallyInside(b,a)){
				triangles.push(a.i / dim);
				triangles.push(p.i / dim);
				triangles.push(b.i / dim);
				Earcut.removeNode(p);
				Earcut.removeNode(p.next);
				p=start=b;
			}
			p=p.next;
		}while (p!==start);
		return p;
	}

	Earcut.splitEarcut=function(start,triangles,dim,minX,minY,invSize){
		var a=start;
		do {
			var b=a.next.next;
			while (b!==a.prev){
				if (a.i!==b.i && Earcut.isValidDiagonal(a,b)){
					var c=Earcut.splitPolygon(a,b);
					a=Earcut.filterPoints(a,a.next);
					c=Earcut.filterPoints(c,c.next);
					Earcut.earcutLinked(a,triangles,dim,minX,minY,invSize);
					Earcut.earcutLinked(c,triangles,dim,minX,minY,invSize);
					return;
				}
				b=b.next;
			}
			a=a.next;
		}while (a!==start);
	}

	Earcut.eliminateHoles=function(data,holeIndices,outerNode,dim){
		var queue=[],
		i,len,start,end,list;
		for (i=0,len=holeIndices.length;i < len;i++){
			start=holeIndices[i] *dim;
			end=i < len-1 ? holeIndices[i+1] *dim :data.length;
			list=Earcut.linkedList(data,start,end,dim,false);
			if (list===list.next)list.steiner=true;
			queue.push(Earcut.getLeftmost(list));
		}
		queue.sort(Earcut.compareX);
		for (i=0;i < queue.length;i++){
			Earcut.eliminateHole(queue[i],outerNode);
			outerNode=Earcut.filterPoints(outerNode,outerNode.next);
		}
		return outerNode;
	}

	Earcut.compareX=function(a,b){
		return a.x-b.x;
	}

	Earcut.eliminateHole=function(hole,outerNode){
		outerNode=Earcut.findHoleBridge(hole,outerNode);
		if (outerNode){
			var b=Earcut.splitPolygon(outerNode,hole);
			Earcut.filterPoints(b,b.next);
		}
	}

	Earcut.findHoleBridge=function(hole,outerNode){
		var p=outerNode,
		hx=hole.x,
		hy=hole.y,
		qx=-Infinity,
		m;
		do {
			if (hy <=p.y && hy >=p.next.y && p.next.y!==p.y){
				var x=p.x+(hy-p.y)*(p.next.x-p.x)/ (p.next.y-p.y);
				if (x <=hx && x > qx){
					qx=x;
					if (x===hx){
						if (hy===p.y)return p;
						if (hy===p.next.y)return p.next;
					}
					m=p.x < p.next.x ? p :p.next;
				}
			}
			p=p.next;
		}while (p!==outerNode);
		if (!m)return null;
		if (hx===qx)return m.prev;
		var stop=m,
		mx=m.x,
		my=m.y,
		tanMin=Infinity,
		tan;
		p=m.next;
		while (p!==stop){
			if (hx >=p.x && p.x >=mx && hx!==p.x &&
				Earcut.pointInTriangle(hy < my ? hx :qx,hy,mx,my,hy < my ? qx :hx,hy,p.x,p.y)){
				tan=Math.abs(hy-p.y)/ (hx-p.x);
				if ((tan < tanMin || (tan===tanMin && p.x > m.x))&& Earcut.locallyInside(p,hole)){
					m=p;
					tanMin=tan;
				}
			}
			p=p.next;
		}
		return m;
	}

	Earcut.indexCurve=function(start,minX,minY,invSize){
		var p=start;
		do {
			if (p.z===null)p.z=Earcut.zOrder(p.x,p.y,minX,minY,invSize);
			p.prevZ=p.prev;
			p.nextZ=p.next;
			p=p.next;
		}while (p!==start);
		p.prevZ.nextZ=null;
		p.prevZ=null;
		Earcut.sortLinked(p);
	}

	Earcut.sortLinked=function(list){
		var i,p,q,e,tail,numMerges,pSize,qSize,
		inSize=1;
		do {
			p=list;
			list=null;
			tail=null;
			numMerges=0;
			while (p){
				numMerges++;
				q=p;
				pSize=0;
				for (i=0;i < inSize;i++){
					pSize++;
					q=q.nextZ;
					if (!q)break ;
				}
				qSize=inSize;
				while (pSize > 0 || (qSize > 0 && q)){
					if (pSize!==0 && (qSize===0 || !q || p.z <=q.z)){
						e=p;
						p=p.nextZ;
						pSize--;
						}else {
						e=q;
						q=q.nextZ;
						qSize--;
					}
					if (tail)tail.nextZ=e;
					else list=e;
					e.prevZ=tail;
					tail=e;
				}
				p=q;
			}
			tail.nextZ=null;
			inSize *=2;
		}while (numMerges > 1);
		return list;
	}

	Earcut.zOrder=function(x,y,minX,minY,invSize){
		x=32767 *(x-minX)*invSize;
		y=32767 *(y-minY)*invSize;
		x=(x | (x << 8))& 0x00FF00FF;
		x=(x | (x << 4))& 0x0F0F0F0F;
		x=(x | (x << 2))& 0x33333333;
		x=(x | (x << 1))& 0x55555555;
		y=(y | (y << 8))& 0x00FF00FF;
		y=(y | (y << 4))& 0x0F0F0F0F;
		y=(y | (y << 2))& 0x33333333;
		y=(y | (y << 1))& 0x55555555;
		return x | (y << 1);
	}

	Earcut.getLeftmost=function(start){
		var p=start,
		leftmost=start;
		do {
			if (p.x < leftmost.x)leftmost=p;
			p=p.next;
		}while (p!==start);
		return leftmost;
	}

	Earcut.pointInTriangle=function(ax,ay,bx,by,cx,cy,px,py){
		return (cx-px)*(ay-py)-(ax-px)*(cy-py)>=0 &&
		(ax-px)*(by-py)-(bx-px)*(ay-py)>=0 &&
		(bx-px)*(cy-py)-(cx-px)*(by-py)>=0;
	}

	Earcut.isValidDiagonal=function(a,b){
		return a.next.i!==b.i && a.prev.i!==b.i && !Earcut.intersectsPolygon(a,b)&&
		Earcut.locallyInside(a,b)&& Earcut.locallyInside(b,a)&& Earcut.middleInside(a,b);
	}

	Earcut.area=function(p,q,r){
		return (q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y);
	}

	Earcut.equals=function(p1,p2){
		return p1.x===p2.x && p1.y===p2.y;
	}

	Earcut.intersects=function(p1,q1,p2,q2){
		if ((Earcut.equals(p1,q1)&& Earcut.equals(p2,q2))||
			(Earcut.equals(p1,q2)&& Earcut.equals(p2,q1)))return true;
		return Earcut.area(p1,q1,p2)> 0!==Earcut.area(p1,q1,q2)> 0 &&
		Earcut.area(p2,q2,p1)> 0!==Earcut.area(p2,q2,q1)> 0;
	}

	Earcut.intersectsPolygon=function(a,b){
		var p=a;
		do {
			if (p.i!==a.i && p.next.i!==a.i && p.i!==b.i && p.next.i!==b.i &&
				Earcut.intersects(p,p.next,a,b))return true;
			p=p.next;
		}while (p!==a);
		return false;
	}

	Earcut.locallyInside=function(a,b){
		return Earcut.area(a.prev,a,a.next)< 0 ?
		Earcut.area(a,b,a.next)>=0 && Earcut.area(a,a.prev,b)>=0 :
		Earcut.area(a,b,a.prev)< 0 || Earcut.area(a,a.next,b)< 0;
	}

	Earcut.middleInside=function(a,b){
		var p=a,
		inside=false,
		px=(a.x+b.x)/ 2,
		py=(a.y+b.y)/ 2;
		do {
			if (((p.y > py)!==(p.next.y > py))&& p.next.y!==p.y &&
				(px < (p.next.x-p.x)*(py-p.y)/ (p.next.y-p.y)+p.x))
			inside=!inside;
			p=p.next;
		}while (p!==a);
		return inside;
	}

	Earcut.splitPolygon=function(a,b){
		var a2=new Node(a.i,a.x,a.y),
		b2=new Node(b.i,b.x,b.y),
		an=a.next,
		bp=b.prev;
		a.next=b;
		b.prev=a;
		a2.next=an;
		an.prev=a2;
		b2.next=a2;
		a2.prev=b2;
		bp.next=b2;
		b2.prev=bp;
		return b2;
	}

	Earcut.insertNode=function(i,x,y,last){
		var p=new Node(i,x,y);
		if (!last){
			p.prev=p;
			p.next=p;
			}else {
			p.next=last.next;
			p.prev=last;
			last.next.prev=p;
			last.next=p;
		}
		return p;
	}

	Earcut.removeNode=function(p){
		p.next.prev=p.prev;
		p.prev.next=p.next;
		if (p.prevZ)p.prevZ.nextZ=p.nextZ;
		if (p.nextZ)p.nextZ.prevZ=p.prevZ;
	}

	Earcut.signedArea=function(data,start,end,dim){
		var sum=0;
		for (var i=start,j=end-dim;i < end;i+=dim){
			sum+=(data[j]-data[i])*(data[i+1]+data[j+1]);
			j=i;
		}
		return sum;
	}

	Earcut.__init$=function(){
		/*earcut.flatten=function (data){
		var dim=data[0][0].length,
		result={vertices:[],holes:[],dimensions:dim},
		holeIndex=0;
		for (var i=0;i < data.length;i++){
			for (var j=0;j < data[i].length;j++){
				for (var d=0;d < dim;d++)result.vertices.push(data[i][j][d]);
			}
			if (i > 0){
				holeIndex+=data[i-1].length;
				result.holes.push(holeIndex);
			}
		}
		return result;
	};*/

	//class Node
	Node=(function(){
		function Node(i,x,y){
			this.i=i;
			this.x=x;
			this.y=y;
			this.prev=null;
			this.next=null;
			this.z=null;
			this.prevZ=null;
			this.nextZ=null;
			this.steiner=false;
		}
		__class(Node,'');
		return Node;
	})()

}


return Earcut;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/Submit.as=======199.999044/199.999044
//class laya.webgl.submit.Submit
var Submit=(function(){
	function Submit(renderType){
		this.clipInfoID=-1;
		//用来比较clipinfo
		//this._mesh=null;
		//代替 _vb,_ib
		//this._blendFn=null;
		//this._id=0;
		//protected var _isSelfVb:Boolean=false;
		//this._renderType=0;
		//this._parent=null;
		// 从VB中什么地方开始画，画到哪
		//this._startIdx=0;
		//indexbuffer 的偏移，单位是byte
		this._numEle=0;
		this._ref=1;
		//this.shaderValue=null;
		this._key=new SubmitKey();
		(renderType===void 0)&& (renderType=10000);
		this._renderType=renderType;
		this._id=++Submit.ID;
	}

	__class(Submit,'laya.webgl.submit.Submit');
	var __proto=Submit.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto.getID=function(){
		return this._id;
	}

	__proto.releaseRender=function(){
		if (Submit.RENDERBASE==this)
			return;
		if((--this._ref)<1){
			Submit.POOL[Submit._poolSize++]=this;
			this.shaderValue.release();
			this.shaderValue=null;
			this._mesh=null;
			this._parent && (this._parent.releaseRender(),this._parent=null);
		}
	}

	__proto.getRenderType=function(){
		return this._renderType;
	}

	__proto.renderSubmit=function(){
		if (this._numEle===0 || !this._mesh || this._numEle==0)return 1;
		var _tex=this.shaderValue.textureHost;
		if (_tex){
			var source=_tex._getSource();
			if (!source)
				return 1;
			this.shaderValue.texture=source;
		};
		var gl=WebGL.mainContext;
		this._mesh.useMesh(gl);
		this.shaderValue.upload();
		if (BlendMode.activeBlendFunction!==this._blendFn){
			WebGLContext.setBlend(gl,true);
			this._blendFn(gl);
			BlendMode.activeBlendFunction=this._blendFn;
		}
		gl.drawElements(0x0004,this._numEle,0x1403,this._startIdx);
		Stat.drawCall++;
		Stat.trianglesFaces+=this._numEle / 3;
		return 1;
	}

	/**
	*基于o和传入的其他参数来初始化submit对象
	*@param o
	*@param context
	*@param mesh
	*@param pos
	*/
	__proto._cloneInit=function(o,context,mesh,pos){
		debugger;
		o._ref=1;
		o._mesh=mesh;
		o._id=this._id;
		o._key.copyFrom(this._key);
		o._parent=this;
		o._blendFn=this._blendFn;
		o._renderType=this._renderType;
		o._startIdx=pos *CONST3D2D.BYTES_PIDX;
		o._numEle=this._numEle;
		o.shaderValue=this.shaderValue;
		this.shaderValue.ref++;
		this._ref++;
	}

	__proto.clone=function(context,ib,vb,pos){
		debugger;
	}

	/*
	if (_key.submitType===-1 || _isSelfVb)return null;
	var o:Submit=_poolSize ? POOL[--_poolSize] :new Submit();
	_cloneInit(o,context,ib,vb,pos);
	return o;
	*/
	__proto.reUse=function(context,pos){
		debugger;
	}

	/*
	_ref++;
	if (_isSelfVb){
		return pos;
	}

	_ib=context._ib;
	_vb=context._vb;
	_startIdx=pos / 8 *6;
	return pos+_numEle / 6 *16;
	*/
	__proto.toString=function(){
		return "ibindex:"+this._startIdx+" num:"+this._numEle+" key="+this._key;
	}

	Submit.__init__=function(){
		var s=Submit.RENDERBASE=new Submit(-1);
		s.shaderValue=new Value2D(0,0);
		s.shaderValue.ALPHA=1;
		s._ref=0xFFFFFFFF;
	}

	Submit.create=function(context,mesh,sv){
		debugger;
		var o=Submit._poolSize ? Submit.POOL[--Submit._poolSize] :new Submit();
		o._ref=1;
		o._mesh=mesh;
		o._key.clear();
		o._startIdx=mesh.indexNum *CONST3D2D.BYTES_PIDX;
		o._numEle=0;
		var blendType=context._nBlendType;
		o._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];
		o.shaderValue=sv;
		o.shaderValue.setValue(context._shader2D);
		var filters=context._shader2D.filters;
		filters && o.shaderValue.setFilters(filters);
		return o;
	}

	Submit.createShape=function(ctx,mesh,numEle,sv){
		var o=Submit._poolSize ? Submit.POOL[--Submit._poolSize]:(new Submit());
		o._mesh=mesh;
		o._numEle=numEle;
		o._startIdx=mesh.indexNum *2;
		o._ref=1;
		o.shaderValue=sv;
		o.shaderValue.setValue(ctx._shader2D);
		var blendType=ctx._nBlendType;
		o._blendFn=ctx._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];
		return o;
	}

	Submit.TYPE_2D=10000;
	Submit.TYPE_CANVAS=10003;
	Submit.TYPE_CMDSETRT=10004;
	Submit.TYPE_CUSTOM=10005;
	Submit.TYPE_BLURRT=10006;
	Submit.TYPE_CMDDESTORYPRERT=10007;
	Submit.TYPE_DISABLESTENCIL=10008;
	Submit.TYPE_OTHERIBVB=10009;
	Submit.TYPE_PRIMITIVE=10010;
	Submit.TYPE_RT=10011;
	Submit.TYPE_BLUR_RT=10012;
	Submit.TYPE_TARGET=10013;
	Submit.TYPE_CHANGE_VALUE=10014;
	Submit.TYPE_SHAPE=10015;
	Submit.TYPE_TEXTURE=10016;
	Submit.TYPE_FILLTEXTURE=10017;
	Submit.KEY_ONCE=-1;
	Submit.KEY_FILLRECT=1;
	Submit.KEY_DRAWTEXTURE=2;
	Submit.KEY_VG=3;
	Submit.KEY_TRIANGLES=4;
	Submit.RENDERBASE=null;
	Submit.ID=1;
	Submit.preRender=null;
	Submit._poolSize=0;
	Submit.POOL=[];
	return Submit;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitCMD.as=======199.999042/199.999042
//class laya.webgl.submit.SubmitCMD
var SubmitCMD=(function(){
	function SubmitCMD(){
		this.fun=null;
		this._this=null;
		this.args=null;
		this._ref=1;
		this._key=new SubmitKey();
	}

	__class(SubmitCMD,'laya.webgl.submit.SubmitCMD');
	var __proto=SubmitCMD.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto.renderSubmit=function(){
		this.fun.apply(this._this,this.args);
		return 1;
	}

	__proto.getRenderType=function(){
		return 0;
	}

	__proto.reUse=function(context,pos){
		this._ref++;
		return pos;
	}

	__proto.releaseRender=function(){
		if((--this._ref)<1){
			var pool=SubmitCMD.POOL;
			pool[pool._length++]=this;
		}
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	SubmitCMD.create=function(args,fun,thisobj){
		var o=SubmitCMD.POOL._length?SubmitCMD.POOL[--SubmitCMD.POOL._length]:new SubmitCMD();
		o.fun=fun;
		o.args=args;
		o._this=thisobj;
		o._ref=1;
		o._key.clear();
		return o;
	}

	SubmitCMD.POOL=(SubmitCMD.POOL=[],SubmitCMD.POOL._length=0,SubmitCMD.POOL);
	return SubmitCMD;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitCMDScope.as=======199.999041/199.999041
//class laya.webgl.submit.SubmitCMDScope
var SubmitCMDScope=(function(){
	function SubmitCMDScope(){
		this.variables={};
	}

	__class(SubmitCMDScope,'laya.webgl.submit.SubmitCMDScope');
	var __proto=SubmitCMDScope.prototype;
	__proto.getValue=function(name){
		return this.variables[name];
	}

	__proto.addValue=function(name,value){
		return this.variables[name]=value;
	}

	__proto.setValue=function(name,value){
		if(this.variables.hasOwnProperty(name)){
			return this.variables[name]=value;
		}
		return null;
	}

	__proto.clear=function(){
		for(var key in this.variables){
			delete this.variables[key];
		}
	}

	__proto.recycle=function(){
		this.clear();
		SubmitCMDScope.POOL.push(this);
	}

	SubmitCMDScope.create=function(){
		return new SubmitCMDScope();
		var scope=SubmitCMDScope.POOL.pop();
		scope||(scope=new SubmitCMDScope());
		return scope;
	}

	SubmitCMDScope.POOL=[];
	return SubmitCMDScope;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitKey.as=======199.999040/199.999040
/**
*...
*@author xie
*/
//class laya.webgl.submit.SubmitKey
var SubmitKey=(function(){
	function SubmitKey(){
		this.blendShader=0;
		//public var alpha:Number=1.0;
		this.submitType=0;
		this.other=0;
		this.clear();
	}

	__class(SubmitKey,'laya.webgl.submit.SubmitKey');
	var __proto=SubmitKey.prototype;
	__proto.clear=function(){
		this.submitType=-1;
		this.blendShader=this.other=0;
	}

	//alpha=1;
	__proto.copyFrom=function(src){
		this.other=src.other;
		this.blendShader=src.blendShader;
		this.submitType=src.submitType;
	}

	//alpha=src.alpha;
	__proto.copyFrom2=function(src,submitType,other){
		this.blendShader=src.blendShader;
		this.other=other;
		this.submitType=submitType;
	}

	//Ƚ3ⲿṩ2
	__proto.equal3_2=function(next,submitType,other){
		return this.submitType===submitType && this.other===other && this.blendShader===next.blendShader;
	}

	//ȫȽϡⲿṩ2
	__proto.equal4_2=function(next,submitType,other){
		return this.submitType===submitType && this.other===other && this.blendShader===next.blendShader;
	}

	//Ƚ3
	__proto.equal_3=function(next){
		return this.submitType===next.submitType && this.blendShader===next.blendShader;
	}

	//ȫȽϡ4
	__proto.equal=function(next){
		return this.other===next.other && this.submitType===next.submitType && this.blendShader===next.blendShader;
	}

	return SubmitKey;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitOtherIBVB.as=======199.999039/199.999039
//class laya.webgl.submit.SubmitOtherIBVB
var SubmitOtherIBVB=(function(){
	function SubmitOtherIBVB(){
		this.offset=0;
		//this._vb=null;
		//this._ib=null;
		//this._blendFn=null;
		//this._mat=null;
		//this._shader=null;
		//this._numEle=0;
		this._ref=1;
		this.startIndex=0;
		//indexbuffer的偏移。byte
		//this.shaderValue=null;
		this._key=new SubmitKey();
		;
		this._mat=Matrix.create();
	}

	__class(SubmitOtherIBVB,'laya.webgl.submit.SubmitOtherIBVB');
	var __proto=SubmitOtherIBVB.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto.releaseRender=function(){
		if ((--this._ref)< 1){
			var pool=SubmitOtherIBVB.POOL;
			pool[pool._length++]=this;
		}
	}

	__proto.getRenderType=function(){
		return 10009;
	}

	__proto.reUse=function(context,pos){
		this._ref++;
		return pos;
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	__proto.renderSubmit=function(){
		var _tex=this.shaderValue.textureHost;
		if (_tex){
			var source=_tex.source;
			if (!_tex.bitmap || !source)
				return 1;
			this.shaderValue.texture=source;
		}
		this._ib._bind_upload()|| this._ib.bind();
		this._vb._bind_upload()|| this._vb.bind();
		var w=RenderState2D.worldMatrix4;
		var wmat=Matrix.TEMP;
		Matrix.mulPre(this._mat,w[0],w[1],w[4],w[5],w[12],w[13],wmat);
		var tmp=RenderState2D.worldMatrix4=SubmitOtherIBVB.tempMatrix4;
		tmp[0]=wmat.a;
		tmp[1]=wmat.b;
		tmp[4]=wmat.c;
		tmp[5]=wmat.d;
		tmp[12]=wmat.tx;
		tmp[13]=wmat.ty;
		this.shaderValue.size[0]=RenderState2D.width;
		this.shaderValue.size[1]=RenderState2D.height;
		this.shaderValue.alpha=this.shaderValue.ALPHA *RenderState2D.worldAlpha;
		this.shaderValue.mmat=RenderState2D.worldMatrix4;
		this._shader.upload(this.shaderValue);
		var gl=WebGL.mainContext;
		if (BlendMode.activeBlendFunction!==this._blendFn){
			WebGLContext.setBlend(gl,true);
			this._blendFn(gl);
			BlendMode.activeBlendFunction=this._blendFn;
		}
		Stat.drawCall++;
		Stat.trianglesFaces+=this._numEle / 3;
		gl.drawElements(0x0004,this._numEle,0x1403,this.startIndex);
		RenderState2D.worldMatrix4=w;
		BaseShader.activeShader=null;
		return 1;
	}

	SubmitOtherIBVB.create=function(context,vb,ib,numElement,shader,shaderValue,startIndex){
		var o=(!SubmitOtherIBVB.POOL._length)? (new SubmitOtherIBVB()):SubmitOtherIBVB.POOL[--SubmitOtherIBVB.POOL._length];
		o._ib=ib;
		o._vb=vb;
		o._numEle=numElement;
		o._shader=shader;
		o._key.clear();
		o._ref=1;
		o.shaderValue=shaderValue;
		var blendType=context._nBlendType;
		o._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];
		o.startIndex=startIndex;
		return o;
	}

	SubmitOtherIBVB.POOL=[];
	SubmitOtherIBVB.tempMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,];
	return SubmitOtherIBVB;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitScissor.as=======199.999038/199.999038
//class laya.webgl.submit.SubmitScissor
var SubmitScissor=(function(){
	function SubmitScissor(){
		this.submitIndex=0;
		this.submitLength=0;
		this.context=null;
		this._numEle=0;
		this._ref=1;
		this.clipRect=new Rectangle();
		this.screenRect=new Rectangle();
		this._key=new SubmitKey();
	}

	__class(SubmitScissor,'laya.webgl.submit.SubmitScissor');
	var __proto=SubmitScissor.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto._scissor=function(x,y,w,h){
		var m=RenderState2D.worldMatrix4;
		var a=m[0],d=m[5],tx=m[12],ty=m[13];
		x=x *a+tx;
		y=y *d+ty;
		w *=a;
		h *=d;
		if (w < 1 || h < 1){
			return false;
		};
		var r=x+w;
		var b=y+h;
		x < 0 && (x=0,w=r-x);
		y < 0 && (y=0,h=b-y);
		var screen=RenderState2D.worldClipRect;
		x=Math.max(x,screen.x);
		y=Math.max(y,screen.y);
		w=Math.min(r,screen.right)-x;
		h=Math.min(b,screen.bottom)-y;
		if (w < 1 || h < 1){
			return false;
		};
		var worldScissorTest=RenderState2D.worldScissorTest;
		this.screenRect.copyFrom(screen);
		screen.x=x;
		screen.y=y;
		screen.width=w;
		screen.height=h;
		RenderState2D.worldScissorTest=true;
		y=RenderState2D.height-y-h;
		WebGL.mainContext.scissor(x,y,w,h);
		WebGL.mainContext.enable(0x0C11);
		this.context.submitNextElement(this.submitLength);
		if (worldScissorTest){
			y=RenderState2D.height-this.screenRect.y-this.screenRect.height;
			WebGL.mainContext.scissor(this.screenRect.x,y,this.screenRect.width,this.screenRect.height);
			WebGL.mainContext.enable(0x0C11);
		}
		else{
			WebGL.mainContext.disable(0x0C11);
			RenderState2D.worldScissorTest=false;
		}
		screen.copyFrom(this.screenRect);
		return true;
	}

	__proto._scissorWithTagart=function(x,y,w,h){
		if (w < 1 || h < 1){
			return false;
		};
		var r=x+w;
		var b=y+h;
		x < 0 && (x=0,w=r-x);
		y < 0 && (y=0,h=b-y);
		var screen=RenderState2D.worldClipRect;
		x=Math.max(x,screen.x);
		y=Math.max(y,screen.y);
		w=Math.min(r,screen.right)-x;
		h=Math.min(b,screen.bottom)-y;
		if (w < 1 || h < 1){
			return false;
		};
		var worldScissorTest=RenderState2D.worldScissorTest;
		this.screenRect.copyFrom(screen);
		RenderState2D.worldScissorTest=true;
		screen.x=x;
		screen.y=y;
		screen.width=w;
		screen.height=h;
		y=RenderState2D.height-y-h;
		WebGL.mainContext.scissor(x,y,w,h);
		WebGL.mainContext.enable(0x0C11);
		this.context.submitNextElement(this.submitLength);
		if (worldScissorTest){
			y=RenderState2D.height-this.screenRect.y-this.screenRect.height;
			WebGL.mainContext.scissor(this.screenRect.x,y,this.screenRect.width,this.screenRect.height);
			WebGL.mainContext.enable(0x0C11);
		}
		else{
			WebGL.mainContext.disable(0x0C11);
			RenderState2D.worldScissorTest=false;
		}
		screen.copyFrom(this.screenRect);
		return true;
	}

	__proto.renderSubmit=function(){
		if (this.clipRect.width < 1 || this.clipRect.height < 1){
			return this.submitLength+1;
		}
		if (this.context._targets)
			this._scissorWithTagart(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height);
		else this._scissor(this.clipRect.x,this.clipRect.y,this.clipRect.width,this.clipRect.height);
		return this.submitLength+1;
	}

	__proto.getRenderType=function(){
		return 0;
	}

	__proto.releaseRender=function(){
		if((--this._ref)<1){
			var pool=SubmitScissor.POOL;
			pool[pool._length++]=this;
			this.context=null;
		}
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	__proto.reUse=function(ctx,pos){
		this._key.clear();
		this._ref++;
		this._numEle=0;
		this.context=ctx;
		return pos;
	}

	SubmitScissor.create=function(ctx){
		var o=SubmitScissor.POOL._length?SubmitScissor.POOL[--SubmitScissor.POOL._length]:new SubmitScissor();
		o.context=ctx;
		o._key.clear();
		o._ref=1;
		return o;
	}

	SubmitScissor.POOL=(SubmitScissor.POOL=[],SubmitScissor.POOL._length=0,SubmitScissor.POOL);
	return SubmitScissor;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitStencil.as=======199.999037/199.999037
//class laya.webgl.submit.SubmitStencil
var SubmitStencil=(function(){
	function SubmitStencil(){
		this.step=0;
		this.blendMode=null;
		this._ref=1;
		this.level=0;
		this._key=new SubmitKey();
	}

	__class(SubmitStencil,'laya.webgl.submit.SubmitStencil');
	var __proto=SubmitStencil.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto.renderSubmit=function(){
		switch(this.step){
			case 1:
				this.do1();
				break ;
			case 2:
				this.do2();
				break ;
			case 3:
				this.do3();
				break ;
			case 4:
				this.do4();
				break ;
			case 5:
				this.do5();
				break ;
			case 6:
				this.do6();
				break ;
			case 7:
				this.do7();
				break ;
			case 8:
				this.do8();
				break ;
			}
		return 1;
	}

	__proto.getRenderType=function(){
		return 0;
	}

	__proto.releaseRender=function(){
		if((--this._ref)<1){
			var pool=SubmitStencil.POOL;
			pool[pool._length++]=this;
		}
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	__proto.reUse=function(context,pos){
		this._ref++;
		return pos;
	}

	__proto.do1=function(){
		var gl=WebGL.mainContext;
		gl.enable(0x0B90);
		gl.clear(0x00000400);
		gl.colorMask(false,false,false,false);
		gl.stencilFunc(0x0202,this.level,0xFF);
		gl.stencilOp(0x1E00,0x1E00,0x1E02);
	}

	//gl.stencilOp(WebGLContext.KEEP,WebGLContext.KEEP,WebGLContext.INVERT);//测试通过给模版缓冲 写入值 一开始是0 现在是 0xFF (模版缓冲中不知道是多少位的数据)
	__proto.do2=function(){
		var gl=WebGL.mainContext;
		gl.stencilFunc(0x0202,this.level+1,0xFF);
		gl.colorMask(true,true,true,true);
		gl.stencilOp(0x1E00,0x1E00,0x1E00);
	}

	__proto.do3=function(){
		var gl=WebGL.mainContext;
		gl.colorMask(true,true,true,true);
		gl.stencilOp(0x1E00,0x1E00,0x1E00);
		gl.clear(0x00000400);
		gl.disable(0x0B90);
	}

	__proto.do4=function(){
		var gl=WebGL.mainContext;
		if (this.level==0){
			gl.enable(0x0B90);
			gl.clear(0x00000400);
		}
		gl.colorMask(false,false,false,false);
		gl.stencilFunc(0x0207,0,0xFF);
		gl.stencilOp(0x1E00,0x1E00,0x1E02);
	}

	__proto.do5=function(){
		var gl=WebGL.mainContext;
		gl.stencilFunc(0x0202,this.level,0xFF);
		gl.colorMask(true,true,true,true);
		gl.stencilOp(0x1E00,0x1E00,0x1E00);
	}

	__proto.do6=function(){
		var gl=WebGL.mainContext;
		BlendMode.targetFns[BlendMode.TOINT[this.blendMode]](gl);
	}

	__proto.do7=function(){
		var gl=WebGL.mainContext;
		gl.colorMask(false,false,false,false);
		gl.stencilOp(0x1E00,0x1E00,0x1E03);
	}

	__proto.do8=function(){
		var gl=WebGL.mainContext;
		gl.colorMask(true,true,true,true);
		gl.stencilFunc(0x0202,this.level,0xFF);
		gl.stencilOp(0x1E00,0x1E00,0x1E00);
	}

	SubmitStencil.restore=function(context,clip,m,_x,_y){
		var submitStencil;
		if (SubmitStencil._mask > 0){
			SubmitStencil._mask--;
		}
		if (SubmitStencil._mask==0){
			submitStencil=laya.webgl.submit.SubmitStencil.create(3);
			context.addRenderObject(submitStencil);
			context._curSubmit=Submit.RENDERBASE;
		}
		else{
			submitStencil=laya.webgl.submit.SubmitStencil.create(7);
			context.addRenderObject(submitStencil);
			var vb=context._vb;
			var nPos=(vb._byteLength >> 2);
			if (GlUtils.fillRectImgVb(vb,null,clip.x,clip.y,clip.width,clip.height,Texture.DEF_UV,m)){
				var shader=context._shader2D;
				var submit=context._curSubmit=Submit.create(context,context._ib,vb,((vb._byteLength-WebGLContext2D._RECTVBSIZE *4)/ 32)*3,Value2D.create(ShaderDefines2D.COLOR2D,0));
				submit.shaderValue.ALPHA=1.0;
				submit._key.clear();
				context._submits[context._submits._length++]=submit;
				context._curSubmit._numEle+=6;
				context._curSubmit=Submit.RENDERBASE;
				}else {
				alert("clipRect calc stencil rect error");
			}
			submitStencil=laya.webgl.submit.SubmitStencil.create(8);
			context.addRenderObject(submitStencil);
		}
	}

	SubmitStencil.restore2=function(context,submit){
		var submitStencil;
		submit._key.clear();
		if (SubmitStencil._mask > 0){
			SubmitStencil._mask--;
		}
		if (SubmitStencil._mask==0){
			submitStencil=laya.webgl.submit.SubmitStencil.create(3);
			context.addRenderObject(submitStencil);
			context._curSubmit=Submit.RENDERBASE;
		}
		else{
			submitStencil=laya.webgl.submit.SubmitStencil.create(7);
			context.addRenderObject(submitStencil);
			context._submits[context._submits._length++]=submit;
			submitStencil=laya.webgl.submit.SubmitStencil.create(8);
			context.addRenderObject(submitStencil);
		}
	}

	SubmitStencil.create=function(step){
		var o=SubmitStencil.POOL._length?SubmitStencil.POOL[--SubmitStencil.POOL._length]:new SubmitStencil();
		o.step=step;
		o._ref=1;
		if (step==5)
			++SubmitStencil._mask;
		o.level=SubmitStencil._mask;
		return o;
	}

	SubmitStencil._mask=0;
	SubmitStencil.POOL=(SubmitStencil.POOL=[],SubmitStencil.POOL._length=0,SubmitStencil.POOL);
	return SubmitStencil;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitTarget.as=======199.999036/199.999036
//class laya.webgl.submit.SubmitTarget
var SubmitTarget=(function(){
	function SubmitTarget(){
		this._renderType=0;
		this._mesh=null;
		//代替 _vb,_ib
		this._startIdx=0;
		this._numEle=0;
		this.shaderValue=null;
		this.blendType=0;
		this.proName=null;
		this._ref=1;
		this.scope=null;
		this._key=new SubmitKey();
	}

	__class(SubmitTarget,'laya.webgl.submit.SubmitTarget');
	var __proto=SubmitTarget.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true})
	__proto.renderSubmit=function(){
		var gl=WebGL.mainContext;
		this._mesh.useMesh(gl);
		var target=this.scope.getValue(this.proName);
		if (target){
			this.shaderValue.texture=target._getSource();
			if (this.shaderValue["strength"] && !this.shaderValue["blurInfo"]){
				this.shaderValue["blurInfo"]=[target.width,target.height];
			}
			this.shaderValue.upload();
			this.blend();
			Stat.drawCall++;
			Stat.trianglesFaces+=this._numEle/3;
			WebGL.mainContext.drawElements(0x0004,this._numEle,0x1403,this._startIdx);
		}
		return 1;
	}

	__proto.blend=function(){
		if (BlendMode.activeBlendFunction!==BlendMode.fns[this.blendType]){
			var gl=WebGL.mainContext;
			gl.enable(0x0BE2);
			BlendMode.fns[this.blendType](gl);
			BlendMode.activeBlendFunction=BlendMode.fns[this.blendType];
		}
	}

	__proto.getRenderType=function(){
		return 0;
	}

	__proto.releaseRender=function(){
		if ((--this._ref)< 1){
			var pool=SubmitTarget.POOL;
			pool[pool._length++]=this;
		}
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	__proto.reUse=function(context,pos){
		this._startIdx=pos;
		this._ref++;
		return pos;
	}

	SubmitTarget.create=function(context,mesh,sv,proName){
		var o=SubmitTarget.POOL._length?SubmitTarget.POOL[--SubmitTarget.POOL._length]:new SubmitTarget();
		o._mesh=mesh;
		o.proName=proName;
		o._startIdx=mesh.indexNum *CONST3D2D.BYTES_PIDX;
		o._ref=1;
		o._key.clear();
		o._numEle=0;
		o.blendType=context._nBlendType;
		o.shaderValue=sv;
		o.shaderValue.setValue(context._shader2D);
		return o;
	}

	SubmitTarget.POOL=(SubmitTarget.POOL=[],SubmitTarget.POOL._length=0,SubmitTarget.POOL);
	return SubmitTarget;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/text/ArabicReshaper.as=======199.999034/199.999034
/**
*Javascript Arabic Reshaper by Louy Alakkad
*https://github.com/louy/Javascript-Arabic-Reshaper
*Based on (http://git.io/vsnAd)
*/
//class laya.webgl.text.ArabicReshaper
var ArabicReshaper=(function(){
	function ArabicReshaper(){}
	__class(ArabicReshaper,'laya.webgl.text.ArabicReshaper');
	var __proto=ArabicReshaper.prototype;
	/*ARABIC SMALL LOW MEEM */
	__proto.characterMapContains=function(c){
		for (var i=0;i < ArabicReshaper.charsMap.length;++i){
			if (ArabicReshaper.charsMap[ i][0]===c){
				return true;
			}
		}
		return false;
	}

	__proto.getCharRep=function(c){
		for (var i=0;i < ArabicReshaper.charsMap.length;++i){
			if (ArabicReshaper.charsMap[ i][0]===c){
				return ArabicReshaper.charsMap[i];
			}
		}
		return false;
	}

	__proto.getCombCharRep=function(c1,c2){
		for (var i=0;i < ArabicReshaper.combCharsMap.length;++i){
			if (ArabicReshaper.combCharsMap[i][0][0]===c1 && ArabicReshaper.combCharsMap[i][0][1]===c2){
				return ArabicReshaper.combCharsMap[i];
			}
		}
		return false;
	}

	__proto.isTransparent=function(c){
		for (var i=0;i < ArabicReshaper.transChars.length;++i){
			if (ArabicReshaper.transChars[i]===c){
				return true;
			}
		}
		return false;
	}

	__proto.getOriginalCharsFromCode=function(code){
		var j;
		for (j=0;j < ArabicReshaper.charsMap.length;++j){
			if (ArabicReshaper.charsMap[j].indexOf(code)>-1){
				return String.fromCharCode(ArabicReshaper.charsMap[j][0]);
			}
		}
		for (j=0;j < ArabicReshaper.combCharsMap.length;++j){
			if (ArabicReshaper.combCharsMap[j].indexOf(code)>-1){
				return String.fromCharCode(ArabicReshaper.combCharsMap[j][0][0])+
				String.fromCharCode(ArabicReshaper.combCharsMap[j][0][1]);
			}
		}
		return String.fromCharCode(code);
	}

	/**
	*转换函数。从normal转到presentB
	*这个返回的字符串可以直接按照从左到右的顺序渲染。
	*例如
	*graphics.fillText(convertArabic('سلام'),....)
	*
	*/
	__proto.convertArabic=function(normal){
		var crep,
		combcrep,
		shaped='';
		for (var i=0;i < normal.length;++i){
			var current=normal.charCodeAt(i);
			if (this.characterMapContains(current)){
				var prev=null,
				next=null,
				prevID=i-1,
				nextID=i+1;
				for (;prevID >=0;--prevID){
					if (!this.isTransparent(normal.charCodeAt(prevID))){
						break ;
					}
				}
				prev=(prevID >=0)? normal.charCodeAt(prevID):null;
				crep=prev ? this.getCharRep(prev):false;
				if (!crep || crep[2]==null && crep[3]==null){
					prev=null;
				}
				for (;nextID < normal.length;++nextID){
					if (!this.isTransparent(normal.charCodeAt(nextID))){
						break ;
					}
				}
				next=(nextID < normal.length)? normal.charCodeAt(nextID):null;
				crep=next ? this.getCharRep(next):false;
				if (!crep || crep[3]==null && crep[4]==null){
					next=null;
				}
				if (current===0x0644 && next !=null &&
					(next===0x0622 || next===0x0623 || next===0x0625 || next===0x0627)){
					combcrep=this.getCombCharRep(current,next);
					if (prev !=null){
						shaped+=String.fromCharCode(combcrep[4]);
						}else {
						shaped+=String.fromCharCode(combcrep[1]);
					}
					++i;
					continue ;
				}
				crep=this.getCharRep(current);
				if (prev !=null && next !=null && crep[3] !=null){
					shaped+=String.fromCharCode(crep[3]);
					continue ;
				}else
				if (prev !=null && crep[4] !=null){
					shaped+=String.fromCharCode(crep[4]);
					continue ;
				}else
				if (next !=null && crep[2] !=null){
					shaped+=String.fromCharCode(crep[2]);
					continue ;
					}else {
					shaped+=String.fromCharCode(crep[1]);
				}
				}else {
				shaped+=String.fromCharCode(current);
			}
		}
		return shaped;
	}

	// convert from Arabic Presentation Forms B
	__proto.convertArabicBack=function(apfb){
		var toReturn='',
		selectedChar;
		var i;
		theLoop:
		for (i=0;i < apfb.length;++i){
			selectedChar=apfb.charCodeAt(i);
			toReturn+=this.getOriginalCharsFromCode(selectedChar);
		}
		return toReturn;
	}

	__static(ArabicReshaper,
	['charsMap',function(){return this.charsMap=[
		[0x0621,0xFE80,null,null,null],
		[0x0622,0xFE81,null,null,0xFE82],
		[0x0623,0xFE83,null,null,0xFE84],
		[0x0624,0xFE85,null,null,0xFE86],
		[0x0625,0xFE87,null,null,0xFE88],
		[0x0626,0xFE89,0xFE8B,0xFE8C,0xFE8A],
		[0x0627,0xFE8D,null,null,0xFE8E],
		[0x0628,0xFE8F,0xFE91,0xFE92,0xFE90],
		[0x0629,0xFE93,null,null,0xFE94],
		[0x062A,0xFE95,0xFE97,0xFE98,0xFE96],
		[0x062B,0xFE99,0xFE9B,0xFE9C,0xFE9A],
		[0x062C,0xFE9D,0xFE9F,0xFEA0,0xFE9E],
		[0x062D,0xFEA1,0xFEA3,0xFEA4,0xFEA2],
		[0x062E,0xFEA5,0xFEA7,0xFEA8,0xFEA6],
		[0x062F,0xFEA9,null,null,0xFEAA],
		[0x0630,0xFEAB,null,null,0xFEAC],
		[0x0631,0xFEAD,null,null,0xFEAE],
		[0x0632,0xFEAF,null,null,0xFEB0],
		[0x0633,0xFEB1,0xFEB3,0xFEB4,0xFEB2],
		[0x0634,0xFEB5,0xFEB7,0xFEB8,0xFEB6],
		[0x0635,0xFEB9,0xFEBB,0xFEBC,0xFEBA],
		[0x0636,0xFEBD,0xFEBF,0xFEC0,0xFEBE],
		[0x0637,0xFEC1,0xFEC3,0xFEC4,0xFEC2],
		[0x0638,0xFEC5,0xFEC7,0xFEC8,0xFEC6],
		[0x0639,0xFEC9,0xFECB,0xFECC,0xFECA],
		[0x063A,0xFECD,0xFECF,0xFED0,0xFECE],
		[0x0640,0x0640,0x0640,0x0640,0x0640],
		[0x0641,0xFED1,0xFED3,0xFED4,0xFED2],
		[0x0642,0xFED5,0xFED7,0xFED8,0xFED6],
		[0x0643,0xFED9,0xFEDB,0xFEDC,0xFEDA],
		[0x0644,0xFEDD,0xFEDF,0xFEE0,0xFEDE],
		[0x0645,0xFEE1,0xFEE3,0xFEE4,0xFEE2],
		[0x0646,0xFEE5,0xFEE7,0xFEE8,0xFEE6],
		[0x0647,0xFEE9,0xFEEB,0xFEEC,0xFEEA],
		[0x0648,0xFEED,null,null,0xFEEE],
		[0x0649,0xFEEF,null,null,0xFEF0],
		[0x064A,0xFEF1,0xFEF3,0xFEF4,0xFEF2],
		[0x067E,0xFB56,0xFB58,0xFB59,0xFB57],
		[0x06CC,0xFBFC,0xFBFE,0xFBFF,0xFBFD],
		[0x0686,0xFB7A,0xFB7C,0xFB7D,0xFB7B],
		[0x06A9,0xFB8E,0xFB90,0xFB91,0xFB8F],
		[0x06AF,0xFB92,0xFB94,0xFB95,0xFB93],
		[0x0698,0xFB8A,null,null,0xFB8B],];},'combCharsMap',function(){return this.combCharsMap=[
		[[0x0644,0x0622],0xFEF5,null,null,0xFEF6],
		[[0x0644,0x0623],0xFEF7,null,null,0xFEF8],
		[[0x0644,0x0625],0xFEF9,null,null,0xFEFA],
		[[0x0644,0x0627],0xFEFB,null,null,0xFEFC],];},'transChars',function(){return this.transChars=[
		0x0610,
		0x0612,
		0x0613,
		0x0614,
		0x0615,
		0x064B,
		0x064C,
		0x064D,
		0x064E,
		0x064F,
		0x0650,
		0x0651,
		0x0652,
		0x0653,
		0x0654,
		0x0655,
		0x0656,
		0x0657,
		0x0658,
		0x0670,
		0x06D6,
		0x06D7,
		0x06D8,
		0x06D9,
		0x06DA,
		0x06DB,
		0x06DC,
		0x06DF,
		0x06E0,
		0x06E1,
		0x06E2,
		0x06E3,
		0x06E4,
		0x06E7,
		0x06E8,
		0x06EA,
		0x06EB,
		0x06EC,
		0x06ED,];}
	]);
	return ArabicReshaper;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/text/FontInContext.as=======199.999033/199.999033
//class laya.webgl.text.FontInContext
var FontInContext=(function(){
	function FontInContext(font){
		//this._text=null;
		//this._words=null;
		this._index=0;
		this._size=14;
		this._italic=-2;
		this._bold=-1;
		FontInContext._cache2=FontInContext._cache2|| [];
		this.setFont(font || "14px Arial");
	}

	__class(FontInContext,'laya.webgl.text.FontInContext');
	var __proto=FontInContext.prototype;
	__proto.setFont=function(value){
		var arr=FontInContext._cache2[value];
		if (!arr){
			this._words=value.split(' ');
			for (var i=0,n=this._words.length;i < n;i++){
				if (this._words[i].indexOf('px')> 0 || this._words[i].indexOf('pt')> 0){
					this._index=i;
					break ;
				}
			}
			this._size=parseInt(this._words[this._index]);
			FontInContext._cache2[value]=[this._words,this._size];
			}else {
			this._words=arr[0];
			this._size=arr[1];
		}
		this._text=null;
		this._italic=-2;
	}

	__proto.getItalic=function(){
		this._italic===-2 && (this._italic=this.hasType("italic"));
		return this._italic;
	}

	__proto.getBold=function(){
		this._bold===-1 && (this._bold=this.hasType('bold'));
		return this._bold;
	}

	__proto.getFamily=function(){
		return this._words[this._index+1];
	}

	__proto.hasType=function(name){
		for (var i=0,n=this._words.length;i < n;i++)
		if (this._words[i]===name)return i;
		return-1;
	}

	__proto.removeType=function(name){
		for (var i=0,n=this._words.length;i < n;i++)
		if (this._words[i]===name){
			this._words.splice(i,1);
			if (this._index > i)this._index--;
			break ;
		}
		this._text=null;
		this._italic=-2;
	}

	__proto.copyTo=function(dec){
		dec._text=this._text;
		dec._size=this._size;
		dec._index=this._index;
		dec._words=this._words.slice();
		dec._italic=-2;
		return dec;
	}

	__proto.toString=function(){
		return this._text ? this._text :(this._text=this._words.join(' '));
	}

	__getset(0,__proto,'size',function(){
		return this._size;
		},function(value){
		this._size=value;
		this._words[this._index]=value+"px";
		this._text=null;
	});

	FontInContext.create=function(font){
		var r=FontInContext._cache[font];
		if (r)return r;
		r=FontInContext._cache[font]=new FontInContext(font);
		return r;
	}

	FontInContext.EMPTY=new FontInContext();
	FontInContext._cache={};
	FontInContext._cache2=null;
	return FontInContext;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/CONST3D2D.as=======199.999031/199.999031
//class laya.webgl.utils.CONST3D2D
var CONST3D2D=(function(){
	function CONST3D2D(){}
	__class(CONST3D2D,'laya.webgl.utils.CONST3D2D');
	CONST3D2D.BYTES_PE=4;
	CONST3D2D.BYTES_PIDX=2;
	CONST3D2D.defaultMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
	CONST3D2D.defaultMinusYMatrix4=[1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1];
	CONST3D2D.uniformMatrix3=[1,0,0,0,0,1,0,0,0,0,1,0];
	CONST3D2D._TMPARRAY=[];
	CONST3D2D._OFFSETX=0;
	CONST3D2D._OFFSETY=0;
	return CONST3D2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/GlUtils.as=======199.999030/199.999030
//class laya.webgl.utils.GlUtils
var GlUtils=(function(){
	function GlUtils(){}
	__class(GlUtils,'laya.webgl.utils.GlUtils');
	GlUtils.make2DProjection=function(width,height,depth){
		return [2.0 / width,0,0,0,0,-2.0 / height,0,0,0,0,2.0 / depth,0,-1,1,0,1,];
	}

	GlUtils.fillIBQuadrangle=function(buffer,count){
		if (count > 65535 / 4){
			throw Error("IBQuadrangle count:"+count+" must<:"+Math.floor(65535 / 4));
			return false;
		}
		count=Math.floor(count);
		buffer._resizeBuffer((count+1)*6 *2,false);
		buffer.byteLength=buffer.bufferLength;
		var bufferData=buffer.getUint16Array();
		var idx=0;
		for (var i=0;i < count;i++){
			bufferData[idx++]=i *4;
			bufferData[idx++]=i *4+2;
			bufferData[idx++]=i *4+1;
			bufferData[idx++]=i *4;
			bufferData[idx++]=i *4+3;
			bufferData[idx++]=i *4+2;
		}
		buffer.setNeedUpload();
		return true;
	}

	GlUtils.expandIBQuadrangle=function(buffer,count){
		buffer.bufferLength >=(count *6 *2)|| GlUtils.fillIBQuadrangle(buffer,count);
	}

	GlUtils.mathCeilPowerOfTwo=function(value){
		value--;
		value |=value >> 1;
		value |=value >> 2;
		value |=value >> 4;
		value |=value >> 8;
		value |=value >> 16;
		value++;
		return value;
	}

	GlUtils.fillTranglesVB=function(vb,x,y,points,m,_x,_y){
		var vpos=(vb._byteLength >> 2)+points.length;
		vb.byteLength=(vpos << 2);
		var vbdata=vb.getFloat32Array();
		vpos-=points.length;
		var len=points.length;
		var a=m.a,b=m.b,c=m.c,d=m.d;
		for (var i=0;i < len;i+=4){
			vbdata[vpos+i+2]=points[i+2];
			vbdata[vpos+i+3]=points[i+3];
			if (a!==1 || b!==0 || c!==0 || d!==1){
				m._bTransform=true;
				var tx=m.tx+_x,ty=m.ty+_y;
				vbdata[vpos+i]=(points[i]+x)*a+(points[i+1]+y)*c+tx;
				vbdata[vpos+i+1]=(points[i]+x)*b+(points[i+1]+y)*d+ty;
			}
			else{
				m._bTransform=false;
				x+=m.tx+_x;
				y+=m.ty+_y;
				vbdata[vpos+i]=x+points[i];
				vbdata[vpos+i+1]=y+points[i+1];
			}
		}
		vb._upload=true;
		return true;
	}

	GlUtils._fillLineArray=new Array(20);
	return GlUtils;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/MatirxArray.as=======199.999028/199.999028
//class laya.webgl.utils.MatirxArray
var MatirxArray=(function(){
	function MatirxArray(){}
	__class(MatirxArray,'laya.webgl.utils.MatirxArray');
	MatirxArray.ArrayMul=function(a,b,o){
		if (!a){
			MatirxArray.copyArray(b,o);
			return;
		}
		if (!b){
			MatirxArray.copyArray(a,o);
			return;
		};
		var ai0=NaN,ai1=NaN,ai2=NaN,ai3=NaN;
		for (var i=0;i < 4;i++){
			ai0=a[i];
			ai1=a[i+4];
			ai2=a[i+8];
			ai3=a[i+12];
			o[i]=ai0 *b[0]+ai1 *b[1]+ai2 *b[2]+ai3 *b[3];
			o[i+4]=ai0 *b[4]+ai1 *b[5]+ai2 *b[6]+ai3 *b[7];
			o[i+8]=ai0 *b[8]+ai1 *b[9]+ai2 *b[10]+ai3 *b[11];
			o[i+12]=ai0 *b[12]+ai1 *b[13]+ai2 *b[14]+ai3 *b[15];
		}
	}

	MatirxArray.copyArray=function(f,t){
		if (!f)return;
		if (!t)return;
		for (var i=0;i < f.length;i++){
			t[i]=f[i];
		}
	}

	return MatirxArray;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/Mesh2D.as=======199.999027/199.999027
/**
*Mesh2d只是保存数据。描述attribute用的。本身不具有渲染功能。
*/
//class laya.webgl.utils.Mesh2D
var Mesh2D=(function(){
	function Mesh2D(stride,vballoc,iballoc){
		this._stride=0;
		//顶点结构大小。每个mesh的顶点结构是固定的。
		this.vertNum=0;
		//当前的顶点的个数
		this.indexNum=0;
		//实际index 个数。例如一个三角形是3个。由于ib本身可能超过实际使用的数量，所以需要一个indexNum
		this._applied=false;
		//是否已经设置给webgl了
		this._vb=null;
		//vb和ib都可能需要在外部修改，所以public
		this._ib=null;
		this._vao=null;
		this._attribInfo=null;
		//保存起来的属性定义数组。
		this._quadNum=0;
		//public static var meshlist:Array=[];//活着的mesh对象列表。
		this.canReuse=false;
		this._stride=stride;
		this._vb=new VertexBuffer2D(stride,0x88E8);
		if (vballoc){
			this._vb._resizeBuffer(vballoc,false);
			}else{
			Config.webGL2D_MeshAllocMaxMem && this._vb._resizeBuffer(64 *1024 *stride,false);
		}
		this._ib=new IndexBuffer2D();
		if (iballoc){
			this._ib._resizeBuffer(iballoc,false);
		}
	}

	__class(Mesh2D,'laya.webgl.utils.Mesh2D');
	var __proto=Mesh2D.prototype;
	/**
	*重新创建一个mesh。复用这个对象的vertex结构，ib对象和attribinfo对象
	*/
	__proto.cloneWithNewVB=function(){
		var mesh=new Mesh2D(this._stride,0,0);
		mesh._ib=this._ib;
		mesh._quadNum=this._quadNum;
		mesh._attribInfo=this._attribInfo;
		return mesh;
	}

	/**
	*创建一个mesh，使用当前对象的vertex结构。vb和ib自己提供。
	*@return
	*/
	__proto.cloneWithNewVBIB=function(){
		var mesh=new Mesh2D(this._stride,0,0);
		mesh._attribInfo=this._attribInfo;
		return mesh;
	}

	/**
	*获得一个可以写的vb对象
	*/
	__proto.getVBW=function(){
		this._vb.setNeedUpload();
		return this._vb;
	}

	/**
	*获得一个只读vb
	*/
	__proto.getVBR=function(){
		return this._vb;
	}

	__proto.getIBR=function(){
		return this._ib;
	}

	/**
	*获得一个可写的ib
	*/
	__proto.getIBW=function(){
		this._ib.setNeedUpload();
		return this._ib;
	}

	/**
	*直接创建一个固定的ib。按照固定四边形的索引。
	*@param var QuadNum
	*/
	__proto.createQuadIB=function(QuadNum){
		this._quadNum=QuadNum;
		this._ib._resizeBuffer(QuadNum *6 *2,false);
		this._ib.byteLength=this._ib.bufferLength;
		var bd=this._ib.getUint16Array();
		var idx=0;
		var curvert=0;
		for (var i=0;i < QuadNum;i++){
			bd[idx++]=curvert;
			bd[idx++]=curvert+2;
			bd[idx++]=curvert+1;
			bd[idx++]=curvert;
			bd[idx++]=curvert+3;
			bd[idx++]=curvert+2;
			curvert+=4;
		}
		this._ib.setNeedUpload();
	}

	/**
	*设置mesh的属性。每3个一组，对应的location分别是0,1,2...
	*含义是：type,size,offset
	*不允许多流。因此stride是固定的，offset只是在一个vertex之内。
	*@param attribs
	*/
	__proto.setAttributes=function(attribs){
		this._attribInfo=attribs;
		if (this._attribInfo.length % 3 !=0){
			throw 'Mesh2D setAttributes error!';
		}
	}

	/**
	*初始化VAO的配置，只需要执行一次。以后使用的时候直接bind就行
	*@param gl
	*/
	__proto.configVAO=function(gl){
		if (this._applied)
			return;
		this._applied=true;
		if (!this._vao){
			this._vao=gl.createVertexArray();;
		}
		WebGLContext.bindVertexArray(gl,this._vao);
		this._vb._bindForVAO();
		this._ib.setNeedUpload();
		this._ib._bind_uploadForVAO();
		var attribNum=this._attribInfo.length / 3;
		var idx=0;
		for (var i=0;i < attribNum;i++){
			var _size=this._attribInfo[idx+1];
			var _type=this._attribInfo[idx];
			var _off=this._attribInfo[idx+2];
			gl.enableVertexAttribArray(i);
			gl.vertexAttribPointer(i,_size,_type,false,this._stride,_off);
			idx+=3;
		}
		WebGLContext.bindVertexArray(gl,null);
	}

	/**
	*应用这个mesh
	*@param gl
	*/
	__proto.useMesh=function(gl){
		this._applied || this.configVAO(gl);
		var attribNum=this._attribInfo.length / 3;
		var bindedAttributeBuffer=Buffer._bindedAtributeBuffer;
		for (var i=0;i < attribNum;i++)
		(bindedAttributeBuffer[i])|| (gl.enableVertexAttribArray(i),bindedAttributeBuffer[i]=this._vb);
		WebGLContext.bindVertexArray(gl,this._vao);
		this._vb.bind();
		this._ib._bind_upload()|| this._ib.bind();
		this._vb._bind_upload()|| this._vb.bind();
	}

	__proto.getEleNum=function(){
		return this._ib.getBuffer().byteLength / 2;
	}

	/**
	*子类实现。用来把自己放到对应的回收池中，以便复用。
	*/
	__proto.releaseMesh=function(){}
	/**
	*释放资源。
	*/
	__proto.destroy=function(){}
	/**
	*清理vb数据
	*/
	__proto.clearVB=function(){
		this._vb.clear();
	}

	Mesh2D._gvaoid=0;
	return Mesh2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/RenderState2D.as=======199.999022/199.999022
//class laya.webgl.utils.RenderState2D
var RenderState2D=(function(){
	function RenderState2D(){}
	__class(RenderState2D,'laya.webgl.utils.RenderState2D');
	RenderState2D.mat2MatArray=function(mat,matArray){
		var m=mat;
		var m4=matArray;
		m4[0]=m.a;
		m4[1]=m.b;
		m4[2]=RenderState2D.EMPTYMAT4_ARRAY[2];
		m4[3]=RenderState2D.EMPTYMAT4_ARRAY[3];
		m4[4]=m.c;
		m4[5]=m.d;
		m4[6]=RenderState2D.EMPTYMAT4_ARRAY[6];
		m4[7]=RenderState2D.EMPTYMAT4_ARRAY[7];
		m4[8]=RenderState2D.EMPTYMAT4_ARRAY[8];
		m4[9]=RenderState2D.EMPTYMAT4_ARRAY[9];
		m4[10]=RenderState2D.EMPTYMAT4_ARRAY[10];
		m4[11]=RenderState2D.EMPTYMAT4_ARRAY[11];
		m4[12]=m.tx;
		m4[13]=m.ty;
		m4[14]=RenderState2D.EMPTYMAT4_ARRAY[14];
		m4[15]=RenderState2D.EMPTYMAT4_ARRAY[15];
		return matArray;
	}

	RenderState2D.restoreTempArray=function(){
		RenderState2D.TEMPMAT4_ARRAY[0]=1;
		RenderState2D.TEMPMAT4_ARRAY[1]=0;
		RenderState2D.TEMPMAT4_ARRAY[4]=0;
		RenderState2D.TEMPMAT4_ARRAY[5]=1;
		RenderState2D.TEMPMAT4_ARRAY[12]=0;
		RenderState2D.TEMPMAT4_ARRAY[13]=0;
	}

	RenderState2D.clear=function(){
		RenderState2D.worldScissorTest=false;
		RenderState2D.worldAlpha=1;
	}

	RenderState2D._MAXSIZE=99999999;
	RenderState2D.EMPTYMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
	RenderState2D.TEMPMAT4_ARRAY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];
	RenderState2D.worldMatrix4=RenderState2D.TEMPMAT4_ARRAY;
	RenderState2D.worldAlpha=1.0;
	RenderState2D.worldScissorTest=false;
	RenderState2D.width=0;
	RenderState2D.height=0;
	__static(RenderState2D,
	['worldMatrix',function(){return this.worldMatrix=new Matrix();}
	]);
	return RenderState2D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/WebGL.as=======199.999020/199.999020
/**
*@private
*/
//class laya.webgl.WebGL
var WebGL=(function(){
	function WebGL(){}
	__class(WebGL,'laya.webgl.WebGL');
	WebGL._uint8ArraySlice=function(){
		var _this=this;
		var sz=_this.length;
		var dec=new Uint8Array(_this.length);
		for (var i=0;i < sz;i++)dec[i]=_this[i];
		return dec;
	}

	WebGL._float32ArraySlice=function(){
		var _this=this;
		var sz=_this.length;
		var dec=new Float32Array(_this.length);
		for (var i=0;i < sz;i++)dec[i]=_this[i];
		return dec;
	}

	WebGL._uint16ArraySlice=function(__arg){
		var arg=arguments;
		var _this=this;
		var sz=0;
		var dec;
		var i=0;
		if (arg.length===0){
			sz=_this.length;
			dec=new Uint16Array(sz);
			for (i=0;i < sz;i++)
			dec[i]=_this[i];
			}else if (arg.length===2){
			var start=arg[0];
			var end=arg[1];
			if (end > start){
				sz=end-start;
				dec=new Uint16Array(sz);
				for (i=start;i < end;i++)
				dec[i-start]=_this[i];
				}else {
				dec=new Uint16Array(0);
			}
		}
		return dec;
	}

	WebGL.expandContext=function(){
		var from=Context.prototype;
		var to=CanvasRenderingContext2D.prototype;
		to.fillTrangles=from.fillTrangles;
		Buffer2D.__int__(null);
		to.setIBVB=function (x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex,offset){
			(startIndex===void 0)&& (startIndex=0);
			(offset===void 0)&& (offset=0);
			if (ib===null){
				this._ib=this._ib || IndexBuffer2D.QuadrangleIB;
				ib=this._ib;
				GlUtils.expandIBQuadrangle(ib,(vb.byteLength / (4 *16)+8));
			}
			this._setIBVB(x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex,offset);
		};
		to.fillTrangles=function (tex,x,y,points,m){
			this._curMat=this._curMat || Matrix.create();
			this._vb=this._vb || VertexBuffer2D.create();
			if (!this._ib){
				this._ib=IndexBuffer2D.create();
				GlUtils.fillIBQuadrangle(this._ib,length / 4);
			};
			var vb=this._vb;
			var length=points.length >> 4;
			GlUtils.fillTranglesVB(vb,x,y,points,m || this._curMat,0,0);
			GlUtils.expandIBQuadrangle(this._ib,(vb.byteLength / (4 *16)+8));
			var shaderValues=new Value2D(0x01,0);
			shaderValues.textureHost=tex;
			var sd=new Shader2X("attribute vec2 position; attribute vec2 texcoord; uniform vec2 size; uniform mat4 mmat; varying vec2 v_texcoord; void main() { vec4 p=vec4(position.xy,0.0,1.0);vec4 pos=mmat*p; gl_Position =vec4((pos.x/size.x-0.5)*2.0,(0.5-pos.y/size.y)*2.0,pos.z,1.0); v_texcoord = texcoord; }","precision mediump float; varying vec2 v_texcoord; uniform sampler2D texture; void main() {vec4 color= texture2D(texture, v_texcoord); color.a*=1.0; gl_FragColor= color;}");
			vb._vertType=3;
			this._setIBVB(x,y,this._ib,vb,length *6,m,sd,shaderValues,0,0);
		}
	}

	WebGL.enable=function(){
		Browser.__init__();
		if (Render.isConchApp){
			HTMLImage.create=function (src,def){
				return new Texture2D(1,true,false);
			};
			var baseTexture=BaseTexture;
			baseTexture.prototype._getGLFormat=baseTexture.prototype._getGLFormatForNative;
			WebGLContext.__init_native();
			RenderState2D.width=Browser.window.innerWidth;
			RenderState2D.height=Browser.window.innerHeight;
			return true;
		}
		function getWebGLContext (canvas){
			var gl;
			var names=["webgl2","webgl","experimental-webgl","webkit-3d","moz-webgl"];
			if (!Config.useWebGL2){
				names.shift();
			}
			for (var i=0;i < names.length;i++){
				try {
					gl=canvas.getContext(names[i],{stencil:Config.isStencil,alpha:Config.isAlpha,antialias:Config.isAntialias,premultipliedAlpha:Config.premultipliedAlpha,preserveDrawingBuffer:Config.preserveDrawingBuffer});
				}catch (e){}
				if (gl){
					(names[i]==='webgl2')&& (laya.webgl.WebGL._isWebGL2=true);
					(i >=2)&& (WebGL._isExperimentalWebgl=true);
					new LayaGL(gl);
					return gl;
				}
			}
			return null;
		}
		WebGL.mainContext=getWebGLContext(Render._mainCanvas);
		if (WebGL.mainContext==null)
			return false;
		if (Render.isWebGL)return true;
		var gl=WebGL.mainContext;
		WebGLContext.__init__(gl);
		if(!laya.webgl.WebGL._isWebGL2){
			if (!(gl instanceof WebGLRenderingContext)){
				ext=gl.rawgl.getExtension("OES_vertex_array_object");
				}else{
				var ext=gl.getExtension("OES_vertex_array_object");
			}
			if (ext){
				console.log("EXT:webgl support OES_vertex_array_object！");
				gl.createVertexArray=function(){return ext.createVertexArrayOES();};
				gl.bindVertexArray=function(vao){ext.bindVertexArrayOES(vao);};
				}else {
				gl.createVertexArray=function(){throw "not implemented";};;
				gl.bindVertexArray=function(){throw "not implemented";};;
			}
		}
		HTMLImage.create=function (src,def){
			return new Texture2D(1,true,false);
		}
		Render.WebGL=WebGL;
		Render.isWebGL=true;
		RunDriver.createRenderSprite=function (type,next){
			return new RenderSprite3D(type,next);
		}
		RunDriver.createWebGLContext2D=function (c){
			return new WebGLContext2D(c);
		}
		RunDriver.changeWebGLSize=function (width,height){
			laya.webgl.WebGL.onStageResize(width,height);
		}
		RunDriver.createGraphics=function (){
			return new GraphicsGL();
		};
		var action=RunDriver.createFilterAction;
		RunDriver.createFilterAction=action ? action :function (type){
			return new ColorFilterActionGL()
		}
		RunDriver.clear=function (color){
			RenderState2D.worldScissorTest && laya.webgl.WebGL.mainContext.disable(0x0C11);
			var ctx=Render.context;
			var c=(ctx._submits._length==0 || Config.preserveDrawingBuffer)? Color$1.create(color).arrColor :Laya.stage._wgColor;
			if (c)ctx.clearBG(c[0],c[1],c[2],c[3]);
			RenderState2D.clear();
		}
		RunDriver.drawToCanvas=function (sprite,_renderType,canvasWidth,canvasHeight,offsetX,offsetY){
			debugger;
		}
		RunDriver.createFilterAction=function (type){
			var action;
			switch (type){
				case 0x20:
					action=new ColorFilterActionGL();
					break ;
				}
			return action;
		}
		RunDriver.getTexturePixels=function (value,x,y,width,height){
			(Render.context).clear();
			var tSprite=new Sprite();
			tSprite.graphics.drawImage(value,-x,-y);
			var tRenderTarget=laya.webgl.resource.RenderTarget2D.create(width,height);
			tRenderTarget.start();
			tRenderTarget.clear(0,0,0,0);
			tSprite.render(Render.context,0,0);
			(Render.context).flush();
			tRenderTarget.end();
			var tUint8Array=tRenderTarget.getData(0,0,width,height);
			var tArray=[];
			var tIndex=0;
			for (var i=height-1;i >=0;i--){
				for (var j=0;j < width;j++){
					tIndex=(i *width+j)*4;
					tArray.push(tUint8Array[tIndex]);
					tArray.push(tUint8Array[tIndex+1]);
					tArray.push(tUint8Array[tIndex+2]);
					tArray.push(tUint8Array[tIndex+3]);
				}
			}
			return tArray;
		}
		RunDriver.skinAniSprite=function (){
			var tSkinSprite=new SkinMesh()
			return tSkinSprite;
		}
		Filter._recycleScope=function (scope){
			scope.recycle();
		}
		Filter._filter2=function (sprite,context,x,y){
			var next=this._next;
			if (next){
				var filters=sprite.filters,len=filters.length;
				if (len==1 && (filters[0].type==0x20)){
					context.save();
					context.setFilters([filters[0]]);
					next._fun.call(next,sprite,context,x,y);
					context.restore();
					return;
				};
				var mainCtx=context;
				var mainSubmits=mainCtx._submits;
				var sp=sprite;
				var spctx=sp._cacheStyle.canvas.context;
				var tMatrix=context._getTransformMatrix();
				var out=sprite._$P._filterCache ? sprite._$P._filterCache :null;
				if (!out || sprite._repaint){
					var bbx=sprite.getSelfBounds();
					var rtw=bbx.width,rth=bbx.height;
					var temp=WebGLRTMgr.getRT(rtw,rth);
					var tHalfPadding=0;
					var tX=sprite.x-x+tHalfPadding;
					var tY=sprite.y-y+tHalfPadding;
					next._fun.call(next,sprite,context,tX,tY);
					sprite._set$P('_filterCache',out);
				}else {}
			}
		}
		Filter._filter=function (sprite,context,x,y){
			var next=this._next;
			if (next){
				var filters=sprite.filters,len=filters.length;
				if (len==1 && (filters[0].type==0x20)){
					context.save();
					context.setFilters([filters[0]]);
					next._fun.call(next,sprite,context,x,y);
					context.restore();
					return;
				};
				var shaderValue;
				var b;
				var scope=SubmitCMDScope.create();
				var p=Point.TEMP;
				var tMatrix=context._getTransformMatrix();
				var mat=Matrix.create();
				tMatrix.copyTo(mat);
				var tPadding=0;
				var tHalfPadding=0;
				var tIsHaveGlowFilter=false;
				var out=sprite._$P._filterCache ? sprite._$P._filterCache :null;
				if (!out || sprite._repaint){
					tIsHaveGlowFilter=sprite._isHaveGlowFilter();
					scope.addValue("_isHaveGlowFilter",tIsHaveGlowFilter);
					if (tIsHaveGlowFilter){
						tPadding=50;
						tHalfPadding=25;
					}
					b=new Rectangle();
					b.copyFrom((sprite).getSelfBounds());
					b.x+=(sprite).x;
					b.y+=(sprite).y;
					b.x-=(sprite).pivotX+4;
					b.y-=(sprite).pivotY+4;
					var tSX=b.x;
					var tSY=b.y;
					b.width+=(tPadding+8);
					b.height+=(tPadding+8);
					p.x=b.x *mat.a+b.y *mat.c;
					p.y=b.y *mat.d+b.x *mat.b;
					b.x=p.x;
					b.y=p.y;
					p.x=b.width *mat.a+b.height *mat.c;
					p.y=b.height *mat.d+b.width *mat.b;
					b.width=p.x;
					b.height=p.y;
					if (b.width <=0 || b.height <=0){
						return;
					}
					out && WebGLRTMgr.releaseRT(out);
					scope.addValue("bounds",b);
					var source=WebGLRTMgr.getRT(b.width,b.height);
					scope.addValue("src",source);
					var outRT=WebGLRTMgr.getRT(b.width,b.height);
					scope.addValue("out",outRT);
					sprite._set$P('_filterCache',out);
					var webglctx=context;
					webglctx.pushRT();
					webglctx.useRT(source);
					var tX=sprite.x-tSX+tHalfPadding;
					var tY=sprite.y-tSY+tHalfPadding;
					next._fun.call(next,sprite,context,tX,tY);
					webglctx.useRT(outRT);
					for (var i=0;i < len;i++){
						if (i !=0){
							webglctx.useRT(source);
							shaderValue=Value2D.create(0x01,0);
							Matrix.TEMP.identity();
							webglctx.drawTarget(scope,0,0,b.width,b.height,Matrix.TEMP,"out",shaderValue,null,BlendMode.TOINT.overlay);
							webglctx.useRT(outRT);
						};
						var fil=filters[i];
						fil.action.apply3d(scope,sprite,context,0,0);
					}
					webglctx.popRT();
					}else {
					tIsHaveGlowFilter=sprite._$P._isHaveGlowFilter ? sprite._$P._isHaveGlowFilter :false;
					if (tIsHaveGlowFilter){
						tPadding=50;
						tHalfPadding=25;
					}
					b=sprite.getBounds();
					if (b.width <=0 || b.height <=0){
						return;
					}
					b.width+=tPadding;
					b.height+=tPadding;
					p.x=b.x *mat.a+b.y *mat.c;
					p.y=b.y *mat.d+b.x *mat.b;
					b.x=p.x;
					b.y=p.y;
					p.x=b.width *mat.a+b.height *mat.c;
					p.y=b.height *mat.d+b.width *mat.b;
					b.width=p.x;
					b.height=p.y;
					scope.addValue("out",out);
				}
				x=x-tHalfPadding-sprite.x;
				y=y-tHalfPadding-sprite.y;
				p.setTo(x,y);
				mat.transformPoint(p);
				x=p.x+b.x;
				y=p.y+b.y;
				shaderValue=Value2D.create(0x01,0);
				Matrix.TEMP.identity();
				webglctx._drawRenderTexture(outRT,x,y,b.width,b.height,Matrix.TEMP,1.0,RenderTexture2D.defuv);
				var submit=SubmitCMD.create([scope],Filter._recycleScope);
				context.addRenderObject(submit);
				mat.destroy();
			}
		}
		Float32Array.prototype.slice || (Float32Array.prototype.slice=WebGL._float32ArraySlice);
		Uint16Array.prototype.slice || (Uint16Array.prototype.slice=WebGL._uint16ArraySlice);
		Uint8Array.prototype.slice || (Uint8Array.prototype.slice=WebGL._uint8ArraySlice);
		return true;
	}

	WebGL.onStageResize=function(width,height){
		RenderState2D.width=width;
		RenderState2D.height=height;
		if (WebGL.mainContext==null)return;
		WebGL.mainContext.viewport(0,0,width,height);
	}

	WebGL.isExperimentalWebgl=function(){
		return WebGL._isExperimentalWebgl;
	}

	WebGL.onInvalidGLRes=function(){
		ResourceManager.releaseContentManagers(true);
		WebGL.doNodeRepaint(Laya.stage);
		WebGL.mainContext.viewport(0,0,RenderState2D.width,RenderState2D.height);
		Laya.stage.event("devicelost");
	}

	WebGL.doNodeRepaint=function(sprite){
		(sprite.numChildren==0)&& (sprite.repaint());
		for (var i=0;i < sprite.numChildren;i++)
		WebGL.doNodeRepaint(sprite.getChildAt(i));
	}

	WebGL.init=function(canvas,width,height){
		WebGL.mainCanvas=canvas;
		HTMLCanvas._createContext=function (canvas){
			return new WebGLContext2D(canvas);
		}
		WebGL._isExperimentalWebgl=(WebGL._isExperimentalWebgl && (Browser.onWeiXin || Browser.onMQQBrowser));
		WebGL.shaderHighPrecision=false;
		var gl=laya.webgl.WebGL.mainContext;
		try {
			var precisionFormat=gl.getShaderPrecisionFormat(0x8B30,0x8DF2);
			precisionFormat.precision ? WebGL.shaderHighPrecision=true :WebGL.shaderHighPrecision=false;
		}catch (e){}
		gl.deleteTexture1=gl.deleteTexture;
		gl.deleteTexture=function (t){
			if (t==WebGLContext.curBindTexValue){
				WebGLContext.curBindTexValue=null;
			}
			gl.deleteTexture1(t);
		}
		WebGL.onStageResize(width,height);
		if (WebGL.mainContext==null)
			throw new Error("webGL getContext err!");
		LayaGL.instance=WebGL.mainContext;
		System.__init__();
		ShaderDefines2D.__init__();
		Submit.__init__();
		WebGLContext2D.__init__();
		Value2D.__init__();
		Shader2D.__init__();
		Buffer2D.__int__(gl);
		BlendMode._init_(gl);
	}

	WebGL.mainCanvas=null;
	WebGL.mainContext=null;
	WebGL.antialias=true;
	WebGL.shaderHighPrecision=false;
	WebGL._bg_null=[0,0,0,0];
	WebGL._isExperimentalWebgl=false;
	WebGL._isWebGL2=false;
	return WebGL;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/WebGLContext.as=======199.999019/199.999019
//class laya.webgl.WebGLContext
var WebGLContext=(function(){
	function WebGLContext(){}
	__class(WebGLContext,'laya.webgl.WebGLContext');
	var __proto=WebGLContext.prototype;
	__proto.getContextAttributes=function(){return null;}
	__proto.isContextLost=function(){}
	__proto.getSupportedExtensions=function(){return null;}
	__proto.getExtension=function(name){return null;}
	__proto.activeTexture=function(texture){}
	__proto.attachShader=function(program,shader){}
	__proto.bindAttribLocation=function(program,index,name){}
	__proto.bindBuffer=function(target,buffer){}
	__proto.bindFramebuffer=function(target,framebuffer){}
	__proto.bindRenderbuffer=function(target,renderbuffer){}
	__proto.bindTexture=function(target,texture){}
	__proto.useTexture=function(value){}
	__proto.blendColor=function(red,green,blue,alpha){}
	__proto.blendEquation=function(mode){}
	__proto.blendEquationSeparate=function(modeRGB,modeAlpha){}
	__proto.blendFunc=function(sfactor,dfactor){}
	__proto.blendFuncSeparate=function(srcRGB,dstRGB,srcAlpha,dstAlpha){}
	__proto.bufferData=function(target,size,usage){}
	__proto.bufferSubData=function(target,offset,data){}
	__proto.checkFramebufferStatus=function(target){return null;}
	__proto.clear=function(mask){}
	__proto.clearColor=function(red,green,blue,alpha){}
	__proto.clearDepth=function(depth){}
	__proto.clearStencil=function(s){}
	__proto.colorMask=function(red,green,blue,alpha){}
	__proto.compileShader=function(shader){}
	__proto.copyTexImage2D=function(target,level,internalformat,x,y,width,height,border){}
	__proto.copyTexSubImage2D=function(target,level,xoffset,yoffset,x,y,width,height){}
	__proto.createBuffer=function(){}
	__proto.createFramebuffer=function(){}
	__proto.createProgram=function(){}
	__proto.createRenderbuffer=function(){}
	__proto.createShader=function(type){}
	__proto.createTexture=function(){return null}
	__proto.cullFace=function(mode){}
	__proto.deleteBuffer=function(buffer){}
	__proto.deleteFramebuffer=function(framebuffer){}
	__proto.deleteProgram=function(program){}
	__proto.deleteRenderbuffer=function(renderbuffer){}
	__proto.deleteShader=function(shader){}
	__proto.deleteTexture=function(texture){}
	__proto.depthFunc=function(func){}
	__proto.depthMask=function(flag){}
	__proto.depthRange=function(zNear,zFar){}
	__proto.detachShader=function(program,shader){}
	__proto.disable=function(cap){}
	__proto.disableVertexAttribArray=function(index){}
	__proto.drawArrays=function(mode,first,count){}
	__proto.drawElements=function(mode,count,type,offset){}
	__proto.enable=function(cap){}
	__proto.enableVertexAttribArray=function(index){}
	__proto.finish=function(){}
	__proto.flush=function(){}
	__proto.framebufferRenderbuffer=function(target,attachment,renderbuffertarget,renderbuffer){}
	__proto.framebufferTexture2D=function(target,attachment,textarget,texture,level){}
	__proto.frontFace=function(mode){return null;}
	__proto.generateMipmap=function(target){return null;}
	__proto.getActiveAttrib=function(program,index){return null;}
	__proto.getActiveUniform=function(program,index){return null;}
	__proto.getAttribLocation=function(program,name){return 0;}
	__proto.getParameter=function(pname){return null;}
	__proto.getBufferParameter=function(target,pname){return null;}
	__proto.getError=function(){return null;}
	__proto.getFramebufferAttachmentParameter=function(target,attachment,pname){}
	__proto.getProgramParameter=function(program,pname){return 0;}
	__proto.getProgramInfoLog=function(program){return null;}
	__proto.getRenderbufferParameter=function(target,pname){return null;}
	__proto.getShaderPrecisionFormat=function(__arg){
		var arg=arguments;return null;}
	__proto.getShaderParameter=function(shader,pname){}
	__proto.getShaderInfoLog=function(shader){return null;}
	__proto.getShaderSource=function(shader){return null;}
	__proto.getTexParameter=function(target,pname){}
	__proto.getUniform=function(program,location){}
	__proto.getUniformLocation=function(program,name){return null;}
	__proto.getVertexAttrib=function(index,pname){return null;}
	__proto.getVertexAttribOffset=function(index,pname){return null;}
	__proto.hint=function(target,mode){}
	__proto.isBuffer=function(buffer){}
	__proto.isEnabled=function(cap){}
	__proto.isFramebuffer=function(framebuffer){}
	__proto.isProgram=function(program){}
	__proto.isRenderbuffer=function(renderbuffer){}
	__proto.isShader=function(shader){}
	__proto.isTexture=function(texture){}
	__proto.lineWidth=function(width){}
	__proto.linkProgram=function(program){}
	__proto.pixelStorei=function(pname,param){}
	__proto.polygonOffset=function(factor,units){}
	__proto.readPixels=function(x,y,width,height,format,type,pixels){}
	__proto.renderbufferStorage=function(target,internalformat,width,height){}
	__proto.sampleCoverage=function(value,invert){}
	__proto.scissor=function(x,y,width,height){}
	__proto.shaderSource=function(shader,source){}
	__proto.stencilFunc=function(func,ref,mask){}
	__proto.stencilFuncSeparate=function(face,func,ref,mask){}
	__proto.stencilMask=function(mask){}
	__proto.stencilMaskSeparate=function(face,mask){}
	__proto.stencilOp=function(fail,zfail,zpass){}
	__proto.stencilOpSeparate=function(face,fail,zfail,zpass){}
	__proto.texImage2D=function(__args){}
	__proto.texParameterf=function(target,pname,param){}
	__proto.texParameteri=function(target,pname,param){}
	__proto.texSubImage2D=function(__args){}
	__proto.uniform1f=function(location,x){}
	__proto.uniform1fv=function(location,v){}
	__proto.uniform1i=function(location,x){}
	__proto.uniform1iv=function(location,v){}
	__proto.uniform2f=function(location,x,y){}
	__proto.uniform2fv=function(location,v){}
	__proto.uniform2i=function(location,x,y){}
	__proto.uniform2iv=function(location,v){}
	__proto.uniform3f=function(location,x,y,z){}
	__proto.uniform3fv=function(location,v){}
	__proto.uniform3i=function(location,x,y,z){}
	__proto.uniform3iv=function(location,v){}
	__proto.uniform4f=function(location,x,y,z,w){}
	__proto.uniform4fv=function(location,v){}
	__proto.uniform4i=function(location,x,y,z,w){}
	__proto.uniform4iv=function(location,v){}
	__proto.uniformMatrix2fv=function(location,transpose,value){}
	__proto.uniformMatrix3fv=function(location,transpose,value){}
	__proto.uniformMatrix4fv=function(location,transpose,value){}
	__proto.useProgram=function(program){}
	__proto.validateProgram=function(program){}
	__proto.vertexAttrib1f=function(indx,x){}
	__proto.vertexAttrib1fv=function(indx,values){}
	__proto.vertexAttrib2f=function(indx,x,y){}
	__proto.vertexAttrib2fv=function(indx,values){}
	__proto.vertexAttrib3f=function(indx,x,y,z){}
	__proto.vertexAttrib3fv=function(indx,values){}
	__proto.vertexAttrib4f=function(indx,x,y,z,w){}
	__proto.vertexAttrib4fv=function(indx,values){}
	__proto.vertexAttribPointer=function(indx,size,type,normalized,stride,offset){}
	__proto.viewport=function(x,y,width,height){}
	__proto.configureBackBuffer=function(width,height,antiAlias,enableDepthAndStencil,wantsBestResolution){
		(enableDepthAndStencil===void 0)&& (enableDepthAndStencil=true);
		(wantsBestResolution===void 0)&& (wantsBestResolution=false);
	}

	__proto.compressedTexImage2D=function(__args){}
	WebGLContext.__init__=function(gl){
		WebGLContext.__init_native();
		WebGLContext.extTextureFilterAnisotropic=(gl.getExtension('EXT_texture_filter_anisotropic')|| gl.getExtension('MOZ_EXT_texture_filter_anisotropic')|| gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic'));
	}

	WebGLContext.__init_native=function(){
		if (!Render.isConchApp)return;
		laya.webgl.WebGLContext.useProgram=laya.webgl.WebGLContext.useProgramForNative;
		laya.webgl.WebGLContext.activeTexture=laya.webgl.WebGLContext.activeTextureForNative;
		laya.webgl.WebGLContext.bindTexture=laya.webgl.WebGLContext.bindTextureForNative;
		laya.webgl.WebGLContext.bindVertexArray=laya.webgl.WebGLContext.bindVertexArrayForNative;
		laya.webgl.WebGLContext.setDepthTest=laya.webgl.WebGLContext.setDepthTestForNative;
		laya.webgl.WebGLContext.setDepthMask=laya.webgl.WebGLContext.setDepthMaskForNative;
		laya.webgl.WebGLContext.setDepthFunc=laya.webgl.WebGLContext.setDepthFuncForNative;
		laya.webgl.WebGLContext.setBlend=laya.webgl.WebGLContext.setBlendForNative;
		laya.webgl.WebGLContext.setBlendFunc=laya.webgl.WebGLContext.setBlendFuncForNative;
		laya.webgl.WebGLContext.setCullFace=laya.webgl.WebGLContext.setCullFaceForNative;
		laya.webgl.WebGLContext.setFrontFace=laya.webgl.WebGLContext.setFrontFaceForNative;
	}

	WebGLContext.useProgram=function(gl,program){
		if (WebGLContext._useProgram===program)
			return false;
		gl.useProgram(program);
		WebGLContext._useProgram=program;
		return true;
	}

	WebGLContext.setDepthTest=function(gl,value){
		value!==WebGLContext._depthTest && (WebGLContext._depthTest=value,value?gl.enable(0x0B71):gl.disable(0x0B71));
	}

	WebGLContext.setDepthMask=function(gl,value){
		value!==WebGLContext._depthMask && (WebGLContext._depthMask=value,gl.depthMask(value));
	}

	WebGLContext.setDepthFunc=function(gl,value){
		value!==WebGLContext._depthFunc && (WebGLContext._depthFunc=value,gl.depthFunc(value));
	}

	WebGLContext.setBlend=function(gl,value){
		value!==WebGLContext._blend && (WebGLContext._blend=value,value?gl.enable(0x0BE2):gl.disable(0x0BE2));
	}

	WebGLContext.setBlendFunc=function(gl,sFactor,dFactor){
		(sFactor!==WebGLContext._sFactor||dFactor!==WebGLContext._dFactor)&& (WebGLContext._sFactor=sFactor,WebGLContext._dFactor=dFactor,gl.blendFunc(sFactor,dFactor));
	}

	WebGLContext.setCullFace=function(gl,value){
		value!==WebGLContext._cullFace && (WebGLContext._cullFace=value,value?gl.enable(0x0B44):gl.disable(0x0B44));
	}

	WebGLContext.setFrontFace=function(gl,value){
		value!==WebGLContext._frontFace && (WebGLContext._frontFace=value,gl.frontFace(value));
	}

	WebGLContext.activeTexture=function(gl,textureID){
		if (WebGLContext._activedTextureID!==textureID){
			gl.activeTexture(textureID);
			WebGLContext._activedTextureID=textureID;
		}
	}

	WebGLContext.bindTexture=function(gl,target,texture){
		if (WebGLContext._activeTextures[WebGLContext._activedTextureID-0x84C0]!==texture){
			gl.bindTexture(target,texture);
			WebGLContext._activeTextures[WebGLContext._activedTextureID-0x84C0]=texture;
		}
	}

	WebGLContext.bindVertexArray=function(gl,vertexArray){
		if (WebGLContext._bindedVAO!==vertexArray){
			gl.bindVertexArray(vertexArray);
			WebGLContext._bindedVAO=vertexArray;
		}
	}

	WebGLContext.useProgramForNative=function(gl,program){
		gl.useProgram(program);
		return true;
	}

	WebGLContext.setDepthTestForNative=function(gl,value){
		if (value)gl.enable(0x0B71);
		else gl.disable(0x0B71);
	}

	WebGLContext.setDepthMaskForNative=function(gl,value){
		gl.depthMask(value);
	}

	WebGLContext.setDepthFuncForNative=function(gl,value){
		gl.depthFunc(value);
	}

	WebGLContext.setBlendForNative=function(gl,value){
		if (value)gl.enable(0x0BE2);
		else gl.disable(0x0BE2);
	}

	WebGLContext.setBlendFuncForNative=function(gl,sFactor,dFactor){
		gl.blendFunc(sFactor,dFactor);
	}

	WebGLContext.setCullFaceForNative=function(gl,value){
		if (value)gl.enable(0x0B44)
			else gl.disable(0x0B44);
	}

	WebGLContext.setFrontFaceForNative=function(gl,value){
		gl.frontFace(value);
	}

	WebGLContext.activeTextureForNative=function(gl,textureID){
		gl.activeTexture(textureID);
	}

	WebGLContext.bindTextureForNative=function(gl,target,texture){
		gl.bindTexture(target,texture);
	}

	WebGLContext.bindVertexArrayForNative=function(gl,vertexArray){
		gl.bindVertexArray(vertexArray);
	}

	WebGLContext.DEPTH_BUFFER_BIT=0x00000100;
	WebGLContext.STENCIL_BUFFER_BIT=0x00000400;
	WebGLContext.COLOR_BUFFER_BIT=0x00004000;
	WebGLContext.POINTS=0x0000;
	WebGLContext.LINES=0x0001;
	WebGLContext.LINE_LOOP=0x0002;
	WebGLContext.LINE_STRIP=0x0003;
	WebGLContext.TRIANGLES=0x0004;
	WebGLContext.TRIANGLE_STRIP=0x0005;
	WebGLContext.TRIANGLE_FAN=0x0006;
	WebGLContext.ZERO=0;
	WebGLContext.ONE=1;
	WebGLContext.SRC_COLOR=0x0300;
	WebGLContext.ONE_MINUS_SRC_COLOR=0x0301;
	WebGLContext.SRC_ALPHA=0x0302;
	WebGLContext.ONE_MINUS_SRC_ALPHA=0x0303;
	WebGLContext.DST_ALPHA=0x0304;
	WebGLContext.ONE_MINUS_DST_ALPHA=0x0305;
	WebGLContext.DST_COLOR=0x0306;
	WebGLContext.ONE_MINUS_DST_COLOR=0x0307;
	WebGLContext.SRC_ALPHA_SATURATE=0x0308;
	WebGLContext.FUNC_ADD=0x8006;
	WebGLContext.BLEND_EQUATION=0x8009;
	WebGLContext.BLEND_EQUATION_RGB=0x8009;
	WebGLContext.BLEND_EQUATION_ALPHA=0x883D;
	WebGLContext.FUNC_SUBTRACT=0x800A;
	WebGLContext.FUNC_REVERSE_SUBTRACT=0x800B;
	WebGLContext.BLEND_DST_RGB=0x80C8;
	WebGLContext.BLEND_SRC_RGB=0x80C9;
	WebGLContext.BLEND_DST_ALPHA=0x80CA;
	WebGLContext.BLEND_SRC_ALPHA=0x80CB;
	WebGLContext.CONSTANT_COLOR=0x8001;
	WebGLContext.ONE_MINUS_CONSTANT_COLOR=0x8002;
	WebGLContext.CONSTANT_ALPHA=0x8003;
	WebGLContext.ONE_MINUS_CONSTANT_ALPHA=0x8004;
	WebGLContext.BLEND_COLOR=0x8005;
	WebGLContext.ARRAY_BUFFER=0x8892;
	WebGLContext.ELEMENT_ARRAY_BUFFER=0x8893;
	WebGLContext.ARRAY_BUFFER_BINDING=0x8894;
	WebGLContext.ELEMENT_ARRAY_BUFFER_BINDING=0x8895;
	WebGLContext.STREAM_DRAW=0x88E0;
	WebGLContext.STATIC_DRAW=0x88E4;
	WebGLContext.DYNAMIC_DRAW=0x88E8;
	WebGLContext.BUFFER_SIZE=0x8764;
	WebGLContext.BUFFER_USAGE=0x8765;
	WebGLContext.CURRENT_VERTEX_ATTRIB=0x8626;
	WebGLContext.FRONT=0x0404;
	WebGLContext.BACK=0x0405;
	WebGLContext.CULL_FACE=0x0B44;
	WebGLContext.FRONT_AND_BACK=0x0408;
	WebGLContext.BLEND=0x0BE2;
	WebGLContext.DITHER=0x0BD0;
	WebGLContext.STENCIL_TEST=0x0B90;
	WebGLContext.DEPTH_TEST=0x0B71;
	WebGLContext.SCISSOR_TEST=0x0C11;
	WebGLContext.POLYGON_OFFSET_FILL=0x8037;
	WebGLContext.SAMPLE_ALPHA_TO_COVERAGE=0x809E;
	WebGLContext.SAMPLE_COVERAGE=0x80A0;
	WebGLContext.NO_ERROR=0;
	WebGLContext.INVALID_ENUM=0x0500;
	WebGLContext.INVALID_VALUE=0x0501;
	WebGLContext.INVALID_OPERATION=0x0502;
	WebGLContext.OUT_OF_MEMORY=0x0505;
	WebGLContext.CW=0x0900;
	WebGLContext.CCW=0x0901;
	WebGLContext.LINE_WIDTH=0x0B21;
	WebGLContext.ALIASED_POINT_SIZE_RANGE=0x846D;
	WebGLContext.ALIASED_LINE_WIDTH_RANGE=0x846E;
	WebGLContext.CULL_FACE_MODE=0x0B45;
	WebGLContext.FRONT_FACE=0x0B46;
	WebGLContext.DEPTH_RANGE=0x0B70;
	WebGLContext.DEPTH_WRITEMASK=0x0B72;
	WebGLContext.DEPTH_CLEAR_VALUE=0x0B73;
	WebGLContext.DEPTH_FUNC=0x0B74;
	WebGLContext.STENCIL_CLEAR_VALUE=0x0B91;
	WebGLContext.STENCIL_FUNC=0x0B92;
	WebGLContext.STENCIL_FAIL=0x0B94;
	WebGLContext.STENCIL_PASS_DEPTH_FAIL=0x0B95;
	WebGLContext.STENCIL_PASS_DEPTH_PASS=0x0B96;
	WebGLContext.STENCIL_REF=0x0B97;
	WebGLContext.STENCIL_VALUE_MASK=0x0B93;
	WebGLContext.STENCIL_WRITEMASK=0x0B98;
	WebGLContext.STENCIL_BACK_FUNC=0x8800;
	WebGLContext.STENCIL_BACK_FAIL=0x8801;
	WebGLContext.STENCIL_BACK_PASS_DEPTH_FAIL=0x8802;
	WebGLContext.STENCIL_BACK_PASS_DEPTH_PASS=0x8803;
	WebGLContext.STENCIL_BACK_REF=0x8CA3;
	WebGLContext.STENCIL_BACK_VALUE_MASK=0x8CA4;
	WebGLContext.STENCIL_BACK_WRITEMASK=0x8CA5;
	WebGLContext.VIEWPORT=0x0BA2;
	WebGLContext.SCISSOR_BOX=0x0C10;
	WebGLContext.COLOR_CLEAR_VALUE=0x0C22;
	WebGLContext.COLOR_WRITEMASK=0x0C23;
	WebGLContext.UNPACK_ALIGNMENT=0x0CF5;
	WebGLContext.PACK_ALIGNMENT=0x0D05;
	WebGLContext.MAX_TEXTURE_SIZE=0x0D33;
	WebGLContext.MAX_VIEWPORT_DIMS=0x0D3A;
	WebGLContext.SUBPIXEL_BITS=0x0D50;
	WebGLContext.RED_BITS=0x0D52;
	WebGLContext.GREEN_BITS=0x0D53;
	WebGLContext.BLUE_BITS=0x0D54;
	WebGLContext.ALPHA_BITS=0x0D55;
	WebGLContext.DEPTH_BITS=0x0D56;
	WebGLContext.STENCIL_BITS=0x0D57;
	WebGLContext.POLYGON_OFFSET_UNITS=0x2A00;
	WebGLContext.POLYGON_OFFSET_FACTOR=0x8038;
	WebGLContext.TEXTURE_BINDING_2D=0x8069;
	WebGLContext.SAMPLE_BUFFERS=0x80A8;
	WebGLContext.SAMPLES=0x80A9;
	WebGLContext.SAMPLE_COVERAGE_VALUE=0x80AA;
	WebGLContext.SAMPLE_COVERAGE_INVERT=0x80AB;
	WebGLContext.NUM_COMPRESSED_TEXTURE_FORMATS=0x86A2;
	WebGLContext.COMPRESSED_TEXTURE_FORMATS=0x86A3;
	WebGLContext.DONT_CARE=0x1100;
	WebGLContext.FASTEST=0x1101;
	WebGLContext.NICEST=0x1102;
	WebGLContext.GENERATE_MIPMAP_HINT=0x8192;
	WebGLContext.BYTE=0x1400;
	WebGLContext.UNSIGNED_BYTE=0x1401;
	WebGLContext.SHORT=0x1402;
	WebGLContext.UNSIGNED_SHORT=0x1403;
	WebGLContext.INT=0x1404;
	WebGLContext.UNSIGNED_INT=0x1405;
	WebGLContext.FLOAT=0x1406;
	WebGLContext.DEPTH_COMPONENT=0x1902;
	WebGLContext.ALPHA=0x1906;
	WebGLContext.RGB=0x1907;
	WebGLContext.RGBA=0x1908;
	WebGLContext.LUMINANCE=0x1909;
	WebGLContext.LUMINANCE_ALPHA=0x190A;
	WebGLContext.UNSIGNED_SHORT_4_4_4_4=0x8033;
	WebGLContext.UNSIGNED_SHORT_5_5_5_1=0x8034;
	WebGLContext.UNSIGNED_SHORT_5_6_5=0x8363;
	WebGLContext.FRAGMENT_SHADER=0x8B30;
	WebGLContext.VERTEX_SHADER=0x8B31;
	WebGLContext.MAX_VERTEX_ATTRIBS=0x8869;
	WebGLContext.MAX_VERTEX_UNIFORM_VECTORS=0x8DFB;
	WebGLContext.MAX_VARYING_VECTORS=0x8DFC;
	WebGLContext.MAX_COMBINED_TEXTURE_IMAGE_UNITS=0x8B4D;
	WebGLContext.MAX_VERTEX_TEXTURE_IMAGE_UNITS=0x8B4C;
	WebGLContext.MAX_TEXTURE_IMAGE_UNITS=0x8872;
	WebGLContext.MAX_FRAGMENT_UNIFORM_VECTORS=0x8DFD;
	WebGLContext.SHADER_TYPE=0x8B4F;
	WebGLContext.DELETE_STATUS=0x8B80;
	WebGLContext.LINK_STATUS=0x8B82;
	WebGLContext.VALIDATE_STATUS=0x8B83;
	WebGLContext.ATTACHED_SHADERS=0x8B85;
	WebGLContext.ACTIVE_UNIFORMS=0x8B86;
	WebGLContext.ACTIVE_ATTRIBUTES=0x8B89;
	WebGLContext.SHADING_LANGUAGE_VERSION=0x8B8C;
	WebGLContext.CURRENT_PROGRAM=0x8B8D;
	WebGLContext.NEVER=0x0200;
	WebGLContext.LESS=0x0201;
	WebGLContext.EQUAL=0x0202;
	WebGLContext.LEQUAL=0x0203;
	WebGLContext.GREATER=0x0204;
	WebGLContext.NOTEQUAL=0x0205;
	WebGLContext.GEQUAL=0x0206;
	WebGLContext.ALWAYS=0x0207;
	WebGLContext.KEEP=0x1E00;
	WebGLContext.REPLACE=0x1E01;
	WebGLContext.INCR=0x1E02;
	WebGLContext.DECR=0x1E03;
	WebGLContext.INVERT=0x150A;
	WebGLContext.INCR_WRAP=0x8507;
	WebGLContext.DECR_WRAP=0x8508;
	WebGLContext.VENDOR=0x1F00;
	WebGLContext.RENDERER=0x1F01;
	WebGLContext.VERSION=0x1F02;
	WebGLContext.NEAREST=0x2600;
	WebGLContext.LINEAR=0x2601;
	WebGLContext.NEAREST_MIPMAP_NEAREST=0x2700;
	WebGLContext.LINEAR_MIPMAP_NEAREST=0x2701;
	WebGLContext.NEAREST_MIPMAP_LINEAR=0x2702;
	WebGLContext.LINEAR_MIPMAP_LINEAR=0x2703;
	WebGLContext.TEXTURE_MAG_FILTER=0x2800;
	WebGLContext.TEXTURE_MIN_FILTER=0x2801;
	WebGLContext.TEXTURE_WRAP_S=0x2802;
	WebGLContext.TEXTURE_WRAP_T=0x2803;
	WebGLContext.TEXTURE_2D=0x0DE1;
	WebGLContext.TEXTURE_3D=0x806f;
	WebGLContext.TEXTURE=0x1702;
	WebGLContext.TEXTURE_CUBE_MAP=0x8513;
	WebGLContext.TEXTURE_BINDING_CUBE_MAP=0x8514;
	WebGLContext.TEXTURE_CUBE_MAP_POSITIVE_X=0x8515;
	WebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_X=0x8516;
	WebGLContext.TEXTURE_CUBE_MAP_POSITIVE_Y=0x8517;
	WebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_Y=0x8518;
	WebGLContext.TEXTURE_CUBE_MAP_POSITIVE_Z=0x8519;
	WebGLContext.TEXTURE_CUBE_MAP_NEGATIVE_Z=0x851A;
	WebGLContext.MAX_CUBE_MAP_TEXTURE_SIZE=0x851C;
	WebGLContext.TEXTURE0=0x84C0;
	WebGLContext.TEXTURE1=0x84C1;
	WebGLContext.TEXTURE2=0x84C2;
	WebGLContext.TEXTURE3=0x84C3;
	WebGLContext.TEXTURE4=0x84C4;
	WebGLContext.TEXTURE5=0x84C5;
	WebGLContext.TEXTURE6=0x84C6;
	WebGLContext.TEXTURE7=0x84C7;
	WebGLContext.TEXTURE8=0x84C8;
	WebGLContext.TEXTURE9=0x84C9;
	WebGLContext.TEXTURE10=0x84CA;
	WebGLContext.TEXTURE11=0x84CB;
	WebGLContext.TEXTURE12=0x84CC;
	WebGLContext.TEXTURE13=0x84CD;
	WebGLContext.TEXTURE14=0x84CE;
	WebGLContext.TEXTURE15=0x84CF;
	WebGLContext.TEXTURE16=0x84D0;
	WebGLContext.TEXTURE17=0x84D1;
	WebGLContext.TEXTURE18=0x84D2;
	WebGLContext.TEXTURE19=0x84D3;
	WebGLContext.TEXTURE20=0x84D4;
	WebGLContext.TEXTURE21=0x84D5;
	WebGLContext.TEXTURE22=0x84D6;
	WebGLContext.TEXTURE23=0x84D7;
	WebGLContext.TEXTURE24=0x84D8;
	WebGLContext.TEXTURE25=0x84D9;
	WebGLContext.TEXTURE26=0x84DA;
	WebGLContext.TEXTURE27=0x84DB;
	WebGLContext.TEXTURE28=0x84DC;
	WebGLContext.TEXTURE29=0x84DD;
	WebGLContext.TEXTURE30=0x84DE;
	WebGLContext.TEXTURE31=0x84DF;
	WebGLContext.ACTIVE_TEXTURE=0x84E0;
	WebGLContext.REPEAT=0x2901;
	WebGLContext.CLAMP_TO_EDGE=0x812F;
	WebGLContext.MIRRORED_REPEAT=0x8370;
	WebGLContext.FLOAT_VEC2=0x8B50;
	WebGLContext.FLOAT_VEC3=0x8B51;
	WebGLContext.FLOAT_VEC4=0x8B52;
	WebGLContext.INT_VEC2=0x8B53;
	WebGLContext.INT_VEC3=0x8B54;
	WebGLContext.INT_VEC4=0x8B55;
	WebGLContext.BOOL=0x8B56;
	WebGLContext.BOOL_VEC2=0x8B57;
	WebGLContext.BOOL_VEC3=0x8B58;
	WebGLContext.BOOL_VEC4=0x8B59;
	WebGLContext.FLOAT_MAT2=0x8B5A;
	WebGLContext.FLOAT_MAT3=0x8B5B;
	WebGLContext.FLOAT_MAT4=0x8B5C;
	WebGLContext.SAMPLER_2D=0x8B5E;
	WebGLContext.SAMPLER_CUBE=0x8B60;
	WebGLContext.VERTEX_ATTRIB_ARRAY_ENABLED=0x8622;
	WebGLContext.VERTEX_ATTRIB_ARRAY_SIZE=0x8623;
	WebGLContext.VERTEX_ATTRIB_ARRAY_STRIDE=0x8624;
	WebGLContext.VERTEX_ATTRIB_ARRAY_TYPE=0x8625;
	WebGLContext.VERTEX_ATTRIB_ARRAY_NORMALIZED=0x886A;
	WebGLContext.VERTEX_ATTRIB_ARRAY_POINTER=0x8645;
	WebGLContext.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=0x889F;
	WebGLContext.COMPILE_STATUS=0x8B81;
	WebGLContext.LOW_FLOAT=0x8DF0;
	WebGLContext.MEDIUM_FLOAT=0x8DF1;
	WebGLContext.HIGH_FLOAT=0x8DF2;
	WebGLContext.LOW_INT=0x8DF3;
	WebGLContext.MEDIUM_INT=0x8DF4;
	WebGLContext.HIGH_INT=0x8DF5;
	WebGLContext.FRAMEBUFFER=0x8D40;
	WebGLContext.RENDERBUFFER=0x8D41;
	WebGLContext.RGBA4=0x8056;
	WebGLContext.RGB5_A1=0x8057;
	WebGLContext.RGB565=0x8D62;
	WebGLContext.DEPTH_COMPONENT16=0x81A5;
	WebGLContext.STENCIL_INDEX=0x1901;
	WebGLContext.STENCIL_INDEX8=0x8D48;
	WebGLContext.DEPTH_STENCIL=0x84F9;
	WebGLContext.RENDERBUFFER_WIDTH=0x8D42;
	WebGLContext.RENDERBUFFER_HEIGHT=0x8D43;
	WebGLContext.RENDERBUFFER_INTERNAL_FORMAT=0x8D44;
	WebGLContext.RENDERBUFFER_RED_SIZE=0x8D50;
	WebGLContext.RENDERBUFFER_GREEN_SIZE=0x8D51;
	WebGLContext.RENDERBUFFER_BLUE_SIZE=0x8D52;
	WebGLContext.RENDERBUFFER_ALPHA_SIZE=0x8D53;
	WebGLContext.RENDERBUFFER_DEPTH_SIZE=0x8D54;
	WebGLContext.RENDERBUFFER_STENCIL_SIZE=0x8D55;
	WebGLContext.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=0x8CD0;
	WebGLContext.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=0x8CD1;
	WebGLContext.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=0x8CD2;
	WebGLContext.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=0x8CD3;
	WebGLContext.COLOR_ATTACHMENT0=0x8CE0;
	WebGLContext.DEPTH_ATTACHMENT=0x8D00;
	WebGLContext.STENCIL_ATTACHMENT=0x8D20;
	WebGLContext.DEPTH_STENCIL_ATTACHMENT=0x821A;
	WebGLContext.NONE=0;
	WebGLContext.FRAMEBUFFER_COMPLETE=0x8CD5;
	WebGLContext.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=0x8CD6;
	WebGLContext.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=0x8CD7;
	WebGLContext.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=0x8CD9;
	WebGLContext.FRAMEBUFFER_UNSUPPORTED=0x8CDD;
	WebGLContext.FRAMEBUFFER_BINDING=0x8CA6;
	WebGLContext.RENDERBUFFER_BINDING=0x8CA7;
	WebGLContext.MAX_RENDERBUFFER_SIZE=0x84E8;
	WebGLContext.INVALID_FRAMEBUFFER_OPERATION=0x0506;
	WebGLContext.UNPACK_FLIP_Y_WEBGL=0x9240;
	WebGLContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL=0x9241;
	WebGLContext.CONTEXT_LOST_WEBGL=0x9242;
	WebGLContext.UNPACK_COLORSPACE_CONVERSION_WEBGL=0x9243;
	WebGLContext.BROWSER_DEFAULT_WEBGL=0x9244;
	WebGLContext.extTextureFilterAnisotropic=null;
	WebGLContext._glTextureIDs=[0x84C0,0x84C1,0x84C2,0x84C3,0x84C4,0x84C5,0x84C6,0x84C7];
	WebGLContext._useProgram=null;
	WebGLContext._depthTest=true;
	WebGLContext._depthMask=true;
	WebGLContext._depthFunc=0x0201;
	WebGLContext._blend=false;
	WebGLContext._sFactor=1;
	WebGLContext._dFactor=0;
	WebGLContext._cullFace=false;
	WebGLContext._frontFace=0x0901;
	WebGLContext._activedTextureID=0x84C0;
	WebGLContext._bindedVAO=null;
	__static(WebGLContext,
	['_activeTextures',function(){return this._activeTextures=new Array(8);}
	]);
	return WebGLContext;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/Laya3D.as=======199.999017/199.999017
/**
*<code>Laya3D</code> 类用于初始化3D设置。
*/
//class Laya3D
var Laya3D=(function(){
	/**
	*创建一个 <code>Laya3D</code> 实例。
	*/
	function Laya3D(){}
	__class(Laya3D,'Laya3D');
	Laya3D._cancelLoadByUrl=function(url){
		Laya.loader.cancelLoadByUrl(url);
		Laya3D._innerFirstLevelLoaderManager.cancelLoadByUrl(url);
		Laya3D._innerSecondLevelLoaderManager.cancelLoadByUrl(url);
		Laya3D._innerThirdLevelLoaderManager.cancelLoadByUrl(url);
		Laya3D._innerFourthLevelLoaderManager.cancelLoadByUrl(url);
	}

	Laya3D._changeWebGLSize=function(width,height){
		WebGL.onStageResize(width,height);
		RenderContext3D.clientWidth=width;
		RenderContext3D.clientHeight=height;
	}

	Laya3D.__init__=function(){
		var createMap=LoaderManager.createMap;
		createMap["lh"]=[Sprite3D,"SPRITE3DHIERARCHY"];
		createMap["ls"]=[Scene3D,"SPRITE3DHIERARCHY"];
		createMap["lm"]=[Mesh,"MESH"];
		createMap["lmat"]=[laya.d3.core.material.StandardMaterial,"MATERIAL"];
		createMap["lpbr"]=[PBRMaterial,"MATERIAL"];
		createMap["ltc"]=[TextureCube,"TEXTURECUBE"];
		createMap["jpg"]=[Texture2D,"nativeimage"];
		createMap["jpeg"]=[Texture2D,"nativeimage"];
		createMap["png"]=[Texture2D,"nativeimage"];
		createMap["pkm"]=[Texture2D,"arraybuffer"];
		createMap["lsani"]=[AnimationTemplet,"arraybuffer"];
		createMap["lrani"]=[AnimationTemplet,"arraybuffer"];
		createMap["raw"]=[DataTexture2D,"arraybuffer"];
		createMap["mipmaps"]=[DataTexture2D,"arraybuffer"];
		createMap["ktx"]=[laya.d3.resource.VolumeTexture,"arraybuffer"];
		createMap["thdata"]=[TerrainHeightData,"arraybuffer"];
		createMap["lt"]=[TerrainRes,"TERRAIN"];
		createMap["lani"]=[AnimationClip,"arraybuffer"];
		createMap["lav"]=[Avatar,"json"];
		createMap["ani"]=[AnimationTemplet,"arraybuffer"];
		Loader.parserMap["SPRITE3DHIERARCHY"]=Laya3D._loadHierarchy;
		Loader.parserMap["MESH"]=Laya3D._loadMesh;
		Loader.parserMap["MATERIAL"]=Laya3D._loadMaterial;
		Loader.parserMap["TEXTURECUBE"]=Laya3D._loadTextureCube;
		Loader.parserMap["TERRAIN"]=Laya3D._loadTerrain;
		Laya3D._innerFirstLevelLoaderManager.on("error",null,Laya3D._eventLoadManagerError);
		Laya3D._innerSecondLevelLoaderManager.on("error",null,Laya3D._eventLoadManagerError);
		Laya3D._innerThirdLevelLoaderManager.on("error",null,Laya3D._eventLoadManagerError);
		Laya3D._innerFourthLevelLoaderManager.on("error",null,Laya3D._eventLoadManagerError);
	}

	Laya3D.enableNative3D=function(){
		if (Render.isConchApp){
			var shaderData=ShaderDatas;
			var shader3D=ShaderInstance;
			var skinnedMeshRender=SkinnedMeshRender;
			var avatar=Avatar;
			shaderData.prototype._initData=shaderData.prototype._initDataForNative;
			shaderData.prototype.setBool=shaderData.prototype.setBoolForNative;
			shaderData.prototype.getBool=shaderData.prototype.getBoolForNative;
			shaderData.prototype.setInt=shaderData.prototype.setIntForNative;
			shaderData.prototype.getInt=shaderData.prototype.getIntForNative;
			shaderData.prototype.setNumber=shaderData.prototype.setNumberForNative;
			shaderData.prototype.getNumber=shaderData.prototype.getNumberForNative;
			shaderData.prototype.setVector=shaderData.prototype.setVectorForNative;
			shaderData.prototype.getVector=shaderData.prototype.getVectorForNative;
			shaderData.prototype.setQuaternion=shaderData.prototype.setQuaternionForNative;
			shaderData.prototype.getQuaternion=shaderData.prototype.getQuaternionForNative;
			shaderData.prototype.setMatrix4x4=shaderData.prototype.setMatrix4x4ForNative;
			shaderData.prototype.getMatrix4x4=shaderData.prototype.getMatrix4x4ForNative;
			shaderData.prototype.setBuffer=shaderData.prototype.setBufferForNative;
			shaderData.prototype.getBuffer=shaderData.prototype.getBufferForNative;
			shaderData.prototype.setTexture=shaderData.prototype.setTextureForNative;
			shaderData.prototype.getTexture=shaderData.prototype.getTextureForNative;
			shaderData.prototype.setAttribute=shaderData.prototype.setAttributeForNative;
			shaderData.prototype.getAttribute=shaderData.prototype.getAttributeForNative;
			shader3D.prototype._uniformMatrix2fv=shader3D.prototype._uniformMatrix2fvForNative;
			shader3D.prototype._uniformMatrix3fv=shader3D.prototype._uniformMatrix3fvForNative;
			shader3D.prototype._uniformMatrix4fv=shader3D.prototype._uniformMatrix4fvForNative;
			avatar.prototype._cloneDatasToAnimator=avatar.prototype._cloneDatasToAnimatorNative;
			Utils3D.matrix4x4MultiplyFFF=Utils3D.matrix4x4MultiplyFFFForNative;
			FrustumCulling.renderObjectCulling=FrustumCulling.renderObjectCullingNative;
		}
	}

	Laya3D.formatRelativePath=function(base,value){
		var path;
		var char1=value.charAt(0);
		if (char1==="."){
			var parts=(base+value).split("/");
			for (var i=0,len=parts.length;i < len;i++){
				if (parts[i]=='..'){
					var index=i-1;
					if (index > 0 && parts[index]!=='..'){
						parts.splice(index,2);
						i-=2;
					}
				}
			}
			path=parts.join('/');
			}else {
			path=base+value;
		}
		(URL.customFormat !=null)&& (path=URL.customFormat(path,null));
		return path;
	}

	Laya3D._eventLoadManagerError=function(msg){
		Laya.loader.event("error",msg);
	}

	Laya3D._addHierarchyInnerUrls=function(urls,urlMap,urlVersion,hierarchyBasePath,path,clas){
		var formatSubUrl=Laya3D.formatRelativePath(hierarchyBasePath,path);
		(urlVersion)&& (formatSubUrl=formatSubUrl+urlVersion);
		urls.push({url:formatSubUrl,clas:clas});
		urlMap[path]=formatSubUrl;
	}

	Laya3D._parseMaterial=function(mat,secondLevelUrls,urlMap,urlVersion,hierarchyBasePath){
		var clasPaths=mat.type.split('.');
		var clas=Browser.window;
		clasPaths.forEach(function(cls){
			clas=clas[cls];
		});
		if (typeof(clas)=='function')
			Laya3D._addHierarchyInnerUrls(secondLevelUrls,urlMap,urlVersion,hierarchyBasePath,mat.path,clas);
		else {
			throw('_getSprite3DHierarchyInnerUrls 错误: '+mat.type+' 不是类');
		}
	}

	Laya3D._getSprite3DHierarchyInnerUrls=function(node,firstLevelUrls,secondLevelUrls,thirdLevelUrls,fourthLelUrls,urlMap,urlVersion,hierarchyBasePath){
		var i=0,n=0;
		var customProps=node.customProps;
		switch (node.type){
			case "Scene":;
				var lightmaps=customProps.lightmaps;
				for (i=0,n=lightmaps.length;i < n;i++){
					var lightMap=lightmaps[i].replace("exr","png");
					Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,lightMap,Texture2D);
				};
				var reflectionTextureData=customProps.reflectionTexture;
				(reflectionTextureData)&& (Laya3D._addHierarchyInnerUrls(thirdLevelUrls,urlMap,urlVersion,hierarchyBasePath,reflectionTextureData,TextureCube));
				var skyboxMaterial=customProps.skyboxMaterial;
				(skyboxMaterial)&& (Laya3D._parseMaterial(skyboxMaterial,secondLevelUrls,urlMap,urlVersion,hierarchyBasePath));
				break ;
			case "Camera":;
				var skyboxMaterial=customProps.skyboxMaterial;
				(skyboxMaterial)&& (Laya3D._parseMaterial(skyboxMaterial,secondLevelUrls,urlMap,urlVersion,hierarchyBasePath));
				break ;
			case "TrailSprite3D":
			case "MeshSprite3D":
			case "SkinnedMeshSprite3D":;
				var meshPath=customProps.meshPath;
				(meshPath)&& (Laya3D._addHierarchyInnerUrls(firstLevelUrls,urlMap,urlVersion,hierarchyBasePath,meshPath,Mesh));
				var materials=customProps.materials;
				if (materials)
					for (i=0,n=materials.length;i < n;i++)
				Laya3D._parseMaterial(materials[i],secondLevelUrls,urlMap,urlVersion,hierarchyBasePath);
				break ;
			case "ShuriKenParticle3D":;
				var parMeshPath=customProps.meshPath;
				(parMeshPath)&& (Laya3D._addHierarchyInnerUrls(firstLevelUrls,urlMap,urlVersion,hierarchyBasePath,parMeshPath,Mesh));
				Laya3D._parseMaterial(customProps.material,secondLevelUrls,urlMap,urlVersion,hierarchyBasePath);
				break ;
			case "Terrain":
				Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,customProps.dataPath,TerrainRes);
				break ;
			};
		var components=node.components;
		if (components){
			if ((components instanceof Array)){
				for (var k=0,p=components.length;k < p;k++){
					var component=components[k];
					switch (component.type){
						case "Animator":;
							var avatarPath=component.avatarPath;
							var avatarData=component.avatar;
							(avatarData)&& (Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,avatarData.path,Avatar));
							var clipPaths=component.clipPaths;
							if (!clipPaths){
								var layersData=component.layers;
								for (var i=0;i < layersData.length;i++){
									var states=layersData[i].states;
									for (var j=0,m=states.length;j < m;j++){
										var clipPath=states[j].clipPath;
										(clipPath)&& (Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,clipPath,AnimationClip));
									}
								}
								}else {
								for (i=0,n=clipPaths.length;i < n;i++)
								Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,clipPaths[i],AnimationClip);
							}
							break ;
						}
				}
				}else {
				for (k in components){
					var component=components[k];
					switch (k){
						case "Animator":
							avatarPath=component.avatarPath;
							avatarData=component.avatar;
							(avatarData)&& (Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,avatarData.path,Avatar));
							clipPaths=component.clipPaths;
							if (!clipPaths){
								layersData=component.layers;
								for (i=0;i < layersData.length;i++){
									states=layersData[i].states;
									for (j=0,m=states.length;j < m;j++){
										clipPath=states[j].clipPath;
										(clipPath)&& (Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,clipPath,AnimationClip));
									}
								}
								}else {
								for (i=0,n=clipPaths.length;i < n;i++)
								Laya3D._addHierarchyInnerUrls(fourthLelUrls,urlMap,urlVersion,hierarchyBasePath,clipPaths[i],AnimationClip);
							}
							break ;
						}
				}
			}
		};
		var children=node.child;
		for (i=0,n=children.length;i < n;i++)
		Laya3D._getSprite3DHierarchyInnerUrls(children[i],firstLevelUrls,secondLevelUrls,thirdLevelUrls,fourthLelUrls,urlMap,urlVersion,hierarchyBasePath);
	}

	Laya3D._loadHierarchy=function(loader){
		loader.on("loaded",null,Laya3D._onHierarchylhLoaded,[loader,loader._class._getGroup()]);
		loader.load(loader.url,"json",false,null,true);
	}

	Laya3D._onHierarchylhLoaded=function(loader,group,lhData){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			var url=loader.url;
			var urlVersion=Utils3D.getURLVerion(url);
			var hierarchyBasePath=URL.getPath(url);
			var firstLevUrls=[];
			var secondLevUrls=[];
			var thirdLevUrls=[];
			var forthLevUrls=[];
			var urlMap={};
			Laya3D._getSprite3DHierarchyInnerUrls(lhData,firstLevUrls,secondLevUrls,thirdLevUrls,forthLevUrls,urlMap,urlVersion,hierarchyBasePath);
			var urlCount=firstLevUrls.length+secondLevUrls.length+forthLevUrls.length;
			var totalProcessCount=urlCount+1;
			var weight=1 / totalProcessCount;
			Laya3D._onProcessChange(loader,0,weight,1.0);
			if (forthLevUrls.length > 0){
				var processCeil=urlCount / totalProcessCount;
				var processHandler=Handler.create(null,Laya3D._onProcessChange,[loader,weight,processCeil],false);
				Laya3D._innerFourthLevelLoaderManager.create(forthLevUrls,Handler.create(null,Laya3D._onHierarchyInnerForthLevResouLoaded,[loader,group,processHandler,lhData,urlMap,firstLevUrls,secondLevUrls,thirdLevUrls,weight+processCeil *forthLevUrls.length,processCeil]),processHandler,null,null,1,true,group);
				}else {
				Laya3D._onHierarchyInnerForthLevResouLoaded(loader,group,null,lhData,urlMap,firstLevUrls,secondLevUrls,thirdLevUrls,weight,processCeil);
			}
		}
	}

	Laya3D._onHierarchyInnerForthLevResouLoaded=function(loader,group,processHandler,lhData,urlMap,firstLevUrls,secondLevUrls,thirdLevUrls,processOffset,processCeil){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			(processHandler)&& (processHandler.recover());
			if (thirdLevUrls.length > 0){
				var process=Handler.create(null,Laya3D._onProcessChange,[loader,processOffset,processCeil],false);
				Laya3D._innerThirdLevelLoaderManager.create(thirdLevUrls,Handler.create(null,Laya3D._onHierarchyInnerThirdLevResouLoaded,[loader,group,process,lhData,urlMap,firstLevUrls,secondLevUrls,processOffset+processCeil *secondLevUrls.length,processCeil]),processHandler,null,null,1,true,group);
				}else {
				Laya3D._onHierarchyInnerThirdLevResouLoaded(loader,group,null,lhData,urlMap,firstLevUrls,secondLevUrls,processOffset,processCeil);
			}
		}
	}

	Laya3D._onHierarchyInnerThirdLevResouLoaded=function(loader,group,processHandler,lhData,urlMap,firstLevUrls,secondLevUrls,processOffset,processCeil){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			(processHandler)&& (processHandler.recover());
			if (secondLevUrls.length > 0){
				var process=Handler.create(null,Laya3D._onProcessChange,[loader,processOffset,processCeil],false);
				Laya3D._innerSecondLevelLoaderManager.create(secondLevUrls,Handler.create(null,Laya3D._onHierarchyInnerSecondLevResouLoaded,[loader,group,process,lhData,urlMap,firstLevUrls,processOffset+processCeil *secondLevUrls.length,processCeil]),processHandler,null,null,1,true,group);
				}else {
				Laya3D._onHierarchyInnerSecondLevResouLoaded(loader,group,null,lhData,urlMap,firstLevUrls,processOffset,processCeil);
			}
		}
	}

	Laya3D._onHierarchyInnerSecondLevResouLoaded=function(loader,group,processHandler,lhData,urlMap,firstLevUrls,processOffset,processCeil){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			(processHandler)&& (processHandler.recover());
			if (firstLevUrls.length > 0){
				var process=Handler.create(null,Laya3D._onProcessChange,[loader,processOffset,processCeil],false);
				Laya3D._innerFirstLevelLoaderManager.create(firstLevUrls,Handler.create(null,Laya3D._onHierarchyInnerFirstLevResouLoaded,[loader,process,lhData,urlMap,]),processHandler,null,null,1,true,group);
				}else {
				Laya3D._onHierarchyInnerFirstLevResouLoaded(loader,null,lhData,urlMap);
			}
		}
	}

	Laya3D._onHierarchyInnerFirstLevResouLoaded=function(loader,processHandler,lhData,urlMap){
		(processHandler)&& (processHandler.recover());
		loader.endLoad([lhData,urlMap]);
	}

	Laya3D._loadTerrain=function(loader){
		loader.on("loaded",null,Laya3D._onTerrainLtLoaded,[loader,loader._class._getGroup()]);
		loader.load(loader.url,"json",false,null,true);
	}

	Laya3D._onTerrainLtLoaded=function(loader,group,ltData){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			var url=loader.url;
			var urlVersion=Utils3D.getURLVerion(url);
			var terrainBasePath=URL.getPath(url);
			var heightMapURL,textureURLs=[];
			var urlMap={};
			var formatUrl;
			var i=0,n=0,count=0;
			var heightData=ltData.heightData;
			heightMapURL=heightData.url;
			formatUrl=Laya3D.formatRelativePath(terrainBasePath,heightMapURL);
			(urlVersion)&& (formatUrl=formatUrl+urlVersion);
			urlMap[heightMapURL]=formatUrl;
			heightMapURL=formatUrl;
			var detailTextures=ltData.detailTexture;
			for (i=0,n=detailTextures.length;i < n;i++)
			textureURLs.push({url:detailTextures[i].diffuse});
			var normalMaps=ltData.normalMap;
			for (i=0,n=normalMaps.length;i < n;i++)
			textureURLs.push({url:normalMaps[i]});
			var alphaMaps=ltData.alphaMap;
			for (i=0,n=alphaMaps.length;i < n;i++)
			textureURLs.push({url:alphaMaps[i],params:[1,false]});
			for (i=0,n=textureURLs.length;i < n;i++){
				var subUrl=textureURLs[i].url;
				formatUrl=Laya3D.formatRelativePath(terrainBasePath,subUrl);
				(urlVersion)&& (formatUrl=formatUrl+urlVersion);
				textureURLs[i].url=formatUrl;
				urlMap[subUrl]=formatUrl;
			};
			var texsUrlCount=textureURLs.length;
			var totalProcessCount=texsUrlCount+2;
			var weight=1 / totalProcessCount;
			Laya3D._onProcessChange(loader,0,weight,1.0);
			var loadInfo={heightMapLoaded:false,texturesLoaded:false};
			var hmProcessHandler=Handler.create(null,Laya3D._onProcessChange,[loader,weight,weight],false);
			Laya3D._innerFourthLevelLoaderManager.create(heightMapURL,Handler.create(null,Laya3D._onTerrainHeightMapLoaded,[loader,hmProcessHandler,ltData,urlMap,loadInfo]),hmProcessHandler,null,[heightData.numX,heightData.numZ,heightData.bitType,heightData.value],1,true,group);
			var texsProcessHandler=Handler.create(null,Laya3D._onProcessChange,[loader,weight *2,texsUrlCount / totalProcessCount],false);
			Laya3D._innerFourthLevelLoaderManager.create(textureURLs,Handler.create(null,Laya3D._onTerrainTexturesLoaded,[loader,texsProcessHandler,ltData,urlMap,loadInfo]),texsProcessHandler,null,null,1,true,group);
		}
	}

	Laya3D._onTerrainHeightMapLoaded=function(loader,processHandler,ltData,urlMap,loadInfo){
		loadInfo.heightMapLoaded=true;
		if (loadInfo.texturesLoaded){
			loader.endLoad([ltData,urlMap]);
			processHandler.recover();
		}
	}

	Laya3D._onTerrainTexturesLoaded=function(loader,processHandler,ltData,urlMap,loadInfo){
		loadInfo.texturesLoaded=true;
		if (loadInfo.heightMapLoaded){
			loader.endLoad([ltData,urlMap]);
			processHandler.recover();
		}
	}

	Laya3D._loadMesh=function(loader){
		loader.on("loaded",null,Laya3D._onMeshLmLoaded,[loader,loader._class._getGroup()]);
		loader.load(loader.url,"arraybuffer",false,null,true);
	}

	Laya3D._onMeshLmLoaded=function(loader,group,lmData){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			var url=loader.url;
			var urlVersion=Utils3D.getURLVerion(url);
			var meshBasePath=URL.getPath(url);
			var urls;
			var urlMap={};
			var formatSubUrl;
			var i=0,n=0,count=0;
			var readData=new Byte(lmData);
			readData.pos=0;
			var version=readData.readUTFString();
			switch (version){
				case "LAYAMODEL:03":
				case "LAYAMODEL:0301":
				case "LAYAMODEL:0400":;
					var dataOffset=readData.getUint32();
					readData.pos=readData.pos+4;
					count=readData.getUint16();
					readData.pos=readData.pos+count *8;
					var offset=readData.getUint32();
					count=readData.getUint16();
					readData.pos=dataOffset+offset;
					urls=[];
					for (i=0;i < count;i++){
						var string=readData.readUTFString();
						if (string.lastIndexOf(".lmat")!==-1)
							urls.push(string);
					}
					break ;
				default :
					throw new Error("Laya3D:unknown mesh version.");
				}
			for (i=0,n=urls.length;i < n;i++){
				var subUrl=urls[i];
				formatSubUrl=Laya3D.formatRelativePath(meshBasePath,subUrl);
				(urlVersion)&& (formatSubUrl=formatSubUrl+urlVersion);
				urls[i]=formatSubUrl;
				urlMap[subUrl]=formatSubUrl;
			}
			if (urls.length > 0){
				var urlCount=1;
				var totalProcessCount=urlCount+1;
				var lmatWeight=1 / totalProcessCount;
				Laya3D._onProcessChange(loader,0,lmatWeight,1.0);
				var processHandler=Handler.create(null,Laya3D._onProcessChange,[loader,lmatWeight,urlCount / totalProcessCount],false);
				Laya3D._innerSecondLevelLoaderManager.create(urls,Handler.create(null,Laya3D._onMeshMateialLoaded,[loader,processHandler,lmData,urlMap]),processHandler,null,null,1,true,group);
				}else {
				loader.endLoad([lmData,urlMap]);
			}
		}
	}

	Laya3D._onMeshMateialLoaded=function(loader,processHandler,lmData,urlMap){
		loader.endLoad([lmData,urlMap]);
		processHandler.recover();
	}

	Laya3D._loadMaterial=function(loader){
		loader.on("loaded",null,Laya3D._onMaterilLmatLoaded,[loader,loader._class._getGroup()]);
		loader.load(loader.url,"json",false,null,true);
	}

	Laya3D._onMaterilLmatLoaded=function(loader,group,lmatData){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			var url=loader.url;
			var urlVersion=Utils3D.getURLVerion(url);
			var materialBasePath=URL.getPath(url);
			var urls=[];
			var urlMap={};
			var customProps=lmatData.customProps;
			var formatSubUrl;
			var version=lmatData.version;
			switch (version){
				case "LAYAMATERIAL:01":;
					var i=0,n=0;
					var textures=lmatData.props.textures;
					if (textures){
						for (i=0,n=textures.length;i < n;i++){
							var tex2D=textures[i];
							var tex2DPath=tex2D.path;
							if (tex2DPath){
								var extenIndex=tex2DPath.length-4;
								if (tex2DPath.indexOf(".exr")==extenIndex || tex2DPath.indexOf(".EXR")==extenIndex)
									tex2DPath=tex2DPath.substr(0,extenIndex)+".png";
								formatSubUrl=Laya3D.formatRelativePath(materialBasePath,tex2DPath);
								(urlVersion)&& (formatSubUrl=formatSubUrl+urlVersion);
								urls.push({url:formatSubUrl,params:tex2D.params});
								urlMap[tex2DPath]=formatSubUrl;
							}
						}
					}
					break ;
				default :
					throw new Error("Laya3D:unkonwn version.");
				};
			var urlCount=urls.length;
			var totalProcessCount=urlCount+1;
			var lmatWeight=1 / totalProcessCount;
			Laya3D._onProcessChange(loader,0,lmatWeight,1.0);
			if (urlCount > 0){
				var processHandler=Handler.create(null,Laya3D._onProcessChange,[loader,lmatWeight,urlCount / totalProcessCount],false);
				Laya3D._innerFourthLevelLoaderManager.create(urls,Handler.create(null,Laya3D._onMateialTexturesLoaded,[loader,processHandler,lmatData,urlMap]),processHandler,null,null,1,true,group);
				}else {
				Laya3D._onMateialTexturesLoaded(loader,null,lmatData,null);
			}
		}
	}

	Laya3D._onMateialTexturesLoaded=function(loader,processHandler,lmatData,urlMap){
		loader.endLoad([lmatData,urlMap]);
		(processHandler)&& (processHandler.recover());
	}

	Laya3D._loadTextureCube=function(loader){
		loader.on("loaded",null,Laya3D._onTextureCubeLtcLoaded,[loader]);
		loader.load(loader.url,"json",false,null,true);
	}

	Laya3D._onTextureCubeLtcLoaded=function(loader,ltcData){
		if (loader._class.destroyed){
			loader.endLoad();
			}else {
			var ltcBasePath=URL.getPath(loader.url);
			var urls=[Laya3D.formatRelativePath(ltcBasePath,ltcData.front),Laya3D.formatRelativePath(ltcBasePath,ltcData.back),Laya3D.formatRelativePath(ltcBasePath,ltcData.left),Laya3D.formatRelativePath(ltcBasePath,ltcData.right),Laya3D.formatRelativePath(ltcBasePath,ltcData.up),Laya3D.formatRelativePath(ltcBasePath,ltcData.down)];
			var ltcWeight=1.0 / 7.0;
			Laya3D._onProcessChange(loader,0,ltcWeight,1.0);
			var processHandler=Handler.create(null,Laya3D._onProcessChange,[loader,ltcWeight,6 / 7],false);
			Laya3D._innerFourthLevelLoaderManager.load(urls,Handler.create(null,Laya3D._onTextureCubeImagesLoaded,[loader,urls,processHandler]),processHandler,"nativeimage");
		}
	}

	Laya3D._onTextureCubeImagesLoaded=function(loader,urls,processHandler){
		var images=new Array(6);
		for (var i=0;i < 6;i++)
		images[i]=Loader.getRes(urls[i]);
		loader.endLoad(images);
		processHandler.recover();
		for (var i=0;i < 6;i++)
		Loader.clearRes(urls[i]);
	}

	Laya3D._onProcessChange=function(loader,offset,weight,process){
		process=offset+process *weight;
		(process < 1.0)&& (loader.event("progress",process));
	}

	Laya3D.init=function(width,height,antialias,alpha,premultipliedAlpha,stencil){
		(antialias===void 0)&& (antialias=false);
		(alpha===void 0)&& (alpha=false);
		(premultipliedAlpha===void 0)&& (premultipliedAlpha=true);
		(stencil===void 0)&& (stencil=true);
		RunDriver.cancelLoadByUrl=function (url){
			Laya3D._cancelLoadByUrl(url);
		}
		Config.isAntialias=antialias;
		Config.isAlpha=alpha;
		Config.premultipliedAlpha=premultipliedAlpha;
		Config.isStencil=stencil;
		WebGL.enable();
		if (!Render.isConchApp){
			LayaGL.instance=WebGL.mainContext;
			LayaGL.instance.createCommandEncoder=function (reserveSize,adjustSize,isSyncToRenderThread){
				(reserveSize===void 0)&& (reserveSize=128);
				(adjustSize===void 0)&& (adjustSize=64);
				(isSyncToRenderThread===void 0)&& (isSyncToRenderThread=false);
				return new CommandEncoder(this,reserveSize,adjustSize,isSyncToRenderThread);
			}
		}
		RunDriver.changeWebGLSize=Laya3D._changeWebGLSize;
		Render.is3DMode=true;
		Laya.init(width,height);
		if (Render.isConchApp)Laya3D.enableNative3D();
		Physics.__init__();
		RenderableSprite3D.__init__();
		SkinnedMeshSprite3D.__init__();
		ShuriKenParticle3D.__init__();
		BaseMaterial.__init__();
		BlinnPhongMaterial.__init__();
		PBRMaterial.__init__();
		PBRStandardMaterial.__init__();
		PBRSpecularMaterial.__init__();
		UnlitMaterial.__init__();
		TrailSprite3D.__init__();
		TrailMaterial.__init__();
		WaterPrimaryMaterial.__init__();
		ShurikenParticleMaterial.__init__();
		TerrainMaterial.__init__();
		ExtendTerrainMaterial.__init__();
		ShaderInit3D.__init__();
		MeshSprite3D.__init__();
		AnimationNode.__init__();
		Texture2D.__init__();
		TextureCube.__init__();
		SkyBox.__init__();
		FrustumCulling.__init__();
		Laya3D.__init__();
		if (Laya3D.debugMode || OctreeNode.debugMode)
			Laya3D._debugPhasorSprite=new PhasorSpriter3D();
	}

	Laya3D.HIERARCHY="SPRITE3DHIERARCHY";
	Laya3D.MESH="MESH";
	Laya3D.MATERIAL="MATERIAL";
	Laya3D.PBRMATERIAL="PBRMTL";
	Laya3D.TEXTURECUBE="TEXTURECUBE";
	Laya3D.TERRAIN="TERRAIN";
	Laya3D._debugPhasorSprite=null;
	Laya3D.debugMode=false;
	__static(Laya3D,
	['_innerFirstLevelLoaderManager',function(){return this._innerFirstLevelLoaderManager=new LoaderManager();},'_innerSecondLevelLoaderManager',function(){return this._innerSecondLevelLoaderManager=new LoaderManager();},'_innerThirdLevelLoaderManager',function(){return this._innerThirdLevelLoaderManager=new LoaderManager();},'_innerFourthLevelLoaderManager',function(){return this._innerFourthLevelLoaderManager=new LoaderManager();}
	]);
	return Laya3D;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/PathFinding/core/DiagonalMovement.as=======199.999016/199.999016
/**
*...
*@author dongketao
*/
//class PathFinding.core.DiagonalMovement
var DiagonalMovement=(function(){
	function DiagonalMovement(){}
	__class(DiagonalMovement,'PathFinding.core.DiagonalMovement');
	DiagonalMovement.Always=1;
	DiagonalMovement.Never=2;
	DiagonalMovement.IfAtMostOneObstacle=3;
	DiagonalMovement.OnlyWhenNoObstacles=4;
	return DiagonalMovement;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/PathFinding/core/Grid.as=======199.999015/199.999015
/**
*...
*@author dongketao
*/
//class PathFinding.core.Grid
var Grid=(function(){
	function Grid(width_or_matrix,height,matrix){
		this.width=0;
		this.height=0;
		this.nodes=null;
		var width=0;
		if ((typeof width_or_matrix=='number')){
			width=width_or_matrix;
		}
		else{
			height=width_or_matrix.length;
			width=width_or_matrix[0].length;
			matrix=width_or_matrix;
		}
		this.width=width;
		this.height=height;
		this.nodes=this._buildNodes(width,height,matrix);
	}

	__class(Grid,'PathFinding.core.Grid');
	var __proto=Grid.prototype;
	/**
	*Build and return the nodes.
	*@private
	*@param {number}width
	*@param {number}height
	*@param {Array<Array<number|boolean>>}[matrix]-A 0-1 matrix representing
	*the walkable status of the nodes.
	*@see Grid
	*/
	__proto._buildNodes=function(width,height,matrix){
		var i=0,j=0,nodes=[];
		for (i=0;i < height;++i){
			nodes[i]=[];
			for (j=0;j < width;++j){
				nodes[i][j]=new Node$1(j,i);
			}
		}
		if (matrix==null){
			return nodes;
		}
		if (matrix.length !=height || matrix[0].length !=width){
			throw new Error('Matrix size does not fit');
		}
		for (i=0;i < height;++i){
			for (j=0;j < width;++j){
				if (matrix[i][j]){
					nodes[i][j].walkable=false;
				}
			}
		}
		return nodes;
	}

	__proto.getNodeAt=function(x,y){
		return this.nodes[y][x];
	}

	/**
	*Determine whether the node at the given position is walkable.
	*(Also returns false if the position is outside the grid.)
	*@param {number}x-The x coordinate of the node.
	*@param {number}y-The y coordinate of the node.
	*@return {boolean}-The walkability of the node.
	*/
	__proto.isWalkableAt=function(x,y){
		return this.isInside(x,y)&& this.nodes[y][x].walkable;
	}

	/**
	*Determine whether the position is inside the grid.
	*XXX:`grid.isInside(x,y)` is wierd to read.
	*It should be `(x,y)is inside grid`,but I failed to find a better
	*name for this method.
	*@param {number}x
	*@param {number}y
	*@return {boolean}
	*/
	__proto.isInside=function(x,y){
		return (x >=0 && x < this.width)&& (y >=0 && y < this.height);
	}

	/**
	*Set whether the node on the given position is walkable.
	*NOTE:throws exception if the coordinate is not inside the grid.
	*@param {number}x-The x coordinate of the node.
	*@param {number}y-The y coordinate of the node.
	*@param {boolean}walkable-Whether the position is walkable.
	*/
	__proto.setWalkableAt=function(x,y,walkable){
		this.nodes[y][x].walkable=walkable;
	}

	/**
	*Get the neighbors of the given node.
	*
	*offsets diagonalOffsets:
	*+---+---+---++---+---+---+
	*| | 0 | | | 0 | | 1 |
	*+---+---+---++---+---+---+
	*| 3 | | 1 | | | | |
	*+---+---+---++---+---+---+
	*| | 2 | | | 3 | | 2 |
	*+---+---+---++---+---+---+
	*
	*When allowDiagonal is true,if offsets[i] is valid,then
	*diagonalOffsets[i] and
	*diagonalOffsets[(i+1)% 4] is valid.
	*@param {Node}node
	*@param {diagonalMovement}diagonalMovement
	*/
	__proto.getNeighbors=function(node,diagonalMovement){
		var x=node.x,y=node.y,neighbors=[],s0=false,d0=false,s1=false,d1=false,s2=false,d2=false,s3=false,d3=false,nodes=this.nodes;
		if (this.isWalkableAt(x,y-1)){
			neighbors.push(nodes[y-1][x]);
			s0=true;
		}
		if (this.isWalkableAt(x+1,y)){
			neighbors.push(nodes[y][x+1]);
			s1=true;
		}
		if (this.isWalkableAt(x,y+1)){
			neighbors.push(nodes[y+1][x]);
			s2=true;
		}
		if (this.isWalkableAt(x-1,y)){
			neighbors.push(nodes[y][x-1]);
			s3=true;
		}
		if (diagonalMovement==DiagonalMovement.Never){
			return neighbors;
		}
		if (diagonalMovement==DiagonalMovement.OnlyWhenNoObstacles){
			d0=s3 && s0;
			d1=s0 && s1;
			d2=s1 && s2;
			d3=s2 && s3;
		}
		else if (diagonalMovement==DiagonalMovement.IfAtMostOneObstacle){
			d0=s3 || s0;
			d1=s0 || s1;
			d2=s1 || s2;
			d3=s2 || s3;
		}
		else if (diagonalMovement==DiagonalMovement.Always){
			d0=true;
			d1=true;
			d2=true;
			d3=true;
		}
		else{
			throw new Error('Incorrect value of diagonalMovement');
		}
		if (d0 && this.isWalkableAt(x-1,y-1)){
			neighbors.push(nodes[y-1][x-1]);
		}
		if (d1 && this.isWalkableAt(x+1,y-1)){
			neighbors.push(nodes[y-1][x+1]);
		}
		if (d2 && this.isWalkableAt(x+1,y+1)){
			neighbors.push(nodes[y+1][x+1]);
		}
		if (d3 && this.isWalkableAt(x-1,y+1)){
			neighbors.push(nodes[y+1][x-1]);
		}
		return neighbors;
	}

	/**
	*Get a clone of this grid.
	*@return {Grid}Cloned grid.
	*/
	__proto.clone=function(){
		var i=0,j=0,
		width=this.width,height=this.height,thisNodes=this.nodes,
		newGrid=new Grid(width,height),newNodes=[];
		for (i=0;i < height;++i){
			newNodes[i]=[];
			for (j=0;j < width;++j){
				newNodes[i][j]=new Node$1(j,i,thisNodes[i][j].walkable);
			}
		}
		newGrid.nodes=newNodes;
		return newGrid;
	}

	__proto.reset=function(){
		var _node;
		for (var i=0;i < this.height;++i){
			for (var j=0;j < this.width;++j){
				_node=this.nodes[i][j];
				_node.g=0;
				_node.f=0;
				_node.h=0;
				_node.by=0;
				_node.parent=null;
				_node.opened=null;
				_node.closed=null;
				_node.tested=null;
			}
		}
	}

	Grid.createGridFromAStarMap=function(texture){
		var textureWidth=texture.width;
		var textureHeight=texture.height;
		var pixelsInfo=texture.getPixels();
		var aStarArr=[];
		var index=0;
		for (var w=0;w < textureWidth;w++){
			var colaStarArr=aStarArr[w]=[];
			for (var h=0;h < textureHeight;h++){
				var r=pixelsInfo[index++];
				var g=pixelsInfo[index++];
				var b=pixelsInfo[index++];
				var a=pixelsInfo[index++];
				if (r==255 && g==255 && b==255 && a==255)
					colaStarArr[h]=1;
				else {
					colaStarArr[h]=0;
				}
			}
		};
		var gird=new Grid(textureWidth,textureHeight,aStarArr);
		return gird;
	}

	return Grid;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/PathFinding/core/Heuristic.as=======199.999014/199.999014
/**
*...
*@author dongketao
*/
//class PathFinding.core.Heuristic
var Heuristic=(function(){
	function Heuristic(){}
	__class(Heuristic,'PathFinding.core.Heuristic');
	Heuristic.manhattan=function(dx,dy){
		return dx+dy;
	}

	Heuristic.euclidean=function(dx,dy){
		return Math.sqrt(dx *dx+dy *dy);
	}

	Heuristic.octile=function(dx,dy){
		var F=Math.SQRT2-1;
		return (dx < dy)? F *dx+dy :F *dy+dx;
	}

	Heuristic.chebyshev=function(dx,dy){
		return Math.max(dx,dy);
	}

	return Heuristic;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/PathFinding/core/Node.as=======199.999013/199.999013
/**
*...
*@author dongketao
*/
//class PathFinding.core.Node
var Node$1=(function(){
	function Node(x,y,walkable){
		this.x=0;
		this.y=0;
		this.g=0;
		this.f=0;
		this.h=0;
		this.by=0;
		this.parent=null;
		this.opened=null;
		this.closed=null;
		this.tested=null;
		this.retainCount=null;
		this.walkable=false;
		(walkable===void 0)&& (walkable=true);
		this.x=x;
		this.y=y;
		this.walkable=walkable;
	}

	__class(Node,'PathFinding.core.Node',null,'Node$1');
	return Node;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/UIConfig.as=======199.998992/199.998992
/**全局配置*/
//class UIConfig
var UIConfig=(function(){
	function UIConfig(){}
	__class(UIConfig,'UIConfig');
	UIConfig.touchScrollEnable=true;
	UIConfig.mouseWheelEnable=true;
	UIConfig.showButtons=true;
	UIConfig.popupBgColor="#000000";
	UIConfig.popupBgAlpha=0.5;
	UIConfig.closeDialogOnSide=true;
	return UIConfig;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSConnect.as=======199.998991/199.998991
/**
*帧同步 连接
*封装厘米秀Room 内部接口
*@author wulongbin
*
*/
//class fs.FSConnect
var FSConnect=(function(){
	function FSConnect(){
		/**
		*厘米秀房间
		*/
		this.room=null;
		this.broadcastDispatcher=new EventDispatcher;
		this.init();
	}

	__class(FSConnect,'fs.FSConnect');
	var __proto=FSConnect.prototype;
	Laya.imps(__proto,{"fs.IFSConnect":true})
	/**
	*初始化厘米秀房间对象
	*
	*/
	__proto.init=function(){
		this.room=new BK.Room;
		this.room.setBroadcastDataCallBack(this.onBroadcast.bind(this));
		this.room.setStartGameCallback(this.onStartGame.bind(this));
		this.room.setFrameSyncListener(this.onFrameSync.bind(this));
		this.room.setLeaveRoomCallback(this.onLeaveRoom.bind(this));
	}

	/**
	*创建房间
	*@param userID
	*
	*/
	__proto.createRoom=function(userID){
		Laya.timer.loop(1,this.room,this.room.updateSocket);
		this.room.createAndJoinRoom(FSGame.gameID,userID+'',this.onJoinRoom.bind(this));
	}

	/**
	*加入房间
	*@param userID
	*@param roomID
	*
	*/
	__proto.joinRoom=function(userID,roomID){
		Laya.timer.loop(1,this.room,this.room.updateSocket);
		this.room.queryAndJoinRoom(FSGame.gameID,roomID,userID+'',this.onJoinRoom.bind(this));
	}

	__proto.match=function(userID){
		throw 'not support';
	}

	/**
	*开始游戏
	*
	*/
	__proto.startGame=function(){
		this.room.startGame(this.onStartGame.bind(this));
	}

	/**
	*广播消息
	*@param msg
	*
	*/
	__proto.broadcast=function(msg){
		var buff=FSConnect.msgToBuffer(msg);
		this.room.sendBroadcastData(buff);
		buff.releaseBuffer();
	}

	/**
	*监听广播消息
	*@param msgType
	*@param caller
	*@param func
	*
	*/
	__proto.listenBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.on(MessageUtils.getClassKey(msgType),caller,func);
	}

	/**
	*取消监听广播消息
	*@param msgType
	*@param caller
	*@param func
	*
	*/
	__proto.cancleBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.off(MessageUtils.getClassKey(msgType),caller,func);
	}

	/**
	*发送操作消息
	*@param op
	*
	*/
	__proto.sendSyncOpt=function(op){
		var buff=FSConnect.msgToBuffer(op);
		this.room.sendSyncOpt(buff,this.onSyncOpt.bind(this));
		buff.releaseBuffer();
	}

	/**
	*错误输出
	*@param type
	*@param code
	*
	*/
	__proto.error=function(type,code){
		console.log('FSConnect Error:'+type+":"+code);
	}

	/**
	*日志输出
	*@param parma
	*
	*/
	__proto.log=function(__param){
		var param=arguments;
		console.log(param);
	}

	/**
	*操作消息 回调
	*
	*/
	__proto.onSyncOpt=function(){}
	/**
	*广播消息 回调
	*@param fromId
	*@param buff
	*
	*/
	__proto.onBroadcast=function(fromId,buff){
		var proxy=BufferProxy.I;
		proxy.bind(buff);
		var msg=MessageUtils.readMessageFromByte(proxy);
		this.broadcastDispatcher.event(msg.msgKey,msg);
	}

	/**
	*开始游戏 回调
	*@param statusCode
	*
	*/
	__proto.onStartGame=function(statusCode){
		if(statusCode.code!='0'){
			this.error('startGame',statusCode.code);
			return;
		}
		FSGame.room._onGameStart();
	}

	/**
	*帧消息 回调
	*@param frameDataArray
	*
	*/
	__proto.onFrameSync=function(frameDataArray){
		for (var index=0;index < frameDataArray.length;index++){
			var ops=frameDataArray[index];
			var opsLength=ops.length;
			for(var j=0;j<opsLength;j++){
				ops[j]=FSConnect.bufferToMsg(ops[j].dataBuffer);
			}
			FSGame.fsm.onAcceptOPS(ops);
		}
	}

	/**
	*离开房间 回调
	*@param statusCode
	*@param leaveInfo
	*
	*/
	__proto.onLeaveRoom=function(statusCode,leaveInfo){
		if(statusCode.code!='0'){
			this.error('leaveRoom',statusCode.code);
			return;
		};
		var userId=parseInt(leaveInfo.logOutId);
		this.log('玩家[userID='+userId+']离开房间');
		FSGame.room._onLeaveRoom(userId);
	}

	/**
	*加入房间 回调
	*注：其他玩家加入也会回调
	*@param statusCode
	*@param room
	*
	*/
	__proto.onJoinRoom=function(statusCode,room){
		if(statusCode!='0'){
			this.error('joinRoom',statusCode);
			return;
		}
		this.log('新玩家加入');
		FSGame.room._onJoinRoom();
	}

	__proto.regMessageList=function(msgs){
		MessageUtils.regMessageList(msgs);
		MessageUtils.setMessagesKey(msgs);
	}

	/**
	*连接的房间 id
	*@return
	*
	*/
	__getset(0,__proto,'roomID',function(){
		return this.room.roomId;
	});

	/**
	*是否在房间中
	*@return
	*
	*/
	__getset(0,__proto,'isInRoom',function(){
		return this.room.status==1;
	});

	/**
	*是否在游戏中
	*@return
	*
	*/
	__getset(0,__proto,'isInGame',function(){
		return this.room.status==2;
	});

	/**
	*玩家人数
	*@return
	*
	*/
	__getset(0,__proto,'playerNum',function(){
		return this.room.currentPlayers.length;
	});

	/**
	*是否是本地模式
	*@return
	*
	*/
	__getset(0,__proto,'isLocalMode',function(){
		return false;
	});

	FSConnect.bufferToMsg=function(buffer){
		var proxy=BufferProxy.I;
		proxy.bind(buffer);
		return MessageUtils.readMessageFromByte(proxy);
	}

	FSConnect.msgToBuffer=function(msg){
		var buffer=new BK.Buffer(FSConnect.getByteLength(msg));
		var proxy=BufferProxy.I;
		proxy.bind(buffer);
		proxy.writeInt32(MessageUtils.getObjectClassID(msg));
		msg.write(proxy);
		return buffer;
	}

	FSConnect.getByteLength=function(msg,hasHeadID){
		(hasHeadID===void 0)&& (hasHeadID=false);
		var byteLength=hasHeadID?0:4;
		var des=MessageUtils.getDesByObject(msg);
		var i=0,len=0;
		len=des.length;
		var tArr;
		for (i=0;i < len;i++){
			tArr=des[i];
			byteLength+=FSConnect._getByteLengthByType(msg,tArr[1],msg[tArr[0]],tArr);
		}
		return byteLength;
	}

	FSConnect._getByteLengthByType=function(msg,type,value,param){
		switch (type){
			case 0:
				return 2;
				break ;
			case 1:
				return 2;
				break ;
			case 2:
				return 2;
				break ;
			case 3:
				return 2;
				break ;
			case 4:
				return 2;
				break ;
			case 5:
				return 4;
				break ;
			case 6:
				return 4;
				break ;
			case 7:
				return 4;
				break ;
			case 8:
				return 8;
				break ;
			case 9:
				return FSConnect.getStrLeng(value);
				break ;
			case 11:
				return FSConnect.getByteLength(value,true);
				break ;
			case 10:;
				var byteLen=4;
				var len=value.length;
				for (var i=0;i < len;i++){
					len+=FSConnect._getByteLengthByType(msg,param[0],value[i]);
				}
				break ;
			}
		return 0;
	}

	FSConnect.getStrLeng=function(str){
		var realLength=0;
		var len=str.length;
		var charCode=-1;
		for(var i=0;i < len;i++){
			charCode=str.charCodeAt(i);
			if (charCode >=0 && charCode <=128){
				realLength+=1;
				}else{
				realLength+=3;
			}
		}
		return realLength;
	}

	return FSConnect;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSLayaConnect.as=======199.998990/199.998990
//class fs.FSLayaConnect
var FSLayaConnect=(function(){
	function FSLayaConnect(){
		this.room=null;
		this.status=0;
		this.roomname=null;
		this.game=null;
		this._callBack=null;
		this.broadcastDispatcher=new EventDispatcher;
		this['_onEnterRoom']=this._onEnterRoom.bind(this);
		this['loginPlatform']=this.loginPlatform.bind(this);
	}

	__class(FSLayaConnect,'fs.FSLayaConnect');
	var __proto=FSLayaConnect.prototype;
	Laya.imps(__proto,{"platform.game.IMessage":true,"fs.IFSConnect":true})
	__proto.loginPlatform=function(gameid,appid,unionid,callback){
		this._callBack=callback;
		Platform.Instance.init(gameid,appid,unionid,this.initPlatform.bind(this),this);
	}

	__proto.initPlatform=function(){
		Platform.Instance.union.login(null,this.onLoginResult.bind(this));
	}

	__proto.regMessageList=function(msgs){
		MessageUtils.regMessageList(msgs);
		MessageUtils.setMessagesKey(msgs);
		var i=0;
		var len=msgs.length;
		for(i;i<len;i++){
			var cla=msgs[i];
			GameSocket$1.regClassMap(MessageUtils.getClassKey(cla),cla);
		}
	}

	__proto.onLoginResult=function(data){
		FSGame.userID=data.data.userId;
		this.game=Platform.Instance.game;
		this._callBack(data);
	}

	__proto.startGame=function(){
		this.game.gotoGame(null);
	}

	__proto.createRoom=function(userID){
		this.game.createRoom(this._onEnterRoom);
	}

	__proto.joinRoom=function(userID,roomID){
		this.game.joinRoom(roomID,this._onEnterRoom)
	}

	__proto.match=function(userID){
		this.game.match(null);
	}

	__proto._onEnterRoom=function(info){
		this.status=1;
		this.room=info.data.room;
		this.room.players[0].openid;
		this.roomname=info.data.roomname;
		FSGame.room._onJoinRoom(info);
	}

	__proto.broadcast=function(msg){
		(msg).classid=(msg).msgKey;
		this.game.broadcast(msg,null);
	}

	__proto.listenBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.on(MessageUtils.getClassKey(msgType),caller,func);
	}

	__proto.cancleBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.off(MessageUtils.getClassKey(msgType),caller,func);
	}

	__proto.sendSyncOpt=function(op){
		(op).classid=(op).msgKey;
		this.game.syncoptByObject(op);
	}

	__proto.onroomstarted=function(){
		this.status=2;
		FSGame.room._onGameStart();
	}

	__proto.onDatachg=function(data){}
	// TODO Auto Generated method stub
	__proto.onItemExpired=function(item){}
	// TODO Auto Generated method stub
	__proto.onJoinRoom=function(data){
		FSGame.room._onJoinRoom(data);
	}

	__proto.onbroadcast=function(msg){
		this.broadcastDispatcher.event((msg).msgKey,msg);
	}

	__proto.onmsg=function(obj){}
	// TODO Auto Generated method stub
	__proto.onpush=function(obj){
		var f=obj.f;
		var indexLen=f.length;
		for (var index=0;index < indexLen;index++){
			var ops=f[index].ds;
			var opsLength=ops.length;
			var opsArr=[];
			for(var j=0;j<opsLength;j++){
				opsArr[j]=ops[j].exo;
			}
			FSGame.fsm.onAcceptOPS(opsArr);
		}
	}

	// }
	__proto.getData=function(query,callback){
		this.game && this.game.getData(query,callback);
	}

	__proto.onLeaveRoom=function(data){
		FSGame.room._onLeaveRoom(data.openid);
	}

	__proto.leaveRoom=function(reason,callback){
		this.game && this.game.leave(reason,callback);
	}

	__getset(0,__proto,'playerNum',function(){
		return this.room?this.room.players.length:0;
	});

	__getset(0,__proto,'roomID',function(){
		return this.roomname;
	});

	__getset(0,__proto,'isInRoom',function(){
		return this.status==1;
	});

	__getset(0,__proto,'isInGame',function(){
		return this.status==2;
	});

	__getset(0,__proto,'isLocalMode',function(){
		return false;
	});

	return FSLayaConnect;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSLocalConnect.as=======199.998989/199.998989
/**
*帧同步 本地 模拟连接
*@author wulongbin
*
*/
//class fs.FSLocalConnect
var FSLocalConnect=(function(){
	function FSLocalConnect(){
		this.status=0;
		this._cacheOps=[];
		this.broadcastDispatcher=new EventDispatcher;
	}

	__class(FSLocalConnect,'fs.FSLocalConnect');
	var __proto=FSLocalConnect.prototype;
	Laya.imps(__proto,{"fs.IFSConnect":true})
	__proto.startGame=function(){
		this.status=2;
		FSGame.room._onGameStart();
		Laya.timer.loop(1000/FSGame.fsm.serverFramerate,this,this.onLoop);
	}

	__proto.onLoop=function(){
		FSGame.fsm.onAcceptOPS(this._cacheOps);
		this._cacheOps=[];
	}

	__proto.createRoom=function(userID){
		this.status=1;
		FSGame.room._onJoinRoom(null);
	}

	__proto.match=function(userID){
		throw 'not support';
	}

	__proto.regMessageList=function(msgs){
		MessageUtils.regMessageList(msgs);
		MessageUtils.setMessagesKey(msgs);
	}

	__proto.joinRoom=function(userID,roomID){
		throw 'localConnect not support joinRoom!';
	}

	__proto.broadcast=function(msg){
		this.broadcastDispatcher.event((msg).msgKey,msg);
	}

	__proto.listenBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.on(MessageUtils.getClassKey(msgType),caller,func);
	}

	__proto.cancleBroadcast=function(msgType,caller,func){
		this.broadcastDispatcher.off(MessageUtils.getClassKey(msgType),caller,func);
	}

	__proto.sendSyncOpt=function(op){
		this._cacheOps.push(op);
	}

	__proto.getData=function(query,callback){}
	__proto.leaveRoom=function(reason,callback){}
	__getset(0,__proto,'playerNum',function(){
		return 1;
	});

	__getset(0,__proto,'roomID',function(){
		return 1;
	});

	__getset(0,__proto,'isInRoom',function(){
		return this.status==1;
	});

	__getset(0,__proto,'isInGame',function(){
		return this.status==2;
	});

	__getset(0,__proto,'isLocalMode',function(){
		return true;
	});

	return FSLocalConnect;
})()


	//file:///H:/work/sniper/layaLib/src/fs/FSManage.as=======199.998988/199.998988
/**
*...
*@author Laya
*/
//class fs.FSManage
var FSManage=(function(){
	function FSManage(){
		/**服务器帧同步帧频*/
		this.serverFramerate=20;
		/**客户端渲染帧频*/
		this.clientFramerate=60;
		/**客户端与服务端帧频比：（即每次收到帧消息后增加的渲染帧数）*/
		this.CSFrameratio=NaN;
		/**帧渲染平均时间*/
		this.frameInterval=NaN;
		/**
		*操作对象池
		*/
		this._opSprites={};
		/**
		*当前时间
		*/
		this._time=NaN;
		/**播放总帧数*/
		this.totalFrame=0;
		/**当前帧*/
		this.currentFrame=0;
		/**操作缓存*/
		this.cacheOps={};
		/**帧同步时间管理器*/
		this.timer=null;
		/**缓动管理*/
		this.tween=null;
		this.sceneLoop=null;
		// private var countNum:Number=0;
		this._delayCacheOps=[];
		// _delayCacheOps.push(ops);
		this._ids=0;
		/**
		*随机函数种子，可修改，但必须确保所有人起始值一直
		*/
		this.randomSeed=0;
		this.timer=new FSTimer;
		this.timer["_now"]=this.getTimer.bind(this);
		this.tween=new TweenManager(this.timer);
	}

	__class(FSManage,'fs.FSManage');
	var __proto=FSManage.prototype;
	/**
	*获取当前时间
	*@return
	*
	*/
	__proto.getTimer=function(){
		return this._time;
	}

	/**
	*游戏开始回调
	*
	*/
	__proto.onGameStart=function(){
		this.CSFrameratio=this.clientFramerate/this.serverFramerate;
		this.frameInterval=Math.ceil(1000/this.clientFramerate);
		this.totalFrame=0;
		this.currentFrame=0;
		this._time=0;
		this._opSprites={};
		Laya.timer.frameLoop(1,this,this.onLoop);
		this._ids=-1;
		this.timer.reset();
		this.tween.reset();
	}

	/**
	*游戏结束清理
	*
	*/
	__proto.onGameOver=function(){
		Laya.timer.clear(this,this.onLoop);
		this._opSprites=null;
	}

	/**
	*前端轮训
	*
	*/
	__proto.onLoop=function(){
		var num=0;
		var execNum=Math.ceil((this.totalFrame-this.currentFrame)/(this.CSFrameratio*2));
		while(this.currentFrame<this.totalFrame && num<execNum){
			var ops=this.cacheOps[this.currentFrame];
			if(ops){
				delete this.cacheOps[this.currentFrame];
				var opsNum=ops.length;
				for (var i=0;i < opsNum;i++){
					var op=ops[i];
					var o=this._opSprites[op.getID()];
					o&&o.dealOP(op);
				}
			}
			num++;
			this.currentFrame++;
			this._time=this.currentFrame*this.frameInterval;
			for(i in this._opSprites){
				(this._opSprites [i]).onLoop();
			}
			if(this.sceneLoop){
				this.sceneLoop();
			}
			this.timer._update();
		}
	}

	/**
	*收到帧消息并缓存
	*@param ops
	*
	*/
	__proto.onAcceptOPS=function(ops){
		this.cacheOps[this.totalFrame]=ops;
		this.totalFrame+=this.CSFrameratio;
	}

	/**
	*添加操作精灵
	*（注：如果对象id==0,则自动重写）
	*@param sprite
	*
	*/
	__proto.addSprite=function(sprite){
		var id=sprite.ID;
		if (id<0){
			sprite.ID=id=this._ids--;
		}
		this._opSprites[id]=sprite;
		sprite.onInit();
	}

	/**
	*移除操作精灵
	*@param sprite
	*
	*/
	__proto.removeSprite=function(sprite){
		delete this._opSprites[sprite.ID];
	}

	/**
	*发送操作消息
	*@param op
	*
	*/
	__proto.sendSyncOpt=function(ID,op){
		(op).setID(ID);
		FSGame.connect.sendSyncOpt(op);
	}

	/**
	*随机函数
	*@return
	*
	*/
	__proto.random=function(){
		this.randomSeed++;
		return Math.abs(Math.sin(this.randomSeed*this.randomSeed/3));
	}

	return FSManage;
})()


	//file:///H:/work/sniper/layaLib/src/fs/utils/BufferProxy.as=======199.998985/199.998985
//class fs.utils.BufferProxy
var BufferProxy=(function(){
	function BufferProxy(){
		this.buffer=null;
	}

	__class(BufferProxy,'fs.utils.BufferProxy');
	var __proto=BufferProxy.prototype;
	__proto.bind=function(b){
		BufferProxy.I.buffer=b;
	}

	__proto.getUint8=function(){
		return this.buffer.readInt16Buffer();
	}

	__proto.readByte=function(){
		return this.buffer.readInt16Buffer();
	}

	__proto.getInt16=function(){
		return this.buffer.readInt16Buffer();
	}

	__proto.getUint16=function(){
		return this.buffer.readUint16Buffer();
	}

	__proto.getInt32=function(){
		return this.buffer.readInt32Buffer();
	}

	__proto.getUint32=function(){
		return this.buffer.readUint32Buffer();
	}

	__proto.getFloat32=function(){
		return this.buffer.readFloatBuffer();
	}

	__proto.getFloat64=function(){
		return this.buffer.readDoubleBuffer();
	}

	__proto.readUTFString=function(){
		return this.buffer.readStringBuffer();
	}

	__proto.writeUint8=function(v){
		this.buffer.writeInt16Buffer(v);
	}

	__proto.writeByte=function(v){
		this.buffer.writeInt16Buffer(v);
	}

	__proto.writeInt16=function(v){
		this.buffer.writeInt16Buffer(v);
	}

	__proto.writeUint16=function(v){
		this.buffer.writeUint16Buffer(v);
	}

	__proto.writeInt32=function(v){
		this.buffer.writeInt32Buffer(v);
	}

	__proto.writeUint32=function(v){
		this.buffer.writeUint32Buffer(v);
	}

	__proto.writeFloat32=function(v){
		this.buffer.writeFloatBuffer(v);
	}

	__proto.writeFloat64=function(v){
		this.buffer.writeDoubleBuffer(v);
	}

	__proto.writeUTFString=function(v){
		this.buffer.writeStringBuffer(v);
	}

	__static(BufferProxy,
	['I',function(){return this.I=new BufferProxy;}
	]);
	return BufferProxy;
})()


	//file:///H:/work/sniper/layaLib/src/fs/utils/Tween.as=======199.998982/199.998982
/**
*<code>Tween</code> 是一个缓动类。使用此类能够实现对目标对象属性的渐变。
*/
//class fs.utils.Tween
var Tween$1=(function(){
	function Tween(){
		//this._tweenManager=null;
		/**@private */
		//this._complete=null;
		/**@private */
		//this._target=null;
		/**@private */
		//this._ease=null;
		/**@private */
		//this._props=null;
		/**@private */
		//this._duration=0;
		/**@private */
		//this._delay=0;
		/**@private */
		//this._startTimer=0;
		/**@private */
		//this._usedTimer=0;
		/**@private */
		//this._usedPool=false;
		/**@private 唯一标识，TimeLintLite用到*/
		this.gid=0;
		/**更新回调，缓动数值发生变化时，回调变化的值*/
		//this.update=null;
	}

	__class(Tween,'fs.utils.Tween',null,'Tween$1');
	var __proto=Tween.prototype;
	/**
	*缓动对象的props属性到目标值。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.to=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,true,false,true);
	}

	/**
	*从props属性，缓动到当前状态。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.from=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,false,false,true);
	}

	/**@private */
	__proto._create=function(target,props,duration,ease,complete,delay,coverBefore,isTo,usePool,runNow){
		if (!target)throw new Error("Tween:target is null");
		this._target=target;
		this._duration=duration;
		this._ease=ease || props.ease || Tween.easeNone;
		this._complete=complete || props.complete;
		this._delay=delay;
		this._props=[];
		this._usedTimer=0;
		this._startTimer=this._tweenManager.timer.getTimer();
		this._usedPool=usePool;
		this.update=props.update;
		this._tweenManager._addTween(target,this,coverBefore);
		if (runNow){
			if (delay <=0)this.firstStart(target,props,isTo);
			else this._tweenManager.timer.once(delay,this,this.firstStart,[target,props,isTo]);
			}else {
			this._initProps(target,props,isTo);
		}
		return this;
	}

	__proto.firstStart=function(target,props,isTo){
		if (target.destroyed){
			this.clear();
			return;
		}
		this._initProps(target,props,isTo);
		this._beginLoop();
	}

	__proto._initProps=function(target,props,isTo){
		for (var p in props){
			if ((typeof (target[p])=='number')){
				var start=isTo ? target[p] :props[p];
				var end=isTo ? props[p] :target[p];
				this._props.push([p,start,end-start]);
				if (!isTo)target[p]=start;
			}
		}
	}

	__proto._beginLoop=function(){
		this._tweenManager.timer.frameLoop(1,this,this._doEase);
	}

	/**执行缓动**/
	__proto._doEase=function(){
		this._updateEase(this._tweenManager.timer.getTimer());
	}

	/**@private */
	__proto._updateEase=function(time){
		var target=this._target;
		if (!target)return;
		if (target.destroyed){
			return this._tweenManager.clearTween(target);
		};
		var usedTimer=this._usedTimer=time-this._startTimer-this._delay;
		if (usedTimer < 0)return;
		if (usedTimer >=this._duration)return this.complete();
		var ratio=usedTimer > 0 ? this._ease(usedTimer,0,1,this._duration):0;
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+(ratio *prop[2]);
		}
		if (this.update)this.update.run();
	}

	/**
	*立即结束缓动并到终点。
	*/
	__proto.complete=function(){
		if (!this._target)return;
		this._tweenManager.timer.runTimer(this,this.firstStart);
		var target=this._target;
		var props=this._props;
		var handler=this._complete;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+prop[2];
		}
		if (this.update)this.update.run();
		this.clear();
		handler && handler.run();
	}

	/**
	*暂停缓动，可以通过resume或restart重新开始。
	*/
	__proto.pause=function(){
		this._tweenManager.timer.clear(this,this._beginLoop);
		this._tweenManager.timer.clear(this,this._doEase);
	}

	/**
	*设置开始时间。
	*@param startTime 开始时间。
	*/
	__proto.setStartTime=function(startTime){
		this._startTimer=startTime;
	}

	/**
	*停止并清理当前缓动。
	*/
	__proto.clear=function(){
		if (this._target){
			this._tweenManager._removeTween(this);
			this._clear();
		}
	}

	/**
	*@private
	*/
	__proto._clear=function(){
		this.pause();
		this._tweenManager.timer.clear(this,this.firstStart);
		this._complete=null;
		this._target=null;
		this._ease=null;
		this._props=null;
		this.update=null;
		this._tweenManager=null;
	}

	/**回收到对象池。*/
	__proto.recover=function(){
		this._usedPool=true;
		this._clear();
	}

	/**
	*重新开始暂停的缓动。
	*/
	__proto.restart=function(){
		this.pause();
		this._usedTimer=0;
		this._startTimer=this._tweenManager.timer.getTimer();
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			this._target[prop[0]]=prop[1];
		}
		this._tweenManager.timer.once(this._delay,this,this._beginLoop);
	}

	/**
	*恢复暂停的缓动。
	*/
	__proto.resume=function(){
		if (this._usedTimer >=this._duration)return;
		this._startTimer=this._tweenManager.timer.getTimer()-this._usedTimer-this._delay;
		this._beginLoop();
	}

	/**设置当前执行比例**/
	__getset(0,__proto,'progress',null,function(v){
		var uTime=v *this._duration;
		this._startTimer=this._tweenManager.timer.getTimer()-this._delay-uTime;
	});

	Tween.easeNone=function(t,b,c,d){
		return c *t / d+b;
	}

	return Tween;
})()


	//file:///H:/work/sniper/layaLib/src/fs/utils/TweenManager.as=======199.998981/199.998981
//class fs.utils.TweenManager
var TweenManager=(function(){
	function TweenManager(timer){
		this.tweenMap={};
		this.timer=null;
		this.timer=timer;
	}

	__class(TweenManager,'fs.utils.TweenManager');
	var __proto=TweenManager.prototype;
	/**
	*缓动对象的props属性到目标值。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
	*@return 返回Tween对象。
	*/
	__proto.to=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return this._createTween()._create(target,props,duration,ease,complete,delay,coverBefore,true,autoRecover,true);
	}

	/**
	*从props属性，缓动到当前状态。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
	*@return 返回Tween对象。
	*/
	__proto.from=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return this._createTween()._create(target,props,duration,ease,complete,delay,coverBefore,false,autoRecover,true);
	}

	__proto._createTween=function(){
		var tween=Pool.getItemByClass("laya.tween",Tween$1);
		tween._tweenManager=this;
		return tween;
	}

	__proto._addTween=function(target,tween,coverBefore){
		var gid=(target.$_GID || (target.$_GID=Utils.getGID()));
		if (!this.tweenMap[gid]){
			this.tweenMap[gid]=[tween];
			}else {
			if (coverBefore)this.clearTween(target);
			this.tweenMap[gid].push(tween);
		}
	}

	__proto._removeTween=function(tween){
		var tweens=this.tweenMap[tween._target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				if (tweens[i]===tween){
					tweens.splice(i,1);
					if(tween._usedPool){
						Pool.recover("laya.tween",tween);
					}
					break ;
				}
			}
		}
	}

	/**
	*清理指定目标对象上的所有缓动。
	*@param target 目标对象。
	*/
	__proto.clearAll=function(target){
		if (!target || !target.$_GID)return;
		var tweens=this.tweenMap[target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				tweens[i]._clear();
			}
			tweens.length=0;
		}
	}

	/**
	*清除所有缓动
	*
	*/
	__proto.reset=function(){
		for(var key in this.tweenMap){
			var tweens=this.tweenMap[key];
			if (tweens){
				for (var i=0,n=tweens.length;i < n;i++){
					tweens[i]._clear();
				}
				tweens.length=0;
			}
			delete this.tweenMap[key];
		}
	}

	/**
	*清理某个缓动。
	*@param tween 缓动对象。
	*/
	__proto.clear=function(tween){
		tween.clear();
	}

	/**@private 同clearAll，废弃掉，尽量别用。*/
	__proto.clearTween=function(target){
		this.clearAll(target);
	}

	return TweenManager;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/group/GroupManager.as=======199.998976/199.998976
/**
*分组管理插件
*@author wulongbin
*
*/
//class laya.libs.group.GroupManager
var GroupManager=(function(){
	function GroupManager(){
		this.groupsByID=[];
		this.groups=[];
	}

	__class(GroupManager,'laya.libs.group.GroupManager');
	var __proto=GroupManager.prototype;
	/**
	*创建组
	*@param groupId
	*@return
	*
	*/
	__proto.createGroup=function(groupId){
		var group=CycleFactory.createObject2(GroupManager.groupClass);
		var config=Sheet.getByID("Group",groupId);
		group.init(config);
		return group;
	}

	/**
	*创建搜索结果数据结构
	*@return
	*
	*/
	__proto.createSearchResult=function(){
		return CycleFactory.createObject2(GroupManager.searchResultCla);
	}

	/**
	*获取组
	*@param groupId
	*@return
	*
	*/
	__proto.getGroup=function(groupId){
		var group=this.groupsByID[groupId];
		if(!group){
			this.groupsByID[groupId]=group=this.createGroup(groupId);
			this.groups.push(group);
		}
		return group;
	}

	/**
	*添加成员
	*@param groupId 组名
	*@param gameObj 成员
	*@return
	*
	*/
	__proto.add=function(groupId,gameObj){
		var group=this.getGroup(groupId);
		group.addGameObj(gameObj);
		return group;
	}

	/**
	*移除成员
	*@param gameObj
	*
	*/
	__proto.remove=function(gameObj){
		this.getGroup(gameObj.groupID).removeGameObj(gameObj);
	}

	/**
	*清理管理器
	*
	*/
	__proto.clear=function(){
		var i=0;
		var len=this.groups.length;
		for(;i<len;i++){
			var group=this.groups[i];
			if(group){
				group.recovery();
			}
		}
		this.groupsByID.length=0;
		this.groups.length=0;
	}

	/**
	*搜索技能作用对象
	*@param selfGroupId
	*@param outArray
	*
	*/
	__proto.searchSkillGroup=function(self){
		var result=this.createSearchResult();
		var selfGroupId=self.groupID;
		if(selfGroupId<0)return result;
		var group=this.groupsByID[selfGroupId];
		var parentGroup;
		var i=0;
		var len=this.groups.length;
		if(self.parentGroupID>=0){
			parentGroup=this.groupsByID[self.parentGroupID];
			for(;i<len;i++){
				var curGroup=this.groups[i];
				if(group.skillMatch(curGroup)&& parentGroup.skillMatch(curGroup)){
					curGroup.pull(result.array);
				}
			}
		}
		else{
			for(;i<len;i++){
				if(group.skillMatch(this.groups[i])){
					(this.groups [i]).pull(result.array);
				}
			}
		}
		return result;
	}

	GroupManager.init=function(groupClass,searchResultCla){
		laya.libs.group.GroupManager.groupClass=groupClass||Group;
		laya.libs.group.GroupManager.searchResultCla=searchResultCla||SearchResult;
		CycleFactory.registerClass2(laya.libs.group.GroupManager.groupClass);
		CycleFactory.registerClass2(laya.libs.group.GroupManager.searchResultCla);
	}

	GroupManager.groupClass=null;
	GroupManager.searchResultCla=null;
	return GroupManager;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/load/GLoaderManager.as=======199.998973/199.998973
/**
*...
*@author
*/
//class laya.libs.load.GLoaderManager
var GLoaderManager=(function(){
	function GLoaderManager(){
		this._tween=null;
		this._finish=null;
		this._fakeTime=NaN;
		this._realTime=NaN;
		this._progress=null;
		this._isUpdate=1;
		this._realPercent=NaN;
		this._percent=0;
		this._progressValue=0;
		this._fakePercent=0;
	}

	__class(GLoaderManager,'laya.libs.load.GLoaderManager');
	var __proto=GLoaderManager.prototype;
	/**
	*加载资源
	*@param objectArr 资源数组
	*@param progress 加载进度回调
	*@param finish 加载完成回调
	*@param fakePercent 假进度比例
	*@param fakeTime 假进度缓动时间
	*@param realTime 真进度缓动时间
	*@param field 资源路径标记
	*/
	__proto.loadres=function(objectArr,progress,finish,fakePercent,fakeTime,realTime,field){
		(fakePercent===void 0)&& (fakePercent=0.7);
		(fakeTime===void 0)&& (fakeTime=2000);
		(realTime===void 0)&& (realTime=10);
		(field===void 0)&& (field="resource");
		this._finish=finish;
		this._fakeTime=fakeTime;
		this._realTime=realTime;
		this._progress=progress;
		this._fakePercent=fakePercent;
		this._realPercent=1-fakePercent;
		var itemCount=objectArr.length;
		var item;
		var urls=[];
		var obj;
		var url;
		var type;
		for (var i=0;i < itemCount;i++){
			item=objectArr[i];
			url=item[field];
			type=this._getTypeFromUrl(url);
			obj={}
			obj.url=url;
			if (item['clas']){
				obj.clas=item['clas'];
				}else if (type=='image'){
				obj.clas=Texture;
			}
			urls.push(obj);
		}
		this._tween=Tween.to(GLoaderManager.I,{'percent':fakePercent},fakeTime,null,Handler.create(this,this._tweenComplete));
		Laya.loader.create(urls,Handler.create(this,this._loaderComplete),Handler.create(this,this._loaderProgress,null,false));
	}

	__proto._getTypeFromUrl=function(url){
		var type=Utils.getFileExtension(url);
		if (type)return Loader.typeMap[type];
		console.warn("Not recognize the resources suffix",url);
		return "text";
	}

	__proto._tweenComplete=function(){
		if (this._percent !=1){
			this._isUpdate=0;
			this._tween.to(GLoaderManager.I,{'percent':this._fakePercent+this._progressValue},this._fakeTime,null,Handler.create(this,this._tweenComplete));
		}
	}

	__proto._loaderComplete=function(){
		this._progressValue=this._realPercent;
		this._tween.clear();
		var time=(1-this._percent)*this._realTime *100;
		this._tween.to(GLoaderManager.I,{'percent':1 },time,null);
		console.log("_loaderComplete");
	}

	__proto._loaderProgress=function(v){
		console.log("_loaderProgress = "+v);
		this._progressValue=v *this._realPercent;
	}

	/**
	*当前加载进度
	*/
	__getset(0,__proto,'percent',function(){
		return this._percent;
		},function(value){
		this._percent=value;
		this._progress && this._progress.runWith([this._percent]);
		if (this._percent==1){
			this._finish.run();
			this._fakePercent=0;
			this._progressValue=0;
			this._percent=0;
			this._realPercent=0;
		}
	});

	__getset(1,GLoaderManager,'I',function(){
		return GLoaderManager._instance=GLoaderManager._instance|| new GLoaderManager();
	});

	GLoaderManager._instance=null;
	return GLoaderManager;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/path/PathUtil.as=======199.998966/199.998966
/**
*...
*@author
*/
//class laya.libs.path.PathUtil
var PathUtil=(function(){
	function PathUtil(){}
	__class(PathUtil,'laya.libs.path.PathUtil');
	PathUtil.setParabolaMove=function(target,radian,speed,len,g,callback){
		(g===void 0)&& (g=0.005);
		var _flyPath=Pool.getItemByClass("flyPath",FlyPath)
		_flyPath.moveBy(target,radian,speed,len);
		_flyPath.delta=Laya.timer.delta;
		_flyPath.g=g;
		_flyPath.callback=Handler.create(PathUtil,function(flyPath){
			Pool.recover("flyPath",flyPath);
			callback && callback.run();
		},[_flyPath]);
		_flyPath.start(Laya.stage.timer);
	}

	PathUtil.setTweenParam=function(target,x,y,dx,dy,callback,scaleX,scaleY,scaleTimer,alpha,timer,delay,ease){
		(scaleX===void 0)&& (scaleX=1.6);
		(scaleY===void 0)&& (scaleY=1.6);
		(scaleTimer===void 0)&& (scaleTimer=200);
		(alpha===void 0)&& (alpha=0);
		(timer===void 0)&& (timer=500);
		(delay===void 0)&& (delay=0);
		target.isFinish=false;
		Tween.from(target,{'scaleX':scaleX,'scaleY':scaleY},scaleTimer,Ease.backIn,Handler.create(PathUtil,a=function(_target,_delay){
			Tween.to(_target,{'x':x+dx,'y':y+dy,'alpha':alpha},timer,ease,callback,_delay);
		},[target,delay]))
	}

	return PathUtil;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/PropertyProxy.as=======199.998962/199.998962
//class laya.libs.proxy.PropertyProxy
var PropertyProxy=(function(){
	function PropertyProxy(){
		this.target=null;
		this.propertyName=null;
	}

	__class(PropertyProxy,'laya.libs.proxy.PropertyProxy');
	var __proto=PropertyProxy.prototype;
	Laya.imps(__proto,{"laya.libs.proxy.IpropertyProxy":true})
	__proto.reset=function(){}
	__proto.bindTarget=function(owner,propertyName){
		this.target=owner;
		this.propertyName=propertyName;
	}

	__proto.event=function(data){
		this.target.event(this.propertyName,data);
	}

	__proto.on=function(caller,method,data){
		this.target.on(this.propertyName,caller,method,data);
	}

	__proto.off=function(caller,method,data){
		this.target.off(this.propertyName,caller,method);
	}

	return PropertyProxy;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/rocker/Rocker.as=======199.998954/199.998954
/**
*摇杆组件。<br/>
*使用示例：<br/>
*var hero:Hero=new Hero();<br/>
*var rockerContain:Sprite=Laya.stage.addChild(new Sprite())as Sprite;<br/>
*var rocker:Rocker=rockerContain.addChild(new Rocker(false,false))as Rocker;<br/>
*rocker.pos(rocker.rockRadius+50,Laya.stage.height-rocker.rockRadius-50);<br/>
*rocker.setSkin(_bgSkin,_knobSkin);<br/>
*rocker.on(Event.LOADED,this,onLoaded);<br/>
*rocker.reg(hero);<br/>
*<br/>
*function onLoaded(url:String,texWidth:Number,texHeight:Number):void {<br/>
	*if (url===_bgSkin){<br/>
		*rocker.setRockArea(texWidth / 2);<br/>
		*rocker.setTouchArea(texWidth,texHeight);<br/>
		*}<br/>
	*}
*/
//class laya.libs.rocker.Rocker
var Rocker=(function(){
	function Rocker(){
		/**
		*Rocker的显示节点
		*/
		this.rockerNode=null;
		/**
		*触控进行有效移动的最小偏移量(X轴或Y轴任一轴向上的偏移量)，单位为像素，只在摇杆进入移动激活状态时有效。
		*/
		this.mouseMoveAccuracy=2;
		/**
		*摇杆移动激活半径，单位为像素，默认值为8。<br/>
		*此半径以摇杆中心点为圆心，定义了一个圆形区域，当玩家触控开始，且触控点一直在此区域内移动时，摇杆处于TouchDown状态，当触控点超出此区域后，摇杆更新状态为TouchMove，之后触控点再次返回区域内部时，摇杆状态依然为TouchMove。
		*/
		this.activeRadius=8;
		/**
		*摇动区域半径，单位为像素，默认值为100。
		*/
		this.rockRadius=100;
		/**
		*将单位圆按指定角度进行均匀分段，开发者可以指定每段的角度阈值，默认值为5，也就是分为72段。<br/>
		*常用于优化与服务器同步对象状态的通讯频率。<br/>
		*如果为5，则将单位圆等分为72段，(-2.5,2.5)区间范围内的角度值对应0度，[2.5,7.5)对应5度，依此类推。
		*/
		this.anglePerUnit=5;
		/**
		*对注册对象进行移动更新的最小间隔时间，单位为毫秒，默认值为0。<br/>
		*常用于优化与服务器同步对象状态的通讯频率。
		*/
		this.moveMinDeltaTime=0;
		/**
		*@private
		*摇杆组件的唯一子对象，其皮肤为摇杆背景，拖块为其子对象。<br/>
		*摇杆跟随模式下，此对象的位置会跟随玩家按下屏幕时的坐标点。
		*/
		this._baseSpr=null;
		/**
		*@private
		*摇杆背景皮肤路径
		*/
		this._bgSkin=null;
		/**
		*@private
		*摇杆拖块精灵
		*/
		this._knobSpr=null;
		/**
		*@private
		*摇杆拖块精灵皮肤路径
		*/
		this._knobSkin=null;
		/**
		*@private
		*摇杆类型。<br/>
		*true:摇杆跟随模式，用户按下屏幕时，摇杆更新自身位置到用户按下的位置<br/>
		*false:摇杆固定位置，用户按下屏幕时，不会自动跟随
		*/
		this._isFixed=true;
		/**
		*@private
		*当前摇杆指示的角度值。<br/>
		*X轴正方向为0，顺时针增加，取值范围[0,360)或-1(表示摇杆处于未触控状态)。
		*/
		this._angle=-1;
		/**
		*@private
		*当前摇杆指示的弧度值。<br/>
		*X轴正方向为0，顺时针增加，取值范围[0,2*PI)或-1(表示摇杆处于未触控状态)。
		*/
		this._radian=-1;
		/**
		*@private
		*是否在摇杆的激活区域内。<br/>
		*当用户触控点与摇杆基准原点的偏移量达到指定值后
		*/
		this._inActiveArea=false;
		/**
		*@private
		*用于触控精度逻辑，记录用户触控每次进行有效移动的舞台坐标
		*/
		this._moveBeginDeltaX=0;
		/**
		*@private
		*用于触控精度逻辑，记录用户触控每次进行有效移动的舞台坐标
		*/
		this._moveBeginDeltaY=0;
		/**
		*@private
		*用户在“摇杆响应区域”按下时的“触控ID”
		*/
		this._touchId=-1;
		/**
		*@private
		*摇杆组件在屏幕上的触摸响应区域
		*/
		this._touchSpr=null;
		/**
		*@private
		*用于标记对注册对象进行移动更新的最小间隔时间
		*/
		this._preTime=NaN;
		this._target=null;
		/**
		*@private
		*是否在移动设备，影响多点触控判断
		*/
		this._onMobile=false;
		/**
		*@private
		*摇杆背景纹理
		*/
		this._bgTex=null;
		/**
		*@private
		*摇杆是否启用
		*/
		this._enable=false;
		/**
		*@private
		*摇杆在无触控状态下是否自动隐藏，默认为false
		*非操控状态表示无触控状态和触控取消状态，操控状态表示触控按下和触控移动。
		*/
		this._autoHide=false;
		/**
		*@private
		*摇杆触摸区域宽度，仅在固定模式下生效
		*/
		this._touchWidth=0;
		/**
		*@private
		*摇杆触摸区域高度，仅在固定模式下生效
		*/
		this._touchHeight=0;
		/**
		*@private
		*“摇动区域中心点”相对于“摇杆背景图像中心点”在X轴上的偏移量
		*/
		this._rockAreaOfsX=0;
		/**
		*@private
		*“摇动区域中心点”相对于“摇杆背景图像中心点”在Y轴上的偏移量
		*/
		this._rockAreaOfsY=0;
		/**
		*@private
		*触控响应区域相对于摇杆中心点在X轴上的偏移量
		*/
		this._touchAreaOfsX=0;
		/**
		*@private
		*触控响应区域相对于摇杆中心点在Y轴上的偏移量
		*/
		this._touchAreaOfsY=0;
		/**
		*固定模式下摇杆的位置 0-左侧 1-右侧
		*/
		this._position=0;
		this.bgskin=null;
		this.ctrlSKin=null;
		this.keyName=null;
		this.centerPosOffCoe=0;
		this._touchState=Rocker.TouchNone;
		this.rockerNode=new RockerSprite(this);
		this.createChildren();
	}

	__class(Rocker,'laya.libs.rocker.Rocker');
	var __proto=Rocker.prototype;
	/**
	*@private
	*控制对象
	*/
	__proto.getTarget=function(){
		return this._target;
	}

	/**
	*@public
	*初始化Rocker参数
	*@param target 摇杆控制的目标接口
	*@param isFixed 摇杆是固定模式还是跟随模式。true:固定模式，摇杆固定位置，false:跟随模式，摇杆跟随用户按下时的位置
	*@param position 固定模式下摇杆的位置：0-左侧 1-右侧
	*/
	__proto.initRocker=function(target,isFixed,position){
		(isFixed===void 0)&& (isFixed=false);
		(position===void 0)&& (position=0);
		this._onMobile=Browser.onMobile;
		this._isFixed=isFixed;
		this._target=target;
		this.enable=!!this._target;
		this._position=position;
	}

	// this.on(Event.LOADED,this,onRockerLoaded);
	__proto.onRockerLoaded=function(url,texWidth,texHeight){
		this.setRockArea(texWidth / 2);
		this.setTouchArea(texWidth,texHeight);
		if(this._position==0){
			this.rockerNode.pos(this.rockRadius+50,Laya.stage.height-this.rockRadius-100);
			}else if(this._position==1){
			this.rockerNode.pos(Laya.stage.width-this.rockRadius-50,Laya.stage.height-this.rockRadius-100);
		}
	}

	/**
	*@private
	*被添加到父节点的事件
	*/
	__proto.onAdded=function(){
		if (!this._enable)return;
		this._touchSpr.parent || this.rockerNode.parent.addChild(this._touchSpr);
		this._touchSpr.on("mousedown",this,this.onTouchBegin);
		this.updateTouchArea();
		Laya.stage.on("resize",this,this.updateFollowedTouchArea);
		this.autoHide=this._autoHide;
	}

	/**
	*注册对象，并启用摇杆，开始响应玩家触控。<br/>
	*摇杆状态改变时，会调用注册对象的某些方法：TouchDown时调用target.moveBegin()，TouchMove时调用target.moveUpdate(radian)，TouchEnd时调用target.moveEnd()。<br/>
	*如果对应函数不存在，则不调用。
	*@param target 注册对象
	*/
	__proto.bindTarget=function(target){
		this._target=target;
		this.enable=this._target?true:false;
	}

	/**
	*反注册对象。清除已注册对象的引用，禁用摇杆触控响应，重置摇杆相关属性。
	*/
	__proto.unBindTarget=function(){
		this._target=null;
		this.enable=false;
		this.reset();
	}

	/**
	*反注册对象，并销毁自身。这会导致摇杆从显示列表移除，并且摇杆子对象被销毁，此后这个摇杆对象不能再用。
	*/
	__proto.kill=function(){
		this.rockerNode.destroy();
	}

	/**
	*@private
	*重置状态
	*/
	__proto.reset=function(){
		this._angle=-1;
		this._radian=-1;
		this._touchState=Rocker.TouchNone;
	}

	/**
	*@private
	*/
	__proto.createChildren=function(){
		this._baseSpr=this.rockerNode.addChild(new Sprite());
		this._knobSpr=this._baseSpr.addChild(new Sprite());
		this._touchSpr=new Sprite();
	}

	/**
	*设置摇杆皮肤。也可以单独设置背景皮肤(setter bgSkin)和拖块皮肤(setter knobSkin)。<br/>
	*每个资源加载完成后派发Event.LOADED事件，同时返回资源路径和资源宽高。
	*@param bgSkin 背景皮肤路径
	*@param knobSkin 拖块皮肤路径
	*/
	__proto.setSkin=function(bgSkin,knobSkin){
		this.bgSkin=bgSkin;
		this.knobSkin=knobSkin;
	}

	/**
	*@private
	*/
	__proto.loadKnobTexCmpl=function(url,img){
		if (url===this._knobSkin && img && !this.rockerNode.destroyed){
			this._knobSpr.graphics.cleanByTexture(img,-img.sourceWidth / 2,-img.sourceHeight / 2);
			this.onRockerLoaded(url,img.sourceWidth,img.sourceHeight);
		}
	}

	/**
	*@private
	*/
	__proto.loadBgTexCmpl=function(url,img){
		if (url===this._bgSkin && img && !this.rockerNode.destroyed){
			this._bgTex=img;
			this._baseSpr.graphics.cleanByTexture(this._bgTex,-this._bgTex.width / 2-this._rockAreaOfsX,-this._bgTex.height / 2-this._rockAreaOfsY);
			this.onRockerLoaded(url,img.sourceWidth,img.sourceHeight);
		}
	}

	/**
	*@private
	*更新摇杆触控响应区域。
	*/
	__proto.updateTouchArea=function(){
		if (!this._touchSpr.parent || !this._enable)return;
		if (this._isFixed){
			this.updateFixedTouchArea();
			}else {
			this.updateFollowedTouchArea();
		}
	}

	/**
	*在跟随模式下，更新摇杆触控响应区域。<br/>
	*在跟随模式下，舞台大小会发生变化，此时如果不更新，可能会导致触控区域与预期不一致。
	*/
	__proto.updateFollowedTouchArea=function(){
		if (!this._touchSpr.parent || this._isFixed || !this._enable)return;
		var touchAreaPos=(this._touchSpr.parent).globalToLocal(Point.TEMP.setTo(0,0));
		this._touchSpr.pos(touchAreaPos.x,touchAreaPos.y);
		var sizePoi=(this._touchSpr.parent).globalToLocal(Point.TEMP.setTo(Laya.stage.width,Laya.stage.height));
		this._touchSpr.size(sizePoi.x,sizePoi.y);
	}

	/**
	*在固定模式下，更新摇杆触控响应区域。<br/>
	*在固定模式下，对摇杆进行了重定位或缩放操作，此时如果不更新，可能会导致触控区域与预期不一致。
	*/
	__proto.updateFixedTouchArea=function(){
		if (!this._touchSpr.parent || !this._isFixed || !this._enable)return;
		this._touchSpr.pos(this.rockerNode.x+(this._touchAreaOfsX-this._touchWidth / 2)*this.rockerNode.scaleX,this.rockerNode.y+(this._touchAreaOfsY-this._touchHeight / 2)*this.rockerNode.scaleY);
		this._touchSpr.size(this._touchWidth *this.rockerNode.scaleX,this._touchHeight *this.rockerNode.scaleY);
	}

	/**
	*@private
	*用户按下的触控事件
	*/
	__proto.onTouchBegin=function(e){
		this._onMobile && (this._touchId=e.touchId);
		this._touchState=1;
		this.rockerNode.stage.on("mousemove",this,this.onTouchMove);
		this.rockerNode.stage.on("mouseup",this,this.onTouchEnd);
		this.rockerNode.stage.on("mouseout",this,this.onTouchCancel);
		this._inActiveArea=false;
		this._baseSpr.visible=true;
		var localPos;
		if (!this._isFixed){
			localPos=this.rockerNode.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));
			this._baseSpr.pos(localPos.x,localPos.y);
			this.updatePath(this._touchState);
			return;
		}
		localPos=this._baseSpr.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));
		var localDeltaX=localPos.x;
		var localDeltaY=localPos.y;
		this.centerPosOffCoe=Math.min(1,Math.sqrt(localDeltaX*localDeltaX+localDeltaY*localDeltaY)/this.rockRadius);
		if (Math.abs(localDeltaX)< this.activeRadius && Math.abs(localDeltaY)< this.activeRadius){
			this.updatePath(this._touchState);
			return;
		}
		this._inActiveArea=true;
		this._moveBeginDeltaX=localDeltaX;
		this._moveBeginDeltaY=localDeltaY;
		this._radian=Math.atan2(localDeltaY,localDeltaX);
		(this._radian < 0)&& (this._radian+=Math.PI *2);
		this._angle=this._radian *57.29577951308232;
		var _sqx=localDeltaX *localDeltaX;
		var _sqy=localDeltaY *localDeltaY;
		if (_sqy+_sqx > this.rockRadius *this.rockRadius){
			var x=Math.round(Math.cos(this._radian)*this.rockRadius);
			var y=Math.round(Math.sin(this._radian)*this.rockRadius);
			this._knobSpr.pos(x,y);
			}else {
			this._knobSpr.pos(localDeltaX,localDeltaY);
		}
		this.updatePath(this._touchState);
	}

	/**
	*@private
	*用户触控移动事件
	*/
	__proto.onTouchMove=function(e){
		if (!this._onMobile || (this._touchId===e.touchId)){
			var localPos=this._baseSpr.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));
			var localDeltaX=localPos.x;
			var localDeltaY=localPos.y;
			if (!this._inActiveArea && Math.abs(localDeltaX)< this.activeRadius && Math.abs(localDeltaY)< this.activeRadius){
				return;
			}
			this._inActiveArea=true;
			this._touchState=2;
			if (Math.abs(localDeltaX-this._moveBeginDeltaX)< this.mouseMoveAccuracy && Math.abs(localDeltaY-this._moveBeginDeltaY)< this.mouseMoveAccuracy){
				return;
			}
			this._moveBeginDeltaX=localDeltaX;
			this._moveBeginDeltaY=localDeltaY;
			this.centerPosOffCoe=Math.min(1,Math.sqrt(localDeltaX*localDeltaX+localDeltaY*localDeltaY)/this.rockRadius);
			this._radian=Math.atan2(localDeltaY,localDeltaX);
			(this._radian < 0)&& (this._radian+=Math.PI *2);
			this._angle=this._radian *57.29577951308232;
			var _sqx=localDeltaX *localDeltaX;
			var _sqy=localDeltaY *localDeltaY;
			if (_sqy+_sqx > this.rockRadius *this.rockRadius){
				var x=Math.floor(Math.cos(this._radian)*this.rockRadius);
				var y=Math.floor(Math.sin(this._radian)*this.rockRadius);
				this._knobSpr.pos(x,y);
				}else {
				this._knobSpr.pos(localDeltaX,localDeltaY);
			}
			this.updatePath(this._touchState);
		}
	}

	/**
	*@private
	*用户触控结束事件
	*/
	__proto.onTouchEnd=function(e){
		if (!this._onMobile || (this._touchId===e.touchId)){
			this._touchId=-1;
			this._touchState=3;
			Laya.stage.off("mousemove",this,this.onTouchMove);
			Laya.stage.off("mouseout",this,this.onTouchCancel);
			Laya.stage.off("mouseup",this,this.onTouchEnd);
			this._knobSpr.pos(0,0);
			this._baseSpr.pos(0,0);
			this._baseSpr.visible=!this._autoHide;
			this._radian=-1;
			this._angle=-1;
			this.updatePath(this._touchState);
		}
	}

	/**
	*@private
	*更新路径
	*/
	__proto.updatePath=function(touchState){
		if (!this._target)return;
		if (2===touchState){
			if (this.moveMinDeltaTime > 0){
				var tTime=Browser.now();
				if (tTime-this._preTime < this.moveMinDeltaTime)return;
				this._preTime=tTime;
			}
			this._target.moveUpdate && this._target.moveUpdate(this.angle);
			}else if (1===touchState){
			this._target.moveBegin && this._target.moveBegin(this.angle);
			}else if (3===touchState){
			this._target.moveEnd && this._target.moveEnd();
			}else {
			console.log("Err: Rocker.updatePath: unknown touchState: "+touchState);
		}
	}

	/**
	*@private
	*用户触控滑出事件
	*/
	__proto.onTouchCancel=function(e){
		this.onTouchEnd(e);
	}

	/**
	*定义触控响应区域。
	*@param width 触控响应区域宽度
	*@param height 触控响应区域高度
	*@param ofsX 触控响应区域相对于摇杆中心点在X轴上的偏移量
	*@param ofsY 触控响应区域相对于摇杆中心点在Y轴上的偏移量
	*
	*/
	__proto.setTouchArea=function(width,height,ofsX,ofsY){
		(ofsX===void 0)&& (ofsX=0);
		(ofsY===void 0)&& (ofsY=0);
		if ((this._touchAreaOfsX===ofsX)&& (this._touchAreaOfsY===ofsY)&& (this._touchWidth===width)&& (this._touchHeight===height))return;
		this._touchWidth=width;
		this._touchHeight=height;
		this._touchAreaOfsX=ofsX;
		this._touchAreaOfsY=ofsY;
		this._isFixed && this._touchSpr.parent && this.updateFixedTouchArea();
	}

	/**
	*定义摇动区域。
	*@param radius 摇动区域是圆形区域，radius定义此区域的半径
	*@param ofsX “摇动区域中心点”相对于“摇杆背景图像中心点”在X轴上的偏移量
	*@param ofsY “摇动区域中心点”相对于“摇杆背景图像中心点”在Y轴上的偏移量
	*/
	__proto.setRockArea=function(radius,ofsX,ofsY){
		(ofsX===void 0)&& (ofsX=0);
		(ofsY===void 0)&& (ofsY=0);
		this.rockRadius=radius;
		if ((this._rockAreaOfsX===ofsX)&& (this._rockAreaOfsY===ofsY))return;
		this._rockAreaOfsX=ofsX;
		this._rockAreaOfsY=ofsY;
		this._bgTex && this._baseSpr.graphics.cleanByTexture(this._bgTex,-this._bgTex.width / 2-ofsX,-this._bgTex.height / 2-ofsY);
	}

	/**
	*触控响应区域宽度
	*/
	__getset(0,__proto,'touchWidth',function(){
		return this._touchWidth;
	});

	/**
	*触控响应区域相对于摇杆中心点在Y轴上的偏移量
	*/
	__getset(0,__proto,'touchAreaOfsY',function(){
		return this._touchAreaOfsY;
	});

	/**
	*设置拖块皮肤。<br/>
	*加载完成后派发Event.LOADED事件，同时返回资源路径和资源宽高。
	*@param knobSkin 拖块皮肤路径
	*/
	__getset(0,__proto,'knobSkin',function(){
		return this._knobSkin;
		},function(knobSkin){
		if (this._knobSkin!==knobSkin){
			this._knobSkin=knobSkin;
			if (knobSkin){
				var img=Loader.getRes(this._knobSkin);
				if (img){
					this.loadKnobTexCmpl(this._knobSkin,img);
					}else {
					Laya.loader.load(this._knobSkin,Handler.create(this,this.loadKnobTexCmpl,[this._knobSkin]));
				}
				}else {
				this._knobSpr.graphics.clear();
			}
		}
	});

	/**
	*触控响应区域高度
	*/
	__getset(0,__proto,'touchHeight',function(){
		return this._touchHeight;
	});

	/**
	*摇杆背景皮肤。<br/>
	*加载完成后派发Event.LOADED事件，同时返回资源路径和资源宽高。
	*@param bgSkin 摇杆背景皮肤路径
	*/
	__getset(0,__proto,'bgSkin',function(){
		return this._bgSkin;
		},function(bgSkin){
		if (this._bgSkin!==bgSkin){
			this._bgSkin=bgSkin;
			if (bgSkin){
				var img=Loader.getRes(this._bgSkin);
				if (img){
					this.loadBgTexCmpl(this._bgSkin,img);
					}else {
					Laya.loader.load(this._bgSkin,Handler.create(this,this.loadBgTexCmpl,[this._bgSkin]));
				}
				}else {
				this._baseSpr.graphics.clear();
			}
		}
	});

	/**
	*当前摇杆指示的角度值。<br/>
	*X轴正方向为0，顺时针增加，取值范围[0,360)或-1(表示摇杆处于未触控状态)。
	*/
	__getset(0,__proto,'angle',function(){
		return this._angle==-1 ?-1 :Math.round(this._angle / this.anglePerUnit)*this.anglePerUnit;
	});

	/**
	*当前摇杆指示的弧度值。<br/>
	*X轴正方向为0，顺时针增加，取值范围[0,2*PI)或-1(表示摇杆处于未触控状态)。
	*/
	__getset(0,__proto,'radian',function(){
		return this._radian;
	});

	/**
	*获取触控状态
	*/
	__getset(0,__proto,'touchState',function(){
		return this._touchState;
	});

	/**
	*触控响应区域相对于摇杆中心点在X轴上的偏移量
	*/
	__getset(0,__proto,'touchAreaOfsX',function(){
		return this._touchAreaOfsX;
	});

	/**
	*“摇动区域中心点”相对于“摇杆背景图像中心点”在X轴上的偏移量
	*/
	__getset(0,__proto,'rockAreaOfsX',function(){
		return this._rockAreaOfsX;
	});

	/**
	*“摇动区域中心点”相对于“摇杆背景图像中心点”在X轴上的偏移量
	*/
	__getset(0,__proto,'rockAreaOfsY',function(){
		return this._rockAreaOfsY;
	});

	/**
	*设置摇杆是否位置固定。摇杆有两种模式：固定模式和跟随模式。默认值为false，也就是跟随模式。<br/>
	*固定模式：玩家在摇杆触控响应区域按下时，摇杆根据玩家按下的位置相对于摇杆中心点的偏移向量更新摇杆状态。<br/>
	*固定模式下，可通过方法setTouchArea设置触控响应区域。<br/>
	*跟随模式：玩家在摇杆触控响应区域按下时，摇杆更新摇杆精灵位置到玩家按下的位置，触控仍然以摇杆中心点为原点计算偏移量。<br/>
	*跟随模式下，触控响应区域固定为左半屏，并且适配舞台大小的变化。
	*/
	__getset(0,__proto,'isFixed',function(){
		return this._isFixed;
		},function(value){
		if (this._isFixed===value)return;
		this._isFixed=value;
		this.autoHide=this._autoHide;
		this._touchSpr.parent && this.updateTouchArea();
	});

	/**
	*摇杆在无触控状态下是否自动隐藏，默认为false。<br/>
	*非操控状态表示无触控状态和触控取消状态，操控状态表示触控按下和触控移动。
	*/
	__getset(0,__proto,'autoHide',function(){
		return this._autoHide;
		},function(value){
		this._autoHide=value;
		this.isPress || (this._baseSpr.visible=!value);
	});

	/**
	*是否启用摇杆触控响应。默认值为false。<br/>
	*如果禁用，摇杆将不能响应玩家触控，但是摇杆仍然可见。
	*@param value 是否启用摇杆响应
	*/
	__getset(0,__proto,'enable',function(){
		return this._enable;
		},function(value){
		if (this._enable===value)return;
		this._enable=value;
		if (value){
			if (this.rockerNode.parent){
				this.onAdded();
				}else {
				this.rockerNode.on("added",this,this.onAdded);
			}
			}else {
			Laya.stage.off("resize",this,this.updateFollowedTouchArea);
			Laya.stage.off("mousemove",this,this.onTouchMove);
			Laya.stage.off("mouseout",this,this.onTouchCancel);
			Laya.stage.off("mouseup",this,this.onTouchEnd);
			this._touchSpr.off("mousedown",this,this.onTouchBegin);
			this._touchSpr.removeSelf();
			this.reset();
			this._baseSpr.pos(0,0);
			this._baseSpr.visible=!this._autoHide;
		}
	});

	/**
	*玩家触控是否处于按下状态。按下状态包括：TOUCH_DOWN、TOUCH_MOVE
	*@return 是否处于按下状态
	*/
	__getset(0,__proto,'isPress',function(){
		return this._touchState==1 || this._touchState==2;
	});

	Rocker.TouchNone=-1;
	Rocker.TouchDown=1;
	Rocker.TouchMove=2;
	Rocker.TouchCancel=3;
	Rocker.Factor_R2A=57.29577951308232;
	Rocker.Factor_A2R=0.017453292519943295;
	return Rocker;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/scripts/ScriptCode.as=======199.998950/199.998950
//class laya.libs.scripts.ScriptCode
var ScriptCode=(function(){
	function ScriptCode(){
		this.id=null;
		this.code=null;
		this.func=null;
	}

	__class(ScriptCode,'laya.libs.scripts.ScriptCode');
	var __proto=ScriptCode.prototype;
	__proto.setCode=function(id,code){
		this.id=id;
		this.code=code.replace(/&#10;/g,'\n');
	}

	__proto.compile=function(){
		if(this.func==null){
			this.func=Compile.done(this.code);
		}
	}

	return ScriptCode;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/scripts/ScriptManager.as=======199.998949/199.998949
//class laya.libs.scripts.ScriptManager
var ScriptManager=(function(){
	function ScriptManager(){
		this._scriptCodeLib={};
		this._cmdConfig={};
	}

	__class(ScriptManager,'laya.libs.scripts.ScriptManager');
	var __proto=ScriptManager.prototype;
	__proto.load=function(url,complete){
		var loads=[];
		if ((url instanceof Array)){
			var i=0,len=0;
			len=url.length;
			for (i=0;i < len;i++){
				loads.push({url:url[i],type:"text"});
			}
			}else if ((typeof url=='string')){
			loads.push({url:url,type:"text"});
		}
		Laya.loader.load(loads,Handler.create(this,this._dataLoaded,[url,complete]));
	}

	__proto._dataLoaded=function(url,complete){
		if ((url instanceof Array)){
			var i=0,len=0;
			len=url.length;
			for (i=0;i < len;i++){
				this._dealLoadedData(url[i]);
			}
			}else if ((typeof url=='string')){
			this._dealLoadedData(url);
		}
		if (complete)complete.run();
	}

	/**@private */
	__proto._dealLoadedData=function(url){
		var text=Loader.getRes(url);
		var packageName='';
		var begin=0;
		var end=0;
		begin=text.indexOf('//#package=');
		if(begin>=0){
			begin+=ScriptManager.PACKAGE.length;
			end=text.indexOf('\n',begin);
			packageName=text.substring(begin,end-1)+'.';
		}
		begin=0;
		end=0;
		while(end>=0){
			begin=text.indexOf('//#begin',end);
			if(begin>=0){
				begin+=ScriptManager.BEGIN.length;
			}
			else{
				break ;
			}
			end=text.indexOf('//#end',begin);
			var funcStr=text.substring(begin,end);
			var nameEnd=funcStr.indexOf('(');
			var nameBegin=funcStr.lastIndexOf(' ',nameEnd)+1;
			var funcId=funcStr.substring(nameBegin,nameEnd);
			var code=new ScriptCode;
			code.setCode(funcId,funcStr);
			code.compile();
			this._scriptCodeLib[packageName+funcId]=code;
		}
	}

	__proto.getScriptCode=function(id){
		return this._scriptCodeLib[id];
	}

	__proto.createScript=function(id){
		var code=this.getScriptCode(id);
		code.compile();
		var s=CycleFactory.createObject2(Script$1);
		s.resetCmds(code);
		return s;
	}

	ScriptManager.CMDNAME='_CMD_';
	ScriptManager.PACKAGE='//#package=';
	ScriptManager.BEGIN='//#begin';
	ScriptManager.END='//#end';
	__static(ScriptManager,
	['instance',function(){return this.instance=new ScriptManager;}
	]);
	return ScriptManager;
})()


	//file:///H:/work/sniper/layaLib/src/laya/libs/stateMachine/StateMachine.as=======199.998948/199.998948
/**
*状态机
*reference Javascript State Machine Library
*https://github.com/jakesgordon/javascript-state-machine
*/
//class laya.libs.stateMachine.StateMachine
var StateMachine=(function(){
	function StateMachine(){
		this.current='none';
		this.terminal=null;
		this.transition=null;
		this.event=null;
		this.from=null;
		this.to=null;
		this._callMap={};
		this._eventMap={};
		this._stateMap={};
	}

	__class(StateMachine,'laya.libs.stateMachine.StateMachine');
	var __proto=StateMachine.prototype;
	/**
	*当前状态是否是制定参数的状态
	*@param state 字符串或者数组
	*/
	__proto.contain=function(state){
		return ((state instanceof Array))? (state.indexOf(this.current)>=0):(this.current===state);
	}

	/**
	*当前状态下，是否能执行指定行为
	*@param event 行为
	*/
	__proto.can=function(event){
		return !(this.transition!=null)&& (this._eventMap[event][this.current] || this._eventMap[event][StateMachine.WILDCARD]);
	}

	/**
	*当前状态下，是否不能执行指定行为
	*@param event 行为
	*/
	__proto.cannot=function(event){
		return !this.can(event);
	}

	/**
	*返回当前状态下，所有关联的事件
	*/
	__proto.transitions=function(){
		return this._stateMap[this.current];
	}

	/**
	*返回当前状态是否结束
	*/
	__proto.isFinished=function(){
		return this.contain(this.terminal);
	}

	/**
	*添加行为状态对应表
	*@param event 行为
	*@param from 开始状态
	*@param to 结束状态
	*/
	__proto.add=function(event,from,to){
		var arr=(from instanceof Array)? from :[from];
		this._eventMap[event] || (this._eventMap[event]={});
		for (var i=0,n=arr.length;i < n;i++){
			var state=arr[i];
			this._stateMap[state] || (this._stateMap[state]=[]);
			this._stateMap[state].push(event);
			this._eventMap[event][state]=to || state;
		}
	}

	/**
	*注册回调事件
	*@param event 回调事件名称
	*@param handler 回调函数
	*/
	__proto.callback=function(event,handler){
		this._callMap[event]=handler;
	}

	/**
	*执行预先定义好的行为
	*@param event 行为名称
	*@return 返回执行行为的结果 0:失败，1:成功 100:在beforeEvent内被取消 101.异步等待
	*/
	__proto.run=function(event){
		var map=this._eventMap[event];
		if (!map)return 0;
		var from=this.current;
		var to=map[from] || map[StateMachine.WILDCARD] || from;
		if (this.transition!=null){
			return this._error(event,from,to,"event "+event+" inappropriate because previous transition did not complete");
		}
		if (this.cannot(event)){
			return this._error(event,from,to,"event "+event+" inappropriate in current state "+this.current);
		}
		this.event=event;
		this.from=from;
		this.to=to;
		if (false===this._callEvent("before",event)){
			return 1;
		}
		if (from===to){
			this._callEvent("after",event);
			return 1;
		}
		this.transition=this._doTransition;
		var leave=this._callEvent("leave",from);
		if (leave===false){
			this.transition=null;
			return 100;
			}else if (StateMachine.ASYNC===leave){
			return 101;
			}else {
			if (this.transition!=null)return this.transition();
			else return 1;
		}
	}

	__proto._doTransition=function(){
		this.transition=null;
		this.current=this.to;
		this._callEvent("enter",this.to);
		this._callEvent("change",this.from);
		this._callEvent("after",this.event);
		return 1;
	}

	__proto._callEvent=function(type,name){
		if (this._callMap[type+name])return this._callMap[type+name].runWith(this);
		if (this._callMap[type])return this._callMap[type].runWith(this);
		return true;
	}

	__proto._error=function(event,from,to,msg){
		StateMachine.traceEnabled && console.log("state:",msg);
		return 0;
	}

	StateMachine.create=function(initState,events,callbacks,terminal){
		var fsm=new StateMachine();
		fsm.terminal=terminal;
		if (initState)fsm.add('startup','none',initState);
		if (events){
			for (var i=0,n=events.length;i < n;i++){
				fsm.add(events[i].event || events[i].name,events[i].from,events[i].to);
			}
		}
		if (callbacks){
			for (var name in callbacks){
				if (callbacks.hasOwnProperty(name))
					fsm.callback(name,callbacks[name]);
			}
		}
		if (initState)fsm.run('startup');
		return fsm;
	}

	StateMachine.traceEnabled=false;
	StateMachine.WILDCARD='*';
	StateMachine.ASYNC="async";
	__static(StateMachine,
	['Result',function(){return this.Result={SUCCEEDED:1,
			NOTRANSITION:2,
			CANCELLED:3,
			PENDING:4
	};}

	]);
	return StateMachine;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/enum/EnumSheet.as=======199.998922/199.998922
//class laya.game.enum.EnumSheet
var EnumSheet=(function(){
	function EnumSheet(){}
	__class(EnumSheet,'laya.game.enum.EnumSheet');
	EnumSheet.Sheet_Plugins="Plugins";
	EnumSheet.Sheet_Avatar="Avatar";
	EnumSheet.Sheet_Character="Character";
	EnumSheet.Sheet_Effect="Effect";
	EnumSheet.Sheet_Skill="Skill";
	EnumSheet.Sheet_Scene="Scene";
	EnumSheet.Sheet_Action="Action";
	EnumSheet.Sheet_Script="Script";
	EnumSheet.Sheet_FSM="FSM";
	EnumSheet.Sheet_Seed="Seed";
	EnumSheet.Sheet_Group="Group";
	EnumSheet.Sheet_Music="Music";
	EnumSheet.Sheet_ItemUnion="ItemUnionData";
	EnumSheet.Sheet_CharacterProperty="CharacterProperty";
	EnumSheet.Sheet_SceneLevel="SceneLevel";
	EnumSheet.Sheet_SyncProperty="SyncProperty";
	EnumSheet.Sheet_SyncBaseInfo="SyncBaseInfo";
	EnumSheet.Sheet_SyncShow="SyncShow";
	EnumSheet.Sheet_SyncEquip="SyncEquip";
	EnumSheet.Sheet_SyncEquipPosProperty="SyncEquipPosProperty";
	EnumSheet.Sheet_SyncItemProperty="SyncItemProperty";
	EnumSheet.Sheet_Bag="Bag";
	EnumSheet.Sheet_EQUIP="Equip";
	EnumSheet.Sheet_ITEM="Item";
	EnumSheet.Sheet_Buff="Buff";
	EnumSheet.Sheet_LevelUp="LevelUp";
	EnumSheet.Sheet_EquipAdvance="EquipAdvance";
	EnumSheet.Sheet_SyncSkill="SyncSkill";
	return EnumSheet;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/CSystem.as=======199.998917/199.998917
/**
*几何碰撞系统配置
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.CSystem
var CSystem=(function(){
	function CSystem(){}
	__class(CSystem,'laya.game.libs.collision2D.CSystem');
	CSystem.init=function(){
		CycleFactory.registerClass2(CCollision);
		CSystem.registerShape('shapes',CShapes);
		CSystem.registerShape('point',CPoint);
		CSystem.registerShape('circle',CCircle);
		CSystem.registerShape('rect',CRect);
		CSystem.registerShape('fan',CFan);
		CSystem.registerCollideFunction(CShapes,CCircle,CSystem.ShapesToAny);
		CSystem.registerCollideFunction(CShapes,CRect,CSystem.ShapesToAny);
		CSystem.registerCollideFunction(CShapes,CFan,CSystem.ShapesToAny);
		CSystem.registerCollideFunction(CShapes,CPoint,CSystem.ShapesToAny);
		CSystem.registerCollideFunction(CPoint,CCircle,CSystem.PointToCircle);
		CSystem.registerCollideFunction(CPoint,CRect,CSystem.PointToRect);
		CSystem.registerCollideFunction(CPoint,CFan,CSystem.PointToFan);
		CSystem.registerCollideFunction(CCircle,CCircle,CSystem.CircleToCircle);
		CSystem.registerCollideFunction(CCircle,CRect,CSystem.CircleToRect);
		CSystem.registerCollideFunction(CCircle,CFan,CSystem.CircleToFun);
		CSystem.registerCollideFunction(CRect,CRect,CSystem.RectToRect);
		CSystem.registerCollideFunction(CRect,CFan,CSystem.RectToFan);
	}

	CSystem.registerShape=function(name,shape){
		CSystem.shapeByName[name]=shape;
		CycleFactory.registerClass2(shape);
		shape.type=(1<<CSystem.shapeTypeNum);
		CSystem.shapeTypeNum++;
	}

	CSystem.createShape=function(name,size){
		var c=CycleFactory.createObject2(CSystem.shapeByName[name]);
		c.size && (c.size).apply(c,size);
		return c;
	}

	CSystem.registerCollideFunction=function(shape1,shape2,func){
		CSystem.collideCode[shape1.type|shape2.type]=func;
	}

	CSystem.checkCollide=function(shape1,shape2){
		var func=CSystem.collideCode[shape1.constructor.type|shape2.constructor.type];
		if(func==null){
			return null;
		}
		if(shape1.constructor.type<shape2.constructor.type){
			return func(shape1,shape2);
		}
		else{
			return func(shape2,shape1);
		}
	}

	CSystem.PointToCircle=function(c1,c2){
		var offX=c1.x-c2.x;
		var offY=c1.y-c2.y;
		if((offX*offX+offY*offY)<c2.radius*c2.radius){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		else{
			return null;
		}
	}

	CSystem.PointToRect=function(c1,c2){
		var circleX=c1.x-c2.x;
		var circleY=c1.y-c2.y;
		var distance=Math.pow(circleX*circleX+circleY*circleY,0.5);
		var newRadian=Math.atan(circleY/circleX)-c2._rotation*CSystem.PI1_180;
		circleX=Math.cos(newRadian)*distance;
		circleY=Math.sin(newRadian)*distance;
		var isCollision=circleX>-c2._halfWidth && circleX<c2._halfWidth && circleY>-c2._halfHeight && circleY<c2._halfHeight;
		if(isCollision){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		else{
			return null;
		}
	}

	CSystem.PointToFan=function(c1,c2){
		var circleX=c1.x-c2.x;
		var circleY=c1.y-c2.y;
		var distance=Math.pow(circleX*circleX+circleY*circleY,0.5);
		if(distance>c2.maxRadius|| distance<c2.minRadius)return null;
		var circleAngle=Math.atan2(circleY,circleX)*CSystem.PI180_1;
		if(circleAngle<0){
			circleAngle+=360;
		}
		if(Math.abs(circleAngle-c2._rotation)<c2._halfFanAngle){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		return null;
	}

	CSystem.CircleToCircle=function(c1,c2){
		var offX=c1.x-c2.x;
		var offY=c1.y-c2.y;
		var offR=c1.radius+c2.radius;
		if((offX*offX+offY*offY)<offR*offR){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		else{
			return null;
		}
	}

	CSystem.CircleToRect=function(c1,c2){
		var circleX=c1.x-c2.x;
		var circleY=c1.y-c2.y;
		var distance=Math.pow(circleX*circleX+circleY*circleY,0.5);
		var newRadian=Math.atan(circleY/circleX)-c2._rotation*CSystem.PI1_180;
		circleX=Math.cos(newRadian)*distance;
		circleY=Math.sin(newRadian)*distance;
		var isCollision=CSystem.CircleToLocalRect(c2._halfWidth,c2._halfHeight,c1.radius,circleX,circleY);
		if(isCollision){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		else{
			return null;
		}
	}

	CSystem.CircleToLocalRect=function(halfW,halfH,r,rx,ry){
		var dx=Math.min(rx,halfW);
		var dx1=Math.max(dx,-halfW);
		var dy=Math.min(ry,halfH);
		var dy1=Math.max(dy,-halfH);
		return (dx1-rx)*(dx1-rx)+(dy1-ry)*(dy1-ry)<=r *r;
	}

	CSystem.RectToRect=function(c1,c2){
		if(!CSystem.project(c1,c2)){
			return null;
		}
		if(!CSystem.project(c2,c1)){
			return null;
		};
		var result=CycleFactory.createObject2(CCollision);
		result.init(c1,c2);
		return result;
	}

	CSystem.project=function(src,target){
		var targetX=target.x-src.x;
		var targetY=target.y-src.y;
		var distance=Math.pow(targetX*targetX+targetY*targetY,0.5);
		var newRadian=Math.atan(targetY/targetX)-src._rotation*CSystem.PI1_180;
		targetX=Math.cos(newRadian)*distance;
		targetY=Math.sin(newRadian)*distance;
		var targetR=(target._rotation-src._rotation)*CSystem.PI1_180;
		var cos=Math.abs(Math.cos(targetR));
		var sin=Math.abs(Math.sin(targetR));
		if ((target._halfWidth*cos+target._halfHeight*sin+src._halfWidth)<Math.abs(targetX)){
			return false;
		}
		if((target._halfWidth*sin+target._halfHeight*cos+src._halfHeight)<Math.abs(targetY)){
			return false;
		}
		return true;
	}

	CSystem.CircleToFun=function(c1,c2){
		var circleX=c1.x-c2.x;
		var circleY=c1.y-c2.y;
		var distance=Math.pow(circleX*circleX+circleY*circleY,0.5);
		if(distance>(c1.radius+c2.maxRadius))return null;
		var circleRadia=Math.atan2(circleY,circleX);
		var newRadian=circleRadia-c2._rotation*CSystem.PI1_180;
		if(newRadian>Math.PI){
			newRadian=newRadian-CSystem.PI2;
		}
		else if(newRadian<-Math.PI){
			newRadian=CSystem.PI2+newRadian;
		}
		if(newRadian<0){
			newRadian=-newRadian;
		}
		circleX=Math.cos(newRadian)*distance;
		circleY=Math.sin(newRadian)*distance;
		newRadian=Math.min(c2._halfFanAngle*CSystem.PI1_180,newRadian);
		distance=Math.max(c2.minRadius,Math.min(c2.maxRadius,distance));
		var offX=Math.cos(newRadian)*distance-circleX;
		var offY=Math.sin(newRadian)*distance-circleY;
		if(offX*offX+offY*offY<c1.radius*c1.radius){
			var result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		return null;
	}

	CSystem.RectToFan=function(c1,c2){
		var w=NaN,h=NaN,r=NaN;
		if(c1.width>c1.height){
			w=c1.width;
			h=c1.height;
			r=c1.rotation;
		}
		else{
			w=c1.height;
			h=c1.width;
			r=c1.rotation+90;
		};
		var offX=c1.x-c2.x;
		var offY=c1.y-c2.y;
		var halfW=w*0.5;
		var dis=halfW+c2.maxRadius;
		if(offX*offX+offY*offY>dis*dis)return null;
		var halfH=h*0.5;
		var radian=r*CSystem.PI1_180;
		var cos=Math.cos(radian);
		var sin=Math.sin(radian);
		var circleX=NaN;
		var circleY=NaN;
		dis=-halfW+halfH;
		var maxDis=-dis;
		while(dis<maxDis){
			circleX=dis*cos+c1.x;
			circleY=dis*sin+c1.y;
			if(CSystem.CircleToFun2(circleX,circleY,halfH,c2)){
				var result=CycleFactory.createObject2(CCollision);
				result.init(c1,c2);
				return result;
			}
			dis+=h;
		}
		dis=maxDis;
		circleX=dis*cos+c1.x;
		circleY=dis*sin+c1.y;
		if(CSystem.CircleToFun2(circleX,circleY,halfH,c2)){
			result=CycleFactory.createObject2(CCollision);
			result.init(c1,c2);
			return result;
		}
		return null;
	}

	CSystem.CircleToFun2=function(c1X,c1Y,c1R,c2){
		var circleX=c1X-c2.x;
		var circleY=c1Y-c2.y;
		var distance=Math.pow(circleX*circleX+circleY*circleY,0.5);
		if(distance>(c1R+c2.maxRadius))return false;
		var circleRadia=Math.atan2(circleY,circleX);
		var newRadian=circleRadia-c2._rotation*CSystem.PI1_180;
		if(newRadian>Math.PI){
			newRadian=newRadian-CSystem.PI2;
		}
		else if(newRadian<-Math.PI){
			newRadian=CSystem.PI2+newRadian;
		}
		if(newRadian<0){
			newRadian=-newRadian;
		}
		circleX=Math.cos(newRadian)*distance;
		circleY=Math.sin(newRadian)*distance;
		newRadian=Math.min(c2._halfFanAngle*CSystem.PI1_180,newRadian);
		distance=Math.max(c2.minRadius,Math.min(c2.maxRadius,distance));
		var offX=Math.cos(newRadian)*distance-circleX;
		var offY=Math.sin(newRadian)*distance-circleY;
		if(offX*offX+offY*offY<c1R*c1R){
			return true;
		}
		return false;
	}

	CSystem.ShapesToAny=function(c1,c2){
		var children=c1.children;
		var i=0;
		var len=children.length;
		var c;
		var c1X=c1.x;
		var c1Y=c1.y;
		var c1R=c1._rotation;
		for(;i<len;i++){
			var curShape=children[i];
			var oldX=curShape.x;
			var oldY=curShape.y;
			var oldR=curShape._rotation;
			CSystem.rotationPoint(oldX,oldY,-c1R);
			curShape.x=c1X+CSystem.target.x;
			curShape.y=c1Y+CSystem.target.y;
			curShape.rotation+=c1R;
			c=CSystem.checkCollide(curShape,c2);
			curShape.x=oldX
			curShape.y=oldY
			curShape._rotation=oldR;
			if(c){
				c.init(c1,c2);
				return c;
			}
		}
		return null;
	}

	CSystem.rotationPoint=function(offX,offY,srcRotation){
		var distance=Math.pow(offX*offX+offY*offY,0.5);
		var newRadian=Math.atan(offY/offX)-srcRotation*CSystem.PI1_180;
		CSystem.target.x=Math.cos(newRadian)*distance;
		CSystem.target.y=Math.sin(newRadian)*distance;
	}

	CSystem.collideCode=[];
	CSystem.shapeByName={};
	CSystem.shapeTypeNum=0;
	__static(CSystem,
	['target',function(){return this.target=new Point;},'PI180_1',function(){return this.PI180_1=180/Math.PI;},'PI2',function(){return this.PI2=2*Math.PI;},'PI1_180',function(){return this.PI1_180=Math.PI/180;}
	]);
	return CSystem;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/CWorld.as=======199.998916/199.998916
/**
*几何碰撞世界
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.CWorld
var CWorld=(function(){
	function CWorld(){
		this.shapes=null;
		this.worldDraw=null;
		this._isRunning=false;
		this.IDCOUNT=0;
		this.collisions=new Array;
		this.shapes=new Array;
	}

	__class(CWorld,'laya.game.libs.collision2D.CWorld');
	var __proto=CWorld.prototype;
	Laya.imps(__proto,{"laya.game.libs.collision2D.shape.IShapes":true})
	__proto.init=function(draw){
		this.worldDraw=draw;
		this.IDCOUNT=0;
	}

	__proto._GETID=function(){
		return this.IDCOUNT++
	}

	__proto.addShape=function(shape,parent){parent=parent||this
		shape.parent=parent;
		shape.root=this;
		shape.ID=this._GETID();
		this.worldDraw.onAddShape(shape);
		parent.__addShape(shape);
	}

	__proto.removeShape=function(shape){
		this.worldDraw.onRemoveShape(shape);
		shape.parent.__removeShape(shape);
		shape.parent=null;
		shape.root=null;
	}

	__proto.__addShape=function(shape){
		this.shapes.push(shape);
	}

	__proto.__removeShape=function(shape){
		var index=this.shapes.indexOf(shape);
		if(index>=0){
			this.shapes.splice(index,1);
		}
	}

	__proto.createPoint=function(x,y,parent){
		var c1=CycleFactory.createObject2(CPoint);
		c1.pos(x,y);
		this.addShape(c1,parent);
		return c1;
	}

	__proto.createCircle=function(x,y,r,parent){
		var c1=CycleFactory.createObject2(CCircle);
		c1.size(r);
		c1.pos(x,y);
		this.addShape(c1,parent);
		return c1;
	}

	__proto.createRect=function(x,y,w,h,parent){
		var c1=CycleFactory.createObject2(CRect);
		c1.size(w,h);
		c1.pos(x,y);
		this.addShape(c1,parent);
		return c1;
	}

	__proto.createFan=function(x,y,fanAngle,maxRadius,minRadius,parent){
		(minRadius===void 0)&& (minRadius=0);
		var c1=CycleFactory.createObject2(CFan);
		c1.size(fanAngle,maxRadius,minRadius);
		c1.pos(x,y);
		this.addShape(c1,parent);
		return c1;
	}

	__proto.createShapes=function(x,y,parent){
		var c1=CycleFactory.createObject2(CShapes);
		c1.pos(x,y);
		this.addShape(c1,parent);
		return c1;
	}

	__proto.update=function(){
		this.worldDraw.readyUpdate();
		var i=0;
		var j=NaN,m=NaN,n=NaN;
		var len=this.shapes.length;
		var shape1;
		var shape2;
		var collision;
		for(i=0;i<len;i++){
			shape1=this.shapes[i];
			this.worldDraw.readyShape(shape1);
			for(j=i+1;j<len;j++){
				shape2=this.shapes[j];
				collision=CSystem.checkCollide(shape1,shape2)
				if(collision){
					this.collisions.push(collision);
				}
			}
		}
		len=this.collisions.length;
		for(i=0;i<len;i++){
			this.worldDraw.onCollision(this.collisions[i]);
			this.collisions[i].recovery();
		}
		this.collisions.length=0;
		len=this.shapes.length;
		for(i=0;i<len;i++){
			this.worldDraw.drawShape(this.shapes[i]);
		}
	}

	__getset(0,__proto,'isRunning',function(){
		return this._isRunning;
		},function(value){
		this._isRunning=value;
		if(value){
			Laya.timer.frameLoop(1,this,this.update);
		}
		else{
			Laya.timer.clear(this,this.update);
		}
	});

	return CWorld;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/math/DistanceUtils.as=======199.998906/199.998906
//class laya.game.libs.math.DistanceUtils
var DistanceUtils=(function(){
	function DistanceUtils(){}
	__class(DistanceUtils,'laya.game.libs.math.DistanceUtils');
	DistanceUtils.xz=function(pos1,pos2){
		var offX=pos1.x-pos2.x;
		var offZ=pos1.z-pos2.z;
		return Math.sqrt(offX*offX+offZ*offZ);
	}

	DistanceUtils.xy=function(pos1,pos2){
		var offX=pos1.x-pos2.x;
		var offY=pos1.y-pos2.y;
		return Math.sqrt(offX*offX+offY*offY);
	}

	DistanceUtils.xyz=function(pos1,pos2){
		var offX=pos1.x-pos2.x;
		var offY=pos1.y-pos2.y;
		var offZ=pos1.z-pos2.z;
		return Math.sqrt(offX*offX+offY*offY+offZ*offZ);
	}

	DistanceUtils.Type_XY='xy';
	DistanceUtils.Type_XZ='xz';
	DistanceUtils.Type_XYZ='xyz';
	return DistanceUtils;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/math/MathUtils.as=======199.998905/199.998905
/**
*...
*@author Laya
*/
//class laya.game.libs.math.MathUtils
var MathUtils=(function(){
	function MathUtils(){}
	__class(MathUtils,'laya.game.libs.math.MathUtils');
	MathUtils.randomInt=function(max){
		return Math.floor(Math.random()*max);
	}

	MathUtils.normalAngle=function(angle){
		angle=angle%360;
		if(angle<0){
			angle+=360;
		}
		return angle;
	}

	MathUtils.angleToPoint_3D=function(angle,r,out){
		var radian=angle*laya.game.libs.math.MathUtils.PI1_180;
		out.x=r*Math.sin(radian);
		out.y=r*Math.cos(radian);
	}

	MathUtils.angleToPoint_2D=function(angle,r,out){
		var radian=angle*laya.game.libs.math.MathUtils.PI1_180;
		out.x=r*Math.cos(radian);
		out.y=r*Math.sin(radian);
	}

	MathUtils.offPosByAngle_3D=function(angle,r,pos){
		var radian=angle*laya.game.libs.math.MathUtils.PI1_180;
		pos.x+=r*Math.sin(radian);
		pos.z+=r*Math.cos(radian);
	}

	MathUtils.offPosByAngle_2D=function(angle,r,pos){
		var radian=angle*laya.game.libs.math.MathUtils.PI1_180;
		pos.x+=r*Math.cos(radian);
		pos.y+=r*Math.sin(radian);
	}

	MathUtils.offPosToAngle_2D=function(pos1,pos2){
		var offX=pos2.x-pos1.x;
		var offY=pos2.y-pos1.y;
		return Math.atan2(offY,offX)*MathUtils.PI180_I;
	}

	MathUtils.offPosToAngle_3D=function(pos1,pos2){
		var offX=pos2.x-pos1.x;
		var offY=pos2.z-pos1.z;
		return Math.atan2(offX,offY)*MathUtils.PI180_I;
	}

	MathUtils.init=function(){
		if(GameSystem.is3D){
			MathUtils.angleToPoint=MathUtils.angleToPoint_3D;
			MathUtils.offPosByAngle=MathUtils.offPosByAngle_3D;
			MathUtils.offPosToAngle=MathUtils.offPosToAngle_3D;
		}
		else{
			MathUtils.angleToPoint=MathUtils.angleToPoint_2D;
			MathUtils.offPosByAngle=MathUtils.offPosByAngle_2D;
			MathUtils.offPosToAngle=MathUtils.offPosToAngle_2D;
		}
	}

	MathUtils.localToGlobal=function(node,local,out){
		var transform=node.transform;
		var forward=transform.forward;
		var up=transform.up;
		var right=transform.right;
		var temp3=OnceTool.getVector();
		var posValue=transform.position;
		temp3.elements[0]=posValue.elements[0]-forward.elements[0]*local.elements[2]+up.elements[0]*local.elements[1]+right.elements[0]*local.elements[0];
		temp3.elements[1]=posValue.elements[1]-forward.elements[1]*local.elements[2]+up.elements[1]*local.elements[1]+right.elements[1]*local.elements[0];
		temp3.elements[2]=posValue.elements[2]-forward.elements[2]*local.elements[2]+up.elements[2]*local.elements[1]+right.elements[2]*local.elements[0];
		temp3.cloneTo(out);
		OnceTool.recovertyVector3(temp3);
	}

	MathUtils.cross=function(v1,v2,v3){
		v1.cloneTo(MathUtils._v1);
		v2.cloneTo(MathUtils._v2);
		Vector3.cross(MathUtils._v1,MathUtils._v2,v3);
		if(MathUtils.vectorIsZero(v3)){
			if(MathUtils._v1.elements[0]!=0){
				v3.elements[0]=MathUtils._v1.elements[1];
				v3.elements[1]=-MathUtils._v1.elements[0];
				v3.elements[2]=0;
			}
			else{
				v3.elements[0]=0;
				v3.elements[1]=-MathUtils._v1.elements[2];
				v3.elements[2]=MathUtils._v1.elements[1];
			}
			Vector3.normalize(v3,v3);
		}
	}

	MathUtils.vectorinterpolate=function(v1,v2,radian,out){
		MathUtils.cross(v1,v2,out);
		Vector3.normalize(out,out);
		var temp=Vector3.dot(MathUtils._v1,MathUtils._v2);
		if(temp>1){
			temp=1;
		}
		else if(temp<-1){
			temp=-1;
		}
		temp=Math.min(Math.acos(temp),radian);
		Quaternion.createFromAxisAngle(out,temp,MathUtils._q);
		Vector3.transformQuat(MathUtils._v1,MathUtils._q,out);
	}

	MathUtils.vectorinterpolateCoe=function(v1,v2,coe,out){
		MathUtils.cross(v1,v2,out);
		var temp=Math.acos(Vector3.dot(MathUtils._v1,MathUtils._v2));
		Quaternion.createFromAxisAngle(out,temp*coe,MathUtils._q);
		Vector3.transformQuat(MathUtils._v1,MathUtils._q,out);
	}

	MathUtils.createInterpolateQuaternion=function(v1,v2,radian,q){
		MathUtils.cross(v1,v2,MathUtils._v3);
		Vector3.normalize(MathUtils._v3,MathUtils._v3);
		var temp=Vector3.dot(MathUtils._v1,MathUtils._v2);
		if(temp>1){
			temp=1;
		}
		else if(temp<-1){
			temp=-1;
		}
		MathUtils.v1v2Angle=Math.acos(temp);
		temp=Math.min(MathUtils.v1v2Angle,radian);
		Quaternion.createFromAxisAngle(MathUtils._v3,temp,q);
	}

	MathUtils.createInterpolateCoeQuaternion=function(v1,v2,coe,q){
		MathUtils.cross(v1,v2,MathUtils._v3);
		var temp=Math.acos(Vector3.dot(MathUtils._v1,MathUtils._v2));
		Quaternion.createFromAxisAngle(MathUtils._v3,temp*coe,q);
	}

	MathUtils.acos=function(v1,v2){
		var a=Vector3.dot(v1,v2);
		if(a>1){
			a=1;
		}
		else if(a<-1){
			a=-1;
		}
		return Math.acos(a);
	}

	MathUtils.interpolateRotation=function(rotationZ,r,coe){
		var off=r-rotationZ;
		off%=360;
		if(off>180){
			off=off-360;
		}
		else if(off<-180){
			off=360+off;
		}
		r=rotationZ+off;
		rotationZ=rotationZ*(1-coe)+r*coe;
		return laya.game.libs.math.MathUtils.normalAngle(rotationZ);
	}

	MathUtils.circleDistance=function(dis,angle){
		if(angle<1){
			angle=1;
		}
		else if(angle>179){
			angle=179;
		}
		angle*=MathUtils.PI1_180
		return 2*dis*angle/Math.sin(angle);
	}

	MathUtils.checkCircleDistance=function(speedFrame,dis,angle,turnFrame){
		(turnFrame===void 0)&& (turnFrame=laya.game.libs.math.MathUtils.PI1_180);
		if(angle<turnFrame){
			angle=turnFrame;
		}
		else if(angle>Math.PI-turnFrame){
			angle=Math.PI-turnFrame
		};
		var minR=speedFrame/Math.tan(angle);
		var curR=dis/(2*Math.sin(angle));
		return curR>minR;
	}

	MathUtils.vectorIsZero=function(v){
		return v.elements[0]==0&&v.elements[1]==0&&v.elements[2]==0
	}

	MathUtils.normalCos=function(v){
		if(v>1){
			return 1;
		}
		else if(v<-1){
			return-1;
		}
		else{
			return v;
		}
	}

	MathUtils.dampRadian=function(r,max){
		if(r<max){
			return r/max;
		}
		else{
			return 1;
		}
	}

	MathUtils.rotationAxisZ=function(transform,radian){
		var tempUp=transform.up;
		var forward=transform.forward;
		var tempQuat=OnceTool.tempQuaternion;
		Quaternion.createFromAxisAngle(forward,radian,tempQuat);
		Vector3.transformQuat(tempUp,tempQuat,tempUp);
		var tempLookAt=OnceTool.vector3_1;
		Vector3.add(transform.position,forward,tempLookAt);
		transform.lookAt(tempLookAt,tempUp);
	}

	MathUtils.interpolatePosition=function(v1,v2,coe,out){
		var coe2=1-coe;
		out.x=v1.x*coe2+v2.x*coe;
		out.y=v1.y*coe2+v2.y*coe;
		out.z=v1.z*coe2+v2.z*coe;
	}

	MathUtils.angleToPoint=null;
	MathUtils.offPosByAngle=null;
	MathUtils.offPosToAngle=null;
	MathUtils.v1v2Angle=NaN;
	__static(MathUtils,
	['PI1_180',function(){return this.PI1_180=Math.PI/180;},'PI180_I',function(){return this.PI180_I=180/ Math.PI;},'PI1_2',function(){return this.PI1_2=Math.PI/2;},'_v1',function(){return this._v1=new Vector3;},'_v2',function(){return this._v2=new Vector3;},'_v3',function(){return this._v3=new Vector3;},'_q',function(){return this._q=new Quaternion;}
	]);
	return MathUtils;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/util/SheetUtil.as=======199.998874/199.998874
//class laya.game.libs.util.SheetUtil
var SheetUtil$1=(function(){
	function SheetUtil(){}
	__class(SheetUtil,'laya.game.libs.util.SheetUtil',null,'SheetUtil$1');
	SheetUtil.decode2Array=function(str){
		var arr=str.split(',');
		var i=0;
		var len=arr.length;
		for(;i<len;i++){
			arr[i]=(arr [i]).split('=');
			arr[i][1]=parseFloat(arr[i][1]);
		}
		return arr;
	}

	SheetUtil.decode2Range=function(str){
		var arr=str.split('=');
		arr[0]=parseFloat(arr[0]);
		arr[1]=parseFloat(arr[1]);
		return arr;
	}

	SheetUtil.decode2ArrayInt=function(str){
		var arr=str.split(',');
		var len=arr.length;
		for(var i=0;i<len;i++){
			arr[i]=parseFloat(arr[i]);
		}
		return arr;
	}

	SheetUtil.string2Array=function(strData,parser){
		if (strData=="")
			return [];
		return strData.split(parser);
	}

	SheetUtil.fiter=function(sheet,args){
		if(!sheet)throw "sheet cannot be empty";
		var source=(typeof sheet=='string')? DataCenter.getSheet(sheet):sheet;
		if(args.length==0)return source;
		var result=[];
		var shift=args.shift().split("=");
		var property=shift[0];
		var value=shift[1];
		var n=0;
		for (var i=0,len=source.length;i < len;i++){
			if(value==source[i][property]){
				result[n]=source[i];
				n++;
			}
		}
		return SheetUtil.fiter(result,args);
	}

	SheetUtil.reload=function(sheetUrl,table,complete){
		var fileName=URL.getFileName(sheetUrl).split(".")[0];
		table.del(fileName);
		table.load(sheetUrl,complete);
	}

	return SheetUtil;
})()


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/util/Utils.as=======199.998872/199.998872
/**
*工具类
*@author zhanghj
*/
//class laya.game.libs.util.Utils
var Utils$1=(function(){
	function Utils(){}
	__class(Utils,'laya.game.libs.util.Utils',null,'Utils$1');
	Utils.deepCopy=function(source){
		var result={};
		for (var key in source){
			result[key]=typeof(source[key])==='Object' ? Utils.deepCopy(source[key]):source[key];
		}
		return result;
	}

	Utils.vector2Cross=function(a,b){
		return a.x*b.y-b.x*a.y;
	}

	return Utils;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/buff/ArrayByKey.as=======199.998871/199.998871
//class laya.game.client.buff.ArrayByKey
var ArrayByKey=(function(){
	function ArrayByKey(){}
	__class(ArrayByKey,'laya.game.client.buff.ArrayByKey');
	var __proto=ArrayByKey.prototype;
	__proto.push=function(key,value){
		var arr=this.getArray(key);
		arr.push(value);
	}

	__proto.getArray=function(key){
		var arr=this[key];
		if(!arr){
			arr=this[key]=[];
		}
		return arr;
	}

	__proto.remove=function(key,value){
		var arr=this.getArray(key);
		var index=arr.indexOf(value);
		if(index>=0){
			arr.splice(index,1);
		}
	}

	return ArrayByKey;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/buff/BuffData.as=======199.998870/199.998870
//class laya.game.client.buff.BuffData
var BuffData$1=(function(){
	function BuffData(){
		this.id=null;
		this.className=null;
		this.timeType=null;
		this.timeParam=null;
		this.begin=null;
		this.loop=null;
		this.end=null;
		this.param=null;
	}

	__class(BuffData,'laya.game.client.buff.BuffData',null,'BuffData$1');
	return BuffData;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/interactions/BaseInteraction.as=======199.998867/199.998867
/**
*交互数据
*@author wulongbin
*
*/
//class laya.game.client.interactions.BaseInteraction
var BaseInteraction=(function(){
	function BaseInteraction(){
		this._isPress=false;
		this._pressTime=0;
		this.extendData=NaN;
		this.parent=null;
		this._name=null;
	}

	__class(BaseInteraction,'laya.game.client.interactions.BaseInteraction');
	var __proto=BaseInteraction.prototype;
	Laya.imps(__proto,{"laya.game.client.interactions.Interaction":true})
	__proto.reset=function(){
		this._isPress=false;
		this._pressTime=0;
		this.extendData=0;
	}

	/**
	*按键是否按下
	*@param value
	*
	*/
	__proto.setPress=function(isPress,extendData){
		this.extendData=extendData||0;
		if(this._isPress==isPress)return;
		this._isPress=isPress;
		if(isPress){
			this._pressTime=this.parent.getTimer();
		}
		else{
			this._pressTime=this.parent.getTimer()-this._pressTime;
		}
		this.parent.event(this._name);
	}

	/**
	*获取按下时长
	*@return
	*
	*/
	__proto.getPressTime=function(){
		if(this._isPress){
			return this.parent.getTimer()-this._pressTime;
		}
		else{
			return this._pressTime;
		}
	}

	__getset(0,__proto,'isPress',function(){
		return this._isPress;
	});

	__getset(0,__proto,'name',function(){
		return this._name;
		},function(value){
		this._name=value;
	});

	return BaseInteraction;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/interactions/InteractionManager.as=======199.998864/199.998864
//class laya.game.client.interactions.InteractionManager
var InteractionManager=(function(){
	function InteractionManager(){}
	__class(InteractionManager,'laya.game.client.interactions.InteractionManager');
	InteractionManager.bindRoute=function(route){
		InteractionManager._interactionRoute=route;
	}

	InteractionManager.getOrCreate=function(ID){
		if(!InteractionManager._interactionRoute)return null;
		var characterInteraction=InteractionManager.lib[ID];
		if(!characterInteraction){
			InteractionManager.lib[ID]=characterInteraction=GameSystem.game.createInsteractions();
			characterInteraction.interactionRoute=InteractionManager._interactionRoute;
			characterInteraction.reset();
		}
		return characterInteraction;
	}

	InteractionManager.remove=function(ID){
		var characterInteraction=InteractionManager.lib[ID];
		if(characterInteraction){
			characterInteraction.recovery();
			delete InteractionManager.lib[ID];
		}
	}

	InteractionManager.lib={};
	InteractionManager._interactionRoute=null;
	return InteractionManager;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/SceneItemCreater.as=======199.998857/199.998857
/**
*场景掉落物品创建器
*@author zhanghj
*/
//class laya.game.client.object.SceneItemCreater
var SceneItemCreater=(function(){
	function SceneItemCreater(){
		this.itemList=null;
		this.itemList=[];
		Laya.timer.loop(500,this,this.checkDisable);
	}

	__class(SceneItemCreater,'laya.game.client.object.SceneItemCreater');
	var __proto=SceneItemCreater.prototype;
	/**
	*创建一个掉落物品
	*@param att 物品属性
	*/
	__proto.createItem=function(att){
		var o=new SceneItem();
		o.bindScene(att.scene);
		att.scene.addToLayer(o.node,"");
		o.setAttrbuite(att);
		o.createItem();
		this.itemList.push(o);
	}

	/**
	*释放所有sceneitem
	*/
	__proto.destroy=function(){
		for (var i=0;i < this.itemList.length;++i){
			if (this.itemList[i].avatar){
				this.itemList[i].destroy(true);
			}
			this.itemList.splice(i,1);
			--i;
		}
	}

	/**
	*定时删除无效sceneitem
	*/
	__proto.checkDisable=function(){
		for (var i=0;i < this.itemList.length;++i){
			if (!this.itemList[i].avatar){
				this.itemList.splice(i,1);
				--i;
			}
		}
	}

	__static(SceneItemCreater,
	['I',function(){return this.I=new SceneItemCreater();}
	]);
	return SceneItemCreater;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/SceneItemParam.as=======199.998856/199.998856
/**
*场景掉落物品参数配置
*@author zhanghj
*/
//class laya.game.client.object.SceneItemParam
var SceneItemParam=(function(){
	function SceneItemParam(){
		//道具名称
		this.itemName=null;
		//道具数量
		this.itemNum=null;
		//道具显示字体
		this.font=null;
		//道具字体大小
		this.fontSize=0;
		//道具名称显示偏移(x,y)
		this.nameOffset=null;
		//名称颜色
		this.itemNameColor=null;
		//资源路径
		this.itemRes=null;
		//掉落位置
		this.pos=null;
		//绑定场景
		this.scene=null;
		//特效id
		this.effectId=0;
		//特效飞行目标
		this.target=null;
		//特效飞行时间(ms)
		this.flyTime=0;
		//掉落弹跳高度
		this.offSetY=NaN;
		//掉落弹跳时间
		this.offSetTime=0;
		//道具销毁时间(包含掉落弹跳时间)
		this.destroyTime=0;
		this.itemName="";
		this.itemNum="";
		this.font="Microsoft YaHei"
		this.fontSize=20;
		this.nameOffset=new Vector2(0,0);
		this.itemNameColor="#FFFF00";
		this.itemRes="";
		this.effectId=1009;
		this.flyTime=250;
		this.offSetY=1;
		this.offSetTime=500;
		this.destroyTime=3000;
	}

	__class(SceneItemParam,'laya.game.client.object.SceneItemParam');
	return SceneItemParam;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/AIStateDefine.as=======199.998844/199.998844
//class laya.game.client.plugins.character.AIStateDefine
var AIStateDefine=(function(){
	function AIStateDefine(){}
	__class(AIStateDefine,'laya.game.client.plugins.character.AIStateDefine');
	AIStateDefine.Idle=1;
	AIStateDefine.Track=2;
	AIStateDefine.Attack=3;
	AIStateDefine.Dead=4;
	AIStateDefine.Follow=5;
	AIStateDefine.Free=6;
	return AIStateDefine;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/Avatar2DUtil.as=======199.998842/199.998842
//class laya.game.client.plugins.character.avatar.Avatar2DUtil
var Avatar2DUtil=(function(){
	function Avatar2DUtil(){}
	__class(Avatar2DUtil,'laya.game.client.plugins.character.avatar.Avatar2DUtil');
	Avatar2DUtil.registerDirectionAdaper=function(key,adapter){
		Avatar2DUtil._directionAdapter[key]=adapter;
	}

	Avatar2DUtil.getDirectionAdaper=function(key){
		return Avatar2DUtil._directionAdapter[key];
	}

	Avatar2DUtil.DIR_UP=1;
	Avatar2DUtil.DIR_UP_RIGHT=2;
	Avatar2DUtil.DIR_RIGHT=3;
	Avatar2DUtil.DIR_RIGHT_DOWN=4;
	Avatar2DUtil.DIR_DOWN=5;
	Avatar2DUtil.DIR_DOWN_LEFT=6;
	Avatar2DUtil.DIR_LEFT=7;
	Avatar2DUtil.DIR_LEFT_UP=8;
	Avatar2DUtil._directionAdapter={};
	Avatar2DUtil._directionToString={};
	Avatar2DUtil.__init$=function(){{
			Avatar2DUtil.registerDirectionAdaper("1",new OneDirectionAdapter);
			Avatar2DUtil.registerDirectionAdaper("2",new TwoMirrorDirAdapter);
			Avatar2DUtil.registerDirectionAdaper("4",new FourMirrorDirAdapter);
			Avatar2DUtil.registerDirectionAdaper("8",new EightMirrorDirAdapter);
		}
	}

	return Avatar2DUtil;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/DirectionAdapter.as=======199.998839/199.998839
/**
*avatar2D 方向适配
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.avatar.DirectionAdapter
var DirectionAdapter=(function(){
	function DirectionAdapter(directionMax,useMirror){
		/**方向数量*/
		this.directionMax=1;
		/**启用镜像*/
		this.useMirror=false;
		this.table=[];
		this.directionMax=directionMax;
		this.useMirror=useMirror;
	}

	__class(DirectionAdapter,'laya.game.client.plugins.character.avatar.DirectionAdapter');
	var __proto=DirectionAdapter.prototype;
	/**
	*判定是否镜像
	*@param angle (0~360)
	*@return
	*
	*/
	__proto.needMirror=function(angle){
		angle=MathUtils.normalAngle(angle);
		if(this.useMirror){
			return angle>90&&angle<270;
		}
		else{
			return false;
		}
	}

	/**
	*角度映射
	*@param angle (0~360)
	*@return
	*
	*/
	__proto.angle2Direct=function(angle){
		angle+=90+(180/this.directionMax)
		angle=MathUtils.normalAngle(angle);
		return this.table[Math.floor(angle/360*this.directionMax)];
	}

	/**
	*根据动作与方向 获取动画名称
	*/
	__proto.getAnimaName=function(action,dir){
		return GameSystem.game.getActionName(action,dir);
	}

	return DirectionAdapter;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/CollisionRect.as=======199.998819/199.998819
//class laya.game.client.plugins.collision.CollisionRect
var CollisionRect=(function(){
	function CollisionRect(){
		/**中心点的x坐标比例*/
		this._anchorXP=NaN;
		/**中心点的y坐标比例*/
		this._anchorYP=NaN;
		/**碰撞盒子的宽*/
		this.width=NaN;
		/**碰撞盒子的高*/
		this.height=NaN;
		/**全局的左上角x坐标*/
		this.x=NaN;
		/**全局的左上角y坐标*/
		this.y=NaN;
		/**中心点的坐标绝对值X */
		this.anchorX=NaN;
		/**中心点的坐标绝对值Y */
		this.anchorY=NaN;
	}

	__class(CollisionRect,'laya.game.client.plugins.collision.CollisionRect');
	var __proto=CollisionRect.prototype;
	__proto.scale=function(x,y){
		this.width *=x;
		this.height *=y;
		this.anchorX=this._anchorXP*this.width;
		this.anchorY=this._anchorYP*this.height;
	}

	/**
	*确定在 rect 参数中指定的对象是否与此 Rectangle 对象相交。此方法检查指定的 Rectangle 对象的 x、y、width 和 height 属性，以查看它是否与此 Rectangle 对象相交。
	*@param rect Rectangle 对象。
	*@return 如果传入的矩形对象与此对象相交，则返回 true 值，否则返回 false。
	*/
	__proto.intersects=function(rect){
		return !(rect.x > (this.x+this.width)|| (rect.x+rect.width)< this.x || rect.y > (this.y+this.height)|| (rect.y+rect.height)< this.y);
	}

	__getset(0,__proto,'anchorXP',null,function(value){
		this._anchorXP=value;
		this.anchorX=this._anchorXP*this.width;
	});

	__getset(0,__proto,'anchorYP',null,function(value){
		this._anchorYP=value;
		this.anchorY=this._anchorYP*this.height;
	});

	return CollisionRect;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/findway/FinderParam.as=======199.998807/199.998807
/**
*场景寻路中需要的数据类
*@author rpw
*/
//class laya.game.client.plugins.scene.findway.FinderParam
var FinderParam=(function(){
	function FinderParam(){
		/*用于寻路中的高度图路径*/
		this.meshTerrainSprite3DMapUrl=null;
		/*AStar图的路径*/
		this.avatarMapUrl=null;
		/*Astar图的格子宽度*/
		this.gridWidth=0;
		/*Astar图的格子高度*/
		this.gridHeight=0;
		/*寻路场景对象*/
		this.scene=null;
		/*判断出界的X,Z贴图*/
		this.aStarXZMap=null;
		/*判断出界的Y贴图*/
		this.aStarYMap=null;
		/*从场景提取出来mesh载体实例*/
		this.meshSprite3D=null;
		/*寻路场景片所包含的名称*/
		this.heightMapName=null;
	}

	__class(FinderParam,'laya.game.client.plugins.scene.findway.FinderParam');
	return FinderParam;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/GameObjParam.as=======199.998800/199.998800
/**
*创建对象上下文
*@author wulongbin
*
*/
//class laya.game.client.scene.GameObjParam
var GameObjParam=(function(){
	function GameObjParam(){
		this.configID=null;
		this.x=NaN;
		this.y=NaN;
		this.z=NaN;
		this.layerName=null;
		this.ID=null;
		this.sheet=null;
		this.className=null;
		this.plugins=null;
		this.node=null;
		this.parent=null;
		this.faceAngle=NaN;
		this.scene=null;
		this.extendData=null;
	}

	__class(GameObjParam,'laya.game.client.scene.GameObjParam');
	var __proto=GameObjParam.prototype;
	__proto.clear=function(){
		this.configID=0;
		this.x=this.y=this.z=this.faceAngle=0;
		this.layerName='';
		this.ID='';
		this.sheet="";
		this.className='';
		this.plugins=null;
		this.node=null;
		this.extendData=null;
		return this;
	}

	// }
	__proto.setConfig=function(configID,sheet){
		this.configID=configID;
		this.sheet=sheet;
		return this;
	}

	__proto.setPos=function(x,y,z){
		(z===void 0)&& (z=0);
		this.x=x;
		this.y=y;
		this.z=z;
		return this;
	}

	/**
	*根据半径预角度设置位置
	*@param target
	*@param radius
	*@param offAngle
	*@return
	*
	*/
	__proto.rangePos=function(target,radius,offAngle){
		var pos=target.pos.value;
		this.x=pos.x;
		this.y=pos.y;
		this.z=pos.z;
		MathUtils.offPosByAngle(offAngle,radius,this);
		return this;
	}

	/**
	*设置其他信息
	*@param faceAngle 朝向
	*@param layerName 图层
	*@param ID 全局ID
	*@return
	*
	*/
	__proto.setOther=function(faceAngle,layerName,ID){
		(faceAngle===void 0)&& (faceAngle=0);
		(layerName===void 0)&& (layerName="");
		(ID===void 0)&& (ID='');
		this.faceAngle=faceAngle;
		this.layerName=layerName;
		this.ID=ID;
		return this;
	}

	/**
	*设置面向的朝向
	*@param y
	*/
	__proto.setFaceAngle=function(y){
		this.faceAngle=y;
		return this;
	}

	/**
	*设置node信息
	*@param parentNode 父节点 如果为 null，则添加到gamescene中
	*@param node 绑定节点
	*@return
	*
	*/
	__proto.setNode=function(parent,node,className){
		(className===void 0)&& (className='');
		this.parent=parent;
		this.node=node;
		this.className=className;
		return this;
	}

	__proto.setExtendData=function(data){
		this.extendData=data;
		return this;
	}

	/**
	*创建
	*@return
	*
	*/
	__proto.create=function(){
		return this.scene.createGameObject(this)
	}

	return GameObjParam;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/SceneParam.as=======199.998794/199.998794
//class laya.game.client.scene.SceneParam
var SceneParam=(function(){
	function SceneParam(){
		this.ID='';
		this.extendData=null;
	}

	__class(SceneParam,'laya.game.client.scene.SceneParam');
	var __proto=SceneParam.prototype;
	__proto.setExtendData=function(data){
		this.extendData=data;
		return this;
	}

	return SceneParam;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillManager.as=======199.998789/199.998789
/**
*技能管理器
*@author wulongbin
*
*/
//class laya.game.client.skill.SkillManager
var SkillManager=(function(){
	function SkillManager(){
		this.skillLib=null;
		this.scene=null;
		this.skillID=NaN;
		this.createSkilParam=null;
		this._collisions=new Array;
		;
		this.createSkilParam=new SkillParam;
	}

	__class(SkillManager,'laya.game.client.skill.SkillManager');
	var __proto=SkillManager.prototype;
	/**
	*绑定当前场景
	*@param scene
	*
	*/
	__proto.bind=function(scene){
		this.scene=scene;
		this.skillID=1;
		this.skillLib={};
	}

	/**
	*清理
	*
	*/
	__proto.clear=function(){
		var i=0;
		var len=this._collisions.length;
		for(;i<len;i++){
			this._collisions[i].recovery();
		}
		var skill;
		for(var $each_skill in this.skillLib){
			skill=this.skillLib[$each_skill];
			skill.recovery();
		}
		this._collisions.length=0;
		this.skillLib=null;
		this.scene=null;
	}

	__proto.onLoop=function(){
		var i=0;
		for(;i<this._collisions.length;i++){
			this._collisions[i].onLoop();
		}
	}

	/**
	*创建技能
	*@param param 创建节能需要数据结构
	*
	*/
	__proto.createSkill=function(param){
		var caster=this.scene.getGameObj(param.casterID);
		if(!GameSystem.skill.canPlaySkill(caster,param)){
			return;
		}
		GameSystem.skill.doPlaySkill(caster,param);
		var systemSkillData=Sheet.getByID("Skill",param.configID);
		if(!systemSkillData){
			throw '找不到技能配置:'+param.configID;
		}
		if(!caster){
			throw '找不到技能宿主:'+param.casterID;
		}
		param.skillID=param.skillID||"$_"+(this.skillID++)
		var skill=CycleFactory.createObject(systemSkillData.className);
		caster._addSkill(skill);
		skill.bind(param,caster,systemSkillData);
		this.skillLib[skill.skillID]=skill;
	}

	/**
	*移除技能
	*@param skillID
	*
	*/
	__proto.removeSkill=function(skillID){
		var skill=this.skillLib[skillID];
		if(skill){
			skill.caster._removeSkill(skill);
			skill.recovery();
			delete this.skillLib[skillID];
			if(skill.eventDispatcher.hasListener('dectory')){
				skill.eventDispatcher.event('dectory');
			}
		}
	}

	/**
	*获取技能
	*@param skillID
	*@return
	*
	*/
	__proto.getSkill=function(skillID){
		return this.skillLib[skillID];
	}

	/**
	*创建技能碰撞器
	*@param skill 所属技能
	*@param from 碰撞来源
	*@param type 碰撞类型
	*@param param 碰撞需要参数
	*
	*/
	__proto.createSkillCollision=function(skill,from,type,param,maxHitNum){
		(maxHitNum===void 0)&& (maxHitNum=1000000);
		var skillCollision=CycleFactory.createObject(type);
		skillCollision.init(skill,from,param,maxHitNum);
		this._collisions.push(skillCollision);
		return skillCollision;
	}

	/**
	*移除技能碰撞器
	*@param c
	*
	*/
	__proto.removeSkillCollision=function(c){
		var index=this._collisions.indexOf(c);
		if(index>=0){
			this._collisions.splice(index,1);
			c.recovery();
		}
	}

	__proto.onceSkillParam=function(){
		return this.createSkilParam;
	}

	__static(SkillManager,
	['instance',function(){return this.instance=new SkillManager;}
	]);
	return SkillManager;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillParam.as=======199.998788/199.998788
/**
*创建技能参数
*@author wulongbin
*
*/
//class laya.game.client.skill.SkillParam
var SkillParam=(function(){
	function SkillParam(){
		/**技能配置ID*/
		this.configID=null;
		/**发射技能宿主ID*/
		this.casterID=null;
		/**技能实例*/
		this.skillID=null;
		/**
		*扩展数据
		*/
		this.extendData=null;
		/**技能目标*/
		this.targets=null;
	}

	__class(SkillParam,'laya.game.client.skill.SkillParam');
	var __proto=SkillParam.prototype;
	__proto.clear=function(){
		this.configID=null;
		this.casterID=null;
		this.skillID=null;
		this.extendData=null;
		this.targets=null;
		return this;
	}

	__proto.setData=function(configID,casterID){
		this.configID=configID;
		this.casterID=casterID;
		return this;
	}

	/**
	*
	*@param extendData 技能扩展数据
	*@param targets 目标对象
	*@return
	*
	*/
	__proto.setOther=function(extendData,targtes){
		this.extendData=extendData;
		this.targets=targtes;
		return this;
	}

	__proto.setSkillID=function(id){
		this.skillID=id;
		return this;
	}

	return SkillParam;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/sound/GameSoundManager.as=======199.998786/199.998786
/**
*游戏音乐管理器
*@author wulongbin
*
*/
//class laya.game.client.sound.GameSoundManager
var GameSoundManager=(function(){
	function GameSoundManager(){
		this._groups={};
	}

	__class(GameSoundManager,'laya.game.client.sound.GameSoundManager');
	var __proto=GameSoundManager.prototype;
	__proto.getGroup=function(n,maxCount){
		var g=this._groups[n];
		if(!g){
			g=this.createGroup(n,maxCount);
		}
		return g;
	}

	__proto.createGroup=function(n,maxCouint){
		var g=this._groups[n]=new SoundGroup;
		g.max=maxCouint?maxCouint:GameSoundManager.playMax;
		return g;
	}

	__proto.playMusic=function(name){
		try{
			var obj=Sheet.getByID("Music",name);
			return SoundManager.playMusic(obj.file,obj.loop);
		}
		catch(e){}
	}

	__proto.playSound=function(name){
		try{
			var obj=Sheet.getByID("Music",name);
			var soundGroup=this.getGroup(obj.group,obj.maxCount);
			if(soundGroup){
				if(soundGroup.check()){
					return SoundManager.playSound(obj.file,obj.loop,soundGroup.add());
				}
			}
			else{
				return SoundManager.playSound(obj.file,obj.loop);
			}
		}
		catch(e){}
		return null;
	}

	GameSoundManager.playMax=2;
	__static(GameSoundManager,
	['instance',function(){return this.instance=new GameSoundManager;}
	]);
	return GameSoundManager;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/sound/SoundGroup.as=======199.998785/199.998785
/**
*声音组
*@author wulongbin
*
*/
//class laya.game.client.sound.SoundGroup
var SoundGroup=(function(){
	function SoundGroup(){
		/**
		*播放数量
		*/
		this.num=0;
		/**
		*最大播放数量
		*/
		this.max=0;
		this.complete=null;
		this.complete=new Handler(this,this._complete);
	}

	__class(SoundGroup,'laya.game.client.sound.SoundGroup');
	var __proto=SoundGroup.prototype;
	__proto.check=function(){
		return this.num<this.max;
	}

	__proto.add=function(){
		this.num++;
		return this.complete;
	}

	__proto._complete=function(){
		this.num--;
	}

	return SoundGroup;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/system/EventCenter.as=======199.998784/199.998784
/**
*事件中心
*全局事件派发
*@author wulongbin
*
*/
//class laya.game.client.system.EventCenter
var EventCenter=(function(){
	function EventCenter(){}
	__class(EventCenter,'laya.game.client.system.EventCenter');
	EventCenter.on=function(type,caller,listener,args){
		return EventCenter.center.on(type,caller,listener,args);
	}

	EventCenter.off=function(type,caller,listener,onceOnly){
		(onceOnly===void 0)&& (onceOnly=false);
		return EventCenter.center.off(type,caller,listener,onceOnly);
	}

	EventCenter.event=function(type,data){
		return EventCenter.center.event(type,data);
	}

	EventCenter.listen=function(clz,caller,fun,params){
		EventCenter.center.on(MessageUtils.getClassKey(clz),caller,fun,params);
	}

	EventCenter.cancel=function(clz,caller,fun,__param){
		var param=[];for(var i=3,sz=arguments.length;i<sz;i++)param.push(arguments[i]);
		EventCenter.center.off(MessageUtils.getClassKey(clz),caller,fun);
	}

	EventCenter.callMsg=function(msg){
		EventCenter.center.event(msg.msgKey,msg);
	}

	__static(EventCenter,
	['center',function(){return this.center=new EventDispatcher;}
	]);
	return EventCenter;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/system/GameSystem.as=======199.998783/199.998783
//class laya.game.client.system.GameSystem
var GameSystem=(function(){
	function GameSystem(){}
	__class(GameSystem,'laya.game.client.system.GameSystem');
	__getset(1,GameSystem,'sceneTimer',function(){
		return GameSystem.scene.getTimer();
	});

	GameSystem.registerExtend=function(m){
		GameSystem._registrants.push(m);
	}

	GameSystem.init=function(is3D){
		(is3D===void 0)&& (is3D=false);
		GameSystem.uiLayer.top=GameSystem.uiLayer.bottom=GameSystem.uiLayer.left=GameSystem.uiLayer.right=0;
		Laya.stage.addChild(GameSystem.sceneLayer);
		Laya.stage.addChild(GameSystem.uiLayer);
		laya.game.client.system.GameSystem.is3D=is3D;
		MathUtils.init();
		CSystem.init();
		if(!GameSystem.skill){
			GameSystem.registerExtend(new SkillExtend);
		}
		if(!GameSystem.game){
			GameSystem.registerExtend(new GameExtend);
		};
		var i=0;
		var len=GameSystem._registrants.length;
		for(i=0;i<len;i++){
			GameSystem._registrants[i].ready();
		}
		for(i=0;i<len;i++){
			GameSystem._registrants[i].init();
		}
		GameSystem.getServerTime=GameSystem.getServerTimeByServer;
	}

	GameSystem.config=function(){
		var i=0;
		var len=GameSystem._registrants.length;
		for(i=0;i<len;i++){
			GameSystem._registrants[i].config();
		}
	}

	GameSystem.getLocalTime=function(){
		return Browser.now();
	}

	GameSystem.setServerTime=function(value){
		GameSystem._serverTime=value;
		GameSystem._lastLocalTime=GameSystem.getLocalTime();
	}

	GameSystem.getServerTimeByServer=function(){
		return GameSystem.getLocalTime()-GameSystem._lastLocalTime+GameSystem._serverTime
	}

	GameSystem.getServerTimeByFrame=function(){
		return GameSystem._roomTime;
	}

	GameSystem.setRoomTime=function(value){
		GameSystem._roomTime=value;
	}

	GameSystem.log=function(__param){
		var param=arguments;
		console.log(param);
	}

	GameSystem.game=null;
	GameSystem.skill=null;
	GameSystem.is3D=false;
	GameSystem.userID="1";
	GameSystem.hero=null;
	GameSystem.petArr=[];
	GameSystem.scene=null;
	GameSystem._serverTime=0;
	GameSystem._lastLocalTime=0;
	GameSystem.getServerTime=function(){
		return 0;
	}

	GameSystem._roomTime=0;
	__static(GameSystem,
	['sceneLayer',function(){return this.sceneLayer=new Sprite;},'uiLayer',function(){return this.uiLayer=new Box();},'centerPoint',function(){return this.centerPoint=new Vector2();},'cameraRay',function(){return this.cameraRay=new Ray(new Vector3,new Vector3);},'_registrants',function(){return this._registrants=new Array;}
	]);
	return GameSystem;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/util/OnceTool.as=======199.998780/199.998780
//class laya.game.client.util.OnceTool
var OnceTool=(function(){
	function OnceTool(){}
	__class(OnceTool,'laya.game.client.util.OnceTool');
	OnceTool.getArray=function(){
		if(OnceTool.arrayPool.length>0){
			return OnceTool.arrayPool.pop();
		}
		return [];
	}

	OnceTool.recoveryArray=function(arr){
		arr.length=0;
		OnceTool.arrayPool.push(arr);
	}

	OnceTool.getPoint=function(x,y){
		var p=OnceTool.points.pop();
		if(!p){
			p=new Point;
		}
		p.setTo(x,y);
		return p;
	}

	OnceTool.recovertyPoint=function(p){
		OnceTool.points.push(p);
	}

	OnceTool.getVector=function(){
		if(OnceTool.vectors.length>0){
			return OnceTool.vectors.pop();
		}
		return new Vector3;
	}

	OnceTool.recovertyVector3=function(v){
		v.toDefault();
		OnceTool.vectors.push(v);
	}

	OnceTool.arrayPool=[];
	OnceTool.onceArray=[];
	OnceTool.points=[];
	OnceTool.vectors=[];
	__static(OnceTool,
	['tempVector3',function(){return this.tempVector3=new Vector3();},'tempCenterRay',function(){return this.tempCenterRay=new Ray(new Vector3(),new Vector3());},'tempQuaternion',function(){return this.tempQuaternion=new Quaternion();},'vector3_1',function(){return this.vector3_1=new Vector3;},'vector3_2',function(){return this.vector3_2=new Vector3;},'vector3_3',function(){return this.vector3_3=new Vector3;}
	]);
	return OnceTool;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/client/util/Sprite3DUtil.as=======199.998777/199.998777
//class laya.game.client.util.Sprite3DUtil
var Sprite3DUtil=(function(){
	var Sprite3DPool;
	function Sprite3DUtil(){}
	__class(Sprite3DUtil,'laya.game.client.util.Sprite3DUtil');
	Sprite3DUtil.getSprite3D=function(){
		if(Sprite3DUtil._sprite3Ds.length>0){
			return Sprite3DUtil._sprite3Ds.pop();
		}
		else{
			return new Sprite3D;
		}
	}

	Sprite3DUtil.getPool=function(url){
		var pool=Sprite3DUtil._sprite3DLib[url];
		if(!pool){
			Sprite3DUtil._sprite3DLib[url]=pool=new Sprite3DPool;
		}
		return pool;
	}

	Sprite3DUtil.load=function(url,handle){
		var sp=Sprite3DUtil.getPool(url);
		sp.load(url,handle);
	}

	Sprite3DUtil.clear=function(url,handle){
		Sprite3DUtil.getPool(url).clear(handle);
	}

	Sprite3DUtil.recovery=function(s){
		s.removeSelf();
		var url=s['fileUrl'];
		if(url){
			Sprite3DUtil.getPool(url).recovery(s);
		}
		else{
			if(s.numChildren>0){
				s.removeChildren();
			}
			Sprite3DUtil._sprite3Ds.push(s);
		}
	}

	Sprite3DUtil.disableLight=function(node){
		if(!node || !node._children || !node._children.length)
			return;for(var i=0,len=node._children.length;i<len;++i){}
	}

	Sprite3DUtil._sprite3Ds=[];
	Sprite3DUtil._sprite3DLib={};
	Sprite3DUtil._sprite3DPool={};
	Sprite3DUtil.__init$=function(){
		//class Sprite3DPool
		Sprite3DPool=(function(){
			function Sprite3DPool(){
				this.source=null;
				this.pool=[];
				this.max=5;
				this.status=0;
				this.url=null;
				this._cacheHandles=new Array;
			}
			__class(Sprite3DPool,'');
			var __proto=Sprite3DPool.prototype;
			__proto.load=function(url,handle){
				this.url=url;
				if(this.status==2){
					handle.runWith(this.getSprite3D());
					return;
				}
				this._cacheHandles.push(handle);
				if(this.status>0)return;
				this.status=1;
				this.source=Sprite3D.load(url);
				if(this.source.loaded){
					this.onLoaded();
					}else{
					this.source.once("hierarchyloaded",this,this.onLoaded);
				}
			}
			__proto.clear=function(handle){
				var index=this._cacheHandles.indexOf(handle);
				if(index>=0){
					this._cacheHandles.splice(index,1);
				}
			}
			__proto.onLoaded=function(){
				this.status=2;
				var i=0;
				var len=this._cacheHandles.length;
				for(;i<len;i++){
					this._cacheHandles[i].runWith(this.getSprite3D());
				}
				this._cacheHandles.length=0;
			}
			__proto.getSprite3D=function(){
				var s;
				if(this.pool.length>0){
					s=this.pool.pop();
				}
				else{
					s=this.source.clone();
				}
				s['fileUrl']=this.url;
				return s;
			}
			__proto.recovery=function(s){
				if(this.pool.length>this.max){
					s.destroy();
					return;
				}
				this.pool.push(s);
			}
			return Sprite3DPool;
		})()
	}

	return Sprite3DUtil;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/data/DataCenter.as=======199.998774/199.998774
//class laya.game.data.DataCenter
var DataCenter=(function(){
	function DataCenter(){}
	__class(DataCenter,'laya.game.data.DataCenter');
	DataCenter.addDynamicSheet=function(sheetName){
		Table.I.add(sheetName,new Sheet(sheetName));
	}

	DataCenter.getByID=function(sheetName,id){
		return Table.I.getByID(sheetName,id);
	}

	DataCenter.getSheet=function(sheetName){
		return Table.I.get(sheetName);
	}

	return DataCenter;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/data/SystemActionData.as=======199.998773/199.998773
//class laya.game.data.SystemActionData
var SystemActionData=(function(){
	function SystemActionData(){
		this.id=null;
		this.src=null;
		this.action=null;
		this.speed=NaN;
		this.loops=NaN;
		this.layer=NaN;
		this.next=null;
		this.beginScript=null;
		this.endScript=null;
		this.state=null;
	}

	__class(SystemActionData,'laya.game.data.SystemActionData');
	var __proto=SystemActionData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Action."+prop);
		Sheet.notify("Action");
	}

	SystemActionData.sheet=function(){
		return Sheet.get("Action");
	}

	SystemActionData.getData=function(id){
		return Sheet.getData("Action",id);
	}

	SystemActionData.getByID=function(id){
		return Sheet.getByID("Action",id);
	}

	return SystemActionData;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/data/SystemAvatarData.as=======199.998772/199.998772
//class laya.game.data.SystemAvatarData
var SystemAvatarData=(function(){
	function SystemAvatarData(){
		this.id=NaN;
		this.file=null;
		this.directions=null;
	}

	__class(SystemAvatarData,'laya.game.data.SystemAvatarData');
	var __proto=SystemAvatarData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Avatar."+prop);
		Sheet.notify("Avatar");
	}

	SystemAvatarData.sheet=function(){
		return Sheet.get("Avatar");
	}

	SystemAvatarData.getData=function(id){
		return Sheet.getData("Avatar",id);
	}

	return SystemAvatarData;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/data/SystemFsmData.as=======199.998769/199.998769
//class laya.game.data.SystemFsmData
var SystemFsmData=(function(){
	function SystemFsmData(){
		this.id=NaN;
		this.event=null;
		this.from=null;
		this.to=null;
	}

	__class(SystemFsmData,'laya.game.data.SystemFsmData');
	var __proto=SystemFsmData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("FSM."+prop);
		Sheet.notify("FSM");
	}

	SystemFsmData.sheet=function(){
		return Sheet.get("FSM");
	}

	SystemFsmData.getData=function(id){
		return Sheet.getData("FSM",id);
	}

	return SystemFsmData;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/data/SystemSkillData.as=======199.998765/199.998765
//class laya.game.data.SystemSkillData
var SystemSkillData=(function(){
	function SystemSkillData(){
		this.id=NaN;
		this.className=null;
		this.skillScriptID=null;
		this.hitScriptID=null;
		this.action=null;
	}

	__class(SystemSkillData,'laya.game.data.SystemSkillData');
	var __proto=SystemSkillData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Skill."+prop);
		Sheet.notify("Skill");
	}

	SystemSkillData.sheet=function(){
		return Sheet.get("Skill");
	}

	return SystemSkillData;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumAction.as=======199.998764/199.998764
//class laya.game.enum.EnumAction
var EnumAction=(function(){
	function EnumAction(){}
	__class(EnumAction,'laya.game.enum.EnumAction');
	EnumAction.Idle='1000';
	EnumAction.Run='1001';
	EnumAction.Attack='attack';
	EnumAction.Dead='1002';
	EnumAction.SquatBreath='1012';
	EnumAction.Reload='1015';
	EnumAction.Grenade='1014';
	EnumAction.Squat='1021';
	EnumAction.ChangeGun_Squat='1016';
	EnumAction.ChangeGun_Stand='1017';
	return EnumAction;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumCharacterPlugin.as=======199.998763/199.998763
//class laya.game.enum.EnumCharacterPlugin
var EnumCharacterPlugin=(function(){
	function EnumCharacterPlugin(){}
	__class(EnumCharacterPlugin,'laya.game.enum.EnumCharacterPlugin');
	EnumCharacterPlugin.Extend_2D='CharacterExtend2D';
	EnumCharacterPlugin.Extend_3D='CharacterExtend3D';
	EnumCharacterPlugin.Avatar_2D="Avatar2D";
	EnumCharacterPlugin.Avatar_3D="Avatar3D";
	EnumCharacterPlugin.Avatar_Image="AvatarImage";
	EnumCharacterPlugin.Skill="Skill";
	EnumCharacterPlugin.Path="Path";
	EnumCharacterPlugin.StateMachine="StateMachine";
	EnumCharacterPlugin.ActionController="ActionController";
	EnumCharacterPlugin.Collision2D="Collision2D";
	EnumCharacterPlugin.WalkCollision2D="WalkCollision2D";
	EnumCharacterPlugin.WalkableManager="WalkableManager";
	EnumCharacterPlugin.CastPlugin='CastPlugin';
	EnumCharacterPlugin.SkillPlugin='SkillPlugin';
	EnumCharacterPlugin.BindPos='BindPos';
	EnumCharacterPlugin.AI='AI';
	EnumCharacterPlugin.PlayerAI='PlayerAI';
	EnumCharacterPlugin.MoveController='MoveController';
	EnumCharacterPlugin.SeedPlugin='SeedPlugin';
	EnumCharacterPlugin.EffectPlayer='EffectPlayer';
	EnumCharacterPlugin.BuffPlugin='BuffPlugin';
	return EnumCharacterPlugin;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumContext.as=======199.998762/199.998762
//class laya.game.enum.EnumContext
var EnumContext=(function(){
	function EnumContext(){}
	__class(EnumContext,'laya.game.enum.EnumContext');
	EnumContext.SkillScriptContext='SkillScriptContext';
	return EnumContext;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumGameObject.as=======199.998759/199.998759
//class laya.game.enum.EnumGameObject
var EnumGameObject=(function(){
	function EnumGameObject(){}
	__class(EnumGameObject,'laya.game.enum.EnumGameObject');
	EnumGameObject.Character="Character";
	EnumGameObject.Effect3D="Effect3D";
	EnumGameObject.Seed="Seed";
	return EnumGameObject;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumLayer.as=======199.998758/199.998758
//class laya.game.enum.EnumLayer
var EnumLayer=(function(){
	function EnumLayer(){}
	__class(EnumLayer,'laya.game.enum.EnumLayer');
	EnumLayer.FarLayer='farLayer';
	EnumLayer.CenterLayer='centerLayer';
	EnumLayer.NearLayer='nearLayer';
	EnumLayer.ObjLayer='objLayer';
	return EnumLayer;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumOther.as=======199.998757/199.998757
//class laya.game.enum.EnumOther
var EnumOther=(function(){
	function EnumOther(){}
	__class(EnumOther,'laya.game.enum.EnumOther');
	EnumOther.CharacterInteraction='CharacterInteraction';
	return EnumOther;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumScene.as=======199.998754/199.998754
//class laya.game.enum.EnumScene
var EnumScene=(function(){
	function EnumScene(){}
	__class(EnumScene,'laya.game.enum.EnumScene');
	EnumScene.Scene="Scene";
	EnumScene.Finder='Finder';
	return EnumScene;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumScenePlugin.as=======199.998753/199.998753
//class laya.game.enum.EnumScenePlugin
var EnumScenePlugin=(function(){
	function EnumScenePlugin(){}
	__class(EnumScenePlugin,'laya.game.enum.EnumScenePlugin');
	EnumScenePlugin.Extend_Scene2D='Scene2DExtend';
	EnumScenePlugin.Extend_Scene3D='Scene3DExtend';
	EnumScenePlugin.CollisionManager_2D="CollisionManager";
	EnumScenePlugin.Camera_2D="Camera2D";
	EnumScenePlugin.Camera_3D="Camera3D";
	EnumScenePlugin.SkillMananger="SkillManager";
	EnumScenePlugin.Rocker="Rocker";
	EnumScenePlugin.AiManager="AiManager";
	return EnumScenePlugin;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/enum/EnumScript.as=======199.998752/199.998752
//class laya.game.enum.EnumScript
var EnumScript=(function(){
	function EnumScript(){}
	__class(EnumScript,'laya.game.enum.EnumScript');
	EnumScript.Script='Script';
	return EnumScript;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/events/GameObjectEvent.as=======199.998749/199.998749
//class laya.game.events.GameObjectEvent
var GameObjectEvent=(function(){
	function GameObjectEvent(){}
	__class(GameObjectEvent,'laya.game.events.GameObjectEvent');
	GameObjectEvent.ActionComplete='ActionComplete';
	GameObjectEvent.SkillPlayEnd='SkillPlayEnd';
	GameObjectEvent.MoveStop='MoveStop';
	GameObjectEvent.Remove='Remove';
	GameObjectEvent.Add='Add';
	GameObjectEvent.Dead='Dead';
	return GameObjectEvent;
})()


	//file:///H:/work/sniper/framework/code/client/laya/game/net/util/HTTPUtil.as=======199.998746/199.998746
//class laya.game.net.util.HTTPUtil
var HTTPUtil=(function(){
	function HTTPUtil(){}
	__class(HTTPUtil,'laya.game.net.util.HTTPUtil');
	HTTPUtil.getQueryString=function(name){
		var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)","i");
		var r=Browser.window.location.search.substr(1).match(reg);
		if (r !=null)return decodeURIComponent(r[2]);return '';
	}

	HTTPUtil.getQueryInt=function(name){
		var v=HTTPUtil.getQueryString(name);
		var i=parseInt(v);
		return isNaN(i)?0:i;
	}

	return HTTPUtil;
})()


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Kstyle.as=======199.998703/199.998703
//class org.coms.components.Kstyle
var Kstyle=(function(){
	function Kstyle(){}
	__class(Kstyle,'org.coms.components.Kstyle');
	Kstyle.BACKGROUND='#1f1f1f';
	Kstyle.BUTTON_FACE='#121212';
	Kstyle.BUTTON_OVER='#1c1c1c';
	Kstyle.BUTTON_DOWN='#151515';
	Kstyle.TEXT_BACKGROUND='#2f2f2f';
	Kstyle.INPUT_TEXT='#adadad';
	Kstyle.TEXTAREA_TEXT='#cdcdcd';
	Kstyle.LABEL_TEXT='#6d6d6d';
	Kstyle.DROPSHADOW='#000000';
	Kstyle.PANEL='#222222';
	Kstyle.PANELTITLE='#444444';
	Kstyle.PROGRESS_BAR='#A0BF7C';
	Kstyle.LIST_SELECTED='#000000';
	Kstyle.LightColor='#8FC31F';
	Kstyle.embedFonts=false;
	Kstyle.fontName="PF Ronda Seven";
	Kstyle.fontSize=13;
	Kstyle.SIZEWH=20;
	Kstyle.HALFWH=10;
	__static(Kstyle,
	['LIST_DEFAULT',function(){return this.LIST_DEFAULT=Kstyle.BUTTON_FACE;},'LIST_ROLLOVER',function(){return this.LIST_ROLLOVER=Kstyle.BUTTON_OVER;},'ICON_COLOR',function(){return this.ICON_COLOR=Kstyle.LABEL_TEXT;}
	]);
	return Kstyle;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/WtreeNodeInfo.as=======199.998683/199.998683
/**
*树子项数据结构
*@author wulongbin
*
*/
//class wlb.dream.displays.coms.WtreeNodeInfo
var WtreeNodeInfo=(function(){
	function WtreeNodeInfo(key,data){
		this.floor=0;
		this.isOpen=false;
		this.key=null;
		this.parent=null;
		this.children=null;
		this.parma=null;
		this._isTreeNode=false;
		this._data=null;
		this._isArray=false;
		this.floor=this.floor;
		this.isTreeNode=this.isTreeNode;
		this.isOpen=this.isOpen;
		this.data=data;
		this.key=key;
		this.parent=this.parent;
	}

	__class(WtreeNodeInfo,'wlb.dream.displays.coms.WtreeNodeInfo');
	var __proto=WtreeNodeInfo.prototype;
	__proto.hasNode=function(node){
		if(this.isArray){
			return false;
		}
		else{
			return this.data[node.key]!=null;
		}
	}

	__proto.addNode=function(node){
		if(this.isArray){
			var index=Number(node.key);
			if(isNaN(index)){
				index=this.children.length;
			}
			else{
				index=Math.max(0,Math.min(this.children.length,index));
			}
			this._addNode(node,index);
			this.children.splice(index,0,node);
			var i=index+1;
			var len=this.children.length;
			for(;i<len;i++){
				this.children[i].key=String(i);
			}
			return index;
		}
		else{
			this.data[node.key]=node.data;
			this.children.push(node);
			return this.childNum-1;
		}
	}

	__proto.removeNode=function(node){
		var index=this.children.indexOf(node);
		this.children.splice(index,1);
		if(this.isArray){
			this._removeNode(node,index);
			var i=index;
			var len=this.children.length;
			for(;i<len;i++){
				this.children[i].key=String(i);
			}
		}
		else{
			delete this.data[node.key];
		}
	}

	/**
	*
	*@param node
	*
	*/
	__proto._removeNode=function(node,index){
		this.data.splice(index,1);
	}

	__proto._addNode=function(node,index){
		this.data.splice(index,0,node.data);
	}

	/**
	*
	*@param callBack 格式function(key:String,value:String):void
	*
	*
	*/
	__proto.createChildNode=function(callBack){
		for (var key in this.data){
			if(key.charAt(0)=="_")continue ;
			callBack(key,this.data[key]);
		}
	}

	__proto.checkArray=function(){
		return (this.data instanceof Array)||String(this.data.constructor).indexOf("Vector.")>=0;
	}

	/**
	*获取可以显示的子项列表（必定包含自身）
	*@param array
	*
	*/
	__proto.getShowItems=function(array){
		array.push(this);
		if(this.isTreeNode&&this.isOpen){
			var child;
			for(var $each_child in this.children){
				child=this.children[$each_child];
				child.getShowItems(array);
			}
		}
	}

	// }
	__getset(0,__proto,'childNum',function(){
		return this.children.length;
	});

	__getset(0,__proto,'isArray',function(){
		return this._isArray;
	});

	__getset(0,__proto,'isTreeNode',function(){
		return this._isTreeNode;
		},function(value){
		if(this._isTreeNode==value)return;
		this._isTreeNode=value;
		if(value)
			this.children=new Array;
		else
		this.children=null;
	});

	__getset(0,__proto,'data',function(){
		return this._data;
		},function(value){
		this._data=value;
		this._isArray=this.checkArray();
	});

	/**
	*子项可显示的数量,包含自己
	*@return
	*
	*/
	__getset(0,__proto,'showItemNum',function(){
		var num=1;
		if(this.isTreeNode&&this.isOpen){
			var child;
			for(var $each_child in this.children){
				child=this.children[$each_child];
				num+=child.showItemNum;
			}
			return num;
		}
		else{
			return num;
		}
	});

	return WtreeNodeInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/displayViews/WstageDisplayListPlug.as=======199.998682/199.998682
//class tool.dream.displays.displayViews.WstageDisplayListPlug
var WstageDisplayListPlug=(function(){
	function WstageDisplayListPlug(){
		this._currentDisplay=null;
		this._overDisplay=null;
		this.displayTree=null;
		this._displayLib=new Wdictrionary;
	}

	__class(WstageDisplayListPlug,'tool.dream.displays.displayViews.WstageDisplayListPlug');
	var __proto=WstageDisplayListPlug.prototype;
	__proto.addListener=function(){
		Wstage.stage.on("mousedown",this,this.chooseDisplayHd);
	}

	__proto.removeListener=function(){
		Wstage.stage.off("mousedown",this,this.chooseDisplayHd);
	}

	__proto.chooseDisplayHd=function(event){
		if(event.altKey==false){
			return;
		}
		event.stopPropagation();
		var display=event.target;
		WstageDisplayListView.instance.currentDisplay=display;
		this.displayTree.selectedItem=display;
	}

	__proto.getListItemLabel=function(data){
		var displayContain=data;
		return displayContain?"..."+displayContain.numChildren:"";
	}

	__proto.checkTree=function(data){
		return (data instanceof laya.display.Sprite )&&this._displayLib.getByObject(data);
	}

	// private var fileReference:FileReference=new FileReference;
	__proto.importImage=function(){}
	// }
	__proto.toString=function(){
		return "2D显示列表"
	}

	__proto.getNumChildren=function(obj){
		return obj.numChildren;
	}

	__proto.getChild=function(obj,i){
		return obj.getChildAt(i);
	}

	__getset(0,__proto,'currentDisplay',function(){
		return this._currentDisplay;
		},function(value){
		if(this._currentDisplay==value)return;
		this._currentDisplay=value;
		this._displayLib=new Wdictrionary;
		var tempDisplay=this._currentDisplay;
		while(tempDisplay){
			this._displayLib.addByObject(tempDisplay,tempDisplay);
			tempDisplay=tempDisplay.parent;
		}
	});

	__getset(0,__proto,'stage',function(){
		return Wstage.stage;
	});

	__getset(0,__proto,'overDisplay',function(){
		return this._overDisplay;
		},function(value){
		this._overDisplay=value;
	});

	return WstageDisplayListPlug;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/managers/WcopyPasteMnger.as=======199.998655/199.998655
//class tool.dream.managers.WcopyPasteMnger
var WcopyPasteMnger=(function(){
	var WCPInfo;
	function WcopyPasteMnger(){
		this._lib=null;
		this._meau=null;
		this._currentInfo=null;
		this._copyValue=null;
		this._copyPaste=null;
		WcopyPasteMnger._instance=this;
		this._lib=new Wdictrionary;
		this._meau=new Wmeau(null,80,90);
		this._meau.setGridAndItem(80,30);
		this._meau.addMeauItem("复制",this,this.copyHd);
		this._meau.addMeauItem("粘贴",this,this.pasterHd);
		this._meau.addMeauItem("置空",this,this.setnullHd);
		this._copyPaste=new WcopyPaste;
	}

	__class(WcopyPasteMnger,'tool.dream.managers.WcopyPasteMnger');
	var __proto=WcopyPasteMnger.prototype;
	__proto.setnullHd=function(){
		if(this._currentInfo._setFunc !=null)
			this._currentInfo._setFunc(null);
	}

	__proto.pasterHd=function(){
		var tempValue=this._copyValue;
		this.copyValue=null;
		if(this._currentInfo._setFunc !=null)
			this._currentInfo._setFunc(tempValue);
	}

	__proto.copyHd=function(){
		if(this._currentInfo._getFunc!=null)
			this.copyValue=this._currentInfo._getFunc();
		else
		this.copyValue=this._currentInfo._display;
	}

	__proto.registeCP=function(display,setFunc,getFunc){
		if(this._lib[display]!=null)this.removeCP(display);
		var info=new WCPInfo(display,setFunc,getFunc);
		display.on("rightclick",this,this.rightClickHd);
		this._lib[display]=info;
	}

	__proto.rightClickHd=function(e){
		e.stopImmediatePropagation();
		this._currentInfo=this._lib[e.currentTarget];
		this._meau.pos(Wstage.stage.mouseX,Wstage.stage.mouseY);
		Wstage.stage.addChild(this._meau);
		Wstage.stage.on("click",this,this.removeMeauHd);
	}

	__proto.removeMeauHd=function(event){
		Wstage.stage.removeChild(this._meau);
		Wstage.stage.off("click",this,this.removeMeauHd);
	}

	__proto.removeCP=function(display){
		var info=this._lib[display];
		if(info){
			display.off("rightclick",this,this.rightClickHd);
		}
	}

	__getset(0,__proto,'copyValue',function(){
		return this._copyValue;
		},function(value){
		this._copyValue=value;
		if(this._copyValue){
			this._copyPaste.value=value;
			Wstage.stage.addChild(this._copyPaste);
		}
		else{
			if(this._copyPaste.parent)
				Wstage.stage.removeChild(this._copyPaste);
		}
	});

	__getset(1,WcopyPasteMnger,'instance',function(){
		return WcopyPasteMnger._instance||new WcopyPasteMnger
	});

	WcopyPasteMnger._instance=null;
	WcopyPasteMnger.__init$=function(){
		//class WCPInfo
		WCPInfo=(function(){
			function WCPInfo(display,setFunc,getFunc){
				this._display=null;
				this._setFunc=null;
				this._getFunc=null;
				this._display=display;
				this._setFunc=setFunc;
				this._getFunc=getFunc;
			}
			__class(WCPInfo,'');
			return WCPInfo;
		})()
	}

	return WcopyPasteMnger;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editObjs/WeditObjInfo.as=======199.998651/199.998651
//class tool.dream.protyEdits.editObjs.WeditObjInfo
var WeditObjInfo=(function(){
	function WeditObjInfo(){
		this._protyEditInfos=null;
		this._protyEditInfoLib=null;
		this._propertyNames=null;
		// protected var _editObjClass:Class;
		this._isDynamic=false;
		this._isFirstInit=true;
		this._combineChildObjs=null;
		this._needDescribe=false;
		this._isClass=false;
		this.changeEventName=null;
		this._tempEditObj=null;
		this._propertyNames=[];
		this._combineChildObjs=[];
	}

	__class(WeditObjInfo,'tool.dream.protyEdits.editObjs.WeditObjInfo');
	var __proto=WeditObjInfo.prototype;
	__proto.clearPropertyName=function(){
		this._propertyNames.length=0;
	}

	__proto.pushPropertyNames=function(params){
		this._propertyNames.push.apply(null,params);
	}

	__proto.setEditObj=function(editObj,params){
		if(this._isFirstInit||this._isDynamic){
			this._isFirstInit=false;
			this._protyEditInfoLib={};
			if(Laya.__isClass(editObj)){
				this._isClass=true;
			}
			else{
				this._isClass=false;
			}
			this._protyEditInfos=new Array;
			this.init(editObj,params);
			this.addPropertyNames();
			if(this._needDescribe){
				this.describeRun();
			}
		}
	}

	__proto.init=function(editObj,param){
		this._tempEditObj=editObj;
		var editProtyInfo=new WeditProtyInfo("Label","Class",null,this.getClass);
		editProtyInfo.editProtyBGColor=Kstyle.LIST_SELECTED;
		editProtyInfo.labelColor='#6D3C66';
		this.pushEditInfo(editProtyInfo);
		this.pushEditInfo(new WeditProtyInfo("Label","this",
		function(__param){
		},
		function(editObj){
			return editObj
		}));
	}

	__proto.addPropertyNames=function(){
		if(this._propertyNames.length>0){
			var classInfo=WclassInfo.getClassInfo(this._tempEditObj);
			var propertyName;
			for(var $each_propertyName in this._propertyNames){
				propertyName=this._propertyNames[$each_propertyName];
				var varInfo=classInfo.getVarInfo(propertyName);
				var proEditInfo=this.createProtyInfoByInfo(varInfo);
				if(proEditInfo){
					this.pushEditInfo(proEditInfo);
				}
			}
		}
	}

	__proto.pushEditInfo=function(editProtyInfo){
		if(this._protyEditInfoLib[editProtyInfo.protyName]){
			return;
		}editProtyInfo.changeEventName=editProtyInfo.changeEventName|| this.changeEventName;
		this._protyEditInfoLib[editProtyInfo.protyName]=editProtyInfo;
		this._protyEditInfos.push(editProtyInfo);
	}

	__proto.getClass=function(editObj){
		return wlb.getClassName(editObj);
	}

	/**
	*组合编辑对象，意味着编辑该对象的同时也能编辑绑定对象
	*@param targetObj
	*@param params
	*
	*/
	__proto.combineEditChildObj=function(childPro,param){
		this._combineChildObjs.push({childPro:childPro,param:param});
	}

	__proto.describe=function(){
		this._needDescribe=true;
	}

	__proto.describeByEO=function(){}
	// describeEO(eoResult);
	__proto.describeRun=function(classInfo){
		var editInfo=new WeditProtyInfo("Label","Property",null,function(){return "Property"});
		editInfo.editProtyBGColor=Kstyle.LIST_SELECTED;
		editInfo.labelColor='#6D3C66';
		this.pushEditInfo(editInfo);
		classInfo=classInfo||WclassInfo.getClassInfo(this._tempEditObj);
		var varInfo;
		var $each_varInfo;
		for($each_varInfo in classInfo.vars){
			varInfo=classInfo.vars[$each_varInfo];
			editInfo=this.createProtyInfoByInfo(varInfo);
			if(editInfo){
				this.pushEditInfo(editInfo);
			}
		}
		return;
		editInfo=new WeditProtyInfo("Label","Function",null,function(){return "Function"});
		editInfo.editProtyBGColor=Kstyle.LIST_SELECTED;
		editInfo.labelColor='#6D3C66';
		this.pushEditInfo(editInfo);
		var i=0;
		var funcName;
		for(var $each_funcName in classInfo.methods){
			funcName=classInfo.methods[$each_funcName];
			editInfo=new WeditProtyInfo("Function",funcName);
			this.pushEditInfo(editInfo);
		}
	}

	__proto.describeEO=function(eoResult){
		var property;
		for(var $each_property in eoResult.propertys){
			property=eoResult.propertys[$each_property];
			if(property.editType){
				var editProtyInfo;
				switch(property.editType){
					case "Enum":
						editProtyInfo=new WenumProtyInfo(property.name,property.enum);
						break ;
					case "DragXY":
						editProtyInfo=new WdragXYProtyInfo(property.dragName,property.parentType||"stage",property.callParent);
						break ;
					default :
						editProtyInfo=new WeditProtyInfo(property.editType,property.name);
						break ;
					}
				this.pushEditInfo(editProtyInfo);
			}
			else{
				this.pushEditInfo(this.createProtyInfoByInfo(property));
			}
		}
	}

	__proto.createProtyInfoByInfo=function(varInfo){
		var protyInfo;
		if(varInfo.writeonly)return null;
		switch(varInfo.type){
			case "Number":
			case "uint":
			case "int":
				protyInfo=new WeditProtyInfo(varInfo.readonly?"Label":"Number",varInfo.name);
				break
			case "String":
				protyInfo=new WeditProtyInfo(varInfo.readonly?"Label":"String",varInfo.name);
				break
			case "Boolean":
				protyInfo=new WeditProtyInfo(varInfo.readonly?"Label":"Boolean",varInfo.name);
				break ;
			case "laya.resource.Texture":
				protyInfo=new WeditProtyInfo("BitmapData",varInfo.name);
				break ;
			default :
				protyInfo=new WeditProtyInfo("Object",varInfo.name);
				protyInfo.isOnlyReady=varInfo.readonly;
				break ;
			}
		return protyInfo;
	}

	__proto.clone=function(){
		var tempObject=this;
		var editObj=new tempObject.constructor;
		editObj.pushPropertyNames(this._propertyNames);
		return editObj;
	}

	__proto.dispose=function(){
		this._protyEditInfos=null;
	}

	__getset(0,__proto,'protyEditInfos',function(){
		return this._protyEditInfos;
	});

	__getset(0,__proto,'combineChildObjs',function(){
		return this._combineChildObjs;
	});

	return WeditObjInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WeditProtyInfo.as=======199.998644/199.998644
//class tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WeditProtyInfo=(function(){
	function WeditProtyInfo(protyEditType,protyName,setFunc,getFunc,des){
		this.isUpdateObject=false;
		this.editProtyBGColor='';
		this.labelColor='';
		this.restrictType=10;
		this.numLength=-1;
		this.showColor=false;
		this.isOnlyReady=false;
		this.isDirectionUrl=false;
		this.changeEventName=null;
		this.protyEditType=null;
		this.protyName=null;
		this.des=null;
		this._setFunc=null;
		this._getFunc=null;
		(des===void 0)&& (des="");
		this.protyEditType=protyEditType;
		this.protyName=protyName;
		this.des=des;
		this._setFunc=setFunc;
		this._getFunc=getFunc;
	}

	__class(WeditProtyInfo,'tool.dream.protyEdits.editProtyInfos.WeditProtyInfo');
	var __proto=WeditProtyInfo.prototype;
	__proto.getFunc=function(editObj){
		try{
			if(this._getFunc!=null)return this._getFunc(editObj);
			return editObj[this.protyName];
		}
		catch(e){
			WlogUtil.log(e.message+'['+editObj+'.'+this.protyName+']',Wsystem.Log_Error);
			return null;
		}
	}

	__proto.setFunc=function(editObj,value){
		try{
			if(this._setFunc!=null){
				this._setFunc(editObj,value);
			}
			else{
				editObj[this.protyName]=value;
			}
		}
		catch(e){
			WlogUtil.log(e.message,Wsystem.Log_Error);
		}
		if(this.changeEventName){
			WeventCenter.instance.event(this.changeEventName);
		}
	}

	__proto.getCallFunction=function(editObj){
		if(editObj.hasOwnProperty(this.protyName)){
			return editObj [this.protyName];
		}
		else return null;
	}

	__proto.dispose=function(){
		this._getFunc=null;
		this._setFunc=null;
	}

	__proto.toString=function(){
		return "protyName";
	}

	return WeditProtyInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditObjMnger.as=======199.998628/199.998628
/**
*可视化编辑对象管理
*@author wulongbin
*
*/
//class tool.dream.protyEdits.WeditObjMnger
var WeditObjMnger=(function(){
	function WeditObjMnger(){
		this._editObjForDynamic=null;
		this._topEditObj=null;
		this._userEditObjLib=null;
		this._registerCla=null;
		WeditObjMnger._instance=this;
		this.init();
	}

	__class(WeditObjMnger,'tool.dream.protyEdits.WeditObjMnger');
	var __proto=WeditObjMnger.prototype;
	__proto.init=function(){
		this._editObjForDynamic=new WeditObjForDynamic();
		this._topEditObj=new WclassTree({},new WeditObjByDescribe);
		this._userEditObjLib=new Wdictrionary;
		this._registerCla=new Wdictrionary;
		this.registerEditObj(new WtopClass({}),new WtopClassEO);
		var txt=BitmapFactory.intance.createBitmapTexture(CreateBitmapParam.once('#000000'));
		this.registerEditObj(txt,new WbitmapDataEO);
	}

	/**
	*
	*@param targetObj 可编辑对象的类
	*@param editObj 可编辑对象代理的类 （该参数可以是类或者类的实例）（该类或该实例必须是WeditObj类或者子类）
	*
	*/
	__proto.registerEditObj=function(target,editObj){
		var cla=target.constructor;
		if(this._registerCla.getByObject(cla)){
			WlogUtil.log(wlb.getQualifiedClassName(cla)+"has register in WeditObjMnger!");
			return;
		}
		this._registerCla.addByObject(cla,editObj);
		this._topEditObj.addChildCla(new WclassTree(target,editObj));
	}

	/**
	*专门给Object对象使用的弱类型编辑对象
	*@param construct
	*@param editObj
	*
	*/
	__proto.registerJsonEditObj=function(construct,editObj){
		this._registerCla.addByObject(construct,editObj);
		this._userEditObjLib.addByObject(construct,editObj);
	}

	__proto.getEditObj=function(targetObj,params){
		if(targetObj){
			var i=0;
			var editObjCla;
			editObjCla=this._userEditObjLib.getByObject(targetObj.constructor);
			if(editObjCla==null){
				editObjCla=this._topEditObj.getParamsByObj(targetObj);
				if(editObjCla==this._topEditObj.params){
					editObjCla=this._editObjForDynamic;
				}
			}
			return editObjCla;
		}
		return null;
	}

	__proto.hasRegisterByObj=function(targetOj){
		return this._registerCla.getByObject(targetOj.constructor)!=null;
	}

	__proto.hasRegisterByString=function(constructor){
		return this._registerCla.getByString(constructor)!=null;
	}

	__getset(1,WeditObjMnger,'instance',function(){
		return WeditObjMnger._instance||new WeditObjMnger
	});

	WeditObjMnger.popNewEditObjWin=function(obj,params,okFunc,noFunc,title){
		(title===void 0)&& (title="");
		var editObjWin=new WeditProtyWin;
		editObjWin.setEditObj(obj,params);
		editObjWin.setOkAndNoFunc(okFunc,noFunc);
		editObjWin.title=title||wlb.getQualifiedClassName(obj);
		WpopManager.instance.popWindow(editObjWin,Wsystem.Pop_EditObjWin,2);
		return editObjWin;
	}

	WeditObjMnger.getEditProtyContain=function(obj,params){
		var editProtyContain=new WeditProtyContain();
		editProtyContain.setEditObj(obj,params);
		return editProtyContain;
	}

	WeditObjMnger._instance=null;
	return WeditObjMnger;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditProtyEvent.as=======199.998625/199.998625
//class tool.dream.protyEdits.WeditProtyEvent
var WeditProtyEvent=(function(){
	function WeditProtyEvent(){
		this.isUpdate=false;
		this.parentObj=null;
		this.key=null;
		this.obj=null;
	}

	__class(WeditProtyEvent,'tool.dream.protyEdits.WeditProtyEvent');
	WeditProtyEvent.once=function(obj,parentObj,key,isUpdate){
		(key===void 0)&& (key='');
		(isUpdate===void 0)&& (isUpdate=false);
		WeditProtyEvent.e.obj=obj;
		WeditProtyEvent.e.parentObj=parentObj;
		WeditProtyEvent.e.key=key;
		WeditProtyEvent.e.isUpdate=isUpdate;
		return WeditProtyEvent.e;
	}

	WeditProtyEvent.EditObj_Change="EditObj_Change";
	__static(WeditProtyEvent,
	['e',function(){return this.e=new WeditProtyEvent;}
	]);
	return WeditProtyEvent;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditProtyMnger.as=======199.998624/199.998624
/**
*属性编辑管理
*@author wulongbin
*
*/
//class tool.dream.protyEdits.WeditProtyMnger
var WeditProtyMnger=(function(){
	function WeditProtyMnger(){
		this._protyEditCla
		WeditProtyMnger._instance=this;
		this.init();
	}

	__class(WeditProtyMnger,'tool.dream.protyEdits.WeditProtyMnger');
	var __proto=WeditProtyMnger.prototype;
	__proto.init=function(){
		this._protyEditCla={};
		this.initRegister();
	}

	__proto.initRegister=function(){
		this.registerCla("Line",WeditProty);
		this.registerCla("Label",WlabelProty);
		this.registerCla("String",WstringProty);
		this.registerCla("Number",WnumberProty);
		this.registerCla("Boolean",WboolProty);
		this.registerCla("Button",WbuttonProty);
		this.registerCla("Slider",WsliderProty);
		this.registerCla("DragXY",WdragXYProty);
		this.registerCla("Function",WfunctionProty);
		this.registerCla("Vectors",WvectorsProty);
		this.registerCla("Enum",WenumProty);
		this.registerCla("Object",WobjectProty);
		this.registerCla("LayoutGameUI",WlayoutGameUIProty);
		this.registerCla("BitmapData",WbitmapDataProty);
	}

	// registerCla(Type_Url,WurlProty);
	__proto.registerCla=function(type,cla){
		this._protyEditCla[type]=new WobjectPool(cla);
	}

	__proto.returnObj=function(type,obj){
		(this._protyEditCla [type]).returnObject(obj);
	}

	__proto.createEditProtys=function(contain,editObj,param,editObjInfo){
		editObjInfo=editObjInfo||WeditObjMnger.instance.getEditObj(editObj,param);
		editObjInfo.setEditObj(editObj,param);
		contain.isDynamic=(editObjInfo instanceof tool.dream.protyEdits.editObjs.WeditObjForDynamic );
		var protyEditInfos=editObjInfo.protyEditInfos;
		var i=0;
		var len=protyEditInfos.length;
		var protyEidt;
		for(;i<len;i++){
			protyEidt=(this._protyEditCla [protyEditInfos[i].protyEditType]).getObject();
			protyEidt.setContainer(contain);
			protyEidt.initEdit(editObj,protyEditInfos[i]);
			contain.addEditProty(protyEditInfos[i].protyName,protyEidt);
		}
		var combineObj;
		for(var $each_combineObj in editObjInfo.combineChildObjs){
			combineObj=editObjInfo.combineChildObjs[$each_combineObj];
			this.createEditProtys(contain,editObj[combineObj.childPro],combineObj.param);
		}
	}

	__getset(1,WeditProtyMnger,'instance',function(){
		return WeditProtyMnger._instance||new WeditProtyMnger
	});

	WeditProtyMnger._instance=null;
	WeditProtyMnger.Type_Line="Line";
	WeditProtyMnger.Type_Number="Number";
	WeditProtyMnger.Type_Object="Object";
	WeditProtyMnger.Type_String="String";
	WeditProtyMnger.Type_Label="Label";
	WeditProtyMnger.Type_Bool="Boolean";
	WeditProtyMnger.Type_Button="Button";
	WeditProtyMnger.Type_Slider="Slider";
	WeditProtyMnger.Type_BitmapData="BitmapData";
	WeditProtyMnger.Type_Url="Url";
	WeditProtyMnger.Type_Vectors="Vectors";
	WeditProtyMnger.Type_Filters="Filters";
	WeditProtyMnger.Type_Enum="Enum";
	WeditProtyMnger.Type_Function="Function";
	WeditProtyMnger.Type_LayoutGameUI="LayoutGameUI";
	WeditProtyMnger.Type_DragXY="DragXY";
	WeditProtyMnger.__init$=function(){
		;
		/*namespace*/
	}

	return WeditProtyMnger;
})()


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WtopClass.as=======199.998615/199.998615
//class tool.dream.protyEdits.WtopClass
var WtopClass=(function(){
	function WtopClass(obj){
		this.value=null;
		this.value=obj;
	}

	__class(WtopClass,'tool.dream.protyEdits.WtopClass');
	return WtopClass;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/WasynItem.as=======199.998611/199.998611
;
/**
*异步器
*支持以下功能：
*/
//class wlb.dream.async.WasynItem
var WasynItem=(function(){
	function WasynItem(){
		this._frameOutFuncs=null;
		this._currentFrameFuncs=null;
		this._frameFuncs=null;
		this._bigSpaceLine=null;
		this._currentNode=null;
		this._timerFuncs=null;
		this._frameLineIndex=0;
		this._nowFrame=0;
		this._timeInFrame=0;
		this._timeInTimer=0;
		this._timeCoeInFrame=0;
		this._timeCoeInTimer=0;
		this._tweenByTimer=null;
		this._tweenByFrame=null;
		this._tweenByTarget=null;
		this._timers=null;
		/**
		*最大时间间隔
		*/
		this.Max_Space=0;
		this._parentAsyn=null;
		this.nextNode=null;
		this._running=false;
		this._lastTime=0;
		this._nowTime=0;
		this._childAsynItems=new Array;
		this.Max_Space=(1<<7)-1;
		this['nextLine']=this.nextLine.bind(this);
		this['oneTimeNode']=this.oneTimeNode.bind(this);
		this['nullNode']=this.nullNode.bind(this);
		this.init();
	}

	__class(WasynItem,'wlb.dream.async.WasynItem');
	var __proto=WasynItem.prototype;
	Laya.imps(__proto,{"wlb.dream.async.IasynItem":true})
	__proto.init=function(){
		this._frameFuncs=new Wdictrionary;
		this._frameOutFuncs=new Wdictrionary;
		this._currentFrameFuncs=new Wdictrionary;
		var len=this.Max_Space+1;
		this._bigSpaceLine=new Array(len);
		for(var i=0;i<len;i++){
			this._bigSpaceLine[i]=new WheadNode;
		}
		this._lastTime=this.getTimer();
		this._timerFuncs=new Wdictrionary;
		this._tweenByFrame=new Wdictrionary();
		this._tweenByTimer=new Wdictrionary;
		this._tweenByTarget=new Wdictrionary;
		this._timers=new Wtimers;
	}

	__proto.addChildAsyn=function(value){
		value.removeChildAsynFromParent();
		var index=this._childAsynItems.indexOf(value);
		if(index<0){
			this._childAsynItems.push(value);
		}
		value.setParentAsyn(this);
	}

	__proto.removeChildAsynFromParent=function(){
		if(this.parentAsyn){
			this.parentAsyn.removeChildAsyn(this);
		}
	}

	__proto.removeChildAsyn=function(value){
		if(value.parentAsyn !=this)return;
		this._childAsynItems.splice(this._childAsynItems.indexOf(value),1);
		value.setParentAsyn(this);
	}

	__proto.setParentAsyn=function(value){
		if(this.running)throw '运行状态不能修改parentAsyn!';
		this._parentAsyn=value;
	}

	/**
	*添加轮询函数，若相同函数已经添加轮询，则会自动移除上次添加的轮询
	*@param callback
	*@param frame 轮询周期，默认为每帧轮询一次
	*
	*/
	__proto.frameLoop=function(call,callback,frame){
		(frame===void 0)&& (frame=1);
		var node=this._frameFuncs.getByDouble(call,callback);
		if(node!=null){
			node.clear();
			node.nextLine=this.nullNode;
		}
		if(frame<1)frame=1;
		node=WfuncNode.create().init(call,callback,this.nextLine,frame);
		var topNode=this._bigSpaceLine[(this._frameLineIndex+frame)&this.Max_Space];
		topNode.last.next=node;
		topNode.last=node;
		this._frameFuncs.addByDouble(call,callback,node);
	}

	/**
	*移除轮询
	*@param callback
	*
	*/
	__proto.clearFrameLoop=function(call,callback){
		var node=this._frameFuncs.getByDouble(call,callback);
		if(node==null)return;
		node.clear();
		node.nextLine=this.nullNode;
		this._frameFuncs.removeByDouble(call,callback);
	}

	/**
	*添加一次性回调函数，当执行完回调后会自动删除该回调引用
	*@param callback
	*@param frame 延迟帧时间
	*
	*/
	__proto.frameOnce=function(call,callback,frame){
		(frame===void 0)&& (frame=1);
		var node=this._frameOutFuncs.getByDouble(call,callback);
		if(node!=null){
			node.clear();
			node.nextLine=this.nullNode;
		}
		frame=Math.max(frame,1);
		node=WfuncNode.create().init(call,callback,this.oneTimeNode,frame);
		var topNode=this._bigSpaceLine[(this._frameLineIndex+frame)&this.Max_Space];
		topNode.last.next=node;
		topNode.last=node;
		this._frameOutFuncs.addByDouble(call,callback,node);
	}

	/**
	*移除一次性回调函数
	*@param func
	*
	*/
	__proto.clearFrameOnce=function(call,callback){
		var node=this._frameOutFuncs.getByDouble(call,callback);
		if(node==null)return;
		node.clear();
		node.nextLine=this.nullNode;
		this._frameOutFuncs.removeByDouble(call,callback);
	}

	__proto.callLater=function(call,callback){
		this._currentFrameFuncs.addByDouble(call,callback,callback.bind(call));
	}

	__proto.clearCallLater=function(call,func){
		this._currentFrameFuncs.removeByDouble(call,func);
	}

	/**
	*添加回调函数至Timer库
	*@param func
	*
	*/
	__proto.loop=function(call,func){
		this._timerFuncs.addByDouble(call,func,func.bind(call));
	}

	__proto.clearLoop=function(call,func){
		this._timerFuncs.removeByDouble(call,func);
	}

	__proto.renderFrame=function(){
		this._nowFrame++;
		var tempTime=this.nowTime;
		var offTime=tempTime-this._timeInFrame;
		this._timeInFrame=tempTime;
		this._timeCoeInFrame=Math.min(1,offTime / 1000);
		this._frameLineIndex=(this._frameLineIndex+1)&this.Max_Space;
		var currentLine=this._bigSpaceLine[this._frameLineIndex];
		this._currentNode=currentLine.next;
		while(this._currentNode){
			this.nextNode=this._currentNode.next;
			this._currentNode.nextLine();
			this._currentNode=this.nextNode;
		}
		currentLine.reset();
		var lib=this._tweenByFrame.lib;
		var t;
		for(var $each_t in lib){
			t=lib[$each_t];
			t.$render();
		}
		lib=this._currentFrameFuncs.lib;
		for (var key in lib){
			var func=lib[key];
			delete lib[key];
			func();
		}
	}

	__proto.renderTimer=function(){
		var tempTime=this.nowTime;
		var offTime=tempTime-this._timeInTimer;
		this._timeInTimer=tempTime;
		this._timeCoeInTimer=Math.min(1,offTime / 1000);
		this._timers.addTime(offTime);
		var lib=this._timerFuncs.lib;
		var func;
		for(var $each_func in lib){
			func=lib[$each_func];
			func();
		}
		lib=this._tweenByTimer.lib;
		var t;
		for(var $each_t in lib){
			t=lib[$each_t];
			t.$render();
		}
	}

	__proto.nullNode=function(){
		WfuncNode.returnObj(this._currentNode);
	}

	__proto.oneTimeNode=function(){
		this._frameOutFuncs.removeByDouble(this._currentNode._call,this._currentNode._func);
		this._currentNode.call();
	}

	__proto.nextLine=function(){
		this._currentNode.call();
		var spaceLine=this._bigSpaceLine[(this._frameLineIndex+this._currentNode.space)&this.Max_Space];
		spaceLine.last.next=this._currentNode;
		spaceLine.last=this._currentNode;
		this._currentNode.next=null;
	}

	__proto.killTween=function(tween){
		var tweens=this._tweenByTarget [tween.$target];
		if(tweens==null)return;
		tweens.splice(tweens.indexOf(tween),1);
		if(tweens.length==0){
			delete this._tweenByTarget[tween.$target];
		}
		if(tween.type=="frame"){
			delete this._tweenByFrame[tween];
		}
		else{
			delete this._tweenByTimer[tween];
		}
	}

	//==============Tween=======================
	__proto.killTarget=function(target){
		var tweens=this._tweenByTarget [target];
		if(tweens){
			var tween;
			for(var $each_tween in tweens){
				tween=tweens[$each_tween];
				this.killTween(tween);
			}
		}
	}

	/**
	*
	*@param target
	*@param duration 默认单位为【帧】,若要以毫秒为 单位，在vars参数中设置type:"time";
	*@param vars
	*@param isAdd
	*
	*/
	__proto.to=function(target,duration,vars,type){
		(type===void 0)&& (type="frame");
		var t=new Wtween(this,target,duration,vars,type);
		var tweens=this._tweenByTarget [target];
		if(tweens==null){
			tweens=[];
			this._tweenByTarget[target]=tweens;
		}
		tweens.push(t);
		if(t.$type=="frame"){
			this._tweenByFrame.add(t,t);
		}
		else{
			this._tweenByTimer.add(t,t);
		}
		return t;
	}

	__proto.tos=function(toArray,type){
		(type===void 0)&& (type="frame");
		return new Wtweens(this,toArray,type);
	}

	__proto.awkenAsynItem=function(){
		this._lastTime=this.getTimer();
		var i=0;
		var len=this._childAsynItems.length;
		for(;i<len;i++){
			this._childAsynItems[i].awkenAsynItem();
		}
	}

	__proto.addLisenter=function(){
		if(this._parentAsyn){
			this._parentAsyn.loop(this,this.renderTimer);
			this._parentAsyn.frameLoop(this,this.renderFrame);
		}
		else{
			Wsystem.timer.loop(16,this,this.renderTimer);
			Wsystem.timer.frameLoop(1,this,this.renderFrame);
		}
	}

	__proto.removeLisenter=function(){
		if(this._parentAsyn){
			this._parentAsyn.clearLoop(this,this.renderTimer);
			this._parentAsyn.clearFrameLoop(this,this.renderFrame);
		}
		else{
			Wsystem.timer.clear(this,this.renderTimer);
			Wsystem.timer.clear(this,this.renderFrame);
		}
	}

	__proto.disposeAsynItem=function(){
		this.running=false;
		for(var target in this._tweenByTarget){
			this.killTarget(target);
		};
		var node;
		var callBack;
		for(callBack in this._frameFuncs){
			node=this._frameFuncs [callBack];
			node.clear(this.nullNode);
			delete this._frameFuncs[callBack];
		}
		this._timerFuncs=new Wdictrionary;
	}

	//===============time==========================
	__proto.updateNowTime=function(){
		var t=this.getTimer();
		var offTime=t-this._lastTime;
		this._lastTime=t;
		this._nowTime+=offTime;
	}

	__proto.getTimer=function(){
		return Browser.now();
	}

	__getset(0,__proto,'nowTime',function(){
		this.updateNowTime();
		return this._nowTime;
	});

	__getset(0,__proto,'parentAsyn',function(){
		return this._parentAsyn;
	});

	__getset(0,__proto,'nowFrame',function(){
		return this._nowFrame;
	});

	__getset(0,__proto,'running',function(){
		return this._running;
		},function(value){
		if(this._running==value)return;
		this._running=value;
		if(value){
			this.awkenAsynItem();
			this.addLisenter();
		}
		else{
			this.removeLisenter();
		}
	});

	__getset(0,__proto,'timeInFrame',function(){
		return this._timeInFrame;
	});

	__getset(0,__proto,'timeInTimer',function(){
		return this._timeInTimer;
	});

	__getset(0,__proto,'timers',function(){
		return this._timers;
	});

	__getset(0,__proto,'timeCoeInTimer',function(){
		return this._timeCoeInTimer;
	});

	__getset(0,__proto,'timeCoeInFrame',function(){
		return this._timeCoeInFrame;
	});

	return WasynItem;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/WfuncNode.as=======199.998609/199.998609
//class wlb.dream.async.WfuncNode
var WfuncNode=(function(){
	function WfuncNode(){
		this.next=null;
		this.space=0;
		this._call=null;
		this._func=null;
		this.nextLine=null;
	}

	__class(WfuncNode,'wlb.dream.async.WfuncNode');
	var __proto=WfuncNode.prototype;
	__proto.init=function(call,func,nextLine,space){
		this._call=call;
		this._func=func;
		this.nextLine=nextLine;
		this.space=space;
		return this;
	}

	__proto.clear=function(func){
		this._call=null;
		this._func=func;
	}

	__proto.call=function(){
		this._func.apply(this._call);
	}

	WfuncNode.create=function(){
		return WfuncNode.pool.getObject();
	}

	WfuncNode.returnObj=function(obj){
		obj.next=null;
		WfuncNode.pool.returnObject(obj);
	}

	__static(WfuncNode,
	['pool',function(){return this.pool=new WobjectPool(WfuncNode);}
	]);
	return WfuncNode;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/Wtimer.as=======199.998607/199.998607
//class wlb.dream.async.Wtimer
var Wtimer=(function(){
	function Wtimer(delay){
		this._everyLib=null;
		this._oneLib=null;
		this._delay=NaN;
		this._time=0;
		this._delay=delay;
		this._everyLib={};
		this._oneLib={};
	}

	__class(Wtimer,'wlb.dream.async.Wtimer');
	var __proto=Wtimer.prototype;
	__proto.addTime=function(t){
		this._time+=t;
		if(this._time>=this._delay){
			this._time%=this._delay;
			this.onTimer();
		}
	}

	__proto.onTimer=function(){
		var func;
		for(var $each_func in this._everyLib){
			func=this._everyLib[$each_func];
			func();
		}
		var $each_func;
		for($each_func in this._oneLib){
			func=this._oneLib[$each_func];
			delete this._oneLib[func];
			func();
		}
	}

	__proto.addPollFunc=function(func){
		this._everyLib[func]=func;
	}

	__proto.removePollFunc=function(func){
		delete this._everyLib[func];
	}

	__proto.addLaterFunc=function(func){
		this._oneLib[func]=func;
	}

	__proto.removeLaterFunc=function(func){
		delete this._oneLib[func];
	}

	return Wtimer;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/Wtimers.as=======199.998606/199.998606
//class wlb.dream.async.Wtimers
var Wtimers=(function(){
	function Wtimers(){
		this._everyLib=null;
		this._oneLib=null;
		this._time=0;
		this.time100=new Wtimer(100);
		this.time250=new Wtimer(250);
		this.time500=new Wtimer(500);
		this.time1000=new Wtimer(1000);
		this.time3000=new Wtimer(3000);
		this.time5000=new Wtimer(5000);
		this._everyLib=new Wdictrionary;
		this._oneLib=new Wdictrionary;
	}

	__class(Wtimers,'wlb.dream.async.Wtimers');
	var __proto=Wtimers.prototype;
	__proto.addTime=function(t){
		this._time+=t;
		this.time100.addTime(t);
		this.time250.addTime(t);
		this.time500.addTime(t);
		this.time1000.addTime(t);
		this.time3000.addTime(t);
		this.time5000.addTime(t);
		var data;
		for(var $each_data in this._everyLib.lib){
			data=this._everyLib.lib[$each_data];
			if(data[2]<=this._time){
				data[2]+=data[3];
				data[1].apply(data[0]);
			}
		}
		var $each_data;
		for($each_data in this._oneLib.lib){
			data=this._oneLib.lib[$each_data];
			if(data[2]>this._time){
				delete this._oneLib[data[1]];
			}
			data[1].apply(data[0]);
		}
	}

	__proto.addPollFunc=function(call,func,timer){
		(timer===void 0)&& (timer=0);
		this._everyLib.addByDouble(call,func,[call,func,this._time+timer,timer]);
	}

	__proto.removePollFunc=function(call,func){
		this._everyLib.removeByDouble(call,func);
	}

	__proto.addLaterFunc=function(call,func,timer){
		(timer===void 0)&& (timer=0);
		this._oneLib.addByDouble(call,func,[call,func,this._time+timer]);
	}

	__proto.removeLaterFunc=function(call,func){
		this._everyLib.removeByDouble(call,func);
	}

	return Wtimers;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/BitmapFactory.as=======199.998605/199.998605
//class wlb.dream.bimaps.BitmapFactory
var BitmapFactory=(function(){
	var FactoryRoom;
	function BitmapFactory(){
		this._lib={};
		this.registerBitmap("color",ColorBitmap);
	}

	__class(BitmapFactory,'wlb.dream.bimaps.BitmapFactory');
	var __proto=BitmapFactory.prototype;
	__proto.registerBitmap=function(type,cla){
		var room=new FactoryRoom;
		room.cla=cla;
		this._lib [type]=room;
	}

	__proto.createBitmapTexture=function(d){
		var color=d.color;
		color=color.replace("#","");
		var room=this._lib[d.type||"color"];
		var texture=room.lib[color];
		if(texture){
			return texture;
		};
		var rStr=color.substr(0,2);
		var gStr=color.substr(2,2);
		var bStr=color.substr(4,2);
		BitmapFactory.tempColor[0]=parseInt(rStr,16);
		BitmapFactory.tempColor[1]=parseInt(gStr,16);
		BitmapFactory.tempColor[2]=parseInt(bStr,16);
		var cla=room.cla;
		var bit=new cla;
		bit.init(BitmapFactory.tempColor);
		this._lib[color]=texture=new Texture(bit);
		texture.url=color;
		return texture;
	}

	__getset(1,BitmapFactory,'intance',function(){
		return BitmapFactory._instance||(BitmapFactory._instance=new BitmapFactory);
	});

	BitmapFactory.Type_Color="color";
	BitmapFactory._instance=null;
	__static(BitmapFactory,
	['tempColor',function(){return this.tempColor=[0,0,0,255];}
	]);
	BitmapFactory.__init$=function(){
		//class FactoryRoom
		FactoryRoom=(function(){
			function FactoryRoom(){
				this.cla=null;
				this.lib={};
			}
			__class(FactoryRoom,'');
			return FactoryRoom;
		})()
	}

	return BitmapFactory;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/CreateBitmapParam.as=======199.998602/199.998602
//class wlb.dream.bimaps.CreateBitmapParam
var CreateBitmapParam=(function(){
	function CreateBitmapParam(){
		this.type=null;
		this.color=null;
	}

	__class(CreateBitmapParam,'wlb.dream.bimaps.CreateBitmapParam');
	var __proto=CreateBitmapParam.prototype;
	__proto.setTo=function(color,type){
		(type===void 0)&& (type="");
		this.type=type;
		this.color=color;
		return this;
	}

	__proto.clear=function(){
		this.color=null;
	}

	__getset(1,CreateBitmapParam,'instance',function(){
		return CreateBitmapParam._instance;
	});

	CreateBitmapParam.once=function(color,type){
		(type===void 0)&& (type='');
		return CreateBitmapParam._instance.setTo(color,type);
	}

	__static(CreateBitmapParam,
	['_instance',function(){return this._instance=new CreateBitmapParam;}
	]);
	return CreateBitmapParam;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/classes/DescribeEOResult.as=======199.998601/199.998601
//class wlb.dream.classes.DescribeEOResult
var DescribeEOResult=(function(){
	function DescribeEOResult(){
		this.propertys=[];
		this.needDescribe=false;
	}

	__class(DescribeEOResult,'wlb.dream.classes.DescribeEOResult');
	var __proto=DescribeEOResult.prototype;
	/**
	*
	*@param access 属性只读标志
	*@param name 属性名称
	*@param type 属性类型
	*@param editType 编辑类型
	*@param enum 枚举值
	*
	*/
	__proto.addProperty=function(access,name,type,editType,other){
		var varInfo=new WvarInfo;
		varInfo.writeonly=access=="writeonly";
		varInfo.readonly=access=="readonly";
		varInfo.name=name;
		varInfo.editType=editType;
		for(var key in other){
			varInfo[key]=other[key];
		}
		this.propertys.push(varInfo);
	}

	__proto.sort=function(){
		this.propertys.sortOn("name");
	}

	return DescribeEOResult;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/classes/WclassInfo.as=======199.998598/199.998598
//class wlb.dream.classes.WclassInfo
var WclassInfo=(function(){
	function WclassInfo(){
		this.target=null;
		this.className=null;
		this._varLib=null;
		this._parentLib=null;
		this.methods=[]
		this.vars=new Array;
	}

	__class(WclassInfo,'wlb.dream.classes.WclassInfo');
	var __proto=WclassInfo.prototype;
	__proto.reset=function(obj){
		this.target=obj.constructor;
		this.className=wlb.getQualifiedClassName(this.target);
		this._parentLib=new Object;
		if(!this.className)
			this.className='Object';
		else{
			this._parentLib['Object']=true;
		}
		this.methods.length;
		this.vars.length=0;
		this._varLib=new Object;
		var parentClass=this.target;
		var parentName;
		var desc;
		while(parentClass){
			parentName=wlb.getQualifiedClassName(parentClass);
			this.analysisDesc(parentClass.prototype,obj);
			parentClass=parentClass.__super;
			this._parentLib[parentName]=true;
		}
		this.analysisDesc(obj,obj);
		this.vars=this.vars.sort(function(a,b){
			return a.name>b.name?1:-1;
		});
		this.methods=this.methods.sort(function(a,b){
			return a>b?1:-1;
		});
	}

	__proto.analysisDesc=function(target,source){
		var descs=Object.getOwnPropertyDescriptors(target);
		for(var key in descs){
			var firstChar=key.charAt(0);
			if(firstChar=='_'||firstChar=='$')continue ;
			var desc=descs[key];
			if(desc.value){
				if((typeof desc.value=='function')){
					this.methods.push(key);
				}
				else{
					this.analysisVarInfo(key,source,false,false);
				}
			}
			else if(desc.get||desc.set){
				this.analysisVarInfo(key,source,!desc.get,!desc.set);
			}
		}
	}

	__proto.analysisVarInfo=function(key,source,writeOnly,readOnly){
		var value=source[key];
		var valueType=typeof(value);
		if(valueType=='boolean'){
			valueType='Boolean';
		}
		else if(valueType=='string'){
			valueType='String';
		}
		else if(valueType=='number'){
			valueType='Number';
		}
		else if(valueType=='object'){
			if(value){
				valueType=wlb.getQualifiedClassName(value);
				if(!valueType){
					valueType='Object';
				}
			}
			else{
				valueType='Object';
			}
		}
		else{
			return;
		};
		var varInfo=new WvarInfo;
		varInfo.init(writeOnly,readOnly,key,valueType);
		this.vars.push(varInfo);
		this._varLib[varInfo.name]=varInfo;
	}

	__proto.getVarInfo=function(name){
		return this._varLib [name];
	}

	//
	__proto.isChildClassOf=function(target){
		var className=((typeof target=='string'))?target:wlb.getQualifiedClassName(target);
		return this._parentLib[className]||className==this.className;
	}

	WclassInfo.checkIsChildClass=function(target,parent){
		if(!(Laya.__isClass(target))){
			target=target.constructor;
		}
		if(!(Laya.__isClass(parent))){
			parent=parent.constructor;
		};
		var parentClass=target;
		while(parentClass){
			if(parentClass==parent){
				return true;
			}
			parentClass=parentClass.__super;
		}
		return false;
	}

	WclassInfo.getClassInfo=function(obj){
		var cla=obj.constructor;
		var classInfo=WclassInfo._classInfoLib.getByObject(cla);
		if(classInfo==null){
			classInfo=new WclassInfo();
			classInfo.reset(obj);
			WclassInfo._classInfoLib.addByObject(cla,classInfo);
		}
		return classInfo;
	}

	__static(WclassInfo,
	['_classInfoLib',function(){return this._classInfoLib=new Wdictrionary;},'filterPropetys',function(){return this.filterPropetys={'consturctor':true,'hasOwnProperty':true};}
	]);
	return WclassInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/classes/WclassTree.as=======199.998597/199.998597
//class wlb.dream.classes.WclassTree
var WclassTree=(function(){
	function WclassTree(obj,params){
		this._classInfo=null;
		this._params=null;
		this._childClass=null;
		this._childClassLib=null;
		if(Laya.__isClass(obj))throw 'Error';
		this._classInfo=WclassInfo.getClassInfo(obj);
		this._params=params;
		this._childClass=new Array;
		this._childClassLib={};
	}

	__class(WclassTree,'wlb.dream.classes.WclassTree');
	var __proto=WclassTree.prototype;
	__proto.addChildCla=function(child){
		if(this._childClassLib[child._classInfo.className])return;
		var i=0;
		var len=this._childClass.length;
		var cla;
		var isChildNode=false;
		for(;i<len;i++){
			if(child.isChild(this._childClass[i])){
				this._childClass[i].addChild(child);
			}
			else if(this._childClass[i].isChild(child)){
				child.addChild(this._childClass[i]);
			}
		}
		this.addChild(child);
	}

	__proto.addChild=function(child){
		if(this._childClassLib[child._classInfo.className]==null){
			this._childClassLib[child._classInfo.className]=child;
			this._childClass.push(child);
		}
	}

	__proto.getParamsByObj=function(target){
		return this.getParamsByClassInfo(WclassInfo.getClassInfo(target));
	}

	// }
	__proto.getParamsByClassInfo=function(target){
		if(target.isChildClassOf(this._classInfo.className)){
			var i=0;
			var len=this._childClass.length;
			var params;
			for(;i<len;i++){
				params=this._childClass[i].getParamsByClassInfo(target);
				if(params)return params;
			}
			return this._params;
		}
		else
		return null;
	}

	__proto.isChild=function(editCla){
		return this._classInfo.isChildClassOf(editCla.classInfo.className);
	}

	__getset(0,__proto,'params',function(){
		return this._params;
	});

	__getset(0,__proto,'classInfo',function(){
		return this._classInfo;
	});

	return WclassTree;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/classes/WvarInfo.as=======199.998596/199.998596
//class wlb.dream.classes.WvarInfo
var WvarInfo=(function(){
	function WvarInfo(){
		this.writeonly=false;
		this.readonly=false;
		this.name=null;
		this.type=null;
	}

	__class(WvarInfo,'wlb.dream.classes.WvarInfo');
	var __proto=WvarInfo.prototype;
	__proto.init=function(writeonly,readonly,name,type){
		this.writeonly=writeonly;
		this.readonly=readonly;
		this.name=name;
		this.type=type;
	}

	return WvarInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/cycles/WobjectPool.as=======199.998592/199.998592
/**
*对象池
*@author wlb
*
*/
//class wlb.dream.cycles.WobjectPool
var WobjectPool=(function(){
	function WobjectPool(objClass){
		this.name=null;
		this._pool=null;
		this._objClass
		this._objClass=objClass;
		this._pool=[];
	}

	__class(WobjectPool,'wlb.dream.cycles.WobjectPool');
	var __proto=WobjectPool.prototype;
	__proto.getObject=function(){
		if(this._pool.length>0){
			return this._pool.pop();
		}
		return new this._objClass;
	}

	__proto.returnObject=function(obj){
		this._pool.push(obj);
	}

	return WobjectPool;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/WnullDisplay.as=======199.998584/199.998584
/**
*空显示对象
*@author wulongbin
*
*/
//class wlb.dream.displays.WnullDisplay
var WnullDisplay=(function(){
	function WnullDisplay(){}
	__class(WnullDisplay,'wlb.dream.displays.WnullDisplay');
	var __proto=WnullDisplay.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.IdisplayObject":true})
	__proto.addToParent=function(parent){}
	__proto.addAtParent=function(parent,index){}
	__proto.getParentIndex=function(parent){
		return 0;
	}

	__proto.removeSelf=function(){
		return null;
	}

	__proto.pos=function(x,y){}
	__proto.size=function(w,h){
		return null;
	}

	__proto.event=function(type,data){
		return false;
	}

	__proto.hasListener=function(type){
		return false;
	}

	__proto.off=function(type,caller,listener,onceOnly){
		(onceOnly===void 0)&& (onceOnly=false);
		return null;
	}

	__proto.on=function(type,caller,listener,args){
		return null;
	}

	__proto.once=function(type,caller,listener,args){
		return null;
	}

	__proto.globalToLocal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		return new Point;
	}

	__proto.localToGlobal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		return new Point;
	}

	__getset(0,__proto,'y',function(){
		return 0;
		},function(value){
	});

	__getset(0,__proto,'rotation',function(){
		return 0;
		},function(value){
	});

	__getset(0,__proto,'width',function(){
		return 0;
		},function(w){
	});

	__getset(0,__proto,'x',function(){
		return 0;
		},function(value){
	});

	__getset(0,__proto,'parent',function(){
		return null;
	});

	__getset(0,__proto,'z',function(){
		return 0;
		},function(value){
	});

	__getset(0,__proto,'height',function(){
		return 0;
		},function(h){
	});

	__getset(0,__proto,'visible',function(){
		return false;
		},function(value){
	});

	__getset(0,__proto,'name',function(){
		return "";
		},function(n){
	});

	__getset(0,__proto,'alpha',function(){
		return 0;
		},function(value){
	});

	__getset(0,__proto,'childIndex',function(){
		return-1;
	});

	__getset(0,__proto,'parentDisplay',function(){
		return null;
	});

	__getset(0,__proto,'filters',function(){
		return null;
		},function(value){
	});

	__getset(0,__proto,'cacheAsBitmap',function(){
		return false;
		},function(value){
	});

	__getset(0,__proto,'blendMode',function(){
		return null;
		},function(value){
	});

	__static(WnullDisplay,
	['displayNull',function(){return this.displayNull=new WnullDisplay;}
	]);
	return WnullDisplay;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/TextFieldAutoSize.as=======199.998574/199.998574
//class wlb.dream.displays.TextFieldAutoSize
var TextFieldAutoSize=(function(){
	function TextFieldAutoSize(){}
	__class(TextFieldAutoSize,'wlb.dream.displays.TextFieldAutoSize');
	TextFieldAutoSize.NONE='left';
	TextFieldAutoSize.LEFT='left';
	TextFieldAutoSize.RIGHT='right';
	TextFieldAutoSize.CENTER='center';
	return TextFieldAutoSize;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/TextFormat.as=======199.998573/199.998573
//class wlb.dream.displays.TextFormat
var TextFormat=(function(){
	function TextFormat(font,fontSize,color){
		this.font=null;
		this.fontSize=NaN;
		this.color=null;
		(font===void 0)&& (font='');
		(fontSize===void 0)&& (fontSize=0);
		(color===void 0)&& (color='');
		this.font=font;
		this.fontSize=fontSize;
		this.color=color;
	}

	__class(TextFormat,'wlb.dream.displays.TextFormat');
	TextFormat.once=function(font,fontSize,color){
		(color===void 0)&& (color='');
		TextFormat.instance.font=font;
		TextFormat.instance.fontSize=fontSize;
		TextFormat.instance.color=color;
		return TextFormat.instance;
	}

	__static(TextFormat,
	['instance',function(){return this.instance=new TextFormat;}
	]);
	return TextFormat;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/WdisplayContainProxy.as=======199.998572/199.998572
/**
*针对DisplayObjectContainer映射到 IdisplayContainer接口的代理类
*@author wulongbin
*
*/
//class wlb.dream.displays.WdisplayContainProxy
var WdisplayContainProxy=(function(){
	function WdisplayContainProxy(display){
		this._display=null;
		this._display=display;
	}

	__class(WdisplayContainProxy,'wlb.dream.displays.WdisplayContainProxy');
	var __proto=WdisplayContainProxy.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.IdisplayContainer":true})
	__proto.addChild=function(child){
		return this._display.addChild(child);
	}

	__proto.getDisplayIndex=function(child){
		return this._display.getChildIndex(child);
	}

	__proto.addDisplay=function(child){
		this._display.addChild(child);
	}

	__proto.removeDisplay=function(child){
		this._display.removeChild(child);
	}

	__proto.addDisplayAt=function(child,index){
		this._display.addChildAt(child,index);
	}

	__proto.removeDisplayAt=function(index){
		this._display.removeChildAt(index);
	}

	__proto.getDisplayAt=function(index){
		return this._display.getChildAt(index);
	}

	__proto.addToParent=function(parent){
		(parent).addChild(this._display);
	}

	__proto.addAtParent=function(parent,index){
		(parent).addChildAt(this._display,index);
	}

	__proto.removeSelf=function(){
		return this._display.parent.removeChild(this._display);
	}

	__proto.pos=function(x,y){
		this._display.x=x;
		this._display.y=y;
	}

	__proto.size=function(w,h){
		this._display.width=w;
		this._display.height=h;
		return this._display;
	}

	__proto.event=function(type,data){
		return this._display.event(type,data);
	}

	__proto.hasListener=function(type){
		return this._display.hasListener(type);
	}

	__proto.off=function(type,caller,listener,onceOnly){
		(onceOnly===void 0)&& (onceOnly=false);
		return this._display.off(type,caller,listener,onceOnly);
	}

	__proto.on=function(type,caller,listener,args){
		return this._display.on(type,caller,listener,args);
	}

	__proto.once=function(type,caller,listener,args){
		return this._display.once(type,caller,listener,args);
	}

	__proto.globalToLocal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		return this._display.globalToLocal(point);
	}

	__proto.localToGlobal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		return this._display.localToGlobal(point);
	}

	__getset(0,__proto,'numDisplay',function(){
		return this._display.numChildren;
	});

	__getset(0,__proto,'filters',function(){
		return null;
		},function(value){
	});

	__getset(0,__proto,'y',function(){
		return this._display.y;
		},function(value){
		this._display.y=value;
	});

	__getset(0,__proto,'cacheAsBitmap',function(){
		return this._display.cacheAsBitmap;
		},function(value){
		this._display.cacheAsBitmap=value;
	});

	__getset(0,__proto,'width',function(){
		return this._display.width;
		},function(w){
		this._display.width=w;
	});

	__getset(0,__proto,'rotation',function(){
		return this._display.rotation;
		},function(value){
		this._display.rotation=value;
	});

	__getset(0,__proto,'x',function(){
		return this._display.x;
		},function(value){
		this._display.x=value;
	});

	__getset(0,__proto,'height',function(){
		return this._display.height;
		},function(h){
		this._display.height=h;
	});

	__getset(0,__proto,'visible',function(){
		return this._display.visible;
		},function(value){
		this._display.visible=value;
	});

	__getset(0,__proto,'name',function(){
		return this._display.name;
		},function(n){
		this._display.name=n;
	});

	__getset(0,__proto,'alpha',function(){
		return this._display.alpha;
		},function(value){
		this._display.alpha=value;
	});

	__getset(0,__proto,'blendMode',function(){
		return this._display.blendMode;
		},function(value){
		this._display.blendMode=value;
	});

	__getset(0,__proto,'parent',function(){
		return this._display.parent;
	});

	__getset(0,__proto,'childIndex',function(){
		if(this._display.parent)return this._display.parent.getChildIndex(this._display);
		return-1;
	});

	return WdisplayContainProxy;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/Wstage.as=======199.998571/199.998571
//class wlb.dream.displays.Wstage
var Wstage=(function(){
	function Wstage(){}
	__class(Wstage,'wlb.dream.displays.Wstage');
	Wstage.updateResize=function(){
		if(Wstage.stage.frameRate=="fast"){
			Wstage.frameRate=60;
		}
		else{
			Wstage.frameRate=30;
		}
		if(Wstage.isFixSize)return;
		Wstage.stageWidth=Wstage.stage.designWidth;
		Wstage.stageHeight=Wstage.stage.designHeight
	}

	Wstage.isFixSize=false;
	Wstage.stage=null;
	Wstage.stageWidth=800;
	Wstage.stageHeight=600;
	Wstage.frameRate=30;
	return Wstage;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/events/WinputChange.as=======199.998569/199.998569
//class wlb.dream.events.WinputChange
var WinputChange=(function(){
	function WinputChange(){}
	__class(WinputChange,'wlb.dream.events.WinputChange');
	WinputChange.Input_Change="Input_Change";
	return WinputChange;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/events/WselectEvent.as=======199.998568/199.998568
//class wlb.dream.events.WselectEvent
var WselectEvent=(function(){
	function WselectEvent(){}
	__class(WselectEvent,'wlb.dream.events.WselectEvent');
	WselectEvent.Selected="Selected";
	return WselectEvent;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/events/WtreeEvent.as=======199.998567/199.998567
/**
*树组件事件
*@author wulongbin
*
*/
//class wlb.dream.events.WtreeEvent
var WtreeEvent=(function(){
	function WtreeEvent(){
		this.nodeInfo=null;
		this.isOpen=false;
		this.level=0;
	}

	__class(WtreeEvent,'wlb.dream.events.WtreeEvent');
	WtreeEvent.once=function(nodeInfo,isOpen,level){
		WtreeEvent.e.nodeInfo=nodeInfo;
		WtreeEvent.e.isOpen=isOpen;
		WtreeEvent.e.level=level;
		return WtreeEvent.e;
	}

	WtreeEvent.Tree_Change="Tree_Change";
	WtreeEvent.Tree_ContainerResize="Tree_ContainerResize";
	WtreeEvent.Tree_FlushView="Tree_FlushView";
	WtreeEvent.Level_Self=1;
	WtreeEvent.Level_Son=2;
	WtreeEvent.Level_Grandson=3;
	__static(WtreeEvent,
	['e',function(){return this.e=new WtreeEvent;}
	]);
	return WtreeEvent;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/keyManagers/WkeyContainerCtrl.as=======199.998564/199.998564
//class wlb.dream.keyManagers.WkeyContainerCtrl
var WkeyContainerCtrl=(function(){
	function WkeyContainerCtrl(){
		this._stackTop=null;
		this._isFocus=false;
		this._keyCtrlEnabled=true;
		this._childCanFocus=false;
		this._stacks=new Array;
		this._globals=new Array;
	}

	__class(WkeyContainerCtrl,'wlb.dream.keyManagers.WkeyContainerCtrl');
	var __proto=WkeyContainerCtrl.prototype;
	Laya.imps(__proto,{"wlb.dream.keyManagers.IkeyContainCtrl":true})
	__proto.pushKeyCtrl=function(keyCtrl){
		var index=this._stacks.indexOf(keyCtrl);
		if(index>=0){
			this._stacks.splice(index,1);
		}
		else{}
		this._stacks.push(keyCtrl);
		this.stackTop=this._stacks[this._stacks.length-1];
	}

	__proto.popKeyCtrl=function(keyCtrl){
		var index=this._stacks.indexOf(keyCtrl);
		if(index>=0){
			this._stacks.splice(index,1);
		}
		this.stackTop=this._stacks.length>0?this._stacks[this._stacks.length-1]:null;
	}

	__proto.pushGlobalKeyCtrl=function(keyCtrl){
		var index=this._globals.indexOf(keyCtrl);
		if(index>=0){
			this._globals.splice(index,1);
		}
		else{
			if(this._childCanFocus){
				keyCtrl.focusKey(true);
			}
		}
		this._globals.push(keyCtrl);
	}

	__proto.popGlobalKeyCtrl=function(keyCtrl){
		var index=this._globals.indexOf(keyCtrl);
		if(index>=0){
			this._globals.splice(index,1);
			if(this._childCanFocus){
				keyCtrl.focusKey(false);
			}
		}
	}

	__proto.pressKey=function(keyCode,isPress){
		if(!this.childCanFocus)return;
		var len=this._stacks.length;
		if(len>0){
			this._stacks[len-1].pressKey(keyCode,isPress);
		}
		var ctrl;
		for(var $each_ctrl in this._globals){
			ctrl=this._globals[$each_ctrl];
			ctrl.pressKey(keyCode,isPress);
		}
	}

	__proto.focusKey=function(focus){
		this._isFocus=focus;
		this.updateChildFocus();
	}

	__proto.updateChildFocus=function(){
		this.childCanFocus=this._keyCtrlEnabled && this._isFocus;
	}

	__getset(0,__proto,'stackTop',function(){
		return this._stackTop;
		},function(value){
		if(this._stackTop==value){
			return;
		}
		if(this._childCanFocus && this._stackTop){
			this._stackTop.focusKey(false);
		}
		this._stackTop=value;
		if(this._childCanFocus && this._stackTop){
			this._stackTop.focusKey(true);
		}
	});

	__getset(0,__proto,'keyCtrlEnabled',function(){
		return this._keyCtrlEnabled;
		},function(value){
		this._keyCtrlEnabled=value;
		this.updateChildFocus();
	});

	__getset(0,__proto,'childCanFocus',function(){
		return this._childCanFocus;
		},function(value){
		if(this._childCanFocus==value)return;
		this._childCanFocus=value;
		var len=this._stacks.length;
		if(len>0){
			this._stacks[len-1].focusKey(this._childCanFocus);
		}
		var ctrl;
		for(var $each_ctrl in this._globals){
			ctrl=this._globals[$each_ctrl];
			ctrl.focusKey(this._childCanFocus);
		}
	});

	return WkeyContainerCtrl;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/layoutMngers/WlayoutMnger.as=======199.998560/199.998560
/**
*布局管理器
*@author wulongbin
*
*/
//class wlb.dream.layoutMngers.WlayoutMnger
var WlayoutMnger=(function(){
	function WlayoutMnger(){
		this._lib=null;
		WlayoutMnger._instance=this;
		this._lib={};
	}

	__class(WlayoutMnger,'wlb.dream.layoutMngers.WlayoutMnger');
	var __proto=WlayoutMnger.prototype;
	__proto.registerLayout=function(type,layout){
		this._lib[type]=layout;
	}

	__proto.getLayout=function(type){
		return this._lib [type];
	}

	__getset(1,WlayoutMnger,'instance',function(){
		return WlayoutMnger._instance||new WlayoutMnger;
	});

	WlayoutMnger._instance=null;
	return WlayoutMnger;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/managers/WclassMnger.as=======199.998559/199.998559
/**
*类注册管理
*@author wulongbin
*
*/
//class wlb.dream.managers.WclassMnger
var WclassMnger=(function(){
	function WclassMnger(){
		this._classes=null;
		this._claPriority=null;
		this._names=[];
		this._classes={};
		this._claPriority={};
	}

	__class(WclassMnger,'wlb.dream.managers.WclassMnger');
	var __proto=WclassMnger.prototype;
	__proto.registerClass=function(name,cla,priority){
		(priority===void 0)&& (priority=0);
		if(this._classes[name]){
			if(priority<this._claPriority[name])return;
		}
		else{
			this._names.push(name);
		}
		this._classes[name]=cla;
		this._claPriority[name]=priority;
	}

	__proto.getClass=function(name,autoClass){
		return this._classes [name]||autoClass;
	}

	__proto.createInstance=function(name,autoClass){
		var cla=this._classes[name]||autoClass;
		return new cla;
	}

	__getset(0,__proto,'names',function(){
		return this._names;
	});

	__getset(1,WclassMnger,'instance',function(){
		if(WclassMnger._instance==null){
			WclassMnger._instance=new WclassMnger;
		}
		return WclassMnger._instance;
	});

	WclassMnger._instance=null;
	return WclassMnger;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/popMngers/WpopManager.as=======199.998556/199.998556
/**
*弹出管理基类
*@author wulongbin
*
*/
//class wlb.dream.popMngers.WpopManager
var WpopManager=(function(){
	var WpopWinNode;
	function WpopManager(stage){
		this._firstNode=null;
		this._lastNode=null;
		this._modeNode=null;
		this._windowLib=null;
		this._stage=null;
		this._width=NaN;
		this._height=NaN;
		this._mode=null;
		this._isLock=false;
		this._delayOperators=null;
		this._stage=stage;
		this.initPopManager();
	}

	__class(WpopManager,'wlb.dream.popMngers.WpopManager');
	var __proto=WpopManager.prototype;
	Laya.imps(__proto,{"wlb.dream.popMngers.IpopManager":true})
	/**
	*
	*
	*/
	__proto.initPopManager=function(){
		this.updateWH();
		this._windowLib=new Wdictrionary;
		this._firstNode=this._lastNode=new WpopWinNode(this,WnullDisplay.displayNull,Wsystem.Int_Min,0,null);
		this._stage.on("resize",this,this.resizeHd);
		this._mode=this.createMode();
	}

	__proto.updateWH=function(){
		if(this._width!=this._stage.width||this._height!=this._stage.height){
			this._width=this._stage.width;
			this._height=this._stage.height;
			WasynManager.instance.frameOnce(this,this.resize);
		}
	}

	__proto.resizeHd=function(){
		this.updateWH();
	}

	__proto.resize=function(){
		this._mode.size(this._width,this._height);
		var lib=this._windowLib.lib;
		var node;
		for(var $each_node in lib){
			node=lib[$each_node];
			var display=node.display;
			if(node.isSetSize)
				display.size(this._width,this._height);
			if(node.isCenter)
				display.pos((this._width-display.width)*0.5,(this._height-display.height)*0.5);
		}
	}

	/**
	*
	*@param window
	*@param priority
	*@param tag tag是多属性标签
	*目前支持以下属性，你可以通过&来组合各个属性
	*Tag_Mode==1 模态
	*Tag_Center==2 是否中心对齐
	*Tag_SetSize==4是否随舞台大小而改变
	*比如(Tag_Mode&Tag_Center)则弹出框为模态且中心对齐
	*/
	__proto.popWindow=function(window,priority,tag,layoutType,layoutParams){
		(priority===void 0)&& (priority=0);
		(tag===void 0)&& (tag=0);
		(layoutType===void 0)&& (layoutType="");
		if(this._windowLib.getByObject(window)){
			this.removeWindow(window);
		};
		var layout=WlayoutMnger.instance.getLayout(layoutType);
		if(layout){
			tag=0;
			layout.addItem(window,layoutParams);
		};
		var node=new WpopWinNode(this,window,priority,tag,layout);
		this._windowLib.addByObject(window,node);
		if(node.isSetSize){
			window.size(this._width,this._height);
		}
		if(node.isCenter){
			window.x=(this._width-window.width)*0.5;
			window.y=(this._height-window.height)*0.5;
			window.on("resize",this,this.onResizeWindow);
		}
		this.pushNode(node);
	}

	__proto.onResizeWindow=function(window){
		window.x=(this._width-window.width)*0.5;
		window.y=(this._height-window.height)*0.5;
	}

	__proto.removeWindow=function(window){
		var node=this._windowLib.getByObject(window);
		if(node){
			if(node.isCenter){
				window.off("resize",this,this.onResizeWindow);
			}
			if(node.layout){
				node.layout.removeItem(window);
			}
			node.dispose();
			this.removeNode(node);
			window.removeSelf();
			this._windowLib.removeByObject(window);
		}
	}

	__proto.pushNode=function(node){
		this._isLock=true;
		if(node.priority>=this._lastNode.priority){
			node.prev=this._lastNode;
			this._lastNode.next=node;
			this._lastNode=node;
			if(node.isMode){
				this._modeNode=node;
				this._mode.addToParent(this._stage);
			}
			node.display.addToParent(this._stage);
			return;
		};
		var tempNode=this._lastNode.prev;
		while(node.priority<tempNode.priority){
			tempNode=tempNode.prev;
		};
		var index=tempNode.next.display.childIndex-(tempNode.next==this._modeNode?1:0);
		node.prev=tempNode;
		node.next=tempNode.next;
		tempNode.next.prev=node;
		tempNode.next=node;
		node.display.addAtParent(this._stage,index);
		if(node.isMode){
			if(this._modeNode==null||node.priority>=this._modeNode.priority){
				this._modeNode=node;
				this._mode.addAtParent(this._stage,this._modeNode.display.childIndex-(this._mode.parent?1:0));
			}
		}
		this._isLock=false;
	}

	__proto.removeNode=function(node){
		this._isLock=true;
		if(node==this._modeNode){
			var tempNode=node.prev;
			while(tempNode){
				if(tempNode.isMode){
					var index=tempNode.display.childIndex;
					this._modeNode=tempNode;
					this._mode.addAtParent(this._stage,index);
					break ;
				}
				tempNode=tempNode.prev;
			}
			if(tempNode==null){
				this._modeNode=null;
				this._mode.removeSelf();
			}
		}
		if(node==this._lastNode){
			this._lastNode=this._lastNode.prev;
		}
		node.prev.next=node.next;
		if(node.next!=null)
			node.next.prev=node.prev;
		node.prev=null;
		node.next=null;
		this._isLock=false;
	}

	__proto.createMode=function(){
		var mode=WclassMnger.instance.createInstance("Cla_Mode",Wmodal);
		mode.size(this._width,this._height);
		return mode;
	}

	__getset(1,WpopManager,'instance',function(){
		if(WpopManager._instance==null){
			var cla=WclassMnger.instance.getClass("Cla_PopMnger",WpopManager);
			WpopManager._instance=new cla(new WstageProxy);
		}
		return WpopManager._instance;
	});

	WpopManager.Tag_Mode=1;
	WpopManager.Tag_Center=2;
	WpopManager.Tag_SetSize=4;
	WpopManager._instance=null;
	WpopManager.__init$=function(){
		//class WpopWinNode
		WpopWinNode=(function(){
			function WpopWinNode(popMnger,dis,pri,tag,layout){
				this.popMnger=null;
				this.display=null;
				this.priority=0;
				this.tag=0;
				this.layout=null;
				this.prev=null;
				this.next=null;
				this.popMnger=popMnger;
				this.display=dis;
				this.priority=pri;
				this.tag=tag;
				this.layout=layout;
			}
			__class(WpopWinNode,'');
			var __proto=WpopWinNode.prototype;
			__proto.dispose=function(){}
			__getset(0,__proto,'isSetSize',function(){
				return Boolean(this.tag&4);
			});
			// }
			__getset(0,__proto,'isMode',function(){
				return Boolean(this.tag&1);
			});
			__getset(0,__proto,'isCenter',function(){
				return Boolean(this.tag&2);
			});
			return WpopWinNode;
		})()
	}

	return WpopManager;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/systems/Wsource.as=======199.998550/199.998550
//class wlb.dream.systems.Wsource
var Wsource=(function(){
	function Wsource(){}
	__class(Wsource,'wlb.dream.systems.Wsource');
	Wsource.Url_Source="";
	return Wsource;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/systems/Wsystem.as=======199.998549/199.998549
//class wlb.dream.systems.Wsystem
var Wsystem=(function(){
	function Wsystem(){}
	__class(Wsystem,'wlb.dream.systems.Wsystem');
	Wsystem.ready=function(){
		var pushEevnt=function (e){
			var thi=this;
			if (MouseManager.enabled){
				e.preventDefault();
				thi._eventList.push(e);
				thi.mouseDownTime=Browser.now();
			}
		}.bind(MouseManager.instance);
		var old_initInput=Input['_initInput'];
		Input['_initInput']=function (input){
			input.addEventListener('mousemove',pushEevnt);
			input.addEventListener('mousedown',pushEevnt);
			input.addEventListener('mouseup',pushEevnt);
			old_initInput.call(Input,input);
		};
	}

	Wsystem.init=function(stage){
		Wstage.stage=stage;
		var ID=1;
		Object.defineProperty(Object.prototype,'__ID__',{
			'get':function (){
				if(this.__id__==undefined){
					this.__id__=ID++;
				}
				return this.__id__;
			},
			enumerable:false
		});
		stage.on("resize",Wstage,Wstage.updateResize);
	}

	Wsystem.registerUrlToLib=function(name,url){
		Wsystem.UrlLib[name]=url.toString();
		return url;
	}

	Wsystem.Int_Min=-1000000000;
	Wsystem.Int_Max=1000000000;
	Wsystem.UrlLib={};
	Wsystem.Log_Warn="Warn";
	Wsystem.Log_Error="Error";
	Wsystem.Log_Script="Script";
	Wsystem.Log_Load="Load";
	Wsystem.Log_Auto="Auto";
	Wsystem.IsDebug=true;
	Wsystem.IsAir=false;
	Wsystem.IsTool=false;
	Wsystem.IsMobile=false;
	Wsystem.useSpine=false;
	Wsystem.Version=1;
	Wsystem.Pop_Tip=1000000000;
	Wsystem.Pop_Drag=1000000000-50;
	Wsystem.Pop_Alert=1105;
	Wsystem.Pop_Debug=1100;
	Wsystem.Pop_Measure=1095;
	Wsystem.Pop_EditObjWin=1090;
	Wsystem.Pop_StageDisplayListView=1087;
	Wsystem.Pop_Command=1085;
	Wsystem.Cla_BatLoadMnger="Cla_BatLoadMnger";
	Wsystem.Cla_BitmapDataMnger="Cla_BitmapDataMnger";
	Wsystem.Cla_FontMnger="Cla_FontMnger";
	Wsystem.Cla_SwfMnger="Cla_SwfMnger";
	Wsystem.Cla_KeyCtrlMnger="Cla_KeyCtrlMnger";
	Wsystem.Cla_SpaceMnger="Cla_SpaceMnger";
	Wsystem.Cla_ProgressMnger="Cla_ProgressMnger";
	Wsystem.Cla_PopMnger="Cla_PopMnger";
	Wsystem.Cla_RadioGroupMnger="Cla_RadioGroupMnger";
	Wsystem.Cla_textGraphicMnger="Cla_textGraphicMnger";
	Wsystem.Cla_ZipConfgMnger="Cla_ZipConfgMnger";
	Wsystem.Cla_TipMnger="Cla_TipMnger";
	Wsystem.Cla_MovieToBit="Cla_MovieToBit";
	Wsystem.Cla_Mode="Cla_Mode";
	Wsystem.Cla_APIMnger="Cla_APIMnger";
	Wsystem.Cla_GameEventMnger="Cla_GameEventMnger";
	Wsystem.Cla_AnalysisMnger="Cla_AnalysisMnger";
	Wsystem.Cla_DebugView="Cla_DebugView";
	Wsystem.Cla_Facade="Cla_Facade";
	Wsystem.Cla_ScriptMnger="Cla_ScriptMnger";
	Wsystem.Progress_Dream="Type_Dream";
	Wsystem.Progress_BitmapData="Type_BitmapData";
	Wsystem.Progress_Rasterize="Type_Rasterize";
	Wsystem.Progress_Other="Type_Other";
	Wsystem.RIGHT_CLICK="rightClick";
	Wsystem.IDNAME='__ID__';
	Wsystem.FUNCTION='function';
	Wsystem.OBJECT='object';
	Wsystem.ARRAY='array';
	__static(Wsystem,
	['timer',function(){return this.timer=Laya.timer;}
	]);
	return Wsystem;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/systems/Wurl.as=======199.998548/199.998548
//class wlb.dream.systems.Wurl
var Wurl=(function(){
	function Wurl(url){
		this._url=null;
		this._parentUrl=null;
		this.children=null;
		this.parent=null;
		this.url=url;
		this.children=new Array;
	}

	__class(Wurl,'wlb.dream.systems.Wurl');
	var __proto=Wurl.prototype;
	__proto.add=function(childUrl){
		var child=new Wurl(childUrl);
		this.children.push(child);
		child.parent=this;
		child.update();
		return child;
	}

	__proto.update=function(){
		if(this.parent){
			this._parentUrl=this.parent+this.url;
		}
		else{
			this._parentUrl=this.url;
		}
		var child;
		for(var $each_child in this.children){
			child=this.children[$each_child];
			child.update();
		}
	}

	__proto.toString=function(){
		return this._parentUrl;
	}

	__getset(0,__proto,'sourceFullUrl',function(){
		return Wsource.Url_Source+this._parentUrl;
	});

	/**
	*@return
	*
	*/
	__getset(0,__proto,'parentUrl',function(){
		return this._parentUrl;
	});

	__getset(0,__proto,'url',function(){
		return this._url;
		},function(value){
		this._url=value;
		this.update();
	});

	return Wurl;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WtipTrigger.as=======199.998541/199.998541
/**
*默认触发tip，即鼠标移入移除触发
*@author wulongbin
*
*/
//class wlb.dream.tip.WtipTrigger
var WtipTrigger=(function(){
	function WtipTrigger(){
		this._tipInfo=null;
		this._tip=null;
	}

	__class(WtipTrigger,'wlb.dream.tip.WtipTrigger');
	var __proto=WtipTrigger.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.ItipTrigger":true})
	__proto.addTipListener=function(tipInfo){
		this._tipInfo=tipInfo;
		this._tipInfo.display.on("mouseout",this,this.outHd);
		this._tipInfo.display.on("mouseover",this,this.overHd);
	}

	__proto.disposeListener=function(tipInfo){
		this._tipInfo.display.off("mouseout",this,this.outHd);
		this._tipInfo.display.off("mouseover",this,this.overHd);
		this._tipInfo=null;
	}

	__proto.setFocusTip=function(tip){
		this._tip=tip;
		if(this._tip){
			WasynManager.instance.frameLoop(this,this.frame);
			this.frame();
		}
		else{
			WasynManager.instance.clearFrameLoop(this,this.frame);
		}
	}

	__proto.frame=function(){
		var offX=0;
		var offY=0;
		var tempW=this._tip.width+offX;
		var tempH=this._tip.height+offY;
		var _stage=Wstage.stage;
		if(_stage.mouseX+tempW < Wstage.stageWidth){
			this._tip.x=_stage.mouseX+offX
		}
		else{
			this._tip.x=_stage.mouseX-tempW
		}
		if(_stage.mouseY-tempH > 0){
			this._tip.y=_stage.mouseY-tempH;
		}
		else{
			this._tip.y=_stage.mouseY+offY
		}
	}

	__proto.outHd=function(){
		WtipManager.instance.mouseOut(this._tipInfo);
	}

	__proto.overHd=function(){
		WtipManager.instance.mouseOver(this._tipInfo);
	}

	return WtipTrigger;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WtipInfo.as=======199.998540/199.998540
/**
*针对ItipTarget提示的数据结构
*@author wulongbin
*
*/
//class wlb.dream.tip.WtipInfo
var WtipInfo=(function(){
	function WtipInfo(display,type,params,tipTigger){
		this._display=null;
		this._type=null;
		this._tipTigger=null;
		this.params=null;
		this._display=display;
		this._type=type;
		this.params=params;
		this._tipTigger=tipTigger;
		this._tipTigger.addTipListener(this);
	}

	__class(WtipInfo,'wlb.dream.tip.WtipInfo');
	var __proto=WtipInfo.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.ItipInfo":true})
	__proto.dispose=function(){
		this._tipTigger.disposeListener(this);
	}

	__getset(0,__proto,'tipData',function(){
		return this._display.tipData;
	});

	__getset(0,__proto,'type',function(){
		return this._type;
	});

	__getset(0,__proto,'display',function(){
		return this._display;
	});

	__getset(0,__proto,'tipTigger',function(){
		return this._tipTigger;
	});

	return WtipInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WtipInfoOfDisplay.as=======199.998539/199.998539
/**
*针对DisplayObject对象的提示的数据结构
*@author wulongbin
*
*/
//class wlb.dream.tip.WtipInfoOfDisplay
var WtipInfoOfDisplay=(function(){
	function WtipInfoOfDisplay(display,tipData,type,params,tipTigger){
		this._display=null;
		this._tipData=null;
		this._tipTigger=null;
		this._type=null;
		this.params=null;
		this._tipData=tipData;
		this._display=display;
		this._type=type;
		this.params=params;
		this._tipTigger=tipTigger;
		this._tipTigger.addTipListener(this);
	}

	__class(WtipInfoOfDisplay,'wlb.dream.tip.WtipInfoOfDisplay');
	var __proto=WtipInfoOfDisplay.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.ItipInfo":true})
	__proto.dispose=function(){
		this._tipTigger.disposeListener(this);
	}

	__getset(0,__proto,'tipData',function(){
		if((typeof this._tipData=='function')){
			return this._tipData();
		}
		else{
			return this._tipData;
		}
	});

	__getset(0,__proto,'display',function(){
		return this._display;
	});

	__getset(0,__proto,'type',function(){
		return this._type;
	});

	__getset(0,__proto,'tipTigger',function(){
		return this._tipTigger;
	});

	return WtipInfoOfDisplay;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WtipManager.as=======199.998538/199.998538
/**
*tip管理
*@author wulongbin
*
*/
//class wlb.dream.tip.WtipManager
var WtipManager=(function(){
	function WtipManager(){
		this._tips=null;
		this._tipInfos=null;
		this._tip=null;
		this._tipInfo=null;
		this._tipInfoStack=null;
		this._tipTiggers=null;
		this._stage=null;
		WtipManager._instance=this;
		this.init();
	}

	__class(WtipManager,'wlb.dream.tip.WtipManager');
	var __proto=WtipManager.prototype;
	__proto.init=function(){
		this._stage=Wstage.stage;
		this._tips={};
		this._tipInfos=new Wdictrionary
		this._tipTiggers={};
		this._tipInfoStack=new Array;
		this.registerTip("Auto",WautoTip);
		this.registerTip("Update",WupdateTip);
		this.registerTipgger("Auto",WtipTrigger);
		this.registerTipgger("Static",WstaticTrigger);
	}

	__proto.registerTip=function(type,tipClass){
		this._tips[type]=tipClass;
	}

	__proto.registerTipgger=function(type,cla){
		this._tipTiggers[type]=cla;
	}

	__proto.addTipForDisplay=function(display,data,type,tiggerType,params){
		(type===void 0)&& (type="Auto");
		(tiggerType===void 0)&& (tiggerType="Auto");
		var tipInfo=this._tipInfos.getByObject(display);
		if(tipInfo)tipInfo.dispose();
		var tipgger=new this._tipTiggers[tiggerType];
		tipInfo=new WtipInfoOfDisplay(display,data,type,params,tipgger);
		this._tipInfos.addByObject(display,tipInfo);
	}

	__proto.addTipByClass=function(display,type,tiggerType,params){
		(tiggerType===void 0)&& (tiggerType="Auto");
		var name=wlb.getClassName(type);
		if(this._tips[name]==null){
			this.registerTip(name,type);
		}
		this.addTip(display,name,tiggerType,params);
	}

	__proto.addTip=function(display,type,tiggerType,params){
		(type===void 0)&& (type="Auto");
		(tiggerType===void 0)&& (tiggerType="Auto");
		var tipInfo=this._tipInfos.getByObject(display);
		if(tipInfo)tipInfo.dispose();
		var tipgger=new this._tipTiggers[tiggerType];
		tipInfo=new WtipInfo(display,type,params,tipgger);
		this._tipInfos.addByObject(display,tipInfo);
	}

	__proto.removeTip=function(display){
		var tipInfo=this._tipInfos [display];
		if(tipInfo==this._tipInfo){
			this.tipInfo=null;
		}
		if(tipInfo)tipInfo.dispose();
		delete this._tipInfos[display];
	}

	__proto.mouseOver=function(tipInfo){
		if(this._tipInfo)
			this._tipInfoStack.push(this._tipInfo);
		this.tipInfo=tipInfo;
	}

	__proto.mouseOut=function(tipInfo){
		if(this._tipInfoStack.length>0)
			this.tipInfo=this._tipInfoStack.pop();
		else
		this.tipInfo=null;
	}

	__proto.frame=function(){
		var x=Math.min(this._stage.mouseX+20,Wstage.stageWidth-this._tip.width);
		var y=Math.min(this._stage.mouseY-20,Wstage.stageHeight-this._tip.height);
		this._tip.pos(x,y);
	}

	__getset(0,__proto,'tipInfo',null,function(value){
		if(this._tipInfo){
			this._tipInfo.tipTigger.setFocusTip(null);
			WpopManager.instance.removeWindow(this._tip);
			this._tip.setTipInfo(null);
			this._tip=null;
		}
		this._tipInfo=value;
		if(this._tipInfo){
			var tipObj=this._tips[this._tipInfo.type];
			if(Laya.__isClass(tipObj)){
				this._tips[this._tipInfo.type]=this._tip=new (tipObj);
			}
			else{
				this._tip=tipObj;
			}
			this._tip.setTipInfo(this._tipInfo);
			this._tipInfo.tipTigger.setFocusTip(this._tip);
			WpopManager.instance.popWindow(this._tip,Wsystem.Pop_Tip);
		}
	});

	__getset(1,WtipManager,'instance',function(){
		return WtipManager._instance||WclassMnger.instance.createInstance("Cla_TipMnger",WtipManager);
	});

	WtipManager._instance=null;
	WtipManager.Type_Auto="Auto";
	WtipManager.Type_Update="Update";
	WtipManager.Tigger_Auto="Auto";
	WtipManager.Tigger_Static="Static";
	return WtipManager;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/plugins/WcolorPlugIn.as=======199.998534/199.998534
;
//class wlb.dream.tweens.plugins.WcolorPlugIn
var WcolorPlugIn=(function(){
	function WcolorPlugIn(){
		this.targetR=0;
		this.targetG=0;
		this.targetB=0;
		this.startR=0;
		this.startG=0;
		this.startB=0;
		this.target=null;
		this.protyName=null;
	}

	__class(WcolorPlugIn,'wlb.dream.tweens.plugins.WcolorPlugIn');
	var __proto=WcolorPlugIn.prototype;
	Laya.imps(__proto,{"wlb.dream.tweens.plugins.ItweenPlugIn":true})
	__proto.initTween=function(parent,protyName,data){
		this.target=parent.$target;
		this.protyName=protyName;
		var colorStr=data;
		var len=colorStr.length;
		this.targetB=parseInt(colorStr.substring(len-2,len),16);
		len-=2;
		this.targetG=parseInt(colorStr.substring(len-2,len),16);
		len-=2;
		this.targetR=parseInt(colorStr.substring(len-2,len),16);
		var a=1<<8;
		var color=uint(parent.$target[protyName]);
		this.startB=color%a;
		color=color>>8;
		this.startG=color%a;
		color=color>>8;
		this.startR=color%a;
		this.targetB-=this.startB;
		this.targetG-=this.startG;
		this.targetR-=this.startR;
	}

	__proto.render=function(per){
		var colorB=this.startB+per*this.targetB;
		var colorG=this.startG+per*this.targetG;
		var colorR=this.startR+per*this.targetR;
		this.target[this.protyName]=colorB+(colorG<<8)+(colorR<<16)
	}

	return WcolorPlugIn;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/plugins/WmatrixPlugIn.as=======199.998533/199.998533
;
//class wlb.dream.tweens.plugins.WmatrixPlugIn
var WmatrixPlugIn=(function(){
	function WmatrixPlugIn(){
		this.matrix=null;
		this.offMatrix=null;
		this.result=null;
		this.display=null;
	}

	__class(WmatrixPlugIn,'wlb.dream.tweens.plugins.WmatrixPlugIn');
	var __proto=WmatrixPlugIn.prototype;
	Laya.imps(__proto,{"wlb.dream.tweens.plugins.ItweenPlugIn":true})
	__proto.initTween=function(parent,protyName,data){
		this.display=parent.$target;
		this.matrix=this.display.transform;
		this.result=this.matrix.clone();
		this.offMatrix=new Matrix(data[0],data[1],data[2],data[3],data[4],data[5]);
		this.offMatrix.a-=this.matrix.a;
		this.offMatrix.b-=this.matrix.b;
		this.offMatrix.c-=this.matrix.c;
		this.offMatrix.d-=this.matrix.d;
	}

	__proto.render=function(per){
		this.result.a=this.matrix.a+per*this.offMatrix.a;
		this.result.b=this.matrix.b+per*this.offMatrix.b;
		this.result.c=this.matrix.c+per*this.offMatrix.c;
		this.result.d=this.matrix.d+per*this.offMatrix.d;
		this.result.tx=this.matrix.tx+per*this.offMatrix.tx;
		this.result.ty=this.matrix.ty+per*this.offMatrix.ty;
		this.display.transform=this.result;
	}

	return WmatrixPlugIn;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/Wtween.as=======199.998532/199.998532
;
//class wlb.dream.tweens.Wtween
var Wtween=(function(){
	var WtweenProty;
	function Wtween(tweenMnger,target,duration,vars,type){
		//===============vars特性属性===================
		this.delay=0;
		this.onFinish=null;
		this.onFinishParams=[];
		this.ease=null;
		this.easeParams=null;
		this.onFinish2=null;
		this.$target=null;
		this.$duration=NaN;
		this.$tweenProtys=null;
		this.$startTime=NaN;
		this.$tweenMnger=null;
		this.$pluginTweens=null;
		this.$type="frame";
		(type===void 0)&& (type="frame");
		this.$tweenMnger=tweenMnger;
		this.$target=target;
		this.$type=type;
		this.$tweenProtys=new Array;
		for(var proty in vars){
			if(Wtween.PlugInTween.hasOwnProperty(proty)){
				this.addTweenPlugIn(Wtween.PlugInTween[proty],proty,vars[proty]);
			}
			else if(this.hasOwnProperty(proty)){
				this[proty]=vars[proty];
			}
			else if(target.hasOwnProperty(proty)){
				var value=vars[proty];
				if((typeof value=='string')){
					var str=value;
					if(str.charAt(0)=="#"){
						this.addTweenPlugIn(WcolorPlugIn,proty,value);
					}
					else{
						target[proty]=value;
					}
				}
				else if(target[proty] !=value){
					this.addTweenProty(proty,target[proty],value);
				}
			}
		}
		this.$duration=duration;
		if(this.$type=="frame"){
			this.$startTime=this.$tweenMnger.nowFrame+this.delay;
		}
		else{
			this.$startTime=this.$tweenMnger.timeInTimer+this.delay;
		}
	}

	__class(Wtween,'wlb.dream.tweens.Wtween');
	var __proto=Wtween.prototype;
	__proto.addTweenPlugIn=function(type,protyName,data){
		var plugin=new type;
		plugin.initTween(this,protyName,data);
		if(!this.$pluginTweens){
			this.$pluginTweens=new Array;
		}
		this.$pluginTweens.push(plugin);
	}

	__proto.addTweenProty=function(name,startValue,endValue){
		this.$tweenProtys.push(new WtweenProty(name,startValue,endValue));
	}

	__proto.$render=function(){
		var nowTime=(this.$type=="frame"?this.$tweenMnger.nowFrame:this.$tweenMnger.timeInTimer);
		if(nowTime>=this.$startTime){
			var prePer=Math.min(1,(nowTime-this.$startTime)/this.$duration);
			var resultPer=NaN;
			if(this.ease!=null)
				resultPer=this.ease(prePer,this);
			else resultPer=prePer;
			this.$renderByPercen(prePer);
			if(prePer==1){
				this.$tweenMnger.killTween(this);
				if(this.onFinish!=null)
					this.onFinish.apply(this.$target,this.onFinishParams);
				if(this.onFinish2!=null){
					this.onFinish2();
				}
			}
		}
	}

	__proto.$renderByPercen=function(resultPer){
		var tempProty;
		for(var $each_tempProty in this.$tweenProtys){
			tempProty=this.$tweenProtys[$each_tempProty];
			this.$target[tempProty.name]=tempProty.startValue+tempProty.length*resultPer;
		}
		var plugn;
		for(var $each_plugn in this.$pluginTweens){
			plugn=this.$pluginTweens[$each_plugn];
			plugn.render(resultPer);
		}
	}

	Wtween.Type_Frame="frame";
	Wtween.Type_Time="time";
	__static(Wtween,
	['PlugInTween',function(){return this.PlugInTween={matrix:WmatrixPlugIn};}
	]);
	Wtween.__init$=function(){
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		//class WtweenProty
		WtweenProty=(function(){
			function WtweenProty(name,startValue,endValue){
				this.name=null;
				this.startValue=NaN;
				this.length=NaN;
				this.name=name;
				this.startValue=startValue;
				this.length=endValue-startValue;
			}
			__class(WtweenProty,'');
			return WtweenProty;
		})()
	}

	return Wtween;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/WtweenEase.as=======199.998530/199.998530
//class wlb.dream.tweens.WtweenEase
var WtweenEase=(function(){
	function WtweenEase(){}
	__class(WtweenEase,'wlb.dream.tweens.WtweenEase');
	WtweenEase.eashSlow=function(per,tween){
		return per*per;
	}

	WtweenEase.eashFast=function(per,tween){
		return Math.sqrt(per);
	}

	WtweenEase.shakeSlowIn=function(per,tween){
		if(tween.direction){
			tween.direction=false;
			per=1-per*per;
		}
		else{
			tween.direction=true;
			per=per*per-1;
		}
		return per;
	}

	WtweenEase.shakeFastIn=function(per,tween){
		if(tween.direction){
			tween.direction=false;
			per=1-Math.sqrt(per);
		}
		else{
			tween.direction=true;
			per=Math.sqrt(per)-1;
		}
		return per;
		return per;
	}

	return WtweenEase;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tweens/Wtweens.as=======199.998529/199.998529
;
//class wlb.dream.tweens.Wtweens
var Wtweens=(function(){
	function Wtweens(asynItem,toArray,type){
		this.toArray=null;
		this.currentIndex=0;
		this.type=null;
		this.onComplete=null;
		this.asynItem=null;
		this._currentTween=null;
		(type===void 0)&& (type="frame");
		this.asynItem=asynItem;
		this.toArray=toArray;
		this.type=type;
		this.next();
	}

	__class(Wtweens,'wlb.dream.tweens.Wtweens');
	var __proto=Wtweens.prototype;
	__proto.next=function(){
		if(this.currentIndex<this.toArray.length){
			var arr=this.toArray[this.currentIndex];
			this._currentTween=this.asynItem.to(arr[0],arr[1],arr[2],this.type);
			this._currentTween.onFinish2=this.next;
			this.currentIndex++;
		}
		else{
			this._currentTween=null;
			if(this.onComplete !=null){
				this.onComplete();
			}
		}
	}

	__proto.dispose=function(){
		if(this._currentTween){
			this.asynItem.killTween(this._currentTween);
			this._currentTween=null;
		}
	}

	return Wtweens;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/logs/WlogUtil.as=======199.998527/199.998527
/**
*
*@author wulongbin
*日志类，用来输出信息
*/
//class wlb.dream.utils.logs.WlogUtil
var WlogUtil=(function(){
	function WlogUtil(){}
	__class(WlogUtil,'wlb.dream.utils.logs.WlogUtil');
	__getset(1,WlogUtil,'logNum',function(){
		return WlogUtil._logNum;
	});

	__getset(1,WlogUtil,'logs',function(){
		return WlogUtil._logs;
	});

	WlogUtil.log=function(info,type){
		(type===void 0)&& (type="Auto");
		var str="["+type+"]"+info;
		if(WlogUtil.isTrace){
			console.log(str);
		}
		if(WlogUtil.logColor.hasOwnProperty(type)){
			str=WstringUtil.appendColor(str,WlogUtil.logColor[type]);
		}
		WlogUtil._logs.push(str);
		WlogUtil._logNum++;
		if(WlogUtil._logNum >=WlogUtil.maxLogNum){
			WlogUtil._logs.splice(0,WlogUtil.deleteLogNum);
			WlogUtil._logNum=WlogUtil._logs.length;
		}
	}

	WlogUtil.maxLogNum=10000;
	WlogUtil.deleteLogNum=5000;
	WlogUtil.isTrace=true;
	WlogUtil._logs=[];
	WlogUtil._logNum=0;
	__static(WlogUtil,
	['logColor',function(){return this.logColor={Warn:0xFF6600,Error:0xFF0000};}
	]);
	return WlogUtil;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/mouses/WmouseDownUpEvent.as=======199.998525/199.998525
/**
*鼠标按下松放事件侦听
*@author wlb
*
*/
//class wlb.dream.utils.mouses.WmouseDownUpEvent
var WmouseDownUpEvent=(function(){
	function WmouseDownUpEvent(display,parent,mouseDown,mouseUp,mouseMove,leftMouse){
		this.parentStartMouseX=NaN;
		this.parentStartMouseY=NaN;
		this.stageStartX=NaN;
		this.stageStartY=NaN;
		this.stageEndX=NaN;
		this.stageEndY=NaN;
		this.mouseEvent=null;
		this._display=null;
		this._parent=null;
		this._mouseDown=null;
		this._mouseUp=null;
		this._mouseMove=null;
		this._preventDefault=false;
		this._isLeftMouse=true;
		(leftMouse===void 0)&& (leftMouse=true);
		this._display=display;
		this._parent=parent||display;
		this._mouseDown=mouseDown||WmouseDownUpEvent.callBackNull;
		this._mouseUp=mouseUp||WmouseDownUpEvent.callBackNull;
		this._mouseMove=mouseMove||WmouseDownUpEvent.callBackNull;
		this._isLeftMouse=leftMouse;
		if(this._isLeftMouse)
			this._display.on("mousedown",this,this.downHd);
		else
		this._display.on("rightmousedown",this,this.downHd);
	}

	__class(WmouseDownUpEvent,'wlb.dream.utils.mouses.WmouseDownUpEvent');
	var __proto=WmouseDownUpEvent.prototype;
	__proto.downHd=function(event){
		this.mouseEvent=event;
		this.parentStartMouseX=this._parent.mouseX;
		this.parentStartMouseY=this._parent.mouseY;
		this.stageStartX=event.stageX;
		this.stageStartY=event.stageY;
		this._preventDefault=false;
		this._mouseDown(this);
		if(this._preventDefault||this._display==null)return;
		if(this._isLeftMouse)
			Wstage.stage.on("mouseup",this,this.upHd);
		else
		Wstage.stage.on("rightmouseup",this,this.upHd);
		WasynManager.instance.frameLoop(this,this.moveHd);
	}

	__proto.moveHd=function(){
		this.stageEndX=Wstage.stage.mouseX;
		this.stageEndY=Wstage.stage.mouseY;
		this._mouseMove(this);
	}

	__proto.upHd=function(event){
		this.stageEndX=event.stageX;
		this.stageEndY=event.stageY;
		this.mouseEvent=event;
		if(this._isLeftMouse)
			Wstage.stage.off("mouseup",this,this.upHd);
		else
		Wstage.stage.off("rightmouseup",this,this.upHd);
		WasynManager.instance.clearFrameLoop(this,this.moveHd);
		this._mouseUp(this);
	}

	__proto.preventDefault=function(){
		this._preventDefault=true;
	}

	__proto.dispose=function(){
		Wstage.stage.off("mouseup",this,this.upHd);
		WasynManager.instance.clearFrameLoop(this,this.moveHd);
		this._display.off("mousedown",this,this.downHd);
		this._display=null;
		this._parent=null;
		this._mouseDown=this._mouseUp=this._mouseMove=WmouseDownUpEvent.callBackNull;
	}

	__getset(0,__proto,'target',function(){
		return this._display;
	});

	__getset(0,__proto,'offX',function(){
		return this.stageEndX-this.stageStartX;
	});

	__getset(0,__proto,'offForParent',function(){
		var p2=this._parent.globalToLocal(Point.TEMP.setTo(this.stageEndX,this.stageEndY));
		p2.x-=this.parentStartMouseX;
		p2.x-=this.parentStartMouseY
		return p2;
	});

	__getset(0,__proto,'offY',function(){
		return this.stageEndY-this.stageStartY;
	});

	WmouseDownUpEvent.listenerKeyByFunc=function(display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse){
		(isLeftMouse===void 0)&& (isLeftMouse=true);
		var key=mouseDown||mouseUp||mouseMove;
		WmouseDownUpEvent._events.addByObject(key,new WmouseDownUpEvent(display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse));
	}

	WmouseDownUpEvent.listenerKeyByDisplay=function(display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse){
		(isLeftMouse===void 0)&& (isLeftMouse=true);
		WmouseDownUpEvent._events.addByObject(display,new WmouseDownUpEvent(display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse));
	}

	WmouseDownUpEvent.listenerKey=function(key,display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse){
		(isLeftMouse===void 0)&& (isLeftMouse=true);
		WmouseDownUpEvent._events.addByObject(key,new WmouseDownUpEvent(display,parent,mouseDown,mouseUp,mouseMove,isLeftMouse));
	}

	WmouseDownUpEvent.removeListener=function(key){
		var event=WmouseDownUpEvent._events.getByObject(key);
		if(event==null)return;
		event.dispose();
		WmouseDownUpEvent._events.removeByObject(key);
	}

	WmouseDownUpEvent.callBackNull=function(e){}
	__static(WmouseDownUpEvent,
	['_events',function(){return this._events=new Wdictrionary;}
	]);
	return WmouseDownUpEvent;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/Wdictrionary.as=======199.998522/199.998522
//class wlb.dream.utils.Wdictrionary
var Wdictrionary=(function(){
	function Wdictrionary(){
		this.lib={};
	}

	__class(Wdictrionary,'wlb.dream.utils.Wdictrionary');
	var __proto=Wdictrionary.prototype;
	__proto.add=function(key,value){
		var type=typeof(key);
		if(type=='function'||type=='object'){
			this.addByObject(key,value);
		}
		else{
			this.addByString(key,value);
		}
	}

	__proto.remove=function(key){
		var type=typeof(key);
		if(type=='function'||type=='object'){
			this.removeByObject(key);
		}
		else{
			this.removeByString(key);
		}
	}

	__proto.get=function(key){
		var type=typeof(key);
		if(type=='function'||type=='object'){
			return this.getByObject(key);
		}
		else{
			return this.getByString(key);
		}
	}

	__proto.addByString=function(key,value){
		this.lib[key]=value;
	}

	__proto.addByObject=function(key,value){
		this.lib[key.__ID__]=value;
	}

	__proto.addByDouble=function(key,key2,value){
		this.lib[key.__ID__+'_'+key2.__ID__]=value;
	}

	__proto.removeByString=function(key){
		delete this.lib[key];
	}

	__proto.removeByObject=function(key){
		delete this.lib[key.__ID__];
	}

	__proto.removeByDouble=function(key,key2){
		delete this.lib[key.__ID__+'_'+key2.__ID__];
	}

	__proto.getByString=function(key){
		return this.lib[key];
	}

	__proto.getByObject=function(key){
		return this.lib[key.__ID__];
	}

	__proto.getByDouble=function(key,key2){
		return this.lib[key.__ID__+'_'+key2.__ID__];
	}

	return Wdictrionary;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/WonceUtil.as=======199.998521/199.998521
/**
*
*@author wulongbin
*用于提供一次性变量使用，避免重复创建;
*/
//class wlb.dream.utils.WonceUtil
var WonceUtil=(function(){
	function WonceUtil(){}
	__class(WonceUtil,'wlb.dream.utils.WonceUtil');
	WonceUtil.getMaterix=function(a,b,c,d,tx,ty){
		(a===void 0)&& (a=1);
		(b===void 0)&& (b=0);
		(c===void 0)&& (c=0);
		(d===void 0)&& (d=1);
		(tx===void 0)&& (tx=0);
		(ty===void 0)&& (ty=0);
		WonceUtil.materix.a=a;
		WonceUtil.materix.b=b;
		WonceUtil.materix.c=c;
		WonceUtil.materix.d=d;
		WonceUtil.materix.tx=tx;
		WonceUtil.materix.ty=ty;
		return WonceUtil.materix;
	}

	WonceUtil.getRect=function(x,y,width,height){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		WonceUtil.rect.x=x;
		WonceUtil.rect.y=y;
		WonceUtil.rect.width=width;
		WonceUtil.rect.height=height;
		return WonceUtil.rect;
	}

	WonceUtil.getPoint=function(x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		WonceUtil.point.x=x;
		WonceUtil.point.y=y;
		return WonceUtil.point;
	}

	__static(WonceUtil,
	['materix',function(){return this.materix=new Matrix();},'rect',function(){return this.rect=new Rectangle();},'point',function(){return this.point=new Point();}
	]);
	return WonceUtil;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/WstateInfo.as=======199.998520/199.998520
;
//class wlb.dream.utils.WstateInfo
var WstateInfo=(function(){
	function WstateInfo(){
		this.initFuncs=[];
		this.tranFuncs=[];
		this.endFuncs=[];
		this.isTraning=false;
		this.isLock=false;
		this._pvLock=0;
		this.state=0;
		this.tranEndState=0;
		this._isRecord=false;
		this.recordId=null;
	}

	__class(WstateInfo,'wlb.dream.utils.WstateInfo');
	var __proto=WstateInfo.prototype;
	__proto.callTranFuncs=function(){
		this.isTraning=true;
		this.isLock=true;
		var func;
		for(var $each_func in this.tranFuncs){
			func=this.tranFuncs[$each_func];
			func(this.state);
		}
		this.isLock=false;
	}

	__proto.endTran=function(){
		this.isTraning=false;
		this.callEndFuncs();
		if(this.tranEndState !=this.state){
			this.setState(this.tranEndState);
		}
	}

	__proto.callEndFuncs=function(){
		this.isLock=true;
		var func;
		for(var $each_func in this.endFuncs){
			func=this.endFuncs[$each_func];
			func(this.state);
		}
		this.isLock=false;
	}

	__proto.callInitFuncs=function(){
		this.isLock=true;
		var func;
		for(var $each_func in this.initFuncs){
			func=this.initFuncs[$each_func];
			func(this.state);
		}
		this.isLock=false;
	}

	__proto.addLock=function(){
		this._pvLock++;
		if(this._pvLock==1){
			this.isOpen=true;
		}
	}

	__proto.subLock=function(num){
		(num===void 0)&& (num=1);
		this._pvLock=Math.max(this._pvLock-num,0);
		if(this._pvLock==0){
			this.isOpen=false;
		}
	}

	__proto.setInitState=function(value){
		this.setState(value,true);
	}

	__proto.setState=function(value,isInit){
		(isInit===void 0)&& (isInit=false);
		if(this.isLock)return;
		this.tranEndState=value;
		if(this.state==value)return;
		if(this.isTraning)return;
		this.state=value;
		if(this._isRecord){
			WstateInfo.recordState(this.recordId,this.state);
		}
		if(isInit){
			this.callInitFuncs();
		}
		else{
			if(this.tranFuncs.length>0){
				this.callTranFuncs();
			}
			else{
				this.callEndFuncs();
			}
		}
	}

	__proto.operatInitFunc=function(func,isAdd){
		var index=this.initFuncs.indexOf(func);
		if(isAdd){
			if(index==-1){
				this.initFuncs.push(func);
			}
		}
		else{
			if(index>=0){
				this.initFuncs.splice(index,1);
			}
		}
	}

	__proto.operatTranFunc=function(func,isAdd){
		var index=this.tranFuncs.indexOf(func);
		if(isAdd){
			if(index==-1){
				this.tranFuncs.push(func);
			}
		}
		else{
			if(index>=0){
				this.tranFuncs.splice(index,1);
			}
		}
	}

	__proto.operatEndFunc=function(func,isAdd){
		var index=this.endFuncs.indexOf(func);
		if(isAdd){
			if(index==-1){
				this.endFuncs.push(func);
			}
		}
		else{
			if(index>=0){
				this.endFuncs.splice(index,1);
			}
		}
	}

	__proto.dispose=function(){
		this.initFuncs.length=0;
		this.tranFuncs.length=0;
		this.endFuncs.length=0;
	}

	__proto.getState=function(){
		return this.state;
	}

	__getset(0,__proto,'isOpen',function(){
		return this.state>1;
		},function(value){
		this.setState(value?2:1);
	});

	__getset(0,__proto,'isRecord',function(){
		return this._isRecord;
		},function(value){
		if(this._isRecord==value)return;
		this._isRecord=value;
		if(!value){
			WstateInfo.removeRecord(this.recordId);
		}
	});

	__getset(0,__proto,'pvLock',function(){
		return this._pvLock;
	});

	WstateInfo.saveStates=function(){
		var arr=[];
		for(var key in WstateInfo.stateRecordLib){
			arr.push({key:key,state:WstateInfo.stateRecordLib[key]});
		}
		arr.sortOn(key);
		return arr;
	}

	WstateInfo.resetStates=function(value){
		WstateInfo.stateRecordLib={};
		var obj;
		for(var $each_obj in value){
			obj=value[$each_obj];
			WstateInfo.stateRecordLib[obj.key]=obj.state;
		}
	}

	WstateInfo.recordState=function(recordId,state){
		WstateInfo.stateRecordLib[recordId]=state;
	}

	WstateInfo.getState=function(recordId){
		return WstateInfo.stateRecordLib[recordId];
	}

	WstateInfo.removeRecord=function(recordId){
		delete WstateInfo.stateRecordLib[recordId];
	}

	WstateInfo.stateRecordLib={};
	WstateInfo.State_Null=0;
	WstateInfo.State_Close=1;
	WstateInfo.State_Open=2;
	WstateInfo.__init$=function(){
		;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;
		[/*no*/this.EO]
	}

	return WstateInfo;
})()


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/WstringUtil.as=======199.998519/199.998519
/**
*字符串四则运算解析
*@author wulongbin
*
*/
//class wlb.dream.utils.WstringUtil
var WstringUtil=(function(){
	function WstringUtil(){}
	__class(WstringUtil,'wlb.dream.utils.WstringUtil');
	WstringUtil.switchFormula=function(numStacks,operator){
		var num1=NaN;
		var num2
		switch(operator){
			case 0:
				return numStacks.pop()+numStacks.pop();
			case 1:
				num2=numStacks.pop();
				if(numStacks.length==0||numStacks[numStacks.length-1]=="("){
					return-num2;
				}
				else{
					return numStacks.pop()-num2;
				}
			case 2:
				return numStacks.pop()*numStacks.pop();
			case 3:
				return numStacks.pop()/numStacks.pop();
			default :
				return NaN;
			}
	}

	WstringUtil.appendColor=function(line,color,hasUnderLine){
		(hasUnderLine===void 0)&& (hasUnderLine=false);
		var str='<font color="#'+color.toString(16)+'" >'+line+'</font>';
		if(hasUnderLine){
			str='<u>'+str+'</u>';
		}
		return str;
	}

	WstringUtil.runMath=function(str){
		if(WstringUtil.symbolTable==null){
			WstringUtil.symbolTable={};
			WstringUtil.symbolTable["+"]=0;
			WstringUtil.symbolTable["-"]=1;
			WstringUtil.symbolTable["*"]=2;
			WstringUtil.symbolTable["/"]=3;
			WstringUtil.symbolTable["("]=4;
			WstringUtil.symbolTable[")"]=5;
		}
		str=str.replace(/[^0-9|*+-\/()]/mg,"");
		str="("+str+")";
		var numStack=[];
		var symbolStack=new Array;
		var cacheStr="";
		var charNum=0;
		var char;
		var nowSymbol=0;
		var prevSymbol=0;
		var operatorNum1=NaN;
		var operatorNum2=NaN;
		var index=0;
		var length=str.length;
		var prevIsNum=false;
		while(index<length){
			charNum=str.charCodeAt(index);
			char=str.charAt(index);
			if(charNum>47||charNum==46){
				cacheStr+=char;
				prevIsNum=true;
			}
			else{
				prevIsNum=false;
				if(cacheStr.length>0){
					numStack.push(Number(cacheStr));
					cacheStr="";
				}
				if(charNum==41){
					nowSymbol=symbolStack.pop();
					while(nowSymbol!=4){
						numStack.push(WstringUtil.switchFormula(numStack,nowSymbol));
						if(symbolStack.length>0){
							nowSymbol=symbolStack.pop();
						}
						else{
							break ;
						}
					}
					numStack.splice(numStack.lastIndexOf("("),1);
				}
				else{
					if(charNum==40){
						numStack.push("(");
					}
					nowSymbol=WstringUtil.symbolTable[char];
					if(symbolStack.length>0){
						prevSymbol=symbolStack[symbolStack.length-1];
						if(WstringUtil.formulaTable[prevSymbol][nowSymbol]>=0){
							numStack.push(WstringUtil.switchFormula(numStack,prevSymbol));
							symbolStack.pop();
						}
					}
					symbolStack.push(nowSymbol);
				}
			}
			index++;
		}
		return numStack[0];
	}

	WstringUtil.bitToUint=function(str){
		return parseInt(str,2);
	}

	WstringUtil.strToArray=function(str){
		return JSON.parse(str);
	}

	WstringUtil.getFileName=function(url){
		var start=Math.max(url.lastIndexOf("\\"),url.lastIndexOf("/"));
		return url.substring(start+1,url.lastIndexOf("."));
	}

	WstringUtil.getExtension=function(url){
		return url.substr(url.lastIndexOf(".")+1).toLocaleLowerCase();
	}

	WstringUtil.getUrlDir=function(url){
		var start=Math.max(url.lastIndexOf("\\"),url.lastIndexOf("/"));
		return url.substring(0,start);
	}

	WstringUtil.deleteFileSuffix=function(url){
		return url.substring(0,url.lastIndexOf("."));
	}

	WstringUtil.replace$var=function(value){
		return value.replace(/\"\$(\w+)\"/g,"$1");
	}

	WstringUtil.parse$var=function(value,source){
		return JSON.parse(value,function(k,v){
			if((typeof v=='string')){
				var vStr=v;
				if(vStr.charCodeAt(0)==36){
					return source[vStr.substring(1,vStr.length)];
				}
			}
			return v;
		});
	}

	WstringUtil.packageClassToQualifiedClassName=function(name){
		var array=name.split(".");
		var i=0;
		var len=array.length;
		if(len>1){
			var className=array.pop();
			return array.join(".")+"::"+className;
		}
		else return name;
	}

	WstringUtil.qualifiedClassNameToPackageClass=function(name){
		return name.replace("::",".");
	}

	WstringUtil.addZeroToStr=function(length,str){
		if(WstringUtil.zeros==null){
			WstringUtil.zeros=new Array(64);
			WstringUtil.zeros[0]="0";
			for(var i=1;i<64;i++){
				WstringUtil.zeros[i]=WstringUtil.zeros[i-1]+WstringUtil.zeros[0];
			}
		}
		return (WstringUtil.zeros[length]+str).substr(-length);
	}

	WstringUtil.subStrByIndex=function(str,start,end,index){
		WstringUtil.endIndex=index;
		return WstringUtil.subStr(str,start,end);
	}

	WstringUtil.subStr=function(str,start,end){
		var startIndex=str.indexOf(start,WstringUtil.endIndex)+start.length;
		WstringUtil.endIndex=str.indexOf(end,startIndex);
		return str.substring(startIndex,WstringUtil.endIndex);
	}

	WstringUtil.relativeToAbsUrl=function(absUrl,relativeUrl,sperator){
		(sperator===void 0)&& (sperator="/");
		if(relativeUrl.substr(0,2)==".."){
			var relativeArr=relativeUrl.split(/[\/|\\]/ig);
			var absArr=absUrl.split(/[\/|\\]/ig);
			if(absArr[absArr.length-1]==""){
				absArr.pop();
			}
			while(relativeArr[0]==".."){
				relativeArr.shift();
				absArr.pop();
			};
			var url=absArr.join(sperator)+sperator+relativeArr.join(sperator);
			return url;
		}
		else{
			return absUrl+relativeUrl;
		}
	}

	WstringUtil.classToString=function(cla){
		return cla.name;
	}

	WstringUtil.strToPoint=function(str){
		var p=new Point;
		var arr=str.split(",");
		p.x=arr[0];
		p.y=arr[1];
		return p;
	}

	WstringUtil.pointToStr=function(p){
		return p.x+","+p.y;
	}

	WstringUtil.escapePath=function(path){
		return path.split('\\').join('/');
	}

	WstringUtil.symbolTable=null;
	WstringUtil.zeros=null;
	WstringUtil.MaxZeroLenth=64;
	WstringUtil.endIndex=0;
	__static(WstringUtil,
	['formulaTable',function(){return this.formulaTable=[
		[0,0,-1,-1,-1,1],
		[0,0,-1,-1,-1,1],
		[1,1,0,0,-1,1],
		[1,1,0,0,-1,1],
		[-1,-1,-1,-1,-1,1]];}
	]);
	return WstringUtil;
})()


	//file:///H:/work/sniper/WLBLaya/src/WLBLaya.as=======199.998518/199.998518
//class WLBLaya
var WLBLaya=(function(){
	function WLBLaya(){
		Wsystem.ready();
	}

	__class(WLBLaya,'WLBLaya');
	return WLBLaya;
})()


	//file:///H:/work/sniper/Platform/src/platform/Conf.as=======199.998516/199.998516
/**
*...
*@author
*/
//class platform.Conf
var Conf=(function(){
	function Conf(){}
	__class(Conf,'platform.Conf');
	Conf.LAYASTOREMARKET_URL='//layamarket.layabox.com/LayaH5Market.js';
	Conf.LAYABOX_PASSPORT_URL='//api.masteropen.layabox.com/';
	Conf.LAYABOX_UCENTER_URL='//ucenter.layabox.com/';
	Conf.LAYABOX_PAYCENTER_URL='//paycenter.layabox.com/?a=Pay&m=Payment&ac=submit';
	Conf.TENCENT_SDK_URL='//h5sdk.qq.com/h5game/js/h5jssdk-1.1.4.min.js';
	return Conf;
})()


	//file:///H:/work/sniper/Platform/src/platform/game/Game.as=======199.998515/199.998515
/**
*...
*@author
*/
//class platform.game.Game
var Game=(function(){
	function Game(gid,unionid,msgHandle){
		this.callbackList=[];
		/**
		*游戏ID
		*/
		this.gameid=0;
		/**
		*渠道id
		*/
		this.unionid=0;
		this.user=null;
		this.loginData=null;
		this.msgHandle=null;
		this._socket=null;
		this.gameSocket=null;
		this.gameid=gid;
		this.unionid=unionid;
		this.msgHandle=msgHandle;
	}

	__class(Game,'platform.game.Game');
	var __proto=Game.prototype;
	__proto.login=function(logindata,callback){this.user=this.user|| new User();
		this.user.initUser(logindata);
		if (!this.callbackList[0]){
			this.loginData=logindata;
			this.callbackList[0]=callback;
			this.loginRuter();
		}
	}

	__proto.loginRuter=function(){
		var res={
			"ip":sniperConfig.hall_address,
			"port":sniperConfig.hall_port
		};
		if (this._socket !=null){
			this.closeRouterSocket();
		};
		var bSSL=false;
		this._socket=new Socket(res.ip,bSSL?res.port_ssl:res.port);
		this._socket.on("open",this,this.onRouterSocketOpen);
		this._socket.on("message",this,this.onRouterSocketMessage);
		this._socket.on("error",this,this.onRouterSocketERROR);
		this._socket.on("close",this,this.onRouterSocketCLOSE);
	}

	__proto.onRouterSocketOpen=function(e){
		this.loginReal();
	}

	__proto.onRouterSocketMessage=function(str){
		var data=JSON.parse(str);
		if (!data.url)return;
		data.url=data.url.replace(Game.reg,"_");
		if (this[data.url]){
			this[data.url].apply(this,[data.params]);
		}
		else{
		}
	}

	__proto.closeRouterSocket=function(){
		this.removeAllCallback();
	}

	__proto.onRouterSocketERROR=function(){
		this.removeAllCallback();
	}

	__proto.onRouterSocketCLOSE=function(){
		this.removeAllCallback();
	}

	__proto.removeAllCallback=function(){
		for (var i=0,n=this.callbackList.length;i < n;i++){
			var a=this.callbackList[i];
			if (a!=null){
				a(Game.CLOSEDRESULT);
				this.callbackList[i]=null;
			}
		}
	}

	__proto.send=function(obj){
		if (this._socket){
			this._socket.send(JSON.stringify(obj));
			return true;
		}
		return false;
	}

	/**
	*recevie
	*/
	__proto.user_onLogined=function(data){
		this.callbackList[0] && this.callbackList[0]({result:0,data:this.loginData,dataExt:data});
		this.callbackList[0]=null;
	}

	__proto.user_togame=function(data){
		var _$this=this;
		this.gameSocket=this.gameSocket|| new GameSocket$1();
		this.gameSocket.setMsgHandle(this.msgHandle);
		this.gameSocket.join(data,this.user,function(result){
			_$this.callbackList[3] && _$this.callbackList[3](result);
			_$this.callbackList[3]=null;
			_$this.callbackList[5] && _$this.callbackList[5](result);
			_$this.callbackList[5]=null;
		});
	}

	__proto.backpack_getItemsResult=function(data){
		this.callbackList[1] && this.callbackList[1]({result:0,data:data});
		this.callbackList[1]=null;
	}

	__proto.backpack_addItemResult=function(data){
		this.callbackList[2] && this.callbackList[2]({result:data.code,data:data});
		this.callbackList[2]=null;
	}

	__proto.backpack_onItemExpired=function(data){
		this.msgHandle&&this.msgHandle.onItemExpired(data);
	}

	__proto.game_dataGot=function(data){
		this.callbackList[7]&&this.callbackList[7]({result:0,data:data});
		this.callbackList[7]=null;
	}

	__proto.user_datachg=function(data){
		this.callbackList[6] && this.callbackList[6]({result:0,data:data});
		this.callbackList[6]=null;
		switch (data.type){
			case "1":;
				var userInfo=new UserBaseInfo();
				userInfo.setData(data.data);
				break ;
			case "2":;
				var thing=new GameDataInfo();
				thing.setData(data.data);
				break ;
			}
		this.msgHandle&&this.msgHandle.onDatachg(data);
	}

	__proto.game_getRankResult=function(data){
		this.callbackList[8]&&this.callbackList[8]({result:0,data:data});
		this.callbackList[8]=null;
	}

	/**
	*
	*接口
	*/
	__proto.loginReal=function(){
		this.send({
			url:'user.login',
			params:{
				"gameid":this.gameid,
				"username":this.user.openid,
				"password":"",
				"source":"",
				"unionid":this.loginData.sp,
				"referee":0,
				"extendParams":""
			}
		});
	}

	/**
	*创建房间
	*/
	__proto.createRoom=function(callback){
		if (!this.callbackList[3]){
			this.callbackList[3]=callback;
			this.send({
				url:'room.user.play',
				params:{
					"mustNew":1
				}
			});
		}
		else{
			this.callbackList[3]=callback;
		}
	}

	__proto.match=function(callback){
		if (!this.callbackList[4]){
			this.callbackList[4]=callback;
			this.send({
				url:'room.user.match',
				params:{}
			});
		}
		else{
			this.callbackList[4]=callback;
		}
	}

	__proto.joinRoom=function(romeName,callback){
		if (!this.callbackList[5]){
			this.callbackList[5]=callback;
			this.send({
				url:'room.user.join',
				params:{"roomname":romeName}
			});
		}
		else{
			this.callbackList[5]=callback;
		}
	}

	/**
	*增加物品
	*/
	__proto.addItem=function(itemdata,callback){
		if (!this.callbackList[2]){
			this.callbackList[2]=callback;
			this.send({
				url:'room.backpack.addItem',
				params:itemdata
			});
		}
		else{
			this.callbackList[2]=callback;
		}
	}

	/**
	*获取物品列表
	*/
	__proto.getItems=function(callback){
		if (!this.callbackList[1]){
			this.callbackList[1]=callback;
			this.send({
				url:'room.backpack.getItems',
				params:{}
			});
		}
		else{
			this.callbackList[1]=callback;
		}
	}

	__proto.updateData=function(data,callback){
		if (!this.callbackList[6]){
			this.callbackList[6]=callback;
			this.send({
				url:'room.data.update',
				params:{
					update:data
				}
			});
		}
		else{
			this.callbackList[6]=callback;
		}
	}

	__proto.getData=function(query,callback){
		if (!this.callbackList[7]){
			this.callbackList[7]=callback;
			this.send({
				url:'room.data.get',
				params:{
					query:query
				}
			});
		}
		else{
			this.callbackList[7]=callback;
		}
	}

	/**
	*获取排行榜信息
	*@param rankid 排行榜ID
	*@param callback 回调函数
	*/
	__proto.getRank=function(rankid,callback){
		if (!this.callbackList[8]){
			this.callbackList[8]=callback;
			this.send({
				url:'room.rank.getRank',
				params:{
					rankId:rankid
				}
			});
		}
		else{
			this.callbackList[8]=callback;
		}
	}

	/**
	*上报排行榜数据
	*@param rankid
	*@param rankvalue
	*@param callback
	*/
	__proto.setRank=function(rankid,rankvalue,callback){
		if (!this.callbackList[8]){
			this.callbackList[8]=callback;
			this.send({
				url:'room.rank.updateUserData',
				params:{
					rankId:rankid,
					value:rankvalue
				}
			});
		}
		else{
			this.callbackList[8]=callback;
		}
	}

	/**
	*开始游戏
	*@param callback
	*/
	__proto.gotoGame=function(callback){
		if(this.gameSocket){
			this.gameSocket.startGame(callback);
		}
		else{
			callback&&callback(Game.CLOSEDRESULT);
		}
	}

	/**
	*游戏内广播消息
	*@param obj
	*@param callback
	*/
	__proto.broadcast=function(obj,callback){
		if(this.gameSocket){
			this.gameSocket.broadcast(obj,callback);
		}
	}

	/**
	*离开房间
	*@param reason
	*@param callback
	*/
	__proto.leave=function(reason,callback){
		if(this.gameSocket){
			this.gameSocket.leave(reason,callback);
		}
	}

	/**
	*发送游戏服脚本事件
	*@param key
	*@param value
	*/
	__proto.sendToMsg=function(key,value){
		if(this.gameSocket){
			this.gameSocket.sendToMsg(key,value);
		}
	}

	/**
	*帧同步消息
	*@param item 物品ID
	*@param opt
	*@param callback
	*/
	__proto.syncopt=function(item,opt,callback){
		if(this.gameSocket){
			this.gameSocket.syncopt(item,opt,callback);
		}
	}

	/**
	*帧同步消息
	*@param item 物品ID
	*@param opt 对象类
	*@param callback
	*/
	__proto.syncoptByObject=function(opt){
		if(this.gameSocket){
			this.gameSocket.syncoptByObject(opt);
		}
	}

	Game.LOGIN=0;
	Game.GETITEM=1;
	Game.SETITEM=2;
	Game.CREATEROOM=3;
	Game.MATCH=4;
	Game.JOINROOM=5;
	Game.SETDATA=6;
	Game.GETDATA=7;
	Game.GETRANK=8;
	__static(Game,
	['reg',function(){return this.reg=new RegExp("\\.","ig");},'CLOSEDRESULT',function(){return this.CLOSEDRESULT={'result':-4,desc:'socket was closed'};}
	]);
	return Game;
})()


	//file:///H:/work/sniper/Platform/src/platform/game/Platform.as=======199.998512/199.998512
/**
*...
*@author
*/
//class platform.game.Platform
var Platform=(function(){
	function Platform(){
		this.gameId=0;
		this.appid=0;
		this.unionid=0;
		this.union=null;
		this.game=null;
	}

	__class(Platform,'platform.game.Platform');
	var __proto=Platform.prototype;
	__proto.init=function(gameid,appid,unionid,callback,msgHandle){
		this.gameId=this.gameId;
		this.appid=appid;
		this.unionid=unionid;
		this.union=this.getUnion(unionid);
		var initObj=new InitInfo();
		initObj.appid=appid;
		this.game=new Game(gameid,unionid,msgHandle);
		initObj.game=this.game;
		initObj.appid=appid;
		initObj.appkey="e7ec17643f8aaa43c61dfc4d182ab708";
		this.union.init(initObj,callback);
		callback && callback();
	}

	__proto.getUnion=function(unionid){
		return new Union_LayaBox();
	}

	__getset(1,Platform,'Instance',function(){
		return (Platform._instance=Platform._instance|| new Platform());
	});

	Platform._instance=null;
	return Platform;
})()


	//file:///H:/work/sniper/Platform/src/platform/game/User.as=======199.998511/199.998511
/**
*...
*@author
*/
//class platform.game.User
var User=(function(){
	function User(){
		this.openid=null;
	}

	__class(User,'platform.game.User');
	var __proto=User.prototype;
	__proto.initUser=function(userInfo){
		this.openid=userInfo.userId;
	}

	return User;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/DataChgInfo.as=======199.998510/199.998510
//class platform.info.DataChgInfo
var DataChgInfo=(function(){
	function DataChgInfo(){
		this.type=0;
		this.data=null;
	}

	__class(DataChgInfo,'platform.info.DataChgInfo');
	return DataChgInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/GameDataInfo.as=======199.998509/199.998509
//class platform.info.GameDataInfo
var GameDataInfo=(function(){
	function GameDataInfo(){
		this.F1=0;
		this.F2=0;
		this.F3=0;
		this.F4=0;
		this.F5=0;
		this.F6=0;
		this.F7=0;
	}

	__class(GameDataInfo,'platform.info.GameDataInfo');
	var __proto=GameDataInfo.prototype;
	__proto.setData=function(_data){
		var arr=_data.split(':');
		this.F1=arr[0];
		this.F2=arr[1];
		this.F3=arr[2];
		this.F4=arr[3];
		this.F5=arr[4];
		this.F6=arr[5];
		this.F7=arr[6];
	}

	return GameDataInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/InitInfo.as=======199.998508/199.998508
/**
*...
*@author
*/
//class platform.info.InitInfo
var InitInfo=(function(){
	function InitInfo(){
		this.appid=0;
		this.game=null;
		this.appkey=null;
	}

	__class(InitInfo,'platform.info.InitInfo');
	return InitInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/ItemInfo.as=======199.998507/199.998507
/**
*...
*@author
*/
//class platform.info.ItemInfo
var ItemInfo=(function(){
	function ItemInfo(){
		/**
		*物品ID
		*/
		this.item_static_id=0;
		/**
		*数量
		*/
		this.amount=0;
		/**
		*过期时间 单位毫秒
		*/
		this.lost_efficacy_time=0;
		/**
		*额外参数1
		*/
		this.extend1=0;
		/**
		*额外参数2
		*/
		this.extend2=0;
	}

	__class(ItemInfo,'platform.info.ItemInfo');
	return ItemInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/ItemListInfo.as=======199.998506/199.998506
/**
*...
*@author
*/
//class platform.info.ItemListInfo
var ItemListInfo=(function(){
	function ItemListInfo(){
		this.gameId=0;
		this.items=null;
		this.userId=0;
		this.code=0;
	}

	__class(ItemListInfo,'platform.info.ItemListInfo');
	return ItemListInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/ItemObj.as=======199.998505/199.998505
//class platform.info.ItemObj
var ItemObj=(function(){
	function ItemObj(){
		this.i=null;
		this.id=null;
		this.o=null;
		this.exo=null;
	}

	__class(ItemObj,'platform.info.ItemObj');
	return ItemObj;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/ItemPush.as=======199.998504/199.998504
//class platform.info.ItemPush
var ItemPush=(function(){
	function ItemPush(){
		this.ds=null;
		this.s=0;
	}

	__class(ItemPush,'platform.info.ItemPush');
	return ItemPush;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/JoinInfo.as=======199.998503/199.998503
/**
*...
*@author
*/
//class platform.info.JoinInfo
var JoinInfo=(function(){
	var JoinRoom,PlayerInfo;
	function JoinInfo(){
		this.code=0;
		this.roomname=null;
		this.room=null;
		this.ownerId=null;
	}

	__class(JoinInfo,'platform.info.JoinInfo');
	JoinInfo.__init$=function(){
		//class JoinRoom
		JoinRoom=(function(){
			function JoinRoom(){
				this.createts=0;
				this.players=null;
				this.status=0;
			}
			__class(JoinRoom,'');
			return JoinRoom;
		})()
		//class PlayerInfo
		PlayerInfo=(function(){
			function PlayerInfo(){
				this.joints=0;
				this.openid=null;
				this.status=0;
			}
			__class(PlayerInfo,'');
			return PlayerInfo;
		})()
	}

	return JoinInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/LeaveInfo.as=======199.998500/199.998500
//class platform.info.LeaveInfo
var LeaveInfo=(function(){
	function LeaveInfo(){
		this.openid=null;
		this.reason=0;
	}

	__class(LeaveInfo,'platform.info.LeaveInfo');
	return LeaveInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/loginRsData.as=======199.998499/199.998499
/**
*...
*@author
*/
//class platform.info.loginRsData
var loginRsData=(function(){
	function loginRsData(){
		this.userId=null;
		this.unionUserId=null;
		this.nickName=null;
		this.avatarUrl=null;
		this.spuid=null;
		this.accessToken=null;
		this.sp=null;
	}

	__class(loginRsData,'platform.info.loginRsData');
	return loginRsData;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/PushInfo.as=======199.998498/199.998498
//class platform.info.PushInfo
var PushInfo=(function(){
	function PushInfo(){
		this.ack=0;
		this.fin=0;
		this.f=null;
	}

	__class(PushInfo,'platform.info.PushInfo');
	return PushInfo;
})()


;
	//file:///H:/work/sniper/Platform/src/platform/info/RankListInfo.as=======199.998497/199.998497
//class platform.info.RankListInfo
var RankListInfo=(function(){
	var RankItem;
	function RankListInfo(){
		this.List=null;
		this.RankListId=0;
	}

	__class(RankListInfo,'platform.info.RankListInfo');
	RankListInfo.__init$=function(){
		//class RankItem
		RankItem=(function(){
			function RankItem(){
				this.Rank=0;
				this.RankValue=0;
				this.UserData=null;
				this.userId=0;
			}
			__class(RankItem,'');
			return RankItem;
		})()
	}

	return RankListInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/RoomInfo.as=======199.998495/199.998495
/**
*...
*@author
*/
//class platform.info.RoomInfo
var RoomInfo=(function(){
	function RoomInfo(){
		this.gameid=0;
		this.roomname=null;
		this.ip=null;
		this.sslip=null;
		this.token=null;
		this.cr=null;
	}

	__class(RoomInfo,'platform.info.RoomInfo');
	return RoomInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/ShareInfo.as=======199.998494/199.998494
/**
*...
*@author
*/
//class platform.info.ShareInfo
var ShareInfo=(function(){
	function ShareInfo(){
		/**
		*抬头
		*/
		this.title=null;
		/**
		*描述
		*/
		this.desc=null;
		/**
		*链接URL
		*/
		this.link=null;
		/**
		*缩略图URL
		*/
		this.icon=null;
		/**
		*
		*/
		this.imgsrc=null;
		/**
		*分享给UID
		*/
		this.imgtile=null;
		/**
		*分享渠道类型
		*/
		this.custxt=null;
	}

	__class(ShareInfo,'platform.info.ShareInfo');
	return ShareInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/SyncoptInfo.as=======199.998493/199.998493
//class platform.info.SyncoptInfo
var SyncoptInfo=(function(){
	function SyncoptInfo(){
		this.code=0;
		this.ack=0;
	}

	__class(SyncoptInfo,'platform.info.SyncoptInfo');
	return SyncoptInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/UserBaseInfo.as=======199.998492/199.998492
//class platform.info.UserBaseInfo
var UserBaseInfo=(function(){
	function UserBaseInfo(){
		this.NkName=null;
		this.Avtor=0;
		this.Level=0;
		this.Grade=0;
		this.Gender=0;
		this.Money=0;
		this.MemberExpireTime=0;
		this.userId=0;
		/**NkNameInPlatform*/
		this.NKNameIP=null;
		/**AvtorInPlatform*/
		this.AvtorIP=null;
		this.regTime=null;
	}

	__class(UserBaseInfo,'platform.info.UserBaseInfo');
	var __proto=UserBaseInfo.prototype;
	__proto.setData=function(data){
		var arr=data.split(':');
		this.NkName=arr[0];
		this.Avtor=arr[1];
		this.Level=arr[2];
		this.Grade=arr[3];
		this.Money=arr[4];
		this.Gender=arr[5];
		this.MemberExpireTime=arr[6];
		this.userId=arr[7];
		this.NKNameIP=arr[8];
		this.AvtorIP=arr[9];
		this.regTime=arr[10];
	}

	return UserBaseInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/info/UserSvrInfo.as=======199.998491/199.998491
/**
*...
*@author
*/
//class platform.info.UserSvrInfo
var UserSvrInfo=(function(){
	function UserSvrInfo(){
		this.session=null;
		this.gameid=0;
		this.logindt=null;
		/**
		*服务器时间 单位s
		*/
		this.tm=0;
	}

	__class(UserSvrInfo,'platform.info.UserSvrInfo');
	return UserSvrInfo;
})()


	//file:///H:/work/sniper/Platform/src/platform/log/Logger.as=======199.998490/199.998490
/**
*...
*@author
*/
//class platform.log.Logger
var Logger=(function(){
	function Logger(){}
	__class(Logger,'platform.log.Logger');
	Logger.log=function(s){
		console.log(s);
	}

	Logger.warn=function(s){
		console.warn(s);
	}

	Logger.error=function(s){
		console.error(s);
	}

	return Logger;
})()


	//file:///H:/work/sniper/Platform/src/platform/sdk/Union_LayaBox.as=======199.998488/199.998488
/**
*...
*@author
*/
//class platform.sdk.Union_LayaBox
var Union_LayaBox=(function(){
	function Union_LayaBox(){
		this.isLayaStoreMarketReady=false;
		this.game=null;
		this.appid=0;
		this.appkey=null;
	}

	__class(Union_LayaBox,'platform.sdk.Union_LayaBox');
	var __proto=Union_LayaBox.prototype;
	Laya.imps(__proto,{"platform.sdk.IUnion":true})
	/*INTERFACE platform.sdk.IUnion */
	__proto.init=function(initObj,callback){
		this.game=initObj.game;
		this.appid=initObj.appid;
		this.appkey=initObj.appkey;
		this._loadLayaStoreMarket();
	}

	__proto._loadLayaStoreMarket=function(){
		var _$this=this;
		Browser.window.openId=this.appid
		Browser.window.openKey=this.appkey;
		var script=Browser.document.getElementById('laya8_layastoremarket_script')|| Browser.document.createElement('script');
		script.id='laya8_layastoremarket_script';
		script.onerror=function (){
			script.src=Conf.LAYASTOREMARKET_URL;
		}
		script.onload=function (){
			_$this._onLayaStoreMarketLoaded();
		}
		script.src=Conf.LAYASTOREMARKET_URL;
		Browser.document.getElementsByTagName('head')[0].appendChild(script);
	}

	__proto._onLayaStoreMarketLoaded=function(){
		Logger.log('_onLayaStoreMarketLoaded');
		if (!(Union_LayaBox.LayaStoreMarket=Browser.window['LayaBoxMarketH5'])){
			Laya.timer.once(10,this,this._onLayaStoreMarketLoaded);
			}else {
			Logger.log('StoreMarket加载完成');
			Union_LayaBox.LayaStoreMarket=Union_LayaBox.LayaStoreMarket.getInstance();
			this.isLayaStoreMarketReady=true;
		}
	}

	//});
	__proto.login=function(logindata,callback){
		var _$this=this;
		if (!this.isLayaStoreMarketReady){
			Laya.timer.once(10,this,this.login,[logindata,callback]);
			}else{
			Logger.log('LayaStoreMarket初始化完成');
			Union_LayaBox.LayaStoreMarket.login('',function(res){
				var result=JSON.parse(res);
				if (result.result==0){
					_$this.game.login((result.data),callback);
				}
				else{
					callback && callback(result);
				}
			});
		}
	}

	//instance.onStoreMarketLogin.call(instance,res);
	__proto.share=function(sharedata,callback){
		if (!this.isLayaStoreMarketReady){
			Laya.timer.once(10,this,this.share,[sharedata,callback]);
			}else{
			Logger.log('share');
			var a=Union_LayaBox.LayaStoreMarket.canShareAndFeed();
			debugger;
			Union_LayaBox.LayaStoreMarket.enterShareAndFeed(JSON.stringify(sharedata),function(res){
				debugger;
			});
		}
	}

	Union_LayaBox.LayaStoreMarket=null;
	return Union_LayaBox;
})()


	//file:///H:/work/sniper/Platform/src/platform/sdk/Union_Tencent.as=======199.998487/199.998487
/**
*...
*@author
*/
//class platform.sdk.Union_Tencent
var Union_Tencent=(function(){
	function Union_Tencent(){
		this.sdk=null;
		this.appid=0;
		/**
		*开始下载时间
		*/
		this.startDownloadTick=NaN;
		/**
		*是否初始化成功
		*/
		this.isInited=false;
		/**
		*登录重试次数
		*/
		this.retryLoginCount=0;
	}

	__class(Union_Tencent,'platform.sdk.Union_Tencent');
	var __proto=Union_Tencent.prototype;
	Laya.imps(__proto,{"platform.sdk.IUnion":true})
	/*INTERFACE platform.sdk.IUnion */
	__proto.init=function(initObj,callback){
		var _$this=this;
		this.appid=initObj.appid;
		if (Browser.window.H5jssdk){
			Logger.log(" begin download tencentSdk");
			this._onTencentSDKLoaded();
			return;
		}
		this.startDownloadTick=new Date().getTime();
		debugger;
		this.downloadTimeoutChecker();
		var script=Browser.document.getElementById('laya8_tencent_script')|| Browser.document.createElement('script');
		script.id='laya8_tencent_script';
		script.onerror=function (){
			script.src=Conf.TENCENT_SDK_URL;
		}
		script.onload=function (){
			_$this._onTencentSDKLoaded();
		}
		script.src=Conf.TENCENT_SDK_URL;
		Browser.document.getElementsByTagName('head')[0].appendChild(script);
	}

	__proto.downloadTimeoutChecker=function(){
		if (new Date().getTime()-this.startDownloadTick > 20000){
			Logger.error('下载js超时20s');
			}else{
			Laya.timer.once(3000,this,this.downloadTimeoutChecker);
		}
	}

	__proto._onTencentSDKLoaded=function(){
		var _$this=this;
		if (!(this.sdk=Browser.window.H5jssdk)){
			Laya.timer.once(10,this,this._onTencentSDKLoaded);
			}else {
			var config={
				qqappid:this.appid,
				enbaleRightDragToGoBackParams:false,
				isNeedPayToken:true,
				isNeeduserInfo:true,
				wxscope:["snsapi_userinfo","snsapi_friend","snsapi_message"],
				showMenuList:[],
				isDebug:true,
				orientation:true
			};
			this.sdk.init(config,function(){
				_$this._onTencentSDKInited()
			});
		}
	}

	__proto._onTencentSDKInited=function(){
		Logger.log('_onTencentSDKInited');
		this.isInited=true;
		Laya.timer.clear(this,this.downloadTimeoutChecker);
		this.sdk.onGameVisibilityChange(function(flag,state){
			Logger.log('游戏状态改变:'+state);
		});
	}

	//instance.onGameVisibilityChange(flag,state);
	__proto.onLoginTimeout=function(){}
	//}
	__proto.login=function(logindata,callback){
		if (!this.isInited){
			Laya.timer.once(10,this,this.login);
			}else {
			if (this.retryLoginCount > 5){
				Logger.error('网络异常,您的网络似乎出了点问题，请检查网络设置或退出重试(7)');
				return;
			}
			Laya.timer.once(3000,this,this.onLoginTimeout);
			this.retryLoginCount++;
			Logger.log('Tencent授权尝试第 '+this.retryLoginCount+'次, 当前时间:'+new Date().getTime());
			this.sdk.checkLogin(function(userInfo){
				debugger;
				},function(){
				debugger;
			});
		}
	}

	__proto.share=function(sharedata,callback){}
	return Union_Tencent;
})()


	//file:///H:/work/sniper/Platform/src/platform/utils/Method.as=======199.998486/199.998486
/**
*...
*@author
*/
//class platform.utils.Method
var Method=(function(){
	function Method(){}
	__class(Method,'platform.utils.Method');
	Method.isSSL=function(){
		var isSSL=Browser.window.location.protocol=="https:";
		return isSSL;
	}

	return Method;
})()


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/Sheet.as=======99.999422/99.999422
/**
*数据表，由excel导出的表数据，以数组方式存储，可以通过add，del，update增加删除更新
*如果excel里面有id字段，则会用ID作为key索引，通过getByID(id)查询，否则可以通过get(index)查询
*/
//class laya.data.Sheet extends Array
var Sheet=(function(_super){
	function Sheet(name){
		/**表名称*/
		this.name=null;
		/**@private */
		this._table=null;
		/**@private ID索引*/
		this._map={};
		Sheet.__super.call(this);
		this.name=name;
	}

	__class(Sheet,'laya.data.Sheet',Array);
	var __proto=Sheet.prototype;
	/**
	*向表里面增加一条数据
	*@param data 数据
	*/
	__proto.add=function(data){
		this.push(data);
		if (data.id)this._map[data.id]=data;
		this.notify(this.name);
		Table.runTrigger(this.name,Sheet.TYPE_ADD,data);
	}

	/**
	*根据索引删除一条数据
	*/
	__proto.del=function(index){
		var data=this[index];
		this.splice(index,1);
		if (data && this._map[data.id])this._map[data.id]=null;
		this.notify(this.name);
		Table.runTrigger(this.name,Sheet.TYPE_DEL,data);
		return data;
	}

	/**派发一个事件*/
	__proto.notify=function(key){
		this._table && this._table.notify(key);
	}

	/**
	*更新表数据
	*/
	__proto.change=function(index,key,changeValue){
		var data=this[index];
		if (data && data.hasOwnProperty(key)){
			if ((typeof changeValue=='number')){
				data[key]+=changeValue;
				}else {
				data[key]=changeValue;
			}
			this.notify(this.name);
			Table.runTrigger(this.name,Sheet.TYPE_CHANGE,data,key);
		}
	}

	/**
	*根据索引获取一条数据
	*/
	__proto.get=function(index){
		return this[index];
	}

	/**
	*根据ID获取一条数据，如果没找到，则返回为空
	*/
	__proto.getByID=function(id){
		return this._map[id];
	}

	Sheet.load=function(url,complete){
		Table.I.load(url,complete);
	}

	Sheet.get=function(sheetName){
		return Table.I.get(sheetName);
	}

	Sheet.has=function(sheetName){
		return Table.I.has(sheetName);
	}

	Sheet.getData=function(sheetName,index){
		return Table.I.getData(sheetName,index);
	}

	Sheet.getByID=function(sheetName,id){
		return Table.I.getByID(sheetName,id);
	}

	Sheet.createByID=function(sheetName,id){
		return Table.I.createByID(sheetName,id);
	}

	Sheet.notify=function(key){
		Table.I.notify(key);
	}

	Sheet.TYPE_ADD=0;
	Sheet.TYPE_DEL=1;
	Sheet.TYPE_CHANGE=2;
	return Sheet;
})(Array)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Node.as=======98.999983/98.999983
/**
*<code>Node</code> 类是可放在显示列表中的所有对象的基类。该显示列表管理 Laya 运行时中显示的所有对象。使用 Node 类排列显示列表中的显示对象。Node 对象可以有子显示对象。
*/
//class laya.display.Node extends laya.events.EventDispatcher
var Node=(function(_super){
	function Node(){
		/**@private */
		this._bits=0;
		/**@private 父节点对象*/
		this._parent=null;
		/**节点名称。*/
		this.name="";
		/**[只读]是否已经销毁。对象销毁后不能再使用。*/
		this.destroyed=false;
		//TODO?
		this.data=null;
		/**@private */
		this._components=null;
		/**@private */
		this._scene=null;
		/**@private */
		this._active=true;
		/**@private */
		this._activeInHierarchy=false;
		Node.__super.call(this);
		this._children=Node.ARRAY_EMPTY;
		this.createGLBuffer();
	}

	__class(Node,'laya.display.Node',_super);
	var __proto=Node.prototype;
	__proto.createGLBuffer=function(){}
	/**@private */
	__proto._setBit=function(type,value){
		if (type===0x01){
			var preValue=this._getBit(type);
			if (preValue !=value)this._updateDisplayedInstage();
		}
		if (value)this._bits |=type;
		else this._bits &=~type;
	}

	/**@private */
	__proto._getBit=function(type){
		return (this._bits & type)!=0;
	}

	/**@private */
	__proto._setUpNoticeChain=function(){
		if (this._getBit(0x01))this._setBitUp(0x01);
	}

	/**@private */
	__proto._setBitUp=function(type){
		var ele=this;
		ele._setBit(type,true);
		ele=ele._parent;
		while (ele){
			if (ele._getBit(type))return;
			ele._setBit(type,true);
			ele=ele._parent;
		}
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		if (type==="display" || type==="undisplay"){
			if (!this._getBit(0x01))this._setBitUp(0x01);
		}
		return this._createListener(type,caller,listener,args,false);
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		if (type==="display" || type==="undisplay"){
			if (!this._getBit(0x01))this._setBitUp(0x01);
		}
		return this._createListener(type,caller,listener,args,true);
	}

	/**
	*<p>销毁此对象。destroy对象默认会把自己从父节点移除，并且清理自身引用关系，等待js自动垃圾回收机制回收。destroy后不能再使用。</p>
	*<p>destroy时会移除自身的事情监听，自身的timer监听，移除子对象及从父节点移除自己。</p>
	*@param destroyChild （可选）是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._destroyAllComponent();
		this.destroyed=true;
		this._parent && this._parent.removeChild(this);
		if (this._children){
			if (destroyChild)this.destroyChildren();
			else this.removeChildren();
		}
		this._children=null;
		this.offAll();
	}

	/**
	*销毁所有子对象，不销毁自己本身。
	*/
	__proto.destroyChildren=function(){
		if (this._children){
			for (var i=this._children.length-1;i >-1;i--){
				this._children[i].destroy(true);
			}
		}
	}

	/**
	*添加子节点。
	*@param node 节点对象
	*@return 返回添加的节点
	*/
	__proto.addChild=function(node){
		if (!node || this.destroyed || node===this)return node;
		if ((node)._zOrder)this._setBit(0x02,true);
		if (node._parent===this){
			var index=this.getChildIndex(node);
			if (index!==this._children.length-1){
				this._children.splice(index,1);
				this._children.push(node);
				this._childChanged();
			}
			}else {
			node._parent && node._parent.removeChild(node);
			this._children===Node.ARRAY_EMPTY && (this._children=[]);
			this._children.push(node);
			node._setParent(this);
			this._childChanged();
		}
		return node;
	}

	/**
	*批量增加子节点
	*@param ...args 无数子节点。
	*/
	__proto.addChildren=function(__args){
		var args=arguments;
		var i=0,n=args.length;
		while (i < n){
			this.addChild(args[i++]);
		}
	}

	/**
	*添加子节点到指定的索引位置。
	*@param node 节点对象。
	*@param index 索引位置。
	*@return 返回添加的节点。
	*/
	__proto.addChildAt=function(node,index){
		if (!node || this.destroyed || node===this)return node;
		if ((node)._zOrder)this._setBit(0x02,true);
		if (index >=0 && index <=this._children.length){
			if (node._parent===this){
				var oldIndex=this.getChildIndex(node);
				this._children.splice(oldIndex,1);
				this._children.splice(index,0,node);
				this._childChanged();
				}else {
				node._parent && node._parent.removeChild(node);
				this._children===Node.ARRAY_EMPTY && (this._children=[]);
				this._children.splice(index,0,node);
				node._setParent(this);
			}
			return node;
			}else {
			throw new Error("appendChildAt:The index is out of bounds");
		}
	}

	/**
	*根据子节点对象，获取子节点的索引位置。
	*@param node 子节点。
	*@return 子节点所在的索引位置。
	*/
	__proto.getChildIndex=function(node){
		return this._children.indexOf(node);
	}

	/**
	*根据子节点的名字，获取子节点对象。
	*@param name 子节点的名字。
	*@return 节点对象。
	*/
	__proto.getChildByName=function(name){
		var nodes=this._children;
		if (nodes){
			for (var i=0,n=nodes.length;i < n;i++){
				var node=nodes[i];
				if (node.name===name)return node;
			}
		}
		return null;
	}

	/**
	*根据子节点的索引位置，获取子节点对象。
	*@param index 索引位置
	*@return 子节点
	*/
	__proto.getChildAt=function(index){
		return this._children[index] || null;
	}

	/**
	*设置子节点的索引位置。
	*@param node 子节点。
	*@param index 新的索引。
	*@return 返回子节点本身。
	*/
	__proto.setChildIndex=function(node,index){
		var childs=this._children;
		if (index < 0 || index >=childs.length){
			throw new Error("setChildIndex:The index is out of bounds.");
		};
		var oldIndex=this.getChildIndex(node);
		if (oldIndex < 0)throw new Error("setChildIndex:node is must child of this object.");
		childs.splice(oldIndex,1);
		childs.splice(index,0,node);
		this._childChanged();
		return node;
	}

	/**
	*@private
	*子节点发生改变。
	*@param child 子节点。
	*/
	__proto._childChanged=function(child){}
	/**
	*删除子节点。
	*@param node 子节点
	*@return 被删除的节点
	*/
	__proto.removeChild=function(node){
		if (!this._children)return node;
		var index=this._children.indexOf(node);
		return this.removeChildAt(index);
	}

	/**
	*从父容器删除自己，如已经被删除不会抛出异常。
	*@return 当前节点（ Node ）对象。
	*/
	__proto.removeSelf=function(){
		this._parent && this._parent.removeChild(this);
		return this;
	}

	/**
	*根据子节点名字删除对应的子节点对象，如果找不到不会抛出异常。
	*@param name 对象名字。
	*@return 查找到的节点（ Node ）对象。
	*/
	__proto.removeChildByName=function(name){
		var node=this.getChildByName(name);
		node && this.removeChild(node);
		return node;
	}

	/**
	*根据子节点索引位置，删除对应的子节点对象。
	*@param index 节点索引位置。
	*@return 被删除的节点。
	*/
	__proto.removeChildAt=function(index){
		var node=this.getChildAt(index);
		if (node){
			this._children.splice(index,1);
			node._setParent(null);
		}
		return node;
	}

	/**
	*删除指定索引区间的所有子对象。
	*@param beginIndex 开始索引。
	*@param endIndex 结束索引。
	*@return 当前节点对象。
	*/
	__proto.removeChildren=function(beginIndex,endIndex){
		(beginIndex===void 0)&& (beginIndex=0);
		(endIndex===void 0)&& (endIndex=0x7fffffff);
		if (this._children && this._children.length > 0){
			var childs=this._children;
			if (beginIndex===0 && endIndex >=childs.length-1){
				var arr=childs;
				this._children=Node.ARRAY_EMPTY;
				}else {
				arr=childs.splice(beginIndex,endIndex-beginIndex);
			}
			for (var i=0,n=arr.length;i < n;i++){
				arr[i]._setParent(null);
			}
		}
		return this;
	}

	/**
	*替换子节点。
	*@internal 将传入的新节点对象替换到已有子节点索引位置处。
	*@param newNode 新节点。
	*@param oldNode 老节点。
	*@return 返回新节点。
	*/
	__proto.replaceChild=function(newNode,oldNode){
		var index=this._children.indexOf(oldNode);
		if (index >-1){
			this._children.splice(index,1,newNode);
			oldNode._setParent(null);
			newNode._setParent(this);
			return newNode;
		}
		return null;
	}

	__proto._setParent=function(value){
		if (this._parent!==value){
			if (value){
				this._parent=value;
				this._onAdded();
				this.event("added");
				if (this._getBit(0x01)){
					this._setUpNoticeChain();
					value.displayedInStage && this._displayChild(this,true);
				}
				value._childChanged(this);
				}else {
				this._onRemoved();
				this.event("removed");
				this._parent._childChanged();
				if (this._getBit(0x01))this._displayChild(this,false);
				this._parent=value;
			}
		}
	}

	/**@private */
	__proto._updateDisplayedInstage=function(){
		var ele;
		ele=this;
		var stage=Laya.stage;
		var displayedInStage=false;
		while (ele){
			if (ele._getBit(0x01)){
				displayedInStage=ele._getBit(0x08);
				break ;
			}
			if (ele===stage || ele._getBit(0x08)){
				displayedInStage=true;
				break ;
			}
			ele=ele._parent;
		}
		this._setBit(0x08,displayedInStage);
	}

	/**@private */
	__proto._setDisplay=function(value){
		if (this._getBit(0x08)!==value){
			this._setBit(0x08,value);
			if (value)this.event("display");
			else this.event("undisplay");
		}
	}

	/**
	*@private
	*设置指定节点对象是否可见(是否在渲染列表中)。
	*@param node 节点。
	*@param display 是否可见。
	*/
	__proto._displayChild=function(node,display){
		var childs=node._children;
		if (childs){
			for (var i=0,n=childs.length;i < n;i++){
				var child=childs[i];
				if (!child._getBit(0x01))continue ;
				if (child._children.length > 0){
					this._displayChild(child,display);
					}else {
					child._setDisplay(display);
				}
			}
		}
		node._setDisplay(display);
	}

	/**
	*当前容器是否包含指定的 <code>Node</code> 节点对象 。
	*@param node 指定的 <code>Node</code> 节点对象 。
	*@return 一个布尔值表示是否包含指定的 <code>Node</code> 节点对象 。
	*/
	__proto.contains=function(node){
		if (node===this)return true;
		while (node){
			if (node._parent===this)return true;
			node=node._parent;
		}
		return false;
	}

	/**
	*定时重复执行某函数。功能同Laya.timer.timerLoop()。
	*@param delay 间隔时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次
	*/
	__proto.timerLoop=function(delay,caller,method,args,coverBefore,jumpFrame){
		(coverBefore===void 0)&& (coverBefore=true);
		(jumpFrame===void 0)&& (jumpFrame=false);
		var timer=this.scene ? this.scene.timer :Laya.renderTimer;
		timer.loop(delay,caller,method,args,coverBefore,jumpFrame);
	}

	/**
	*定时执行某函数一次。功能同Laya.timer.timerOnce()。
	*@param delay 延迟时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*/
	__proto.timerOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		var timer=this.scene ? this.scene.timer :Laya.renderTimer;
		timer._create(false,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行某函数(基于帧率)。功能同Laya.timer.frameLoop()。
	*@param delay 间隔几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*/
	__proto.frameLoop=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		var timer=this.scene ? this.scene.timer :Laya.renderTimer;
		timer._create(true,true,delay,caller,method,args,coverBefore);
	}

	/**
	*定时执行一次某函数(基于帧率)。功能同Laya.timer.frameOnce()。
	*@param delay 延迟几帧(单位为帧)。
	*@param caller 执行域(this)
	*@param method 结束时的回调方法
	*@param args （可选）回调参数
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true
	*/
	__proto.frameOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		var timer=this.scene ? this.scene.timer :Laya.renderTimer;
		timer._create(true,false,delay,caller,method,args,coverBefore);
	}

	/**
	*清理定时器。功能同Laya.timer.clearTimer()。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*/
	__proto.clearTimer=function(caller,method){
		var timer=this.scene ? this.scene.timer :Laya.renderTimer;
		timer.clear(caller,method);
	}

	/**
	*@private
	*/
	__proto._onActive=function(){}
	/**
	*@private
	*/
	__proto._onInActive=function(){}
	/**
	*@private
	*/
	__proto._onActiveInScene=function(){}
	/**
	*@private
	*/
	__proto._onInActiveInScene=function(){}
	/**
	*@private
	*/
	__proto._parse=function(data,innerResouMap){}
	/**
	*@private
	*/
	__proto._afterInited=function(){
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				this._components[i]._doAwake();
			}
		}
	}

	/**
	*@private
	*/
	__proto._setBelongScene=function(scene){
		this._scene=scene;
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++)
			this._components[i]._setActiveInScene(true);
		}
		this._onActiveInScene();
		for (var i=0,n=this._children.length;i < n;i++)
		this._children[i]._setBelongScene(scene);
	}

	/**
	*@private
	*/
	__proto._setUnBelongScene=function(){
		this._onInActiveInScene();
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++)
			this._components[i]._setActiveInScene(false);
		}
		this._scene=null;
		for (var i=0,n=this._children.length;i < n;i++)
		this._children[i]._setUnBelongScene();
	}

	/**
	*@private
	*/
	__proto._activeHierarchy=function(){
		this._activeInHierarchy=true;
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++)
			this._components[i]._setActive(true);
		}
		this._onActive();
		for (i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			(child._active)&& (child._activeHierarchy());
		}
	}

	/**
	*@private
	*/
	__proto._inActiveHierarchy=function(){
		this._onInActive();
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++)
			this._components[i]._setActive(false);
		}
		this._activeInHierarchy=false;
		for (i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			(child._active)&& (child._inActiveHierarchy());
		}
	}

	/**
	*@private
	*/
	__proto._onAdded=function(){
		var scene=this._parent.scene;
		scene && this._setBelongScene(scene);
		(this._parent.activeInHierarchy && this._active)&& this._activeHierarchy();
	}

	/**
	*@private
	*/
	__proto._onRemoved=function(){
		(this._parent.activeInHierarchy && this._active)&& this._inActiveHierarchy();
		this._parent.scene && this._setUnBelongScene();
	}

	/**
	*@private
	*/
	__proto._addComponentInstance=function(comp,customAdded){
		(customAdded===void 0)&& (customAdded=true);
		this._components=this._components|| [];
		this._components.push(comp);
		comp._owner=this;
		comp._customAdded=customAdded;
		comp._added();
		this.activeInHierarchy && comp._setActive(true);
		this._scene && comp._setActiveInScene(true);
	}

	/**
	*@private
	*/
	__proto._destroyComponent=function(comp){
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				var item=this._components[i];
				if (item===comp){
					item._destroy();
					this._components.splice(i,1);
					break ;
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._destroyAllComponent=function(){
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				var item=this._components[i];
				item._destroy();
			}
			this._components.length=0;
		}
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto._cloneTo=function(destObject){
		var destNode=destObject;
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				var destComponent=destNode.addComponent(this._components[i].constructor);
				this._components[i]._cloneTo(destComponent);
			}
		}
	}

	/**
	*添加组件。
	*@param comp 组件类型。
	*@return 组件。
	*/
	__proto.addComponent=function(type){
		var comp=new type();
		if (comp.isSingleton && this.getComponent(type))
			throw "无法实例"+type+"组件"+"，"+type+"组件已存在！";
		this._addComponentInstance(comp,true);
		return comp;
	}

	/**
	*获得组件实例，如果没有则返回为null
	*@param clas 组建类型
	*@return 返回组件
	*/
	__proto.getComponent=function(clas){
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				var comp=this._components[i];
				if (Laya.__typeof(comp,clas))
					return comp;
			}
		}
		return null;
	}

	/**
	*获得组件实例，如果没有则返回为null
	*@param clas 组建类型
	*@return 返回组件数组
	*/
	__proto.getComponents=function(clas){
		var arr;
		if (this._components){
			for (var i=0,n=this._components.length;i < n;i++){
				var comp=this._components[i];
				if (Laya.__typeof(comp,clas)){arr=arr|| [];
					arr.push(comp);
				}
			}
		}
		return arr;
	}

	/**
	*子对象数量。
	*/
	__getset(0,__proto,'numChildren',function(){
		return this._children.length;
	});

	/**父节点。*/
	__getset(0,__proto,'parent',function(){
		return this._parent;
	});

	/**
	*获取在场景中是否激活。
	*@return 在场景中是否激活。
	*/
	__getset(0,__proto,'activeInHierarchy',function(){
		return this._activeInHierarchy;
	});

	/**
	*设置是否激活。
	*@param value 是否激活。
	*/
	/**
	*获取自身是否激活。
	*@return 自身是否激活。
	*/
	__getset(0,__proto,'active',function(){
		return this._active;
		},function(value){
		if (this._active!==value){
			this._active=value;
			if (this._parent){
				if (this._parent.activeInHierarchy){
					if (value)
						this._activeHierarchy();
					else
					this._inActiveHierarchy();
				}
			}
		}
	});

	/**表示是否在显示列表中显示。*/
	__getset(0,__proto,'displayedInStage',function(){
		if (this._getBit(0x01))return this._getBit(0x08);
		this._setBitUp(0x01);
		return this._getBit(0x08);
	});

	/**
	*获得所属场景。
	*@return 场景。
	*/
	__getset(0,__proto,'scene',function(){
		return this._scene;
	});

	Node.ARRAY_EMPTY=[];
	Node.PROP_EMPTY={};
	return Node;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/src/db/BagData.as=======98.999967/98.999967
//class db.BagData extends laya.data.MessageBase
var BagData=(function(_super){
	function BagData(){
		this._id=null;
		this._name=null;
		this._itemId=NaN;
		this._num=NaN;
		this._type=NaN;
		BagData.__super.call(this);
	}

	__class(BagData,'db.BagData',_super);
	var __proto=BagData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Bag."+prop);
		Sheet.notify("Bag");
	}

	/**
	*ID
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
		},function(value){
		this._id=value;
		this.notify("id");
	});

	/**
	*名称
	*/
	__getset(0,__proto,'name',function(){
		return this._name;
		},function(value){
		this._name=value;
		this.notify("name");
	});

	/**
	*数量
	*/
	__getset(0,__proto,'num',function(){
		return this._num;
		},function(value){
		this._num=value;
		this.notify("num");
	});

	/**
	*物品ID
	*/
	__getset(0,__proto,'itemId',function(){
		return this._itemId;
		},function(value){
		this._itemId=value;
		this.notify("itemId");
	});

	/**
	*类型
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
		},function(value){
		this._type=value;
		this.notify("type");
	});

	BagData.sheet=function(){
		return Sheet.get("Bag");
	}

	BagData.getData=function(id){
		return Sheet.getData("Bag",id);
	}

	BagData.getByID=function(id){
		return Sheet.getByID("Bag",id);
	}

	BagData.ID_FIELD="id";
	BagData.NAME_FIELD="name";
	BagData.ITEMID_FIELD="itemId";
	BagData.NUM_FIELD="num";
	BagData.TYPE_FIELD="type";
	__static(BagData,
	['DES',function(){return this.DES=[
		["id",9],
		["name",9],
		["itemId",6],
		["num",4],
		["type",2]];}
	]);
	return BagData;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/db/MyselfData.as=======98.999941/98.999941
//class db.MyselfData extends laya.data.MessageBase
var MyselfData=(function(_super){
	function MyselfData(){
		this._id=NaN;
		this._sex=null;
		this._name=null;
		this._posMoney=NaN;
		this._knightRank=NaN;
		this._fight=NaN;
		MyselfData.__super.call(this);
	}

	__class(MyselfData,'db.MyselfData',_super);
	var __proto=MyselfData.prototype;
	__proto.notify=function(prop){
		Sheet.notify("Myself."+prop);
		Sheet.notify("Myself");
	}

	__getset(0,__proto,'id',function(){
		return this._id;
		},function(value){
		this._id=value;
		this.notify("id");
	});

	__getset(0,__proto,'sex',function(){
		return this._sex;
		},function(value){
		this._sex=value;
		this.notify("sex");
	});

	__getset(0,__proto,'name',function(){
		return this._name;
		},function(value){
		this._name=value;
		this.notify("name");
	});

	__getset(0,__proto,'posMoney',function(){
		return this._posMoney;
		},function(value){
		this._posMoney=value;
		this.notify("posMoney");
	});

	__getset(0,__proto,'knightRank',function(){
		return this._knightRank;
		},function(value){
		this._knightRank=value;
		this.notify("knightRank");
	});

	__getset(0,__proto,'fight',function(){
		return this._fight;
		},function(value){
		this._fight=value;
		this.notify("fight");
	});

	MyselfData.sheet=function(){
		return Sheet.get("Myself");
	}

	MyselfData.getData=function(id){
		return Sheet.getData("Myself",id);
	}

	MyselfData.getByID=function(id){
		return Sheet.getByID("Myself",id);
	}

	__static(MyselfData,
	['DES',function(){return this.DES=[
		["id",4],
		["sex",9],
		["name",9],
		["posMoney",6],
		["knightRank",2],
		["fight",4]];}
	]);
	return MyselfData;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/events/GameEvent.as=======98.999917/98.999917
/**
*事件
*@author CuiXueying
*/
//class events.GameEvent extends laya.events.EventDispatcher
var GameEvent=(function(_super){
	function GameEvent(){
		GameEvent.__super.call(this);
	}

	__class(GameEvent,'events.GameEvent',_super);
	GameEvent.PAGE_LOADING="page_loading";
	GameEvent.PAGE_HALL="page_hanll";
	GameEvent.PAGE_MATCH="page_match";
	GameEvent.PAGE_VS="page_vs";
	GameEvent.PAGE_BAG="page_bag";
	GameEvent.ROOM_MSG_CHANGE="room_msg_change";
	GameEvent.VS_PRO_CHANGE="vs_pro_change";
	GameEvent.TIME_DAOJISHI="time_daojishi";
	GameEvent.PAGE_VICTORY="page_victory";
	GameEvent.VICTORY_MSG="victory_msg";
	GameEvent.LOAD_SCENE_COMPLETE="LOAD_SCENE_COMPLETE";
	GameEvent.LOAD_AVATAR_COMPLETE="LOAD_AVATAR_COMPLETE";
	return GameEvent;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/src/extend/Attribute.as=======98.999916/98.999916
//class extend.Attribute extends laya.events.EventDispatcher
var Attribute=(function(_super){
	function Attribute(){
		this.hp=0;
		this.maxHp=NaN;
		this.name=null;
		this.level=0;
		this.atk=NaN;
		//攻击
		this.defence=NaN;
		//防御
		this.headArmor=NaN;
		//头部护甲
		this.bodyArmor=NaN;
		//身体护甲
		this.hit=NaN;
		//命中
		this.skillLevels={};
		this.skillCD={};
		this.propertyDefine=null;
		Attribute.__super.call(this);
		this.bind(this,"");
	}

	__class(Attribute,'extend.Attribute',_super);
	var __proto=Attribute.prototype;
	// }
	__proto.initByConfig=function(id){
		this.propertyDefine=Sheet.getByID('Property',""+id);
		this.hp=this.maxHp=this.propertyDefine.HP;
		this.atk=this.propertyDefine.attack;
		this.defence=this.propertyDefine.defense;
		this.headArmor=this.propertyDefine.headArmor;
		this.bodyArmor=this.propertyDefine.bodyArmor;
	}

	__proto.bind=function(owner,name){}
	// }
	__proto.addSkillCD=function(id,cd){
		this.skillCD[id]=cd;
	}

	__proto.getSkillCD=function(id){
		return this.skillCD[id];
	}

	__proto.canPlaySkill=function(id){
		var cd=this.skillCD [id];
		if (!cd){
			return true;
		}
		return cd.canPlay();
	}

	__proto.setSkillLevel=function(id,level){
		this.skillLevels[id]=level;
		var cd=this.getSkillCD(id);
		if (cd){
			var skillData=Sheet.getByID("SkillData",this.skillID2LevelID(id));
			if (skillData){
				cd.cd=skillData.skill_cd;
			}
		}
	}

	__proto.skillID2LevelID=function(id){
		return id+'00'+this.skillLevels[id]
	}

	return Attribute;
})(EventDispatcher)


	//file:///H:/work/sniper/layaLib/src/laya/libs/plugin/PluginBoard.as=======98.999855/98.999855
/**
*插件管理器，实现了基于插件的扩展方式
*/
//class laya.libs.plugin.PluginBoard extends laya.events.EventDispatcher
var PluginBoard=(function(_super){
	function PluginBoard(){
		//todo:插件需要支持通过类型来获取，并且同一类型会有多个插件
		this._plugins=[];
		this._isInitComplete=false;
		this._recoverName="";
		PluginBoard.__super.call(this);
	}

	__class(PluginBoard,'laya.libs.plugin.PluginBoard',_super);
	var __proto=PluginBoard.prototype;
	Laya.imps(__proto,{"laya.libs.recover.Irecovery":true})
	__proto.onConstruct=function(){
		this._isInitComplete=false;
	}

	/**
	*析构函数：销毁的处理
	*
	*/
	__proto.onDestruct=function(){
		this.onRelease();
		this.removeAllPlugin();
		this.offAll();
	}

	/**
	*销毁回收
	*/
	__proto.recovery=function(){
		CycleFactory.recoveryObject(this);
	}

	__proto.doInitPlugin=function(){
		this._isInitComplete=true;
		var i=0;
		var len=this._plugins.length;
		for(;i<len;i++){
			(this._plugins [i]).onInit();
		}
		this.onInit();
	}

	__proto.onInit=function(){}
	/**
	*释放
	*/
	__proto.onRelease=function(){}
	/**
	*根据名称添加插件
	*@param bindProperty 绑定属性
	*@param name
	*@return
	*
	*/
	__proto.addPluginByName=function(name,bindProperty,param){
		(bindProperty===void 0)&& (bindProperty='');
		var plugin=CycleFactory.createObject(name);
		if(bindProperty){
			plugin.bindProperty=bindProperty;
		}
		return this.addPlugin(plugin,param);
	}

	/**
	*添加插件
	*@param bindProperty 绑定属性名称
	*@param plugin 插件
	*@param param 插件参数
	*@return
	*/
	__proto.addPlugin=function(plugin,param){
		if(!plugin)return null;
		if(param){
			for(var key in param){
				plugin[key]=param[key];
			}
		}
		this._plugins.push(plugin);
		plugin.reg(this);
		this[plugin.bindProperty]=plugin;
		if(this._isInitComplete){
			plugin.onInit();
		}
		return plugin;
	}

	/**
	*移除插件，移除后，插件会被回收到对象池
	*@param plugin 插件
	*/
	__proto.removePlugin=function(plugin){
		var index=this._getPluginIndex(plugin);
		if (index!==-1){
			this._plugins.splice(index,1);
			plugin.recovery();
		}
	}

	/**
	*移除所有插件，移除后，插件会被回收到对象池
	*/
	__proto.removeAllPlugin=function(){
		if (this._plugins.length==0)return;
		for (var i=this._plugins.length-1;i >-1;i--){
			var plugin=this._plugins[i];
			plugin.recovery();
		}
		this._plugins.length=0;
	}

	/**
	*是否有某个插件
	*@param plugin 是否拥有某个插件实例
	*@return 返回是否存在某个插件
	*/
	__proto.hasPlugin=function(plugin){
		return this._getPluginIndex(plugin)!==-1;
	}

	__proto._getPluginIndex=function(plugin){
		for (var i=this._plugins.length-1;i >-1;i--){
			if (this._plugins[i]===plugin){
				return i;
			}
		}
		return-1;
	}

	__proto.getPluginByType=function(type){
		for (var i=this._plugins.length-1;i >-1;i--){
			if (this._plugins [i]){
				return this._plugins[i];
			}
		}
		return null;
	}

	__proto.getPlugin=function(name){
		return this[name];
	}

	__getset(0,__proto,'recoverName',function(){
		return this._recoverName;
		},function(value){
		this._recoverName=value;
	});

	__getset(0,__proto,'isRecovery',function(){
		return !this._recoverName;
	});

	return PluginBoard;
})(EventDispatcher)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/buff/Buff.as=======98.999843/98.999843
/**
*buff实例
*@author wulongbin
*
*/
//class laya.game.client.buff.Buff extends laya.libs.recover.BaseRecovery
var Buff=(function(_super){
	function Buff(){
		this.configData=null;
		this.timeParam=null;
		this.loopCount=NaN;
		this.parent=null;
		this.overTimer=NaN;
		this.param=null;
		//自定义属性
		this.customData=null;
		Buff.__super.call(this);
	}

	__class(Buff,'laya.game.client.buff.Buff',_super);
	var __proto=Buff.prototype;
	__proto.init=function(parent,data,custom){
		this.parent=parent;
		this.configData=data;
		this.param=data.param;
		this.customData=custom;
		this.timeParam=SheetUtil$1.decode2ArrayInt(data.timeParam);
		if(data.timeType=='count'){
			this.loopCount=this.timeParam[0];
		}
		else{
			this.overTimer=parent.timer.currTimer+this.timeParam[0];
		}
		this.doInit();
	}

	__proto.doInit=function(){}
	__proto.start=function(){
		this.doStart();
		if(this.configData.timeType=='count'){
			this.parent.timer.loop(this.timeParam[1],this,this.loop);
			this.loop();
		}
	}

	__proto.canCreate=function(data){
		return true;
	}

	__proto.loop=function(){
		if(this.loopCount>0){
			this.doLoop();
			this.loopCount--;
		}
	}

	__proto.over=function(){
		if(this.configData.timeType=='count'){
			this.parent.timer.clear(this,this.loop);
		}
		this.doOver();
	}

	__proto.checkIsOver=function(){
		if(this.configData.timeType=='count'){
			return this.loopCount==0;
		}
		else{
			return this.overTimer <this.parent.timer.currTimer;
		}
	}

	__proto.doStart=function(){
		if(this.configData.begin)
			ScriptManager.instance.createScript(this.configData.begin).run(this.createScriptContext(this.parent.character));
	}

	__proto.doLoop=function(){
		if(this.configData.loop)
			ScriptManager.instance.createScript(this.configData.loop).run(this.createScriptContext(this.parent.character));
	}

	__proto.doOver=function(){
		if(this.configData.end)
			ScriptManager.instance.createScript(this.configData.end).run(this.createScriptContext(this.parent.character));
	}

	/**
	*创建脚本上下文
	*@param target
	*@param from
	*@return
	*
	*/
	__proto.createScriptContext=function(target){
		var scriptContext=CycleFactory.createObject2(BaseScriptContext);
		scriptContext.setTarget(target);
		return scriptContext;
	}

	return Buff;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/plugin/Plugin.as=======98.999821/98.999821
/**
*插件基类
*/
//class laya.libs.plugin.Plugin extends laya.libs.recover.BaseRecovery
var Plugin=(function(_super){
	function Plugin(){
		this._$1__recoverName=null;
		this._bindProperty='';
		/**插件主体对象*/
		this.owner=null;
		/**插件参数*/
		this.param=null;
		Plugin.__super.call(this);
	}

	__class(Plugin,'laya.libs.plugin.Plugin',_super);
	var __proto=Plugin.prototype;
	Laya.imps(__proto,{"laya.libs.plugin.IPlugin":true})
	__proto.onConstruct=function(){
		this.resetProperty();
	}

	/**@private 注册到某个对象身上 */
	__proto.reg=function(owner,param){
		this.owner=owner;
		this.param=param;
	}

	__proto.resetProperty=function(){
		throw 'override this';
	}

	/**初始化*/
	__proto.onInit=function(){}
	/**
	*释放
	*/
	__proto.onRelease=function(){}
	__proto.onDestruct=function(){
		this.onRelease();
		if(this.bindProperty){
			this.owner[this.bindProperty]=null;
			this._bindProperty='';
		}
		this.param=null;
		this.owner=null;
	}

	/**
	*监听对象属性，如果对象属性发生变化，则调用回调事件
	*宿主销毁后，监听自动移除
	*@param target 目标对象
	*@param prop 目标对象属性
	*@param caller 回调主题
	*@param method 回调函数
	*@param args 回调参数
	*/
	__proto.listen=function(target,method){
		target.on(this,method);
	}

	__proto.off=function(caller,method,data){
		this.owner.off(this._bindProperty,caller,method);
	}

	__proto.on=function(caller,method,data){
		this.owner.on(this._bindProperty,caller,method);
	}

	__proto.event=function(){
		if(this._bindProperty){
			this.owner.event(this._bindProperty);
		}
	}

	/**
	*@private
	*/
	/**插件绑定属性**/
	__getset(0,__proto,'bindProperty',function(){
		return this._bindProperty;
		},function(value){
		this._bindProperty=value;
	});

	return Plugin;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/components/Script.as=======98.999821/98.999821
/**
*<code>Script</code> 类用于创建脚本的父类,该类为抽象类,不允许实例。
*/
//class laya.components.Script extends laya.components.Component
var Script=(function(_super){
	function Script(){
		Script.__super.call(this);;
	}

	__class(Script,'laya.components.Script',_super);
	var __proto=Script.prototype;
	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		this.awake();
		Laya.startTimer.callLater(this,this.start);
	}

	/**
	*@private
	*/
	__proto._onEnable=function(){
		var proto=laya.components.Script.prototype;
		var rigidBody=this.owner.getComponent(ClassUtils.getClass("laya.physics.RigidBody"));
		if (rigidBody){
			var physics=Laya.Physics;
			if (physics){
				if (this.onTriggerEnter!==proto.onTriggerEnter){
					physics.I._regTrigger(this,rigidBody,0);
				}
				if (this.onTriggerStay!==proto.onTriggerStay){
					physics.I._regTrigger(this,rigidBody,1);
				}
				if (this.onTriggerExit!==proto.onTriggerExit){
					physics.I._regTrigger(this,rigidBody,2);
				}
				}else {
				console.warn("Can not find 2d physics,use physics.js first.");
			}
		}
		if (this.onMouseDown!==proto.onMouseDown){
			this.owner.on("mousedown",this,this.onMouseDown);
		}
		if (this.onMouseUp!==proto.onMouseUp){
			this.owner.on("mouseup",this,this.onMouseUp);
		}
		if (this.onClick!==proto.onClick){
			this.owner.on("click",this,this.onClick);
		}
		if (this.onDoubleClick!==proto.onDoubleClick){
			this.owner.on("doubleclick",this,this.onDoubleClick);
		}
		if (this.onRightClick!==proto.onRightClick){
			this.owner.on("rightclick",this,this.onRightClick);
		}
		if (this.onMouseMove!==proto.onMouseMove){
			this.owner.on("mousemove",this,this.onMouseMove);
		}
		if (this.onMouseOver!==proto.onMouseOver){
			this.owner.on("mouseover",this,this.onMouseOver);
		}
		if (this.onMouseOut!==proto.onMouseOut){
			this.owner.on("mouseout",this,this.onMouseOut);
		}
		if (this.onKeyDown!==proto.onKeyDown){
			Laya.stage.on("keydown",this,this.onKeyDown);
		}
		if (this.onKeyPress!==proto.onKeyPress){
			Laya.stage.on("keypress",this,this.onKeyUp);
		}
		if (this.onKeyUp!==proto.onKeyUp){
			Laya.stage.on("keyup",this,this.onKeyUp);
		}
		if (this.update!==proto.update){
			Laya.updateTimer.frameLoop(1,this,this.update);
		}
		if (this.lateUpdate!==proto.lateUpdate){
			Laya.lateTimer.frameLoop(1,this,this.lateUpdate);
		}
		if (this.onPreRender!==proto.onPreRender){
			Laya.lateTimer.frameLoop(1,this,this.lateUpdate);
		}
		this.onEnable();
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisable=function(){
		var physics=Laya.Physics;
		if(physics)physics.I._unRegTrigger(this);
		this.owner.offAllCaller(this);
		Laya.stage.offAllCaller(this);
		Laya.startTimer.clearAll(this);
		Laya.updateTimer.clearAll(this);
		Laya.lateTimer.clearAll(this);
		this.onDisable();
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		this.onDestroy();
	}

	/**
	*创建后只执行一次
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.awake=function(){}
	/**
	*每次启动后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onEnable=function(){}
	/**
	*第一次执行update之前执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.start=function(){}
	/**
	*开始碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerEnter=function(other){}
	/**
	*持续碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerStay=function(other){}
	/**
	*结束碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerExit=function(other){}
	/**
	*鼠标按下时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseDown=function(e){}
	/**
	*鼠标抬起时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseUp=function(e){}
	/**
	*鼠标点击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onClick=function(e){}
	/**
	*鼠标双击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDoubleClick=function(e){}
	/**
	*鼠标右键点击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onRightClick=function(e){}
	/**
	*鼠标移动时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseMove=function(e){}
	/**
	*鼠标经过node时触发
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseOver=function(e){}
	/**
	*鼠标离开node时触发
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseOut=function(e){}
	/**
	*键盘按下时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyDown=function(e){}
	/**
	*键盘产生一个字符时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyPress=function(e){}
	/**
	*键盘抬起时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyUp=function(e){}
	/**
	*每帧更新时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.update=function(){}
	/**
	*每帧更新时执行，在update之后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.lateUpdate=function(){}
	/**
	*渲染之前执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onPreRender=function(){}
	/**
	*渲染之后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onPostRender=function(){}
	/**
	*禁用时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDisable=function(){}
	/**
	*销毁时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDestroy=function(){}
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'isSingleton',function(){
		return false;
	});

	return Script;
})(Component)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/system/BaseExtend.as=======98.999813/98.999813
/**
*注册类
*@author wulongbin
*
*/
//class laya.game.client.system.BaseExtend extends laya.libs.recover.CycleFactory
var BaseExtend=(function(_super){
	function BaseExtend(){
		BaseExtend.__super.call(this);
		this.autoBind();
	}

	__class(BaseExtend,'laya.game.client.system.BaseExtend',_super);
	var __proto=BaseExtend.prototype;
	__proto.autoBind=function(){}
	/**
	*准备阶段：通常用于注册对象
	*
	*/
	__proto.ready=function(){}
	/**
	*初始阶段：通常用于根据系统信息初始特点功能
	*
	*/
	__proto.init=function(){}
	/**
	*配置阶段：根据具体配置，二次处理
	*
	*/
	__proto.config=function(){}
	return BaseExtend;
})(CycleFactory)


	//file:///H:/work/sniper/sniper/client/src/model/battle/BattleData.as=======98.999806/98.999806
//class model.battle.BattleData extends laya.events.EventDispatcher
var BattleData=(function(_super){
	function BattleData(){
		BattleData.__super.call(this);
		this.redKillNum=new NumberProxy();
		this.blueKillNum=new NumberProxy();
		this.selfCurrenHP=new NumberProxy();
		this.selfMaxHP=new NumberProxy();
		this.headShotNum=new NumberProxy();
		this.selfKillNum=new NumberProxy();
		this.selfDeadNum=new NumberProxy();
		this.multiKill=new NumberProxy();
		this.reloadTime=new NumberProxy();
		this.stopMultiKill=new BooleanProxy();
		this.enemy=new StringProxy();
		this.firstBlood=new StringProxy();
		this.revenge=new StringProxy();
	}

	__class(BattleData,'model.battle.BattleData',_super);
	var __proto=BattleData.prototype;
	__proto.init=function(){
		this.redKillNum.bindTarget(this,"redKillNum");
		this.blueKillNum.bindTarget(this,"blueKillNum");
		this.selfCurrenHP.bindTarget(this,"selfCurrenHP");
		this.selfMaxHP.bindTarget(this,"selfMaxHP");
		this.headShotNum.bindTarget(this,"headShotNum");
		this.selfKillNum.bindTarget(this,"selfKillNum");
		this.selfDeadNum.bindTarget(this,"selfDeadNum");
		this.multiKill.bindTarget(this,"multiKill");
		this.enemy.bindTarget(this,"enemy");
		this.firstBlood.bindTarget(this,"firstBlood");
		this.reloadTime.bindTarget(this,"reloadTime");
		this.revenge.bindTarget(this,"revenge");
		this.stopMultiKill.bindTarget(this,"stopMultiKill");
	}

	BattleData.REDKILLNUM="redKillNum";
	BattleData.BLUEKILLNUM="blueKillNum";
	BattleData.SELFCURRENHP="selfCurrenHP";
	BattleData.SELFMAXHP="selfMaxHP";
	BattleData.HEADSHOTNUM="headShotNum";
	BattleData.SELFKILLNUM="selfKillNum";
	BattleData.SELFDEADNUM="selfDeadNum";
	BattleData.MULTIKILL="multiKill";
	BattleData.ENEMY="enemy";
	BattleData.STOPMULTIKILL="stopMultiKill";
	BattleData.FIRSTBLOOD="firstBlood";
	BattleData.RELOADTIME="reloadTime";
	BattleData.REVENGE="revenge";
	BattleData.EVENT_KILL="kill";
	return BattleData;
})(EventDispatcher)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/Skill.as=======98.999794/98.999794
/**
*技能基类
*@author wulongbin
*
*/
//class laya.game.client.skill.Skill extends laya.libs.recover.BaseRecovery
var Skill=(function(_super){
	function Skill(){
		/**技能唯一ID号*/
		this.skillID=null;
		/**技能触发者*/
		this.caster=null;
		/**技能目标*/
		this.targets=null;
		/**技能配置*/
		this.skillData=null;
		/**扩展数据*/
		this.extendData=null;
		this.scene=null;
		this.eventDispatcher=new EventDispatcher;
		this.effects=new Array;
		Skill.__super.call(this);
	}

	__class(Skill,'laya.game.client.skill.Skill',_super);
	var __proto=Skill.prototype;
	__proto.bind=function(skillParam,caster,skillData){
		this.extendData=skillParam.extendData;
		this.targets=skillParam.targets;
		this.skillID=skillParam.skillID;
		this.caster=caster;
		this.scene=caster.scene;
		this.skillData=skillData;
		this.doPlayerSkill();
	}

	__proto.doPlayerSkill=function(){}
	/**
	*技能捕获对象：可在这儿执行伤害处理，加成处理等
	*@param target
	*@param from
	*
	*/
	__proto.capture=function(target,from){
		if(!target)return;
		if(GameSystem.skill.canImpact(this,target,from)){
			Skill.testA=true;
			GameSystem.skill.skillImpact(this,target,from);
			Skill.testA=false;
			this.doCapture(target,from);
		}
	}

	__proto.doCapture=function(target,from){}
	/**
	*技能创建对象
	*@param obj
	*@param isAddPlugin
	*
	*/
	__proto.addGameObj=function(obj,isAddPlugin){
		(isAddPlugin===void 0)&& (isAddPlugin=true);
		if(obj.parentGroupID<0){
			obj.parentGroupID=this.caster.groupID;
		}
		obj.on('Remove',this,this.removeGameObj);
		this.effects.push(obj);
	}

	/**
	*技能移除创建对象
	*@param obj
	*
	*/
	__proto.removeGameObj=function(obj){
		var index=this.effects.indexOf(obj);
		if(index>=0){
			obj.off('Remove',this,this.removeGameObj);
			this.effects.splice(index,1);
			this.caster.scene.timer.callLater(this,this.onEventCheckFree);
		}
	}

	/**
	*判断技能是否空闲
	*@return
	*
	*/
	__proto.checkIsFree=function(){
		return false;
	}

	/**
	*抛出检测技能空闲事件
	*
	*/
	__proto.onEventCheckFree=function(){
		if(this.eventDispatcher.hasListener('CheckFree')){
			this.eventDispatcher.event('CheckFree');
		}
	}

	/**
	*等待技能空闲
	*@param cb
	*
	*/
	__proto.waitFree=function(cb){
		var _$this=this;
		function onCheckEffect (){
			if(_$this.checkIsFree()){
				_$this.eventDispatcher.off('CheckFree',_$this,onCheckEffect);
				cb&&cb.run();
			}
		}
		this.eventDispatcher.on('CheckFree',this,onCheckEffect);
		onCheckEffect();
	}

	/**
	*销毁自身
	*
	*/
	__proto.destoryMe=function(){
		SkillManager.instance.removeSkill(this.skillID);
	}

	/**
	*销毁处理
	*
	*/
	__proto.onDestruct=function(){
		var i=0;
		var len=this.effects.length;
		if(len>0){
			for(;i<len;i++){
				this.effects[i].off('Remove',this,this.removeGameObj);
				this.effects[i].destroyMe();
			}
			this.effects.length=0;
		}
		this.targets=null;
		this.caster=null;
		this.skillData=null;
		this.extendData=null;
	}

	Skill.playSkill=function(casterID,skillConfigID,extendData,targets){
		var skillParam=Skill.skillMananger.onceSkillParam();
		skillParam.clear()
		.setData(skillConfigID,casterID)
		.setOther(extendData,targets);
		Skill.skillMananger.createSkill(skillParam);
	}

	Skill.Event_CheckFree='CheckFree';
	Skill.Event_Destory='dectory';
	Skill.testA=false;
	__static(Skill,
	['skillMananger',function(){return this.skillMananger=SkillManager.instance;}
	]);
	return Skill;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/BaseScriptContext.as=======98.999791/98.999791
//class laya.game.client.skill.BaseScriptContext extends laya.libs.recover.BaseRecovery
var BaseScriptContext=(function(_super){
	function BaseScriptContext(){
		/**脚本目标对象*/
		this.target=null;
		this.scene=null;
		this.createGameObjParam=null;
		BaseScriptContext.__super.call(this);
		this.createGameObjParam=new GameObjParamByScript;
		this.createGameObjParam.context=this;
	}

	__class(BaseScriptContext,'laya.game.client.skill.BaseScriptContext',_super);
	var __proto=BaseScriptContext.prototype;
	__proto.onDestruct=function(){
		this.target=null;
		this.scene=null;
	}

	__proto.setTarget=function(target){
		this.target=target;
		this.scene=(this.target).scene;
		this.createGameObjParam.scene=this.scene;
	}

	__proto.getGameObjParam=function(){
		return this.createGameObjParam;
	}

	/**
	*创建对象
	*@param bindTarget 父容器
	*@param isChildNode
	*@param id
	*@param sheet
	*@param offx
	*@param offy
	*@param offz
	*@param offAngle
	*@return
	*
	*/
	__proto.create=function(id,sheet,parent,layerName){
		(sheet===void 0)&& (sheet="");
		(layerName===void 0)&& (layerName='');
		var param=this.getGameObjParam();
		var obj=param.clear()
		.setConfig(id,sheet)
		.setNode(parent)
		.setOther(this.target.faceAngle,layerName)
		.create();
		return obj;
	}

	__proto.ceateStaticEffect=function(id,node){
		var eff=StaticEffect3D.createStaticEffect3D(id);
		if(node){
			eff.onInit((node).node);
		}
		else{
			eff.onInit(this.scene.node);
		}
		return eff;
	}

	/**
	*播放动作
	*@param target
	*@param action
	*
	*/
	__proto.playAction=function(target,action){
		(target).playActionById(action);
	}

	/**
	*播放音效
	*@param name
	*
	*/
	__proto.playMusic=function(name){
		GameSoundManager.instance.playMusic(name);
	}

	__proto.random=function(){
		return Math.random();
	}

	/**
	*发射器
	*@param caster
	*@param effectId
	*@param type
	*@param speed
	*@param time
	*@param radius
	*@param offangle
	*@return
	*
	*/
	__proto.cast=function(caster,effectId,path,pathParam,radius,offangle){
		(offangle===void 0)&& (offangle=0);
		var createData=this.getGameObjParam();
		var angle=caster.faceAngle+offangle;
		var bullet=createData.clear()
		.setConfig(effectId,"Effect")
		.rangePos(caster,radius,angle)
		.create();
		bullet.faceAngle=angle;
		bullet.cast(path,pathParam);
		return bullet;
	}

	__proto.log=function(param){
		console.log(param);
	}

	__proto.getTimer=function(){
		return this.scene.getTimer();
	}

	__proto.remove=function(obj){
		obj.destroyMe();
	}

	/**
	*睡眠
	*@param value
	*@return
	*
	*/
	__proto.sleep=function(wait,value){
		this.scene.timer.once(value,wait,wait.resolve);
	}

	/**
	*完成
	*
	*/
	__proto.complete=function(){}
	__proto._onCreateObj=function(obj){}
	return BaseScriptContext;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/src/testcode/AimMsg.as=======98.999784/98.999784
//class testcode.AimMsg extends laya.data.MessageBase
var AimMsg=(function(_super){
	function AimMsg(){
		this.ID=NaN;
		this.aim=false;
		AimMsg.__super.call(this);
	}

	__class(AimMsg,'testcode.AimMsg',_super);
	var __proto=AimMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(AimMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['aim',0]];}
	]);
	return AimMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/AimTargetMsg.as=======98.999783/98.999783
//class testcode.AimTargetMsg extends laya.data.MessageBase
var AimTargetMsg=(function(_super){
	function AimTargetMsg(){
		this.ID=NaN;
		this.x=NaN;
		this.y=NaN;
		this.z=NaN;
		AimTargetMsg.__super.call(this);
	}

	__class(AimTargetMsg,'testcode.AimTargetMsg',_super);
	var __proto=AimTargetMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(AimTargetMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['x',7],
		['y',7],
		['z',7]];}
	]);
	return AimTargetMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/ChangeBulletMsg.as=======98.999782/98.999782
//class testcode.ChangeBulletMsg extends laya.data.MessageBase
var ChangeBulletMsg=(function(_super){
	function ChangeBulletMsg(){
		this.ID=NaN;
		ChangeBulletMsg.__super.call(this);
	}

	__class(ChangeBulletMsg,'testcode.ChangeBulletMsg',_super);
	var __proto=ChangeBulletMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(ChangeBulletMsg,
	['DES',function(){return this.DES=
		[
		['ID',5]];}
	]);
	return ChangeBulletMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/ChangeGunMsg.as=======98.999781/98.999781
//class testcode.ChangeGunMsg extends laya.data.MessageBase
var ChangeGunMsg=(function(_super){
	function ChangeGunMsg(){
		this.ID=NaN;
		ChangeGunMsg.__super.call(this);
	}

	__class(ChangeGunMsg,'testcode.ChangeGunMsg',_super);
	var __proto=ChangeGunMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(ChangeGunMsg,
	['DES',function(){return this.DES=
		[
		['ID',5]];}
	]);
	return ChangeGunMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/ClickMsg.as=======98.999780/98.999780
/**
*点击操作
*@author wulongbin
*
*/
//class testcode.ClickMsg extends laya.data.MessageBase
var ClickMsg=(function(_super){
	function ClickMsg(){
		this.ID=NaN;
		this.x=NaN;
		this.y=NaN;
		this.mouseType=NaN;
		this.touchID=NaN;
		ClickMsg.__super.call(this);
	}

	__class(ClickMsg,'testcode.ClickMsg',_super);
	var __proto=ClickMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	ClickMsg.MouseType_Down=1;
	ClickMsg.MouseType_Move=2;
	ClickMsg.MouseType_Up=3;
	ClickMsg.Touch_Left=1;
	ClickMsg.Touch_Right=2;
	__static(ClickMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['x',5],
		['y',5],
		['mouseType',5],
		['touchID',5]];}
	]);
	return ClickMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/FireMsg.as=======98.999778/98.999778
//class testcode.FireMsg extends laya.data.MessageBase
var FireMsg=(function(_super){
	function FireMsg(){
		this.ID=NaN;
		this.isFire=false;
		this.type=0;
		this.x=0;
		this.y=0;
		this.z=0;
		/**摄像机角度*/
		this.ca=0;
		FireMsg.__super.call(this);
	}

	__class(FireMsg,'testcode.FireMsg',_super);
	var __proto=FireMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	FireMsg.Type_Gun=0;
	FireMsg.Type_Antitank=1;
	__static(FireMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['isFire',0],
		['type',5],
		['x',7],
		['y',7],
		['z',7],
		['ca',7]];}
	]);
	return FireMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/GameStatMsg.as=======98.999777/98.999777
//class testcode.GameStatMsg extends laya.data.MessageBase
var GameStatMsg=(function(_super){
	function GameStatMsg(){
		/**游戏状态：true-开始 false-未开始**/
		this.gameStat=false;
		/**房主开始游戏前，其他成员的ready状态**/
		this.readyStat=false;
		GameStatMsg.__super.call(this);
	}

	__class(GameStatMsg,'testcode.GameStatMsg',_super);
	return GameStatMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/KeyMsg.as=======98.999776/98.999776
//class testcode.KeyMsg extends laya.data.MessageBase
var KeyMsg=(function(_super){
	function KeyMsg(){
		this.ID=NaN;
		this.key=NaN;
		this.press=false;
		KeyMsg.__super.call(this);
	}

	__class(KeyMsg,'testcode.KeyMsg',_super);
	var __proto=KeyMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(KeyMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['key',5],
		['press',0]];}
	]);
	return KeyMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/LoadSceneMsg.as=======98.999775/98.999775
//class testcode.LoadSceneMsg extends laya.data.MessageBase
var LoadSceneMsg=(function(_super){
	function LoadSceneMsg(){
		LoadSceneMsg.__super.call(this);
	}

	__class(LoadSceneMsg,'testcode.LoadSceneMsg',_super);
	return LoadSceneMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/MemberMsg.as=======98.999774/98.999774
/**
*成员消息
*@author wulongbin
*
*/
//class testcode.MemberMsg extends laya.data.MessageBase
var MemberMsg=(function(_super){
	function MemberMsg(){
		this.userid=NaN;
		this.status=NaN;
		this.group=NaN;
		this.defineId=NaN;
		this.nickName=null;
		this.headUrl=null;
		MemberMsg.__super.call(this);
	}

	__class(MemberMsg,'testcode.MemberMsg',_super);
	return MemberMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/MoveMsg.as=======98.999773/98.999773
//class testcode.MoveMsg extends laya.data.MessageBase
var MoveMsg=(function(_super){
	function MoveMsg(){
		this.ID=NaN;
		this.dir=NaN;
		MoveMsg.__super.call(this);
	}

	__class(MoveMsg,'testcode.MoveMsg',_super);
	var __proto=MoveMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(MoveMsg,
	['DES',function(){return this.DES=
		[
		['ID',5],
		['dir',5]];}
	]);
	return MoveMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/RoomMsg.as=======98.999772/98.999772
/**
*房间信息
*@author wulongbin
*
*/
//class testcode.RoomMsg extends laya.data.MessageBase
var RoomMsg=(function(_super){
	function RoomMsg(){
		this.members=new Array;
		RoomMsg.__super.call(this);
	}

	__class(RoomMsg,'testcode.RoomMsg',_super);
	__static(RoomMsg,
	['DES',function(){return this.DES=
		[
		['members',10,[11,MemberMsg]]];}
	]);
	return RoomMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/SquatMsg.as=======98.999769/98.999769
//class testcode.SquatMsg extends laya.data.MessageBase
var SquatMsg=(function(_super){
	function SquatMsg(){
		this.ID=NaN;
		SquatMsg.__super.call(this);
	}

	__class(SquatMsg,'testcode.SquatMsg',_super);
	var __proto=SquatMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	__static(SquatMsg,
	['DES',function(){return this.DES=
		[
		['ID',5]];}
	]);
	return SquatMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/TimeMsg.as=======98.999764/98.999764
//class testcode.TimeMsg extends laya.data.MessageBase
var TimeMsg=(function(_super){
	function TimeMsg(){
		this.time=NaN;
		TimeMsg.__super.call(this);
	}

	__class(TimeMsg,'testcode.TimeMsg',_super);
	return TimeMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/VictoryMsg.as=======98.999763/98.999763
/**
*结算页面同步信息
*@author CuiXueying
*/
//class testcode.VictoryMsg extends laya.data.MessageBase
var VictoryMsg=(function(_super){
	function VictoryMsg(){
		this.userId=null;
		this.baotouNum=0;
		this.deadNum=0;
		this.killNum=0;
		VictoryMsg.__super.call(this);
	}

	__class(VictoryMsg,'testcode.VictoryMsg',_super);
	return VictoryMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/src/testcode/VsProMsg.as=======98.999762/98.999762
//class testcode.VsProMsg extends laya.data.MessageBase
var VsProMsg=(function(_super){
	function VsProMsg(){
		/**用户ID**/
		this.userid=null;
		/**progress的value值**/
		this.value=0;
		VsProMsg.__super.call(this);
	}

	__class(VsProMsg,'testcode.VsProMsg',_super);
	return VsProMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationPlayer.as=======98.999711/98.999711
/**
*<code>AnimationPlayer</code> 类用于动画播放器。
*/
//class laya.ani.AnimationPlayer extends laya.events.EventDispatcher
var AnimationPlayer=(function(_super){
	function AnimationPlayer(){
		/**@private */
		this._destroyed=false;
		/**数据模板*/
		this._templet=null;
		/**当前精确时间，不包括重播时间*/
		this._currentTime=NaN;
		/**当前帧时间，不包括重播时间*/
		this._currentFrameTime=NaN;
		/**动画播放的起始时间位置*/
		this._playStart=NaN;
		/**动画播放的结束时间位置*/
		this._playEnd=NaN;
		/**动画播放一次的总时间*/
		this._playDuration=NaN;
		/**动画播放总时间*/
		this._overallDuration=NaN;
		/**是否在一帧结束时停止*/
		this._stopWhenCircleFinish=false;
		/**已播放时间，包括重播时间*/
		this._elapsedPlaybackTime=NaN;
		/**播放时帧数*/
		this._startUpdateLoopCount=NaN;
		/**当前动画索引*/
		this._currentAnimationClipIndex=0;
		/**当前帧数*/
		this._currentKeyframeIndex=0;
		/**是否暂停*/
		this._paused=false;
		/**默认帧率,必须大于0*/
		this._cacheFrameRate=0;
		/**帧率间隔时间*/
		this._cacheFrameRateInterval=NaN;
		/**缓存播放速率*/
		this._cachePlayRate=NaN;
		this._fullFrames=null;
		/**是否缓存*/
		this.isCache=true;
		/**播放速率*/
		this.playbackRate=1.0;
		/**停止时是否归零*/
		this.returnToZeroStopped=false;
		AnimationPlayer.__super.call(this);
		this._destroyed=false;
		this._currentAnimationClipIndex=-1;
		this._currentKeyframeIndex=-1;
		this._currentTime=0.0;
		this._overallDuration=Number.MAX_VALUE;
		this._stopWhenCircleFinish=false;
		this._elapsedPlaybackTime=0;
		this._startUpdateLoopCount=-1;
		this._cachePlayRate=1.0;
		this.cacheFrameRate=60;
		this.returnToZeroStopped=false;
	}

	__class(AnimationPlayer,'laya.ani.AnimationPlayer',_super);
	var __proto=AnimationPlayer.prototype;
	Laya.imps(__proto,{"laya.resource.IDestroy":true})
	/**
	*@private
	*/
	__proto._onTempletLoadedComputeFullKeyframeIndices=function(cachePlayRate,cacheFrameRate,templet){
		if (this._templet===templet && this._cachePlayRate===cachePlayRate && this._cacheFrameRate===cacheFrameRate)
			this._computeFullKeyframeIndices();
	}

	/**
	*@private
	*/
	__proto._computeFullKeyframeIndices=function(){
		var anifullFrames=this._fullFrames=[];
		var templet=this._templet;
		var cacheFrameInterval=this._cacheFrameRateInterval *this._cachePlayRate;
		for (var i=0,iNum=templet.getAnimationCount();i < iNum;i++){
			var aniFullFrame=[];
			if (!templet.getAnimation(i).nodes){
				anifullFrames.push(aniFullFrame);
				continue ;
			}
			for (var j=0,jNum=templet.getAnimation(i).nodes.length;j < jNum;j++){
				var node=templet.getAnimation(i).nodes[j];
				var frameCount=Math.floor(node.playTime / cacheFrameInterval+0.01);
				var nodeFullFrames=new Uint16Array(frameCount+1);
				var lastFrameIndex=-1;
				for (var n=0,nNum=node.keyFrame.length;n < nNum;n++){
					var keyFrame=node.keyFrame[n];
					var tm=keyFrame.startTime;
					var endTm=tm+keyFrame.duration+cacheFrameInterval;
					do {
						var frameIndex=Math.floor(tm / cacheFrameInterval+0.5);
						for (var k=lastFrameIndex+1;k < frameIndex;k++)
						nodeFullFrames[k]=n;
						lastFrameIndex=frameIndex;
						nodeFullFrames[frameIndex]=n;
						tm+=cacheFrameInterval;
					}while (tm <=endTm);
				}
				aniFullFrame.push(nodeFullFrames);
			}
			anifullFrames.push(aniFullFrame);
		}
	}

	/**
	*@private
	*/
	__proto._onAnimationTempletLoaded=function(){
		(this.destroyed)|| (this._calculatePlayDuration());
	}

	/**
	*@private
	*/
	__proto._calculatePlayDuration=function(){
		if (this.state!==0){
			var oriDuration=this._templet.getAniDuration(this._currentAnimationClipIndex);
			(this._playEnd===0)&& (this._playEnd=oriDuration);
			if (this._playEnd > oriDuration)
				this._playEnd=oriDuration;
			this._playDuration=this._playEnd-this._playStart;
		}
	}

	/**
	*@private
	*/
	__proto._setPlayParams=function(time,cacheFrameInterval){
		this._currentTime=time;
		this._currentKeyframeIndex=Math.floor((this.currentPlayTime)/ cacheFrameInterval+0.01);
		this._currentFrameTime=this._currentKeyframeIndex *cacheFrameInterval;
	}

	/**
	*@private
	*/
	__proto._setPlayParamsWhenStop=function(currentAniClipPlayDuration,cacheFrameInterval){
		this._currentTime=currentAniClipPlayDuration;
		this._currentKeyframeIndex=Math.floor(currentAniClipPlayDuration / cacheFrameInterval+0.01);
		this._currentFrameTime=this._currentKeyframeIndex *cacheFrameInterval;
		this._currentAnimationClipIndex=-1;
	}

	/**
	*@private
	*/
	__proto._update=function(elapsedTime){
		if (this._currentAnimationClipIndex===-1 || this._paused || !this._templet || !this._templet.loaded)
			return;
		var cacheFrameInterval=this._cacheFrameRateInterval *this._cachePlayRate;
		var time=0;
		(this._startUpdateLoopCount!==Stat.loopCount)&& (time=elapsedTime *this.playbackRate,this._elapsedPlaybackTime+=time);
		var currentAniClipPlayDuration=this.playDuration;
		if ((this._overallDuration!==0 && this._elapsedPlaybackTime >=this._overallDuration)|| (this._overallDuration===0 && this._elapsedPlaybackTime >=currentAniClipPlayDuration)){
			this._setPlayParamsWhenStop(currentAniClipPlayDuration,cacheFrameInterval);
			this.event("stopped");
			return;
		}
		time+=this._currentTime;
		if (currentAniClipPlayDuration > 0){
			if (time >=currentAniClipPlayDuration){
				do {
					time-=currentAniClipPlayDuration;
					if (this._stopWhenCircleFinish){
						this._setPlayParamsWhenStop(currentAniClipPlayDuration,cacheFrameInterval);
						this._stopWhenCircleFinish=false;
						this.event("stopped");
						return;
					}
					if (time < currentAniClipPlayDuration){
						this._setPlayParams(time,cacheFrameInterval);
						this.event("complete");
					}
				}while (time >=currentAniClipPlayDuration)
				}else {
				this._setPlayParams(time,cacheFrameInterval);
			}
			}else {
			if (this._stopWhenCircleFinish){
				this._setPlayParamsWhenStop(currentAniClipPlayDuration,cacheFrameInterval);
				this._stopWhenCircleFinish=false;
				this.event("stopped");
				return;
			}
			this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0;
			this.event("complete");
		}
	}

	/**
	*@private
	*/
	__proto._destroy=function(){
		this.offAll();
		this._templet=null;
		this._fullFrames=null;
		this._destroyed=true;
	}

	/**
	*播放动画。
	*@param index 动画索引。
	*@param playbackRate 播放速率。
	*@param duration 播放时长（0为1次,Number.MAX_VALUE为循环播放）。
	*@param playStart 播放的起始时间位置。
	*@param playEnd 播放的结束时间位置。（0为动画一次循环的最长结束时间位置）。
	*/
	__proto.play=function(index,playbackRate,overallDuration,playStart,playEnd){
		(index===void 0)&& (index=0);
		(playbackRate===void 0)&& (playbackRate=1.0);
		(overallDuration===void 0)&& (overallDuration=2147483647);
		(playStart===void 0)&& (playStart=0);
		(playEnd===void 0)&& (playEnd=0);
		if (!this._templet)
			throw new Error("AnimationPlayer:templet must not be null,maybe you need to set url.");
		if (overallDuration < 0 || playStart < 0 || playEnd < 0)
			throw new Error("AnimationPlayer:overallDuration,playStart and playEnd must large than zero.");
		if ((playEnd!==0)&& (playStart > playEnd))
			throw new Error("AnimationPlayer:start must less than end.");
		this._currentTime=0;
		this._currentFrameTime=0;
		this._elapsedPlaybackTime=0;
		this.playbackRate=playbackRate;
		this._overallDuration=overallDuration;
		this._playStart=playStart;
		this._playEnd=playEnd;
		this._paused=false;
		this._currentAnimationClipIndex=index;
		this._currentKeyframeIndex=0;
		this._startUpdateLoopCount=Stat.loopCount;
		this.event("played");
		if (this._templet.loaded)
			this._calculatePlayDuration();
		else
		this._templet.once("loaded",this,this._onAnimationTempletLoaded);
		this._update(0);
	}

	/**
	*播放动画。
	*@param index 动画索引。
	*@param playbackRate 播放速率。
	*@param duration 播放时长（0为1次,Number.MAX_VALUE为循环播放）。
	*@param playStartFrame 播放的原始起始帧率位置。
	*@param playEndFrame 播放的原始结束帧率位置。（0为动画一次循环的最长结束时间位置）。
	*/
	__proto.playByFrame=function(index,playbackRate,overallDuration,playStartFrame,playEndFrame,fpsIn3DBuilder){
		(index===void 0)&& (index=0);
		(playbackRate===void 0)&& (playbackRate=1.0);
		(overallDuration===void 0)&& (overallDuration=2147483647);
		(playStartFrame===void 0)&& (playStartFrame=0);
		(playEndFrame===void 0)&& (playEndFrame=0);
		(fpsIn3DBuilder===void 0)&& (fpsIn3DBuilder=30);
		var interval=1000.0 / fpsIn3DBuilder;
		this.play(index,playbackRate,overallDuration,playStartFrame *interval,playEndFrame *interval);
	}

	/**
	*停止播放当前动画
	*@param immediate 是否立即停止
	*/
	__proto.stop=function(immediate){
		(immediate===void 0)&& (immediate=true);
		if (immediate){
			this._currentTime=this._currentFrameTime=this._currentKeyframeIndex=0;
			this._currentAnimationClipIndex=-1;
			this.event("stopped");
			}else {
			this._stopWhenCircleFinish=true;
		}
	}

	/**
	*@private
	*/
	__proto.destroy=function(){}
	/**
	*动画播放的结束时间位置。
	*@return 结束时间位置。
	*/
	__getset(0,__proto,'playEnd',function(){
		return this._playEnd;
	});

	/**
	*设置动画数据模板,注意：修改此值会有计算开销。
	*@param value 动画数据模板
	*/
	/**
	*获取动画数据模板
	*@param value 动画数据模板
	*/
	__getset(0,__proto,'templet',function(){
		return this._templet;
		},function(value){
		if (!this.state===0)
			this.stop(true);
		if (this._templet!==value){
			this._templet=value;
			if (value.loaded)
				this._computeFullKeyframeIndices();
			else
			value.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,this._cacheFrameRate]);
		}
	});

	/**
	*动画播放的起始时间位置。
	*@return 起始时间位置。
	*/
	__getset(0,__proto,'playStart',function(){
		return this._playStart;
	});

	/**
	*获取动画播放一次的总时间
	*@return 动画播放一次的总时间
	*/
	__getset(0,__proto,'playDuration',function(){
		return this._playDuration;
	});

	/**
	*获取当前播放状态
	*@return 当前播放状态
	*/
	__getset(0,__proto,'state',function(){
		if (this._currentAnimationClipIndex===-1)
			return 0;
		if (this._paused)
			return 1;
		return 2;
	});

	/**
	*获取当前帧数
	*@return 当前帧数
	*/
	__getset(0,__proto,'currentKeyframeIndex',function(){
		return this._currentKeyframeIndex;
	});

	/**
	*获取动画播放的总总时间
	*@return 动画播放的总时间
	*/
	__getset(0,__proto,'overallDuration',function(){
		return this._overallDuration;
	});

	/**
	*获取当前帧时间，不包括重播时间
	*@return value 当前时间
	*/
	__getset(0,__proto,'currentFrameTime',function(){
		return this._currentFrameTime;
	});

	/**
	*获取当前动画索引
	*@return value 当前动画索引
	*/
	__getset(0,__proto,'currentAnimationClipIndex',function(){
		return this._currentAnimationClipIndex;
	});

	/**
	*获取当前精确时间，不包括重播时间
	*@return value 当前时间
	*/
	__getset(0,__proto,'currentPlayTime',function(){
		return this._currentTime+this._playStart;
	});

	/**
	*设置缓存播放速率,默认值为1.0,注意：修改此值会有计算开销。*
	*@return value 缓存播放速率。
	*/
	/**
	*获取缓存播放速率。*
	*@return 缓存播放速率。
	*/
	__getset(0,__proto,'cachePlayRate',function(){
		return this._cachePlayRate;
		},function(value){
		if (this._cachePlayRate!==value){
			this._cachePlayRate=value;
			if (this._templet)
				if (this._templet.loaded)
			this._computeFullKeyframeIndices();
			else
			this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[value,this._cacheFrameRate]);
		}
	});

	/**
	*设置默认帧率,每秒60帧,注意：修改此值会有计算开销。*
	*@return value 缓存帧率
	*/
	/**
	*获取默认帧率*
	*@return value 默认帧率
	*/
	__getset(0,__proto,'cacheFrameRate',function(){
		return this._cacheFrameRate;
		},function(value){
		if (this._cacheFrameRate!==value){
			this._cacheFrameRate=value;
			this._cacheFrameRateInterval=1000.0 / this._cacheFrameRate;
			if (this._templet)
				if (this._templet.loaded)
			this._computeFullKeyframeIndices();
			else
			this._templet.once("loaded",this,this._onTempletLoadedComputeFullKeyframeIndices,[this._cachePlayRate,value]);
		}
	});

	/**
	*设置当前播放位置
	*@param value 当前时间
	*/
	__getset(0,__proto,'currentTime',null,function(value){
		if (this._currentAnimationClipIndex===-1 || !this._templet || !this._templet.loaded)
			return;
		if (value < this._playStart || value > this._playEnd)
			throw new Error("AnimationPlayer:value must large than playStartTime,small than playEndTime.");
		this._startUpdateLoopCount=Stat.loopCount;
		var cacheFrameInterval=this._cacheFrameRateInterval *this._cachePlayRate;
		this._currentTime=value;
		this._currentKeyframeIndex=Math.floor(this.currentPlayTime / cacheFrameInterval);
		this._currentFrameTime=this._currentKeyframeIndex *cacheFrameInterval;
	});

	/**
	*设置是否暂停
	*@param value 是否暂停
	*/
	/**
	*获取当前是否暂停
	*@return 是否暂停
	*/
	__getset(0,__proto,'paused',function(){
		return this._paused;
		},function(value){
		this._paused=value;
		value && this.event("paused");
	});

	/**
	*获取缓存帧率间隔时间
	*@return 缓存帧率间隔时间
	*/
	__getset(0,__proto,'cacheFrameRateInterval',function(){
		return this._cacheFrameRateInterval;
	});

	/**
	*获取是否已销毁。
	*@return 是否已销毁。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	return AnimationPlayer;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/Resource.as=======98.999708/98.999708
/**
*@private
*<code>Resource</code> 资源存取类。
*/
//class laya.resource.Resource extends laya.events.EventDispatcher
var Resource=(function(_super){
	function Resource(){
		/**@private */
		//this._id=0;
		/**@private */
		//this._url=null;
		/**@private */
		//this._group=null;
		/**@private */
		//this._cpuMemory=0;
		/**@private */
		//this._gpuMemory=0;
		/**@private */
		//this._released=false;
		/**@private */
		//this._destroyed=false;
		/**@private */
		//this._referenceCount=0;
		/**@private */
		//this._loaded=false;
		/**@private */
		//this._resourceManager=null;
		/**是否加锁，如果true为不能使用自动释放机制。*/
		//this.lock=false;
		/**名称。 */
		//this.name=null;
		Resource.__super.call(this);
		this._$1__id=++Resource._uniqueIDCounter;
		this._loaded=true;
		this._destroyed=false;
		this._referenceCount=0;
		Resource._idResourcesMap[this.id]=this;
		this._released=true;
		this.lock=false;
		this._gpuMemory=0;
		(ResourceManager.currentResourceManager)&& (ResourceManager.currentResourceManager.addResource(this));
	}

	__class(Resource,'laya.resource.Resource',_super);
	var __proto=Resource.prototype;
	Laya.imps(__proto,{"laya.resource.ICreateResource":true,"laya.resource.IDestroy":true})
	/**
	*@private
	*/
	__proto._setCPUMemory=function(value){
		var offsetValue=value-this._cpuMemory;
		this._cpuMemory=value;
	}

	/**
	*@private
	*/
	__proto._setGPUMemory=function(value){
		var offsetValue=value-this._gpuMemory;
		this._gpuMemory=value;
		this.resourceManager && this.resourceManager.addSize(offsetValue);
	}

	/**
	*@private
	*/
	__proto._setLoaded=function(value){
		this._loaded=value;
	}

	/**
	*@private
	*/
	__proto._setUrl=function(url){
		if (this._url!==url){
			var resList;
			if (this._url){
				resList=Resource._urlResourcesMap[this._url];
				resList.splice(resList.indexOf(this),1);
				(resList.length===0)&& (delete Resource._urlResourcesMap[this._url]);
			}
			if (url){
				resList=Resource._urlResourcesMap[url];
				(resList)|| (Resource._urlResourcesMap[url]=resList=[]);
				resList.push(this);
			}
			this._url=url;
		}
	}

	/**
	*@private
	*/
	__proto._getGroup=function(){
		return this._group;
	}

	/**
	*@private
	*/
	__proto._setGroup=function(value){
		if (this._group!==value){
			var groupList;
			if (this._group){
				groupList=Resource._groupResourcesMap[this._group];
				groupList.splice(groupList.indexOf(this),1);
				(groupList.length===0)&& (delete Resource._groupResourcesMap[this._group]);
			}
			if (value){
				groupList=Resource._groupResourcesMap[value];
				(groupList)|| (Resource._groupResourcesMap[value]=groupList=[]);
				groupList.push(this);
			}
			this._group=value;
		}
	}

	/**
	*@private
	*/
	__proto._addReference=function(){
		this._referenceCount++;
	}

	/**
	*@private
	*/
	__proto._removeReference=function(){
		this._referenceCount--;
	}

	/**
	*@private
	*/
	__proto._clearReference=function(){
		this._referenceCount=0;
	}

	/**
	*@private
	*/
	__proto._completeLoad=function(){
		this._loaded=true;
		this._released=false;
		this.event("loaded",this);
	}

	/**
	*@private
	*/
	__proto._recoverResource=function(){}
	/**
	*@private
	*/
	__proto._disposeResource=function(){}
	/**
	*@private
	*/
	__proto._activeResource=function(){
		this._released=false;
	}

	/**
	*@private
	*/
	__proto._onAsynLoaded=function(data,params){
		throw new Error("Resource: must override this function!");
	}

	/**
	*释放资源。
	*@param force 是否强制释放。
	*@return 是否成功释放。
	*/
	__proto.releaseResource=function(force){
		(force===void 0)&& (force=false);
		if (!force && this.lock)
			return false;
		if (!this._released || force){
			this._disposeResource();
			this._released=true;
			return true;
			}else {
			return false;
		}
	}

	/**
	*销毁资源,销毁后资源不能恢复。
	*/
	__proto.destroy=function(){
		if (this._destroyed)
			return;
		if (this._resourceManager!==null)
			this._resourceManager.removeResource(this);
		this._destroyed=true;
		this.lock=false;
		this.releaseResource();
		delete Resource._idResourcesMap[this.id];
		var resList;
		if (this._url){
			resList=Resource._urlResourcesMap[this._url];
			if (resList){
				resList.splice(resList.indexOf(this),1);
				(resList.length===0)&& (delete Resource._urlResourcesMap[this.url]);
			}
			Loader.clearRes(this._url);
			(this._loaded)|| (RunDriver.cancelLoadByUrl(this._url));
		}
		if (this._group){
			resList=Resource._groupResourcesMap[this._group];
			resList.splice(resList.indexOf(this),1);
			(resList.length===0)&& (delete Resource._groupResourcesMap[this.url]);
		}
	}

	/**
	*获取是否已加载完成。
	*/
	__getset(0,__proto,'loaded',function(){
		return this._loaded;
	});

	/**
	*获取唯一标识ID,通常用于识别。
	*/
	__getset(0,__proto,'id',function(){
		return this._$1__id;
	});

	/**
	*是否已释放。
	*/
	__getset(0,__proto,'released',function(){
		return this._released;
	});

	/**
	*获取资源的URL地址。
	*@return URL地址。
	*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**
	*显存大小。
	*/
	__getset(0,__proto,'gpuMemory',function(){
		return this._gpuMemory;
	});

	/**
	*设置资源组名。
	*/
	/**
	*获取资源组名。
	*/
	__getset(0,__proto,'group',function(){
		return this._getGroup();
		},function(value){
		this._setGroup(value);
	});

	/**
	*是否已处理。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	/**
	*资源管理员。
	*/
	__getset(0,__proto,'resourceManager',function(){
		return this._resourceManager;
	});

	/**
	*内存大小。
	*/
	__getset(0,__proto,'cpuMemory',function(){
		return this._cpuMemory;
	});

	/**
	*获取资源的引用计数。
	*/
	__getset(0,__proto,'referenceCount',function(){
		return this._referenceCount;
	});

	Resource.getResourceByID=function(id){
		return Resource._idResourcesMap[id];
	}

	Resource.getResourceByURL=function(url,index){
		(index===void 0)&& (index=0);
		return Resource._urlResourcesMap[url][index];
	}

	Resource.destroyUnusedResources=function(group){
		var res;
		if (group){
			var resouList=Resource._groupResourcesMap[group];
			if (resouList){
				var tempResouList=resouList.slice();
				for (var i=0,n=tempResouList.length;i < n;i++){
					res=tempResouList[i];
					if (!res.lock && res._referenceCount===0)
						res.destroy();
				}
			}
			}else {
			for (var k in Resource._idResourcesMap){
				res=Resource._idResourcesMap[k];
				if (!res.lock && res._referenceCount===0)
					res.destroy();
			}
		}
	}

	Resource._uniqueIDCounter=0;
	Resource._idResourcesMap={};
	Resource._urlResourcesMap={};
	Resource._groupResourcesMap={};
	return Resource;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/src/view/battle/ui/DropImage.as=======98.999668/98.999668
/**
*场景掉落物品
*@author zhanghj
*/
//class view.battle.ui.DropImage extends laya.libs.recover.BaseRecovery
var DropImage=(function(_super){
	function DropImage(){
		/**起始点x*/
		this.x=0;
		/**起始点y*/
		this.y=0;
		this.texture=null;
		this.shadow=null;
		this.width=0;
		this.height=0;
		this.name="";
		this.isFinish=false;
		DropImage.__super.call(this);
	}

	__class(DropImage,'view.battle.ui.DropImage',_super);
	var __proto=DropImage.prototype;
	Laya.imps(__proto,{"view.battle.ui.ICustomPaint":true})
	__proto.init=function(){
		Laya.timer.once(1000,this,this.onMove);
		this.isFinish=false;
	}

	__proto.onPaint=function(ctx){
		if(!this.isFinish){
			ctx.drawTextures(this.shadow,[this.x,this.y],-8,this.texture.height+15);
			ctx.drawTextures(this.texture,[this.x,this.y],0,20);
			ctx.fillText(this.name,this.x+25,this.y,"20px Arial","#ffffff","center");
		}
		return this.isFinish;
	}

	//设置图片宽高
	__proto.setParam=function(){
		this.texture.height=this.height;
		this.texture.width=this.width;
	}

	//设置位置
	__proto.pos=function(_x,_y){
		this.x=_x;
		this.y=_y;
	}

	//设置图片宽高
	__proto.size=function(_w,_h){
		this.texture.height=_h;
		this.texture.width=_w;
	}

	//图片移动向玩家
	__proto.onMove=function(){
		var _$this=this;
		GameSystem.hero.scene.camera.globalToScreen(GameSystem.hero.pos.value,OnceTool.tempVector3);
		Tween.to(this,{x:OnceTool.tempVector3.x/Laya.stage.clientScaleX-20,y:OnceTool.tempVector3.y/Laya.stage.clientScaleY-50 },500,Ease.sineOut,Handler.create(this,function(){
			_$this.isFinish=true;
		}));
	}

	return DropImage;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationTransform3D.as=======98.999667/98.999667
/**
*<code>AnimationTransform3D</code> 类用于实现3D变换。
*/
//class laya.d3.animation.AnimationTransform3D extends laya.events.EventDispatcher
var AnimationTransform3D=(function(_super){
	function AnimationTransform3D(owner,localPosition,localRotation,localScale,worldMatrix){
		/**@private */
		//this._localMatrix=null;
		/**@private */
		//this._worldMatrix=null;
		/**@private */
		//this._localPosition=null;
		/**@private */
		//this._localRotation=null;
		/**@private */
		//this._localScale=null;
		/**@private */
		//this._localQuaternionUpdate=false;
		/**@private */
		//this._locaEulerlUpdate=false;
		/**@private */
		//this._localUpdate=false;
		/**@private */
		//this._parent=null;
		/**@private */
		//this._children=null;
		/**@private */
		//this._localRotationEuler=null;
		/**@private */
		//this._owner=null;
		/**@private */
		//this._worldUpdate=false;
		/**@private */
		//this._entity=null;
		AnimationTransform3D.__super.call(this);
		this._owner=owner;
		this._children=[];
		this._localMatrix=new Float32Array(16);
		if (Render.isConchApp){
			this._localPosition=localPosition;
			this._localRotation=localRotation;
			this._localScale=localScale;
			this._worldMatrix=worldMatrix;
		}
		else{
			this._localPosition=new Float32Array(3);
			this._localRotation=new Float32Array(4);
			this._localScale=new Float32Array(3);
			this._worldMatrix=new Float32Array(16);
		}
		this._localQuaternionUpdate=false;
		this._locaEulerlUpdate=false;
		this._localUpdate=false;
		this._worldUpdate=true;
	}

	__class(AnimationTransform3D,'laya.d3.animation.AnimationTransform3D',_super);
	var __proto=AnimationTransform3D.prototype;
	/**
	*@private
	*/
	__proto._getlocalMatrix=function(){
		if (this._localUpdate){
			Utils3D._createAffineTransformationArray(this._localPosition,this._localRotation,this._localScale,this._localMatrix);
			this._localUpdate=false;
		}
		return this._localMatrix;
	}

	/**
	*@private
	*/
	__proto._onWorldTransform=function(){
		if (!this._worldUpdate){
			this._worldUpdate=true;
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldTransform();
		}
	}

	/**
	*@private
	*/
	__proto.getLocalPosition=function(){
		return this._localPosition;
	}

	/**
	*@private
	*/
	__proto.setLocalPosition=function(value,addtive,weight){
		if (addtive){
			if (weight===1.0){
				this._localPosition[0]+=value[0];
				this._localPosition[1]+=value[1];
				this._localPosition[2]+=value[2];
				}else {
				this._localPosition[0]+=value[0] *weight;
				this._localPosition[1]+=value[1] *weight;
				this._localPosition[2]+=value[2] *weight;
			}
			}else {
			if (weight===1.0){
				this._localPosition[0]=value[0];
				this._localPosition[1]=value[1];
				this._localPosition[2]=value[2];
				}else {
				this._localPosition[0]=value[0] *weight;
				this._localPosition[1]=value[1] *weight;
				this._localPosition[2]=value[2] *weight;
			}
		}
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.setCrossLocalPosition=function(value,crossValue,crossWeight,addtive,weight){
		var sX=value[0],sY=value[1],sZ=value[2];
		if (addtive){
			if (weight===1.0){
				this._localPosition[0]+=(sX+crossWeight *(crossValue[0]-sX));
				this._localPosition[1]+=(sY+crossWeight *(crossValue[1]-sY));
				this._localPosition[2]+=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localPosition[0]+=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localPosition[1]+=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localPosition[2]+=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
			}else {
			if (weight===1.0){
				this._localPosition[0]=(sX+crossWeight *(crossValue[0]-sX));
				this._localPosition[1]=(sY+crossWeight *(crossValue[1]-sY));
				this._localPosition[2]=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localPosition[0]=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localPosition[1]=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localPosition[2]=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
		}
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.getLocalRotation=function(){
		if (this._localQuaternionUpdate){
			var eulerE=this._localRotationEuler;
			Utils3D._quaternionCreateFromYawPitchRollArray(eulerE[1] / AnimationTransform3D._angleToRandin,eulerE[0] / AnimationTransform3D._angleToRandin,eulerE[2] / AnimationTransform3D._angleToRandin,this._localRotation);
			this._localQuaternionUpdate=false;
		}
		return this._localRotation;
	}

	/**
	*@private
	*/
	__proto.setLocalRotation=function(value,addtive,weight){
		if (addtive){
			if (weight===1.0){
				Utils3D.quaternionMultiply(this._localRotation,value,this._localRotation);
				}else {
				Utils3D.quaterionSlerp(AnimationTransform3D._defaultQuaternion,value,weight,AnimationTransform3D._tempQuaternion);
				Utils3D.quaternionMultiply(this._localRotation,AnimationTransform3D._tempQuaternion,this._localRotation);
			}
			}else {
			if (weight===1.0){
				this._localRotation[0]=value[0];
				this._localRotation[1]=value[1];
				this._localRotation[2]=value[2];
				this._localRotation[3]=value[3];
				}else {
				Utils3D.quaterionSlerp(AnimationTransform3D._defaultQuaternion,this._localRotation,weight,this._localRotation);
			}
		}
		this._locaEulerlUpdate=true;
		this._localQuaternionUpdate=false;
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.setCrossLocalRotation=function(value,crossValue,crossWeight,addtive,weight){
		if (addtive){
			Utils3D.quaterionSlerp(value,crossValue,crossWeight,AnimationTransform3D._tempQuaternion);
			if (weight!==1.0)
				Utils3D.quaterionSlerp(AnimationTransform3D._defaultQuaternion,AnimationTransform3D._tempQuaternion,weight,AnimationTransform3D._tempQuaternion);
			Utils3D.quaternionMultiply(this._localRotation,AnimationTransform3D._tempQuaternion,this._localRotation);
			}else {
			Utils3D.quaterionSlerp(value,crossValue,crossWeight,this._localRotation);
			if (weight!==1.0)
				Utils3D.quaterionSlerp(AnimationTransform3D._defaultQuaternion,this._localRotation,weight,this._localRotation);
		}
		this._locaEulerlUpdate=true;
		this._localQuaternionUpdate=false;
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.getLocalScale=function(){
		return this._localScale;
	}

	/**
	*@private
	*/
	__proto.setLocalScale=function(value,addtive,weight){
		if (addtive){
			if (weight===1.0){
				this._localScale[0]+=value[0];
				this._localScale[1]+=value[1];
				this._localScale[2]+=value[2];
				}else {
				this._localScale[0]+=value[0] *weight;
				this._localScale[1]+=value[1] *weight;
				this._localScale[2]+=value[2] *weight;
			}
			}else {
			if (weight===1.0){
				this._localScale[0]=value[0];
				this._localScale[1]=value[1];
				this._localScale[2]=value[2];
				}else {
				this._localScale[0]=value[0] *weight;
				this._localScale[1]=value[1] *weight;
				this._localScale[2]=value[2] *weight;
			}
		}
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.setCrossLocalScale=function(value,crossValue,crossWeight,addtive,weight){
		var sX=value[0],sY=value[1],sZ=value[2];
		if (addtive){
			if (weight===1.0){
				this._localScale[0]+=(sX+crossWeight *(crossValue[0]-sX));
				this._localScale[1]+=(sY+crossWeight *(crossValue[1]-sY));
				this._localScale[2]+=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localScale[0]+=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localScale[1]+=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localScale[2]+=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
			}else {
			if (weight===1.0){
				this._localScale[0]=(sX+crossWeight *(crossValue[0]-sX));
				this._localScale[1]=(sY+crossWeight *(crossValue[1]-sY));
				this._localScale[2]=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localScale[0]=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localScale[1]=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localScale[2]=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
		}
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.getLocalRotationEuler=function(){
		if (this._locaEulerlUpdate){
			Utils3D.getYawPitchRoll(this._localRotation,AnimationTransform3D._tempVector3);
			var eulerE=AnimationTransform3D._tempVector3;
			var localRotationEulerE=this._localRotationEuler;
			localRotationEulerE[0]=eulerE[1] *AnimationTransform3D._angleToRandin;
			localRotationEulerE[1]=eulerE[0] *AnimationTransform3D._angleToRandin;
			localRotationEulerE[2]=eulerE[2] *AnimationTransform3D._angleToRandin;
			this._locaEulerlUpdate=false;
		}
		return this._localRotationEuler;
	}

	/**
	*@private
	*/
	__proto.setLocalRotationEuler=function(value,addtive,weight){
		if (addtive){
			if (weight===1.0){
				this._localRotationEuler[0]+=value[0];
				this._localRotationEuler[1]+=value[1];
				this._localRotationEuler[2]+=value[2];
				}else {
				this._localRotationEuler[0]+=value[0] *weight;
				this._localRotationEuler[1]+=value[1] *weight;
				this._localRotationEuler[2]+=value[2] *weight;
			}
			}else {
			if (weight===1.0){
				this._localRotationEuler[0]=value[0];
				this._localRotationEuler[1]=value[1];
				this._localRotationEuler[2]=value[2];
				}else {
				this._localRotationEuler[0]=value[0] *weight;
				this._localRotationEuler[1]=value[1] *weight;
				this._localRotationEuler[2]=value[2] *weight;
			}
		}
		this._locaEulerlUpdate=false;
		this._localQuaternionUpdate=true;
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*@private
	*/
	__proto.setCrossLocalRotationEuler=function(value,crossValue,crossWeight,addtive,weight){
		var sX=value[0],sY=value[1],sZ=value[2];
		if (addtive){
			if (weight===1.0){
				this._localRotationEuler[0]+=(sX+crossWeight *(crossValue[0]-sX));
				this._localRotationEuler[1]+=(sY+crossWeight *(crossValue[1]-sY));
				this._localRotationEuler[2]+=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localRotationEuler[0]+=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localRotationEuler[1]+=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localRotationEuler[2]+=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
			}else {
			if (weight===1.0){
				this._localRotationEuler[0]=(sX+crossWeight *(crossValue[0]-sX));
				this._localRotationEuler[1]=(sY+crossWeight *(crossValue[1]-sY));
				this._localRotationEuler[2]=(sZ+crossWeight *(crossValue[2]-sZ));
				}else {
				this._localRotationEuler[0]=(sX+crossWeight *(crossValue[0]-sX))*weight;
				this._localRotationEuler[1]=(sY+crossWeight *(crossValue[1]-sY))*weight;
				this._localRotationEuler[2]=(sZ+crossWeight *(crossValue[2]-sZ))*weight;
			}
		}
		this._locaEulerlUpdate=false;
		this._localQuaternionUpdate=true;
		this._localUpdate=true;
		this._onWorldTransform();
	}

	/**
	*获取世界矩阵。
	*@return 世界矩阵。
	*/
	__proto.getWorldMatrix=function(){
		if (!Render.isConchApp && this._worldUpdate){
			if (this._parent !=null){
				Utils3D.matrix4x4MultiplyFFF(this._parent.getWorldMatrix(),this._getlocalMatrix(),this._worldMatrix);
				}else {
				var locMat=this._getlocalMatrix();
				for (var i=0;i < 16;++i)
				this._worldMatrix[i]=locMat[i];
			}
			this._worldUpdate=false;
		}
		return this._worldMatrix;
	}

	/**
	*设置父3D变换。
	*@param value 父3D变换。
	*/
	__proto.setParent=function(value){
		if (this._parent!==value){
			if (this._parent){
				var parentChilds=this._parent._children;
				var index=parentChilds.indexOf(this);
				parentChilds.splice(index,1);
			}
			if (value){
				value._children.push(this);
				(value)&& (this._onWorldTransform());
			}
			this._parent=value;
		}
	}

	__static(AnimationTransform3D,
	['_tempVector3',function(){return this._tempVector3=new Float32Array(3);},'_tempQuaternion',function(){return this._tempQuaternion=new Float32Array(4);},'_angleToRandin',function(){return this._angleToRandin=180 / Math.PI;},'_defaultQuaternion',function(){return this._defaultQuaternion=new Float32Array([0,0,0,1]);}
	]);
	return AnimationTransform3D;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/AnimatorControllerLayer.as=======98.999661/98.999661
/**
*<code>AnimatorControllerLayer</code> 类用于创建动画控制器层。
*/
//class laya.d3.component.AnimatorControllerLayer extends laya.events.EventDispatcher
var AnimatorControllerLayer=(function(_super){
	function AnimatorControllerLayer(name){
		/**@private 0:常规播放、1:动态融合播放、2:固定融合播放*/
		//this._playType=0;
		/**@private */
		//this._crossDuration=NaN;
		/**@private */
		//this._crossPlayState=null;
		/**@private */
		//this._crossMark=0;
		/**@private */
		//this._crossNodesOwnersCount=0;
		/**@private */
		//this._crossNodesOwners=null;
		/**@private */
		//this._crossNodesOwnersIndicesMap=null;
		/**@private */
		//this._srcCrossClipNodeIndices=null;
		/**@private */
		//this._destCrossClipNodeIndices=null;
		/**@private */
		//this._defaultClipIndex=0;
		/**@private */
		//this._currentPlayState=null;
		/**@private */
		//this._clipNames=null;
		/**@private */
		//this._clipStateInfos=null;
		/**@private */
		//this._playStateInfo=null;
		/**@private */
		//this._crossPlayStateInfo=null;
		/**层的名称。*/
		//this.name=null;
		/**名称。*/
		//this.blendingMode=0;
		/**权重。*/
		//this.defaultWeight=0;
		AnimatorControllerLayer.__super.call(this);
		this._playType=-1;
		this._crossMark=0;
		this._crossDuration=-1;
		this._crossNodesOwnersIndicesMap={};
		this._crossNodesOwnersCount=0;
		this._crossNodesOwners=[];
		this._defaultClipIndex=-1;
		this._currentPlayState=null;
		this._clipNames=[];
		this._clipStateInfos=[];
		this._playStateInfo=new AnimatorStateInfo();
		this._crossPlayStateInfo=new AnimatorStateInfo();
		this._srcCrossClipNodeIndices=[];
		this._destCrossClipNodeIndices=[];
		this.name=name;
		this.defaultWeight=1.0;
		this.blendingMode=laya.d3.component.AnimatorControllerLayer.BLENDINGMODE_OVERRIDE;
	}

	__class(AnimatorControllerLayer,'laya.d3.component.AnimatorControllerLayer',_super);
	var __proto=AnimatorControllerLayer.prototype;
	/**
	*@private
	*/
	__proto.destroy=function(){
		this._clipNames=null;
		this._clipStateInfos=null;
		this._playStateInfo=null;
		this._crossPlayStateInfo=null;
	}

	AnimatorControllerLayer.BLENDINGMODE_OVERRIDE=0;
	AnimatorControllerLayer.BLENDINGMODE_ADDTIVE=1;
	return AnimatorControllerLayer;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/MeshFilter.as=======98.999625/98.999625
/**
*<code>MeshFilter</code> 类用于创建网格过滤器。
*/
//class laya.d3.core.MeshFilter extends laya.events.EventDispatcher
var MeshFilter=(function(_super){
	function MeshFilter(owner){
		/**@private */
		this._owner=null;
		/**@private */
		this._sharedMesh=null;
		MeshFilter.__super.call(this);
		this._owner=owner;
	}

	__class(MeshFilter,'laya.d3.core.MeshFilter',_super);
	var __proto=MeshFilter.prototype;
	/**
	*@private
	*/
	__proto._changeRenderObjectByMesh=function(index){
		var render=this._owner._render;
		var elements=render._renderElements;
		var renderElement=elements[index];
		if (renderElement){
			renderElement.setGeometry(this._sharedMesh._getSubMesh(index));
			}else {
			var material=render.sharedMaterials[index];
			(material)|| (material=BlinnPhongMaterial.defaultMaterial);
			renderElement=elements[index]=new SubMeshRenderElement();
			renderElement.setTransform(this._owner._transform);
			renderElement.render=render;
			renderElement.material=material;
			renderElement.setGeometry(this._sharedMesh._getSubMesh(index));
		}
	}

	/**
	*@private
	*/
	__proto._changeRenderObjectsByMesh=function(){
		var renderElementsCount=this._sharedMesh.subMeshCount;
		this._owner._render._renderElements.length=renderElementsCount;
		for (var i=0;i < renderElementsCount;i++)
		this._changeRenderObjectByMesh(i);
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(){
		this._owner=null;
		(this._sharedMesh)&& (this._sharedMesh._removeReference(),this._sharedMesh=null);
	}

	/**
	*设置共享网格。
	*@return value 共享网格。
	*/
	/**
	*获取共享网格。
	*@return 共享网格。
	*/
	__getset(0,__proto,'sharedMesh',function(){
		return this._sharedMesh;
		},function(value){
		if (this._sharedMesh!==value){
			var lastValue=this._sharedMesh;
			if (lastValue){
				lastValue._removeReference();
				(lastValue.loaded)|| (lastValue.off("loaded",this,this._changeRenderObjectsByMesh));
			}
			value._addReference();
			this._sharedMesh=value;
			if (value.loaded)
				this._changeRenderObjectsByMesh();
			else
			value.once("loaded",this,this._changeRenderObjectsByMesh);
		}
		this.event("meshchanged",[this,lastValue,value]);
	});

	return MeshFilter;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/render/BaseRender.as=======98.999623/98.999623
/**
*<code>Render</code> 类用于渲染器的父类，抽象类不允许实例。
*/
//class laya.d3.core.render.BaseRender extends laya.events.EventDispatcher
var BaseRender=(function(_super){
	function BaseRender(owner,shaderDataSize){
		/**@private */
		//this._id=0;
		/**@private */
		//this._destroyed=false;
		/**@private */
		//this._lightmapScaleOffset=null;
		/**@private */
		//this._lightmapIndex=0;
		/**@private */
		//this._receiveShadow=false;
		/**@private */
		//this._materialsInstance=null;
		/**@private */
		//this._castShadow=false;
		/**@private [实现IListPool接口]*/
		this._indexInList=-1;
		/**@private */
		//this._boundingSphere=null;
		/**@private */
		//this._boundingBox=null;
		/**@private */
		//this._boundingBoxCenter=null;
		/**@private */
		//this._boundingSphereNeedChange=false;
		/**@private */
		//this._boundingBoxNeedChange=false;
		/**@private */
		//this._boundingBoxCenterNeedChange=false;
		/**@private */
		//this._octreeNodeNeedChange=false;
		/**@private */
		//this._enable=false;
		/**@private */
		//this._shaderValues=null;
		/**@private */
		//this._defineDatas=null;
		/**@private */
		//this._indexInCastShadowList=0;
		/**@private */
		//this._materials=null;
		/**@private */
		//this._scene=null;
		/**@private */
		//this._owner=null;
		/**@private */
		//this._renderElements=null;
		/**@private */
		//this._distanceForSort=NaN;
		/**@private */
		//this._visible=false;
		/**@private */
		//this._treeNode=null;
		/**@private */
		//this._updateLoopCount=0;
		/**@private */
		//this._updateCamera=null;
		/**@private */
		this._isPartOfStaticBatch=false;
		/**@private */
		this._staticBatch=null;
		/**排序矫正值。*/
		//this.sortingFudge=NaN;
		/**@private [NATIVE]*/
		//this._cullingBufferIndex=0;
		BaseRender.__super.call(this);
		this._id=++BaseRender._uniqueIDCounter;
		this._indexInCastShadowList=-1;
		this._boundingBox=new BoundBox(new Vector3(),new Vector3());
		this._boundingBoxCenter=new Vector3();
		this._boundingSphere=new BoundSphere(new Vector3(),0);
		if (Render.isConchApp){
			var length=FrustumCulling._cullingBufferLength;
			this._cullingBufferIndex=length;
			var cullingBuffer=FrustumCulling._cullingBuffer;
			var resizeLength=length+5;
			if (resizeLength >=cullingBuffer.length){
				var temp=cullingBuffer;
				cullingBuffer=FrustumCulling._cullingBuffer=new Float32Array(cullingBuffer.length+4096);
				cullingBuffer.set(temp,0);
			}
			cullingBuffer[length]=1;
			FrustumCulling._cullingBufferLength=resizeLength;
		}
		this._boundingSphereNeedChange=true;
		this._boundingBoxNeedChange=true;
		this._boundingBoxCenterNeedChange=true;
		this._octreeNodeNeedChange=true;
		this._materials=[];
		this._renderElements=[];
		this._destroyed=false;
		this._owner=owner;
		this._enable=true;
		this._materialsInstance=[];
		this._shaderValues=new ShaderDatas(this,shaderDataSize);
		this._defineDatas=new DefineDatas();
		this.lightmapIndex=-1;
		this._castShadow=false;
		this.receiveShadow=false;
		this.sortingFudge=0.0;
		(owner)&& (this._owner.transform.on("worldmatrixneedchanged",this,this._onWorldMatNeedChange));
	}

	__class(BaseRender,'laya.d3.core.render.BaseRender',_super);
	var __proto=BaseRender.prototype;
	Laya.imps(__proto,{"laya.resource.IListPool":true,"laya.resource.IDestroy":true})
	/**
	*@private
	*/
	__proto._changeMaterialReference=function(lastValue,value){
		(lastValue)&& (lastValue._removeReference());
		value._addReference();
	}

	/**
	*@private
	*/
	__proto._getInstanceMaterial=function(material,index){
		var insMat=new material.constructor();
		material.cloneTo(insMat);
		insMat.name=insMat.name+"(Instance)";
		this._materialsInstance[index]=true;
		this._changeMaterialReference(this._materials[index],insMat);
		this._materials[index]=insMat;
		return insMat;
	}

	/**
	*@private
	*/
	__proto._applyLightMapParams=function(){
		if (this._scene && this._lightmapIndex >=0){
			var lightMaps=this._scene.getlightmaps();
			if (this._lightmapIndex < lightMaps.length){
				this._defineDatas.add(RenderableSprite3D.SAHDERDEFINE_LIGHTMAP);
				this._shaderValues.setTexture(3,lightMaps[this._lightmapIndex]);
				}else {
				this._defineDatas.remove(RenderableSprite3D.SAHDERDEFINE_LIGHTMAP);
			}
			}else {
			this._defineDatas.remove(RenderableSprite3D.SAHDERDEFINE_LIGHTMAP);
		}
	}

	/**
	*@private
	*/
	__proto._onWorldMatNeedChange=function(){
		this._boundingSphereNeedChange=true;
		this._boundingBoxNeedChange=true;
		this._boundingBoxCenterNeedChange=true;
		this._octreeNodeNeedChange=true;
	}

	/**
	*@private
	*/
	__proto._renderRenderableBoundBox=function(){
		var linePhasor=Laya3D._debugPhasorSprite;
		var boundBox=this.boundingBox;
		var corners=BaseRender._tempBoundBoxCorners;
		boundBox.getCorners(corners);
		linePhasor.line(corners[0],BaseRender._greenColor,corners[1],BaseRender._greenColor);
		linePhasor.line(corners[2],BaseRender._greenColor,corners[3],BaseRender._greenColor);
		linePhasor.line(corners[4],BaseRender._greenColor,corners[5],BaseRender._greenColor);
		linePhasor.line(corners[6],BaseRender._greenColor,corners[7],BaseRender._greenColor);
		linePhasor.line(corners[0],BaseRender._greenColor,corners[3],BaseRender._greenColor);
		linePhasor.line(corners[1],BaseRender._greenColor,corners[2],BaseRender._greenColor);
		linePhasor.line(corners[2],BaseRender._greenColor,corners[6],BaseRender._greenColor);
		linePhasor.line(corners[3],BaseRender._greenColor,corners[7],BaseRender._greenColor);
		linePhasor.line(corners[0],BaseRender._greenColor,corners[4],BaseRender._greenColor);
		linePhasor.line(corners[1],BaseRender._greenColor,corners[5],BaseRender._greenColor);
		linePhasor.line(corners[4],BaseRender._greenColor,corners[7],BaseRender._greenColor);
		linePhasor.line(corners[5],BaseRender._greenColor,corners[6],BaseRender._greenColor);
	}

	/**
	*@private
	*/
	__proto._calculateBoundingSphere=function(){
		throw("BaseRender: must override it.");
	}

	/**
	*@private
	*/
	__proto._calculateBoundingBox=function(){
		throw("BaseRender: must override it.");
	}

	/**
	*@private [实现IListPool接口]
	*/
	__proto._getIndexInList=function(){
		return this._indexInList;
	}

	/**
	*@private [实现IListPool接口]
	*/
	__proto._setIndexInList=function(index){
		this._indexInList=index;
	}

	/**
	*@private
	*/
	__proto._setBelongScene=function(scene){
		if (this._scene!==scene){
			this._scene=scene;
			this._applyLightMapParams();
		}
	}

	/**
	*@private
	*@param boundFrustum 如果boundFrustum为空则为摄像机不裁剪模式。
	*/
	__proto._needRender=function(boundFrustum){
		return true;
	}

	/**
	*@private
	*逐精灵执行。
	*/
	__proto._renderUpdate=function(context,transform){}
	/**
	*@private
	*逐精灵和相机执行。
	*/
	__proto._renderUpdateWithCamera=function(context,transform){}
	/**
	*@private
	*/
	__proto._updateOctreeNode=function(){
		var treeNode=this._treeNode;
		if (treeNode && this._octreeNodeNeedChange){
			treeNode.updateObject(this);
			this._octreeNodeNeedChange=false;
		}
	}

	/**
	*@private
	*/
	__proto._destroy=function(){
		this.offAll();
		var i=0,n=0;
		for (i=0,n=this._renderElements.length;i < n;i++)
		this._renderElements[i].destroy();
		for (i=0,n=this._materials.length;i < n;i++)
		this._materials[i]._removeReference();
		this._renderElements=null;
		this._owner=null;
		this._materials=null;
		this._boundingBox=null;
		this._boundingBoxCenter=null;
		this._boundingSphere=null;
		this._lightmapScaleOffset=null;
		this._destroyed=true;
	}

	/**
	*获取包围球,只读,不允许修改其值。
	*@return 包围球。
	*/
	__getset(0,__proto,'boundingSphere',function(){
		if (this._boundingSphereNeedChange){
			this._calculateBoundingSphere();
			this._boundingSphereNeedChange=false;
		}
		return this._boundingSphere;
	});

	/**
	*获取唯一标识ID,通常用于识别。
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*设置第一个实例材质。
	*@param value 第一个实例材质。
	*/
	/**
	*返回第一个实例材质,第一次使用会拷贝实例对象。
	*@return 第一个实例材质。
	*/
	__getset(0,__proto,'material',function(){
		var material=this._materials[0];
		if (material && !this._materialsInstance[0]){
			var insMat=this._getInstanceMaterial(material,0);
			var renderElement=this._renderElements[0];
			(renderElement)&& (renderElement.material=insMat);
		}
		return this._materials[0];
		},function(value){
		this.sharedMaterial=value;
	});

	/**
	*是否是静态的一部分。
	*/
	__getset(0,__proto,'isPartOfStaticBatch',function(){
		return this._isPartOfStaticBatch;
	});

	/**
	*设置第一个材质。
	*@param value 第一个材质。
	*/
	/**
	*返回第一个材质。
	*@return 第一个材质。
	*/
	__getset(0,__proto,'sharedMaterial',function(){
		return this._materials[0];
		},function(value){
		var lastValue=this._materials[0];
		if (lastValue!==value){
			this._materials[0]=value;
			this._materialsInstance[0]=false;
			this._changeMaterialReference(lastValue,value);
			var renderElement=this._renderElements[0];
			(renderElement)&& (renderElement.material=value);
		}
	});

	/**
	*设置光照贴图的索引。
	*@param value 光照贴图的索引。
	*/
	/**
	*获取光照贴图的索引。
	*@return 光照贴图的索引。
	*/
	__getset(0,__proto,'lightmapIndex',function(){
		return this._lightmapIndex;
		},function(value){
		if (this._lightmapIndex!==value){
			this._lightmapIndex=value;
			this._applyLightMapParams();
		}
	});

	/**
	*设置光照贴图的缩放和偏移。
	*@param 光照贴图的缩放和偏移。
	*/
	/**
	*获取光照贴图的缩放和偏移。
	*@return 光照贴图的缩放和偏移。
	*/
	__getset(0,__proto,'lightmapScaleOffset',function(){
		return this._lightmapScaleOffset;
		},function(value){
		this._lightmapScaleOffset=value;
		this._shaderValues.setVector(2,value);
		this._defineDatas.add(RenderableSprite3D.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV);
	});

	/**
	*设置是否产生阴影。
	*@param value 是否产生阴影。
	*/
	/**
	*获取是否产生阴影。
	*@return 是否产生阴影。
	*/
	__getset(0,__proto,'castShadow',function(){
		return this._castShadow;
		},function(value){
		if (this._castShadow!==value){
			if (this._owner.activeInHierarchy){
				if (value)
					this._scene._addShadowCastRenderObject(this);
				else
				this._scene._removeShadowCastRenderObject(this);
			}
			this._castShadow=value;
		}
	});

	/**
	*设置是否可用。
	*@param value 是否可用。
	*/
	/**
	*获取是否可用。
	*@return 是否可用。
	*/
	__getset(0,__proto,'enable',function(){
		return this._enable;
		},function(value){
		this._enable=value;
	});

	/**
	*设置实例材质列表。
	*@param value 实例材质列表。
	*/
	/**
	*获取潜拷贝实例材质列表,第一次使用会拷贝实例对象。
	*@return 浅拷贝实例材质列表。
	*/
	__getset(0,__proto,'materials',function(){
		for (var i=0,n=this._materials.length;i < n;i++){
			if (!this._materialsInstance[i]){
				var insMat=this._getInstanceMaterial(this._materials[i],i);
				var renderElement=this._renderElements[i];
				(renderElement)&& (renderElement.material=insMat);
			}
		}
		return this._materials.slice();
		},function(value){
		this.sharedMaterials=value;
	});

	/**
	*设置材质列表。
	*@param value 材质列表。
	*/
	/**
	*获取浅拷贝材质列表。
	*@return 浅拷贝材质列表。
	*/
	__getset(0,__proto,'sharedMaterials',function(){
		var materials=this._materials.slice();
		return materials;
		},function(value){
		if (!value)
			throw new Error("MeshRender: shadredMaterials value can't be null.");
		var len=value.length;
		this._materialsInstance.length=len;
		for (var i=0;i < len;i++){
			var lastValue=this._materials[i];
			if (lastValue!==value[i]){
				this._materialsInstance[i]=false;
				this._changeMaterialReference(lastValue,value[i]);
				var renderElement=this._renderElements[i];
				(renderElement)&& (renderElement.material=value[i]);
			}
		}
		this._materials=value;
	});

	/**
	*获取包围盒,只读,不允许修改其值。
	*@return 包围盒。
	*/
	__getset(0,__proto,'boundingBox',function(){
		if (this._boundingBoxNeedChange){
			this._calculateBoundingBox();
			this._boundingBoxNeedChange=false;
		}
		return this._boundingBox;
	});

	/**
	*获取包围盒中心,不允许修改其值。
	*@return 包围盒中心。
	*/
	__getset(0,__proto,'boundingBoxCenter',function(){
		if (this._boundingBoxCenterNeedChange){
			var boundBox=this.boundingBox;
			Vector3.add(boundBox.min,boundBox.max,this._boundingBoxCenter);
			Vector3.scale(this._boundingBoxCenter,0.5,this._boundingBoxCenter);
			this._boundingBoxCenterNeedChange=false;
		}
		return this._boundingBoxCenter;
	});

	/**
	*设置是否接收阴影属性
	*/
	/**
	*获得是否接收阴影属性
	*/
	__getset(0,__proto,'receiveShadow',function(){
		return this._receiveShadow;
		},function(value){
		if (this._receiveShadow!==value){
			this._receiveShadow=value;
			if (value)
				this._defineDatas.add(RenderableSprite3D.SHADERDEFINE_RECEIVE_SHADOW);
			else
			this._defineDatas.remove(RenderableSprite3D.SHADERDEFINE_RECEIVE_SHADOW);
		}
	});

	/**
	*获取是否已销毁。
	*@return 是否已销毁。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	BaseRender._uniqueIDCounter=0;
	__static(BaseRender,
	['_tempBoundBoxCorners',function(){return this._tempBoundBoxCorners=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];},'_greenColor',function(){return this._greenColor=new Vector4(0.0,1.0,0.0,1.0);}
	]);
	return BaseRender;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/src/room/SniperRoom.as=======98.999621/98.999621
/**
*测试房间
*@author wulongbin
*
*/
//class room.SniperRoom extends fs.FSRoom
var SniperRoom=(function(_super){
	function SniperRoom(){
		this.status=0;
		this.isBegin=false;
		this.allStatus=NaN;
		/**自己的操作对象*/
		this.selfOPSprite=null;
		this.roomMsg=new RoomMsg;
		this.allOPSprite=new Array;
		this.battleLayer=new Sprite();
		this.battleUILayer=new Box();
		this.gameUILayer=new Sprite();
		this.customPaintText=new CustomPaintSprite();
		SniperRoom.__super.call(this);
	}

	__class(SniperRoom,'room.SniperRoom',_super);
	var __proto=SniperRoom.prototype;
	__proto.onMain=function(){}
	/**
	*自己以外的人进入房间的回调 //自由匹配下-第一次点击匹配的人会触发改函数
	*
	*/
	__proto.onOtherJoinRoom=function(data){}
	/**
	*自己进入房间后的回调
	*
	*/
	__proto.onSelfJoinRoom=function(data){
		console.log("1自己加入房间");
		if(data && data.ownerId==FSGame.userID){
			this.isOwner=true;
			FSGame.room.isOwner=true;
		}
		EventCenter.event(GameEvent.PAGE_MATCH);
		if(this.isOwner){
			FSGame.connect.listenBroadcast(MemberMsg,this,this.onMemberMsg);
		}
		FSGame.connect.listenBroadcast(LoadSceneMsg,this,this.onLoadScene);
		FSGame.connect.listenBroadcast(RoomMsg,this,this.onRoomMsg);
		FSGame.connect.listenBroadcast(VsProMsg,this,this.onVsProValue);
		FSGame.connect.listenBroadcast(GameStatMsg,this,this.onGameStat);
		FSGame.connect.listenBroadcast(TimeMsg,this,this.onTime);
		FSGame.connect.listenBroadcast(VictoryMsg,this,this.onVictoryMsg);
		this.sendSelfMesg();
	}

	/**
	*同步结算页面信息
	*/
	__proto.onVictoryMsg=function(msg){
		EventCenter.event(GameEvent.VICTORY_MSG,[msg]);
	}

	/**
	*游戏倒计时广播回调
	*/
	__proto.onTime=function(msg){
		EventCenter.event(GameEvent.TIME_DAOJISHI,[msg]);
	}

	/**
	*广播回调：开始游戏
	*/
	__proto.onGameStat=function(msg){
		if(msg.gameStat)EventCenter.event(GameEvent.PAGE_VS);
		if(msg.readyStat){
			PageManager.I().match.ready02.visible=true;
			PageManager.I().match.btn_start.disabled=false;
			PageManager.I().match.btn_ready.disabled=true;
		}
	}

	/**
	*VS页面资源加载进度
	*/
	__proto.onVsProValue=function(msg){
		EventCenter.event(GameEvent.VS_PRO_CHANGE,[msg]);
	}

	__proto.onLoadScene=function(msg){
		EventCenter.on(GameEvent.LOAD_SCENE_COMPLETE,this,this.onLoadSceneEnd);
		this.battleUILayer.top=this.battleUILayer.bottom=this.battleUILayer.left=this.battleUILayer.right=0;
		this.customPaintText.customRenderEnable=true;
		SniperRoom.customPaintText2.customRenderEnable=true;
		SniperRoom.customPaintImage.customRenderEnable=true;
		this.battleUILayer.addChild(SniperRoom.battleUIView);
		this.battleUILayer.addChild(this.customPaintText);
		this.battleUILayer.addChild(SniperRoom.customPaintText2);
		GameSystem.uiLayer.addChild(this.battleUILayer);
		this.gameUILayer.addChild(SniperRoom.customPaintImage);
		GameSystem.uiLayer.addChild(this.gameUILayer);
		this.battleUILayer.size(Laya.stage.designWidth,Laya.stage.designHeight);
		this.battleUILayer.addChild(new BattleView());
		var config=SceneLevelData.getByID("1");
		SceneManager$1.SwitchScene(1000,{"config":config});
	}

	__proto.onLoadSceneEnd=function(){
		this.status=1;
		this.sendSelfMesg();
	}

	__proto.sendSelfMesg=function(){
		console.log("2发送自己的消息");
		var memberMsg=new MemberMsg;
		memberMsg.userid=FSGame.userID;
		memberMsg.status=this.status;
		memberMsg.nickName=PageManager.I().myNickName;
		memberMsg.headUrl=PageManager.I().myHeadUrl;
		memberMsg.group=11;
		memberMsg.defineId=1000;
		FSGame.connect.broadcast(memberMsg);
	}

	/**
	*成员信息更新-自动匹配不走
	*
	*/
	__proto.onMemberMsg=function(msg){
		console.log("***3成员信息更新"+msg+"***");
		var members=this.roomMsg.members;
		var i=0;
		var len=members.length;
		for(;i<len;i++){
			if(members[i].userid==msg.userid){
				members[i]=msg;
				break ;
			}
		}
		if(i==len){
			members.push(msg);
		}
		FSGame.connect.broadcast(this.roomMsg);
	}

	__proto.broadcastLoad=function(){}
	/**
	*自己离开房间
	*/
	__proto.onSelfLeaveRoom=function(){
		this.roomMsg.members=[];
		PageManager.I().roomMsg=[];
		FSGame.connect.broadcast(this.roomMsg);
		console.log("*********自己离开了房间********");
	}

	/**
	*他人离开房间
	*@param userID
	*/
	__proto.onOtherLeaveRoom=function(userID){
		console.log("*********他人离开了房间*********");
		var members=this.roomMsg.members;
		for(var i=0;i<members.length;i++){
			if(members[i].userid==userID){
				members.splice(i,1);
			}
		};
		var roomMsgArr=PageManager.I().roomMsg;
		for(i=0;i<roomMsgArr.length;i++){
			if(roomMsgArr[i].userid==userID){
				roomMsgArr.splice(i,1);
			}
		}
		if(Laya.stage.contains(PageManager.I().match)){
			if(FSGame.room.isOwner){
				PageManager.I().match.updateMsg();
				PageManager.I().match.ready02.visible=false;
				PageManager.I().match.btn_start.disabled=true;
			}
			else{
				console.log("房主离开，房间解散！！！");
				PageManager.I().isFreeMatch=false;
				this.roomMsg.members=[];
				PageManager.I().roomMsg=[];
				FSGame.connect.broadcast(this.roomMsg);
				FSGame.room.isEnterRoom=false;
				if(Laya.stage.contains(PageManager.I().match))PageManager.I().match.dispo();
				EventCenter.event(GameEvent.PAGE_HALL);
			}
		}
		else{
			if(!FSGame.room.isOwner){
				console.log("房主离开，房间解散！！！");
				PageManager.I().isFreeMatch=false;
				this.roomMsg.members=[];
				PageManager.I().roomMsg=[];
				FSGame.connect.broadcast(this.roomMsg);
				FSGame.room.isEnterRoom=false;
				if(Laya.stage.contains(PageManager.I().victory))PageManager.I().victory.dispo();
				EventCenter.event(GameEvent.PAGE_HALL);
			}
		}
	}

	/**
	*房间信息改变-自动匹配不走
	*
	*/
	__proto.onRoomMsg=function(msg){
		console.log("房间信息改变4---");
		EventCenter.event(GameEvent.ROOM_MSG_CHANGE,[msg.members]);
		if(!this.isOwner){
			this.roomMsg=msg;
		}
		if(this.isOwner){
			if(FSGame.isLocalMode){
				if(this.status==1){
					this.ready(true);
				}
			}
			else if(msg.members.length==2){
				this.allStatus=0;
				var mem;
				for(var $each_mem in msg.members){
					mem=msg.members[$each_mem];
					this.allStatus+=mem.status;
				}
				if(this.allStatus==2 && !this.isBegin){
					this.ready(true);
					this.isBegin=true;
					console.log("***(ready go ! ! ! ) ***");
				}
			}
		}
	}

	__proto.onGameStart=function(){
		var members=this.roomMsg.members;
		var i=0;
		var len=members.length;
		var curOPSprite;
		for(;i<len;i++){
			members[i].defineId=1000;
			members[i].group=i%2==0?11:12;
			this.allOPSprite[i]=curOPSprite=new TestOPSprite(members[i]);
			if(members[i].userid==FSGame.userID){
				this.selfOPSprite=curOPSprite;
			}
			FSGame.fsm.addSprite(curOPSprite);
		}
		PageManager.I().vs.dispo();
	}

	__proto.onGameOver=function(){
		this.status=0;
		this.isBegin=false;
		this.allOPSprite.splice(0,this.allOPSprite.length);
		EventCenter.off(GameEvent.LOAD_SCENE_COMPLETE,this,this.onLoadSceneEnd);
	}

	__static(SniperRoom,
	['customPaintText2',function(){return this.customPaintText2=new CustomPaintSprite();},'customPaintImage',function(){return this.customPaintImage=new CustomPaintSprite();},'battleUIView',function(){return this.battleUIView=new Sprite();}
	]);
	return SniperRoom;
})(FSRoom)


	//file:///H:/work/sniper/sniper/client/src/Sniper.as=======98.999607/98.999607
//class Sniper extends fs.FSGame
var Sniper=(function(_super){
	function Sniper(){
		Sniper.__super.call(this);
		var browserUrl=Browser.window.document.referrer;
		Sniper.roomid=HTTPUtil.getQueryString("roomid");
		if(Sniper.roomid!=""){
			Sniper.isJoin=true;
		}
		Laya3D.init(1280,720,true);
		Laya.stage.scaleMode="fixedwidth";
		Laya.stage.screenMode="horizontal";
		Laya.stage.alignH="center";
		Laya.stage.alignV="middle";
		Stat.show();
		FSGame.setRoom(GameSniper.netRoom);
		this.init(FSGame.room,GameSniper.localConnect);
	}

	__class(Sniper,'Sniper',_super);
	var __proto=Sniper.prototype;
	// Platform.Instance.init(11269,11269,-4,__JS__("this.goGame.bind(this)"),this);
	__proto.onInit=function(){
		FSGame.fsm.serverFramerate=10;
		var msgs=[MemberMsg,RoomMsg,ClickMsg,MoveMsg,FireMsg,KeyMsg,ChangeGunMsg,ChangeBulletMsg,SquatMsg,AimTargetMsg,VsProMsg,GameStatMsg,TimeMsg,VictoryMsg];
		FSGame.connect.regMessageList(msgs);
		Shake.tween=FSGame.fsm.tween;
		if((FSGame.connect instanceof fs.FSLayaConnect )){
			(FSGame.connect).loginPlatform(11269,11269,-4,this.onLogin.bind(this));
		}
		else{
			this.onLogin(null);
		}
		GameSniper.room=FSGame.room;
	}

	__proto.onLogin=function(data){
		console.log("登录成功");
		PageManager.I().init();
		if(data){
			PageManager.I().myHeadUrl=data.data.avatarUrl;
			PageManager.I().myNickName=data.data.nickName;
			PageManager.I().myUserId=data.data.userId;
		}
		Alias;
		GameSystem.registerExtend(new GSkillExtend);
		GameSystem.registerExtend(new SniperExtend);
		GameSystem.init(true);
		LineMaterial.initShader();
		Sheet.load(GameConfig.SheetArray,Handler.create(this,this.loadAssert));
	}

	/**
	*加载loading页面资源
	*/
	__proto.loadAssert=function(){
		console.log("loadedLoading");
		Laya.loader.load([
		{url:"res/atlas/loading.atlas"},
		{url:"loading/1.jpg"}],Handler.create(this,this.loadedLoading));
	}

	/**
	*加载其他2D页面资源
	*/
	__proto.loadedLoading=function(){
		console.log("loadedLoading1");
		EventCenter.event(GameEvent.PAGE_LOADING);
		if(Laya.stage.contains(PageManager.I().loading)){
			var field="url";
			var fakePercent=0.7;
			var fakeTime=2000;
			var realTime=10;
			GLoaderManager.I.loadres([
			{url:"res/atlas/comp.atlas"},
			{url:"res/atlas/battle.atlas"},
			{url:"res/atlas/shooting.atlas"},
			{url:"shooting/12.jpg"},
			{url:"shooting/6.jpg"},
			{url:"shooting/vs_bg.png" },
			{url:"res/cd.png" },
			{url:"res/character/sniper/LayaScene_model/Skin1.lh" },
			{url:"res/model/LayaScene_model/awmui.lh"}],Handler.create(this,this._onProgress,null,false),Handler.create(this,this._onCom),fakePercent,fakeTime,realTime,field);
		}
	}

	/**
	*资源加载进度
	*/
	__proto._onProgress=function(v){
		console.log("***"+v+"*********");
		PageManager.I().loading.update(v);
	}

	/**
	*资源加载完成
	*/
	__proto._onCom=function(){
		ScriptManager.instance.load(['res/script/skill.js','res/script/action.js'],Handler.create(this,this.onLoaded));
	}

	__proto.onLoaded=function(data){
		console.log("***资源加载完毕***cxy");
		GameSystem.config();
		FSGame.game.ready();
	}

	Sniper.exportHighMap=false;
	Sniper.roomid=null;
	Sniper.isJoin=false;
	Sniper.battleView=null;
	return Sniper;
})(FSGame)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/animation/KeyframeAnimations.as=======98.999583/98.999583
/**
*<code>KeyframeAnimation</code> 类用于帧动画组件的父类。
*/
//class laya.d3.component.animation.KeyframeAnimations extends laya.components.Component
var KeyframeAnimations=(function(_super){
	function KeyframeAnimations(){
		/**动画播放器。*/
		this._player=null;
		/**@private */
		this._templet=null;
		KeyframeAnimations.__super.call(this);
		this._player=new AnimationPlayer();
	}

	__class(KeyframeAnimations,'laya.d3.component.animation.KeyframeAnimations',_super);
	var __proto=KeyframeAnimations.prototype;
	/**
	*@inheritDoc
	*/
	__proto._added=function(){}
	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		this._player._destroy();
		this._player=null;
		this._templet=null;
	}

	/**
	*设置url地址。
	*@param value 地址。
	*/
	__getset(0,__proto,'url',null,function(value){
		console.log("Warning: discard property,please use templet property instead.");
		var templet=Laya.loader.create(value,null,null,AnimationTemplet);
		if (this._templet!==templet){
			if (this._player.state!==0)
				this._player.stop(true);
			this._templet=templet;
			this._player.templet=templet;
		}
	});

	/**
	*获取动画播放器。
	*@return 动画播放器。
	*/
	__getset(0,__proto,'player',function(){
		return this._player;
	});

	/**
	*设置动画模板。
	*@param value 设置动画模板。
	*/
	/**
	*获取动画模板。
	*@return value 动画模板。
	*/
	__getset(0,__proto,'templet',function(){
		return this._templet;
		},function(value){
		if (this._templet!==value){
			if (this._player.state!==0)
				this._player.stop(true);
			this._templet=value;
			this._player.templet=value;
		}
	});

	/**
	*获取播放器帧数。
	*@return 播放器帧数。
	*/
	__getset(0,__proto,'currentFrameIndex',function(){
		return this._player.currentKeyframeIndex;
	});

	/**
	*获取播放器的动画索引。
	*@return 动画索引。
	*/
	__getset(0,__proto,'currentAnimationClipIndex',function(){
		return this._player.currentAnimationClipIndex;
	});

	/**
	*获取播放器当前动画的节点数量。
	*@return 节点数量。
	*/
	__getset(0,__proto,'nodeCount',function(){
		return this._templet.getNodeCount(this._player.currentAnimationClipIndex);
	});

	return KeyframeAnimations;
})(Component)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/Animator.as=======98.999581/98.999581
/**
*<code>Animator</code> 类用于创建动画组件。
*/
//class laya.d3.component.Animator extends laya.components.Component
var Animator=(function(_super){
	function Animator(){
		/**@private */
		//this._speed=NaN;
		/**@private */
		//this._cacheFrameRate=0;
		/**@private */
		//this._cacheSpeed=NaN;
		/**@private */
		//this._avatar=null;
		/**@private */
		//this._keyframeNodeOwnerMap=null;
		/**@private */
		//this._updateMark=0;
		/**@private */
		//this._controllerLayers=null;
		/**@private */
		//this._linkSprites=null;
		/**@private */
		//this._avatarNodeMap=null;
		/**是否为缓存模式*/
		//this.isCache=false;
		/**激活时是否自动播放*/
		//this.playOnWake=false;
		/**@private [NATIVE]*/
		//this._animationNodeLocalPositions=null;
		/**@private [NATIVE]*/
		//this._animationNodeLocalRotations=null;
		/**@private [NATIVE]*/
		//this._animationNodeLocalScales=null;
		/**@private [NATIVE]*/
		//this._animationNodeWorldMatrixs=null;
		/**@private [NATIVE]*/
		//this._animationNodeParentIndices=null;
		this._keyframeNodeOwners=[];
		this._linkAvatarSprites=[];
		this._skinnedSprites=[];
		this._renderableSprites=[];
		this.cullingMode=2;
		Animator.__super.call(this);
		this._controllerLayers=[];
		this._linkSprites={};
		this._cacheSpeed=1.0;
		this.isCache=true;
		this.cacheFrameRate=60;
		this._speed=1.0;
		this._keyframeNodeOwnerMap={};
		this._updateMark=0;
		this.playOnWake=true;
	}

	__class(Animator,'laya.d3.component.Animator',_super);
	var __proto=Animator.prototype;
	Laya.imps(__proto,{"laya.resource.IDestroy":true})
	/**
	*@private
	*/
	__proto._linkToSprites=function(linkSprites){
		for (var k in linkSprites){
			var nodeOwner=this._owner;
			var path=linkSprites[k];
			for (var j=0,m=path.length;j < m;j++){
				var p=path[j];
				if (p===""){
					break ;
					}else {
					nodeOwner=nodeOwner.getChildByName(p);
					if (!nodeOwner)
						break ;
				}
			}
			(nodeOwner)&& (this.linkSprite3DToAvatarNode(k,nodeOwner));
		}
	}

	/**
	*@private
	*/
	__proto._addKeyframeNodeOwner=function(nodeOwners,node,nodeOwner){
		var nodeIndex=node._indexInList;
		var fullPath=node.fullPath;
		var keyframeNodeOwner=this._keyframeNodeOwnerMap[fullPath];
		if (keyframeNodeOwner){
			keyframeNodeOwner.referenceCount++;
			nodeOwners[nodeIndex]=keyframeNodeOwner;
			}else {
			var nodeOwnerCount=this._keyframeNodeOwners.length;
			keyframeNodeOwner=this._keyframeNodeOwnerMap[fullPath]=new KeyFrameNodeOwner();
			keyframeNodeOwner.fullPath=fullPath;
			keyframeNodeOwner.indexInList=nodeOwnerCount;
			keyframeNodeOwner.referenceCount=1;
			keyframeNodeOwner.propertyID=node.propertyNameID;
			var datas;
			if (this._avatar){
				keyframeNodeOwner.avatarOwner=nodeOwner;
				datas=AnimationNode._propertyGetFuncs[node.propertyNameID](nodeOwner,null);
				}else {
				keyframeNodeOwner.spritOwner=nodeOwner;
				datas=AnimationNode._propertyGetFuncs[node.propertyNameID](null,nodeOwner);
			}
			if (datas){
				var cacheDatas=new Float32Array(node.keyFrameWidth);
				for (var j=0,m=datas.length;j < m;j++)
				cacheDatas[j]=datas[j];
			}
			keyframeNodeOwner.defaultValue=cacheDatas;
			this._keyframeNodeOwners.push(keyframeNodeOwner);
			nodeOwners[nodeIndex]=keyframeNodeOwner;
		}
	}

	/**
	*@private
	*/
	__proto._removeKeyframeNodeOwner=function(nodeOwners,node){
		var fullPath=node.fullPath;
		var keyframeNodeOwner=this._keyframeNodeOwnerMap[fullPath];
		keyframeNodeOwner.referenceCount--;
		if (keyframeNodeOwner.referenceCount===0){
			delete this._keyframeNodeOwnerMap[fullPath];
			this._keyframeNodeOwners.splice(this._keyframeNodeOwners.indexOf(keyframeNodeOwner),1);
		}
		nodeOwners[node._indexInList]=null;
	}

	/**
	*@private
	*/
	__proto._getOwnersByClip=function(clipStateInfo){
		var frameNodes=clipStateInfo._clip._nodes;
		var frameNodesCount=frameNodes.length;
		var nodeOwners=clipStateInfo._nodeOwners;
		nodeOwners.length=frameNodesCount;
		for (var i=0;i < frameNodesCount;i++){
			var nodeOwner=this._avatar ? this._avatarNodeMap[this._avatar._rootNode.name] :this._owner;
			var node=frameNodes[i];
			var path=node.path;
			for (var j=0,m=path.length;j < m;j++){
				var p=path[j];
				if (p===""){
					break ;
					}else {
					nodeOwner=nodeOwner.getChildByName(p);
					if (!nodeOwner)
						break ;
				}
			}
			if (!nodeOwner)
				continue ;
			this._addKeyframeNodeOwner(nodeOwners,node,nodeOwner);
		}
	}

	/**
	*@private
	*/
	__proto._getOwnersByClipAsync=function(clipStateInfo){
		var clip=clipStateInfo._clip;
		if (clip.loaded)
			this._getOwnersByClip(clipStateInfo);
		else
		clip.once("loaded",this,this._getOwnersByClip,[clipStateInfo]);
	}

	/**
	*@private
	*/
	__proto._getAvatarOwnersAndInitDatasAsync=function(){
		for (var i=0,n=this._controllerLayers.length;i < n;i++){
			var clipStateInfos=this._controllerLayers[i]._clipStateInfos;
			for (var j=0,m=clipStateInfos.length;j < m;j++)
			this._getOwnersByClipAsync(clipStateInfos[j]);
		}
		this._avatar._cloneDatasToAnimator(this);
		for (var k in this._avatarNodeMap)
		this._checkAnimationNode(this._avatarNodeMap[k],this._owner);
	}

	/**
	*@private
	*/
	__proto._computeCacheFullKeyframeIndices=function(clipStateInfo){
		var clip=clipStateInfo._clip;
		var nodes=clip._nodes;
		var nodeCount=nodes.length;
		var cacheInterval=this._cacheSpeed / this._cacheFrameRate;
		var clipCacheFullFrames=clip._getFullKeyframeIndicesWithCache(cacheInterval);
		if (clipCacheFullFrames){
			clipStateInfo._cacheFullFrames=clipCacheFullFrames;
			return;
			}else {
			clipCacheFullFrames=clipStateInfo._cacheFullFrames=[];
			clipCacheFullFrames.length=nodeCount;
			var frameCount=Math.ceil(clip._duration / cacheInterval-0.00001)+1;
			for (var i=0;i < nodeCount;i++){
				var node=nodes[i];
				var nodeFullFrames=new Int32Array(frameCount);
				(nodeFullFrames).fill(-1);
				var keyFrames=node.keyFrames;
				for (var j=0,n=keyFrames.length;j < n;j++){
					var keyFrame=keyFrames[j];
					var startTime=keyFrame.startTime;
					var endTime=startTime+keyFrame.duration;
					while (startTime <=endTime){
						var frameIndex=Math.ceil(startTime / cacheInterval-0.00001);
						nodeFullFrames[frameIndex]=j;
						startTime+=cacheInterval;
					}
				}
				clipCacheFullFrames[i]=nodeFullFrames;
			}
			clip._cacheFullKeyframeIndices(cacheInterval,clipCacheFullFrames);
		}
	}

	/**
	*@private
	*/
	__proto._eventScript=function(clipState,playState,from,to){
		var events=clipState._clip._events;
		var eventIndex=playState._playEventIndex;
		for (var n=events.length;eventIndex < n;eventIndex++){
			var eve=events[eventIndex];
			var eventTime=eve.time;
			if (from <=eventTime && eventTime < to){
				var scripts=(this._owner)._scripts;
				for (var j=0,m=scripts.length;j < m;j++){
					var script=scripts[j];
					var fun=script[eve.eventName];
					(fun)&& (fun.apply(script,eve.params));
				}
				}else {
				break ;
			}
		}
		playState._playEventIndex=eventIndex;
	}

	/**
	*@private
	*/
	__proto._setPlayParams=function(stateInfo,playStateInfo,lastElapsedTime,cacheFrameInterval){
		var duration=stateInfo._clip._duration;
		playStateInfo._frameIndex=Math.max(Math.floor(this.getCurrentPlayTime(stateInfo,playStateInfo)/ cacheFrameInterval-0.00001),0);
		playStateInfo._frameTime=playStateInfo._frameIndex *cacheFrameInterval;
		this._eventScript(stateInfo,playStateInfo,lastElapsedTime % duration,playStateInfo._elapsedTime % duration);
	}

	/**
	*@private
	*/
	__proto._setPlayParamsWhenStop=function(statInfo,playStateInfo,lastElapsedTime,aniClipPlayDuration,cacheFrameInterval){
		playStateInfo._elapsedTime=aniClipPlayDuration;
		playStateInfo._frameIndex=Math.max(Math.floor(aniClipPlayDuration / cacheFrameInterval-0.00001),0);
		playStateInfo._frameTime=playStateInfo._frameIndex *cacheFrameInterval;
		playStateInfo._lastFrameIndex=-1;
		this._eventScript(statInfo,playStateInfo,lastElapsedTime % aniClipPlayDuration,aniClipPlayDuration);
	}

	/**
	*获取当前精确时间，不包括重播时间
	*@return value 当前时间
	*/
	__proto.getCurrentPlayTime=function(stateInfo,playStateInfo){
		return playStateInfo._elapsedTime % stateInfo._clip._duration;
	}

	/**
	*@private
	*/
	__proto._updatePlayer=function(statInfo,playStateInfo,elapsedTime,islooping,layer){
		var clip=statInfo._clip;
		var cacheFrameInterval=this._cacheSpeed / this._cacheFrameRate;
		var time=elapsedTime *this._speed;
		var lastElapsedTime=playStateInfo._elapsedTime;
		var elapsedPlaybackTime=lastElapsedTime+time;
		playStateInfo._elapsedTime=elapsedPlaybackTime;
		var aniClipPlayDuration=clip._duration;
		if ((!islooping && elapsedPlaybackTime >=aniClipPlayDuration)){
			playStateInfo._finish=true;
			this._setPlayParamsWhenStop(statInfo,playStateInfo,lastElapsedTime,aniClipPlayDuration,cacheFrameInterval);
			if (!clip.islooping)
				layer.event("stopped");
			return;
		}
		if (aniClipPlayDuration > 0){
			if (elapsedPlaybackTime >=aniClipPlayDuration){
				do {
					elapsedPlaybackTime-=aniClipPlayDuration;
					if (elapsedPlaybackTime < aniClipPlayDuration)
						this._setPlayParams(statInfo,playStateInfo,lastElapsedTime,cacheFrameInterval);
					playStateInfo._playEventIndex=0;
					this._eventScript(statInfo,playStateInfo,0,elapsedPlaybackTime);
				}while (elapsedPlaybackTime >=aniClipPlayDuration)
				}else {
				this._setPlayParams(statInfo,playStateInfo,lastElapsedTime,cacheFrameInterval);
			}
			}else {
			playStateInfo._resetPlayState(0.0);
		}
	}

	/**
	*@private
	*/
	__proto._updateClipDatas=function(stateInfo,playStateInfo,speed){
		var clip=stateInfo._clip;
		var cacheRate=this._cacheSpeed;
		var canCache=this.isCache && speed >=cacheRate;
		var frameIndex=-1;
		var clipDatas;
		if (canCache){
			frameIndex=playStateInfo._frameIndex;
			if (stateInfo._lastFrameIndex===frameIndex)
				return;
			clipDatas=clip._getAnimationDataWithCache(cacheRate,frameIndex);
			var nodes=clip._nodes;
			var nodeCount=nodes.length;
			if (this._avatar){
				if (!clipDatas){
					clipDatas=__newvec(nodeCount);
					clip._evaluateAnimationlDatasCacheMode(stateInfo._cacheFullFrames,stateInfo,clipDatas,playStateInfo);
					clip._cacheAnimationData(cacheRate,frameIndex,clipDatas);
				}
				}else {
				if (!clipDatas){
					clipDatas=__newvec(nodeCount);
					clip._evaluateAnimationlDatasCacheMode(stateInfo._cacheFullFrames,stateInfo,clipDatas,playStateInfo);
					clip._cacheAnimationData(cacheRate,frameIndex,clipDatas);
				}
			}
			}else {
			clipDatas=clip._publicClipDatas;
			if (this._avatar)
				clip._evaluateAnimationlDatasRealTime(this.getCurrentPlayTime(stateInfo,playStateInfo),clipDatas,true);
			else
			clip._evaluateAnimationlDatasRealTime(this.getCurrentPlayTime(stateInfo,playStateInfo),clipDatas,null);
		}
		stateInfo._lastFrameIndex=frameIndex;
		stateInfo._clipDatas=clipDatas;
	}

	/**
	*@private
	*/
	__proto._setClipDatasToNode=function(stateInfo,additive,weight){
		var clip=stateInfo._clip;
		var nodes=clip._nodes;
		var clipDatas=stateInfo._clipDatas;
		var nodeOwners=stateInfo._nodeOwners;
		for (var i=0,n=nodes.length;i < n;i++){
			var nodeOwner=nodeOwners[i];
			if (nodeOwner){
				(nodeOwner.updateMark===this._updateMark)&& (additive=false);
				var datas=clipDatas[i];
				if (datas){
					var node=nodes[i];
					if (this._avatar)
						AnimationNode._propertySetFuncs[node.propertyNameID](nodeOwner.avatarOwner,null,datas,additive,weight);
					else
					AnimationNode._propertySetFuncs[node.propertyNameID](null,nodeOwner.spritOwner,datas,additive,weight);
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._setCrossClipDatasToNode=function(controllerLayer,srcNodes,destNodes,srcState,destState,crossWeight){
		var nodeOwners=controllerLayer._crossNodesOwners;
		var ownerCount=controllerLayer._crossNodesOwnersCount;
		var additive=controllerLayer.blendingMode!==AnimatorControllerLayer.BLENDINGMODE_OVERRIDE;
		var weight=controllerLayer.defaultWeight;
		var destDataIndices=controllerLayer._destCrossClipNodeIndices;
		var destDatas=destState._clipDatas;
		var destNodeOwners=destState._nodeOwners;
		var srcDataIndices=controllerLayer._srcCrossClipNodeIndices;
		var srcNodeOwners=srcState._nodeOwners;
		var srcDatas=srcState._clipDatas;
		for (var i=0;i < ownerCount;i++){
			var nodeOwner=nodeOwners[i];
			if (nodeOwner){
				(nodeOwner.updateMark===this._updateMark)&& (additive=false);
				var srcIndex=srcDataIndices[i];
				var destIndex=destDataIndices[i];
				if (this._avatar)
					AnimationNode._propertySetCrossFuncs[nodeOwner.propertyID](nodeOwner.avatarOwner,null,srcIndex!==-1 ? srcDatas[srcIndex] :destNodeOwners[destIndex].defaultValue,destIndex!==-1 ? destDatas[destIndex] :srcNodeOwners[srcIndex].defaultValue,crossWeight,additive,weight);
				else
				AnimationNode._propertySetCrossFuncs[nodeOwner.propertyID](null,nodeOwner.spritOwner,srcIndex!==-1 ? srcDatas[srcIndex] :destNodeOwners[destIndex].defaultValue,destIndex!==-1 ? destDatas[destIndex] :srcNodeOwners[srcIndex].defaultValue,crossWeight,additive,weight);
			}
		}
	}

	/**
	*@private
	*/
	__proto._setFixedCrossClipDatasToNode=function(controllerLayer,destState,crossWeight){
		var nodeOwners=controllerLayer._crossNodesOwners;
		var ownerCount=controllerLayer._crossNodesOwnersCount;
		var additive=controllerLayer.blendingMode!==AnimatorControllerLayer.BLENDINGMODE_OVERRIDE;
		var weight=controllerLayer.defaultWeight;
		var destDataIndices=controllerLayer._destCrossClipNodeIndices;
		var destDatas=destState._clipDatas;
		for (var i=0;i < ownerCount;i++){
			var nodeOwner=nodeOwners[i];
			if (nodeOwner){
				(nodeOwner.updateMark===this._updateMark)&& (additive=false);
				var destIndex=destDataIndices[i];
				if (this._avatar)
					AnimationNode._propertySetCrossFuncs[nodeOwner.propertyID](nodeOwner.avatarOwner,null,nodeOwner.crossFixedValue,destIndex!==-1 ? destDatas[destIndex] :nodeOwner.defaultValue,crossWeight,additive,weight);
				else
				AnimationNode._propertySetCrossFuncs[nodeOwner.propertyID](null,nodeOwner.spritOwner,nodeOwner.crossFixedValue,destIndex!==-1 ? destDatas[destIndex] :nodeOwner.defaultValue,crossWeight,additive,weight);
			}
		}
	}

	/**
	*@private
	*/
	__proto._revertDefaultKeyframeNodes=function(clipStateInfo){
		var nodeOwners=clipStateInfo._nodeOwners;
		var frameNodes=clipStateInfo._clip._nodes;
		if (this._avatar){
			for (var i=0,n=frameNodes.length;i < n;i++){
				var node=frameNodes[i];
				var owner=nodeOwners[i];
				if (owner){
					var avatarOwner=owner.avatarOwner;
					if (avatarOwner)
						AnimationNode._propertySetFuncs[node.propertyNameID](avatarOwner,null,owner.defaultValue,false,1.0);
				}
			}
			}else {
			for (var i=0,n=frameNodes.length;i < n;i++){
				node=frameNodes[i];
				owner=nodeOwners[i];
				if (owner){
					var spriteOwner=owner.spritOwner;
					if (spriteOwner)
						AnimationNode._propertySetFuncs[node.propertyNameID](null,spriteOwner,owner.defaultValue,false,1.0);
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._removeClip=function(clipStateInfos,clipNames,index,clip){
		if (!clip.loaded){
			clip.off("loaded",this,this._getOwnersByClip);
			clip.off("loaded",this,this._computeCacheFullKeyframeIndices);
		}
		clip._removeReference();
		clipStateInfos.splice(index,1);
		clipNames.splice(index,1);
		var clipStateInfo=clipStateInfos[index];
		var frameNodes=clip._nodes;
		var nodeOwners=clipStateInfo._nodeOwners;
		for (var i=0,n=frameNodes.length;i < n;i++)
		this._removeKeyframeNodeOwner(nodeOwners,frameNodes[i]);
	}

	/**
	*@private
	*/
	__proto._isLinkSpriteToAnimationNode=function(sprite,node,isLink){
		var linkAvatarSprites=this._linkAvatarSprites;
		if (isLink){
			sprite._transform.dummy=node.transform;
			linkAvatarSprites.push(node);
			}else {
			sprite._transform.dummy=null;
			linkAvatarSprites.splice(linkAvatarSprites.indexOf(node),1);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		var parent=this._owner._parent;
		(this._owner)._setHierarchyAnimator(this,parent ? (parent)._hierarchyAnimator :null);
		(this._owner)._changeAnimatorToLinkSprite3DNoAvatar(this,true,[]);
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		var parent=this._owner._parent;
		(this._owner)._clearHierarchyAnimator(this,parent ? (parent)._hierarchyAnimator :null);
		(this._owner)._changeAnimatorToLinkSprite3DNoAvatar(this,false,[]);
	}

	/**
	*@inheritDoc
	*/
	__proto._onEnableInScene=function(){
		(this._owner)._scene._animatorPool.add(this);
		if (this.playOnWake){
			for (var i=0,n=this._controllerLayers.length;i < n;i++){
				var defaultClip=this.getDefaultClip(i);
				(defaultClip)&& (this.play(null,i));
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisableInScene=function(){
		(this._owner)._scene._animatorPool.remove(this);
	}

	/**
	*@private
	*/
	__proto._handleSpriteOwnersBySprite=function(isLink,path,sprite){
		for (var i=0,n=this._controllerLayers.length;i < n;i++){
			var clipStateInfos=this._controllerLayers[i]._clipStateInfos;
			for (var j=0,m=clipStateInfos.length;j < m;j++){
				var clipStateInfo=clipStateInfos[j];
				var clip=clipStateInfo._clip;
				var nodePath=path.join("/");
				var ownersNodes=clip._nodesMap[nodePath];
				if (ownersNodes){
					var nodes=clip._nodes;
					var nodeOwners=clipStateInfo._nodeOwners;
					for (var k=0,p=ownersNodes.length;k < p;k++){
						if (isLink)
							this._addKeyframeNodeOwner(nodeOwners,ownersNodes[k],sprite);
						else
						this._removeKeyframeNodeOwner(nodeOwners,ownersNodes[k]);
					}
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._updateMatrixToSkinnedMeshSprite=function(){
		for (var i=0,n=this._skinnedSprites.length;i < n;i++){
			var skinnedSprite=this._skinnedSprites[i];
			var skinnedTransform=skinnedSprite._transform;
			var worldMat=skinnedTransform.worldMatrix;
			var transform=(this._owner._parent)._transform;
			Utils3D.matrix4x4MultiplyMFM(transform ? transform.worldMatrix :Matrix4x4.DEFAULT,this._avatarNodeMap[(skinnedSprite._render)._rootBone].transform.getWorldMatrix(),worldMat);
			skinnedTransform.worldMatrix=worldMat;
		}
	}

	/**
	*@private
	*/
	__proto._updateAvatarNodesToSprite=function(){
		for (var i=0,n=this._linkAvatarSprites.length;i < n;i++){
			var node=this._linkAvatarSprites[i];
			var nodeTransform=node.transform;
			var spriteTransform=node.transform._entity;
			if (!spriteTransform.owner.isStatic && nodeTransform._worldUpdate){
				var spriteWorldMatrix=spriteTransform.worldMatrix;
				var transform=(this._owner._parent)._transform;
				Utils3D.matrix4x4MultiplyMFM(transform ? transform.worldMatrix :Matrix4x4.DEFAULT,nodeTransform.getWorldMatrix(),spriteWorldMatrix);
				spriteTransform.worldMatrix=spriteWorldMatrix;
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		var avatarData=data.avatar;
		if (avatarData){
			this.avatar=Loader.getRes(innerResouMap[avatarData.path]);
			var linkSprites=avatarData.linkSprites;
			this._linkSprites=linkSprites;
			this._linkToSprites(linkSprites);
		};
		var clipPaths=data.clipPaths;
		if (!clipPaths){
			var layersData=data.layers;
			for (var i=0;i < layersData.length;i++){
				var layerData=layersData[i];
				var animatorLayer=new AnimatorControllerLayer(layerData.name);
				if (i===0)
					animatorLayer.defaultWeight=1.0;
				else
				animatorLayer.defaultWeight=layerData.weight;
				this.addControllerLayer(animatorLayer);
				var states=layerData.states;
				for (var j=0,m=states.length;j < m;j++){
					var state=states[j];
					var clipPath=state.clipPath;
					if (clipPath){
						var name=state.name;
						this.addClip(Loader.getRes(innerResouMap[clipPath]),name,i);
						(j===0)&& (this.setDefaultClip(name,i));
					}
				}
			}
			}else {
			animatorLayer=new AnimatorControllerLayer("BaseLayer");
			this.addControllerLayer(animatorLayer);
			var clipCount=clipPaths.length;
			for (i=0;i < clipCount;i++){
				var clip=Loader.getRes(innerResouMap[clipPaths[i]]);
				this.addClip(clip);
				(i===0)&& (this.setDefaultClip(clip.name,0));
			}
		};
		var play=data.playOnWake;
		(play!==undefined)&& (this.playOnWake=play);
	}

	/**
	*@private
	*/
	__proto._update=function(){
		if (this._speed===0)
			return;
		var needRender=false;
		if (this.cullingMode===2){
			for (var i=0,n=this._renderableSprites.length;i < n;i++){
				if (this._renderableSprites[i]._render._visible){
					needRender=true;
					break ;
				}
			}
		}
		if (needRender){
			this._updateMark++;
			var timer=(this._owner._scene).timer;
			for (var i=0,n=this._controllerLayers.length;i < n;i++){
				var controllerLayer=this._controllerLayers[i];
				var clipStateInfos=controllerLayer._clipStateInfos;
				var playStateInfo=controllerLayer._playStateInfo;
				var crossPlayStateInfo=controllerLayer._crossPlayStateInfo;
				var delta=timer._delta / 1000.0;
				var timeScaleSpeed=this._speed *timer.scale;
				switch (controllerLayer._playType){
					case 0:;
						var clipState=controllerLayer._currentPlayState;
						var clip=clipState._clip;
						if (clip.loaded && !playStateInfo._finish){
							this._updatePlayer(clipState,playStateInfo,delta,clip.islooping,controllerLayer);
							this._updateClipDatas(clipState,playStateInfo,timeScaleSpeed);
						this._setClipDatasToNode(clipState,controllerLayer.blendingMode!==AnimatorControllerLayer.BLENDINGMODE_OVERRIDE,controllerLayer.defaultWeight);
						}
						break ;
					case 1:
						clipState=controllerLayer._currentPlayState;
						clip=clipState._clip;
						var crossClipState=controllerLayer._crossPlayState;
						var crossClip=crossClipState._clip;
						var crossDuratuion=controllerLayer._crossDuration;
						if (clip.loaded && crossClip.loaded){
							var startPlayTime=crossPlayStateInfo._startPlayTime;
							var crossClipDuration=crossClip._duration-startPlayTime;
							var crossScale=crossDuratuion > crossClipDuration ? crossClipDuration / crossDuratuion :1.0;
							this._updatePlayer(crossClipState,crossPlayStateInfo,delta *crossScale,crossClip.islooping,controllerLayer);
							var crossWeight=((crossPlayStateInfo._elapsedTime-startPlayTime)/ crossScale)/ crossDuratuion;
							if (crossWeight >=1.0){
								this._updateClipDatas(crossClipState,crossPlayStateInfo,timeScaleSpeed);
							this._setClipDatasToNode(crossClipState,controllerLayer.blendingMode!==AnimatorControllerLayer.BLENDINGMODE_OVERRIDE,controllerLayer.defaultWeight);
								controllerLayer._playType=0;
								controllerLayer._currentPlayState=crossClipState;
								crossPlayStateInfo._cloneTo(playStateInfo);
								}else {
								if (!playStateInfo._finish){
									this._updatePlayer(clipState,playStateInfo,delta,false,controllerLayer);
									this._updateClipDatas(clipState,playStateInfo,timeScaleSpeed);
								}
								this._updateClipDatas(crossClipState,crossPlayStateInfo,timeScaleSpeed *crossScale);
								this._setCrossClipDatasToNode(controllerLayer,clip._nodes,crossClip._nodes,clipState,crossClipState,crossWeight);
							}
						}
						break ;
					case 2:
						crossClipState=controllerLayer._crossPlayState;
						crossClip=crossClipState._clip;
						crossDuratuion=controllerLayer._crossDuration;
						if (crossClip.loaded){
							startPlayTime=crossPlayStateInfo._startPlayTime;
							crossClipDuration=crossClip._duration-startPlayTime;
							crossScale=crossDuratuion > crossClipDuration ? crossClipDuration / crossDuratuion :1.0;
							this._updatePlayer(crossClipState,crossPlayStateInfo,delta *crossScale,crossClip.islooping,controllerLayer);
							crossWeight=((crossPlayStateInfo._elapsedTime-startPlayTime)/ crossScale)/ crossDuratuion;
							if (crossWeight >=1.0){
								this._updateClipDatas(crossClipState,crossPlayStateInfo,timeScaleSpeed);
								this._setClipDatasToNode(crossClipState,false,1.0);
								controllerLayer._playType=0;
								controllerLayer._currentPlayState=crossClipState;
								crossPlayStateInfo._cloneTo(playStateInfo);
								}else {
								this._updateClipDatas(crossClipState,crossPlayStateInfo,timeScaleSpeed *crossScale);
								this._setFixedCrossClipDatasToNode(controllerLayer,crossClipState,crossWeight);
							}
						}
						break ;
					}
			}
			if (this._avatar){
				Render.isConchApp && this._updateAnimationNodeWorldMatix(this._animationNodeLocalPositions,this._animationNodeLocalRotations,this._animationNodeLocalScales,this._animationNodeWorldMatrixs,this._animationNodeParentIndices);
				this._updateAvatarNodesToSprite();
				this._updateMatrixToSkinnedMeshSprite();
			}
		}
	}

	/**
	*@private
	*/
	__proto._checkAnimationNode=function(node,sprite){
		if (node.name===sprite.name && !sprite._transform.dummy)
			this._isLinkSpriteToAnimationNode(sprite,node,true);
		for (var i=0,n=sprite._children.length;i < n;i++)
		this._checkAnimationNode(node,sprite.getChildAt(i));
	}

	/**
	*@private
	*/
	__proto._cloneTo=function(dest){
		var animator=dest;
		animator.avatar=this.avatar;
		for (var i=0,n=this._controllerLayers.length;i < n;i++){
			var controllLayer=this._controllerLayers[i];
			animator.addControllerLayer(new AnimatorControllerLayer(controllLayer.name));
			var clipStateInfos=controllLayer._clipStateInfos;
			for (var j=0,m=clipStateInfos.length;j < m;j++){
				var state=clipStateInfos[j];
				animator.addClip(state._clip,state._name,i);
				animator._controllerLayers[i]._defaultClipIndex=controllLayer._defaultClipIndex;
			}
		}
		animator._linkSprites=this._linkSprites;
		animator._linkToSprites(this._linkSprites);
	}

	/**
	*获取默认动画片段。
	*@param playName 播放名字。
	*@return 动画片段。
	*/
	__proto.getDefaultClip=function(layerIndex){
		(layerIndex===void 0)&& (layerIndex=0);
		var controllerLayer=this._controllerLayers[layerIndex];
		var index=controllerLayer._defaultClipIndex;
		if (index!==-1){
			return controllerLayer._clipStateInfos[index]._clip;
			}else {
			return null;
		}
	}

	/**
	*设置默认动画片段。
	*@param playName 默认动画片段名称。
	*/
	__proto.setDefaultClip=function(playName,layerIndex){
		(layerIndex===void 0)&& (layerIndex=0);
		var controllerLayer=this._controllerLayers[layerIndex];
		var index=controllerLayer._clipNames.indexOf(playName);
		controllerLayer._defaultClipIndex=index;
	}

	/**
	*添加动画片段。
	*@param clip 动画片段。
	*@param playName 动画片段播放名称，如果为null,则使用clip.name作为播放名称。
	*@param layerIndex 层索引。
	*/
	__proto.addClip=function(clip,playName,layerIndex){
		(layerIndex===void 0)&& (layerIndex=0);
		playName=playName || clip.name;
		var controllerLayer=this._controllerLayers[layerIndex];
		var clipNames=controllerLayer._clipNames;
		var clipStateInfos=controllerLayer._clipStateInfos;
		var index=clipNames.indexOf(playName);
		if (index!==-1){
			throw new Error("Animator:this playName has exist.");
			}else {
			clipNames.push(playName);
			var clipStateInfo=new ClipStateInfo();
			clipStateInfo._name=playName
			clipStateInfo._clip=clip;
			clipStateInfos.push(clipStateInfo);
			clip._addReference();
			if (this._avatar){
				if (this._avatar.loaded)
					this._getOwnersByClipAsync(clipStateInfo);
				else
				this._avatar.once("loaded",this,this._getOwnersByClipAsync,[clipStateInfo]);
				}else {
				this._getOwnersByClipAsync(clipStateInfo);
			}
			if (clip.loaded)
				this._computeCacheFullKeyframeIndices(clipStateInfo);
			else
			clip.once("loaded",this,this._computeCacheFullKeyframeIndices,[clipStateInfo]);
		}
	}

	/**
	*移除动画片段。
	*@param clip 动画片段。
	*/
	__proto.removeClip=function(clip,layerIndex){
		(layerIndex===void 0)&& (layerIndex=0);
		var controllerLayer=this._controllerLayers[layerIndex];
		var clipStateInfos=controllerLayer._clipStateInfos;
		var clipNames=controllerLayer._clipNames;
		var index=-1;
		for (var i=0,n=clipStateInfos.length;i < n;i++){
			if (clipStateInfos[i]._clip===clip){
				index=i;
				break ;
			}
		}
		if (index!==-1)
			this._removeClip(clipStateInfos,clipNames,index,clip);
	}

	/**
	*通过播放名字移除动画片段。
	*@param playName 播放名字。
	*/
	__proto.removeClipByName=function(playName,layerIndex){
		(layerIndex===void 0)&& (layerIndex=0);
		var controllerLayer=this._controllerLayers[layerIndex];
		var clipNames=controllerLayer._clipNames;
		var index=clipNames.indexOf(playName);
		if (index!==-1){
			var clipStateInfos=controllerLayer._clipStateInfos;
			var clip=clipStateInfos[index]._clip;
			this._removeClip(clipStateInfos,clipNames,index,clip);
		}
	}

	/**
	*添加控制器层。
	*/
	__proto.addControllerLayer=function(controllderLayer){
		this._controllerLayers.push(controllderLayer);
	}

	/**
	*获取控制器层。
	*/
	__proto.getControllerLayer=function(layerInex){
		(layerInex===void 0)&& (layerInex=0);
		return this._controllerLayers[layerInex];
	}

	/**
	*播放动画。
	*@param name 如果为null则播放默认动画，否则按名字播放动画片段。
	*@param layerIndex 层索引。
	*@param normalizedTime 归一化的播放起始时间。
	*/
	__proto.play=function(name,layerIndex,normalizedTime){
		(layerIndex===void 0)&& (layerIndex=0);
		(normalizedTime===void 0)&& (normalizedTime=-Number.MAX_VALUE);
		var controllerLayer=this._controllerLayers[layerIndex];
		var defaultClipIndex=controllerLayer._defaultClipIndex;
		if (!name && defaultClipIndex==-1)
			throw new Error("Animator:must have  default clip value,please set clip property.");
		var curPlayState=controllerLayer._currentPlayState;
		var playStateInfo=controllerLayer._playStateInfo;
		var playClipIndex=name ? controllerLayer._clipNames.indexOf(name):defaultClipIndex;
		var playState=controllerLayer._clipStateInfos[playClipIndex];
		var clipDuration=playState._clip._duration;
		if (curPlayState!==playState){
			if (normalizedTime!==-Number.MAX_VALUE)
				playStateInfo._resetPlayState(clipDuration *normalizedTime);
			else
			playStateInfo._resetPlayState(0.0);
			(curPlayState!==null && curPlayState!==playState)&& (this._revertDefaultKeyframeNodes(curPlayState));
			controllerLayer._playType=0;
			controllerLayer._currentPlayState=playState;
			}else {
			if (normalizedTime!==-Number.MAX_VALUE){
				playStateInfo._resetPlayState(clipDuration *normalizedTime);
				controllerLayer._playType=0;
			}
		}
	}

	/**
	*在当前动画状态和目标动画状态之间进行融合过渡播放。
	*@param name 目标动画状态。
	*@param transitionDuration 过渡时间,该值为当前动画状态的归一化时间，值在0.0~1.0之间。
	*@param layerIndex 层索引。
	*@param normalizedTime 归一化的播放起始时间。
	*/
	__proto.crossFade=function(name,transitionDuration,layerIndex,normalizedTime){
		(layerIndex===void 0)&& (layerIndex=0);
		(normalizedTime===void 0)&& (normalizedTime=-Number.MAX_VALUE);
		var crossIndex=this._controllerLayers[layerIndex]._clipNames.indexOf(name);
		if (crossIndex!==-1){
			var controllerLayer=this._controllerLayers[layerIndex];
			var playType=controllerLayer._playType;
			if (playType===-1){
				this.play(name,layerIndex,normalizedTime);
				return;
			};
			var clipStateInfos=controllerLayer._clipStateInfos;
			var crossPlayStateInfo=controllerLayer._crossPlayStateInfo;
			var crossNodeOwners=controllerLayer._crossNodesOwners;
			var crossNodeOwnerIndicesMap=controllerLayer._crossNodesOwnersIndicesMap;
			var srcClipStateInfo=controllerLayer._currentPlayState;
			var destClipStateInfo=clipStateInfos[crossIndex];
			var destNodeOwners=destClipStateInfo._nodeOwners;
			var destCrossClipNodeIndices=controllerLayer._destCrossClipNodeIndices;
			var destClip=destClipStateInfo._clip;
			var destNodes=destClip._nodes;
			var destNodesMap=destClip._nodesDic;
			switch (playType){
				case 0:;
					var srcNodeOwners=srcClipStateInfo._nodeOwners;
					var scrCrossClipNodeIndices=controllerLayer._srcCrossClipNodeIndices;
					var srcClip=srcClipStateInfo._clip;
					var srcNodes=srcClip._nodes;
					var srcNodesMap=srcClip._nodesDic;
					controllerLayer._playType=1;
					var crossMark=++controllerLayer._crossMark;
					var crossCount=controllerLayer._crossNodesOwnersCount=0;
					for (var i=0,n=srcNodes.length;i < n;i++){
						var srcNode=srcNodes[i];
						var srcIndex=srcNode._indexInList;
						var srcNodeOwner=srcNodeOwners[srcIndex];
						if (srcNodeOwner){
							var srcFullPath=srcNode.fullPath;
							scrCrossClipNodeIndices[crossCount]=srcIndex;
							var destNode=destNodesMap[srcFullPath];
							if (destNode)
								destCrossClipNodeIndices[crossCount]=destNode._indexInList;
							else
							destCrossClipNodeIndices[crossCount]=-1;
							crossNodeOwnerIndicesMap[srcFullPath]=crossMark;
							crossNodeOwners[crossCount]=srcNodeOwner;
							crossCount++;
						}
					}
					for (var i=0,n=destNodes.length;i < n;i++){
						var destNode=destNodes[i];
						var destIndex=destNode._indexInList;
						var destNodeOwner=destNodeOwners[destIndex];
						if (destNodeOwner){
							var destFullPath=destNode.fullPath;
							if (!srcNodesMap[destFullPath]){
								scrCrossClipNodeIndices[crossCount]=-1;
								destCrossClipNodeIndices[crossCount]=destIndex;
								crossNodeOwnerIndicesMap[destFullPath]=crossMark;
								crossNodeOwners[crossCount]=destNodeOwner;
								crossCount++;
							}
						}
					}
					break ;
				case 1:
				case 2:
					controllerLayer._playType=2;
					for (var i=0,n=crossNodeOwners.length;i < n;i++){
						var nodeOwner=crossNodeOwners[i];
						nodeOwner.saveCrossFixedValue(this._avatar);
						var destNode=destNodesMap[nodeOwner.fullPath];
						if (destNode)
							destCrossClipNodeIndices[i]=destNode._indexInList;
						else
						destCrossClipNodeIndices[i]=-1;
					}
					crossCount=controllerLayer._crossNodesOwnersCount;
					crossMark=controllerLayer._crossMark;
					for (i=0,n=destNodes.length;i < n;i++){
						destNode=destNodes[i];
						destIndex=destNode._indexInList;
						destNodeOwner=destNodeOwners[destIndex];
						if (destNodeOwner){
							destFullPath=destNode.fullPath;
							if (crossNodeOwnerIndicesMap[destFullPath]!==crossMark){
								destCrossClipNodeIndices[crossCount]=destIndex;
								crossNodeOwnerIndicesMap[destFullPath]=crossMark;
								nodeOwner=destNodeOwners[destIndex];
								crossNodeOwners[crossCount]=nodeOwner;
								nodeOwner.saveCrossFixedValue(this._avatar);
								crossCount++;
							}
						}
					}
					break ;
				default :
				}
			controllerLayer._crossNodesOwnersCount=crossCount;
			controllerLayer._crossPlayState=destClipStateInfo;
			controllerLayer._crossDuration=srcClipStateInfo._clip._duration *transitionDuration;
			if (normalizedTime!==-Number.MAX_VALUE)
				crossPlayStateInfo._resetPlayState(destClip._duration *normalizedTime);
			else
			crossPlayStateInfo._resetPlayState(0.0);
		}
	}

	/**
	*关联精灵节点到Avatar节点,此Animator必须有Avatar文件。
	*@param nodeName 关联节点的名字。
	*@param sprite3D 精灵节点。
	*@return 是否关联成功。
	*/
	__proto.linkSprite3DToAvatarNode=function(nodeName,sprite3D){
		if (this._avatar){
			var node=this._avatarNodeMap[nodeName];
			if (node){
				this._isLinkSpriteToAnimationNode(sprite3D,node,true);
				return true;
				}else {
				return false;
			}
			}else {
			return false;
		}
	}

	/**
	*解除精灵节点到Avatar节点的关联,此Animator必须有Avatar文件。
	*@param sprite3D 精灵节点。
	*@return 是否解除关联成功。
	*/
	__proto.unLinkSprite3DToAvatarNode=function(sprite3D){
		if (this._avatar){
			var dummy=sprite3D.transform.dummy;
			if (dummy){
				var node=this._avatarNodeMap[dummy._owner.name];
				this._isLinkSpriteToAnimationNode(sprite3D,node,false);
				return true;
				}else {
				return false;
			}
			}else {
			return false;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(){
		_super.prototype.destroy.call(this);
		for (var i=0,n=this._controllerLayers.length;i < n;i++){
			var clipStateInfos=this._controllerLayers[i]._clipStateInfos;
			for (var j=0,m=clipStateInfos.length;j < m;j++)
			clipStateInfos[j]._clip._removeReference();
		}
	}

	/**
	*@private
	*[NATIVE]
	*/
	__proto._updateAnimationNodeWorldMatix=function(localPositions,localRotations,localScales,worldMatrixs,parentIndices){;
		LayaGL.instance.updateAnimationNodeWorldMatix(localPositions,localRotations,localScales,parentIndices,worldMatrixs);
	}

	/**
	*设置每秒的缓存帧数，缓存模式下生效。注意：修改此值会有计算开销。*
	*@return value 每秒的缓存帧数。
	*/
	/**
	*获取每秒的缓存帧数，缓存模式下生效。
	*@return value 每秒的缓存帧数。
	*/
	__getset(0,__proto,'cacheFrameRate',function(){
		return this._cacheFrameRate;
		},function(value){
		if (this._cacheFrameRate!==value){
			this._cacheFrameRate=value;
			for (var i=0,n=this._controllerLayers.length;i < n;i++){
				var clipStateInfos=this._controllerLayers[i]._clipStateInfos;
				for (var j=0,m=clipStateInfos.length;j < m;j++){
					var clipStateInfo=clipStateInfos[j];
					(clipStateInfo._clip.loaded)&& (this._computeCacheFullKeyframeIndices(clipStateInfo));
				}
			}
		}
	});

	/**
	*设置avatar。
	*@param value avatar。
	*/
	/**
	*获取avatar。
	*@return avator。
	*/
	__getset(0,__proto,'avatar',function(){
		return this._avatar;
		},function(value){
		if (this._avatar!==value){
			var lastAvatar=this._avatar;
			this._avatar=value;
			if (lastAvatar){
				if (lastAvatar.loaded){
					for (var i=0,n=this._controllerLayers.length;i < n;i++){
						var clipStateInfos=this._controllerLayers[i]._clipStateInfos;
						for (var j=0,m=clipStateInfos.length;j < m;j++){
							var clip=clipStateInfos[j]._clip;
							if (!clip.loaded)
								clip.off("loaded",this,this._getOwnersByClip);
						}
					}
					}else {
					lastAvatar.off("loaded",this,this._getAvatarOwnersAndInitDatasAsync);
				}
			}
			if (value){
				if (value.loaded)
					this._getAvatarOwnersAndInitDatasAsync();
				else
				value.once("loaded",this,this._getAvatarOwnersAndInitDatasAsync);
			}
			if (value){
				(this._owner)._changeHierarchyAnimatorAvatar(this,value);
				}else {
				var parent=this._owner._parent;
				(this._owner)._changeHierarchyAnimatorAvatar(this,parent ? (parent)._hierarchyAnimator._avatar :null);
			}
		}
	});

	/**
	*设置动画的播放速度,1.0为正常播放速度。
	*@param 动画的播放速度。
	*/
	/**
	*获取动画的播放速度,1.0为正常播放速度。
	*@return 动画的播放速度。
	*/
	__getset(0,__proto,'speed',function(){
		return this._speed;
		},function(value){
		this._speed=value;
	});

	/**
	*设置缓存播放速率，缓存模式下生效。注意：修改此值会有计算开销。*
	*@return value 缓存播放速率。
	*/
	/**
	*获取缓存播放速率，缓存模式下生效。*
	*@return 缓存播放速率。
	*/
	__getset(0,__proto,'cacheSpeed',function(){
		return this._cacheSpeed;
		},function(value){
		if (this._cacheSpeed!==value){
			this._cacheSpeed=value;
			for (var i=0,n=this._controllerLayers.length;i < n;i++){
				var clipStateInfos=this._controllerLayers[i];
				for (var j=0,m=clipStateInfos.length;j < m;j++){
					var clipStateInfo=clipStateInfos[j];
					(clipStateInfo._clip.loaded)&& (this._computeCacheFullKeyframeIndices(clipStateInfo));
				}
			}
		}
	});

	Animator._update=function(scene){
		var pool=scene._animatorPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var animator=elements[i];
			(animator && animator.enabled)&& (animator._update());
		}
	}

	Animator.CULLINGMODE_ALWAYSANIMATE=0;
	Animator.CULLINGMODE_CULLCOMPLETELY=2;
	return Animator;
})(Component)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/TrailFilter.as=======98.999573/98.999573
/**
*...
*@author ...
*/
//class laya.d3.core.trail.TrailFilter extends laya.events.EventDispatcher
var TrailFilter=(function(_super){
	function TrailFilter(owner){
		this._owner=null;
		this._trailRenderElements=null;
		this._minVertexDistance=NaN;
		this._widthMultiplier=NaN;
		this._time=NaN;
		this._widthCurve=null;
		this._colorGradient=null;
		this._textureMode=0;
		this._curtime=0;
		this._curSubTrailFinishCurTime=0;
		this._curSubTrailFinished=false;
		this._hasLifeSubTrail=false;
		this._trailTotalLength=0;
		this._trailSupplementLength=0;
		this._trailDeadLength=0;
		this._isStart=false;
		this._trailRenderElementIndex=0;
		TrailFilter.__super.call(this);
		this._curSubTrailFinishPosition=new Vector3();
		this._curSubTrailFinishDirection=new Vector3();
		this._owner=owner;
		this._trailRenderElements=[];
		this.addRenderElement();
	}

	__class(TrailFilter,'laya.d3.core.trail.TrailFilter',_super);
	var __proto=TrailFilter.prototype;
	/**
	*@private
	*/
	__proto._changeRenderElement=function(index){
		var render=this._owner._render;
		var elements=render._renderElements;
		var renderElement=elements[index];
		if (renderElement){
			renderElement.setGeometry(this._trailRenderElements[index]);
			}else {
			var material=render.sharedMaterials [0];
			(material)|| (material=TrailMaterial.defaultMaterial);
			renderElement=elements[index]=new RenderElement();
			renderElement.setTransform(this._owner._transform);
			renderElement.render=render;
			renderElement.material=material;
			renderElement.setGeometry(this._trailRenderElements[index]);
		}
	}

	__proto.getRenderElementsCount=function(){
		return this._trailRenderElements.length;
	}

	__proto.addRenderElement=function(){
		for (var i=0;i < this._trailRenderElements.length;i++){
			if (this._trailRenderElements[i]._isDead==true){
				this._trailRenderElements[i].reActivate();
				this._changeRenderElement(i);
				return i;
			}
		};
		var _trailRenderElement=new TrailRenderElement(this);
		this._trailRenderElements.push(_trailRenderElement);
		this._changeRenderElement(this._trailRenderElements.length-1);
		return this._trailRenderElements.length-1;
	}

	__proto.getRenderElement=function(index){
		return this._trailRenderElements[index];
	}

	__proto._update=function(state){
		this._curtime+=(state.scene).timer._delta / 1000;
		this._owner._render._shaderValues.setNumber(3,this._curtime);
		if (this._curSubTrailFinished){
			this._curSubTrailFinished=false;
			this.addRenderElement();
		}
	}

	__proto.reset=function(){
		for (var i=0;i < this._trailRenderElements.length;i++){
			this._trailRenderElements[i].reActivate();
		}
		this._isStart=false;
		this._hasLifeSubTrail=false;
		this._curSubTrailFinished=false;
		this._curSubTrailFinishCurTime=0;
		this._trailTotalLength=0;
		this._trailSupplementLength=0;
		this._trailDeadLength=0;
	}

	/**
	*@private
	*/
	__proto.destroy=function(){
		for (var i=0;i < this._trailRenderElements.length;i++){
			this._trailRenderElements[i]._destroy();
		}
		this._trailRenderElements=null;
		this._widthCurve=null;
		this._colorGradient=null;
		this._curSubTrailFinishPosition=null;
		this._curSubTrailFinishDirection=null;
	}

	/**
	*设置宽度倍数。
	*@param value 宽度倍数。
	*/
	/**
	*获取宽度倍数。
	*@return 宽度倍数。
	*/
	__getset(0,__proto,'widthMultiplier',function(){
		return this._widthMultiplier;
		},function(value){
		this._widthMultiplier=value;
	});

	/**
	*设置淡出时间。
	*@param value 淡出时间。
	*/
	/**
	*获取淡出时间。
	*@return 淡出时间。
	*/
	__getset(0,__proto,'time',function(){
		return this._time;
		},function(value){
		this._time=value;
		this._owner._render._shaderValues.setNumber(4,value);
	});

	/**
	*设置宽度曲线。
	*@param value 宽度曲线。
	*/
	/**
	*获取宽度曲线。
	*@return 宽度曲线。
	*/
	__getset(0,__proto,'widthCurve',function(){
		return this._widthCurve;
		},function(value){
		this._widthCurve=value;
		var widthCurveFloatArray=new Float32Array(value.length *4);
		var i=0,j=0,index=0;
		for (i=0,j=value.length;i < j;i++){
			widthCurveFloatArray[index++]=value[i].time;
			widthCurveFloatArray[index++]=value[i].inTangent;
			widthCurveFloatArray[index++]=value[i].outTangent;
			widthCurveFloatArray[index++]=value[i].value;
		}
		this._owner._render._shaderValues.setBuffer(5,widthCurveFloatArray);
		this._owner._render._shaderValues.setInt(6,value.length);
	});

	/**
	*设置新旧顶点之间最小距离。
	*@param value 新旧顶点之间最小距离。
	*/
	/**
	*获取新旧顶点之间最小距离。
	*@return 新旧顶点之间最小距离。
	*/
	__getset(0,__proto,'minVertexDistance',function(){
		return this._minVertexDistance;
		},function(value){
		this._minVertexDistance=value;
	});

	/**
	*设置颜色梯度。
	*@param value 颜色梯度。
	*/
	/**
	*获取颜色梯度。
	*@return 颜色梯度。
	*/
	__getset(0,__proto,'colorGradient',function(){
		return this._colorGradient;
		},function(value){
		this._colorGradient=value;
		this._owner._render._shaderValues.setBuffer(7,value._colorKeyData);
		this._owner._render._shaderValues.setBuffer(8,value._alphaKeyData);
		if (value.mode==0){
			this._owner._render._defineDatas.add(TrailSprite3D.SHADERDEFINE_GRADIENTMODE_BLEND);
			}else {
			this._owner._render._defineDatas.remove(TrailSprite3D.SHADERDEFINE_GRADIENTMODE_BLEND);
		}
	});

	/**
	*设置纹理模式。
	*@param value 纹理模式。
	*/
	/**
	*获取纹理模式。
	*@return 纹理模式。
	*/
	__getset(0,__proto,'textureMode',function(){
		return this._textureMode;
		},function(value){
		this._textureMode=value;
	});

	return TrailFilter;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/physics/Collider.as=======98.999573/98.999573
/**
*<code>Collider</code> 类用于创建碰撞器的父类，抽象类，不允许实例。
*/
//class laya.d3.component.physics.Collider extends laya.components.Component
var Collider=(function(_super){
	function Collider(){
		/**@private */
		//this._needUpdate=false;
		/**@private 只读，不允许修改。*/
		//this._isRigidbody=false;
		/**@private */
		//this._runtimeCollisonMap=null;
		/**@private */
		//this._runtimeCollisonTestMap=null;
		/**@private */
		//this._ignoreCollisonMap=null;
		/**是否为触发器。*/
		//this.isTrigger=false;
		Collider.__super.call(this);
		this._isRigidbody=false;
		this._runtimeCollisonMap={};
		this._runtimeCollisonTestMap={};
		this._ignoreCollisonMap={};
		this.isTrigger=true;
	}

	__class(Collider,'laya.d3.component.physics.Collider',_super);
	var __proto=Collider.prototype;
	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		var rigidbody=this._owner.getComponent(Rigidbody);
		(rigidbody)&& (this._isRigidbody=true);
		var colliders=(this._owner)._colliders;colliders=colliders|| [];
		colliders.push(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		var colliders=(this._owner)._colliders;
		colliders.splice(colliders.indexOf(this),1);
		for (var k in this._runtimeCollisonMap){
			var otherCollider=this._runtimeCollisonMap[k];
			delete otherCollider._runtimeCollisonMap[this.id];
			if (otherCollider._isRigidbody)
				delete otherCollider._runtimeCollisonTestMap[this.id];
			delete this._ignoreCollisonMap[k]._ignoreCollisonMap[this.id];
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		var owner=this._owner;
		(owner._scene)._layerList[owner.layer]._addCollider(this);
		if ((owner.scene)._enablePhysics && !owner.compoundShape){
			owner.compoundShape=new Ammo.btCompoundShape();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisable=function(){
		this._clearCollsionMap();
		var owner=this._owner;
		(owner._scene)._layerList[owner.layer]._removeCollider(this);
	}

	/**
	*@private
	*/
	__proto._clearCollsionMap=function(){
		for (var k in this._runtimeCollisonMap){
			var otherCollider=this._runtimeCollisonMap[k];
			delete otherCollider._runtimeCollisonMap[this.id];
			if (otherCollider._isRigidbody)
				delete otherCollider._runtimeCollisonTestMap[this.id];
			var otherID=otherCollider.id;
			delete this._runtimeCollisonMap[otherID];
			if (this._isRigidbody)
				delete this._runtimeCollisonTestMap[otherID];
		}
	}

	/**
	*@private
	*/
	__proto._setIsRigidbody=function(value){
		if (this._isRigidbody!==value){
			this._isRigidbody=value;
			var owner=this._owner;
			if (owner.displayedInStage){
				var layer=owner.layer;
				layer._removeCollider(this);
				layer._addCollider(this);
			}
		}
	}

	/**
	*@private
	*/
	__proto._getType=function(){
		return-1;
	}

	/**
	*@private
	*/
	__proto._collisonTo=function(other){
		return false;
	}

	/**
	*在场景中投下可与球体碰撞器碰撞的一条光线,获取发生碰撞的球体碰撞器信息。
	*@param ray 射线
	*@param outHitInfo 与该射线发生碰撞球体碰撞器的碰撞信息
	*@param distance 射线长度,默认为最大值
	*/
	__proto.raycast=function(ray,hitInfo,maxDistance){
		(maxDistance===void 0)&& (maxDistance=1.79e+308);
		throw new Error("Collider:Must override it.");
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'enabled',_super.prototype._$get_enabled,function(value){
		if (this._enabled!==value){
			var owner=this._owner;
			if (owner.displayedInStage)
				(value)|| (this._clearCollsionMap());
			this._enabled=value;
		}
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'isSingleton',function(){
		return false;
	});

	Collider._physicsObjects=[];
	Collider._physicsObjectIndex=0;
	return Collider;
})(Component)


	//file:///H:/work/sniper/sniper/client/src/testcode/TestOPSprite.as=======98.999569/98.999569
/**
*测试操作器
*@author wulongbin
*
*/
//class testcode.TestOPSprite extends fs.OPSprite
var TestOPSprite=(function(_super){
	function TestOPSprite(msg){
		this.sniper=null;
		/**
		*是否是自己
		*/
		this.isSelf=false;
		this.indexCoe=1;
		this.scene=null;
		this.autoFaceAngle=NaN;
		this._memberMsg=null;
		this.minAngle=NaN;
		this.maxAngle=NaN;
		this.startFaceAngle=NaN;
		this.startGunAngleY=NaN;
		this.moveCoe=0;
		this.moveAngle=false;
		this.angleSpeed=1;
		this.faceAngle=NaN;
		this.gunAngleY=NaN;
		this.angleStep=NaN;
		this.moveKey=0;
		this._lastRightMousePos=new Point();
		this._lastLeftMousePos=new Point();
		this._memberMsg=msg;
		TestOPSprite.__super.call(this,msg.userid);
	}

	__class(TestOPSprite,'testcode.TestOPSprite',_super);
	var __proto=TestOPSprite.prototype;
	__proto.onInit=function(){
		this.registerDealOP(FireMsg,this.onFireMsg.bind(this));
		this.registerDealOP(SquatMsg,this.onSquat.bind(this));
		this.registerDealOP(ClickMsg,this.onClickMsg.bind(this));
		this.registerDealOP(MoveMsg,this.onMove.bind(this));
		this.registerDealOP(KeyMsg,this.onKeyMsg.bind(this));
		this.registerDealOP(AimMsg,this.onAimMsg.bind(this));
		this.registerDealOP(ChangeGunMsg,this.onChangeGun.bind(this));
		this.registerDealOP(ChangeBulletMsg,this.onChangeBullet.bind(this));
		this.registerDealOP(AimTargetMsg,this.onAimTarget.bind(this));
		this.isSelf=this.ID==FSGame.userID;
		this.scene=GameSystem.scene;
		var roleData=this.scene.getGameObjParam();
		var arrribute=new Attribute;
		roleData.clear()
		.setConfig(this._memberMsg.defineId,"Character")
		.setOther(0,'',this.ID+'')
		.setExtendData({'attribute':arrribute});
		if (this._memberMsg.group==11){
			this.indexCoe=1;
			this.faceAngle=this.autoFaceAngle=0;
		}
		else {
			this.indexCoe=-1;
			this.faceAngle=this.autoFaceAngle=180;
		}
		this.minAngle=this.maxAngle=this.autoFaceAngle;
		this.sniper=roleData.create();
		this.sniper.cameraFaceAngle=this.autoFaceAngle;
		this.sniper.groupID=this._memberMsg.group;
		this.sniper.sniperMoveCtrl.resetMovePath();
		var eff=StaticEffect3D.createStaticEffect3D(""+3000);
		eff.onInit(this.sniper.node);
		this.sniper.actionController.on(this,this.onActionChange);
		this.sniper.on('Dead',this,this.onDead);
		if (this.isSelf){
			if (this.sniper.groupID==11){
				Camera3DExtend.cameraLeft=80;
				Camera3DExtend.cameraRight=-80;
				}else {
				Camera3DExtend.cameraLeft=260;
				Camera3DExtend.cameraRight=90;
			}
			GameSystem.hero=this.sniper;
			this.sniper.isHero=true;
			this.scene.camera.bindTarget(this.sniper);
			EventCenter.event('createSelf',this.sniper);
		}
	}

	/**
	*服务端帧轮询
	*@param now
	*
	*/
	__proto.onLoop=function(){
		var curFaceAngle=this.sniper.cameraFaceAngle;
		curFaceAngle=curFaceAngle *0.90+this.faceAngle *0.10;
	}

	/**
	*
	*客户端模拟帧轮询
	*(需开启前端模拟)
	*@param now
	*
	*/
	__proto.onSimulationLoop=function(){}
	__proto.onActionChange=function(){
		if (this.sniper.actionController.actionId=='1015' ||
			this.sniper.actionController.actionId=='1012' ||
		this.sniper.actionController.actionId=='1021'){
			CrossAim.I.isStandMode=false;
		}
		else {
			if (!CrossAim.I.isStandMode)
				CrossAim.I.isStandMode=true;
		}
	}

	/**
	*发送点击操作
	*@param x
	*@param y
	*@param touchID 按键区域
	*@param type 点击类型
	*/
	__proto.opMouseClick=function(x,y,touchID,type){
		var clickMsg=new ClickMsg;
		clickMsg.x=x;
		clickMsg.y=y;
		clickMsg.touchID=touchID;
		clickMsg.mouseType=type;
		this.sendOP(clickMsg);
	}

	__proto.opAimTarget=function(x,y,z){
		var msg=new AimTargetMsg;
		msg.x=x;
		msg.y=y;
		msg.z=z;
		this.sendOP(msg);
	}

	__proto.opSquatMsg=function(){
		var msg=new SquatMsg;
		this.sendOP(msg);
	}

	__proto.opMove=function(dir){
		var msg=new MoveMsg;
		msg.dir=dir;
		this.sendOP(msg);
		console.log("send move  dir = "+dir);
	}

	__proto.opChangeGun=function(){
		var msg=new ChangeGunMsg;
		this.sendOP(msg);
	}

	__proto.opChangeBullet=function(){
		var msg=new ChangeBulletMsg;
		this.sendOP(msg);
	}

	__proto.opFire=function(bool,type,point,cameraAngle){
		var fireMsg=new FireMsg;
		fireMsg.isFire=bool;
		fireMsg.type=type;
		fireMsg.x=point.x;
		fireMsg.y=point.y;
		fireMsg.z=point.z;
		fireMsg.ca=cameraAngle;
		this.sendOP(fireMsg);
	}

	__proto.opAim=function(bool){
		if (this.sniper.actionController.actionId !='1000'){
			this.sniper.actionController.playActionById('1000');
			return;
		};
		var aimMsg=new AimMsg;
		aimMsg.aim=bool;
		this.sendOP(aimMsg);
	}

	__proto.opKey=function(key,isPress){
		var msg=new KeyMsg();
		msg.key=key;
		msg.press=isPress;
		this.sendOP(msg);
	}

	/**
	*处理操作信息
	*
	*@param clickMsg
	*/
	__proto.onClickMsg=function(clickMsg){
		if (this.isSelf){
			return;
		}
		if (clickMsg.mouseType==1){
			this.moveAngle=true;
			this._lastRightMousePos.setTo(clickMsg.x,clickMsg.y);
			this.startFaceAngle=this.faceAngle=this.sniper.cameraFaceAngle;
			this.startGunAngleY=this.gunAngleY=this.sniper.gunAngleY;
		}
		else if (clickMsg.mouseType==2){
			var intervalX=(clickMsg.x-this._lastRightMousePos.x)/ 5;
			var intervalY=(clickMsg.y-this._lastRightMousePos.y)/ 5;
			var step=1;
			step=this.sniper.isAim ? step / this.sniper.ratio :step;
			this._lastRightMousePos.setTo(clickMsg.x,clickMsg.y);
			if (this.sniper.isAim){
				(this.sniper.avatar).rotateCamera(0,-step *intervalX);
			}
		}
		else {
			this.moveAngle=false;
		}
	}

	// }
	__proto.onSquat=function(msg){
		if (this.sniper.isDead){
			return;
		}
		this.scene.timer.clear(this,this.onContinuouFire);
		if (this.sniper.isMove){
			this.sniper.sniperMoveCtrl.stopMove();
			this.sniper.actionController.playActionById('1012');
			this.sniper.curAction=this.sniper.actionController.action;
			this.sniper.isAim=false;
			return;
		}
		if (this.sniper.actionController.actionId !='1012'){
			this.sniper.isAim=false;
			this.sniper.actionController.playActionById('1012');
		}
	}

	__proto.onMove=function(msg){
		console.log("receive move");
		if (this.sniper.isMove){
			return;
		}
		if (this.sniper.isAim){
			this.sniper.isAim=false;
		}
		if (msg.dir > 0){
			this.sniper.sniperMoveCtrl.moveRight();
		}
		else {
			this.sniper.sniperMoveCtrl.moveLeft();
		}
	}

	__proto.onChangeBullet=function(msg){
		if (this.sniper.curGun && this.sniper.curGun.gunState()==2)
			return;
		if (this.sniper.actionController.actionId=='1001'){
			this.sniper.stopMove();
		}
		if (this.sniper.actionController.actionId=='1015')
			return;
		this.sniper.curGun.reload();
	}

	__proto.onChangeGun=function(msg){
		this.sniper.nextGun();
	}

	__proto.onAimMsg=function(aimMsg){
		if (this.sniper.isDead){
			return;
		}
		if (aimMsg.aim){
			if (this.sniper.curGun && this.sniper.curGun.gunData.type=='1'){
				this.sniper.isAim=true;
			}
		}
		else {
			this.sniper.isAim=false;
		}
	}

	__proto.onAimTarget=function(msg){
		if (this.sniper==GameSystem.hero){
			return;
		}
		this.sniper.cameraTarget.x=msg.x;
		this.sniper.cameraTarget.y=msg.y;
		this.sniper.cameraTarget.z=msg.z;
	}

	__proto.onKeyMsg=function(keyMsg){
		if (keyMsg.key==65){
			if (keyMsg.press){
				this.moveKey |=1;
			}
			else {
				this.moveKey &=~1;
			}
		}
		else if (keyMsg.key==68){
			if (keyMsg.press){
				this.moveKey |=2;
			}
			else {
				this.moveKey &=~2;
			}
		}
		if (this.sniper.isMove)return;
		if (this.moveKey & 1){
			this.sniper.sniperMoveCtrl.moveLeft();
		}
		else if (this.moveKey & 2){
			this.sniper.sniperMoveCtrl.moveRight();
		}
	}

	// sniper.isMoveing=moveKey>0;
	__proto.onFireMsg=function(msg){
		console.log("onFireMsg = "+msg.type);
		if (msg.type==0){
			if ((msg.isFire && this.sniper.curGun && !this.sniper.curGun.canFire())||
				this.sniper.actionController.actionId=='1017' ||
			this.sniper.actionController.actionId=='1016'){
				return;
			}
			if (msg.isFire && this.sniper.stateMachine.currentState=="squat"){
				this.sniper.curGun && this.sniper.curGun.stopReload();
				this.sniper.actionController.playActionById('1000');
				this.sniper.cameraTarget.x=msg.x;
				this.sniper.cameraTarget.y=msg.y;
				this.sniper.cameraTarget.z=msg.z;
				this.sniper.isAim=!!this.sniper.curGun;
				return;
			}
			if (msg.isFire){
				this.sniper.cameraTarget.x=msg.x;
				this.sniper.cameraTarget.y=msg.y;
				this.sniper.cameraTarget.z=msg.z;
				this.sniper.cameraFaceAngle=msg.ca;
				if (this.sniper.actionController.actionId=='1015'){
					if (this.sniper.curGun && this.sniper.curGun.gunState()!=0)
						return;
				}
				this.sniper.fire(true);
				this.scene.timer.loop(this.sniper.curGun.propertyData.interval,this,this.onContinuouFire);
			}
			else {
				this.scene.timer.clear(this,this.onContinuouFire);
				this.sniper.fire(false);
			}
		}
		else {
			this.sniper.cameraTarget.x=msg.x;
			this.sniper.cameraTarget.y=msg.y;
			this.sniper.cameraTarget.z=msg.z;
			this.sniper.cameraFaceAngle=msg.ca;
			this.sniper.shoulei();
		}
	}

	__proto.onDead=function(){
		this.scene.timer.clear(this,this.onContinuouFire);
		this.sniper.fire(false);
	}

	__proto.onContinuouFire=function(){
		if (this.sniper.stateMachine.currentState=="squat" &&
			this.sniper.actionController.actionId !='1015'){
			this.sniper.actionController.playActionById('1000');
		}
		this.sniper.fire(true);
	}

	TestOPSprite.EVENT_CREATESELF='createSelf';
	return TestOPSprite;
})(OPSprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/Rigidbody.as=======98.999569/98.999569
/**
*<code>Rigidbody</code> 类用于创建动画组件。
*/
//class laya.d3.component.Rigidbody extends laya.components.Component
var Rigidbody=(function(_super){
	function Rigidbody(){
		this._mass=NaN;
		this._friction=NaN;
		this._restitution=NaN;
		this._isKinematic=false;
		Rigidbody.__super.call(this);
		this._mass=0;
		this._friction=0.5;
		this._restitution=0.5;
		this._isKinematic=false;
	}

	__class(Rigidbody,'laya.d3.component.Rigidbody',_super);
	var __proto=Rigidbody.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		this._mass=data.mass;
		this._isKinematic=data.isKinematic;
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		var colliders=(this._owner)._colliders;
		if (colliders){
			for (var i=0,n=colliders.length;i < n;i++)
			colliders[i]._setIsRigidbody(true);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		var colliders=(this._owner)._colliders;
		if (colliders){
			for (var i=0,n=colliders.length;i < n;i++){
				var collider=colliders[i];
				collider._setIsRigidbody(false);
				var runtimeCollisonMap=collider._runtimeCollisonMap;
				var runtimeCollisonTestMap=collider._runtimeCollisonTestMap;
				for (var k in runtimeCollisonMap)
				delete runtimeCollisonTestMap[k];
			}
		}
	}

	/**
	*设置质量。
	*@param value 质量。
	*/
	/**
	*获取质量。
	*@return 质量。
	*/
	__getset(0,__proto,'mass',function(){
		return this._mass;
		},function(value){
		this._mass=Math.max(0.0,value);
	});

	/**
	*设置摩擦力。
	*@param value 摩擦力。
	*/
	/**
	*获取摩擦力。
	*@return 摩擦力。
	*/
	__getset(0,__proto,'friction',function(){
		return this._friction;
		},function(value){
		this._friction=value;
	});

	/**
	*设置弹力。
	*@param value 弹力。
	*/
	/**
	*获取弹力。
	*@return 弹力。
	*/
	__getset(0,__proto,'restitution',function(){
		return this._restitution;
		},function(value){
		this._restitution=value;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'enabled',_super.prototype._$get_enabled,function(value){
		if (this._enabled!==value){
			var colliders=(this._owner)._colliders;
			if (colliders){
				for (var i=0,n=colliders.length;i < n;i++){
					var collider=colliders[i];
					collider._setIsRigidbody(value);
					var runtimeCollisonMap=collider._runtimeCollisonMap;
					var runtimeCollisonTestMap=collider._runtimeCollisonTestMap;
					if (!value){
						for (var k in runtimeCollisonMap)
						delete runtimeCollisonTestMap[k];
					}
				}
			}
			this._enabled=value;
		}
	});

	/**
	*设置是否受物理世界影响
	*@param value 是否受物理世界影响
	*/
	/**
	*获取是否受物理世界影响
	*@return 是否受物理世界影响
	*/
	__getset(0,__proto,'isKinematic',function(){
		return this._isKinematic;
		},function(value){
		this._isKinematic=value
	});

	return Rigidbody;
})(Component)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/Script3D.as=======98.999568/98.999568
/**
*<code>Script3D</code> 类用于创建脚本的父类,该类为抽象类,不允许实例。
*/
//class laya.d3.component.Script3D extends laya.components.Component
var Script3D=(function(_super){
	function Script3D(){
		Script3D.__super.call(this);;
	}

	__class(Script3D,'laya.d3.component.Script3D',_super);
	var __proto=Script3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		this.awake();
	}

	/**
	*@inheritDoc
	*/
	__proto._onEnable=function(){
		var proto=laya.d3.component.Script3D.prototype;
		if (this.onMouseDown!==proto.onMouseDown){
			this.owner.on("mousedown",this,this.onMouseDown);
		}
		if (this.onMouseUp!==proto.onMouseUp){
			this.owner.on("mouseup",this,this.onMouseUp);
		}
		if (this.onClick!==proto.onClick){
			this.owner.on("click",this,this.onClick);
		}
		if (this.onDoubleClick!==proto.onDoubleClick){
			this.owner.on("doubleclick",this,this.onDoubleClick);
		}
		if (this.onRightClick!==proto.onRightClick){
			this.owner.on("rightclick",this,this.onRightClick);
		}
		if (this.onMouseMove!==proto.onMouseMove){
			this.owner.on("mousemove",this,this.onMouseMove);
		}
		if (this.onMouseOver!==proto.onMouseOver){
			this.owner.on("mouseover",this,this.onMouseOver);
		}
		if (this.onMouseOut!==proto.onMouseOut){
			this.owner.on("mouseout",this,this.onMouseOut);
		}
		if (this.onKeyDown!==proto.onKeyDown){
			Laya.stage.on("keydown",this,this.onKeyDown);
		}
		if (this.onKeyPress!==proto.onKeyPress){
			Laya.stage.on("keypress",this,this.onKeyUp);
		}
		if (this.onKeyUp!==proto.onKeyUp){
			Laya.stage.on("keyup",this,this.onKeyUp);
		}
		this.onEnable();
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisable=function(){
		this.owner.offAllCaller(this);
		Laya.stage.offAllCaller(this);
		this.onDisable();
	}

	/**
	*@inheritDoc
	*/
	__proto._onEnableInScene=function(){
		(this._owner)._scene._scriptPool.add(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisableInScene=function(){
		(this._owner)._scene._scriptPool.remove(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		var owner=this._owner;
		var scripts=owner._scripts;
		scripts ||(owner._scripts=scripts=[]);
		scripts.push(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		var scripts=(this._owner)._scripts;
		scripts.splice(scripts.indexOf(this),1);
		this.onDestroy();
	}

	/**
	*创建后只执行一次
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.awake=function(){}
	/**
	*每次启动后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onEnable=function(){}
	/**
	*第一次执行update之前执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.start=function(){}
	/**
	*开始碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerEnter=function(other){}
	/**
	*持续碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerStay=function(other){}
	/**
	*结束碰撞时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onTriggerExit=function(other){}
	/**
	*鼠标按下时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseDown=function(e){}
	/**
	*鼠标抬起时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseUp=function(e){}
	/**
	*鼠标点击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onClick=function(e){}
	/**
	*鼠标双击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDoubleClick=function(e){}
	/**
	*鼠标右键点击时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onRightClick=function(e){}
	/**
	*鼠标移动时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseMove=function(e){}
	/**
	*鼠标经过node时触发
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseOver=function(e){}
	/**
	*鼠标离开node时触发
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onMouseOut=function(e){}
	/**
	*键盘按下时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyDown=function(e){}
	/**
	*键盘产生一个字符时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyPress=function(e){}
	/**
	*键盘抬起时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onKeyUp=function(e){}
	/**
	*每帧更新时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.update=function(){}
	/**
	*每帧更新时执行，在update之后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.lateUpdate=function(){}
	/**
	*渲染之前执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onPreRender=function(){}
	/**
	*渲染之后执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onPostRender=function(){}
	/**
	*禁用时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDisable=function(){}
	/**
	*销毁时执行
	*此方法为虚方法，使用时重写覆盖即可
	*/
	__proto.onDestroy=function(){}
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'isSingleton',function(){
		return false;
	});

	return Script3D;
})(Component)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/Transform3D.as=======98.999567/98.999567
/**
*<code>Transform3D</code> 类用于实现3D变换。
*/
//class laya.d3.core.Transform3D extends laya.events.EventDispatcher
var Transform3D=(function(_super){
	function Transform3D(owner){
		/**@private */
		this._owner=null;
		/**@private */
		this._localQuaternionUpdate=false;
		/**@private */
		this._locaEulerlUpdate=false;
		/**@private */
		this._localUpdate=false;
		/**@private */
		this._worldUpdate=true;
		/**@private */
		this._positionUpdate=true;
		/**@private */
		this._rotationUpdate=true;
		/**@private */
		this._scaleUpdate=true;
		/**@private */
		this._parent=null;
		/**@private */
		this._children=null;
		/**@private */
		this._dummy=null;
		/**@private [只读]*/
		this._id=0;
		/**变换中心点,注意:该中心点不受变换的影响。*/
		this.pivot=null;
		Transform3D.__super.call(this);
		this._localPosition=new Vector3();
		this._localRotation=new Quaternion(0,0,0,1);
		this._localScale=new Vector3(1,1,1);
		this._localRotationEuler=new Vector3();
		this._localMatrix=new Matrix4x4();
		this._position=new Vector3();
		this._rotation=new Quaternion(0,0,0,1);
		this._scale=new Vector3(1,1,1);
		this._worldMatrix=new Matrix4x4();
		this._forward=new Vector3();
		this._up=new Vector3();
		this._right=new Vector3();
		this._id=++Transform3D._uniqueIDCounter;
		this._owner=owner;
		this._children=[];
	}

	__class(Transform3D,'laya.d3.core.Transform3D',_super);
	var __proto=Transform3D.prototype;
	/**
	*@private
	*/
	__proto._updateLocalMatrix=function(){
		if (this.pivot && (this.pivot.x!==0 || this.pivot.y!==0 || this.pivot.z!==0)){
			var scalePivot=Transform3D._tempVector30;
			Vector3.multiply(this.pivot,this._localScale,scalePivot);
			var scaleOffsetPosition=Transform3D._tempVector31;
			Vector3.subtract(scalePivot,this.pivot,scaleOffsetPosition);
			var rotationOffsetPosition=Transform3D._tempVector32;
			var localRot=this.localRotation;
			Vector3.transformQuat(scalePivot,localRot,rotationOffsetPosition);
			Vector3.subtract(rotationOffsetPosition,scalePivot,rotationOffsetPosition);
			var resultLocalPosition=Transform3D._tempVector33;
			Vector3.subtract(this._localPosition,scaleOffsetPosition,resultLocalPosition);
			Vector3.subtract(resultLocalPosition,rotationOffsetPosition,resultLocalPosition);
			Matrix4x4.createAffineTransformation(resultLocalPosition,localRot,this._localScale,this._localMatrix);
			}else {
			Matrix4x4.createAffineTransformation(this._localPosition,this.localRotation,this._localScale,this._localMatrix);
		}
	}

	/**
	*@private
	*/
	__proto._onWorldPositionRotationTransform=function(){
		if (!this._worldUpdate || !this._positionUpdate || !this._rotationUpdate){
			this._worldUpdate=this._positionUpdate=this._rotationUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldPositionRotationTransform();
		}
	}

	/**
	*@private
	*/
	__proto._onWorldPositionScaleTransform=function(){
		if (!this._worldUpdate || !this._positionUpdate || !this._scaleUpdate){
			this._worldUpdate=this._positionUpdate=this._scaleUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldPositionScaleTransform();
		}
	}

	/**
	*@private
	*/
	__proto._onWorldPositionTransform=function(){
		if (!this._worldUpdate || !this._positionUpdate){
			this._worldUpdate=this._positionUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldPositionTransform();
		}
	}

	/**
	*@private
	*/
	__proto._onWorldRotationTransform=function(){
		if (!this._worldUpdate || !this._rotationUpdate){
			this._worldUpdate=this._rotationUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldPositionRotationTransform();
		}
	}

	/**
	*@private
	*/
	__proto._onWorldScaleTransform=function(){
		if (!this._worldUpdate || !this._scaleUpdate){
			this._worldUpdate=this._scaleUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldPositionScaleTransform();
		}
	}

	/**
	*@private
	*/
	__proto._onWorldTransform=function(){
		if (!this._worldUpdate || !this._positionUpdate || !this._rotationUpdate || !this._scaleUpdate){
			this._worldUpdate=this._positionUpdate=this._rotationUpdate=this._scaleUpdate=true;
			this.event("worldmatrixneedchanged");
			for (var i=0,n=this._children.length;i < n;i++)
			this._children[i]._onWorldTransform();
		}
	}

	/**
	*平移变换。
	*@param translation 移动距离。
	*@param isLocal 是否局部空间。
	*/
	__proto.translate=function(translation,isLocal){
		(isLocal===void 0)&& (isLocal=true);
		if (isLocal){
			Matrix4x4.createFromQuaternion(this.localRotation,Transform3D._tempMatrix0);
			Vector3.transformCoordinate(translation,Transform3D._tempMatrix0,Transform3D._tempVector30);
			Vector3.add(this.localPosition,Transform3D._tempVector30,this._localPosition);
			this.localPosition=this._localPosition;
			}else {
			Vector3.add(this.position,translation,this._position);
			this.position=this._position;
		}
	}

	/**
	*旋转变换。
	*@param rotations 旋转幅度。
	*@param isLocal 是否局部空间。
	*@param isRadian 是否弧度制。
	*/
	__proto.rotate=function(rotation,isLocal,isRadian){
		(isLocal===void 0)&& (isLocal=true);
		(isRadian===void 0)&& (isRadian=true);
		var rot;
		if (isRadian){
			rot=rotation;
			}else {
			Vector3.scale(rotation,Math.PI / 180.0,Transform3D._tempVector30);
			rot=Transform3D._tempVector30;
		}
		Quaternion.createFromYawPitchRoll(rot.y,rot.x,rot.z,Transform3D._tempQuaternion0);
		if (isLocal){
			Quaternion.multiply(this._localRotation,Transform3D._tempQuaternion0,this._localRotation);
			this.localRotation=this._localRotation;
			}else {
			Quaternion.multiply(Transform3D._tempQuaternion0,this.rotation,this._rotation);
			this.rotation=this._rotation;
		}
	}

	/**
	*观察目标位置。
	*@param target 观察目标。
	*@param up 向上向量。
	*@param isLocal 是否局部空间。
	*/
	__proto.lookAt=function(target,up,isLocal){
		(isLocal===void 0)&& (isLocal=false);
		var targetE=target.elements;
		var eyeE;
		if (isLocal){
			eyeE=this._localPosition.elements;
			if (Math.abs(eyeE[0]-targetE[0])< MathUtils3D.zeroTolerance && Math.abs(eyeE[1]-targetE[1])< MathUtils3D.zeroTolerance && Math.abs(eyeE[2]-targetE[2])< MathUtils3D.zeroTolerance)
				return;
			Quaternion.lookAt(this._localPosition,target,up,this._localRotation);
			this._localRotation.invert(this._localRotation);
			this.localRotation=this._localRotation;
			}else {
			var worldPosition=this.position;
			eyeE=worldPosition.elements;
			if (Math.abs(eyeE[0]-targetE[0])< MathUtils3D.zeroTolerance && Math.abs(eyeE[1]-targetE[1])< MathUtils3D.zeroTolerance && Math.abs(eyeE[2]-targetE[2])< MathUtils3D.zeroTolerance)
				return;
			Quaternion.lookAt(worldPosition,target,up,this._rotation);
			this._rotation.invert(this._rotation);
			this.rotation=this._rotation;
		}
	}

	/**
	*@private
	*/
	__getset(0,__proto,'_isFrontFaceInvert',function(){
		var scale=this.scale;
		var isInvert=scale.x < 0;
		(scale.y < 0)&& (isInvert=!isInvert);
		(scale.z < 0)&& (isInvert=!isInvert);
		return isInvert;
	});

	/**
	*获取所属精灵。
	*/
	__getset(0,__proto,'owner',function(){
		return this._owner;
	});

	/**
	*设置局部旋转。
	*@param value 局部旋转。
	*/
	/**
	*获取局部旋转。
	*@return 局部旋转。
	*/
	__getset(0,__proto,'localRotation',function(){
		if (this._localQuaternionUpdate){
			var eulerE=this._localRotationEuler.elements;
			Quaternion.createFromYawPitchRoll(eulerE[1] / Transform3D._angleToRandin,eulerE[0] / Transform3D._angleToRandin,eulerE[2] / Transform3D._angleToRandin,this._localRotation);
			this._localQuaternionUpdate=false;
		}
		return this._localRotation;
		},function(value){
		this._localRotation=value;
		this._localRotation.normalize(this._localRotation);
		this._locaEulerlUpdate=true;
		this._localQuaternionUpdate=false;
		this._localUpdate=true;
		if (this.pivot && (this.pivot.x!==0 || this.pivot.y!==0 || this.pivot.z!==0))
			this._onWorldPositionRotationTransform();
		else
		this._onWorldRotationTransform();
	});

	/**
	*设置世界矩阵。
	*@param value 世界矩阵。
	*/
	/**
	*获取世界矩阵。
	*@return 世界矩阵。
	*/
	__getset(0,__proto,'worldMatrix',function(){
		if (this._worldUpdate){
			if (this._parent !=null)
				Matrix4x4.multiply(this._parent.worldMatrix,this.localMatrix,this._worldMatrix);
			else
			this.localMatrix.cloneTo(this._worldMatrix);
			this._worldUpdate=false;
		}
		return this._worldMatrix;
		},function(value){
		if (this._parent===null){
			value.cloneTo(this._localMatrix);
			}else {
			this._parent.worldMatrix.invert(this._localMatrix);
			Matrix4x4.multiply(this._localMatrix,value,this._localMatrix);
		}
		this.localMatrix=this._localMatrix;
		this._worldMatrix=value;
		this._worldUpdate=false;
	});

	/**
	*获取世界矩阵是否需要更新。
	*@return 世界矩阵是否需要更新。
	*/
	__getset(0,__proto,'worldNeedUpdate',function(){
		return this._worldUpdate;
	});

	/**
	*设置局部矩阵。
	*@param value 局部矩阵。
	*/
	/**
	*获取局部矩阵。
	*@return 局部矩阵。
	*/
	__getset(0,__proto,'localMatrix',function(){
		if (this._localUpdate){
			this._updateLocalMatrix();
			this._localUpdate=false;
		}
		return this._localMatrix;
		},function(value){
		this._localMatrix=value;
		this._localMatrix.decomposeTransRotScale(this._localPosition,this._localRotation,this._localScale);
		this._localUpdate=false;
		this._onWorldTransform();
	});

	/**
	*设置关联虚拟变换。
	*@param value 虚拟变换。
	*/
	/**
	*获取关联虚拟变换。
	*@return 虚拟变换。
	*/
	__getset(0,__proto,'dummy',function(){
		return this._dummy;
		},function(value){
		if (this._dummy!==value){
			(this._dummy)&& (this._dummy._entity=null);
			(value)&& (value._entity=this);
			this._dummy=value;
		}
	});

	/**
	*设置局部位置。
	*@param value 局部位置。
	*/
	/**
	*获取局部位置。
	*@return 局部位置。
	*/
	__getset(0,__proto,'localPosition',function(){
		return this._localPosition;
		},function(value){
		this._localPosition=value;
		this._localUpdate=true;
		this._onWorldPositionTransform();
	});

	/**
	*设置世界位置。
	*@param value 世界位置。
	*/
	/**
	*获取世界位置。
	*@return 世界位置。
	*/
	__getset(0,__proto,'position',function(){
		if (this._positionUpdate){
			if (this._parent !=null){
				var parentPosition=this._parent.position;
				Vector3.multiply(this._localPosition,this._parent.scale,Transform3D._tempVector30);
				Vector3.transformQuat(Transform3D._tempVector30,this._parent.rotation,Transform3D._tempVector30);
				Vector3.add(parentPosition,Transform3D._tempVector30,this._position);
				}else {
				this._localPosition.cloneTo(this._position);
			}
			this._positionUpdate=false;
		}
		return this._position;
		},function(value){
		if (this._parent !=null){
			Vector3.subtract(value,this._parent.position,this._localPosition);
			var parentScaleE=this._parent.scale.elements;
			var psX=parentScaleE[0],psY=parentScaleE[1],psZ=parentScaleE[2];
			if (psX!==1.0 || psY!==1.0 || psZ!==1.0){
				var invertScale=Transform3D._tempVector30;
				var invertScaleE=invertScale.elements;
				invertScaleE[0]=1.0 / psX;
				invertScaleE[1]=1.0 / psY;
				invertScaleE[2]=1.0 / psZ;
				Vector3.multiply(this._localPosition,invertScale,this._localPosition);
			};
			var parentRotation=this._parent.rotation;
			parentRotation.invert(Transform3D._tempQuaternion0);
			Vector3.transformQuat(this._localPosition,Transform3D._tempQuaternion0,this._localPosition);
			}else {
			value.cloneTo(this._localPosition);
		}
		this.localPosition=this._localPosition;
		this._position=value;
		this._positionUpdate=false;
	});

	/**
	*设置局部缩放。
	*@param value 局部缩放。
	*/
	/**
	*获取局部缩放。
	*@return 局部缩放。
	*/
	__getset(0,__proto,'localScale',function(){
		return this._localScale;
		},function(value){
		this._localScale=value;
		this._localUpdate=true;
		if (this.pivot && (this.pivot.x!==0 || this.pivot.y!==0 || this.pivot.z!==0))
			this._onWorldPositionScaleTransform();
		else
		this._onWorldScaleTransform();
	});

	/**
	*设置局部空间的旋转角度。
	*@param value 欧拉角的旋转值，顺序为x、y、z。
	*/
	/**
	*获取局部空间的旋转角度。
	*@return 欧拉角的旋转值，顺序为x、y、z。
	*/
	__getset(0,__proto,'localRotationEuler',function(){
		if (this._locaEulerlUpdate){
			this._localRotation.getYawPitchRoll(Transform3D._tempVector30);
			var eulerE=Transform3D._tempVector30.elements;
			var localRotationEulerE=this._localRotationEuler.elements;
			localRotationEulerE[0]=eulerE[1] *Transform3D._angleToRandin;
			localRotationEulerE[1]=eulerE[0] *Transform3D._angleToRandin;
			localRotationEulerE[2]=eulerE[2] *Transform3D._angleToRandin;
			this._locaEulerlUpdate=false;
		}
		return this._localRotationEuler;
		},function(value){
		this._localRotationEuler=value;
		this._locaEulerlUpdate=false;
		this._localQuaternionUpdate=true;
		this._localUpdate=true;
		if (this.pivot && (this.pivot.x!==0 || this.pivot.y!==0 || this.pivot.z!==0))
			this._onWorldPositionRotationTransform();
		else
		this._onWorldRotationTransform();
	});

	/**
	*设置世界旋转。
	*@param value 世界旋转。
	*/
	/**
	*获取世界旋转。
	*@return 世界旋转。
	*/
	__getset(0,__proto,'rotation',function(){
		if (this._rotationUpdate){
			if (this._parent !=null)
				Quaternion.multiply(this._parent.rotation,this.localRotation,this._rotation);
			else
			this.localRotation.cloneTo(this._rotation);
			this._rotationUpdate=false;
		}
		return this._rotation;
		},function(value){
		if (this._parent !=null){
			this._parent.rotation.invert(Transform3D._tempQuaternion0);
			Quaternion.multiply(Transform3D._tempQuaternion0,value,this._localRotation);
			}else {
			value.cloneTo(this._localRotation);
		}
		this.localRotation=this._localRotation;
		this._rotation=value;
		this._rotationUpdate=false;
	});

	/**
	*设置世界缩放。
	*@param value 世界缩放。
	*/
	/**
	*获取世界缩放。
	*@return 世界缩放。
	*/
	__getset(0,__proto,'scale',function(){
		if (!this._scaleUpdate)
			return this._scale;
		if (this._parent!==null)
			Vector3.multiply(this._parent.scale,this._localScale,this._scale);
		else
		this._localScale.cloneTo(this._scale);
		this._scaleUpdate=false;
		return this._scale;
		},function(value){
		if (this._parent!==null){
			var pScaleE=this._parent.scale.elements;
			var invPScaleE=Transform3D._tempVector30.elements;
			invPScaleE[0]=1.0 / pScaleE[0];
			invPScaleE[1]=1.0 / pScaleE[1];
			invPScaleE[2]=1.0 / pScaleE[2];
			Vector3.multiply(value,Transform3D._tempVector30,this._localScale);
			}else {
			value.cloneTo(this._localScale);
		}
		this.localScale=this._localScale;
		this._scale=value;
		this._scaleUpdate=false;
	});

	/**
	*设置局部空间的旋转角度。
	*@param 欧拉角的旋转值，顺序为x、y、z。
	*/
	__getset(0,__proto,'rotationEuler',null,function(value){
		Quaternion.createFromYawPitchRoll(value.y,value.x,value.z,this._rotation);
		this.rotation=this._rotation;
	});

	/**
	*获取向前方向。
	*@return 向前方向。
	*/
	__getset(0,__proto,'forward',function(){
		var worldMatElem=this.worldMatrix.elements;
		this._forward.elements[0]=-worldMatElem[8];
		this._forward.elements[1]=-worldMatElem[9];
		this._forward.elements[2]=-worldMatElem[10];
		return this._forward;
	});

	/**
	*获取向上方向。
	*@return 向上方向。
	*/
	__getset(0,__proto,'up',function(){
		var worldMatElem=this.worldMatrix.elements;
		this._up.elements[0]=worldMatElem[4];
		this._up.elements[1]=worldMatElem[5];
		this._up.elements[2]=worldMatElem[6];
		return this._up;
	});

	/**
	*获取向右方向。
	*@return 向右方向。
	*/
	__getset(0,__proto,'right',function(){
		var worldMatElem=this.worldMatrix.elements;
		this._right.elements[0]=worldMatElem[0];
		this._right.elements[1]=worldMatElem[1];
		this._right.elements[2]=worldMatElem[2];
		return this._right;
	});

	/**
	*设置父3D变换。
	*@param value 父3D变换。
	*/
	/**
	*获取父3D变换。
	*@return 父3D变换。
	*/
	__getset(0,__proto,'parent',function(){
		return this._parent;
		},function(value){
		if (this._parent!==value){
			if (this._parent){
				var parentChilds=this._parent._children;
				var index=parentChilds.indexOf(this);
				parentChilds.splice(index,1);
			}
			if (value){
				value._children.push(this);
				(value)&& (this._onWorldTransform());
			}
			this._parent=value;
		}
	});

	Transform3D._uniqueIDCounter=0;
	__static(Transform3D,
	['_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempVector31',function(){return this._tempVector31=new Vector3();},'_tempVector32',function(){return this._tempVector32=new Vector3();},'_tempVector33',function(){return this._tempVector33=new Vector3();},'_tempQuaternion0',function(){return this._tempQuaternion0=new Quaternion();},'_tempMatrix0',function(){return this._tempMatrix0=new Matrix4x4();},'_angleToRandin',function(){return this._angleToRandin=180 / Math.PI;}
	]);
	return Transform3D;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/TransformUV.as=======98.999566/98.999566
/**
*<code>TransformUV</code> 类用于实现UV变换。
*/
//class laya.d3.core.TransformUV extends laya.events.EventDispatcher
var TransformUV=(function(_super){
	function TransformUV(){
		/**@private */
		this._rotation=0;
		/**@private */
		//this._tiling=null;
		/**@private */
		this._matNeedUpdte=false;
		TransformUV.__super.call(this);
		this._matrix=new Matrix4x4();
		this._offset=new Vector2();
		this._tiling=new Vector2(1.0,1.0);
	}

	__class(TransformUV,'laya.d3.core.TransformUV',_super);
	var __proto=TransformUV.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*@private
	*/
	__proto._updateMatrix=function(){
		TransformUV._tempOffsetV3.elements[0]=this._offset.x;
		TransformUV._tempOffsetV3.elements[1]=this._offset.y;
		Quaternion.createFromYawPitchRoll(0,0,this._rotation,TransformUV._tempRotationQua);
		TransformUV._tempTitlingV3.elements[0]=this._tiling.x;
		TransformUV._tempTitlingV3.elements[1]=this._tiling.y;
		Matrix4x4.createAffineTransformation(TransformUV._tempOffsetV3,TransformUV._tempRotationQua,TransformUV._tempTitlingV3,this._matrix);
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		destObject._matrix=this._matrix.clone();
		destObject._offset=this._offset.clone();
		destObject._rotation=this._rotation;
		destObject._tiling=this._tiling.clone();
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*获取变换矩阵。
	*@return 变换矩阵。
	*/
	__getset(0,__proto,'matrix',function(){
		if (this._matNeedUpdte){
			this._updateMatrix();
			this._matNeedUpdte=false;
		}
		return this._matrix;
	});

	/**
	*设置平铺次数。
	*@param value 平铺次数。
	*/
	/**
	*获取平铺次数。
	*@return 平铺次数。
	*/
	__getset(0,__proto,'tiling',function(){
		return this._tiling;
		},function(value){
		this._tiling=value;
		this._matNeedUpdte=true;
	});

	/**
	*设置偏移。
	*@param value 偏移。
	*/
	/**
	*获取偏移。
	*@return 偏移。
	*/
	__getset(0,__proto,'offset',function(){
		return this._offset;
		},function(value){
		this._offset=value;
		this._matNeedUpdte=true;
	});

	/**
	*设置旋转。
	*@param value 旋转。
	*/
	/**
	*获取旋转。
	*@return 旋转。
	*/
	__getset(0,__proto,'rotation',function(){
		return this._rotation;
		},function(value){
		this._rotation=value;
		this._matNeedUpdte=true;
	});

	__static(TransformUV,
	['_tempOffsetV3',function(){return this._tempOffsetV3=new Vector3(0,0,0);},'_tempRotationQua',function(){return this._tempRotationQua=new Quaternion();},'_tempTitlingV3',function(){return this._tempTitlingV3=new Vector3(1,1,1);}
	]);
	return TransformUV;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/utils/CollisionManager.as=======98.999426/98.999426
/**
*<code>CollsionManager</code> 类用于碰撞管理器。
*/
//class laya.d3.utils.CollisionManager extends laya.events.EventDispatcher
var CollisionManager=(function(_super){
	/**
	*创建一个新的 <code>CollsionManager</code> 实例。
	*/
	function CollisionManager(){
		CollisionManager.__super.call(this);
	}

	__class(CollisionManager,'laya.d3.utils.CollisionManager',_super);
	CollisionManager._onTrigger=function(rigidCol,receiveCol,rigidScripts,receiveScripts,bothRigid){
		var i=0,n=0;
		var rigidID=rigidCol.id;
		var receiveID=receiveCol.id;
		if (!rigidCol._ignoreCollisonMap[receiveID]){
			var colMan=Physics.collisionManager;
			var needTest=rigidCol._runtimeCollisonTestMap[receiveID];
			if (needTest !=null){
				if (needTest){
					if (rigidCol._collisonTo(receiveCol)){
						if (rigidCol._runtimeCollisonMap[receiveID]){
							for (i=0,n=rigidScripts.length;i < n;i++)
							rigidScripts[i].onTriggerStay(receiveCol);
							for (i=0,n=receiveScripts.length;i < n;i++)
							receiveScripts[i].onTriggerStay(rigidCol);
							}else {
							rigidCol._runtimeCollisonMap[receiveID]=receiveCol;
							rigidCol._runtimeCollisonTestMap[receiveID]=false;
							receiveCol._runtimeCollisonMap[rigidID]=rigidCol;
							if (bothRigid)
								receiveCol._runtimeCollisonTestMap[rigidID]=false;
							for (i=0,n=rigidScripts.length;i < n;i++)
							rigidScripts[i].onTriggerEnter(receiveCol);
							for (i=0,n=receiveScripts.length;i < n;i++)
							receiveScripts[i].onTriggerEnter(rigidCol);
						}
						}else {
						var rigidMap=rigidCol._runtimeCollisonMap;
						if (rigidMap[receiveID]){
							delete rigidMap[receiveID];
							delete rigidCol._runtimeCollisonTestMap[receiveID];
							delete receiveCol._runtimeCollisonMap[rigidID];
							if (bothRigid)
								delete receiveCol._runtimeCollisonTestMap[rigidID];
							for (i=0,n=rigidScripts.length;i < n;i++)
							rigidScripts[i].onTriggerExit(receiveCol);
							for (i=0,n=receiveScripts.length;i < n;i++)
							receiveScripts[i].onTriggerExit(rigidCol);
						}
					}
					}else {
					for (i=0,n=rigidScripts.length;i < n;i++)
					rigidScripts[i].onTriggerStay(receiveCol);
					for (i=0,n=receiveScripts.length;i < n;i++)
					receiveScripts[i].onTriggerStay(rigidCol);
				}
				}else {
				if (rigidCol._collisonTo(receiveCol)){
					rigidCol._runtimeCollisonMap[receiveID]=receiveCol;
					rigidCol._runtimeCollisonTestMap[receiveID]=false;
					receiveCol._runtimeCollisonMap[rigidID]=rigidCol;
					if (bothRigid)
						receiveCol._runtimeCollisonTestMap[rigidID]=false;
					for (i=0,n=rigidScripts.length;i < n;i++)
					rigidScripts[i].onTriggerEnter(receiveCol);
					for (i=0,n=receiveScripts.length;i < n;i++)
					receiveScripts[i].onTriggerEnter(rigidCol);
				}
			}
		}
	}

	CollisionManager._triggerCollision=function(scene){
		var layers=scene._layerList;
		var colList=scene._collsionTestList;
		var colCount=colList.length;
		var colMat=Physics._layerCollsionMatrix;
		for (var i=0;i < colCount;i++){
			var row=colList[i];
			var rowLayer=layers[row];
			var rowColliders=rowLayer._colliders;
			var rowRigOffset=rowLayer._nonRigidbodyOffset;
			for (var j=colCount-1;j >=i;j--){
				var col=colList[j];
				var test=colMat[row][(31-1)-col];
				if (test){
					var k=0,c=0,x=0,z=0;
					var rowCol,colCol,rowScripts;
					var colLayer=layers[col];
					var colColliders=colLayer._colliders;
					var colRigOffset=colLayer._nonRigidbodyOffset;
					if (rowLayer!==colLayer){
						for (k=0;k < rowRigOffset;k++){
							rowCol=rowColliders[k];
							if (rowCol.enable){
								rowScripts=rowCol.owner._scripts;
								for (x=0,z=colRigOffset;x < z;x++){
									colCol=colColliders[x];
									(colCol.enable)&& (CollisionManager._onTrigger(rowCol,colCol,rowScripts,colCol.owner._scripts,true));
								}
								for (x=colRigOffset,z=colColliders.length;x < z;x++){
									colCol=colColliders[x];
									(colCol.enable)&& (CollisionManager._onTrigger(rowCol,colCol,rowScripts,colCol.owner._scripts,false));
								}
							}
						}
						for (k=rowRigOffset,c=rowColliders.length;k < c;k++){
							rowCol=rowColliders[k];
							if (rowCol.enable){
								rowScripts=rowCol.owner._scripts;
								for (x=0,z=colLayer._nonRigidbodyOffset;x < z;x++){
									colCol=colColliders[x];
									(colCol.enable)&& (CollisionManager._onTrigger(colCol,rowCol,rowScripts,colCol.owner._scripts,false));
								}
							}
						}
						}else {
						for (k=0;k < rowRigOffset;k++){
							rowCol=rowColliders[k];
							if (rowCol.enable){
								rowScripts=rowCol.owner._scripts;
								for (x=k+1,z=rowRigOffset;x < z;x++){
									colCol=colColliders[x];
									(colCol.enable)&& (CollisionManager._onTrigger(rowCol,colCol,rowScripts,colCol.owner._scripts,true));
								}
								for (x=rowRigOffset,z=rowColliders.length;x < z;x++){
									colCol=colColliders[x];
									(colCol.enable)&& (CollisionManager._onTrigger(rowCol,colCol,rowScripts,colCol.owner._scripts,false));
								}
							}
						}
					}
				}
			}
		}
	}

	return CollisionManager;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/canvasmesh/SkinMeshCanvas.as=======98.999425/98.999425
/**
*@private
*Canvas版本的SkinMesh
*/
//class laya.ani.bone.canvasmesh.SkinMeshCanvas extends laya.ani.bone.canvasmesh.CanvasMeshRender
var SkinMeshCanvas=(function(_super){
	function SkinMeshCanvas(){
		SkinMeshCanvas.__super.call(this);
		this.mesh=new MeshData();
	}

	__class(SkinMeshCanvas,'laya.ani.bone.canvasmesh.SkinMeshCanvas',_super);
	var __proto=SkinMeshCanvas.prototype;
	__proto.init2=function(texture,ps,verticles,uvs){
		if (this.transform){
			this.transform=null;
		};
		var _ps=ps || [0,1,3,3,1,2];
		this.mesh.texture=texture;
		this.mesh.indexes=_ps;
		this.mesh.vertices=verticles;
		this.mesh.uvs=uvs;
	}

	__proto.render=function(context,x,y){
		if(!this.mesh.texture)return;
		if(!this.transform){
			this.transform=SkinMeshCanvas._tempMatrix;
			this.transform.identity();
			this.transform.translate(x,y);
			this.renderToContext(context);
			this.transform.translate(-x,-y);
			this.transform=null;
			}else{
			this.transform.translate(x,y);
			this.renderToContext(context);
			this.transform.translate(-x,-y);
		}
	}

	__static(SkinMeshCanvas,
	['_tempMatrix',function(){return this._tempMatrix=new Matrix();}
	]);
	return SkinMeshCanvas;
})(CanvasMeshRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/data/GameSocket.as=======98.999416/98.999416
/**
*GameSocket封装了游戏Socket连接，提供收发Socket消息功能
*收发消息类型必须为IMessage类型，消息为二进制格式，一般只需继承自MessageBase类
*MessageBase类实现了消息的自动序列化和反序列化
*/
//class laya.data.GameSocket extends laya.events.EventDispatcher
var GameSocket=(function(_super){
	function GameSocket(){
		/**是否打印消息信息*/
		this.traceEnabled=false;
		this._socket=null;
		GameSocket.__super.call(this);
	}

	__class(GameSocket,'laya.data.GameSocket',_super);
	var __proto=GameSocket.prototype;
	/**
	*连接到socket服务器
	*@param ip 服务器IP
	*@param port 服务器端口
	*/
	__proto.connect=function(ip,port){
		(ip===void 0)&& (ip="10.10.20.4");
		(port===void 0)&& (port=8011);
		if (!this._socket){
			if (this.traceEnabled)console.log("try connect new+"+"ip："+ip+"port:"+port);
			this._socket=new Socket(ip,port,Byte);
			this._socket.endian="littleEndian";
			this._socket.on("open",this,this.onConnect);
			this._socket.on("message",this,this.onMessage);
			this._socket.on("error",this,this.onError);
			this._socket.on("close",this,this.onClose);
			}else {
			if (this.traceEnabled)console.log("try connect old +"+"ip："+ip+"port:"+port);
			this._socket.close();
			this._socket.connect(ip,port);
		}
	}

	/**
	*连接到socket服务器
	*@param serverUrl 服务器url
	*/
	__proto.connectByUrl=function(serverUrl){
		if (!this._socket){
			if (this.traceEnabled)console.log("try connect new+ server:"+serverUrl);
			this._socket=new Socket();
			this._socket.endian="littleEndian";
			this._socket.on("open",this,this.onConnect);
			this._socket.on("message",this,this.onMessage);
			this._socket.on("error",this,this.onError);
			this._socket.on("close",this,this.onClose);
			this._socket.connectByUrl(serverUrl);
			}else {
			if (this.traceEnabled)console.log("try connect old + server:"+serverUrl);
			this._socket.close();
			this._socket.connectByUrl(serverUrl);
		}
	}

	/**
	*关闭socket连接
	*/
	__proto.close=function(){
		if (!this._socket)return;
		if (this.traceEnabled)console.log("close Socket");
		var s=this._socket;
		this._socket=null;
		s.close();
	}

	/**
	*连接成功的回调函数
	*/
	__proto.onConnect=function(){
		if (this.traceEnabled)console.log("socket onConnect。");
		this.event("success");
	}

	/**
	*客户端接SMsg
	*获取消息
	*/
	__proto.onMessage=function(data){
		if (!this._socket || !this._socket.input)return;
		var byte=this._socket.input;
		while (byte.bytesAvailable > 0){
			var tMsg=MessageUtils.readMessageFromByte(byte);
			if (this.traceEnabled)console.log("receive:",tMsg);
			this.event("message",tMsg);
		}
	}

	__proto.onError=function(e){
		if (this.traceEnabled)console.log("socket error",e);
		this.event("error");
	}

	__proto.onClose=function(e){
		if (this.traceEnabled)console.log("socket close",e);
		this.event("close");
	}

	/**
	*发送消息
	*@param msg 发送消息
	*/
	__proto.send=function(msg){
		if (!this._socket || !this._socket.output)return;
		if (this.traceEnabled)console.log("send:",msg);
		MessageUtils.writeMessageToByte(this._socket.output,msg);
		this._socket.flush();
	}

	GameSocket.SERVER_SUCCESS="success";
	GameSocket.SERVER_ERROR="error";
	GameSocket.SERVER_CLOSE="close";
	return GameSocket;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/GraphicsAni.as=======98.999379/98.999379
/**
*@private
*/
//class laya.ani.GraphicsAni extends laya.display.Graphics
var GraphicsAni=(function(_super){
	function GraphicsAni(){
		GraphicsAni.__super.call(this);;
	}

	__class(GraphicsAni,'laya.ani.GraphicsAni',_super);
	var __proto=GraphicsAni.prototype;
	/**
	*@private
	*画自定义蒙皮动画
	*@param skin
	*/
	__proto.drawSkin=function(skin){
		var arr=[skin];
		this._saveToCmd(Render._context._drawSkin,arr);
	}

	return GraphicsAni;
})(Graphics)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/LoaderManager.as=======98.999370/98.999370
/**
*<p> <code>LoaderManager</code> 类用于用于批量加载资源。此类是单例，不要手动实例化此类，请通过Laya.loader访问。</p>
*<p>全部队列加载完成，会派发 Event.COMPLETE 事件；如果队列中任意一个加载失败，会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>
*<p> <code>LoaderManager</code> 类提供了以下几种功能：<br/>
*多线程：默认5个加载线程，可以通过maxLoader属性修改线程数量；<br/>
*多优先级：有0-4共5个优先级，优先级高的优先加载。0最高，4最低；<br/>
*重复过滤：自动过滤重复加载（不会有多个相同地址的资源同时加载）以及复用缓存资源，防止重复加载；<br/>
*错误重试：资源加载失败后，会重试加载（以最低优先级插入加载队列），retryNum设定加载失败后重试次数，retryDelay设定加载重试的时间间隔。</p>
*@see laya.net.Loader
*/
//class laya.net.LoaderManager extends laya.events.EventDispatcher
var LoaderManager=(function(_super){
	var ResInfo;
	function LoaderManager(){
		/**加载出错后的重试次数，默认重试一次*/
		this.retryNum=1;
		/**延迟时间多久再进行错误重试，默认立即重试*/
		this.retryDelay=0;
		/**最大下载线程，默认为5个*/
		this.maxLoader=5;
		/**@private */
		this._loaders=[];
		/**@private */
		this._loaderCount=0;
		/**@private */
		this._resInfos=[];
		/**@private */
		this._infoPool=[];
		/**@private */
		this._maxPriority=5;
		/**@private */
		this._failRes={};
		/**@private */
		this._statInfo={count:1,loaded:1};
		LoaderManager.__super.call(this);
		for (var i=0;i < this._maxPriority;i++)this._resInfos[i]=[];
	}

	__class(LoaderManager,'laya.net.LoaderManager',_super);
	var __proto=LoaderManager.prototype;
	/**@private */
	__proto.getProgress=function(){
		return this._statInfo.loaded / this._statInfo.count;
	}

	/**@private */
	__proto.resetProgress=function(){
		this._statInfo.count=this._statInfo.loaded=1;
	}

	/**
	*<p>根据clas类型创建一个未初始化资源的对象，随后进行异步加载，资源加载完成后，初始化对象的资源，并通过此对象派发 Event.LOADED 事件，事件回调参数值为此对象本身。套嵌资源的子资源会保留资源路径"?"后的部分。</p>
	*<p>如果url为数组，返回true；否则返回指定的资源类对象，可以通过侦听此对象的 Event.LOADED 事件来判断资源是否已经加载完毕。</p>
	*<p><b>注意：</b>cache参数只能对文件后缀为atlas的资源进行缓存控制，其他资源会忽略缓存，强制重新加载。</p>
	*@param url 资源地址或者数组。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：[{url:xx,clas:xx,priority:xx,params:xx},{url:xx,clas:xx,priority:xx,params:xx}]。
	*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。
	*@param progress 资源加载进度回调，回调参数值为当前资源加载的进度信息(0-1)。
	*@param clas 资源类名。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：Texture。
	*@param params 资源构造参数。
	*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。
	*@param cache 是否缓存加载的资源。
	*@return 如果url为数组，返回true；否则返回指定的资源类对象。
	*/
	__proto.create=function(url,complete,progress,clas,params,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		if ((url instanceof Array)){
			var items=url;
			var itemCount=items.length;
			var loadedCount=0;
			if (progress){
				var progress2=Handler.create(progress.caller,progress.method,progress.args,false);
			}
			for (var i=0;i < itemCount;i++){
				var item=items[i];
				if ((typeof item=='string'))
					item=items[i]={url:item};
				item.progress=0;
			}
			for (i=0;i < itemCount;i++){
				item=items[i];
				var progressHandler=progress ? Handler.create(null,onProgress,[item],false):null;
				var completeHandler=(progress || complete)? Handler.create(null,onComplete,[item]):null;
				this._create(item.url,completeHandler,progressHandler,item.clas || clas,item.params || params,item.priority || priority,cache,item.group || group);
			}
			function onComplete (item,content){
				loadedCount++;
				item.progress=1;
				if (loadedCount===itemCount && complete){
					complete.run();
				}
			}
			function onProgress (item,value){
				item.progress=value;
				var num=0;
				for (var j=0;j < itemCount;j++){
					var item1=items[j];
					num+=item1.progress;
				};
				var v=num / itemCount;
				progress2.runWith(v);
			}
			return true;
		}else return this._create(url,complete,progress,clas,params,priority,cache,group);
	}

	__proto._create=function(url,complete,progress,clas,params,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		var formarUrl=URL.formatURL(url);
		var item=this.getRes(formarUrl);
		if (!item){
			var extension=Utils.getFileExtension(url);
			var creatItem=LoaderManager.createMap[extension];
			if (!creatItem)
				throw new Error("LoaderManager:unknown file("+url+") extension with: "+extension+".");
			if (!clas)clas=creatItem[0];
			var type=creatItem[1];
			if (extension=="atlas"){
				this.load(url,complete,progress,type,priority,cache);
				}else {
				if (clas===Texture)type="htmlimage";
				if (clas){
					if (params&& (params instanceof Array)){
						var prototype=clas.prototype;
						item=Object.create(prototype);
						prototype.constructor.apply(item,params);
						}else {
						item=new clas();
					}
					}else {
					item=null;
				}
				if (item.hasOwnProperty("_loaded"))
					item._setLoaded(false);
				item._setUrl(url);
				(group)&& (item._setGroup(group));
				this._createLoad(item,url,Handler.create(null,onLoaded),progress,type,priority,false,group,true);
				function onLoaded (data){
					if (item && !item.destroyed && data){
						item._onAsynLoaded.call(item,data,params);
						item._completeLoad();
					}
					if (complete)complete.run();
					Laya.loader.event(url);
				}(cache)&& (this.cacheRes(formarUrl,item));
			}
			}else {
			if (!item.hasOwnProperty("loaded")|| item.loaded){
				progress && progress.runWith(1);
				complete && complete.run();
				}else if (complete){
				Laya.loader._createListener(url,complete.caller,complete.method,complete.args,true,false);
			}
		}
		return item;
	}

	/**
	*<p>加载资源。资源加载错误时，本对象会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>
	*<p>因为返回值为 LoaderManager 对象本身，所以可以使用如下语法：loaderManager.load(...).load(...);</p>
	*@param url 要加载的单个资源地址或资源信息数组。比如：简单数组：["a.png","b.png"]；复杂数组[{url:"a.png",type:Loader.IMAGE,size:100,priority:1},{url:"b.json",type:Loader.JSON,size:50,priority:1}]。
	*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。
	*@param progress 加载进度回调。回调参数值为当前资源的加载进度信息(0-1)。
	*@param type 资源类型。比如：Loader.IMAGE。
	*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。
	*@param cache 是否缓存加载结果。
	*@param group 分组，方便对资源进行管理。
	*@param ignoreCache 是否忽略缓存，强制重新加载。
	*@param useWorkerLoader(default=false)是否使用worker加载（只针对IMAGE类型和ATLAS类型，并且浏览器支持的情况下生效）
	*@return 此 LoaderManager 对象本身。
	*/
	__proto.load=function(url,complete,progress,type,priority,cache,group,ignoreCache,useWorkerLoader){
		var _$this=this;
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		(useWorkerLoader===void 0)&& (useWorkerLoader=false);
		if ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);
		var content=Loader.getRes(url);
		if (!ignoreCache && content !=null){
			Laya.timer.frameOnce(1,null,function(){
				progress && progress.runWith(1);
				complete && complete.runWith(content);
				_$this._loaderCount || _$this.event("complete");
			});
			}else {
			var original;
			original=url;
			url=AtlasInfoManager.getFileLoadPath(url);
			if (url !=original){
				type="atlas";
				}else {
				original=null;
			};
			var info=LoaderManager._resMap[url];
			if (!info){
				info=this._infoPool.length ? this._infoPool.pop():new ResInfo();
				info.url=url;
				info.type=type;
				info.cache=cache;
				info.group=group;
				info.ignoreCache=ignoreCache;
				info.useWorkerLoader=useWorkerLoader;
				info.originalUrl=original;
				complete && info.on("complete",complete.caller,complete.method,complete.args);
				progress && info.on("progress",progress.caller,progress.method,progress.args);
				LoaderManager._resMap[url]=info;
				priority=priority < this._maxPriority ? priority :this._maxPriority-1;
				this._resInfos[priority].push(info);
				this._statInfo.count++;
				this.event("progress",this.getProgress());
				this._next();
				}else {
				if (complete){
					if (original){
						complete && info._createListener("complete",this,this._resInfoLoaded,[original,complete],false,false);
						}else {
						complete && info._createListener("complete",complete.caller,complete.method,complete.args,false,false);
					}
				}
				progress && info._createListener("progress",progress.caller,progress.method,progress.args,false,false);
			}
		}
		return this;
	}

	__proto._resInfoLoaded=function(original,complete){
		complete.runWith(Loader.getRes(original));
	}

	/**
	*@private
	*/
	__proto._createLoad=function(item,url,complete,progress,type,priority,cache,group,ignoreCache){
		var _$this=this;
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		if ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);
		var content=Loader.getRes(url);
		if (content !=null){
			Laya.timer.frameOnce(1,null,function(){
				progress && progress.runWith(1);
				complete && complete.runWith(content);
				_$this._loaderCount || _$this.event("complete");
			});
			}else {
			var info=LoaderManager._resMap[url];
			if (!info){
				info=this._infoPool.length ? this._infoPool.pop():new ResInfo();
				info.url=url;
				info.clas=item;
				info.type=type;
				info.cache=cache;
				info.group=group;
				info.ignoreCache=ignoreCache;
				complete && info.on("complete",complete.caller,complete.method,complete.args);
				progress && info.on("progress",progress.caller,progress.method,progress.args);
				LoaderManager._resMap[url]=info;
				priority=priority < this._maxPriority ? priority :this._maxPriority-1;
				this._resInfos[priority].push(info);
				this._statInfo.count++;
				this.event("progress",this.getProgress());
				this._next();
				}else {
				complete && info._createListener("complete",complete.caller,complete.method,complete.args,false,false);
				progress && info._createListener("progress",progress.caller,progress.method,progress.args,false,false);
			}
		}
		return this;
	}

	__proto._next=function(){
		if (this._loaderCount >=this.maxLoader)return;
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			if (infos.length > 0){
				var info=infos.shift();
				if (info)return this._doLoad(info);
			}
		}
		this._loaderCount || this.event("complete");
	}

	__proto._doLoad=function(resInfo){
		this._loaderCount++;
		var loader=this._loaders.length ? this._loaders.pop():new Loader();
		loader.on("complete",null,onLoaded);
		loader.on("progress",null,function(num){
			resInfo.event("progress",num);
		});
		loader.on("error",null,function(msg){
			onLoaded(null);
		});
		var _this=this;
		function onLoaded (data){
			loader.offAll();
			loader._data=null;
			loader._customParse=false;
			_this._loaders.push(loader);
			_this._endLoad(resInfo,(data instanceof Array)? [data] :data);
			_this._loaderCount--;
			_this._next();
		}
		loader._class=resInfo.clas;
		loader.load(resInfo.url,resInfo.type,resInfo.cache,resInfo.group,resInfo.ignoreCache,resInfo.useWorkerLoader);
	}

	__proto._endLoad=function(resInfo,content){
		var url=resInfo.url;
		if (content==null){
			var errorCount=this._failRes[url] || 0;
			if (errorCount < this.retryNum){
				console.warn("[warn]Retry to load:",url);
				this._failRes[url]=errorCount+1;
				Laya.timer.once(this.retryDelay,this,this._addReTry,[resInfo],false);
				return;
				}else {
				console.warn("[error]Failed to load:",url);
				this.event("error",url);
			}
		}
		if (this._failRes[url])this._failRes[url]=0;
		delete LoaderManager._resMap[url];
		if (resInfo.originalUrl){
			content=Loader.getRes(resInfo.originalUrl);
		}
		resInfo.event("complete",content);
		resInfo.offAll();
		this._infoPool.push(resInfo);
		this._statInfo.loaded++;
		this.event("progress",this.getProgress());
	}

	__proto._addReTry=function(resInfo){
		this._resInfos[this._maxPriority-1].push(resInfo);
		this._next();
	}

	/**
	*清理指定资源地址缓存。
	*@param url 资源地址。
	*@param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false
	*/
	__proto.clearRes=function(url,forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		Loader.clearRes(url,forceDispose);
	}

	/**
	*获取指定资源地址的资源。
	*@param url 资源地址。
	*@return 返回资源。
	*/
	__proto.getRes=function(url){
		return Loader.getRes(url);
	}

	/**
	*缓存资源。
	*@param url 资源地址。
	*@param data 要缓存的内容。
	*/
	__proto.cacheRes=function(url,data){
		Loader.cacheRes(url,data);
	}

	/**
	*设置资源分组。
	*@param url 资源地址。
	*@param group 分组名
	*/
	__proto.setGroup=function(url,group){
		Loader.setGroup(url,group);
	}

	/**
	*根据分组清理资源。
	*@param group 分组名
	*/
	__proto.clearResByGroup=function(group){
		Loader.clearResByGroup(group);
	}

	/**清理当前未完成的加载，所有未加载的内容全部停止加载。*/
	__proto.clearUnLoaded=function(){
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			for (var j=infos.length-1;j >-1;j--){
				var info=infos[j];
				if (info){
					info.offAll();
					this._infoPool.push(info);
				}
			}
			infos.length=0;
		}
		this._loaderCount=0;
		LoaderManager._resMap={};
	}

	/**
	*根据地址集合清理掉未加载的内容
	*@param urls 资源地址集合
	*/
	__proto.cancelLoadByUrls=function(urls){
		if (!urls)return;
		for (var i=0,n=urls.length;i < n;i++){
			this.cancelLoadByUrl(urls[i]);
		}
	}

	/**
	*根据地址清理掉未加载的内容
	*@param url 资源地址
	*/
	__proto.cancelLoadByUrl=function(url){
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			for (var j=infos.length-1;j >-1;j--){
				var info=infos[j];
				if (info && info.url===url){
					infos[j]=null;
					info.offAll();
					this._infoPool.push(info);
				}
			}
		}
		if (LoaderManager._resMap[url])delete LoaderManager._resMap[url];
	}

	/**
	*@private
	*加载数组里面的资源。
	*@param arr 简单：["a.png","b.png"]，复杂[{url:"a.png",type:Loader.IMAGE,size:100,priority:1,useWorkerLoader:true},{url:"b.json",type:Loader.JSON,size:50,priority:1}]*/
	__proto._loadAssets=function(arr,complete,progress,type,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		var itemCount=arr.length;
		var loadedCount=0;
		var totalSize=0;
		var items=[];
		var success=true;
		for (var i=0;i < itemCount;i++){
			var item=arr[i];
			if ((typeof item=='string'))item={url:item,type:type,size:1,priority:priority};
			if (!item.size)item.size=1;
			item.progress=0;
			totalSize+=item.size;
			items.push(item);
			var progressHandler=progress ? Handler.create(null,loadProgress,[item],false):null;
			var completeHandler=(complete || progress)? Handler.create(null,loadComplete,[item]):null;
			this.load(item.url,completeHandler,progressHandler,item.type,item.priority || 1,cache,item.group || group,false,item.useWorkerLoader);
		}
		function loadComplete (item,content){
			loadedCount++;
			item.progress=1;
			if (!content)success=false;
			if (loadedCount===itemCount && complete){
				complete.runWith(success);
			}
		}
		function loadProgress (item,value){
			if (progress !=null){
				item.progress=value;
				var num=0;
				for (var j=0;j < items.length;j++){
					var item1=items[j];
					num+=item1.size *item1.progress;
				};
				var v=num / totalSize;
				progress.runWith(v);
			}
		}
		return this;
	}

	//TODO:TESTs
	__proto.decodeBitmaps=function(urls){
		var i=0,len=urls.length;
		var ctx;
		ctx=Render._context;
		for (i=0;i < len;i++){
			var atlas;
			atlas=Loader.getAtlas(urls[i]);
			if (atlas){
				this._decodeTexture(atlas[0],ctx);
				}else {
				var tex;
				tex=this.getRes(urls[i]);
				if (tex && (tex instanceof laya.resource.Texture )){
					this._decodeTexture(tex,ctx);
				}
			}
		}
	}

	__proto._decodeTexture=function(tex,ctx){
		var bitmap=tex.bitmap;
		if (!tex || !bitmap)return;
		var tImg=bitmap.source || bitmap.image;
		if (!tImg)return;
		if (Laya.__typeof(tImg,Browser.window.HTMLImageElement)){
			ctx.drawImage(tImg,0,0,1,1);
			var info=ctx.getImageData(0,0,1,1);
		}
	}

	LoaderManager.cacheRes=function(url,data){
		Loader.cacheRes(url,data);
	}

	LoaderManager._resMap={};
	__static(LoaderManager,
	['createMap',function(){return this.createMap={atlas:[null,"atlas"]};}
	]);
	LoaderManager.__init$=function(){
		//class ResInfo extends laya.events.EventDispatcher
		ResInfo=(function(_super){
			function ResInfo(){
				this.url=null;
				this.type=null;
				this.cache=false;
				this.group=null;
				this.ignoreCache=false;
				this.useWorkerLoader=false;
				this.clas=null;
				this.originalUrl=null;
				ResInfo.__super.call(this);
			}
			__class(ResInfo,'',_super);
			return ResInfo;
		})(EventDispatcher)
	}

	return LoaderManager;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/Notice.as=======98.999351/98.999351
/**
*本类用于模块间消息传递
*@author ww
*/
//class laya.debug.tools.Notice extends laya.events.EventDispatcher
var Notice=(function(_super){
	function Notice(){
		Notice.__super.call(this);
	}

	__class(Notice,'laya.debug.tools.Notice',_super);
	Notice.notify=function(type,data){
		Notice.I.event(type,data);
	}

	Notice.listen=function(type,_scope,fun,args,cancelBefore){
		(cancelBefore===void 0)&& (cancelBefore=false);
		if(cancelBefore)Notice.cancel(type,_scope,fun);
		Notice.I.on(type,_scope,fun,args);
	}

	Notice.cancel=function(type,_scope,fun){
		Notice.I.off(type,_scope,fun);
	}

	__static(Notice,
	['I',function(){return this.I=new Notice();}
	]);
	return Notice;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/ShurikenParticleSystem.as=======98.999253/98.999253
/**
*<code>ShurikenParticleSystem</code> 类用于创建3D粒子数据模板。
*/
//class laya.d3.core.particleShuriKen.ShurikenParticleSystem extends laya.d3.core.GeometryElement
var ShurikenParticleSystem=(function(_super){
	function ShurikenParticleSystem(owner){
		/**@private */
		//this._boundingSphere=null;
		/**@private */
		//this._boundingBox=null;
		/**@private */
		//this._boundingBoxCorners=null;
		/**@private */
		//this._owner=null;
		/**@private */
		//this._ownerRender=null;
		/**@private */
		//this._vertices=null;
		/**@private */
		//this._floatCountPerVertex=0;
		/**@private */
		//this._startLifeTimeIndex=0;
		/**@private */
		//this._timeIndex=0;
		/**@private */
		//this._simulateUpdate=false;
		/**@private */
		//this._firstActiveElement=0;
		/**@private */
		//this._firstNewElement=0;
		/**@private */
		//this._firstFreeElement=0;
		/**@private */
		//this._firstRetiredElement=0;
		/**@private */
		//this._drawCounter=0;
		/**@private */
		//this._bufferMaxParticles=0;
		/**@private */
		//this._emission=null;
		/**@private */
		//this._shape=null;
		/**@private */
		//this._isEmitting=false;
		/**@private */
		//this._isPlaying=false;
		/**@private */
		//this._isPaused=false;
		/**@private */
		//this._playStartDelay=NaN;
		/**@private 发射的累计时间。*/
		//this._frameRateTime=NaN;
		/**@private 一次循环内的累计时间。*/
		//this._emissionTime=NaN;
		/**@private */
		//this._totalDelayTime=NaN;
		/**@private */
		//this._burstsIndex=0;
		/**@private */
		//this._velocityOverLifetime=null;
		/**@private */
		//this._colorOverLifetime=null;
		/**@private */
		//this._sizeOverLifetime=null;
		/**@private */
		//this._rotationOverLifetime=null;
		/**@private */
		//this._textureSheetAnimation=null;
		/**@private */
		//this._startLifetimeType=0;
		/**@private */
		//this._startLifetimeConstant=NaN;
		/**@private */
		//this._startLifeTimeGradient=null;
		/**@private */
		//this._startLifetimeConstantMin=NaN;
		/**@private */
		//this._startLifetimeConstantMax=NaN;
		/**@private */
		//this._startLifeTimeGradientMin=null;
		/**@private */
		//this._startLifeTimeGradientMax=null;
		/**@private */
		//this._maxStartLifetime=NaN;
		/**@private */
		//this._vertexStride=0;
		/**@private */
		//this._indexStride=0;
		/**@private */
		//this._indexBuffer=null;
		/**@private */
		//this._currentTime=NaN;
		/**@private */
		//this._startUpdateLoopCount=0;
		/**@private */
		//this._rand=null;
		/**@private */
		//this._randomSeeds=null;
		/**粒子运行的总时长，单位为秒。*/
		//this.duration=NaN;
		/**是否循环。*/
		//this.looping=false;
		/**是否预热。暂不支持*/
		//this.prewarm=false;
		/**开始延迟类型，0为常量模式,1为随机随机双常量模式，不能和prewarm一起使用。*/
		//this.startDelayType=0;
		/**开始播放延迟，不能和prewarm一起使用。*/
		//this.startDelay=NaN;
		/**开始播放最小延迟，不能和prewarm一起使用。*/
		//this.startDelayMin=NaN;
		/**开始播放最大延迟，不能和prewarm一起使用。*/
		//this.startDelayMax=NaN;
		/**开始速度模式，0为恒定速度，2为两个恒定速度的随机插值。缺少1、3模式*/
		//this.startSpeedType=0;
		/**开始速度,0模式。*/
		//this.startSpeedConstant=NaN;
		/**最小开始速度,1模式。*/
		//this.startSpeedConstantMin=NaN;
		/**最大开始速度,1模式。*/
		//this.startSpeedConstantMax=NaN;
		/**开始尺寸是否为3D模式。*/
		//this.threeDStartSize=false;
		/**开始尺寸模式,0为恒定尺寸，2为两个恒定尺寸的随机插值。缺少1、3模式和对应的二种3D模式*/
		//this.startSizeType=0;
		/**开始尺寸，0模式。*/
		//this.startSizeConstant=NaN;
		/**开始三维尺寸，0模式。*/
		//this.startSizeConstantSeparate=null;
		/**最小开始尺寸，2模式。*/
		//this.startSizeConstantMin=NaN;
		/**最大开始尺寸，2模式。*/
		//this.startSizeConstantMax=NaN;
		/**最小三维开始尺寸，2模式。*/
		//this.startSizeConstantMinSeparate=null;
		/**最大三维开始尺寸，2模式。*/
		//this.startSizeConstantMaxSeparate=null;
		/**3D开始旋转，暂不支持*/
		//this.threeDStartRotation=false;
		/**开始旋转模式,0为恒定尺寸，2为两个恒定旋转的随机插值,缺少2种模式,和对应的四种3D模式。*/
		//this.startRotationType=0;
		/**开始旋转，0模式。*/
		//this.startRotationConstant=NaN;
		/**开始三维旋转，0模式。*/
		//this.startRotationConstantSeparate=null;
		/**最小开始旋转，1模式。*/
		//this.startRotationConstantMin=NaN;
		/**最大开始旋转，1模式。*/
		//this.startRotationConstantMax=NaN;
		/**最小开始三维旋转，1模式。*/
		//this.startRotationConstantMinSeparate=null;
		/**最大开始三维旋转，1模式。*/
		//this.startRotationConstantMaxSeparate=null;
		/**随机旋转方向，范围为0.0到1.0*/
		//this.randomizeRotationDirection=NaN;
		/**开始颜色模式，0为恒定颜色，2为两个恒定颜色的随机插值,缺少2种模式。*/
		//this.startColorType=0;
		/**开始颜色，0模式。*/
		//this.startColorConstant=null;
		/**最小开始颜色，1模式。*/
		//this.startColorConstantMin=null;
		/**最大开始颜色，1模式。*/
		//this.startColorConstantMax=null;
		/**重力敏感度。*/
		//this.gravityModifier=NaN;
		/**模拟器空间,0为World,1为Local。暂不支持Custom。*/
		//this.simulationSpace=0;
		/**缩放模式，0为Hiercachy,1为Local,2为World。*/
		//this.scaleMode=0;
		/**激活时是否自动播放。*/
		//this.playOnAwake=false;
		/**随机种子,注:play()前设置有效。*/
		//this.randomSeed=null;
		/**是否使用随机种子。 */
		//this.autoRandomSeed=false;
		/**是否为性能模式,性能模式下会延迟粒子释放。*/
		//this.isPerformanceMode=false;
		ShurikenParticleSystem.__super.call(this);
		this._tempRotationMatrix=new Matrix4x4();
		this._uvLength=new Vector2();
		this._firstActiveElement=0;
		this._firstNewElement=0;
		this._firstFreeElement=0;
		this._firstRetiredElement=0;
		this._owner=owner;
		this._ownerRender=owner.particleRender;
		this._boundingBoxCorners=__newvec(8,null);
		this._boundingSphere=new BoundSphere(new Vector3(),Number.MAX_VALUE);
		this._boundingBox=new BoundBox(new Vector3(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),new Vector3(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE));
		this._currentTime=0;
		this._isEmitting=false;
		this._isPlaying=false;
		this._isPaused=false;
		this._burstsIndex=0;
		this._frameRateTime=0;
		this._emissionTime=0;
		this._totalDelayTime=0;
		this._simulateUpdate=false;
		this._bufferMaxParticles=1;
		this.duration=5.0;
		this.looping=true;
		this.prewarm=false;
		this.startDelayType=0;
		this.startDelay=0.0;
		this.startDelayMin=0.0;
		this.startDelayMax=0.0;
		this._startLifetimeType=0;
		this._startLifetimeConstant=5.0;
		this._startLifeTimeGradient=new GradientDataNumber();
		this._startLifetimeConstantMin=0.0;
		this._startLifetimeConstantMax=5.0;
		this._startLifeTimeGradientMin=new GradientDataNumber();
		this._startLifeTimeGradientMax=new GradientDataNumber();
		this._maxStartLifetime=5.0;
		this.startSpeedType=0;
		this.startSpeedConstant=5.0;
		this.startSpeedConstantMin=0.0;
		this.startSpeedConstantMax=5.0;
		this.threeDStartSize=false;
		this.startSizeType=0;
		this.startSizeConstant=1;
		this.startSizeConstantSeparate=new Vector3(1,1,1);
		this.startSizeConstantMin=0;
		this.startSizeConstantMax=1;
		this.startSizeConstantMinSeparate=new Vector3(0,0,0);
		this.startSizeConstantMaxSeparate=new Vector3(1,1,1);
		this.threeDStartRotation=false;
		this.startRotationType=0;
		this.startRotationConstant=0;
		this.startRotationConstantSeparate=new Vector3(0,0,0);
		this.startRotationConstantMin=0.0;
		this.startRotationConstantMax=0.0;
		this.startRotationConstantMinSeparate=new Vector3(0,0,0);
		this.startRotationConstantMaxSeparate=new Vector3(0,0,0);
		this.randomizeRotationDirection=0.0;
		this.startColorType=0;
		this.startColorConstant=new Vector4(1,1,1,1);
		this.startColorConstantMin=new Vector4(1,1,1,1);
		this.startColorConstantMax=new Vector4(1,1,1,1);
		this.gravityModifier=0.0;
		this.simulationSpace=1;
		this.scaleMode=0;
		this.playOnAwake=true;
		this._rand=new Rand(0);
		this.autoRandomSeed=true;
		this.randomSeed=new Uint32Array(1);
		this._randomSeeds=new Uint32Array(ShurikenParticleSystem._RANDOMOFFSET.length);
		this.isPerformanceMode=true;
		this._emission=new Emission();
		this._emission.enbale=true;
	}

	__class(ShurikenParticleSystem,'laya.d3.core.particleShuriKen.ShurikenParticleSystem',_super);
	var __proto=ShurikenParticleSystem.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	__proto._getVertexBuffer=function(index){
		(index===void 0)&& (index=0);
		if (index===0)
			return this._vertexBuffer;
		else
		return null;
	}

	__proto._getIndexBuffer=function(){
		return this._indexBuffer;
	}

	/**
	*@private
	*/
	__proto._generateBoundingSphere=function(){
		var centerE=this._boundingSphere.center.elements;
		centerE[0]=0;
		centerE[1]=0;
		centerE[2]=0;
		this._boundingSphere.radius=Number.MAX_VALUE;
	}

	/**
	*@private
	*/
	__proto._generateBoundingBox=function(){
		var particle=this._owner;
		var particleRender=particle.particleRender;
		var boundMin=this._boundingBox.min;
		var boundMax=this._boundingBox.max;
		var i=0,n=0;
		var maxStartLifeTime=NaN;
		switch (this.startLifetimeType){
			case 0:
				maxStartLifeTime=this.startLifetimeConstant;
				break ;
			case 1:
				maxStartLifeTime=-Number.MAX_VALUE;
				var startLifeTimeGradient=startLifeTimeGradient;
				for (i=0,n=startLifeTimeGradient.gradientCount;i < n;i++)
				maxStartLifeTime=Math.max(maxStartLifeTime,startLifeTimeGradient.getValueByIndex(i));
				break ;
			case 2:
				maxStartLifeTime=Math.max(this.startLifetimeConstantMin,this.startLifetimeConstantMax);
				break ;
			case 3:
				maxStartLifeTime=-Number.MAX_VALUE;
				var startLifeTimeGradientMin=startLifeTimeGradientMin;
				for (i=0,n=startLifeTimeGradientMin.gradientCount;i < n;i++)
				maxStartLifeTime=Math.max(maxStartLifeTime,startLifeTimeGradientMin.getValueByIndex(i));
				var startLifeTimeGradientMax=startLifeTimeGradientMax;
				for (i=0,n=startLifeTimeGradientMax.gradientCount;i < n;i++)
				maxStartLifeTime=Math.max(maxStartLifeTime,startLifeTimeGradientMax.getValueByIndex(i));
				break ;
			};
		var minStartSpeed=NaN,maxStartSpeed=NaN;
		switch (this.startSpeedType){
			case 0:
				minStartSpeed=maxStartSpeed=this.startSpeedConstant;
				break ;
			case 1:
				break ;
			case 2:
				minStartSpeed=this.startLifetimeConstantMin;
				maxStartSpeed=this.startLifetimeConstantMax;
				break ;
			case 3:
				break ;
			};
		var minPosition,maxPosition,minDirection,maxDirection;
		if (this._shape && this._shape.enable){
			}else {
			minPosition=maxPosition=Vector3.ZERO;
			minDirection=Vector3.ZERO;
			maxDirection=Vector3.UnitZ;
		};
		var startMinVelocity=new Vector3(minDirection.x *minStartSpeed,minDirection.y *minStartSpeed,minDirection.z *minStartSpeed);
		var startMaxVelocity=new Vector3(maxDirection.x *maxStartSpeed,maxDirection.y *maxStartSpeed,maxDirection.z *maxStartSpeed);
		if (this._velocityOverLifetime && this._velocityOverLifetime.enbale){
			var lifeMinVelocity;
			var lifeMaxVelocity;
			var velocity=this._velocityOverLifetime.velocity;
			switch (velocity.type){
				case 0:
					lifeMinVelocity=lifeMaxVelocity=velocity.constant;
					break ;
				case 1:
					lifeMinVelocity=lifeMaxVelocity=new Vector3(velocity.gradientX.getAverageValue(),velocity.gradientY.getAverageValue(),velocity.gradientZ.getAverageValue());
					break ;
				case 2:
					lifeMinVelocity=velocity.constantMin;
					lifeMaxVelocity=velocity.constantMax;
					break ;
				case 3:
					lifeMinVelocity=new Vector3(velocity.gradientXMin.getAverageValue(),velocity.gradientYMin.getAverageValue(),velocity.gradientZMin.getAverageValue());
					lifeMaxVelocity=new Vector3(velocity.gradientXMax.getAverageValue(),velocity.gradientYMax.getAverageValue(),velocity.gradientZMax.getAverageValue());
					break ;
				}
		};
		var positionScale,velocityScale;
		var transform=this._owner.transform;
		var worldPosition=transform.position;
		var sizeScale=ShurikenParticleSystem._tempVector39;
		var sizeScaleE=sizeScale.elements;
		var renderMode=particleRender.renderMode;
		switch (this.scaleMode){
			case 0:;
				var scale=transform.scale;
				positionScale=scale;
				sizeScaleE[0]=scale.x;
				sizeScaleE[1]=scale.z;
				sizeScaleE[2]=scale.y;
				(renderMode===1)&& (velocityScale=scale);
				break ;
			case 1:;
				var localScale=transform.localScale;
				positionScale=localScale;
				sizeScaleE[0]=localScale.x;
				sizeScaleE[1]=localScale.z;
				sizeScaleE[2]=localScale.y;
				(renderMode===1)&& (velocityScale=localScale);
				break ;
			case 2:
				positionScale=transform.scale;
				sizeScaleE[0]=sizeScaleE[1]=sizeScaleE[2]=1;
				(renderMode===1)&& (velocityScale=Vector3.ONE);
				break ;
			};
		var minStratPosition,maxStratPosition;
		if (this._velocityOverLifetime && this._velocityOverLifetime.enbale){
			}else {
			minStratPosition=new Vector3(startMinVelocity.x *maxStartLifeTime,startMinVelocity.y *maxStartLifeTime,startMinVelocity.z *maxStartLifeTime);
			maxStratPosition=new Vector3(startMaxVelocity.x *maxStartLifeTime,startMaxVelocity.y *maxStartLifeTime,startMaxVelocity.z *maxStartLifeTime);
			if (this.scaleMode !=2){
				Vector3.add(minPosition,minStratPosition,boundMin);
				Vector3.multiply(positionScale,boundMin,boundMin);
				Vector3.add(maxPosition,maxStratPosition,boundMax);
				Vector3.multiply(positionScale,boundMax,boundMax);
				}else {
				Vector3.multiply(positionScale,minPosition,boundMin);
				Vector3.add(boundMin,minStratPosition,boundMin);
				Vector3.multiply(positionScale,maxPosition,boundMax);
				Vector3.add(boundMax,maxStratPosition,boundMax);
			}
		}
		switch (this.simulationSpace){
			case 0:
				break ;
			case 1:
				Vector3.add(boundMin,worldPosition,boundMin);
				Vector3.add(boundMax,worldPosition,boundMax);
				break ;
			};
		var maxSize=NaN,maxSizeY=NaN;
		switch (this.startSizeType){
			case 0:
				if (this.threeDStartSize){
					var startSizeConstantSeparate=startSizeConstantSeparate;
					maxSize=Math.max(startSizeConstantSeparate.x,startSizeConstantSeparate.y);
					if (renderMode===1)
						maxSizeY=startSizeConstantSeparate.y;
					}else {
					maxSize=this.startSizeConstant;
					if (renderMode===1)
						maxSizeY=this.startSizeConstant;
				}
				break ;
			case 1:
				break ;
			case 2:
				if (this.threeDStartSize){
					var startSizeConstantMaxSeparate=startSizeConstantMaxSeparate;
					maxSize=Math.max(startSizeConstantMaxSeparate.x,startSizeConstantMaxSeparate.y);
					if (renderMode===1)
						maxSizeY=startSizeConstantMaxSeparate.y;
					}else {
					maxSize=this.startSizeConstantMax;
					if (renderMode===1)
						maxSizeY=this.startSizeConstantMax;
				}
				break ;
			case 3:
				break ;
			}
		if (this._sizeOverLifetime && this._sizeOverLifetime.enbale){
			var size=this._sizeOverLifetime.size;
			maxSize *=this._sizeOverLifetime.size.getMaxSizeInGradient();
		};
		var threeDMaxSize=ShurikenParticleSystem._tempVector30;
		var threeDMaxSizeE=threeDMaxSize.elements;
		var rotSize=NaN,nonRotSize=NaN;
		switch (renderMode){
			case 0:
				rotSize=maxSize *ShurikenParticleSystem.halfKSqrtOf2;
				Vector3.scale(sizeScale,maxSize,threeDMaxSize);
				Vector3.subtract(boundMin,threeDMaxSize,boundMin);
				Vector3.add(boundMax,threeDMaxSize,boundMax);
				break ;
			case 1:;
				var maxStretchPosition=ShurikenParticleSystem._tempVector31;
				var maxStretchVelocity=ShurikenParticleSystem._tempVector32;
				var minStretchVelocity=ShurikenParticleSystem._tempVector33;
				var minStretchPosition=ShurikenParticleSystem._tempVector34;
				if (this._velocityOverLifetime && this._velocityOverLifetime.enbale){
					}else {
					Vector3.multiply(velocityScale,startMaxVelocity,maxStretchVelocity);
					Vector3.multiply(velocityScale,startMinVelocity,minStretchVelocity);
				};
				var sizeStretch=maxSizeY *particleRender.stretchedBillboardLengthScale;
				var maxStretchLength=Vector3.scalarLength(maxStretchVelocity)*particleRender.stretchedBillboardSpeedScale+sizeStretch;
				var minStretchLength=Vector3.scalarLength(minStretchVelocity)*particleRender.stretchedBillboardSpeedScale+sizeStretch;
				var norMaxStretchVelocity=ShurikenParticleSystem._tempVector35;
				var norMinStretchVelocity=ShurikenParticleSystem._tempVector36;
				Vector3.normalize(maxStretchVelocity,norMaxStretchVelocity);
				Vector3.scale(norMaxStretchVelocity,maxStretchLength,minStretchPosition);
				Vector3.subtract(maxStratPosition,minStretchPosition,minStretchPosition);
				Vector3.normalize(minStretchVelocity,norMinStretchVelocity);
				Vector3.scale(norMinStretchVelocity,minStretchLength,maxStretchPosition);
				Vector3.add(minStratPosition,maxStretchPosition,maxStretchPosition);
				rotSize=maxSize *ShurikenParticleSystem.halfKSqrtOf2;
				Vector3.scale(sizeScale,rotSize,threeDMaxSize);
				var halfNorMaxStretchVelocity=ShurikenParticleSystem._tempVector37;
				var halfNorMinStretchVelocity=ShurikenParticleSystem._tempVector38;
				Vector3.scale(norMaxStretchVelocity,0.5,halfNorMaxStretchVelocity);
				Vector3.scale(norMinStretchVelocity,0.5,halfNorMinStretchVelocity);
				Vector3.multiply(halfNorMaxStretchVelocity,sizeScale,halfNorMaxStretchVelocity);
				Vector3.multiply(halfNorMinStretchVelocity,sizeScale,halfNorMinStretchVelocity);
				Vector3.add(boundMin,halfNorMinStretchVelocity,boundMin);
				Vector3.min(boundMin,minStretchPosition,boundMin);
				Vector3.subtract(boundMin,threeDMaxSize,boundMin);
				Vector3.subtract(boundMax,halfNorMaxStretchVelocity,boundMax);
				Vector3.max(boundMax,maxStretchPosition,boundMax);
				Vector3.add(boundMax,threeDMaxSize,boundMax);
				break ;
			case 2:
				maxSize *=Math.cos(0.78539816339744830961566084581988);
				nonRotSize=maxSize *0.5;
				threeDMaxSizeE[0]=sizeScale.x *nonRotSize;
				threeDMaxSizeE[1]=sizeScale.z *nonRotSize;
				Vector3.subtract(boundMin,threeDMaxSize,boundMin);
				Vector3.add(boundMax,threeDMaxSize,boundMax);
				break ;
			case 3:
				maxSize *=Math.cos(0.78539816339744830961566084581988);
				nonRotSize=maxSize *0.5;
				Vector3.scale(sizeScale,nonRotSize,threeDMaxSize);
				Vector3.subtract(boundMin,threeDMaxSize,boundMin);
				Vector3.add(boundMax,threeDMaxSize,boundMax);
				break ;
			}
		this._boundingBox.getCorners(this._boundingBoxCorners);
	}

	/**
	*@private
	*/
	__proto._updateEmission=function(){
		if (!this.isAlive)
			return;
		if (this._simulateUpdate){
			this._simulateUpdate=false;
		}
		else{
			var elapsedTime=(this._startUpdateLoopCount!==Stat.loopCount && !this._isPaused)?(this._owner._scene).timer._delta / 1000.0:0;
			elapsedTime=Math.min(ShurikenParticleSystem._maxElapsedTime,elapsedTime);
			this._updateParticles(elapsedTime);
		}
	}

	/**
	*@private
	*/
	__proto._updateParticles=function(elapsedTime){
		if (this._ownerRender.renderMode===4 && !this._ownerRender.mesh)
			return;
		this._currentTime+=elapsedTime;
		this._retireActiveParticles();
		this._freeRetiredParticles();
		this._totalDelayTime+=elapsedTime;
		if (this._totalDelayTime < this._playStartDelay){
			return;
		}
		if (this._emission.enbale&&this._isEmitting &&!this._isPaused)
			this._advanceTime(elapsedTime,this._currentTime);
	}

	/**
	*@private
	*/
	__proto._updateParticlesSimulationRestart=function(time){
		this._firstActiveElement=0;
		this._firstNewElement=0;
		this._firstFreeElement=0;
		this._firstRetiredElement=0;
		this._burstsIndex=0;
		this._frameRateTime=time;
		this._emissionTime=0;
		this._totalDelayTime=0;
		this._currentTime=time;
		var delayTime=time;
		if (delayTime < this._playStartDelay){
			this._totalDelayTime=delayTime;
			return;
		}
		if (this._emission.enbale)
			this._advanceTime(time,time);
	}

	/**
	*@private
	*/
	__proto._retireActiveParticles=function(){
		var epsilon=0.0001;
		while (this._firstActiveElement !=this._firstNewElement){
			var index=this._firstActiveElement *this._floatCountPerVertex *this._vertexStride;
			var timeIndex=index+this._timeIndex;
			var particleAge=this._currentTime-this._vertices[timeIndex];
			if (particleAge+epsilon < this._vertices[index+this._startLifeTimeIndex])
				break ;
			this._vertices[timeIndex]=this._drawCounter;
			this._firstActiveElement++;
			if (this._firstActiveElement >=this._bufferMaxParticles)
				this._firstActiveElement=0;
		}
	}

	/**
	*@private
	*/
	__proto._freeRetiredParticles=function(){
		while (this._firstRetiredElement !=this._firstActiveElement){
			var age=this._drawCounter-this._vertices[this._firstRetiredElement *this._floatCountPerVertex *this._vertexStride+this._timeIndex];
			if (this.isPerformanceMode)
				if (age < 3)
			break ;
			this._firstRetiredElement++;
			if (this._firstRetiredElement >=this._bufferMaxParticles)
				this._firstRetiredElement=0;
		}
	}

	/**
	*@private
	*/
	__proto._burst=function(fromTime,toTime){
		var totalEmitCount=0;
		var bursts=this._emission._bursts;
		for (var n=bursts.length;this._burstsIndex < n;this._burstsIndex++){
			var burst=bursts[this._burstsIndex];
			var burstTime=burst.time;
			if (fromTime<=burstTime && burstTime < toTime){
				var emitCount=0;
				if (this.autoRandomSeed){
					emitCount=MathUtil.lerp(burst.minCount,burst.maxCount,Math.random());
					}else {
					this._rand.seed=this._randomSeeds[0];
					emitCount=MathUtil.lerp(burst.minCount,burst.maxCount,this._rand.getFloat());
					this._randomSeeds[0]=this._rand.seed;
				}
				totalEmitCount+=emitCount;
				}else {
				break ;
			}
		}
		return totalEmitCount;
	}

	/**
	*@private
	*/
	__proto._advanceTime=function(elapsedTime,emitTime){
		var i=0;
		var lastEmissionTime=this._emissionTime;
		this._emissionTime+=elapsedTime;
		var totalEmitCount=0;
		if (this._emissionTime > this.duration){
			if (this.looping){
				totalEmitCount+=this._burst(lastEmissionTime,this._emissionTime);
				this._emissionTime-=this.duration;
				this._burstsIndex=0;
				totalEmitCount+=this._burst(0,this._emissionTime);
				}else {
				totalEmitCount=Math.min(this.maxParticles-this.aliveParticleCount,totalEmitCount);
				for (i=0;i < totalEmitCount;i++)
				this.emit(emitTime);
				this._isPlaying=false;
				this.stop();
				return;
			}
			}else {
			totalEmitCount+=this._burst(lastEmissionTime,this._emissionTime);
		}
		totalEmitCount=Math.min(this.maxParticles-this.aliveParticleCount,totalEmitCount);
		for (i=0;i < totalEmitCount;i++)
		this.emit(emitTime);
		var emissionRate=this.emission.emissionRate;
		if (emissionRate>0){
			var minEmissionTime=1/emissionRate;
			this._frameRateTime+=minEmissionTime;
			this._frameRateTime=this._currentTime-(this._currentTime-this._frameRateTime)% this._maxStartLifetime;
			while (this._frameRateTime <=emitTime){
				if (this.emit(this._frameRateTime))
					this._frameRateTime+=minEmissionTime;
				else
				break ;
			}
			this._frameRateTime=Math.floor(emitTime / minEmissionTime)*minEmissionTime;
		}
	}

	/**
	*@private
	*/
	__proto._initBufferDatas=function(){
		if (this._vertexBuffer){
			this._vertexBuffer.destroy();
			this._indexBuffer.destroy();
		};
		var render=this._ownerRender;
		var renderMode=render.renderMode;
		if (renderMode!==-1 && this.maxParticles > 0){
			var indices,i=0,j=0,m=0,indexOffset=0,perPartOffset=0,vertexDeclaration;;
			var mesh=render.mesh;
			if (renderMode===4){
				if(mesh){
					var vertexBufferCount=mesh._vertexBuffers.length;
					if (vertexBufferCount > 1){
						throw new Error("ShurikenParticleSystem: submesh Count mesh be One or all subMeshes have the same vertexDeclaration.");
						}else {
						vertexDeclaration=VertexShurikenParticleMesh.vertexDeclaration;
						this._floatCountPerVertex=vertexDeclaration.vertexStride/4;
						this._startLifeTimeIndex=12;
						this._timeIndex=16;
						this._vertexStride=mesh._vertexBuffers[0].vertexCount;
						var totalVertexCount=this._bufferMaxParticles *this._vertexStride;
						var vbCount=Math.floor(totalVertexCount / 65535)+1;
						var lastVBVertexCount=totalVertexCount % 65535;
						if (vbCount > 1){
							throw new Error("ShurikenParticleSystem:the maxParticleCount multiply mesh vertexCount is large than 65535.");
						}
						this._vertexBuffer=new VertexBuffer3D(vertexDeclaration.vertexStride*lastVBVertexCount,0x88E8);
						this._vertexBuffer.vertexDeclaration=vertexDeclaration;
						this._vertices=new Float32Array(this._floatCountPerVertex *lastVBVertexCount);
						this._setVertexBuffer(this._vertexBuffer);
						this._indexStride=mesh._indexBuffer.indexCount;
						var indexDatas=mesh._indexBuffer.getData();
						var indexCount=this._bufferMaxParticles *this._indexStride;
						this._indexBuffer=IndexBuffer3D.create("ushort",indexCount,0x88E4);
						indices=new Uint16Array(indexCount);
						indexOffset=0;
						for (i=0;i < this._bufferMaxParticles;i++){
							var indexValueOffset=i *this._vertexStride;
							for (j=0,m=indexDatas.length;j < m;j++)
							indices[indexOffset++]=indexValueOffset+indexDatas[j];
						}
						this._indexBuffer.setData(indices);
					}
				}
				}else {
				vertexDeclaration=VertexShurikenParticleBillboard.vertexDeclaration;
				this._floatCountPerVertex=vertexDeclaration.vertexStride/4;
				this._startLifeTimeIndex=7;
				this._timeIndex=11;
				this._vertexStride=4;
				this._vertexBuffer=new VertexBuffer3D(vertexDeclaration.vertexStride*this._bufferMaxParticles *this._vertexStride,0x88E8);
				this._vertexBuffer.vertexDeclaration=vertexDeclaration;
				this._vertices=new Float32Array(this._floatCountPerVertex *this._bufferMaxParticles *this._vertexStride);
				this._setVertexBuffer(this._vertexBuffer);
				for (i=0;i < this._bufferMaxParticles;i++){
					perPartOffset=i *this._floatCountPerVertex *this._vertexStride;
					this._vertices[perPartOffset]=-0.5;
					this._vertices[perPartOffset+1]=-0.5;
					this._vertices[perPartOffset+2]=0;
					this._vertices[perPartOffset+3]=1;
					perPartOffset+=this._floatCountPerVertex;
					this._vertices[perPartOffset]=0.5;
					this._vertices[perPartOffset+1]=-0.5;
					this._vertices[perPartOffset+2]=1;
					this._vertices[perPartOffset+3]=1;
					perPartOffset+=this._floatCountPerVertex
					this._vertices[perPartOffset]=0.5;
					this._vertices[perPartOffset+1]=0.5;
					this._vertices[perPartOffset+2]=1;
					this._vertices[perPartOffset+3]=0;
					perPartOffset+=this._floatCountPerVertex
					this._vertices[perPartOffset]=-0.5;
					this._vertices[perPartOffset+1]=0.5;
					this._vertices[perPartOffset+2]=0;
					this._vertices[perPartOffset+3]=0;
				}
				this._indexStride=6;
				this._indexBuffer=IndexBuffer3D.create("ushort",this._bufferMaxParticles *6,0x88E4);
				indices=new Uint16Array(this._bufferMaxParticles *6);
				for (i=0;i < this._bufferMaxParticles;i++){
					indexOffset=i *6;
					var firstVertex=i *this._vertexStride,secondVertex=firstVertex+2;
					indices[indexOffset++]=firstVertex;
					indices[indexOffset++]=secondVertex;
					indices[indexOffset++]=firstVertex+1;
					indices[indexOffset++]=firstVertex;
					indices[indexOffset++]=firstVertex+3;
					indices[indexOffset++]=secondVertex;
				}
				this._indexBuffer.setData(indices);
			}
		}
	}

	/**
	*@private
	*/
	__proto.destroy=function(){
		_super.prototype.destroy.call(this);
		this._indexBuffer.destroy();
		this._emission.destroy();
		this._owner=null;
		this._vertices=null;
		this._indexBuffer=null;
		this._emission=null;
		this._shape=null;
		this.startLifeTimeGradient=null;
		this.startLifeTimeGradientMin=null;
		this.startLifeTimeGradientMax=null;
		this.startSizeConstantSeparate=null;
		this.startSizeConstantMinSeparate=null;
		this.startSizeConstantMaxSeparate=null;
		this.startRotationConstantSeparate=null;
		this.startRotationConstantMinSeparate=null;
		this.startRotationConstantMaxSeparate=null;
		this.startColorConstant=null;
		this.startColorConstantMin=null;
		this.startColorConstantMax=null;
		this._velocityOverLifetime=null;
		this._colorOverLifetime=null;
		this._sizeOverLifetime=null;
		this._rotationOverLifetime=null;
		this._textureSheetAnimation=null;
	}

	/**
	*发射一个粒子。
	*/
	__proto.emit=function(time){
		var position=ShurikenParticleSystem._tempPosition;
		var direction=ShurikenParticleSystem._tempDirection;
		if (this._shape&&this._shape.enable){
			if (this.autoRandomSeed)
				this._shape.generatePositionAndDirection(position,direction);
			else
			this._shape.generatePositionAndDirection(position,direction,this._rand,this._randomSeeds);
			}else {
			var positionE=position.elements;
			var directionE=direction.elements;
			positionE[0]=positionE[1]=positionE[2]=0;
			directionE[0]=directionE[1]=0;
			directionE[2]=1;
		}
		return this.addParticle(position,direction,time);
	}

	//TODO:提前判断优化
	__proto.addParticle=function(position,direction,time){
		Vector3.normalize(direction,direction);
		var nextFreeParticle=this._firstFreeElement+1;
		if (nextFreeParticle >=this._bufferMaxParticles)
			nextFreeParticle=0;
		if (nextFreeParticle===this._firstRetiredElement)
			return false;
		ShurikenParticleData.create(this,this._ownerRender,this._owner.transform);
		var particleAge=this._currentTime-time;
		if (particleAge >=ShurikenParticleData.startLifeTime)
			return true;
		var randomVelocityX=NaN,randomVelocityY=NaN,randomVelocityZ=NaN,randomColor=NaN,randomSize=NaN,randomRotation=NaN,randomTextureAnimation=NaN;
		var needRandomVelocity=this._velocityOverLifetime && this._velocityOverLifetime.enbale;
		if (needRandomVelocity){
			var velocityType=this._velocityOverLifetime.velocity.type;
			if (velocityType===2 || velocityType===3){
				if (this.autoRandomSeed){
					randomVelocityX=Math.random();
					randomVelocityY=Math.random();
					randomVelocityZ=Math.random();
					}else {
					this._rand.seed=this._randomSeeds[9];
					randomVelocityX=this._rand.getFloat();
					randomVelocityY=this._rand.getFloat();
					randomVelocityZ=this._rand.getFloat();
					this._randomSeeds[9]=this._rand.seed;
				}
				}else {
				needRandomVelocity=false;
			}
			}else {
			needRandomVelocity=false;
		};
		var needRandomColor=this._colorOverLifetime && this._colorOverLifetime.enbale;
		if (needRandomColor){
			var colorType=this._colorOverLifetime.color.type;
			if (colorType===3){
				if (this.autoRandomSeed){
					randomColor=Math.random();
					}else {
					this._rand.seed=this._randomSeeds[10];
					randomColor=this._rand.getFloat();
					this._randomSeeds[10]=this._rand.seed;
				}
				}else {
				needRandomColor=false;
			}
			}else {
			needRandomColor=false;
		};
		var needRandomSize=this._sizeOverLifetime && this._sizeOverLifetime.enbale;
		if (needRandomSize){
			var sizeType=this._sizeOverLifetime.size.type;
			if (sizeType===3){
				if (this.autoRandomSeed){
					randomSize=Math.random();
					}else {
					this._rand.seed=this._randomSeeds[11];
					randomSize=this._rand.getFloat();
					this._randomSeeds[11]=this._rand.seed;
				}
				}else {
				needRandomSize=false;
			}
			}else {
			needRandomSize=false;
		};
		var needRandomRotation=this._rotationOverLifetime && this._rotationOverLifetime.enbale;
		if (needRandomRotation){
			var rotationType=this._rotationOverLifetime.angularVelocity.type;
			if (rotationType===2 || rotationType===3){
				if (this.autoRandomSeed){
					randomRotation=Math.random();
					}else {
					this._rand.seed=this._randomSeeds[12];
					randomRotation=this._rand.getFloat();
					this._randomSeeds[12]=this._rand.seed;
				}
				}else {
				needRandomRotation=false;
			}
			}else {
			needRandomRotation=false;
		};
		var needRandomTextureAnimation=this._textureSheetAnimation && this._textureSheetAnimation.enable;
		if (needRandomTextureAnimation){
			var textureAnimationType=this._textureSheetAnimation.frame.type;
			if (textureAnimationType===3){
				if (this.autoRandomSeed){
					randomTextureAnimation=Math.random();
					}else {
					this._rand.seed=this._randomSeeds[15];
					randomTextureAnimation=this._rand.getFloat();
					this._randomSeeds[15]=this._rand.seed;
				}
				}else {
				needRandomTextureAnimation=false;
			}
			}else {
			needRandomTextureAnimation=false;
		};
		var startIndex=this._firstFreeElement *this._floatCountPerVertex *this._vertexStride;
		var subU=ShurikenParticleData.startUVInfo[0];
		var subV=ShurikenParticleData.startUVInfo[1];
		var startU=ShurikenParticleData.startUVInfo[2];
		var startV=ShurikenParticleData.startUVInfo[3];
		var positionE=position.elements;
		var directionE=direction.elements;
		var meshVertices,meshVertexStride=0,meshPosOffset=0,meshCorOffset=0,meshUVOffset=0,meshVertexIndex=0;
		var render=this._ownerRender;
		if (render.renderMode===4){
			var meshVB=render.mesh._vertexBuffers[0];
			meshVertices=meshVB.getData();
			var meshVertexDeclaration=meshVB.vertexDeclaration;
			meshPosOffset=meshVertexDeclaration.getVertexElementByUsage(0).offset / 4;
			var colorElement=meshVertexDeclaration.getVertexElementByUsage(1);
			meshCorOffset=colorElement?colorElement.offset / 4:-1;
			var uvElement=meshVertexDeclaration.getVertexElementByUsage(2);
			meshUVOffset=uvElement?uvElement.offset / 4:-1;
			meshVertexStride=meshVertexDeclaration.vertexStride / 4;
			meshVertexIndex=0;
			}else {
			this._vertices[startIndex+2]=startU;
			this._vertices[startIndex+3]=startV+subV;
			var secondOffset=startIndex+this._floatCountPerVertex;
			this._vertices[secondOffset+2]=startU+subU;
			this._vertices[secondOffset+3]=startV+subV;
			var thirdOffset=secondOffset+this._floatCountPerVertex;
			this._vertices[thirdOffset+2]=startU+subU;
			this._vertices[thirdOffset+3]=startV;
			var fourthOffset=thirdOffset+this._floatCountPerVertex;
			this._vertices[fourthOffset+2]=startU;
			this._vertices[fourthOffset+3]=startV;
		}
		for (var i=startIndex,n=startIndex+this._floatCountPerVertex *this._vertexStride;i < n;i+=this._floatCountPerVertex){
			var offset=0;
			if (render.renderMode===4){
				offset=i;
				var vertexOffset=meshVertexStride *(meshVertexIndex++);
				var meshOffset=vertexOffset+meshPosOffset;
				this._vertices[offset++]=meshVertices[meshOffset++];
				this._vertices[offset++]=meshVertices[meshOffset++];
				this._vertices[offset++]=meshVertices[meshOffset];
				if (meshCorOffset===-1){
					this._vertices[offset++]=1.0;
					this._vertices[offset++]=1.0;
					this._vertices[offset++]=1.0;
					this._vertices[offset++]=1.0;
				}
				else{
					meshOffset=vertexOffset+meshCorOffset;
					this._vertices[offset++]=meshVertices[meshOffset++];
					this._vertices[offset++]=meshVertices[meshOffset++];
					this._vertices[offset++]=meshVertices[meshOffset++];
					this._vertices[offset++]=meshVertices[meshOffset];
				}
				if (meshUVOffset===-1){
					this._vertices[offset++]=0.0;
					this._vertices[offset++]=0.0;
				}
				else{
					meshOffset=vertexOffset+meshUVOffset;
					this._vertices[offset++]=startU+meshVertices[meshOffset++] *subU;
					this._vertices[offset++]=startV+meshVertices[meshOffset] *subV;
				}
				}else {
				offset=i+4;
			}
			this._vertices[offset++]=positionE[0];
			this._vertices[offset++]=positionE[1];
			this._vertices[offset++]=positionE[2];
			this._vertices[offset++]=ShurikenParticleData.startLifeTime;
			this._vertices[offset++]=directionE[0];
			this._vertices[offset++]=directionE[1];
			this._vertices[offset++]=directionE[2];
			this._vertices[offset++]=time;
			this._vertices[offset++]=ShurikenParticleData.startColor[0];
			this._vertices[offset++]=ShurikenParticleData.startColor[1];
			this._vertices[offset++]=ShurikenParticleData.startColor[2];
			this._vertices[offset++]=ShurikenParticleData.startColor[3];
			this._vertices[offset++]=ShurikenParticleData.startSize[0];
			this._vertices[offset++]=ShurikenParticleData.startSize[1];
			this._vertices[offset++]=ShurikenParticleData.startSize[2];
			this._vertices[offset++]=ShurikenParticleData.startRotation[0];
			this._vertices[offset++]=ShurikenParticleData.startRotation[1];
			this._vertices[offset++]=ShurikenParticleData.startRotation[2];
			this._vertices[offset++]=ShurikenParticleData.startSpeed;
			needRandomColor && (this._vertices[offset+1]=randomColor);
			needRandomSize && (this._vertices[offset+2]=randomSize);
			needRandomRotation && (this._vertices[offset+3]=randomRotation);
			needRandomTextureAnimation && (this._vertices[offset+4]=randomTextureAnimation);
			if (needRandomVelocity){
				this._vertices[offset+5]=randomVelocityX;
				this._vertices[offset+6]=randomVelocityY;
				this._vertices[offset+7]=randomVelocityZ;
			}
			switch(this.simulationSpace){
				case 0:
					offset+=8;
					this._vertices[offset++]=ShurikenParticleData.simulationWorldPostion[0];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldPostion[1];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldPostion[2];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldRotation[0];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldRotation[1];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldRotation[2];
					this._vertices[offset++]=ShurikenParticleData.simulationWorldRotation[3];
					break ;
				case 1:
					break ;
				default :
					throw new Error("ShurikenParticleMaterial: SimulationSpace value is invalid.");
				}
		}
		this._firstFreeElement=nextFreeParticle;
		return true;
	}

	__proto.addNewParticlesToVertexBuffer=function(){
		var start=0;
		if (this._firstNewElement < this._firstFreeElement){
			start=this._firstNewElement *this._vertexStride *this._floatCountPerVertex;
			this._vertexBuffer.setData(this._vertices,start,start,(this._firstFreeElement-this._firstNewElement)*this._vertexStride *this._floatCountPerVertex);
			}else {
			start=this._firstNewElement *this._vertexStride *this._floatCountPerVertex;
			this._vertexBuffer.setData(this._vertices,start,start,(this._bufferMaxParticles-this._firstNewElement)*this._vertexStride *this._floatCountPerVertex);
			if (this._firstFreeElement > 0){
				this._vertexBuffer.setData(this._vertices,0,0,this._firstFreeElement *this._vertexStride *this._floatCountPerVertex);
			}
		}
		this._firstNewElement=this._firstFreeElement;
	}

	/**
	*@inheritDoc
	*/
	__proto._prepareRender=function(state){
		this._updateEmission();
		if (this._firstNewElement !=this._firstFreeElement)
			this.addNewParticlesToVertexBuffer();
		this._drawCounter++;
		if (this._firstActiveElement !=this._firstFreeElement)
			return true;
		else
		return false;
	}

	/**
	*@private
	*/
	__proto._render=function(state){
		this._indexBuffer.bind();
		var indexCount=0;
		var gl=LayaGL.instance;
		if (this._firstActiveElement < this._firstFreeElement){
			indexCount=(this._firstFreeElement-this._firstActiveElement)*this._indexStride;
			gl.drawElements(0x0004,indexCount,0x1403,2 *this._firstActiveElement *this._indexStride);
			Stat.trianglesFaces+=indexCount / 3;
			Stat.drawCall++;
			}else {
			indexCount=(this._bufferMaxParticles-this._firstActiveElement)*this._indexStride;
			gl.drawElements(0x0004,indexCount,0x1403,2 *this._firstActiveElement *this._indexStride);
			Stat.trianglesFaces+=indexCount / 3;
			Stat.drawCall++;
			if (this._firstFreeElement > 0){
				indexCount=this._firstFreeElement *this._indexStride;
				gl.drawElements(0x0004,indexCount,0x1403,0);
				Stat.trianglesFaces+=indexCount / 3;
				Stat.drawCall++;
			}
		}
	}

	/**
	*开始发射粒子。
	*/
	__proto.play=function(){
		this._burstsIndex=0;
		this._isEmitting=true;
		this._isPlaying=true;
		this._isPaused=false;
		this._emissionTime=0;
		this._totalDelayTime=0;
		if (!this.autoRandomSeed){
			for (var i=0,n=this._randomSeeds.length;i < n;i++)
			this._randomSeeds[i]=this.randomSeed[0]+ShurikenParticleSystem._RANDOMOFFSET[i];
		}
		switch (this.startDelayType){
			case 0:
				this._playStartDelay=this.startDelay;
				break ;
			case 1:
				if (this.autoRandomSeed){
					this._playStartDelay=MathUtil.lerp(this.startDelayMin,this.startDelayMax,Math.random());
					}else {
					this._rand.seed=this._randomSeeds[2];
					this._playStartDelay=MathUtil.lerp(this.startDelayMin,this.startDelayMax,this._rand.getFloat());
					this._randomSeeds[2]=this._rand.seed;
				}
				break ;
			default :
				throw new Error("Utils3D: startDelayType is invalid.");
			}
		this._frameRateTime=this._currentTime+this._playStartDelay;
		this._startUpdateLoopCount=Stat.loopCount;
	}

	/**
	*暂停发射粒子。
	*/
	__proto.pause=function(){
		this._isPaused=true;
	}

	/**
	*通过指定时间增加粒子播放进度，并暂停播放。
	*@param time 进度时间.如果restart为true,粒子播放时间会归零后再更新进度。
	*@param restart 是否重置播放状态。
	*/
	__proto.simulate=function(time,restart){
		(restart===void 0)&& (restart=true);
		this._simulateUpdate=true;
		if (restart){
			this._updateParticlesSimulationRestart(time);
		}
		else{
			this._isPaused=false;
			this._updateParticles(time);
		}
		this.pause();
	}

	/**
	*停止发射粒子。
	*/
	__proto.stop=function(){
		this._burstsIndex=0;
		this._isEmitting=false;
		this._emissionTime=0;
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var dest=destObject;
		dest.duration=this.duration;
		dest.looping=this.looping;
		dest.prewarm=this.prewarm;
		dest.startDelayType=this.startDelayType;
		dest.startDelay=this.startDelay;
		dest.startDelayMin=this.startDelayMin;
		dest.startDelayMax=this.startDelayMax;
		dest._maxStartLifetime=this._maxStartLifetime;
		dest.startLifetimeType=this.startLifetimeType;
		dest.startLifetimeConstant=this.startLifetimeConstant;
		this.startLifeTimeGradient.cloneTo(dest.startLifeTimeGradient);
		dest.startLifetimeConstantMin=this.startLifetimeConstantMin;
		dest.startLifetimeConstantMax=this.startLifetimeConstantMax;
		this.startLifeTimeGradientMin.cloneTo(dest.startLifeTimeGradientMin);
		this.startLifeTimeGradientMax.cloneTo(dest.startLifeTimeGradientMax);
		dest.startSpeedType=this.startSpeedType;
		dest.startSpeedConstant=this.startSpeedConstant;
		dest.startSpeedConstantMin=this.startSpeedConstantMin;
		dest.startSpeedConstantMax=this.startSpeedConstantMax;
		dest.threeDStartSize=this.threeDStartSize;
		dest.startSizeType=this.startSizeType;
		dest.startSizeConstant=this.startSizeConstant;
		this.startSizeConstantSeparate.cloneTo(dest.startSizeConstantSeparate);
		dest.startSizeConstantMin=this.startSizeConstantMin;
		dest.startSizeConstantMax=this.startSizeConstantMax;
		this.startSizeConstantMinSeparate.cloneTo(dest.startSizeConstantMinSeparate);
		this.startSizeConstantMaxSeparate.cloneTo(dest.startSizeConstantMaxSeparate);
		dest.threeDStartRotation=this.threeDStartRotation;
		dest.startRotationType=this.startRotationType;
		dest.startRotationConstant=this.startRotationConstant;
		this.startRotationConstantSeparate.cloneTo(dest.startRotationConstantSeparate);
		dest.startRotationConstantMin=this.startRotationConstantMin;
		dest.startRotationConstantMax=this.startRotationConstantMax;
		this.startRotationConstantMinSeparate.cloneTo(dest.startRotationConstantMinSeparate);
		this.startRotationConstantMaxSeparate.cloneTo(dest.startRotationConstantMaxSeparate);
		dest.randomizeRotationDirection=this.randomizeRotationDirection;
		dest.startColorType=this.startColorType;
		this.startColorConstant.cloneTo(dest.startColorConstant);
		this.startColorConstantMin.cloneTo(dest.startColorConstantMin);
		this.startColorConstantMax.cloneTo(dest.startColorConstantMax);
		dest.gravityModifier=this.gravityModifier;
		dest.simulationSpace=this.simulationSpace;
		dest.scaleMode=this.scaleMode;
		dest.playOnAwake=this.playOnAwake;
		dest.maxParticles=this.maxParticles;
		(this._emission)&& (dest._emission=this._emission.clone());
		(this.shape)&& (dest.shape=this.shape.clone());
		(this.velocityOverLifetime)&& (dest.velocityOverLifetime=this.velocityOverLifetime.clone());
		(this.colorOverLifetime)&& (dest.colorOverLifetime=this.colorOverLifetime.clone());
		(this.sizeOverLifetime)&& (dest.sizeOverLifetime=this.sizeOverLifetime.clone());
		(this.rotationOverLifetime)&& (dest.rotationOverLifetime=this.rotationOverLifetime.clone());
		(this.textureSheetAnimation)&& (dest.textureSheetAnimation=this.textureSheetAnimation.clone());
		dest.isPerformanceMode=this.isPerformanceMode;
		dest._isEmitting=this._isEmitting;
		dest._isPlaying=this._isPlaying;
		dest._isPaused=this._isPaused;
		dest._playStartDelay=this._playStartDelay;
		dest._frameRateTime=this._frameRateTime;
		dest._emissionTime=this._emissionTime;
		dest._totalDelayTime=this._totalDelayTime;
		dest._burstsIndex=this._burstsIndex;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**设置最大粒子数,注意:谨慎修改此属性，有性能损耗。*/
	/**获取最大粒子数。*/
	__getset(0,__proto,'maxParticles',function(){
		return this._bufferMaxParticles-1;
		},function(value){
		var newMaxParticles=value+1;
		if (newMaxParticles!==this._bufferMaxParticles){
			this._bufferMaxParticles=newMaxParticles;
			this._initBufferDatas();
		}
	});

	/**
	*是否正在发射。
	*/
	__getset(0,__proto,'isEmitting',function(){
		return this._isEmitting;
	});

	/**
	*是否存活。
	*/
	__getset(0,__proto,'isAlive',function(){
		if (this._isPlaying || this.aliveParticleCount > 0)
			return true;
		return false;
	});

	/**
	*设置形状。
	*/
	/**
	*获取形状。
	*/
	__getset(0,__proto,'shape',function(){
		return this._shape;
		},function(value){
		if (this._shape!==value){
			if (value&&value.enable)
				this._owner._render._defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_SHAPE);
			else
			this._owner._render._defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_SHAPE);
			this._shape=value;
		}
	});

	/**
	*设置生命周期旋转,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@param value 生命周期旋转。
	*/
	/**
	*获取生命周期旋转,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@return 生命周期旋转。
	*/
	__getset(0,__proto,'rotationOverLifetime',function(){
		return this._rotationOverLifetime;
		},function(value){
		var defDat=this._owner._render._defineDatas;
		var shaDat=this._owner._render._shaderValues;
		if (value){
			var rotation=value.angularVelocity;
			if (!rotation)
				return;
			var rotationSeparate=rotation.separateAxes;
			var rotationType=rotation.type;
			if (value.enbale){
				if (rotationSeparate)
					defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMESEPERATE);
				else
				defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIME);
				switch (rotationType){
					case 0:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECONSTANT);
						break ;
					case 1:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECURVE);
						break ;
					case 2:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCONSTANTS);
						break ;
					case 3:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCURVES);
						break ;
					}
				}else {
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIME);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMESEPERATE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECONSTANT);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECURVE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCONSTANTS);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCURVES);
			}
			switch (rotationType){
				case 0:
					if (rotationSeparate){
						shaDat.setVector(35,rotation.constantSeparate);
						}else {
						shaDat.setNumber(34,rotation.constant);
					}
					break ;
				case 1:
					if (rotationSeparate){
						shaDat.setBuffer(37,rotation.gradientX._elements);
						shaDat.setBuffer(38,rotation.gradientY._elements);
						shaDat.setBuffer(39,rotation.gradientZ._elements);
						shaDat.setBuffer(40,rotation.gradientW._elements);
						}else {
						shaDat.setBuffer(36,rotation.gradient._elements);
					}
					break ;
				case 2:
					if (rotationSeparate){
						shaDat.setVector(35,rotation.constantMinSeparate);
						shaDat.setVector(42,rotation.constantMaxSeparate);
						}else {
						shaDat.setNumber(34,rotation.constantMin);
						shaDat.setNumber(41,rotation.constantMax);
					}
					break ;
				case 3:
					if (rotationSeparate){
						shaDat.setBuffer(37,rotation.gradientXMin._elements);
						shaDat.setBuffer(44,rotation.gradientXMax._elements);
						shaDat.setBuffer(38,rotation.gradientYMin._elements);
						shaDat.setBuffer(45,rotation.gradientYMax._elements);
						shaDat.setBuffer(39,rotation.gradientZMin._elements);
						shaDat.setBuffer(46,rotation.gradientZMax._elements);
						shaDat.setBuffer(40,rotation.gradientWMin._elements);
						shaDat.setBuffer(47,rotation.gradientWMax._elements);
						}else {
						shaDat.setBuffer(36,rotation.gradientMin._elements);
						shaDat.setBuffer(43,rotation.gradientMax._elements);
					}
					break ;
				}
			}else {
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIME);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMESEPERATE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECONSTANT);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECURVE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCONSTANTS);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCURVES);
			shaDat.setVector(35,null);
			shaDat.setVector(42,null);
			shaDat.setNumber(34,undefined);
			shaDat.setNumber(41,undefined);
			shaDat.setBuffer(37,null);
			shaDat.setBuffer(44,null);
			shaDat.setBuffer(38,null);
			shaDat.setBuffer(45,null);
			shaDat.setBuffer(39,null);
			shaDat.setBuffer(46,null);
			shaDat.setBuffer(40,null);
			shaDat.setBuffer(47,null);
			shaDat.setBuffer(36,null);
			shaDat.setBuffer(43,null);
		}
		this._rotationOverLifetime=value;
	});

	/**
	*获取发射器。
	*/
	__getset(0,__proto,'emission',function(){
		return this._emission;
	});

	/**
	*获取一次循环内的累计时间。
	*@return 一次循环内的累计时间。
	*/
	__getset(0,__proto,'emissionTime',function(){
		return this._emissionTime > this.duration ? this.duration :this._emissionTime;
	});

	/**
	*粒子存活个数。
	*/
	__getset(0,__proto,'aliveParticleCount',function(){
		if (this._firstNewElement >=this._firstRetiredElement)
			return this._firstNewElement-this._firstRetiredElement;
		else
		return this._bufferMaxParticles-this._firstRetiredElement+this._firstNewElement;
	});

	/**
	*是否正在播放。
	*/
	__getset(0,__proto,'isPlaying',function(){
		return this._isPlaying;
	});

	/**
	*是否已暂停。
	*/
	__getset(0,__proto,'isPaused',function(){
		return this._isPaused;
	});

	/**
	*设置开始生命周期模式,0为固定时间，1为渐变时间，2为两个固定之间的随机插值,3为两个渐变时间的随机插值。
	*/
	/**
	*获取开始生命周期模式,0为固定时间，1为渐变时间，2为两个固定之间的随机插值,3为两个渐变时间的随机插值。
	*/
	__getset(0,__proto,'startLifetimeType',function(){
		return this._startLifetimeType;
		},function(value){
		var i=0,n=0;
		switch (this.startLifetimeType){
			case 0:
				this._maxStartLifetime=this.startLifetimeConstant;
				break ;
			case 1:
				this._maxStartLifetime=-Number.MAX_VALUE;
				var startLifeTimeGradient=startLifeTimeGradient;
				for (i=0,n=startLifeTimeGradient.gradientCount;i < n;i++)
				this._maxStartLifetime=Math.max(this._maxStartLifetime,startLifeTimeGradient.getValueByIndex(i));
				break ;
			case 2:
				this._maxStartLifetime=Math.max(this.startLifetimeConstantMin,this.startLifetimeConstantMax);
				break ;
			case 3:
				this._maxStartLifetime=-Number.MAX_VALUE;
				var startLifeTimeGradientMin=startLifeTimeGradientMin;
				for (i=0,n=startLifeTimeGradientMin.gradientCount;i < n;i++)
				this._maxStartLifetime=Math.max(this._maxStartLifetime,startLifeTimeGradientMin.getValueByIndex(i));
				var startLifeTimeGradientMax=startLifeTimeGradientMax;
				for (i=0,n=startLifeTimeGradientMax.gradientCount;i < n;i++)
				this._maxStartLifetime=Math.max(this._maxStartLifetime,startLifeTimeGradientMax.getValueByIndex(i));
				break ;
			}
		this._startLifetimeType=value;
	});

	/**
	*设置开始生命周期，0模式,单位为秒。
	*/
	/**
	*获取开始生命周期，0模式,单位为秒。
	*/
	__getset(0,__proto,'startLifetimeConstant',function(){
		return this._startLifetimeConstant;
		},function(value){
		if(this._startLifetimeType===0)
			this._maxStartLifetime=value;
		this._startLifetimeConstant=value;
	});

	/**
	*设置最小开始生命周期，2模式,单位为秒。
	*/
	/**
	*获取最小开始生命周期，2模式,单位为秒。
	*/
	__getset(0,__proto,'startLifetimeConstantMin',function(){
		return this._startLifetimeConstantMin;
		},function(value){
		if (this._startLifetimeType===2)
			this._maxStartLifetime=Math.max(value,this._startLifetimeConstantMax);
		this._startLifetimeConstantMin=value;
	});

	/**
	*设置开始渐变生命周期，1模式,单位为秒。
	*/
	/**
	*获取开始渐变生命周期，1模式,单位为秒。
	*/
	__getset(0,__proto,'startLifeTimeGradient',function(){
		return this._startLifeTimeGradient;
		},function(value){
		if (this._startLifetimeType===1){
			this._maxStartLifetime=-Number.MAX_VALUE;
			for (var i=0,n=value.gradientCount;i < n;i++)
			this._maxStartLifetime=Math.max(this._maxStartLifetime,value.getValueByIndex(i));
		}
		this._startLifeTimeGradient=value;
	});

	/**
	*设置最大开始生命周期，2模式,单位为秒。
	*/
	/**
	*获取最大开始生命周期，2模式,单位为秒。
	*/
	__getset(0,__proto,'startLifetimeConstantMax',function(){
		return this._startLifetimeConstantMax;
		},function(value){
		if (this._startLifetimeType===2)
			this._maxStartLifetime=Math.max(this._startLifetimeConstantMin,value);
		this._startLifetimeConstantMax=value;
	});

	/**
	*设置开始渐变最小生命周期，3模式,单位为秒。
	*/
	/**
	*获取开始渐变最小生命周期，3模式,单位为秒。
	*/
	__getset(0,__proto,'startLifeTimeGradientMin',function(){
		return this._startLifeTimeGradientMin;
		},function(value){
		if (this._startLifetimeType===3){
			var i=0,n=0;
			this._maxStartLifetime=-Number.MAX_VALUE;
			for (i=0,n=value.gradientCount;i < n;i++)
			this._maxStartLifetime=Math.max(this._maxStartLifetime,value.getValueByIndex(i));
			for (i=0,n=this._startLifeTimeGradientMax.gradientCount;i < n;i++)
			this._maxStartLifetime=Math.max(this._maxStartLifetime,this._startLifeTimeGradientMax.getValueByIndex(i));
		}
		this._startLifeTimeGradientMin=value;
	});

	/**
	*设置开始渐变最大生命周期，3模式,单位为秒。
	*/
	/**
	*获取开始渐变最大生命周期，3模式,单位为秒。
	*/
	__getset(0,__proto,'startLifeTimeGradientMax',function(){
		return this._startLifeTimeGradientMax;
		},function(value){
		if (this._startLifetimeType===3){
			var i=0,n=0;
			this._maxStartLifetime=-Number.MAX_VALUE;
			for (i=0,n=this._startLifeTimeGradientMin.gradientCount;i < n;i++)
			this._maxStartLifetime=Math.max(this._maxStartLifetime,this._startLifeTimeGradientMin.getValueByIndex(i));
			for (i=0,n=value.gradientCount;i < n;i++)
			this._maxStartLifetime=Math.max(this._maxStartLifetime,value.getValueByIndex(i));
		}
		this._startLifeTimeGradientMax=value;
	});

	/**
	*设置生命周期速度,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@param value 生命周期速度.
	*/
	/**
	*获取生命周期速度,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@return 生命周期速度.
	*/
	__getset(0,__proto,'velocityOverLifetime',function(){
		return this._velocityOverLifetime;
		},function(value){
		var defDat=this._owner._render._defineDatas;
		var shaDat=this._owner._render._shaderValues;
		if (value){
			var velocity=value.velocity;
			var velocityType=velocity.type;
			if (value.enbale){
				switch (velocityType){
					case 0:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECONSTANT);
						break ;
					case 1:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECURVE);
						break ;
					case 2:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCONSTANT);
						break ;
					case 3:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCURVE);
						break ;
					}
				}else {
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECONSTANT);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECURVE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCONSTANT);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCURVE);
			}
			switch (velocityType){
				case 0:
					shaDat.setVector(13,velocity.constant);
					break ;
				case 1:
					shaDat.setBuffer(14,velocity.gradientX._elements);
					shaDat.setBuffer(15,velocity.gradientY._elements);
					shaDat.setBuffer(16,velocity.gradientZ._elements);
					break ;
				case 2:
					shaDat.setVector(13,velocity.constantMin);
					shaDat.setVector(17,velocity.constantMax);
					break ;
				case 3:
					shaDat.setBuffer(14,velocity.gradientXMin._elements);
					shaDat.setBuffer(18,velocity.gradientXMax._elements);
					shaDat.setBuffer(15,velocity.gradientYMin._elements);
					shaDat.setBuffer(19,velocity.gradientYMax._elements);
					shaDat.setBuffer(16,velocity.gradientZMin._elements);
					shaDat.setBuffer(20,velocity.gradientZMax._elements);
					break ;
				}
			shaDat.setInt(21,value.space);
			}else {
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECONSTANT);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECURVE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCONSTANT);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCURVE);
			shaDat.setVector(13,null);
			shaDat.setBuffer(14,null);
			shaDat.setBuffer(15,null);
			shaDat.setBuffer(16,null);
			shaDat.setVector(13,null);
			shaDat.setVector(17,null);
			shaDat.setBuffer(14,null);
			shaDat.setBuffer(18,null);
			shaDat.setBuffer(15,null);
			shaDat.setBuffer(19,null);
			shaDat.setBuffer(16,null);
			shaDat.setBuffer(20,null);
			shaDat.setInt(21,undefined);
		}
		this._velocityOverLifetime=value;
	});

	/**
	*设置生命周期颜色,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@param value 生命周期颜色
	*/
	/**
	*获取生命周期颜色,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@return 生命周期颜色
	*/
	__getset(0,__proto,'colorOverLifetime',function(){
		return this._colorOverLifetime;
		},function(value){
		var defDat=this._owner._render._defineDatas;
		var shaDat=this._owner._render._shaderValues;
		if (value){
			var color=value.color;
			if (value.enbale){
				switch (color.type){
					case 1:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_COLOROVERLIFETIME);
						break ;
					case 3:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_RANDOMCOLOROVERLIFETIME);
						break ;
					}
				}else {
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_COLOROVERLIFETIME);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_RANDOMCOLOROVERLIFETIME);
			}
			switch (color.type){
				case 1:;
					var gradientColor=color.gradient;
					shaDat.setBuffer(22,gradientColor._alphaElements);
					shaDat.setBuffer(23,gradientColor._rgbElements);
					break ;
				case 3:;
					var minGradientColor=color.gradientMin;
					var maxGradientColor=color.gradientMax;
					shaDat.setBuffer(22,minGradientColor._alphaElements);
					shaDat.setBuffer(23,minGradientColor._rgbElements);
					shaDat.setBuffer(24,maxGradientColor._alphaElements);
					shaDat.setBuffer(25,maxGradientColor._rgbElements);
					break ;
				}
			}else {
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_COLOROVERLIFETIME);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_RANDOMCOLOROVERLIFETIME);
			shaDat.setBuffer(22,gradientColor._alphaElements);
			shaDat.setBuffer(23,gradientColor._rgbElements);
			shaDat.setBuffer(22,minGradientColor._alphaElements);
			shaDat.setBuffer(23,minGradientColor._rgbElements);
			shaDat.setBuffer(24,maxGradientColor._alphaElements);
			shaDat.setBuffer(25,maxGradientColor._rgbElements);
		}
		this._colorOverLifetime=value;
	});

	/**
	*设置生命周期尺寸,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@param value 生命周期尺寸
	*/
	/**
	*获取生命周期尺寸,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@return 生命周期尺寸
	*/
	__getset(0,__proto,'sizeOverLifetime',function(){
		return this._sizeOverLifetime;
		},function(value){
		var defDat=this._owner._render._defineDatas;
		var shaDat=this._owner._render._shaderValues;
		if (value){
			var size=value.size;
			var sizeSeparate=size.separateAxes;
			var sizeType=size.type;
			if (value.enbale){
				switch (sizeType){
					case 0:
						if (sizeSeparate)
							defDat.add(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVESEPERATE);
						else
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVE);
						break ;
					case 2:
						if (sizeSeparate)
							defDat.add(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVESSEPERATE);
						else
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVES);
						break ;
					}
				}else {
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVESEPERATE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVES);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVESSEPERATE);
			}
			switch (sizeType){
				case 0:
					if (sizeSeparate){
						shaDat.setBuffer(27,size.gradientX._elements);
						shaDat.setBuffer(28,size.gradientY._elements);
						shaDat.setBuffer(29,size.gradientZ._elements);
						}else {
						shaDat.setBuffer(26,size.gradient._elements);
					}
					break ;
				case 2:
					if (sizeSeparate){
						shaDat.setBuffer(27,size.gradientXMin._elements);
						shaDat.setBuffer(31,size.gradientXMax._elements);
						shaDat.setBuffer(28,size.gradientYMin._elements);
						shaDat.setBuffer(32,size.gradientYMax._elements);
						shaDat.setBuffer(29,size.gradientZMin._elements);
						shaDat.setBuffer(33,size.gradientZMax._elements);
						}else {
						shaDat.setBuffer(26,size.gradientMin._elements);
						shaDat.setBuffer(30,size.gradientMax._elements);
					}
					break ;
				}
			}else {
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVESEPERATE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVES);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVESSEPERATE);
			shaDat.setBuffer(27,null);
			shaDat.setBuffer(31,null);
			shaDat.setBuffer(28,null);
			shaDat.setBuffer(32,null);
			shaDat.setBuffer(29,null);
			shaDat.setBuffer(33,null);
			shaDat.setBuffer(26,null);
			shaDat.setBuffer(30,null);
		}
		this._sizeOverLifetime=value;
	});

	/**
	*设置生命周期纹理动画,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@param value 生命周期纹理动画。
	*/
	/**
	*获取生命周期纹理动画,注意:如修改该值的某些属性,需重新赋值此属性才可生效。
	*@return 生命周期纹理动画。
	*/
	__getset(0,__proto,'textureSheetAnimation',function(){
		return this._textureSheetAnimation;
		},function(value){
		var defDat=this._owner._render._defineDatas;
		var shaDat=this._owner._render._shaderValues;
		if (value){
			var frameOverTime=value.frame;
			var textureAniType=frameOverTime.type;
			if (value.enable){
				switch (textureAniType){
					case 1:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONCURVE);
						break ;
					case 3:
						defDat.add(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONRANDOMCURVE);
						break ;
					}
				}else {
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONCURVE);
				defDat.remove(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONRANDOMCURVE);
			}
			if (textureAniType===1 || textureAniType===3){
				shaDat.setInt(48,value.cycles);
				var title=value.tiles;
				var _uvLengthE=this._uvLength.elements;
				_uvLengthE[0]=1.0 / title.x;
				_uvLengthE[1]=1.0 / title.y;
				shaDat.setVector(49,this._uvLength);
			}
			switch (textureAniType){
				case 1:
					shaDat.setBuffer(50,frameOverTime.frameOverTimeData._elements);
					break ;
				case 3:
					shaDat.setBuffer(50,frameOverTime.frameOverTimeDataMin._elements);
					shaDat.setBuffer(51,frameOverTime.frameOverTimeDataMax._elements);
					break ;
				}
			}else {
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONCURVE);
			defDat.remove(ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONRANDOMCURVE);
			shaDat.setInt(48,undefined);
			shaDat.setVector(49,null);
			shaDat.setBuffer(50,null);
			shaDat.setBuffer(51,null);
		}
		this._textureSheetAnimation=value;
	});

	__getset(0,__proto,'_vertexBufferCount',function(){
		return 1;
	});

	__getset(0,__proto,'triangleCount',function(){
		return this._indexBuffer?this._indexBuffer.indexCount / 3:0;
	});

	ShurikenParticleSystem.halfKSqrtOf2=1.42 *0.5;
	__static(ShurikenParticleSystem,
	['_RANDOMOFFSET',function(){return this._RANDOMOFFSET=new Uint32Array([0x23571a3e,0xc34f56fe,0x13371337,0x12460f3b,0x6aed452e,0xdec4aea1,0x96aa4de3,0x8d2c8431,0xf3857f6f,0xe0fbd834,0x13740583,0x591bc05c,0x40eb95e4,0xbc524e5f,0xaf502044,0xa614b381,0x1034e524,0xfc524e5f]);},'_maxElapsedTime',function(){return this._maxElapsedTime=1.0 / 3.0;},'_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempVector31',function(){return this._tempVector31=new Vector3();},'_tempVector32',function(){return this._tempVector32=new Vector3();},'_tempVector33',function(){return this._tempVector33=new Vector3();},'_tempVector34',function(){return this._tempVector34=new Vector3();},'_tempVector35',function(){return this._tempVector35=new Vector3();},'_tempVector36',function(){return this._tempVector36=new Vector3();},'_tempVector37',function(){return this._tempVector37=new Vector3();},'_tempVector38',function(){return this._tempVector38=new Vector3();},'_tempVector39',function(){return this._tempVector39=new Vector3();},'_tempPosition',function(){return this._tempPosition=new Vector3();},'_tempDirection',function(){return this._tempDirection=new Vector3();}
	]);
	return ShurikenParticleSystem;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/TrailRenderElement.as=======98.999233/98.999233
/**
*...
*@author ...
*/
//class laya.d3.core.trail.TrailRenderElement extends laya.d3.core.GeometryElement
var TrailRenderElement=(function(_super){
	function TrailRenderElement(owner){
		this._id=0;
		this._owner=null;
		this._camera=null;
		//固定顶点个数
		this._verticesCount=0;
		//虚拟顶点个数
		this._virtualVerticesCount=0;
		this._maxVerticesCount=256;
		this._vertices1=null;
		this._vertexBuffer1=null;
		this._floatCountPerVertices1=8;
		this._verticesIndex1=0;
		this._everyAddVerticeCount1=0;
		this._delLength=0;
		this._vertices2=null;
		this._vertexBuffer2=null;
		this._floatCountPerVertices2=1;
		this._everyGroupVertexBirthTime=null;
		this._VerticesToTailLength=null;
		this._everyVertexToPreVertexDistance=null;
		this._pointe=null;
		this._pointAtoBVector3e=null;
		this._isStart=false;
		this._isFinish=false;
		this._isDead=false;
		this._curtime=NaN;
		this._curDisappearIndex=0;
		TrailRenderElement.__super.call(this);
		this._lastPosition=new Vector3();
		this._curPosition=new Vector3();
		this._delVector3=new Vector3();
		this._lastFixedVertexPosition=new Vector3();
		this._pointAtoBVector3=new Vector3();
		this._pointA=new Vector3();
		this._pointB=new Vector3();
		this._owner=owner;
		this._id=TrailRenderElement.renderElementCount++;
		if (this._id==0){
			owner._owner.transform.position.cloneTo(this._lastPosition);
			}else {
			owner._curSubTrailFinishPosition.cloneTo(this._lastPosition);
		}
		this._everyGroupVertexBirthTime=[];
		this._VerticesToTailLength=new Float32Array(this._maxVerticesCount);
		this._everyVertexToPreVertexDistance=new Float32Array(this._maxVerticesCount);
		this._vertices1=new Float32Array(this._maxVerticesCount *this._floatCountPerVertices1);
		this._vertices2=new Float32Array(this._maxVerticesCount *this._floatCountPerVertices2);
		var vertexDeclaration1=VertexTrail.vertexDeclaration1;
		this._vertexBuffer1=new VertexBuffer3D(this._maxVerticesCount *vertexDeclaration1.vertexStride,0x88E4,true);
		this._vertexBuffer1.vertexDeclaration=vertexDeclaration1;
		var vertexDeclaration2=VertexTrail.vertexDeclaration2;
		this._vertexBuffer2=new VertexBuffer3D(this._maxVerticesCount *vertexDeclaration2.vertexStride,0x88E4,true);
		this._vertexBuffer2.vertexDeclaration=vertexDeclaration2;
		this._vertexBuffers=[];
		this._vertexBuffers.push(this._vertexBuffer1);
		this._vertexBuffers.push(this._vertexBuffer2);
		this._setVertexBuffers(this._vertexBuffers);
	}

	__class(TrailRenderElement,'laya.d3.core.trail.TrailRenderElement',_super);
	var __proto=TrailRenderElement.prototype;
	/**
	*@private
	*更新Trail数据
	*/
	__proto._updateTrail=function(){
		this._everyAddVerticeCount1=0;
		if (!this._isStart){
			this._addTrailByFirstPosition(this._lastPosition,this._curPosition);
		}
		this._addTrailByNextPosition(this._curPosition);
		this._vertexBuffer1.setData(this._vertices1,this._verticesIndex1,this._verticesIndex1,this._everyAddVerticeCount1);
		this._verticesIndex1+=this._everyAddVerticeCount1;
		this._curPosition.cloneTo(this._lastPosition);
		if (this._virtualVerticesCount==2){
			this._verticesIndex1-=this._floatCountPerVertices1 *2;
		}
	}

	/**
	*@private
	*通过起始位置添加TrailRenderElement起始数据
	*@param firstPosition 起始位置
	*@param secondPosition 第二次位置
	*/
	__proto._addTrailByFirstPosition=function(firstPosition,secondPosition){
		Vector3.subtract(secondPosition,firstPosition,this._delVector3);
		Vector3.cross(this._delVector3,this._camera.transform.forward,this._pointAtoBVector3);
		Vector3.normalize(this._pointAtoBVector3,this._pointAtoBVector3);
		Vector3.scale(this._pointAtoBVector3,this._owner.widthMultiplier / 2,this._pointAtoBVector3);
		this._updateVerticesByPosition(firstPosition);
		firstPosition.cloneTo(this._lastFixedVertexPosition);
		this._verticesCount+=2;
		this._curtime=this._owner._hasLifeSubTrail ? this._owner._curSubTrailFinishCurTime :this._owner._curtime;
		this._everyGroupVertexBirthTime.push(this._curtime);
		this._isStart=true;
		this._owner._hasLifeSubTrail=true;
	}

	/**
	*@private
	*通过位置更新TrailRenderElement数据
	*@param position 位置
	*/
	__proto._addTrailByNextPosition=function(position){
		Vector3.subtract(position,this._lastFixedVertexPosition,this._delVector3);
		Vector3.cross(this._delVector3,this._camera.transform.forward,this._pointAtoBVector3);
		Vector3.normalize(this._pointAtoBVector3,this._pointAtoBVector3);
		Vector3.scale(this._pointAtoBVector3,this._owner.widthMultiplier / 2,this._pointAtoBVector3);
		this._delLength=Vector3.scalarLength(this._delVector3);
		if (this._delLength-this._owner.minVertexDistance >=MathUtils3D.zeroTolerance){
			this._owner._trailTotalLength+=this._delLength;
			this._owner._trailSupplementLength=0;
			this._updateVerticesByPosition(position);
			position.cloneTo(this._lastFixedVertexPosition);
			this._verticesCount+=2;
			this._virtualVerticesCount=0;
			this._everyGroupVertexBirthTime.push(this._owner._curtime);
			if (this._verticesCount==this._maxVerticesCount){
				this._onTrailRenderElementFinish();
			}
		}
		else {
			this._owner._trailSupplementLength=this._delLength;
			this._updateVerticesByPosition(position);
			this._virtualVerticesCount=2;
		}
	}

	/**
	*@private
	*通过位置更新顶点数据
	*@param position 位置
	*/
	__proto._updateVerticesByPosition=function(position){
		this._pointe=position.elements;
		this._pointAtoBVector3e=this._pointAtoBVector3.elements;
		this._curtime=this._owner._curtime;
		if (this._owner._hasLifeSubTrail && this._isStart==false){
			this._pointe=this._owner._curSubTrailFinishPosition.elements;
			this._pointAtoBVector3e=this._owner._curSubTrailFinishDirection.elements;
			this._curtime=this._owner._curSubTrailFinishCurTime;
		}
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[0];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[1];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=-this._pointAtoBVector3e[2];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime;
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=1.0;
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[0];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[1];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointe[2];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[0];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[1];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._pointAtoBVector3e[2];
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=this._curtime;
		this._vertices1[this._verticesIndex1+this._everyAddVerticeCount1++]=0.0;
		this._VerticesToTailLength[this._verticesCount / 2]=this._owner._trailTotalLength+this._owner._trailSupplementLength;
		if (this._owner._trailSupplementLength==0){
			this._everyVertexToPreVertexDistance[this._verticesCount / 2]=this._delLength;
			}else {
			this._everyVertexToPreVertexDistance[this._verticesCount / 2]=this._isStart ? this._owner._trailSupplementLength :0;
		}
	}

	/**
	*更新VertexBuffer2数据
	*/
	__proto._updateVertexBuffer2=function(){
		var _uvIndex=0;
		var _uvX=0.0;
		var i=0,j=0;
		for (i=0,j=(this._verticesCount+this._virtualVerticesCount)/ 2;i < j;i++){
			if (this._owner.textureMode==0){
				_uvX=(this._VerticesToTailLength[i]-this._owner._trailDeadLength)/ (this._owner._trailTotalLength+this._owner._trailSupplementLength-this._owner._trailDeadLength);
			}
			else{
				_uvX=this._owner._trailTotalLength+this._owner._trailSupplementLength-this._VerticesToTailLength[i];
			}
			this._vertices2[_uvIndex++]=1.0-_uvX;
			this._vertices2[_uvIndex++]=1.0-_uvX;
		}
		this._vertexBuffer2.setData(this._vertices2,0,0,this._verticesCount+this._virtualVerticesCount);
	}

	/**
	*trailRenderElement完成时调用
	*@param finishedPosition
	*/
	__proto._onTrailRenderElementFinish=function(){
		this._lastFixedVertexPosition.cloneTo(this._owner._curSubTrailFinishPosition);
		this._pointAtoBVector3.cloneTo(this._owner._curSubTrailFinishDirection);
		this._owner._curSubTrailFinishCurTime=this._owner._curtime;
		this._isFinish=true;
	}

	/**
	*@private
	*/
	__proto._updateDisappear=function(){
		var i=0,j=0;
		for (i=this._curDisappearIndex,j=(this._verticesCount+this._virtualVerticesCount)/ 2;i < j;i++){
			if (this._owner._curtime-this._everyGroupVertexBirthTime[i] >=this._owner.time+MathUtils3D.zeroTolerance){
				this._curDisappearIndex++;
				this._owner._trailDeadLength+=this._everyVertexToPreVertexDistance[this._curDisappearIndex];
				if (this._curDisappearIndex >=(this._verticesCount+this._virtualVerticesCount)/ 2){
					this._isDead=true;
				}
			}
		}
	}

	/**
	*渲染前调用
	*@param state 渲染状态
	*@return 是否渲染
	*/
	__proto._prepareRender=function(state){
		this._camera=state.camera;
		if (this._camera==null)
			return false;
		this._owner._owner.transform.position.cloneTo(this._curPosition);
		if (!this._isDead){
			if (this._verticesCount < this._maxVerticesCount){
				if (!this._owner._isStart){
					this._owner._owner.transform.position.cloneTo(this._lastPosition);
					this._owner._isStart=true;
				}
				if (!Vector3.equals(this._lastPosition,this._curPosition)){
					this._updateTrail();
				}
				}else {
				if (this._isFinish){
					this._isFinish=false;
					this._owner._curSubTrailFinished=true;
				}
			}
			if (this._verticesCount > 0){
				this._updateVertexBuffer2();
				this._updateDisappear();
				return true;
			}
		}
		return false;
	}

	/**
	*渲染时调用
	*@param state 渲染状态
	*/
	__proto._render=function(state){
		if (this._isDead)
			return;
		WebGL.mainContext.drawArrays(0x0005,this._curDisappearIndex *2,this._verticesCount+this._virtualVerticesCount-this._curDisappearIndex *2);
		Stat.drawCall++;
		Stat.trianglesFaces+=(this._verticesCount+this._virtualVerticesCount-this._curDisappearIndex *2-2);
	}

	/**
	*获取vertexBuffer
	*@param index vertexBuffer索引
	*@return vertexBuffer
	*/
	__proto._getVertexBuffer=function(index){
		(index===void 0)&& (index=0);
		if (index===0)
			return this._vertexBuffer1;
		else if (index===1)
		return this._vertexBuffer2;
		else
		return null;
	}

	/**
	*获取vertexBuffer数组
	*@return vertexBuffer数组
	*/
	__proto._getVertexBuffers=function(){
		return this._vertexBuffers;
	}

	/**
	*获取顶点索引缓冲
	*@return 顶点索引缓冲
	*/
	__proto._getIndexBuffer=function(){
		return null;
	}

	/**
	*重新激活该renderElement
	*/
	__proto.reActivate=function(){
		this._id=laya.d3.core.trail.TrailRenderElement.renderElementCount++;
		this._isStart=false;
		this._isFinish=false;
		this._isDead=false;
		this._verticesCount=0;
		this._virtualVerticesCount=0;
		this._verticesIndex1=0;
		this._delLength=0;
		this._curDisappearIndex=0;
		this._everyGroupVertexBirthTime=[];
		this._owner._curSubTrailFinishPosition.cloneTo(this._lastPosition);
	}

	/**
	*@private
	*/
	__proto._destroy=function(){
		this._vertexBuffer1.destroy();
		this._vertexBuffer2.destroy();
		this._vertices1=null;
		this._vertexBuffer1=null;
		this._vertices2=null;
		this._vertexBuffer2=null;
		this._vertexBuffers=null;
		this._everyGroupVertexBirthTime=null;
		this._VerticesToTailLength=null;
		this._everyVertexToPreVertexDistance=null;
		this._lastPosition=null;
		this._curPosition=null;
		this._delVector3=null;
		this._lastFixedVertexPosition=null;
		this._pointAtoBVector3=null;
		this._pointe=null;
		this._pointAtoBVector3e=null;
		this._pointA=null;
		this._pointB=null;
	}

	/**
	*获取vertexBuffer数量
	*@return vertexBuffer数量
	*/
	__getset(0,__proto,'_vertexBufferCount',function(){
		return this._vertexBuffers.length;
	});

	/**
	*获取三角面数量
	*@return 三角面数量
	*/
	__getset(0,__proto,'triangleCount',function(){
		return 0;
	});

	TrailRenderElement.renderElementCount=0;
	return TrailRenderElement;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/BoxShape.as=======98.999229/98.999229
/**
*<code>BoxShape</code> 类用于创建球形粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.BoxShape extends laya.d3.core.particleShuriKen.module.shape.BaseShape
var BoxShape=(function(_super){
	function BoxShape(){
		/**发射器X轴长度。*/
		this.x=NaN;
		/**发射器Y轴长度。*/
		this.y=NaN;
		/**发射器Z轴长度。*/
		this.z=NaN;
		BoxShape.__super.call(this);
		this.x=1.0;
		this.y=1.0;
		this.z=1.0;
		this.randomDirection=false;
	}

	__class(BoxShape,'laya.d3.core.particleShuriKen.module.shape.BoxShape',_super);
	var __proto=BoxShape.prototype;
	/**
	*@inheritDoc
	*/
	__proto._getShapeBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=-this.x *0.5;
		minE[1]=-this.y *0.5;
		minE[2]=-this.z *0.5;
		var maxE=boundBox.max.elements;
		maxE[0]=this.x *0.5;
		maxE[1]=this.y *0.5;
		maxE[2]=this.z *0.5;
	}

	/**
	*@inheritDoc
	*/
	__proto._getSpeedBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=0.0;
		minE[1]=0.0;
		minE[2]=0.0;
		var maxE=boundBox.max.elements;
		maxE[0]=0.0;
		maxE[1]=1.0;
		maxE[2]=0.0;
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		var rpE=position.elements;
		var rdE=direction.elements;
		if (rand){
			rand.seed=randomSeeds[16];
			ShapeUtils._randomPointInsideHalfUnitBox(position,rand);
			randomSeeds[16]=rand.seed;
			}else {
			ShapeUtils._randomPointInsideHalfUnitBox(position);
		}
		rpE[0]=this.x *rpE[0];
		rpE[1]=this.y *rpE[1];
		rpE[2]=this.z *rpE[2];
		if (this.randomDirection){
			if (rand){
				rand.seed=randomSeeds[17];
				ShapeUtils._randomPointUnitSphere(direction,rand);
				randomSeeds[17]=rand.seed;
				}else {
				ShapeUtils._randomPointUnitSphere(direction);
			}
			}else {
			rdE[0]=0.0;
			rdE[1]=0.0;
			rdE[2]=1.0;
		}
	}

	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destShape=destObject;
		destShape.x=this.x;
		destShape.y=this.y;
		destShape.z=this.z;
		destShape.randomDirection=this.randomDirection;
	}

	return BoxShape;
})(BaseShape)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/CircleShape.as=======98.999228/98.999228
/**
*<code>CircleShape</code> 类用于创建环形粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.CircleShape extends laya.d3.core.particleShuriKen.module.shape.BaseShape
var CircleShape=(function(_super){
	function CircleShape(){
		/**发射器半径。*/
		this.radius=NaN;
		/**环形弧度。*/
		this.arc=NaN;
		/**从边缘发射。*/
		this.emitFromEdge=false;
		CircleShape.__super.call(this);
		this.radius=1.0;
		this.arc=360.0 / 180.0 *Math.PI;
		this.emitFromEdge=false;
		this.randomDirection=false;
	}

	__class(CircleShape,'laya.d3.core.particleShuriKen.module.shape.CircleShape',_super);
	var __proto=CircleShape.prototype;
	/**
	*@inheritDoc
	*/
	__proto._getShapeBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[2]=-this.radius;
		minE[1]=0;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[2]=this.radius;
		maxE[1]=0;
	}

	/**
	*@inheritDoc
	*/
	__proto._getSpeedBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=-1;
		minE[2]=0;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=1;
		maxE[2]=0;
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		var rpE=position.elements;
		var positionPointE=CircleShape._tempPositionPoint.elements;
		if (rand){
			rand.seed=randomSeeds[16];
			if (this.emitFromEdge)
				ShapeUtils._randomPointUnitArcCircle(this.arc,CircleShape._tempPositionPoint,rand);
			else
			ShapeUtils._randomPointInsideUnitArcCircle(this.arc,CircleShape._tempPositionPoint,rand);
			randomSeeds[16]=rand.seed;
			}else {
			if (this.emitFromEdge)
				ShapeUtils._randomPointUnitArcCircle(this.arc,CircleShape._tempPositionPoint);
			else
			ShapeUtils._randomPointInsideUnitArcCircle(this.arc,CircleShape._tempPositionPoint);
		}
		rpE[0]=-positionPointE[0];
		rpE[1]=positionPointE[1];
		rpE[2]=0;
		Vector3.scale(position,this.radius,position);
		if (this.randomDirection){
			if (rand){
				rand.seed=randomSeeds[17];
				ShapeUtils._randomPointUnitSphere(direction,rand);
				randomSeeds[17]=rand.seed;
				}else {
				ShapeUtils._randomPointUnitSphere(direction);
			}
			}else {
			position.cloneTo(direction);
		}
	}

	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destShape=destObject;
		destShape.radius=this.radius;
		destShape.arc=this.arc;
		destShape.emitFromEdge=this.emitFromEdge;
		destShape.randomDirection=this.randomDirection;
	}

	__static(CircleShape,
	['_tempPositionPoint',function(){return this._tempPositionPoint=new Vector2();}
	]);
	return CircleShape;
})(BaseShape)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/ConeShape.as=======98.999227/98.999227
/**
*<code>ConeShape</code> 类用于创建锥形粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.ConeShape extends laya.d3.core.particleShuriKen.module.shape.BaseShape
var ConeShape=(function(_super){
	function ConeShape(){
		/**发射角度。*/
		this.angle=NaN;
		/**发射器半径。*/
		this.radius=NaN;
		/**椎体长度。*/
		this.length=NaN;
		/**发射类型,0为Base,1为BaseShell,2为Volume,3为VolumeShell。*/
		this.emitType=0;
		ConeShape.__super.call(this);
		this.angle=25.0 / 180.0 *Math.PI;
		this.radius=1.0;
		this.length=5.0;
		this.emitType=0;
		this.randomDirection=false;
	}

	__class(ConeShape,'laya.d3.core.particleShuriKen.module.shape.ConeShape',_super);
	var __proto=ConeShape.prototype;
	/**
	*@inheritDoc
	*/
	__proto._getShapeBoundBox=function(boundBox){
		var coneRadius2=this.radius+this.length *Math.sin(this.angle);
		var coneLength=this.length *Math.cos(this.angle);
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=-coneRadius2;
		minE[2]=0;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=coneRadius2;
		maxE[2]=coneLength;
	}

	/**
	*@inheritDoc
	*/
	__proto._getSpeedBoundBox=function(boundBox){
		var sinA=Math.sin(this.angle);
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=-sinA;
		minE[2]=0;
		var maxE=boundBox.max.elements;
		maxE[0]=minE[1]=sinA;
		maxE[2]=1;
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		var rpE=position.elements;
		var rdE=direction.elements;
		var positionPointE=ConeShape._tempPositionPoint.elements;
		var positionX=NaN;
		var positionY=NaN;
		var directionPointE;
		var dirCosA=Math.cos(this.angle);
		var dirSinA=Math.sin(this.angle);
		switch (this.emitType){
			case 0:
				if (rand){
					rand.seed=randomSeeds[16];
					ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempPositionPoint,rand);
					randomSeeds[16]=rand.seed;
					}else {
					ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempPositionPoint);
				}
				positionX=positionPointE[0];
				positionY=positionPointE[1];
				rpE[0]=positionX *this.radius;
				rpE[1]=positionY *this.radius;
				rpE[2]=0;
				if (this.randomDirection){
					if (rand){
						rand.seed=randomSeeds[17];
						ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempDirectionPoint,rand);
						randomSeeds[17]=rand.seed;
						}else {
						ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempDirectionPoint);
					}
					directionPointE=ConeShape._tempDirectionPoint.elements;
					rdE[0]=directionPointE[0] *dirSinA;
					rdE[1]=directionPointE[1] *dirSinA;
					}else {
					rdE[0]=positionX *dirSinA;
					rdE[1]=positionY *dirSinA;
				}
				rdE[2]=dirCosA;
				break ;
			case 1:
				if (rand){
					rand.seed=randomSeeds[16];
					ShapeUtils._randomPointUnitCircle(ConeShape._tempPositionPoint,rand);
					randomSeeds[16]=rand.seed;
					}else {
					ShapeUtils._randomPointUnitCircle(ConeShape._tempPositionPoint);
				}
				positionX=positionPointE[0];
				positionY=positionPointE[1];
				rpE[0]=positionX *this.radius;
				rpE[1]=positionY *this.radius;
				rpE[2]=0;
				if (this.randomDirection){
					if (rand){
						rand.seed=randomSeeds[17];
						ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempDirectionPoint,rand);
						randomSeeds[17]=rand.seed;
						}else {
						ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempDirectionPoint);
					}
					directionPointE=ConeShape._tempDirectionPoint.elements;
					rdE[0]=directionPointE[0] *dirSinA;
					rdE[1]=directionPointE[1] *dirSinA;
					}else {
					rdE[0]=positionX *dirSinA;
					rdE[1]=positionY *dirSinA;
				}
				rdE[2]=dirCosA;
				break ;
			case 2:
				if (rand){
					rand.seed=randomSeeds[16];
					ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempPositionPoint,rand);
					}else {
					ShapeUtils._randomPointInsideUnitCircle(ConeShape._tempPositionPoint);
				}
				positionX=positionPointE[0];
				positionY=positionPointE[1];
				rpE[0]=positionX *this.radius;
				rpE[1]=positionY *this.radius;
				rpE[2]=0;
				rdE[0]=positionX *dirSinA;
				rdE[1]=positionY *dirSinA;
				rdE[2]=dirCosA;
				Vector3.normalize(direction,direction);
				if (rand){
					Vector3.scale(direction,this.length *rand.getFloat(),direction);
					randomSeeds[16]=rand.seed;
					}else {
					Vector3.scale(direction,this.length *Math.random(),direction);
				}
				Vector3.add(position,direction,position);
				if (this.randomDirection){
					if (rand){
						rand.seed=randomSeeds[17];
						ShapeUtils._randomPointUnitSphere(direction,rand);
						randomSeeds[17]=rand.seed;
						}else {
						ShapeUtils._randomPointUnitSphere(direction);
					}
				}
				break ;
			case 3:
				if (rand){
					rand.seed=randomSeeds[16];
					ShapeUtils._randomPointUnitCircle(ConeShape._tempPositionPoint,rand);
					}else {
					ShapeUtils._randomPointUnitCircle(ConeShape._tempPositionPoint);
				}
				positionX=positionPointE[0];
				positionY=positionPointE[1];
				rpE[0]=positionX *this.radius;
				rpE[1]=positionY *this.radius;
				rpE[2]=0;
				rdE[0]=positionX *dirSinA;
				rdE[1]=positionY *dirSinA;
				rdE[2]=dirCosA;
				Vector3.normalize(direction,direction);
				if (rand){
					Vector3.scale(direction,this.length *rand.getFloat(),direction);
					randomSeeds[16]=rand.seed;
					}else {
					Vector3.scale(direction,this.length *Math.random(),direction);
				}
				Vector3.add(position,direction,position);
				if (this.randomDirection){
					if (rand){
						rand.seed=randomSeeds[17];
						ShapeUtils._randomPointUnitSphere(direction,rand);
						randomSeeds[17]=rand.seed;
						}else {
						ShapeUtils._randomPointUnitSphere(direction);
					}
				}
				break ;
			default :
				throw new Error("ConeShape:emitType is invalid.");
			}
	}

	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destShape=destObject;
		destShape.angle=this.angle;
		destShape.radius=this.radius;
		destShape.length=this.length;
		destShape.emitType=this.emitType;
		destShape.randomDirection=this.randomDirection;
	}

	__static(ConeShape,
	['_tempPositionPoint',function(){return this._tempPositionPoint=new Vector2();},'_tempDirectionPoint',function(){return this._tempDirectionPoint=new Vector2();}
	]);
	return ConeShape;
})(BaseShape)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/HemisphereShape.as=======98.999226/98.999226
/**
*<code>HemisphereShape</code> 类用于创建半球形粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.HemisphereShape extends laya.d3.core.particleShuriKen.module.shape.BaseShape
var HemisphereShape=(function(_super){
	function HemisphereShape(){
		/**发射器半径。*/
		this.radius=NaN;
		/**从外壳发射。*/
		this.emitFromShell=false;
		HemisphereShape.__super.call(this);
		this.radius=1.0;
		this.emitFromShell=false;
		this.randomDirection=false;
	}

	__class(HemisphereShape,'laya.d3.core.particleShuriKen.module.shape.HemisphereShape',_super);
	var __proto=HemisphereShape.prototype;
	/**
	*@inheritDoc
	*/
	__proto._getShapeBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=minE[2]=-this.radius;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=this.radius;
		maxE[2]=0;
	}

	/**
	*@inheritDoc
	*/
	__proto._getSpeedBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=-1;
		minE[2]=0;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=maxE[2]=1;
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		var rpE=position.elements;
		if (rand){
			rand.seed=randomSeeds[16];
			if (this.emitFromShell)
				ShapeUtils._randomPointUnitSphere(position,rand);
			else
			ShapeUtils._randomPointInsideUnitSphere(position,rand);
			randomSeeds[16]=rand.seed;
			}else {
			if (this.emitFromShell)
				ShapeUtils._randomPointUnitSphere(position);
			else
			ShapeUtils._randomPointInsideUnitSphere(position);
		}
		Vector3.scale(position,this.radius,position);
		var z=rpE[2];
		(z < 0.0)&& (rpE[2]=z *-1.0);
		if (this.randomDirection){
			if (rand){
				rand.seed=randomSeeds[17];
				ShapeUtils._randomPointUnitSphere(direction,rand);
				randomSeeds[17]=rand.seed;
				}else {
				ShapeUtils._randomPointUnitSphere(direction);
			}
			}else {
			position.cloneTo(direction);
		}
	}

	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destShape=destObject;
		destShape.radius=this.radius;
		destShape.emitFromShell=this.emitFromShell;
		destShape.randomDirection=this.randomDirection;
	}

	return HemisphereShape;
})(BaseShape)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/module/shape/SphereShape.as=======98.999224/98.999224
/**
*<code>SphereShape</code> 类用于创建球形粒子形状。
*/
//class laya.d3.core.particleShuriKen.module.shape.SphereShape extends laya.d3.core.particleShuriKen.module.shape.BaseShape
var SphereShape=(function(_super){
	function SphereShape(){
		/**发射器半径。*/
		this.radius=NaN;
		/**从外壳发射。*/
		this.emitFromShell=false;
		SphereShape.__super.call(this);
		this.radius=1.0;
		this.emitFromShell=false;
		this.randomDirection=false;
	}

	__class(SphereShape,'laya.d3.core.particleShuriKen.module.shape.SphereShape',_super);
	var __proto=SphereShape.prototype;
	/**
	*@inheritDoc
	*/
	__proto._getShapeBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=minE[2]=-this.radius;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=maxE[2]=this.radius;
	}

	/**
	*@inheritDoc
	*/
	__proto._getSpeedBoundBox=function(boundBox){
		var minE=boundBox.min.elements;
		minE[0]=minE[1]=minE[2]=-1;
		var maxE=boundBox.max.elements;
		maxE[0]=maxE[1]=maxE[2]=1;
	}

	/**
	*用于生成粒子初始位置和方向。
	*@param position 粒子位置。
	*@param direction 粒子方向。
	*/
	__proto.generatePositionAndDirection=function(position,direction,rand,randomSeeds){
		if (rand){
			rand.seed=randomSeeds[16];
			if (this.emitFromShell)
				ShapeUtils._randomPointUnitSphere(position,rand);
			else
			ShapeUtils._randomPointInsideUnitSphere(position,rand);
			randomSeeds[16]=rand.seed;
			}else {
			if (this.emitFromShell)
				ShapeUtils._randomPointUnitSphere(position);
			else
			ShapeUtils._randomPointInsideUnitSphere(position);
		}
		Vector3.scale(position,this.radius,position);
		if (this.randomDirection){
			if (rand){
				rand.seed=randomSeeds[17];
				ShapeUtils._randomPointUnitSphere(direction,rand);
				randomSeeds[17]=rand.seed;
				}else {
				ShapeUtils._randomPointUnitSphere(direction);
			}
			}else {
			position.cloneTo(direction);
		}
	}

	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destShape=destObject;
		destShape.radius=this.radius;
		destShape.emitFromShell=this.emitFromShell;
		destShape.randomDirection=this.randomDirection;
	}

	return SphereShape;
})(BaseShape)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/h5audio/AudioSound.as=======98.999215/98.999215
/**
*@private
*使用Audio标签播放声音
*/
//class laya.media.h5audio.AudioSound extends laya.events.EventDispatcher
var AudioSound=(function(_super){
	function AudioSound(){
		/**
		*声音URL
		*/
		this.url=null;
		/**
		*播放用的audio标签
		*/
		this.audio=null;
		/**
		*是否已加载完成
		*/
		this.loaded=false;
		AudioSound.__super.call(this);
	}

	__class(AudioSound,'laya.media.h5audio.AudioSound',_super);
	var __proto=AudioSound.prototype;
	/**
	*释放声音
	*/
	__proto.dispose=function(){
		var ad=AudioSound._audioCache[this.url];
		if (ad){
			ad.src="";
			delete AudioSound._audioCache[this.url];
		}
	}

	/**
	*加载声音
	*@param url
	*
	*/
	__proto.load=function(url){
		url=URL.formatURL(url);
		this.url=url;
		var ad=AudioSound._audioCache[url];
		if (ad && ad.readyState >=2){
			this.event("complete");
			return;
		}
		if (!ad){
			ad=Browser.createElement("audio");
			ad.src=url;
			AudioSound._audioCache[url]=ad;
		}
		ad.addEventListener("canplaythrough",onLoaded);
		ad.addEventListener("error",onErr);
		var me=this;
		function onLoaded (){
			offs();
			me.loaded=true;
			me.event("complete");
		}
		function onErr (){
			ad.load=null;
			offs();
			me.event("error");
		}
		function offs (){
			ad.removeEventListener("canplaythrough",onLoaded);
			ad.removeEventListener("error",onErr);
		}
		this.audio=ad;
		if (ad.load)ad.load();
		else onErr();
	}

	/**
	*播放声音
	*@param startTime 起始时间
	*@param loops 循环次数
	*/
	__proto.play=function(startTime,loops){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		if (!this.url)return null;
		var ad;
		ad=AudioSound._audioCache[this.url];
		if (!ad)return null;
		var tAd;
		tAd=Pool.getItem("audio:"+this.url);
		if (Render.isConchApp){
			if (!tAd){
				tAd=Browser.createElement("audio");
				tAd.src=ad.src;
			}
			}else {
			tAd=tAd ? tAd :ad.cloneNode(true);
		};
		var channel=new AudioSoundChannel(tAd);
		channel.url=this.url;
		channel.loops=loops;
		channel.startTime=startTime;
		channel.play();
		SoundManager.addChannel(channel);
		return channel;
	}

	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		var ad=AudioSound._audioCache[this.url];
		if (!ad)return 0;
		return ad.duration;
	});

	AudioSound._audioCache={};
	return AudioSound;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/SoundChannel.as=======98.999213/98.999213
/**
*<p> <code>SoundChannel</code> 用来控制程序中的声音。每个声音均分配给一个声道，而且应用程序可以具有混合在一起的多个声道。</p>
*<p> <code>SoundChannel</code> 类包含控制声音的播放、暂停、停止、音量的方法，以及获取声音的播放状态、总时间、当前播放时间、总循环次数、播放地址等信息的方法。</p>
*/
//class laya.media.SoundChannel extends laya.events.EventDispatcher
var SoundChannel=(function(_super){
	function SoundChannel(){
		/**
		*声音地址。
		*/
		this.url=null;
		/**
		*循环次数。
		*/
		this.loops=0;
		/**
		*播放声音开始时间。
		*/
		this.startTime=NaN;
		/**
		*表示声音是否已暂停。
		*/
		this.isStopped=false;
		/**
		*播放完成处理器。
		*/
		this.completeHandler=null;
		SoundChannel.__super.call(this);
	}

	__class(SoundChannel,'laya.media.SoundChannel',_super);
	var __proto=SoundChannel.prototype;
	/**
	*播放声音。
	*/
	__proto.play=function(){}
	/**
	*停止播放。
	*/
	__proto.stop=function(){}
	/**
	*暂停播放。
	*/
	__proto.pause=function(){}
	/**
	*继续播放。
	*/
	__proto.resume=function(){}
	/**
	*private
	*/
	__proto.__runComplete=function(handler){
		if (handler){
			handler.run();
		}
	}

	/**
	*音量范围从 0（静音）至 1（最大音量）。
	*/
	__getset(0,__proto,'volume',function(){
		return 1;
		},function(v){
	});

	/**
	*获取当前播放时间，单位是秒。
	*/
	__getset(0,__proto,'position',function(){
		return 0;
	});

	/**
	*获取总时间，单位是秒。
	*/
	__getset(0,__proto,'duration',function(){
		return 0;
	});

	return SoundChannel;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/Sound.as=======98.999212/98.999212
/**
*<code>Sound</code> 类是用来播放控制声音的类。
*引擎默认有两套声音方案，优先使用WebAudio播放声音，如果WebAudio不可用，则用H5Audio播放，H5Audio在部分机器上有兼容问题（比如不能混音，播放有延迟等）。
*/
//class laya.media.Sound extends laya.events.EventDispatcher
var Sound=(function(_super){
	function Sound(){
		Sound.__super.call(this);;
	}

	__class(Sound,'laya.media.Sound',_super);
	var __proto=Sound.prototype;
	/**
	*加载声音。
	*@param url 地址。
	*/
	__proto.load=function(url){}
	/**
	*播放声音。
	*@param startTime 开始时间,单位秒
	*@param loops 循环次数,0表示一直循环
	*@return 声道 SoundChannel 对象。
	*/
	__proto.play=function(startTime,loops){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		return null;
	}

	/**
	*释放声音资源。
	*/
	__proto.dispose=function(){}
	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		return 0;
	});

	return Sound;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/webaudio/WebAudioSound.as=======98.999209/98.999209
/**
*@private
*web audio api方式播放声音
*/
//class laya.media.webaudio.WebAudioSound extends laya.events.EventDispatcher
var WebAudioSound=(function(_super){
	function WebAudioSound(){
		/**
		*声音URL
		*/
		this.url=null;
		/**
		*是否已加载完成
		*/
		this.loaded=false;
		/**
		*声音文件数据
		*/
		this.data=null;
		/**
		*声音原始文件数据
		*/
		this.audioBuffer=null;
		/**
		*待播放的声音列表
		*/
		this.__toPlays=null;
		WebAudioSound.__super.call(this);
	}

	__class(WebAudioSound,'laya.media.webaudio.WebAudioSound',_super);
	var __proto=WebAudioSound.prototype;
	/**
	*加载声音
	*/
	__proto.load=function(url){
		var me=this;
		url=URL.formatURL(url);
		this.url=url;
		this.audioBuffer=WebAudioSound._dataCache[url];
		if (this.audioBuffer){
			this._loaded(this.audioBuffer);
			return;
		}
		WebAudioSound.e.on("loaded:"+url,this,this._loaded);
		WebAudioSound.e.on("err:"+url,this,this._err);
		if (WebAudioSound.__loadingSound[url])return;
		WebAudioSound.__loadingSound[url]=true;
		var request=new Browser.window.XMLHttpRequest();
		request.open("GET",url,true);
		request.responseType="arraybuffer";
		request.onload=function (){
			me.data=request.response;
			WebAudioSound.buffs.push({"buffer":me.data,"url":me.url});
			WebAudioSound.decode();
		}
		request.onerror=function (e){
			me._err();
		}
		request.send();
	}

	__proto._err=function(){
		this._removeLoadEvents();
		WebAudioSound.__loadingSound[this.url]=false;
		this.event("error");
	}

	__proto._loaded=function(audioBuffer){
		this._removeLoadEvents();
		this.audioBuffer=audioBuffer;
		WebAudioSound._dataCache[this.url]=this.audioBuffer;
		this.loaded=true;
		this.event("complete");
	}

	__proto._removeLoadEvents=function(){
		WebAudioSound.e.off("loaded:"+this.url,this,this._loaded);
		WebAudioSound.e.off("err:"+this.url,this,this._err);
	}

	__proto.__playAfterLoaded=function(){
		if (!this.__toPlays)return;
		var i=0,len=0;
		var toPlays;
		toPlays=this.__toPlays;
		len=toPlays.length;
		var tParams;
		for (i=0;i < len;i++){
			tParams=toPlays[i];
			if (tParams[2] && !(tParams [2]).isStopped){
				this.play(tParams[0],tParams[1],tParams[2]);
			}
		}
		this.__toPlays.length=0;
	}

	/**
	*播放声音
	*@param startTime 起始时间
	*@param loops 循环次数
	*/
	__proto.play=function(startTime,loops,channel){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		channel=channel ? channel :new WebAudioSoundChannel();
		if (!this.audioBuffer){
			if (this.url){
				if (!this.__toPlays)this.__toPlays=[];
				this.__toPlays.push([startTime,loops,channel]);
				this.once("complete",this,this.__playAfterLoaded);
				this.load(this.url);
			}
		}
		channel.url=this.url;
		channel.loops=loops;
		channel["audioBuffer"]=this.audioBuffer;
		channel.startTime=startTime;
		channel.play();
		SoundManager.addChannel(channel);
		return channel;
	}

	__proto.dispose=function(){
		delete WebAudioSound._dataCache[this.url];
		delete WebAudioSound.__loadingSound[this.url];
	}

	__getset(0,__proto,'duration',function(){
		if (this.audioBuffer){
			return this.audioBuffer.duration;
		}
		return 0;
	});

	WebAudioSound.decode=function(){
		if (WebAudioSound.buffs.length <=0 || WebAudioSound.isDecoding){
			return;
		}
		WebAudioSound.isDecoding=true;
		WebAudioSound.tInfo=WebAudioSound.buffs.shift();
		WebAudioSound.ctx.decodeAudioData(WebAudioSound.tInfo["buffer"],WebAudioSound._done,WebAudioSound._fail);
	}

	WebAudioSound._done=function(audioBuffer){
		WebAudioSound.e.event("loaded:"+WebAudioSound.tInfo.url,audioBuffer);
		WebAudioSound.isDecoding=false;
		WebAudioSound.decode();
	}

	WebAudioSound._fail=function(){
		WebAudioSound.e.event("err:"+WebAudioSound.tInfo.url,null);
		WebAudioSound.isDecoding=false;
		WebAudioSound.decode();
	}

	WebAudioSound._playEmptySound=function(){
		if (WebAudioSound.ctx==null)return;
		var source=WebAudioSound.ctx.createBufferSource();
		source.buffer=WebAudioSound._miniBuffer;
		source.connect(WebAudioSound.ctx.destination);
		source.start(0,0,0);
	}

	WebAudioSound._unlock=function(){
		if (WebAudioSound._unlocked)return;
		WebAudioSound._playEmptySound();
		if (WebAudioSound.ctx.state==="running"){
			Browser.document.removeEventListener("mousedown",WebAudioSound._unlock,true);
			Browser.document.removeEventListener("touchend",WebAudioSound._unlock,true);
			WebAudioSound._unlocked=true;
		}
	}

	WebAudioSound.initWebAudio=function(){
		if (WebAudioSound.ctx.state!=="running"){
			WebAudioSound._unlock();
			Browser.document.addEventListener("mousedown",WebAudioSound._unlock,true);
			Browser.document.addEventListener("touchend",WebAudioSound._unlock,true);
		}
	}

	WebAudioSound._dataCache={};
	WebAudioSound.buffs=[];
	WebAudioSound.isDecoding=false;
	WebAudioSound._unlocked=false;
	WebAudioSound.tInfo=null;
	WebAudioSound.__loadingSound={};
	__static(WebAudioSound,
	['window',function(){return this.window=Browser.window;},'webAudioEnabled',function(){return this.webAudioEnabled=WebAudioSound.window["AudioContext"] || WebAudioSound.window["webkitAudioContext"] || WebAudioSound.window["mozAudioContext"];},'ctx',function(){return this.ctx=WebAudioSound.webAudioEnabled ? new (WebAudioSound.window["AudioContext"] || WebAudioSound.window["webkitAudioContext"] || WebAudioSound.window["mozAudioContext"])():undefined;},'_miniBuffer',function(){return this._miniBuffer=WebAudioSound.ctx.createBuffer(1,1,22050);},'e',function(){return this.e=new EventDispatcher();}
	]);
	return WebAudioSound;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/SubMeshDynamicBatch.as=======98.999207/98.999207
/**
*@private
*<code>SubMeshDynamicBatch</code> 类用于网格动态合并。
*/
//class laya.d3.graphics.SubMeshDynamicBatch extends laya.d3.core.GeometryElement
var SubMeshDynamicBatch=(function(_super){
	function SubMeshDynamicBatch(){
		/**@private */
		this._vertices=null;
		/**@private */
		this._indexBuffer=null;
		/**@private */
		this._indices=null;
		/**@private */
		this._positionOffset=0;
		/**@private */
		this._normalOffset=0;
		/**@private */
		this._colorOffset=0;
		/**@private */
		this._uv0Offset=0;
		/**@private */
		this._uv1Offset=0;
		/**@private */
		this._sTangentOffset=0;
		SubMeshDynamicBatch.__super.call(this);
		var maxVerDec=VertexPositionNormalColorTexture0Texture1STangent.vertexDeclaration;
		var maxByteCount=maxVerDec.vertexStride *32000;
		this._vertices=new Float32Array(maxByteCount / 4);
		this._vertexBuffer=new VertexBuffer3D(maxByteCount,0x88E8);
		this._vertexBuffer.lock=true;
		this._indices=new Int16Array(32000);
		this._indexBuffer=new IndexBuffer3D("ushort",this._indices.length,0x88E8);
		this._indexBuffer.lock=true;
	}

	__class(SubMeshDynamicBatch,'laya.d3.graphics.SubMeshDynamicBatch',_super);
	var __proto=SubMeshDynamicBatch.prototype;
	/**
	*@private
	*/
	__proto._getBatchVertices=function(vertexDeclaration,batchVertices,batchOffset,transform,element,subMesh){
		var vertexFloatCount=vertexDeclaration.vertexStride / 4;
		var oriVertexes=subMesh._vertexBuffer.getData();
		var lightmapScaleOffset=element.render.lightmapScaleOffset;
		var multiSubMesh=element._dynamicMultiSubMesh;
		var vertexCount=element._dynamicVertexCount;
		element._computeWorldPositionsAndNormals(this._positionOffset,this._normalOffset,multiSubMesh,vertexCount);
		var worldPositions=element._dynamicWorldPositions;
		var worldNormals=element._dynamicWorldNormals;
		var indices=subMesh._indices;
		for (var i=0;i < vertexCount;i++){
			var index=multiSubMesh ? indices[i] :i;
			var oriOffset=index *vertexFloatCount;
			var bakeOffset=(i+batchOffset)*vertexFloatCount;
			var oriOff=i *3;
			var bakOff=bakeOffset+this._positionOffset;
			batchVertices[bakOff]=worldPositions[oriOff];
			batchVertices[bakOff+1]=worldPositions[oriOff+1];
			batchVertices[bakOff+2]=worldPositions[oriOff+2];
			if (this._normalOffset!==-1){
				bakOff=bakeOffset+this._normalOffset;
				batchVertices[bakOff]=worldNormals[oriOff];
				batchVertices[bakOff+1]=worldNormals[oriOff+1];
				batchVertices[bakOff+2]=worldNormals[oriOff+2];
			}
			if (this._colorOffset!==-1){
				bakOff=bakeOffset+this._colorOffset;
				oriOff=oriOffset+this._colorOffset;
				batchVertices[bakOff]=oriVertexes[oriOff];
				batchVertices[bakOff+1]=oriVertexes[oriOff+1];
				batchVertices[bakOff+2]=oriVertexes[oriOff+2];
				batchVertices[bakOff+3]=oriVertexes[oriOff+3];
			}
			if (this._uv0Offset!==-1){
				bakOff=bakeOffset+this._uv0Offset;
				oriOff=oriOffset+this._uv0Offset;
				batchVertices[bakOff]=oriVertexes[oriOff];
				batchVertices[bakOff+1]=oriVertexes[oriOff+1];
			}
			if (this._sTangentOffset!==-1){
				bakOff=bakeOffset+this._sTangentOffset;
				oriOff=oriOffset+this._sTangentOffset;
				batchVertices[bakOff]=oriVertexes[oriOff];
				batchVertices[bakOff+1]=oriVertexes[oriOff+1];
				batchVertices[bakOff+2]=oriVertexes[oriOff+2];
				batchVertices[bakOff+3]=oriVertexes[oriOff+3];
				bakOff=bakeOffset+this._sTangentOffset;
				oriOff=oriOffset+this._sTangentOffset;
				batchVertices[bakOff]=oriVertexes[oriOff];
				batchVertices[bakOff+1]=oriVertexes[oriOff+1];
				batchVertices[bakOff+2]=oriVertexes[oriOff+2];
				batchVertices[bakOff+3]=oriVertexes[oriOff+3];
			}
		}
	}

	/**
	*@private
	*/
	__proto._getBatchIndices=function(batchIndices,batchIndexCount,transform,subMesh,multiSubMesh){
		var subIndices=subMesh._indices;
		var k=0,m=0,batchOffset=0;
		var isInvert=transform._isFrontFaceInvert;
		if (multiSubMesh){
			if (isInvert){
				for (k=0,m=subIndices.length;k < m;k+=3){
					batchOffset=batchIndexCount+k;
					batchIndices[batchOffset]=k;
					batchIndices[batchOffset+1]=k+2;
					batchIndices[batchOffset+2]=k+1;
				}
				}else {
				for (k=m,m=subIndices.length;k < m;k+=3){
					batchOffset=batchIndexCount+k;
					batchIndices[batchOffset]=k;
					batchIndices[batchOffset+1]=k+1;
					batchIndices[batchOffset+2]=k+2;
				}
			}
			}else {
			if (isInvert){
				for (k=0,m=subIndices.length;k < m;k+=3){
					batchOffset=batchIndexCount+k;
					batchIndices[batchOffset]=subIndices[k];
					batchIndices[batchOffset+1]=subIndices[k+2];
					batchIndices[batchOffset+2]=subIndices[k+1];
				}
				}else {
				for (k=m,m=subIndices.length;k < m;k+=3){
					batchOffset=batchIndexCount+k;
					batchIndices[batchOffset]=subIndices[k];
					batchIndices[batchOffset+1]=subIndices[k+1];
					batchIndices[batchOffset+2]=subIndices[k+2];
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._flush=function(vertexCount,indexCount){
		this._vertexBuffer.setData(this._vertices,0,0,vertexCount *(this._vertexBuffer.vertexDeclaration.vertexStride / 4));
		this._indexBuffer.setData(this._indices,0,0,indexCount);
		LayaGL.instance.drawElements(0x0004,indexCount,0x1403,0);
		Stat.drawCall++;
		Stat.trianglesFaces+=indexCount / 3;
	}

	/**
	*@inheritDoc
	*/
	__proto._prepareRender=function(state){
		var element=state.renderElement;
		var vertexDeclaration=element.dynamicVertexDeclaration;
		this._vertexBuffer.vertexDeclaration=vertexDeclaration;
		this._setVertexBuffer(this._vertexBuffer);
		this._positionOffset=vertexDeclaration.getVertexElementByUsage(0).offset / 4;
		var normalElement=vertexDeclaration.getVertexElementByUsage(3);
		this._normalOffset=normalElement ? normalElement.offset / 4 :-1;
		var colorElement=vertexDeclaration.getVertexElementByUsage(1);
		this._colorOffset=colorElement ? colorElement.offset / 4 :-1;
		var uv0Element=vertexDeclaration.getVertexElementByUsage(2);
		this._uv0Offset=uv0Element ? uv0Element.offset / 4 :-1;
		var uv1Element=vertexDeclaration.getVertexElementByUsage(15);
		this._uv1Offset=uv1Element ? uv1Element.offset / 4 :-1;
		var tangentElement=vertexDeclaration.getVertexElementByUsage(5);
		this._sTangentOffset=tangentElement ? tangentElement.offset / 4 :-1;
		return true;
	}

	/**
	*@inheritDoc
	*/
	__proto._render=function(context){
		var element=context.renderElement;
		var vertexDeclaration=element.dynamicVertexDeclaration;
		var batchElements=element.dynamicBatchElementList;
		var batchVertexCount=0;
		var batchIndexCount=0;
		var floatStride=vertexDeclaration.vertexStride / 4;
		for (var i=0,n=batchElements.length;i < n;i++){
			var element=batchElements [i];
			var subMesh=element._geometry;
			var indexCount=subMesh._indexCount;
			if (batchIndexCount+indexCount > 32000){
				this._flush(batchVertexCount,batchIndexCount);
				batchVertexCount=batchIndexCount=0;
			};
			var transform=element._transform;
			this._getBatchVertices(vertexDeclaration,this._vertices,batchVertexCount,transform,element,subMesh);
			this._getBatchIndices(this._indices,batchIndexCount,transform,subMesh,element._dynamicMultiSubMesh);
			batchVertexCount+=element._dynamicVertexCount;;
			batchIndexCount+=indexCount;
		}
		this._flush(batchVertexCount,batchIndexCount);
	}

	SubMeshDynamicBatch.maxAllowVertexCount=10;
	SubMeshDynamicBatch.maxAllowAttribueCount=900;
	SubMeshDynamicBatch.maxIndicesCount=32000;
	SubMeshDynamicBatch.instance=null;
	return SubMeshDynamicBatch;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/SubMeshStaticBatch.as=======98.999206/98.999206
/**
*@private
*<code>SubMeshStaticBatch</code> 类用于网格静态合并。
*/
//class laya.d3.graphics.SubMeshStaticBatch extends laya.d3.core.GeometryElement
var SubMeshStaticBatch=(function(_super){
	function SubMeshStaticBatch(batchOwner,number,vertexDeclaration){
		/**@private */
		//this._currentBatchVertexCount=0;
		/**@private */
		//this._currentBatchIndexCount=0;
		/**@private */
		//this._vertexDeclaration=null;
		/**@private */
		//this._indexBuffer=null;
		/**@private */
		//this._batchElements=null;
		/**@private */
		//this._batchID=0;
		/**@private [只读]*/
		//this.batchOwner=null;
		/**@private [只读]*/
		//this.number=0;
		SubMeshStaticBatch.__super.call(this);
		this._batchID=SubMeshStaticBatch._batchIDCounter++;
		this._batchElements=[];
		this._currentBatchVertexCount=0;
		this._currentBatchIndexCount=0;
		this._vertexDeclaration=vertexDeclaration;
		this.batchOwner=batchOwner;
		this.number=number;
	}

	__class(SubMeshStaticBatch,'laya.d3.graphics.SubMeshStaticBatch',_super);
	var __proto=SubMeshStaticBatch.prototype;
	Laya.imps(__proto,{"laya.resource.IDispose":true})
	/**
	*@private
	*/
	__proto._getStaticBatchBakedVertexs=function(batchVertices,batchOffset,batchOwnerTransform,transform,render,mesh){
		var vertexBuffer=mesh._vertexBuffers[0];
		var vertexDeclaration=vertexBuffer.vertexDeclaration;
		var positionOffset=vertexDeclaration.getVertexElementByUsage(0).offset / 4;
		var normalElement=vertexDeclaration.getVertexElementByUsage(3);
		var normalOffset=normalElement ? normalElement.offset / 4 :-1;
		var colorElement=vertexDeclaration.getVertexElementByUsage(1);
		var colorOffset=colorElement ? colorElement.offset / 4 :-1;
		var uv0Element=vertexDeclaration.getVertexElementByUsage(2);
		var uv0Offset=uv0Element ? uv0Element.offset / 4 :-1;
		var uv1Element=vertexDeclaration.getVertexElementByUsage(15);
		var uv1Offset=uv1Element ? uv1Element.offset / 4 :-1;
		var tangentElement=vertexDeclaration.getVertexElementByUsage(5);
		var sTangentOffset=tangentElement ? tangentElement.offset / 4 :-1;
		var bakeVertexFloatCount=18;
		var oriVertexFloatCount=vertexDeclaration.vertexStride / 4;
		var oriVertexes=vertexBuffer.getData();
		var worldMat;
		if (batchOwnerTransform){
			var rootMat=batchOwnerTransform.worldMatrix;
			rootMat.invert(SubMeshStaticBatch._tempMatrix4x40);
			worldMat=SubMeshStaticBatch._tempMatrix4x41;
			Matrix4x4.multiply(SubMeshStaticBatch._tempMatrix4x40,transform.worldMatrix,worldMat);
			}else {
			worldMat=transform.worldMatrix;
		};
		var rotation=SubMeshStaticBatch._tempQuaternion0;
		worldMat.decomposeTransRotScale(SubMeshStaticBatch._tempVector30,rotation,SubMeshStaticBatch._tempVector31);
		var lightmapScaleOffset=render.lightmapScaleOffset;
		var vertexCount=mesh.vertexCount;
		for (var i=0;i < vertexCount;i++){
			var oriOffset=i *oriVertexFloatCount;
			var bakeOffset=(i+batchOffset)*bakeVertexFloatCount;
			Utils3D.transformVector3ArrayToVector3ArrayCoordinate(oriVertexes,oriOffset+positionOffset,worldMat,batchVertices,bakeOffset+0);
			if (normalOffset!==-1)
				Utils3D.transformVector3ArrayByQuat(oriVertexes,oriOffset+normalOffset,rotation,batchVertices,bakeOffset+3);
			var j=0,m=0;
			var bakOff=bakeOffset+6;
			if (colorOffset!==-1){
				var oriOff=oriOffset+colorOffset;
				for (j=0,m=4;j < m;j++)
				batchVertices[bakOff+j]=oriVertexes[oriOff+j];
				}else {
				for (j=0,m=4;j < m;j++)
				batchVertices[bakOff+j]=1.0;
			}
			if (uv0Offset!==-1){
				var absUv0Offset=oriOffset+uv0Offset;
				batchVertices[bakeOffset+10]=oriVertexes[absUv0Offset];
				batchVertices[bakeOffset+11]=oriVertexes[absUv0Offset+1];
			}
			if (lightmapScaleOffset){
				if (uv1Offset!==-1)
					Utils3D.transformLightingMapTexcoordByUV1Array(oriVertexes,oriOffset+uv1Offset,lightmapScaleOffset,batchVertices,bakeOffset+12);
				else
				Utils3D.transformLightingMapTexcoordByUV0Array(oriVertexes,oriOffset+uv0Offset,lightmapScaleOffset,batchVertices,bakeOffset+12);
			}
			if (sTangentOffset!==-1){
				var absSTanegntOffset=oriOffset+sTangentOffset;
				batchVertices[bakeOffset+14]=oriVertexes[absSTanegntOffset];
				batchVertices[bakeOffset+15]=oriVertexes[absSTanegntOffset+1];
				batchVertices[bakeOffset+16]=oriVertexes[absSTanegntOffset+2];
				batchVertices[bakeOffset+17]=oriVertexes[absSTanegntOffset+3];
			}
		}
		return vertexCount;
	}

	/**
	*@private
	*/
	__proto.addTest=function(sprite){
		var vertexCount=0;
		var subMeshVertexCount=((sprite).meshFilter.sharedMesh).vertexCount;
		vertexCount=this._currentBatchVertexCount+subMeshVertexCount;
		if (vertexCount > 65535)
			return false;
		return true;
	}

	/**
	*@private
	*/
	__proto.add=function(sprite){
		var oldStaticBatch=sprite.staticBatch;
		(oldStaticBatch)&& (oldStaticBatch.remove(),console.log("移除"));
		var mesh=(sprite).meshFilter.sharedMesh;
		var subMeshVertexCount=mesh.vertexCount;
		this._batchElements.push(sprite);
		var render=sprite._render;
		render._isPartOfStaticBatch=true;
		render._staticBatch=this;
		var renderElements=render._renderElements;
		for (var i=0,n=renderElements.length;i < n;i++)
		renderElements[i].staticBatch=this;
		this._currentBatchIndexCount+=mesh._indexBuffer.indexCount;
		this._currentBatchVertexCount+=subMeshVertexCount;
	}

	/**
	*@private
	*/
	__proto.remove=function(sprite){
		var mesh=(sprite).meshFilter.sharedMesh;
		var index=this._batchElements.indexOf(sprite);
		if (index!==-1){
			this._batchElements.splice(index,1);
			var render=sprite._render;
			var renderElements=sprite._render._renderElements;
			for (var i=0,n=renderElements.length;i < n;i++)
			renderElements[i].staticBatch=null;
			var meshVertexCount=mesh.vertexCount;
			this._currentBatchIndexCount=this._currentBatchIndexCount-mesh._indexBuffer.indexCount;
			this._currentBatchVertexCount=this._currentBatchVertexCount-meshVertexCount;
			sprite._render._isPartOfStaticBatch=false;
		}
	}

	/**
	*@private
	*/
	__proto.finishInit=function(){
		if (this._vertexBuffer){
			this._vertexBuffer.destroy();
			this._indexBuffer.destroy();
		};
		var batchVertexCount=0;
		var batchIndexCount=0;
		var rootOwner=this.batchOwner._owner;
		var floatStride=this._vertexDeclaration.vertexStride / 4;
		var vertexDatas=new Float32Array(floatStride *this._currentBatchVertexCount);
		var indexDatas=new Uint16Array(this._currentBatchIndexCount);
		this._vertexBuffer=new VertexBuffer3D(this._vertexDeclaration.vertexStride *this._currentBatchVertexCount,0x88E4);
		this._vertexBuffer.vertexDeclaration=this._vertexDeclaration;
		this._indexBuffer=IndexBuffer3D.create("ushort",this._currentBatchIndexCount,0x88E4);
		for (var i=0,n=this._batchElements.length;i < n;i++){
			var sprite=this._batchElements [i];
			var mesh=sprite.meshFilter.sharedMesh;
			var meshVerCount=this._getStaticBatchBakedVertexs(vertexDatas,batchVertexCount,rootOwner ? rootOwner._transform :null,sprite._transform,(sprite._render),mesh);
			var indices=mesh._indexBuffer.getData();
			var indexOffset=batchVertexCount;
			var indexEnd=batchIndexCount+indices.length;
			var elements=sprite._render._renderElements;
			for (var j=0,m=mesh.subMeshCount;j < m;j++){
				var subMesh=mesh._subMeshes[j];
				var start=batchIndexCount+subMesh._indexStart;
				var element=elements[j];
				element.staticBatchIndexStart=start;
				element.staticBatchIndexEnd=start+subMesh._indexCount;
			}
			indexDatas.set(indices,batchIndexCount);
			var k=0;
			var isInvert=rootOwner ? (sprite._transform._isFrontFaceInvert!==rootOwner.transform._isFrontFaceInvert):sprite._transform._isFrontFaceInvert;
			if (isInvert){
				for (k=batchIndexCount;k < indexEnd;k+=3){
					indexDatas[k]=indexOffset+indexDatas[k];
					var index1=indexDatas[k+1];
					var index2=indexDatas[k+2];
					indexDatas[k+1]=indexOffset+index2;
					indexDatas[k+2]=indexOffset+index1;
				}
				}else {
				for (k=batchIndexCount;k < indexEnd;k+=3){
					indexDatas[k]=indexOffset+indexDatas[k];
					indexDatas[k+1]=indexOffset+indexDatas[k+1];
					indexDatas[k+2]=indexOffset+indexDatas[k+2];
				}
			}
			batchIndexCount+=indices.length;
			batchVertexCount+=meshVerCount;
		}
		this._vertexBuffer.setData(vertexDatas);
		this._indexBuffer.setData(indexDatas);
		this._setVertexBuffer(this._vertexBuffer);
	}

	/**
	*@inheritDoc
	*/
	__proto._render=function(state){
		this._indexBuffer.bind();
		var element=state.renderElement;
		var batchElementList=(element).staticBatchElementList;
		var from=0;
		var end=0;
		for (var i=1,n=batchElementList.length;i < n;i++){
			var lastElement=batchElementList[i-1];
			if (lastElement.staticBatchIndexEnd===batchElementList[i].staticBatchIndexStart){
				end++;
				continue ;
				}else {
				var start=batchElementList[from].staticBatchIndexStart;
				var indexCount=batchElementList[end].staticBatchIndexEnd-start;
				LayaGL.instance.drawElements(0x0004,indexCount,0x1403,start *2);
				from=++end;
				Stat.drawCall++;
				Stat.trianglesFaces+=indexCount / 3;
			}
		};
		var start=batchElementList[from].staticBatchIndexStart;
		var indexCount=batchElementList[end].staticBatchIndexEnd-start;
		LayaGL.instance.drawElements(0x0004,indexCount,0x1403,start *2);
		Stat.drawCall++;
		Stat.trianglesFaces+=indexCount / 3;
	}

	/**
	*@private
	*/
	__proto.dispose=function(){
		this._batchElements=null;
		this.batchOwner=null;
		this._vertexDeclaration=null;
		this._vertexBuffer.destroy();
		this._indexBuffer.destroy();
	}

	SubMeshStaticBatch.maxBatchVertexCount=65535;
	SubMeshStaticBatch._batchIDCounter=0;
	__static(SubMeshStaticBatch,
	['_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempVector31',function(){return this._tempVector31=new Vector3();},'_tempQuaternion0',function(){return this._tempQuaternion0=new Quaternion();},'_tempMatrix4x40',function(){return this._tempMatrix4x40=new Matrix4x4();},'_tempMatrix4x41',function(){return this._tempMatrix4x41=new Matrix4x4();}
	]);
	return SubMeshStaticBatch;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/HttpRequest.as=======98.999206/98.999206
/**
*<p> <code>HttpRequest</code> 通过封装 HTML <code>XMLHttpRequest</code> 对象提供了对 HTTP 协议的完全的访问，包括做出 POST 和 HEAD 请求以及普通的 GET 请求的能力。 <code>HttpRequest</code> 只提供以异步的形式返回 Web 服务器的响应，并且能够以文本或者二进制的形式返回内容。</p>
*<p><b>注意：</b>建议每次请求都使用新的 <code>HttpRequest</code> 对象，因为每次调用该对象的send方法时，都会清空之前设置的数据，并重置 HTTP 请求的状态，这会导致之前还未返回响应的请求被重置，从而得不到之前请求的响应结果。
*/
//class laya.net.HttpRequest extends laya.events.EventDispatcher
var HttpRequest=(function(_super){
	function HttpRequest(){
		/**@private */
		this._responseType=null;
		/**@private */
		this._data=null;
		HttpRequest.__super.call(this);
		this._http=new Browser.window.XMLHttpRequest();
	}

	__class(HttpRequest,'laya.net.HttpRequest',_super);
	var __proto=HttpRequest.prototype;
	/**
	*发送 HTTP 请求。
	*@param url 请求的地址。大多数浏览器实施了一个同源安全策略，并且要求这个 URL 与包含脚本的文本具有相同的主机名和端口。
	*@param data (default=null)发送的数据。
	*@param method (default="get")用于请求的 HTTP 方法。值包括 "get"、"post"、"head"。
	*@param responseType (default="text")Web 服务器的响应类型，可设置为 "text"、"json"、"xml"、"arraybuffer"。
	*@param headers (default=null)HTTP 请求的头部信息。参数形如key-value数组：key是头部的名称，不应该包括空白、冒号或换行；value是头部的值，不应该包括换行。比如["Content-Type","application/json"]。
	*/
	__proto.send=function(url,data,method,responseType,headers){
		(method===void 0)&& (method="get");
		(responseType===void 0)&& (responseType="text");
		this._responseType=responseType;
		this._data=null;
		var _this=this;
		var http=this._http;
		http.open(method,url,true);
		if (headers){
			for (var i=0;i < headers.length;i++){
				http.setRequestHeader(headers[i++],headers[i]);
			}
			}else if (!Render.isConchApp){
			if (!data || (typeof data=='string'))http.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
			else http.setRequestHeader("Content-Type","application/json");
		}
		http.responseType=responseType!=="arraybuffer" ? "text" :"arraybuffer";
		http.onerror=function (e){
			_this._onError(e);
		}
		http.onabort=function (e){
			_this._onAbort(e);
		}
		http.onprogress=function (e){
			_this._onProgress(e);
		}
		http.onload=function (e){
			_this._onLoad(e);
		}
		http.send(data);
	}

	/**
	*@private
	*请求进度的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onProgress=function(e){
		if (e && e.lengthComputable)this.event("progress",e.loaded / e.total);
	}

	/**
	*@private
	*请求中断的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onAbort=function(e){
		this.error("Request was aborted by user");
	}

	/**
	*@private
	*请求出错侦的听处理函数。
	*@param e 事件对象。
	*/
	__proto._onError=function(e){
		this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText);
	}

	/**
	*@private
	*请求消息返回的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onLoad=function(e){
		var http=this._http;
		var status=http.status!==undefined ? http.status :200;
		if (status===200 || status===204 || status===0){
			this.complete();
			}else {
			this.error("["+http.status+"]"+http.statusText+":"+http.responseURL);
		}
	}

	/**
	*@private
	*请求错误的处理函数。
	*@param message 错误信息。
	*/
	__proto.error=function(message){
		this.clear();
		this.event("error",message);
	}

	/**
	*@private
	*请求成功完成的处理函数。
	*/
	__proto.complete=function(){
		this.clear();
		var flag=true;
		try {
			if (this._responseType==="json"){
				this._data=JSON.parse(this._http.responseText);
				}else if (this._responseType==="xml"){
				this._data=Utils.parseXMLFromString(this._http.responseText);
				}else {
				this._data=this._http.response || this._http.responseText;
			}
			}catch (e){
			flag=false;
			this.error(e.message);
		}
		flag && this.event("complete",(this._data instanceof Array)? [this._data] :this._data);
	}

	/**
	*@private
	*清除当前请求。
	*/
	__proto.clear=function(){
		var http=this._http;
		http.onerror=http.onabort=http.onprogress=http.onload=null;
	}

	/**请求的地址。*/
	__getset(0,__proto,'url',function(){
		return this._http.responseURL;
	});

	/**
	*本对象所封装的原生 XMLHttpRequest 引用。
	*/
	__getset(0,__proto,'http',function(){
		return this._http;
	});

	/**返回的数据。*/
	__getset(0,__proto,'data',function(){
		return this._data;
	});

	return HttpRequest;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/Loader.as=======98.999205/98.999205
/**
*<code>Loader</code> 类可用来加载文本、JSON、XML、二进制、图像等资源。
*/
//class laya.net.Loader extends laya.events.EventDispatcher
var Loader=(function(_super){
	function Loader(){
		/**@private 加载后的数据对象，只读*/
		this._data=null;
		/**@private */
		this._class=null;
		/**@private */
		this._url=null;
		/**@private */
		this._type=null;
		/**@private */
		this._cache=false;
		/**@private */
		this._http=null;
		/**@private */
		this._useWorkerLoader=false;
		/**@private 自定义解析不派发complete事件，但会派发loaded事件，手动调用endLoad方法再派发complete事件*/
		this._customParse=false;
		Loader.__super.call(this);
	}

	__class(Loader,'laya.net.Loader',_super);
	var __proto=Loader.prototype;
	/**
	*加载资源。加载错误会派发 Event.ERROR 事件，参数为错误信息。
	*@param url 资源地址。
	*@param type (default=null)资源类型。可选值为：Loader.TEXT、Loader.JSON、Loader.XML、Loader.BUFFER、Loader.IMAGE、Loader.SOUND、Loader.ATLAS、Loader.FONT。如果为null，则根据文件后缀分析类型。
	*@param cache (default=true)是否缓存数据。
	*@param group (default=null)分组名称。
	*@param ignoreCache (default=false)是否忽略缓存，强制重新加载。
	*@param useWorkerLoader(default=false)是否使用worker加载（只针对IMAGE类型和ATLAS类型，并且浏览器支持的情况下生效）
	*/
	__proto.load=function(url,type,cache,group,ignoreCache,useWorkerLoader){
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		(useWorkerLoader===void 0)&& (useWorkerLoader=false);
		this._url=url;
		if (url.indexOf("data:image")===0)type="image";
		else url=URL.formatURL(url);
		this._type=type || (type=this.getTypeFromUrl(url));
		this._cache=cache;
		this._useWorkerLoader=useWorkerLoader;
		this._data=null;
		if (useWorkerLoader)WorkerLoader.enableWorkerLoader();
		if (!ignoreCache && Loader.loadedMap[url]){
			this._data=Loader.loadedMap[url];
			this.event("progress",1);
			this.event("complete",this._data);
			return;
		}
		if (group)Loader.setGroup(url,group);
		if (Loader.parserMap[type] !=null){
			this._customParse=true;
			if (((Loader.parserMap[type])instanceof laya.utils.Handler ))Loader.parserMap[type].runWith(this);
			else Loader.parserMap[type].call(null,this);
			return;
		}
		if (type==="image" || type==="htmlimage" || type==="nativeimage")return this._loadImage(url);
		if (type==="sound")return this._loadSound(url);
		var contentType;
		switch (type){
			case "atlas":
				contentType="json";
				break ;
			case "font":
				contentType="xml";
				break ;
			case "pkm":
				contentType="arraybuffer";
				break
			default :
				contentType=type;
			}
		if (Loader.preLoadedMap[url]){
			this.onLoaded(Loader.preLoadedMap[url]);
			}else{
			if (!this._http){
				this._http=new HttpRequest();
				this._http.on("progress",this,this.onProgress);
				this._http.on("error",this,this.onError);
				this._http.on("complete",this,this.onLoaded);
			}
			this._http.send(url,null,"get",contentType);
		}
	}

	/**
	*获取指定资源地址的数据类型。
	*@param url 资源地址。
	*@return 数据类型。
	*/
	__proto.getTypeFromUrl=function(url){
		var type=Utils.getFileExtension(url);
		if (type)return Loader.typeMap[type];
		console.warn("Not recognize the resources suffix",url);
		return "text";
	}

	/**
	*@private
	*加载图片资源。
	*@param url 资源地址。
	*/
	__proto._loadImage=function(url){
		var _$this=this;
		url=URL.formatURL(url);
		var _this=this;
		var image;
		function clear (){
			image.onload=null;
			image.onerror=null;
			delete Loader._imgCache[url]
		};
		var onload=function (){
			(_$this._type==="nativeimage")||(image.setImageSource(imageSource,true));
			clear();
			_this.onLoaded(image);
		};
		var onerror=function (){
			clear();
			_this.event("error","Load image failed");
		}
		if (this._type==="nativeimage"){
			image=new Browser.window.Image();
			image.crossOrigin="";
			image.onload=onload;
			image.onerror=onerror;
			image.src=url;
			Loader._imgCache[url]=image;
			}else {
			image=HTMLImage.create(url);
			var imageSource=new Browser.window.Image();
			imageSource.crossOrigin="";
			imageSource.onload=onload;
			imageSource.onerror=onerror;
			imageSource.src=url;
			image._setUrl(url);
			Loader._imgCache[url]=image;
		}
	}

	/**
	*@private
	*加载声音资源。
	*@param url 资源地址。
	*/
	__proto._loadSound=function(url){
		var sound=(new SoundManager._soundClass());
		var _this=this;
		sound.on("complete",this,soundOnload);
		sound.on("error",this,soundOnErr);
		sound.load(url);
		function soundOnload (){
			clear();
			_this.onLoaded(sound);
		}
		function soundOnErr (){
			clear();
			sound.dispose();
			_this.event("error","Load sound failed");
		}
		function clear (){
			sound.offAll();
		}
	}

	/**@private */
	__proto.onProgress=function(value){
		if (this._type==="atlas")this.event("progress",value *0.3);
		else this.event("progress",value);
	}

	/**@private */
	__proto.onError=function(message){
		this.event("error",message);
	}

	/**
	*资源加载完成的处理函数。
	*@param data 数据。
	*/
	__proto.onLoaded=function(data){
		var type=this._type;
		if (type==="image"){
			var tex=new Texture(data);
			tex.url=this._url;
			this.complete(tex);
			}else if (type==="sound" || type==="htmlimage" || type==="nativeimage"){
			this.complete(data);
			}else if (type==="atlas"){
			if (!data.url && !data._setContext){
				if (!this._data){
					this._data=data;
					if (data.meta && data.meta.image){
						var toloadPics=data.meta.image.split(",");
						var split=this._url.indexOf("/")>=0 ? "/" :"\\";
						var idx=this._url.lastIndexOf(split);
						var folderPath=idx >=0 ? this._url.substr(0,idx+1):"";
						for (var i=0,len=toloadPics.length;i < len;i++){
							toloadPics[i]=folderPath+toloadPics[i];
						}
						}else {
						toloadPics=[this._url.replace(".json",".png")];
					}
					toloadPics.reverse();
					data.toLoads=toloadPics;
					data.pics=[];
				}
				this.event("progress",0.3+1 / toloadPics.length *0.6);
				return this._loadImage(toloadPics.pop());
				}else {
				this._data.pics.push(data);
				if (this._data.toLoads.length > 0){
					this.event("progress",0.3+1 / this._data.toLoads.length *0.6);
					return this._loadImage(this._data.toLoads.pop());
				};
				var frames=this._data.frames;
				var cleanUrl=this._url.split("?")[0];
				var directory=(this._data.meta && this._data.meta.prefix)? this._data.meta.prefix :cleanUrl.substring(0,cleanUrl.lastIndexOf("."))+"/";
				var pics=this._data.pics;
				var atlasURL=URL.formatURL(this._url);
				var map=Loader.atlasMap[atlasURL] || (Loader.atlasMap[atlasURL]=[]);
				map.dir=directory;
				for (var name in frames){
					var obj=frames[name];
					var tPic=pics[obj.frame.idx ? obj.frame.idx :0];
					var url=URL.formatURL(directory+name);
					Loader.cacheRes(url,Texture._create(tPic,obj.frame.x,obj.frame.y,obj.frame.w,obj.frame.h,obj.spriteSourceSize.x,obj.spriteSourceSize.y,obj.sourceSize.w,obj.sourceSize.h,laya.net.Loader.getRes(url)));
					Loader.loadedMap[url].url=url;
					map.push(url);
				}
				delete this._data.pics;
				this.complete(this._data);
			}
			}else if (type==="font"){
			if (!data.src){
				this._data=data;
				this.event("progress",0.5);
				return this._loadImage(this._url.replace(".fnt",".png"));
				}else {
				var bFont=new BitmapFont();
				bFont.parseFont(this._data,data);
				var tArr=this._url.split(".fnt")[0].split("/");
				var fontName=tArr[tArr.length-1];
				Text.registerBitmapFont(fontName,bFont);
				this._data=bFont;
				this.complete(this._data);
			}
			}else if (type=="pkm"){
			var image=HTMLImage.create(data,this._url);
			var tex1=new Texture(image);
			tex1.url=this._url;
			this.complete(tex1);
			}else {
			this.complete(data);
		}
	}

	/**
	*加载完成。
	*@param data 加载的数据。
	*/
	__proto.complete=function(data){
		this._data=data;
		if (this._customParse){
			this.event("loaded",(data instanceof Array)? [data] :data);
			}else {
			Loader._loaders.push(this);
			if (!Loader._isWorking)Loader.checkNext();
		}
	}

	/**
	*结束加载，处理是否缓存及派发完成事件 <code>Event.COMPLETE</code> 。
	*@param content 加载后的数据
	*/
	__proto.endLoad=function(content){
		content && (this._data=content);
		if (this._cache)Loader.cacheRes(this._url,this._data);
		this.event("progress",1);
		this.event("complete",(this.data instanceof Array)? [this.data] :this.data);
	}

	/**加载地址。*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**返回的数据。*/
	__getset(0,__proto,'data',function(){
		return this._data;
	});

	/**是否缓存。*/
	__getset(0,__proto,'cache',function(){
		return this._cache;
	});

	/**加载类型。*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	Loader.checkNext=function(){
		Loader._isWorking=true;
		var startTimer=Browser.now();
		var thisTimer=startTimer;
		while (Loader._startIndex < Loader._loaders.length){
			thisTimer=Browser.now();
			Loader._loaders[Loader._startIndex].endLoad();
			Loader._startIndex++;
			if (Browser.now()-startTimer > Loader.maxTimeOut){
				console.warn("loader callback cost a long time:"+(Browser.now()-startTimer)+" url="+Loader._loaders[Loader._startIndex-1].url);
				Laya.timer.frameOnce(1,null,Loader.checkNext);
				return;
			}
		}
		Loader._loaders.length=0;
		Loader._startIndex=0;
		Loader._isWorking=false;
	}

	Loader.clearRes=function(url,forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		url=URL.formatURL(url);
		var arr=Loader.getAtlas(url);
		if (arr){
			for (var i=0,n=arr.length;i < n;i++){
				var resUrl=arr[i];
				var tex=Loader.getRes(resUrl);
				if (tex)tex.destroy(forceDispose);
				delete Loader.loadedMap[resUrl];
			}
			arr.length=0;
			delete Loader.atlasMap[url];
			delete Loader.loadedMap[url];
			}else {
			var res=Loader.loadedMap[url];
			if (res){
				if ((res instanceof laya.resource.Texture )&& res.bitmap)(res).destroy(forceDispose);
				delete Loader.loadedMap[url];
			}
		}
	}

	Loader.getRes=function(url){
		return Loader.loadedMap[URL.formatURL(url)];
	}

	Loader.getAtlas=function(url){
		return Loader.atlasMap[URL.formatURL(url)];
	}

	Loader.cacheRes=function(url,data){
		url=URL.formatURL(url);
		if (Loader.loadedMap[url] !=null){
			console.warn("Resources already exist,is repeated loading:",url);
			}else {
			Loader.loadedMap[url]=data;
		}
	}

	Loader.setGroup=function(url,group){
		if (!Loader.groupMap[group])Loader.groupMap[group]=[];
		Loader.groupMap[group].push(url);
	}

	Loader.clearResByGroup=function(group){
		if (!Loader.groupMap[group])return;
		var arr=Loader.groupMap[group],i=0,len=arr.length;
		for (i=0;i < len;i++){
			Loader.clearRes(arr[i]);
		}
		arr.length=0;
	}

	Loader.clearResByTime=function(startTime,endTime,exception){
		var arr=Loader.getResListByTime(startTime,endTime);
		for (var i=0,n=arr.length;i < n;i++){
			var url=arr[i];
			if (exception){
				var flag=false;
				for (var j=0,m=exception.length;j < m;j++){
					if (url===exception[j]){
						flag=true;
						break ;
					}
				}
				if (flag)continue ;
			}
			Loader.clearRes(url);
		}
	}

	Loader.getResListByTime=function(startTime,endTime){
		return null;
	}

	Loader.TEXT="text";
	Loader.JSON="json";
	Loader.XML="xml";
	Loader.BUFFER="arraybuffer";
	Loader.IMAGE="image";
	Loader.SOUND="sound";
	Loader.ATLAS="atlas";
	Loader.FONT="font";
	Loader.PKM="pkm";
	Loader.typeMap={"png":"image","jpg":"image","jpeg":"image","txt":"text","json":"json","xml":"xml","als":"atlas","atlas":"atlas","mp3":"sound","ogg":"sound","wav":"sound","part":"json","fnt":"font","pkm":"pkm"};
	Loader.parserMap={};
	Loader.maxTimeOut=100;
	Loader.groupMap={};
	Loader.loadedMap={};
	Loader.atlasMap={};
	Loader.preLoadedMap={};
	Loader._imgCache={};
	Loader._loaders=[];
	Loader._isWorking=false;
	Loader._startIndex=0;
	return Loader;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/Socket.as=======98.999202/98.999202
/**
*<p> <code>Socket</code> 封装了 HTML5 WebSocket ，允许服务器端与客户端进行全双工（full-duplex）的实时通信，并且允许跨域通信。在建立连接后，服务器和 Browser/Client Agent 都能主动的向对方发送或接收文本和二进制数据。</p>
*<p>要使用 <code>Socket</code> 类的方法，请先使用构造函数 <code>new Socket</code> 创建一个 <code>Socket</code> 对象。 <code>Socket</code> 以异步方式传输和接收数据。</p>
*/
//class laya.net.Socket extends laya.events.EventDispatcher
var Socket=(function(_super){
	function Socket(host,port,byteClass,protocols){
		/**@private */
		this._endian=null;
		/**@private */
		this._socket=null;
		/**@private */
		this._connected=false;
		/**@private */
		this._addInputPosition=0;
		/**@private */
		this._input=null;
		/**@private */
		this._output=null;
		/**
		*不再缓存服务端发来的数据，如果传输的数据为字符串格式，建议设置为true，减少二进制转换消耗。
		*/
		this.disableInput=false;
		/**
		*用来发送和接收数据的 <code>Byte</code> 类。
		*/
		this._byteClass=null;
		/**
		*<p>子协议名称。子协议名称字符串，或由多个子协议名称字符串构成的数组。必须在调用 connect 或者 connectByUrl 之前进行赋值，否则无效。</p>
		*<p>指定后，只有当服务器选择了其中的某个子协议，连接才能建立成功，否则建立失败，派发 Event.ERROR 事件。</p>
		*@see https://html.spec.whatwg.org/multipage/comms.html#dom-websocket
		*/
		this.protocols=[];
		Socket.__super.call(this);
		(port===void 0)&& (port=0);
		this._byteClass=byteClass ? byteClass :Byte;
		this.protocols=protocols;
		this.endian="bigEndian";
		if (host && port > 0 && port < 65535)this.connect(host,port);
	}

	__class(Socket,'laya.net.Socket',_super);
	var __proto=Socket.prototype;
	/**
	*<p>连接到指定的主机和端口。</p>
	*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>
	*@param host 服务器地址。
	*@param port 服务器端口。
	*/
	__proto.connect=function(host,port){
		var url="ws://"+host+":"+port;
		this.connectByUrl(url);
	}

	/**
	*<p>连接到指定的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。</p>
	*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>
	*@param url 要连接的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。
	*/
	__proto.connectByUrl=function(url){
		var _$this=this;
		if (this._socket !=null)this.close();
		this._socket && this.cleanSocket();
		if (!this.protocols || this.protocols.length==0){
			this._socket=new Browser.window.WebSocket(url);
			}else {
			this._socket=new Browser.window.WebSocket(url,this.protocols);
		}
		this._socket.binaryType="arraybuffer";
		this._output=new this._byteClass();
		this._output.endian=this.endian;
		this._input=new this._byteClass();
		this._input.endian=this.endian;
		this._addInputPosition=0;
		this._socket.onopen=function (e){
			_$this._onOpen(e);
		};
		this._socket.onmessage=function (msg){
			_$this._onMessage(msg);
		};
		this._socket.onclose=function (e){
			_$this._onClose(e);
		};
		this._socket.onerror=function (e){
			_$this._onError(e);
		};
	}

	/**
	*清理Socket：关闭Socket链接，关闭事件监听，重置Socket
	*/
	__proto.cleanSocket=function(){
		this.close();
		this._connected=false;
		this._socket.onopen=null;
		this._socket.onmessage=null;
		this._socket.onclose=null;
		this._socket.onerror=null;
		this._socket=null;
	}

	/**
	*关闭连接。
	*/
	__proto.close=function(){
		if (this._socket !=null){
			try {
				this._socket.close();
			}catch (e){}
		}
	}

	/**
	*@private
	*连接建立成功 。
	*/
	__proto._onOpen=function(e){
		this._connected=true;
		this.event("open",e);
	}

	/**
	*@private
	*接收到数据处理方法。
	*@param msg 数据。
	*/
	__proto._onMessage=function(msg){
		if (!msg || !msg.data)return;
		var data=msg.data;
		if (this.disableInput && data){
			this.event("message",data);
			return;
		}
		if (this._input.length > 0 && this._input.bytesAvailable < 1){
			this._input.clear();
			this._addInputPosition=0;
		};
		var pre=this._input.pos;
		!this._addInputPosition && (this._addInputPosition=0);
		this._input.pos=this._addInputPosition;
		if (data){
			if ((typeof data=='string')){
				this._input.writeUTFBytes(data);
				}else {
				this._input.writeArrayBuffer(data);
			}
			this._addInputPosition=this._input.pos;
			this._input.pos=pre;
		}
		this.event("message",data);
	}

	/**
	*@private
	*连接被关闭处理方法。
	*/
	__proto._onClose=function(e){
		this._connected=false;
		this.event("close",e)
	}

	/**
	*@private
	*出现异常处理方法。
	*/
	__proto._onError=function(e){
		this.event("error",e)
	}

	/**
	*发送数据到服务器。
	*@param data 需要发送的数据，可以是String或者ArrayBuffer。
	*/
	__proto.send=function(data){
		this._socket.send(data);
	}

	/**
	*发送缓冲区中的数据到服务器。
	*/
	__proto.flush=function(){
		if (this._output && this._output.length > 0){
			var evt;
			try {
				this._socket && this._socket.send(this._output.__getBuffer().slice(0,this._output.length));
				}catch (e){
				evt=e;
			}
			this._output.endian=this.endian;
			this._output.clear();
			if (evt)this.event("error",evt);
		}
	}

	/**
	*缓存的服务端发来的数据。
	*/
	__getset(0,__proto,'input',function(){
		return this._input;
	});

	/**
	*表示需要发送至服务端的缓冲区中的数据。
	*/
	__getset(0,__proto,'output',function(){
		return this._output;
	});

	/**
	*表示此 Socket 对象目前是否已连接。
	*/
	__getset(0,__proto,'connected',function(){
		return this._connected;
	});

	/**
	*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。</p>
	*<p> LITTLE_ENDIAN ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>
	*<p> BIG_ENDIAN ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。</p>
	*/
	__getset(0,__proto,'endian',function(){
		return this._endian;
		},function(value){
		this._endian=value;
		if (this._input !=null)this._input.endian=value;
		if (this._output !=null)this._output.endian=value;
	});

	Socket.LITTLE_ENDIAN="littleEndian";
	Socket.BIG_ENDIAN="bigEndian";
	return Socket;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/net/WorkerLoader.as=======98.999199/98.999199
/**
*@private
*Worker Image加载器
*/
//class laya.net.WorkerLoader extends laya.events.EventDispatcher
var WorkerLoader=(function(_super){
	function WorkerLoader(){
		/**使用的Worker对象。*/
		this.worker=null;
		/**@private */
		this._useWorkerLoader=false;
		WorkerLoader.__super.call(this);
		var _$this=this;
		this.worker=new Browser.window.Worker(WorkerLoader.workerPath);
		this.worker.onmessage=function (evt){
			_$this.workerMessage(evt.data);
		}
	}

	__class(WorkerLoader,'laya.net.WorkerLoader',_super);
	var __proto=WorkerLoader.prototype;
	/**
	*@private
	*/
	__proto.workerMessage=function(data){
		if (data){
			switch (data.type){
				case "Image":
					this.imageLoaded(data);
					break ;
				case "Disable":
					WorkerLoader.enable=false;
					break ;
				}
		}
	}

	/**
	*@private
	*/
	__proto.imageLoaded=function(data){
		if (!data.dataType || data.dataType !="imageBitmap"){
			this.event(data.url,null);
			return;
		};
		var canvas=new HTMLCanvas("2D");
		var ctx=canvas.source.getContext("2d");
		switch (data.dataType){
			case "imageBitmap":;
				var imageData=data.imageBitmap;
				canvas.size(imageData.width,imageData.height);
				ctx.drawImage(imageData,0,0);
				break ;
			}
		console.log("load:",data.url);
		if (Render.isWebGL){
			canvas._setGPUMemory(0);
			canvas=new laya.webgl.resource.WebGLImage(canvas,data.url);;
		}
		this.event(data.url,canvas);
	}

	/**
	*加载图片
	*@param url 图片地址
	*/
	__proto.loadImage=function(url){
		this.worker.postMessage(url);
	}

	/**
	*@private
	*加载图片资源。
	*@param url 资源地址。
	*/
	__proto._loadImage=function(url){
		var _this=this;
		if (!this._useWorkerLoader || !WorkerLoader._enable){
			WorkerLoader._preLoadFun.call(_this,url);
			return;
		}
		url=URL.formatURL(url);
		function clear (){
			laya.net.WorkerLoader.I.off(url,_this,onload);
		};
		var onload=function (image){
			clear();
			if (image){
				_this["onLoaded"](image);
				}else {
				WorkerLoader._preLoadFun.call(_this,url);
			}
		};
		laya.net.WorkerLoader.I.on(url,_this,onload);
		laya.net.WorkerLoader.I.loadImage(url);
	}

	/**
	*是否启用。
	*/
	__getset(1,WorkerLoader,'enable',function(){
		return WorkerLoader._enable;
		},function(value){
		if (WorkerLoader._enable !=value){
			WorkerLoader._enable=value;
			if (value && WorkerLoader._preLoadFun==null)WorkerLoader._enable=WorkerLoader.__init__();
		}
	});

	WorkerLoader.__init__=function(){
		if (WorkerLoader._preLoadFun !=null)return false;
		if (!Browser.window.Worker)return false;
		WorkerLoader._preLoadFun=Loader["prototype"]["_loadImage"];
		Loader["prototype"]["_loadImage"]=WorkerLoader["prototype"]["_loadImage"];
		if (!WorkerLoader.I)WorkerLoader.I=new WorkerLoader();
		return true;
	}

	WorkerLoader.workerSupported=function(){
		return Browser.window.Worker ? true :false;
	}

	WorkerLoader.enableWorkerLoader=function(){
		if (!WorkerLoader._tryEnabled){
			WorkerLoader.enable=true;
			WorkerLoader._tryEnabled=true;
		}
	}

	WorkerLoader.I=null;
	WorkerLoader.workerPath="libs/workerloader.js";
	WorkerLoader._preLoadFun=null;
	WorkerLoader._enable=false;
	WorkerLoader._tryEnabled=false;
	return WorkerLoader;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/render/SubMeshRenderElement.as=======98.999192/98.999192
/**
*@private
*/
//class laya.d3.core.render.SubMeshRenderElement extends laya.d3.core.render.RenderElement
var SubMeshRenderElement=(function(_super){
	function SubMeshRenderElement(){
		/**@private */
		//this._dynamicWorldPositionNormalNeedUpdate=false;
		/**@private */
		//this._dynamicBatch=false;
		/**@private */
		//this._dynamicMultiSubMesh=false;
		/**@private */
		//this._dynamicVertexCount=0;
		/**@private */
		//this._dynamicWorldPositions=null;
		/**@private */
		//this._dynamicWorldNormals=null;
		/**@private */
		//this.skinnedDatas=null;
		/**@private */
		//this.staticBatchIndexStart=0;
		/**@private */
		//this.staticBatchIndexEnd=0;
		/**@private */
		//this.staticBatchElementList=null;
		/**@private */
		//this.dynamicBatchElementList=null;
		/**@private */
		//this.dynamicVertexDeclaration=null;
		SubMeshRenderElement.__super.call(this);
		this._dynamicWorldPositionNormalNeedUpdate=true;
	}

	__class(SubMeshRenderElement,'laya.d3.core.render.SubMeshRenderElement',_super);
	var __proto=SubMeshRenderElement.prototype;
	/**
	*@private
	*/
	__proto._onWorldMatrixChanged=function(){
		this._dynamicWorldPositionNormalNeedUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._computeWorldPositionsAndNormals=function(positionOffset,normalOffset,multiSubMesh,vertexCount){
		if (this._dynamicWorldPositionNormalNeedUpdate){
			var subMesh=this._geometry;
			var vertexBuffer=subMesh._vertexBuffer;
			var vertexFloatCount=vertexBuffer.vertexDeclaration.vertexStride / 4;
			var oriVertexes=vertexBuffer.getData();
			var worldMat=this._transform.worldMatrix;
			var rotation=this._transform.rotation;
			var indices=subMesh._indices;
			for (var i=0;i < vertexCount;i++){
				var index=multiSubMesh ? indices[i] :i;
				var oriOffset=index *vertexFloatCount;
				var bakeOffset=i *3;
				Utils3D.transformVector3ArrayToVector3ArrayCoordinate(oriVertexes,oriOffset+positionOffset,worldMat,this._dynamicWorldPositions,bakeOffset);
				(normalOffset!==-1)&& (Utils3D.transformVector3ArrayByQuat(oriVertexes,oriOffset+normalOffset,rotation,this._dynamicWorldNormals,bakeOffset));
			}
			this._dynamicWorldPositionNormalNeedUpdate=false;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.setTransform=function(transform){
		if (this._transform!==transform){
			(this._transform)&& (this._transform.off("worldmatrixneedchanged",this,this._onWorldMatrixChanged));
			(transform)&& (transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged));
			this._dynamicWorldPositionNormalNeedUpdate=true;
			this._transform=transform;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.setGeometry=function(geometry){
		if (this._geometry!==geometry){
			var subMesh=geometry;
			var mesh=subMesh._mesh;
			if (mesh){
				var multiSubMesh=mesh._subMeshCount > 1;
				var dynBatVerCount=multiSubMesh ? subMesh._indexCount :mesh._vertexCount;
				if (dynBatVerCount <=10){
					var length=dynBatVerCount *3;
					this._dynamicBatch=true;
					this._dynamicWorldPositions=new Float32Array(length);
					this._dynamicWorldNormals=new Float32Array(length);
					this._dynamicVertexCount=dynBatVerCount;
					this._dynamicMultiSubMesh=multiSubMesh;
					}else {
					this._dynamicBatch=false;
				}
			}
			this._geometry=geometry;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.addToOpaqueRenderQueue=function(context,queue){
		var subMeshStaticBatch=this.staticBatch;
		var elements=queue.elements;
		if (subMeshStaticBatch){
			var staManager=MeshRenderStaticBatchManager.instance;
			var staLightIndex=this.render.lightmapIndex+1;
			var staLightMapMarks=(staManager._opaqueBatchMarks[staLightIndex])|| (staManager._opaqueBatchMarks[staLightIndex]=[]);
			var staReceiveShadowMarks=(staLightMapMarks[this.render.receiveShadow ? 0 :1])|| (staLightMapMarks[this.render.receiveShadow ? 0 :1]=[]);
			var staMaterialMarks=(staReceiveShadowMarks[this.material.id])|| (staReceiveShadowMarks[this.material.id]=[]);
			var staBatchMarks=(staMaterialMarks[subMeshStaticBatch._batchID])|| (staMaterialMarks[subMeshStaticBatch._batchID]=new Array(3));
			if (staManager._updateCountMark===staBatchMarks[0]){
				var staBatchIndex=staBatchMarks[1];
				if (staBatchMarks[2]){
					elements[staBatchIndex].staticBatchElementList.push(this);
					}else {
					var staOriElement=elements[staBatchIndex];
					var staOriRender=staOriElement.render;
					var staBatchElement=staManager._getBatchRenderElementFromPool();
					staBatchElement.setGeometry(subMeshStaticBatch);
					staBatchElement.material=staOriElement.material;
					var staRootOwner=subMeshStaticBatch.batchOwner._owner;
					var staBatchTransform=staRootOwner ? staRootOwner._transform :null;
					staBatchElement.setTransform(staBatchTransform);
					var staBatchRender=subMeshStaticBatch.batchOwner._getBatchRender(context,staOriRender.lightmapIndex,staOriRender.receiveShadow);
					staBatchRender._setBelongScene(context.scene);
					staBatchElement.render=staBatchRender;
					var staBatchList=staBatchElement.staticBatchElementList;
					staBatchList.length=0;
					staBatchList.push(staOriElement);
					staBatchList.push(this);
					elements[staBatchIndex]=staBatchElement;
					staBatchMarks[2]=true;
				}
				}else {
				staBatchMarks[0]=staManager._updateCountMark;
				staBatchMarks[1]=elements.length;
				staBatchMarks[2]=false;
				elements.push(this);
			}
			}else {
			if (this._dynamicBatch){
				var verDec=this._geometry._vertexBuffer.vertexDeclaration;
				var dynManager=MeshRenderDynamicBatchManager.instance;
				var dynLightIndex=this.render.lightmapIndex+1;
				var dynLightMapMarks=(dynManager._opaqueBatchMarks[dynLightIndex])|| (dynManager._opaqueBatchMarks[dynLightIndex]=[]);
				var dynReceiveShadowMarks=(dynLightMapMarks[this.render.receiveShadow ? 0 :1])|| (dynLightMapMarks[this.render.receiveShadow ? 0 :1]=[]);
				var dynMaterialMarks=(dynReceiveShadowMarks[this.material.id])|| (dynReceiveShadowMarks[this.material.id]=[]);
				var dynBatchMarks=(dynMaterialMarks[verDec.id])|| (dynMaterialMarks[verDec.id]=new Array(3));
				if (dynManager._updateCountMark===dynBatchMarks[0]){
					var dynBatchIndex=dynBatchMarks[1];
					if (dynBatchMarks[2]){
						elements[dynBatchIndex].dynamicBatchElementList.push(this);
						}else {
						var dynOriElement=elements[dynBatchIndex];
						var dynOriRender=dynOriElement.render;
						var dynBatchElement=dynManager._getBatchRenderElementFromPool();
						dynBatchElement.setGeometry(SubMeshDynamicBatch.instance);
						dynBatchElement.material=dynOriElement.material;
						dynBatchElement.setTransform(null);
						var dynBatchRender=dynManager._getBatchRender(context,dynOriRender.lightmapIndex,dynOriRender.receiveShadow);
						dynBatchRender._setBelongScene(context.scene);
						dynBatchElement.render=dynBatchRender;
						dynBatchElement.dynamicVertexDeclaration=verDec;
						var dynBatchList=dynBatchElement.dynamicBatchElementList;
						dynBatchList.length=0;
						dynBatchList.push(dynOriElement);
						dynBatchList.push(this);
						elements[dynBatchIndex]=dynBatchElement;
						dynBatchMarks[2]=true;
					}
					}else {
					dynBatchMarks[0]=dynManager._updateCountMark;
					dynBatchMarks[1]=elements.length;
					dynBatchMarks[2]=false;
					elements.push(this);
				}
				}else {
				elements.push(this);
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.addToTransparentRenderQueue=function(context,queue){
		var subMeshStaticBatch=this.staticBatch;
		var elements=queue.elements;
		if (subMeshStaticBatch){
			var staManager=MeshRenderStaticBatchManager.instance;
			var staLastElement=queue.lastTransparentRenderElement;
			if (staLastElement){
				var staLastRender=staLastElement.render;
				if (staLastElement.staticBatch!==subMeshStaticBatch || staLastElement.material!==this.material || staLastRender.receiveShadow!==this.render.receiveShadow || staLastRender.lightmapIndex!==this.render.lightmapIndex){
					elements.push(this);
					queue.lastTransparentBatched=false;
					}else {
					if (queue.lastTransparentBatched){
						(elements [elements.length-1]).staticBatchElementList.push((this));
						}else {
						var staBatchElement=staManager._getBatchRenderElementFromPool();
						staBatchElement.setGeometry(subMeshStaticBatch);
						staBatchElement.material=staLastElement.material;
						var staRootOwner=subMeshStaticBatch.batchOwner._owner;
						var staBatchTransform=staRootOwner ? staRootOwner._transform :null;
						staBatchElement.setTransform(staBatchTransform);
						var staBatchRender=subMeshStaticBatch.batchOwner._getBatchRender(context,staLastRender.lightmapIndex,staLastRender.receiveShadow);
						staBatchRender._setBelongScene(context.scene);
						staBatchElement.render=staBatchRender;
						var staBatchList=staBatchElement.staticBatchElementList;
						staBatchList.length=0;
						staBatchList.push(staLastElement);
						staBatchList.push(this);
						elements[elements.length-1]=staBatchElement;
					}
					queue.lastTransparentBatched=true;
				}
				}else {
				elements.push(this);
				queue.lastTransparentBatched=false;
			}
			queue.lastTransparentRenderElement=this;
			}else {
			if (this._dynamicBatch){
				var verDec=this._geometry._vertexBuffer.vertexDeclaration;
				var dynManager=MeshRenderDynamicBatchManager.instance;
				var dynLastElement=queue.lastTransparentRenderElement;
				if (dynLastElement){
					var dynLastRender=dynLastElement.render;
					if (dynLastElement._geometry._vertexBuffer._vertexDeclaration!==verDec || dynLastElement.material!==this.material || dynLastRender.receiveShadow!==this.render.receiveShadow || dynLastRender.lightmapIndex!==this.render.lightmapIndex){
						elements.push(this);
						queue.lastTransparentBatched=false;
						}else {
						if (queue.lastTransparentBatched){
							(elements [elements.length-1]).dynamicBatchElementList.push((this));
							}else {
							var dynBatchElement=dynManager._getBatchRenderElementFromPool();
							dynBatchElement.setGeometry(SubMeshDynamicBatch.instance);
							dynBatchElement.material=dynLastElement.material;
							dynBatchElement.setTransform(null);
							var dynBatchRender=dynManager._getBatchRender(context,dynLastRender.lightmapIndex,dynLastRender.receiveShadow);
							dynBatchRender._setBelongScene(context.scene);
							dynBatchElement.render=dynBatchRender;
							dynBatchElement.dynamicVertexDeclaration=verDec;
							var dynBatchList=dynBatchElement.dynamicBatchElementList;
							dynBatchList.length=0;
							dynBatchList.push(dynLastElement);
							dynBatchList.push(this);
							elements[elements.length-1]=dynBatchElement;
						}
						queue.lastTransparentBatched=true;
					}
					}else {
					elements.push(this);
					queue.lastTransparentBatched=false;
				}
				queue.lastTransparentRenderElement=this;
				}else {
				elements.push(this);
				queue.lastTransparentRenderElement=this;
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(){
		_super.prototype.destroy.call(this);
		this._dynamicWorldPositions=null;
		this._dynamicWorldNormals=null;
		this.skinnedDatas=null;
		this.staticBatch=null;
		this.staticBatchElementList=null;
		this.dynamicBatchElementList=null;
		this.dynamicVertexDeclaration=null;
	}

	return SubMeshRenderElement;
})(RenderElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/Texture.as=======98.999162/98.999162
/**
*<code>Texture</code> 是一个纹理处理类。
*/
//class laya.resource.Texture extends laya.events.EventDispatcher
var Texture=(function(_super){
	function Texture(bitmap,uv,sourceWidth,sourceHeight){
		/**图片或者canvas 。*/
		//this.bitmap=null;
		/**UV信息。*/
		//this._uv=null;
		/**沿 X 轴偏移量。*/
		this.offsetX=0;
		/**沿 Y 轴偏移量。*/
		this.offsetY=0;
		/**原始宽度（包括被裁剪的透明区域）。*/
		this.sourceWidth=0;
		/**原始高度（包括被裁剪的透明区域）。*/
		this.sourceHeight=0;
		/**@private */
		//this._loaded=false;
		/**@private */
		this._w=0;
		/**@private */
		this._h=0;
		/**@private 唯一ID*/
		//this.$_GID=NaN;
		/**图片地址*/
		//this.url=null;
		/**@private */
		this._uvID=0;
		/**@private */
		//this._id=0;
		/**@private */
		this._saveRef=0;
		Texture.__super.call(this);
		(sourceWidth===void 0)&& (sourceWidth=0);
		(sourceHeight===void 0)&& (sourceHeight=0);
		this._id=++Texture._uniqueIDCounter;
		if (bitmap)
			bitmap._addReference();
		this.setTo(bitmap,uv,sourceWidth,sourceHeight);
	}

	__class(Texture,'laya.resource.Texture',_super);
	var __proto=Texture.prototype;
	Laya.imps(__proto,{"laya.resource.ICreateResource":true})
	__proto._saveAddref=function(){
		this._saveRef++;
		Texture._pool[this._id]=this;
	}

	__proto._saveRelease=function(){
		this._saveRef--;
		this._saveRef===0 && (Texture._pool[this._id]=null);
	}

	__proto.getID=function(){
		return this._id;
	}

	/**privaye*/
	__proto._getSource=function(){
		return this.bitmap ? this.bitmap._getSource():null;
	}

	__proto._setUV=function(value){}
	/**
	*设置此对象的位图资源、UV数据信息。
	*@param bitmap 位图资源
	*@param uv UV数据信息
	*/
	__proto.setTo=function(bitmap,uv,sourceWidth,sourceHeight){
		(sourceWidth===void 0)&& (sourceWidth=0);
		(sourceHeight===void 0)&& (sourceHeight=0);
		this.bitmap=bitmap;
		this.sourceWidth=sourceWidth;
		this.sourceHeight=sourceHeight;
		if (bitmap){
			this._w=bitmap.width;
			this._h=bitmap.height;
			this.sourceWidth=this.sourceWidth || this._w;
			this.sourceHeight=this.sourceHeight || this._h
			this._loaded=this._w > 0;
			var _this=this;
		}
		this.uv=uv || Texture.DEF_UV;
	}

	/**@private 激活资源。*/
	__proto.active=function(){
		if (this.bitmap)this.bitmap.activeResource();
	}

	__proto.getEnabled=function(){
		if (this._loaded && this.bitmap){
			return true
		}
		return false;
	}

	/**
	*销毁纹理（分直接销毁，跟计数销毁两种）。
	*@param forceDispose (default=false)true为强制销毁主纹理，false是通过计数销毁纹理。
	*/
	__proto.destroy=function(forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		if (this.bitmap && (this.bitmap).useNum > 0){
			if (forceDispose){
				this.bitmap.destroy();
				(this.bitmap).useNum=0;
				}else {
				(this.bitmap)._removeReference();
			}
			this.bitmap=null;
			if (this.url && this===Laya.loader.getRes(this.url))Laya.loader.clearRes(this.url,forceDispose);
			this._loaded=false;
		}
	}

	/**
	*加载指定地址的图片。
	*@param url 图片地址。
	*/
	__proto.load=function(url){
		this._loaded=false;
		Laya.loader.load(url,Handler.create(this,this._onLoaded),null,"htmlimage",1,false,null,true);
	}

	__proto._onLoaded=function(context){
		if (context==this){
			}else if ((context instanceof laya.resource.Texture )){
			var tex=context;
			Texture._create(context,0,0,tex.width,tex.height,0,0,tex.sourceWidth,tex.sourceHeight,this);
			}else {
			this.bitmap=context;
			this.bitmap.useNum++;
			this._loaded=true;
			this.sourceWidth=this._w=context.width;
			this.sourceHeight=this._h=context.height;
		}
		this.event("loaded",this);
	}

	/**
	*获取Texture上的某个区域的像素点
	*@param x
	*@param y
	*@param width
	*@param height
	*@return 返回像素点集合
	*/
	__proto.getPixels=function(x,y,width,height){
		if (Render.isWebGL){
			return RunDriver.getTexturePixels(this,x,y,width,height);
			}else {
			Browser.canvas.size(width,height);
			Browser.canvas.clear();
			Browser.context.drawImage(this,-x,-y,this.width,this.height,0,0);
			var info=Browser.context.getImageData(0,0,width,height);
		}
		return info.data;
	}

	/**@private */
	__proto._onAsynLoaded=function(bitmap){
		if (bitmap)bitmap.useNum++;
		this.setTo(bitmap,this.uv);
	}

	/**
	*@private
	*/
	__proto._setUrl=function(url){
		this.url=url;
	}

	/**
	*@private
	*/
	__proto._completeLoad=function(){}
	/**实际高度。*/
	__getset(0,__proto,'height',function(){
		if (!this.loaded)return 0;
		if (this._h)return this._h;
		return (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[5]-this.uv[1])*this.bitmap.height :this.bitmap.height;
		},function(value){
		this._h=value;
		this.sourceHeight || (this.sourceHeight=value);
	});

	__getset(0,__proto,'uv',function(){
		return this._uv;
		},function(value){
		this._uv=value;
		this._setUV(value);
	});

	/**
	*表示是否加载成功，只能表示初次载入成功（通常包含下载和载入）,并不能完全表示资源是否可立即使用（资源管理机制释放影响等）。
	*/
	__getset(0,__proto,'loaded',function(){
		return this._loaded;
	});

	/**
	*表示资源是否已释放。
	*/
	__getset(0,__proto,'released',function(){
		if (!this.bitmap)return true;
		return this.bitmap.released;
	});

	/**实际宽度。*/
	__getset(0,__proto,'width',function(){
		if (!this.loaded)return 0;
		if (this._w)return this._w;
		return (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[2]-this.uv[0])*this.bitmap.width :this.bitmap.width;
		},function(value){
		this._w=value;
		this.sourceWidth || (this.sourceWidth=value);
	});

	Texture.getTextureByID=function(id){
		return Texture._pool[id];
	}

	Texture.moveUV=function(offsetX,offsetY,uv){
		for (var i=0;i < 8;i+=2){
			uv[i]+=offsetX;
			uv[i+1]+=offsetY;
		}
		return uv;
	}

	Texture.create=function(source,x,y,width,height,offsetX,offsetY,sourceWidth,sourceHeight){
		(offsetX===void 0)&& (offsetX=0);
		(offsetY===void 0)&& (offsetY=0);
		(sourceWidth===void 0)&& (sourceWidth=0);
		(sourceHeight===void 0)&& (sourceHeight=0);
		return Texture._create(source,x,y,width,height,offsetX,offsetY,sourceWidth,sourceHeight);
	}

	Texture._create=function(source,x,y,width,height,offsetX,offsetY,sourceWidth,sourceHeight,outTexture){
		(offsetX===void 0)&& (offsetX=0);
		(offsetY===void 0)&& (offsetY=0);
		(sourceWidth===void 0)&& (sourceWidth=0);
		(sourceHeight===void 0)&& (sourceHeight=0);
		var btex=(source instanceof laya.resource.Texture );
		var uv=btex ? source.uv :Texture.DEF_UV;
		var bitmap=btex ? source.bitmap :source;
		if (bitmap.width && (x+width)> bitmap.width)width=bitmap.width-x;
		if (bitmap.height && (y+height)> bitmap.height)height=bitmap.height-y;
		var tex;
		if (outTexture){
			tex=outTexture;
			bitmap._addReference();
			tex.setTo(bitmap,null,sourceWidth || width,sourceHeight || height);
			}else {
			tex=new Texture(bitmap,null,sourceWidth || width,sourceHeight || height)
		}
		tex.width=width;
		tex.height=height;
		tex.offsetX=offsetX;
		tex.offsetY=offsetY;
		var dwidth=1 / bitmap.width;
		var dheight=1 / bitmap.height;
		x *=dwidth;
		y *=dheight;
		width *=dwidth;
		height *=dheight;
		var u1=tex.uv[0],v1=tex.uv[1],u2=tex.uv[4],v2=tex.uv[5];
		var inAltasUVWidth=(u2-u1),inAltasUVHeight=(v2-v1);
		var oriUV=Texture.moveUV(uv[0],uv[1],[x,y,x+width,y,x+width,y+height,x,y+height]);
		tex.uv=[u1+oriUV[0] *inAltasUVWidth,v1+oriUV[1] *inAltasUVHeight,u2-(1-oriUV[2])*inAltasUVWidth,v1+oriUV[3] *inAltasUVHeight,u2-(1-oriUV[4])*inAltasUVWidth,v2-(1-oriUV[5])*inAltasUVHeight,u1+oriUV[6] *inAltasUVWidth,v2-(1-oriUV[7])*inAltasUVHeight];
		return tex;
	}

	Texture.createFromTexture=function(texture,x,y,width,height){
		var rect=Rectangle.TEMP.setTo(x-texture.offsetX,y-texture.offsetY,width,height);
		var result=rect.intersection(Texture._rect1.setTo(0,0,texture.width,texture.height),Texture._rect2);
		if (result)
			var tex=Texture.create(texture,result.x,result.y,result.width,result.height,result.x-rect.x,result.y-rect.y,width,height);
		else return null;
		tex.bitmap.useNum--;
		return tex;
	}

	Texture.DEF_UV=[0,0,1.0,0,1.0,1.0,0,1.0];
	Texture.NO_UV=[0,0,0,0,0,0,0,0];
	Texture.INV_UV=[0,1,1.0,1,1.0,0.0,0,0.0];
	Texture._rect1=new Rectangle();
	Texture._rect2=new Rectangle();
	Texture._uniqueIDCounter=0;
	Texture._pool=[];
	return Texture;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/MeshRenderDynamicBatchManager.as=======98.999121/98.999121
/**
*@private
*<code>MeshSprite3DDynamicBatchManager</code> 类用于网格精灵动态批处理管理。
*/
//class laya.d3.graphics.MeshRenderDynamicBatchManager extends laya.d3.graphics.DynamicBatchManager
var MeshRenderDynamicBatchManager=(function(_super){
	function MeshRenderDynamicBatchManager(){
		/**@private */
		//this._cacheBatchOwner=null;
		/**@private [只读]*/
		//this._updateCountMark=0;
		this._opaqueBatchMarks=[];
		MeshRenderDynamicBatchManager.__super.call(this);
		SubMeshDynamicBatch.instance=new SubMeshDynamicBatch();
		this._cacheBatchOwner=[];
		this._updateCountMark=0;
	}

	__class(MeshRenderDynamicBatchManager,'laya.d3.graphics.MeshRenderDynamicBatchManager',_super);
	var __proto=MeshRenderDynamicBatchManager.prototype;
	/**
	*@private
	*/
	__proto._getBatchRender=function(context,lightMapIndex,receiveShadow){
		var lightRenders=this._cacheBatchOwner[lightMapIndex];
		(lightRenders)|| (lightRenders=this._cacheBatchOwner[lightMapIndex]=__newvec(2,null));
		var render=lightRenders[receiveShadow ? 1 :0];
		if (!render){
			render=new MeshRender(null,4);
			render.lightmapIndex=lightMapIndex;
			render.receiveShadow=receiveShadow;
			lightRenders[receiveShadow ? 1 :0]=render;
		}
		return render;
	}

	/**
	*@inheritDoc
	*/
	__proto._getBatchRenderElementFromPool=function(){
		var renderElement=this._batchRenderElementPool [this._batchRenderElementPoolIndex++];
		if (!renderElement){
			renderElement=new SubMeshRenderElement();
			this._batchRenderElementPool[this._batchRenderElementPoolIndex-1]=renderElement;
			renderElement.dynamicBatchElementList=[];
		}
		return renderElement;
	}

	/**
	*@inheritDoc
	*/
	__proto._clear=function(){
		_super.prototype._clear.call(this);
		this._updateCountMark++;
	}

	__static(MeshRenderDynamicBatchManager,
	['instance',function(){return this.instance=new MeshRenderDynamicBatchManager();}
	]);
	return MeshRenderDynamicBatchManager;
})(DynamicBatchManager)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/primitiveGeometry.as=======98.999117/98.999117
/**
*@private
*<code>primitiveGeometry</code> 类用于实现简单几何体。
*/
//class laya.d3.resource.models.primitiveGeometry extends laya.d3.core.GeometryElement
var primitiveGeometry=(function(_super){
	function primitiveGeometry(){
		/**@private */
		//this._indexBuffer=null;
		primitiveGeometry.__super.call(this);
	}

	__class(primitiveGeometry,'laya.d3.resource.models.primitiveGeometry',_super);
	var __proto=primitiveGeometry.prototype;
	Laya.imps(__proto,{"laya.resource.IDispose":true})
	/**
	*@inheritDoc
	*/
	__proto._render=function(state){
		this._indexBuffer.bind();
		var count=this._indexBuffer.indexCount;
		WebGL.mainContext.drawElements(0x0004,count,0x1403,0);
		Stat.drawCall++;
		Stat.trianglesFaces+=count / 3;
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'_vertexBufferCount',function(){
		return 1;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'triangleCount',function(){
		return this._indexBuffer.indexCount / 3;
	});

	return primitiveGeometry;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/SubMesh.as=======98.999113/98.999113
/**
*<code>SubMesh</code> 类用于创建子网格数据模板。
*/
//class laya.d3.resource.models.SubMesh extends laya.d3.core.GeometryElement
var SubMesh=(function(_super){
	function SubMesh(mesh){
		/**@private */
		this._mesh=null;
		/**@private */
		this._boneIndicesList=null;
		/**@private */
		this._subIndexBufferStart=null;
		/**@private */
		this._subIndexBufferCount=null;
		/**@private */
		this._skinAnimationDatas=null;
		/**@private */
		this._indexInMesh=0;
		/**@private */
		this._vertexStart=0;
		/**@private */
		this._indexStart=0;
		/**@private */
		this._indexCount=0;
		/**@private */
		this._indices=null;
		/**@private [只读]*/
		this._indexBuffer=null;
		SubMesh.__super.call(this);
		this._mesh=mesh;
		this._boneIndicesList=[];
		this._subIndexBufferStart=[];
		this._subIndexBufferCount=[];
	}

	__class(SubMesh,'laya.d3.resource.models.SubMesh',_super);
	var __proto=SubMesh.prototype;
	Laya.imps(__proto,{"laya.resource.IDispose":true})
	/**
	*@private
	*渲染。
	*@param state 渲染状态。
	*/
	__proto._render=function(state){
		this._indexBuffer.bind();
		var skinAnimationDatas=(state.renderElement).skinnedDatas;
		var boneIndicesListCount=this._boneIndicesList.length;
		var shader=state.shader;
		for (var i=0;i < boneIndicesListCount;i++){
			(skinAnimationDatas)&& (shader.uploadCustomUniform(0,skinAnimationDatas[i]));
			LayaGL.instance.drawElements(0x0004,this._subIndexBufferCount[i],0x1403,this._subIndexBufferStart[i] *2);
		}
		Stat.drawCall+=boneIndicesListCount;
		Stat.trianglesFaces+=this._indexCount / 3;
	}

	/**
	*@private
	*/
	__proto.getIndices=function(){
		return this._indices;
	}

	/**
	*<p>彻底清理资源。</p>
	*<p><b>注意：</b>会强制解锁清理。</p>
	*/
	__proto.dispose=function(){
		this._mesh=null;
		this._boneIndicesList=null;
		this._subIndexBufferStart=null;
		this._subIndexBufferCount=null;
		this._skinAnimationDatas=null;
		this._indexBuffer.destroy();
		this._indexBuffer=null;
	}

	/**
	*@private
	*/
	__getset(0,__proto,'_vertexBufferCount',function(){
		return 1;
	});

	/**
	*@private
	*/
	__getset(0,__proto,'triangleCount',function(){
		return this._indexBuffer.indexCount / 3;
	});

	return SubMesh;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/MeshRenderStaticBatchManager.as=======98.999113/98.999113
/**
*@private
*<code>MeshSprite3DStaticBatchManager</code> 类用于网格精灵静态批处理管理。
*/
//class laya.d3.graphics.MeshRenderStaticBatchManager extends laya.d3.graphics.StaticBatchManager
var MeshRenderStaticBatchManager=(function(_super){
	function MeshRenderStaticBatchManager(){
		/**@private [只读]*/
		//this._updateCountMark=0;
		this._opaqueBatchMarks=[];
		MeshRenderStaticBatchManager.__super.call(this);
		this._updateCountMark=0;
	}

	__class(MeshRenderStaticBatchManager,'laya.d3.graphics.MeshRenderStaticBatchManager',_super);
	var __proto=MeshRenderStaticBatchManager.prototype;
	/**
	*@inheritDoc
	*/
	__proto._compare=function(left,right){
		var lRender=left._render,rRender=right._render;
		var leftGeo=(left).meshFilter.sharedMesh,rightGeo=(right).meshFilter.sharedMesh;
		var lightOffset=lRender.lightmapIndex-rRender.lightmapIndex;
		if (lightOffset===0){
			var receiveShadowOffset=(lRender.receiveShadow ? 1 :0)-(rRender.receiveShadow ? 1 :0);
			if (receiveShadowOffset===0){
				var materialOffset=lRender.sharedMaterial.id-rRender.sharedMaterial.id;
				if (materialOffset===0){
					var verDec=leftGeo._vertexBuffers[0].vertexDeclaration.id-rightGeo._vertexBuffers[0].vertexDeclaration.id;
					if (verDec===0){
						return rightGeo._indexBuffer.indexCount-leftGeo._indexBuffer.indexCount;
						}else {
						return verDec;
					}
					}else {
					return materialOffset;
				}
				}else {
				return receiveShadowOffset;
			}
			}else {
			return lightOffset;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._getBatchRenderElementFromPool=function(){
		var renderElement=this._batchRenderElementPool[this._batchRenderElementPoolIndex++];
		if (!renderElement){
			renderElement=new SubMeshRenderElement();
			this._batchRenderElementPool[this._batchRenderElementPoolIndex-1]=renderElement;
			renderElement.staticBatchElementList=[];
		}
		return renderElement;
	}

	/**
	*@private
	*/
	__proto._getStaticBatch=function(rootOwner,number){
		var key=rootOwner ? rootOwner.id :0;
		var batchOwner=this._staticBatches[key];
		(batchOwner)|| (batchOwner=this._staticBatches[key]=new MeshRenderStaticBatchOwner(rootOwner));
		var batches=batchOwner._batches;
		return (batches[number])|| (batches[number]=new SubMeshStaticBatch(batchOwner,number,VertexPositionNormalColorTexture0Texture1STangent.vertexDeclaration));
	}

	/**
	*@inheritDoc
	*/
	__proto._initStaticBatchs=function(rootOwner){
		this._quickSort(this._initBatchSprites,0,this._initBatchSprites.length-1);
		var lastCanMerage=false;
		var curStaticBatch;
		var batchNumber=0;
		for (var i=0,n=this._initBatchSprites.length;i < n;i++){
			var sprite=this._initBatchSprites[i];
			if (lastCanMerage){
				if (curStaticBatch.addTest(sprite)){
					curStaticBatch.add(sprite);
					}else {
					lastCanMerage=false;
					batchNumber++;
				}
				}else {
				var lastIndex=n-1;
				if (i!==lastIndex){
					curStaticBatch=this._getStaticBatch(rootOwner,batchNumber);
					curStaticBatch.add(sprite);
					lastCanMerage=true;
				}
			}
		}
		for (var key in this._staticBatches){
			var batches=this._staticBatches[key]._batches;
			for (i=0,n=batches.length;i < n;i++)
			batches[i].finishInit();
		}
		this._initBatchSprites.length=0;
	}

	/**
	*@private
	*/
	__proto._destroyRenderSprite=function(sprite){
		var staticBatch=sprite._render._staticBatch;
		staticBatch.remove(sprite);
		if (staticBatch._batchElements.length===0){
			var owner=staticBatch.batchOwner._owner;
			var ownerID=owner ? owner.id :0;
			var batches=this._staticBatches[ownerID]._batches;
			batches.splice(staticBatch.number,1)
			if (batches.length===0)
				delete this._staticBatches[ownerID];
			staticBatch.dispose();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._clear=function(){
		_super.prototype._clear.call(this);
		this._updateCountMark++;
	}

	/**
	*@inheritDoc
	*/
	__proto._garbageCollection=function(){
		for (var key in this._staticBatches){
			var batches=this._staticBatches[key]._batches;
			for (var i=0,n=batches.length;i < n;i++){
				var staticBatch=batches[i];
				if (staticBatch._batchElements.length===0){
					staticBatch.dispose();
					batches.splice(i,1);
					i--,n--;
					if (n===0)
						delete this._staticBatches[key];
				}
			}
		}
	}

	__static(MeshRenderStaticBatchManager,
	['instance',function(){return this.instance=new MeshRenderStaticBatchManager();}
	]);
	return MeshRenderStaticBatchManager;
})(StaticBatchManager)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainFilter.as=======98.999096/98.999096
/**
*<code>TerrainFilter</code> 类用于创建TerrainFilter过滤器。
*/
//class laya.d3.terrain.TerrainFilter extends laya.d3.core.GeometryElement
var TerrainFilter=(function(_super){
	function TerrainFilter(owner,chunkOffsetX,chunkOffsetZ,gridSize,terrainHeightData,heightDataWidth,heightDataHeight,cameraCoordinateInverse){
		this._owner=null;
		this._gridSize=NaN;
		this.memorySize=0;
		this._numberVertices=0;
		this._maxNumberIndices=0;
		this._currentNumberIndices=0;
		this._numberTriangle=0;
		this._indexBuffer=null;
		this._indexArrayBuffer=null;
		this._boundingBoxCorners=null;
		this._leafs=null;
		this._leafNum=0;
		this._terrainHeightData=null;
		this._terrainHeightDataWidth=0;
		this._terrainHeightDataHeight=0;
		this._chunkOffsetX=0;
		this._chunkOffsetZ=0;
		this._cameraCoordinateInverse=false;
		this._cameraPos=null;
		this._currentLOD=0;
		//LOD级别 4个叶子节点 第1个叶子的level<<24+第2个叶子的level<<16+第3个叶子的level<<8+第4个叶子的level
		this._perspectiveFactor=NaN;
		this._LODTolerance=0;
		/**@private */
		this._boundingSphere=null;
		/**@private */
		this._boundingBox=null;
		TerrainFilter.__super.call(this);
		this._owner=owner;
		this._cameraPos=new Vector3();
		this._chunkOffsetX=chunkOffsetX;
		this._chunkOffsetZ=chunkOffsetZ;
		this._gridSize=gridSize;
		this._terrainHeightData=terrainHeightData;
		this._terrainHeightDataWidth=heightDataWidth;
		this._terrainHeightDataHeight=heightDataHeight;
		this._leafNum=(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM)*(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM);
		this._leafs=__newvec(this._leafNum);
		this._cameraCoordinateInverse=cameraCoordinateInverse;
		for (var i=0;i < this._leafNum;i++){
			this._leafs[i]=new TerrainLeaf();
		}
		this.recreateResource();
	}

	__class(TerrainFilter,'laya.d3.terrain.TerrainFilter',_super);
	var __proto=TerrainFilter.prototype;
	__proto.recreateResource=function(){
		this._currentNumberIndices=0;
		this._numberTriangle=0;
		var nLeafVertexCount=TerrainLeaf.LEAF_VERTEXT_COUNT;
		var nLeafIndexCount=TerrainLeaf.LEAF_MAX_INDEX_COUNT;
		this._numberVertices=nLeafVertexCount *this._leafNum;
		this._maxNumberIndices=nLeafIndexCount *this._leafNum;
		this._indexArrayBuffer=new Uint16Array(this._maxNumberIndices);
		var vertexDeclaration=VertexPositionTerrain.vertexDeclaration;
		var vertexFloatStride=vertexDeclaration.vertexStride / 4;
		var vertices=new Float32Array(this._numberVertices *vertexFloatStride);
		var nNum=TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM;
		var i=0,x=0,z=0;
		for (i=0;i < this._leafNum;i++){
			x=i % nNum;
			z=Math.floor(i / nNum);
			this._leafs[i].calcVertextBuffer(this._chunkOffsetX,this._chunkOffsetZ,x *TerrainLeaf.LEAF_GRID_NUM,z *TerrainLeaf.LEAF_GRID_NUM,this._gridSize,vertices,i *TerrainLeaf.LEAF_PLANE_VERTEXT_COUNT,vertexFloatStride,this._terrainHeightData,this._terrainHeightDataWidth,this._terrainHeightDataHeight,this._cameraCoordinateInverse);
		}
		for (i=0;i < this._leafNum;i++){
			x=i % nNum;
			z=Math.floor(i / nNum);
			this._leafs[i].calcSkirtVertextBuffer(this._chunkOffsetX,this._chunkOffsetZ,x *TerrainLeaf.LEAF_GRID_NUM,z *TerrainLeaf.LEAF_GRID_NUM,this._gridSize,vertices,this._leafNum *TerrainLeaf.LEAF_PLANE_VERTEXT_COUNT+i *TerrainLeaf.LEAF_SKIRT_VERTEXT_COUNT,vertexFloatStride,this._terrainHeightData,this._terrainHeightDataWidth,this._terrainHeightDataHeight);
		}
		this.assembleIndexInit();
		this._vertexBuffer=new VertexBuffer3D(vertexDeclaration.vertexStride *this._numberVertices,0x88E4,false);
		this._vertexBuffer.vertexDeclaration=vertexDeclaration;
		this._indexBuffer=new IndexBuffer3D("ushort",this._maxNumberIndices,0x88E4,false);
		this._vertexBuffer.setData(vertices);
		this._indexBuffer.setData(this._indexArrayBuffer);
		this.memorySize=(this._vertexBuffer._byteLength+this._indexBuffer._byteLength)*2;
		this.calcOriginalBoudingBoxAndSphere();
		this._setVertexBuffer(this._vertexBuffer);
	}

	__proto.setLODLevel=function(leafsLODLevel){
		if (leafsLODLevel.length !=4)return true;
		var nLOD=((leafsLODLevel[0]+1)<< 24)+((leafsLODLevel[1]+1)<< 16)+((leafsLODLevel[2]+1)<< 8)+(leafsLODLevel[3]+1);
		if (this._currentLOD==nLOD){
			return false;
		}
		this._currentLOD=nLOD;
		return true;
	}

	__proto.assembleIndexInit=function(){
		this._currentNumberIndices=0;
		this._numberTriangle=0;
		var nOffsetIndex=0;
		for (var i=0;i < this._leafNum;i++){
			var planeLODIndex=TerrainLeaf.getPlaneLODIndex(i,0);
			this._indexArrayBuffer.set(planeLODIndex,nOffsetIndex);
			nOffsetIndex+=planeLODIndex.length;
			var skirtLODIndex=TerrainLeaf.getSkirtLODIndex(i,0);
			this._indexArrayBuffer.set(skirtLODIndex,nOffsetIndex);
			nOffsetIndex+=skirtLODIndex.length;
			this._currentNumberIndices+=(planeLODIndex.length+skirtLODIndex.length);
		}
		this._numberTriangle=this._currentNumberIndices / 3;
	}

	__proto.isNeedAssemble=function(camera,cameraPostion){
		var perspectiveFactor=Math.min(camera.viewport.width,camera.viewport.height)/ (2 *Math.tan(Math.PI *camera.fieldOfView / 180.0));
		if (this._perspectiveFactor !=perspectiveFactor){
			this._perspectiveFactor=perspectiveFactor;
			return 1;
		}
		if (this._LODTolerance !=Terrain.LOD_TOLERANCE_VALUE){
			this._LODTolerance=Terrain.LOD_TOLERANCE_VALUE;
			return 1;
		}
		if (Vector3.equals(cameraPostion,this._cameraPos)==false){
			this._cameraPos.x=cameraPostion.x;
			this._cameraPos.y=cameraPostion.y;
			this._cameraPos.z=cameraPostion.z;
			return 2;
		}
		return 0;
	}

	__proto.assembleIndex=function(camera,cameraPostion){
		var nNeedType=this.isNeedAssemble(camera,cameraPostion);
		if (nNeedType > 0){
			for (var i=0;i < this._leafNum;i++){
				TerrainFilter._TEMP_ARRAY_BUFFER[i]=this._leafs[i].determineLod(cameraPostion,this._perspectiveFactor,Terrain.LOD_TOLERANCE_VALUE,nNeedType==1);
			}
			if (this.setLODLevel(TerrainFilter._TEMP_ARRAY_BUFFER)){
				this._currentNumberIndices=0;
				this._numberTriangle=0;
				var nOffsetIndex=0;
				for (i=0;i < this._leafNum;i++){
					var nLODLevel=TerrainFilter._TEMP_ARRAY_BUFFER[i];
					var planeLODIndex=TerrainLeaf.getPlaneLODIndex(i,nLODLevel);
					this._indexArrayBuffer.set(planeLODIndex,nOffsetIndex);
					nOffsetIndex+=planeLODIndex.length;
					var skirtLODIndex=TerrainLeaf.getSkirtLODIndex(i,nLODLevel);
					this._indexArrayBuffer.set(skirtLODIndex,nOffsetIndex);
					nOffsetIndex+=skirtLODIndex.length;
					this._currentNumberIndices+=(planeLODIndex.length+skirtLODIndex.length);
				}
				this._numberTriangle=this._currentNumberIndices / 3;
				return true;
			}
		}
		return false;
	}

	__proto.calcOriginalBoudingBoxAndSphere=function(){
		var sizeOfY=new Vector2(2147483647,-2147483647);
		for (var i=0;i < this._leafNum;i++){
			sizeOfY.x=this._leafs[i]._sizeOfY.x < sizeOfY.x ? this._leafs[i]._sizeOfY.x :sizeOfY.x;
			sizeOfY.y=this._leafs[i]._sizeOfY.y > sizeOfY.y ? this._leafs[i]._sizeOfY.y :sizeOfY.y;
		};
		var min=new Vector3(this._chunkOffsetX *TerrainLeaf.CHUNK_GRID_NUM *this._gridSize,sizeOfY.x,this._chunkOffsetZ *TerrainLeaf.CHUNK_GRID_NUM *this._gridSize);
		var max=new Vector3((this._chunkOffsetX+1)*TerrainLeaf.CHUNK_GRID_NUM *this._gridSize,sizeOfY.y,(this._chunkOffsetZ+1)*TerrainLeaf.CHUNK_GRID_NUM *this._gridSize);
		if (TerrainLeaf.__ADAPT_MATRIX__){
			Vector3.transformV3ToV3(min,TerrainLeaf.__ADAPT_MATRIX__,min);
			Vector3.transformV3ToV3(max,TerrainLeaf.__ADAPT_MATRIX__,max);
		}
		this._boundingBox=new BoundBox(min,max);
		var size=new Vector3();
		Vector3.subtract(max,min,size);
		Vector3.scale(size,0.5,size);
		var center=new Vector3();
		Vector3.add(min,size,center);
		this._boundingSphere=new BoundSphere(center,Vector3.scalarLength(size));
		this._boundingBoxCorners=__newvec(8,null);
		this._boundingBox.getCorners(this._boundingBoxCorners);
	}

	__proto.calcLeafBoudingBox=function(worldMatrix){
		for (var i=0;i < this._leafNum;i++){
			this._leafs[i].calcLeafBoudingBox(worldMatrix);
		}
	}

	__proto.calcLeafBoudingSphere=function(worldMatrix,maxScale){
		for (var i=0;i < this._leafNum;i++){
			this._leafs[i].calcLeafBoudingSphere(worldMatrix,maxScale);
		}
	}

	__proto._getVertexBuffer=function(index){
		(index===void 0)&& (index=0);
		if (index==0){
			return this._vertexBuffer;
		}
		return null;
	}

	__proto._getIndexBuffer=function(){
		return this._indexBuffer;
	}

	/**
	*@inheritDoc
	*/
	__proto._prepareRender=function(state){
		this._indexBuffer.bind();
		var terrainMaterial=state.renderElement.material;
		if (terrainMaterial.blend==BaseMaterial.BLEND_DISABLE){
			var camera=state.camera;
			if (this.assembleIndex(camera,camera.transform.position)){
				this._indexBuffer.setData(this._indexArrayBuffer);
			}
		}
		return true;
	}

	/**
	*@inheritDoc
	*/
	__proto._render=function(state){
		var vertexDeclaration=VertexPositionTerrain.vertexDeclaration;
		LayaGL.instance.drawElements(Terrain.RENDER_LINE_MODEL ? 0x0001 :0x0004,this._currentNumberIndices,0x1403,0);
		Stat.trianglesFaces+=this._numberTriangle;
		Stat.drawCall++;
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(){
		this._owner=null;
		if (this._vertexBuffer)this._vertexBuffer.destroy();
		if (this._indexBuffer)this._indexBuffer.destroy();
	}

	__getset(0,__proto,'_vertexBufferCount',function(){
		return this._numberVertices;
	});

	__getset(0,__proto,'triangleCount',function(){
		return this._numberTriangle;
	});

	__static(TerrainFilter,
	['_TEMP_ARRAY_BUFFER',function(){return this._TEMP_ARRAY_BUFFER=new Uint32Array(TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM *TerrainLeaf.CHUNK_GRID_NUM / TerrainLeaf.LEAF_GRID_NUM);}
	]);
	return TerrainFilter;
})(GeometryElement)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Vector2.as=======98.998989/98.998989
/**
*<code>Vector2</code> 类用于创建二维向量。
*/
//class laya.d3.math.Vector2 extends laya.d3.math.BaseVector
var Vector2=(function(_super){
	/**
	*创建一个 <code>Vector2</code> 实例。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	function Vector2(x,y){
		Vector2.__super.call(this);
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		var v=this.elements=new Float32Array(2);
		v[0]=x;
		v[1]=y;
	}

	__class(Vector2,'laya.d3.math.Vector2',_super);
	var __proto=Vector2.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*从Array数组拷贝值。
	*@param array 数组。
	*@param offset 数组偏移。
	*/
	__proto.fromArray=function(array,offset){
		(offset===void 0)&& (offset=0);
		this.elements[0]=array[offset+0];
		this.elements[1]=array[offset+1];
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destVector2=destObject;
		var destE=destVector2.elements;
		var s=this.elements;
		destE[0]=s[0];
		destE[1]=s[1];
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destVector2=new this.constructor();
		this.cloneTo(destVector2);
		return destVector2;
	}

	/**
	*设置X轴坐标。
	*@param value X轴坐标。
	*/
	/**
	*获取X轴坐标。
	*@return X轴坐标。
	*/
	__getset(0,__proto,'x',function(){
		return this.elements[0];
		},function(value){
		this.elements[0]=value;
	});

	/**
	*设置Y轴坐标。
	*@param value Y轴坐标。
	*/
	/**
	*获取Y轴坐标。
	*@return Y轴坐标。
	*/
	__getset(0,__proto,'y',function(){
		return this.elements[1];
		},function(value){
		this.elements[1]=value;
	});

	Vector2.scale=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		e[0]=f[0] *b;
		e[1]=f[1] *b;
	}

	__static(Vector2,
	['ZERO',function(){return this.ZERO=new Vector2(0.0,0.0);},'ONE',function(){return this.ONE=new Vector2(1.0,1.0);}
	]);
	return Vector2;
})(BaseVector)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Vector3.as=======98.998988/98.998988
/**
*<code>Vector3</code> 类用于创建三维向量。
*/
//class laya.d3.math.Vector3 extends laya.d3.math.BaseVector
var Vector3=(function(_super){
	/**
	*创建一个 <code>Vector3</code> 实例。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*@param z Z轴坐标。
	*/
	function Vector3(x,y,z){
		Vector3.__super.call(this);
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(z===void 0)&& (z=0);
		var v=this.elements=new Float32Array(3);
		v[0]=x;
		v[1]=y;
		v[2]=z;
	}

	__class(Vector3,'laya.d3.math.Vector3',_super);
	var __proto=Vector3.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*从Array数组拷贝值。
	*@param array 数组。
	*@param offset 数组偏移。
	*/
	__proto.fromArray=function(array,offset){
		(offset===void 0)&& (offset=0);
		this.elements[0]=array[offset+0];
		this.elements[1]=array[offset+1];
		this.elements[2]=array[offset+2];
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destVector3=destObject;
		var destE=destVector3.elements;
		var s=this.elements;
		destE[0]=s[0];
		destE[1]=s[1];
		destE[2]=s[2];
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destVector3=new this.constructor();
		this.cloneTo(destVector3);
		return destVector3;
	}

	__proto.toDefault=function(){
		this.elements[0]=0;
		this.elements[1]=0;
		this.elements[2]=0;
	}

	/**
	*设置X轴坐标。
	*@param value X轴坐标。
	*/
	/**
	*获取X轴坐标。
	*@return X轴坐标。
	*/
	__getset(0,__proto,'x',function(){
		return this.elements[0];
		},function(value){
		this.elements[0]=value;
	});

	/**
	*设置Y轴坐标。
	*@param value Y轴坐标。
	*/
	/**
	*获取Y轴坐标。
	*@return Y轴坐标。
	*/
	__getset(0,__proto,'y',function(){
		return this.elements[1];
		},function(value){
		this.elements[1]=value;
	});

	/**
	*设置Z轴坐标。
	*@param value Z轴坐标。
	*/
	/**
	*获取Z轴坐标。
	*@return Z轴坐标。
	*/
	__getset(0,__proto,'z',function(){
		return this.elements[2];
		},function(value){
		this.elements[2]=value;
	});

	Vector3.distanceSquared=function(value1,value2){
		var value1e=value1.elements;
		var value2e=value2.elements;
		var x=value1e[0]-value2e[0];
		var y=value1e[1]-value2e[1];
		var z=value1e[2]-value2e[2];
		return (x *x)+(y *y)+(z *z);
	}

	Vector3.distance=function(value1,value2){
		var value1e=value1.elements;
		var value2e=value2.elements;
		var x=value1e[0]-value2e[0];
		var y=value1e[1]-value2e[1];
		var z=value1e[2]-value2e[2];
		return Math.sqrt((x *x)+(y *y)+(z *z));
	}

	Vector3.min=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=Math.min(f[0],g[0]);
		e[1]=Math.min(f[1],g[1]);
		e[2]=Math.min(f[2],g[2]);
	}

	Vector3.max=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=Math.max(f[0],g[0]);
		e[1]=Math.max(f[1],g[1]);
		e[2]=Math.max(f[2],g[2]);
	}

	Vector3.transformQuat=function(source,rotation,out){
		var destination=out.elements;
		var se=source.elements;
		var re=rotation.elements;
		var x=se[0],y=se[1],z=se[2],qx=re[0],qy=re[1],qz=re[2],qw=re[3],
		ix=qw *x+qy *z-qz *y,iy=qw *y+qz *x-qx *z,iz=qw *z+qx *y-qy *x,iw=-qx *x-qy *y-qz *z;
		destination[0]=ix *qw+iw *-qx+iy *-qz-iz *-qy;
		destination[1]=iy *qw+iw *-qy+iz *-qx-ix *-qz;
		destination[2]=iz *qw+iw *-qz+ix *-qy-iy *-qx;
	}

	Vector3.scalarLength=function(a){
		var f=a.elements;
		var x=f[0],y=f[1],z=f[2];
		return Math.sqrt(x *x+y *y+z *z);
	}

	Vector3.scalarLengthSquared=function(a){
		var f=a.elements;
		var x=f[0],y=f[1],z=f[2];
		return x *x+y *y+z *z;
	}

	Vector3.normalize=function(s,out){
		var se=s.elements;
		var oe=out.elements;
		var x=se[0],y=se[1],z=se[2];
		var len=x *x+y *y+z *z;
		if (len > 0){
			len=1 / Math.sqrt(len);
			oe[0]=se[0] *len;
			oe[1]=se[1] *len;
			oe[2]=se[2] *len;
		}
	}

	Vector3.multiply=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=f[0] *g[0];
		e[1]=f[1] *g[1];
		e[2]=f[2] *g[2];
	}

	Vector3.scale=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		e[0]=f[0] *b;
		e[1]=f[1] *b;
		e[2]=f[2] *b;
	}

	Vector3.lerp=function(a,b,t,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements;
		var ax=f[0],ay=f[1],az=f[2];
		e[0]=ax+t *(g[0]-ax);
		e[1]=ay+t *(g[1]-ay);
		e[2]=az+t *(g[2]-az);
	}

	Vector3.transformV3ToV3=function(vector,transform,result){
		var intermediate=Vector3._tempVector4;
		Vector3.transformV3ToV4(vector,transform,intermediate);
		var intermediateElem=intermediate.elements;
		var resultElem=result.elements;
		resultElem[0]=intermediateElem[0];
		resultElem[1]=intermediateElem[1];
		resultElem[2]=intermediateElem[2];
	}

	Vector3.transformV3ToV4=function(vector,transform,result){
		var vectorElem=vector.elements;
		var vectorX=vectorElem[0];
		var vectorY=vectorElem[1];
		var vectorZ=vectorElem[2];
		var transformElem=transform.elements;
		var resultElem=result.elements;
		resultElem[0]=(vectorX *transformElem[0])+(vectorY *transformElem[4])+(vectorZ *transformElem[8])+transformElem[12];
		resultElem[1]=(vectorX *transformElem[1])+(vectorY *transformElem[5])+(vectorZ *transformElem[9])+transformElem[13];
		resultElem[2]=(vectorX *transformElem[2])+(vectorY *transformElem[6])+(vectorZ *transformElem[10])+transformElem[14];
		resultElem[3]=(vectorX *transformElem[3])+(vectorY *transformElem[7])+(vectorZ *transformElem[11])+transformElem[15];
	}

	Vector3.TransformNormal=function(normal,transform,result){
		var normalElem=normal.elements;
		var normalX=normalElem[0];
		var normalY=normalElem[1];
		var normalZ=normalElem[2];
		var transformElem=transform.elements;
		var resultElem=result.elements;
		resultElem[0]=(normalX *transformElem[0])+(normalY *transformElem[4])+(normalZ *transformElem[8]);
		resultElem[1]=(normalX *transformElem[1])+(normalY *transformElem[5])+(normalZ *transformElem[9]);
		resultElem[2]=(normalX *transformElem[2])+(normalY *transformElem[6])+(normalZ *transformElem[10]);
	}

	Vector3.transformCoordinate=function(coordinate,transform,result){
		var coordinateElem=coordinate.elements;
		var coordinateX=coordinateElem[0];
		var coordinateY=coordinateElem[1];
		var coordinateZ=coordinateElem[2];
		var transformElem=transform.elements;
		var w=((coordinateX *transformElem[3])+(coordinateY *transformElem[7])+(coordinateZ *transformElem[11])+transformElem[15]);
		var resultElem=result.elements;
		resultElem[0]=(coordinateX *transformElem[0])+(coordinateY *transformElem[4])+(coordinateZ *transformElem[8])+transformElem[12] / w;
		resultElem[1]=(coordinateX *transformElem[1])+(coordinateY *transformElem[5])+(coordinateZ *transformElem[9])+transformElem[13] / w;
		resultElem[2]=(coordinateX *transformElem[2])+(coordinateY *transformElem[6])+(coordinateZ *transformElem[10])+transformElem[14] / w;
	}

	Vector3.Clamp=function(value,min,max,out){
		var valuee=value.elements;
		var x=valuee[0];
		var y=valuee[1];
		var z=valuee[2];
		var mine=min.elements;
		var mineX=mine[0];
		var mineY=mine[1];
		var mineZ=mine[2];
		var maxe=max.elements;
		var maxeX=maxe[0];
		var maxeY=maxe[1];
		var maxeZ=maxe[2];
		var oute=out.elements;
		x=(x > maxeX)? maxeX :x;
		x=(x < mineX)? mineX :x;
		y=(y > maxeY)? maxeY :y;
		y=(y < mineY)? mineY :y;
		z=(z > maxeZ)? maxeZ :z;
		z=(z < mineZ)? mineZ :z;
		oute[0]=x;
		oute[1]=y;
		oute[2]=z;
	}

	Vector3.add=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=f[0]+g[0];
		e[1]=f[1]+g[1];
		e[2]=f[2]+g[2];
	}

	Vector3.subtract=function(a,b,o){
		var oe=o.elements;
		var ae=a.elements;
		var be=b.elements;
		oe[0]=ae[0]-be[0];
		oe[1]=ae[1]-be[1];
		oe[2]=ae[2]-be[2];
	}

	Vector3.cross=function(a,b,o){
		var ae=a.elements;
		var be=b.elements;
		var oe=o.elements;
		var ax=ae[0],ay=ae[1],az=ae[2],bx=be[0],by=be[1],bz=be[2];
		oe[0]=ay *bz-az *by;
		oe[1]=az *bx-ax *bz;
		oe[2]=ax *by-ay *bx;
	}

	Vector3.dot=function(a,b){
		var ae=a.elements;
		var be=b.elements;
		var r=(ae[0] *be[0])+(ae[1] *be[1])+(ae[2] *be[2]);
		return r;
	}

	Vector3.equals=function(a,b){
		var ae=a.elements;
		var be=b.elements;
		return MathUtils3D.nearEqual(ae[0],be[0])&& MathUtils3D.nearEqual(ae[1],be[1])&& MathUtils3D.nearEqual(ae[2],be[2]);
	}

	Vector3.ZERO=new Vector3(0.0,0.0,0.0);
	Vector3.ONE=new Vector3(1.0,1.0,1.0);
	Vector3.NegativeUnitX=new Vector3(-1,0,0);
	Vector3.UnitX=new Vector3(1,0,0);
	Vector3.UnitY=new Vector3(0,1,0);
	Vector3.UnitZ=new Vector3(0,0,1);
	Vector3.ForwardRH=new Vector3(0,0,-1);
	Vector3.ForwardLH=new Vector3(0,0,1);
	Vector3.Up=new Vector3(0,1,0);
	Vector3.NAN=new Vector3(NaN,NaN,NaN);
	__static(Vector3,
	['_tempVector4',function(){return this._tempVector4=new Vector4();}
	]);
	return Vector3;
})(BaseVector)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/math/Vector4.as=======98.998987/98.998987
/**
*<code>Vector4</code> 类用于创建四维向量。
*/
//class laya.d3.math.Vector4 extends laya.d3.math.BaseVector
var Vector4=(function(_super){
	/**
	*创建一个 <code>Vector4</code> 实例。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*@param z Z轴坐标。
	*@param w W轴坐标。
	*/
	function Vector4(x,y,z,w){
		Vector4.__super.call(this);
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(z===void 0)&& (z=0);
		(w===void 0)&& (w=0);
		var v=this.elements=new Float32Array(4);
		v[0]=x;
		v[1]=y;
		v[2]=z;
		v[3]=w;
	}

	__class(Vector4,'laya.d3.math.Vector4',_super);
	var __proto=Vector4.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*从Array数组拷贝值。
	*@param array 数组。
	*@param offset 数组偏移。
	*/
	__proto.fromArray=function(array,offset){
		(offset===void 0)&& (offset=0);
		this.elements[0]=array[offset+0];
		this.elements[1]=array[offset+1];
		this.elements[2]=array[offset+2];
		this.elements[3]=array[offset+3];
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destVector4=destObject;
		var destE=destVector4.elements;
		var s=this.elements;
		destE[0]=s[0];
		destE[1]=s[1];
		destE[2]=s[2];
		destE[3]=s[3];
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destVector4=new this.constructor();
		this.cloneTo(destVector4);
		return destVector4;
	}

	/**
	*求四维向量的长度。
	*@return 长度。
	*/
	__proto.length=function(){
		return Math.sqrt(this.x *this.x+this.y *this.y+this.z *this.z+this.w *this.w);
	}

	/**
	*求四维向量长度的平方。
	*@return 长度的平方。
	*/
	__proto.lengthSquared=function(){
		return this.x *this.x+this.y *this.y+this.z *this.z+this.w *this.w;
	}

	/**
	*设置X轴坐标。
	*@param value X轴坐标。
	*/
	/**
	*获取X轴坐标。
	*@return X轴坐标。
	*/
	__getset(0,__proto,'x',function(){
		return this.elements[0];
		},function(value){
		this.elements[0]=value;
	});

	/**
	*设置Y轴坐标。
	*@param value Y轴坐标。
	*/
	/**
	*获取Y轴坐标。
	*@return Y轴坐标。
	*/
	__getset(0,__proto,'y',function(){
		return this.elements[1];
		},function(value){
		this.elements[1]=value;
	});

	/**
	*设置Z轴坐标。
	*@param value Z轴坐标。
	*/
	/**
	*获取Z轴坐标。
	*@return Z轴坐标。
	*/
	__getset(0,__proto,'z',function(){
		return this.elements[2];
		},function(value){
		this.elements[2]=value;
	});

	/**
	*设置W轴坐标。
	*@param value W轴坐标。
	*/
	/**
	*获取W轴坐标。
	*@return W轴坐标。
	*/
	__getset(0,__proto,'w',function(){
		return this.elements[3];
		},function(value){
		this.elements[3]=value;
	});

	Vector4.lerp=function(a,b,t,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements;
		var ax=f[0],ay=f[1],az=f[2],aw=f[3];
		e[0]=ax+t *(g[0]-ax);
		e[1]=ay+t *(g[1]-ay);
		e[2]=az+t *(g[2]-az);
		e[3]=aw+t *(g[3]-aw);
	}

	Vector4.transformByM4x4=function(vector4,m4x4,out){
		var ve=vector4.elements;
		var vx=ve[0];
		var vy=ve[1];
		var vz=ve[2];
		var vw=ve[3];
		var me=m4x4.elements;
		var oe=out.elements;
		oe[0]=vx *me[0]+vy *me[4]+vz *me[8]+vw *me[12];
		oe[1]=vx *me[1]+vy *me[5]+vz *me[9]+vw *me[13];
		oe[2]=vx *me[2]+vy *me[6]+vz *me[10]+vw *me[14];
		oe[3]=vx *me[3]+vy *me[7]+vz *me[11]+vw *me[15];
	}

	Vector4.equals=function(a,b){
		var ae=a.elements;
		var be=b.elements;
		return MathUtils3D.nearEqual(Math.abs(ae[0]),Math.abs(be[0]))&& MathUtils3D.nearEqual(Math.abs(ae[1]),Math.abs(be[1]))&& MathUtils3D.nearEqual(Math.abs(ae[2]),Math.abs(be[2]))&& MathUtils3D.nearEqual(Math.abs(ae[3]),Math.abs(be[3]));
	}

	Vector4.normalize=function(s,out){
		var se=s.elements;
		var oe=out.elements;
		var len=/*if err,please use iflash.method.xmlLength()*/s.length();
		if (len > 0){
			oe[0]=se[0] *len;
			oe[1]=se[1] *len;
			oe[2]=se[2] *len;
			oe[3]=se[3] *len;
		}
	}

	Vector4.add=function(a,b,out){
		var oe=out.elements;
		var ae=a.elements;
		var be=b.elements;
		oe[0]=ae[0]+be[0];
		oe[1]=ae[1]+be[1];
		oe[2]=ae[2]+be[2];
		oe[3]=ae[3]+be[3];
	}

	Vector4.subtract=function(a,b,out){
		var oe=out.elements;
		var ae=a.elements;
		var be=b.elements;
		oe[0]=ae[0]-be[0];
		oe[1]=ae[1]-be[1];
		oe[2]=ae[2]-be[2];
		oe[3]=ae[3]-be[3];
	}

	Vector4.multiply=function(a,b,out){
		var oe=out.elements;
		var ae=a.elements;
		var be=b.elements;
		oe[0]=ae[0] *be[0];
		oe[1]=ae[1] *be[1];
		oe[2]=ae[2] *be[2];
		oe[3]=ae[3] *be[3];
	}

	Vector4.scale=function(a,b,out){
		var oe=out.elements;
		var ae=a.elements;
		oe[0]=ae[0] *b;
		oe[1]=ae[1] *b;
		oe[2]=ae[2] *b;
		oe[3]=ae[3] *b;
	}

	Vector4.Clamp=function(value,min,max,out){
		var valuee=value.elements;
		var x=valuee[0];
		var y=valuee[1];
		var z=valuee[2];
		var w=valuee[3];
		var mine=min.elements;
		var mineX=mine[0];
		var mineY=mine[1];
		var mineZ=mine[2];
		var mineW=mine[3];
		var maxe=max.elements;
		var maxeX=maxe[0];
		var maxeY=maxe[1];
		var maxeZ=maxe[2];
		var maxeW=maxe[3];
		var oute=out.elements;
		x=(x > maxeX)? maxeX :x;
		x=(x < mineX)? mineX :x;
		y=(y > maxeY)? maxeY :y;
		y=(y < mineY)? mineY :y;
		z=(z > maxeZ)? maxeZ :z;
		z=(z < mineZ)? mineZ :z;
		w=(w > maxeW)? maxeW :w;
		w=(w < mineW)? mineW :w;
		oute[0]=x;
		oute[1]=y;
		oute[2]=z;
		oute[3]=w;
	}

	Vector4.distanceSquared=function(value1,value2){
		var value1e=value1.elements;
		var value2e=value2.elements;
		var x=value1e[0]-value2e[0];
		var y=value1e[1]-value2e[1];
		var z=value1e[2]-value2e[2];
		var w=value1e[3]-value2e[3];
		return (x *x)+(y *y)+(z *z)+(w *w);
	}

	Vector4.distance=function(value1,value2){
		var value1e=value1.elements;
		var value2e=value2.elements;
		var x=value1e[0]-value2e[0];
		var y=value1e[1]-value2e[1];
		var z=value1e[2]-value2e[2];
		var w=value1e[3]-value2e[3];
		return Math.sqrt((x *x)+(y *y)+(z *z)+(w *w));
	}

	Vector4.dot=function(a,b){
		var ae=a.elements;
		var be=b.elements;
		var r=(ae[0] *be[0])+(ae[1] *be[1])+(ae[2] *be[2])+(ae[3] *be[3]);
		return r;
	}

	Vector4.min=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=Math.min(f[0],g[0]);
		e[1]=Math.min(f[1],g[1]);
		e[2]=Math.min(f[2],g[2]);
		e[3]=Math.min(f[3],g[3]);
	}

	Vector4.max=function(a,b,out){
		var e=out.elements;
		var f=a.elements;
		var g=b.elements
		e[0]=Math.max(f[0],g[0]);
		e[1]=Math.max(f[1],g[1]);
		e[2]=Math.max(f[2],g[2]);
		e[3]=Math.max(f[3],g[3]);
	}

	__static(Vector4,
	['ZERO',function(){return this.ZERO=new Vector4();},'ONE',function(){return this.ONE=new Vector4(1.0,1.0,1.0,1.0);},'UnitX',function(){return this.UnitX=new Vector4(1.0,0.0,0.0,0.0);},'UnitY',function(){return this.UnitY=new Vector4(0.0,1.0,0.0,0.0);},'UnitZ',function(){return this.UnitZ=new Vector4(0.0,0.0,1.0,0.0);},'UnitW',function(){return this.UnitW=new Vector4(0.0,0.0,0.0,1.0);}
	]);
	return Vector4;
})(BaseVector)


	//file:///H:/work/sniper/layaLib/src/fs/utils/RoomReadyMsg.as=======98.998966/98.998966
//class fs.utils.RoomReadyMsg extends laya.data.MessageBase
var RoomReadyMsg=(function(_super){
	function RoomReadyMsg(){
		this.userID=NaN;
		RoomReadyMsg.__super.call(this);
	}

	__class(RoomReadyMsg,'fs.utils.RoomReadyMsg',_super);
	__static(RoomReadyMsg,
	['DES',function(){return this.DES=
		[
		["userID",5],];}
	]);
	return RoomReadyMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/geometry/GeometryBox.as=======98.998965/98.998965
/**
*...
*@author
*/
//class laya.d3.physics.geometry.GeometryBox extends laya.d3.physics.geometry.Geometry
var GeometryBox=(function(_super){
	function GeometryBox(size,center,scale){
		this._long=NaN;
		this._width=NaN;
		this._height=NaN;
		GeometryBox.__super.call(this,"Box");
		this._long=size.x *scale.x;
		this._height=size.y *scale.y;
		this._width=size.z *scale.z;
		Vector3.multiply(center,scale,this._center);
	}

	__class(GeometryBox,'laya.d3.physics.geometry.GeometryBox',_super);
	var __proto=GeometryBox.prototype;
	__proto.calculateDefaultMass=function(){
		return this._long *this._width *this._height;
	}

	__getset(0,__proto,'long',function(){
		return this._long;
		},function(value){
		this._long=value;
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	return GeometryBox;
})(Geometry)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/geometry/GeometryCapsule.as=======98.998964/98.998964
/**
*...
*@author
*/
//class laya.d3.physics.geometry.GeometryCapsule extends laya.d3.physics.geometry.Geometry
var GeometryCapsule=(function(_super){
	function GeometryCapsule(height,radius,center,scale){
		this._radius=NaN;
		this._height=NaN;
		GeometryCapsule.__super.call(this,"Capsule");
		this._height=height *scale.y;
		this._radius=radius *Math.max(scale.x,scale.z);
		Vector3.multiply(center,scale,this._center);
	}

	__class(GeometryCapsule,'laya.d3.physics.geometry.GeometryCapsule',_super);
	var __proto=GeometryCapsule.prototype;
	__proto.calculateDefaultMass=function(){
		return 0;
	}

	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		this._radius=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	return GeometryCapsule;
})(Geometry)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/physics/geometry/GeometrySphere.as=======98.998963/98.998963
/**
*...
*@author
*/
//class laya.d3.physics.geometry.GeometrySphere extends laya.d3.physics.geometry.Geometry
var GeometrySphere=(function(_super){
	function GeometrySphere(radius,center,scale){
		this._radius=NaN;
		GeometrySphere.__super.call(this,"Sphere");
		var maxScale=Math.max(Math.max(scale.x,scale.y),scale.z);
		this._radius=radius *maxScale;
		Vector3.multiply(center,scale,this._center);
	}

	__class(GeometrySphere,'laya.d3.physics.geometry.GeometrySphere',_super);
	var __proto=GeometrySphere.prototype;
	__proto.calculateDefaultMass=function(){
		return (4 / 3)*Math.PI *Math.pow(this._radius,3);
	}

	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		this._radius=value;
	});

	return GeometrySphere;
})(Geometry)


	//file:///H:/work/sniper/layaLib/src/laya/libs/path/PathBase.as=======98.998962/98.998962
/**
*路径基类，实现了路径播放，更新，回收接口
*路径播放完毕会派发"complete"事件
*实现具体路径只需继承此类，重写update方法即可
*引擎本身提供了几个通用路径的实现，比如直线路径，抛物线路径等，可以哪来直接使用
*/
//class laya.libs.path.PathBase extends laya.events.EventDispatcher
var PathBase=(function(_super){
	function PathBase(){
		/**是否在播放*/
		this.isPlaying=false;
		/**时间间隔*/
		this.delta=NaN;
		/**完成回调函数*/
		this.callback=null;
		// trace("start  path update");
		this._timer=null;
		PathBase.__super.call(this);
	}

	__class(PathBase,'laya.libs.path.PathBase',_super);
	var __proto=PathBase.prototype;
	/**更新路径，此函数在start被调用后，每帧都会执行。重写此方法，实现路径运动逻辑*/
	__proto.update=function(){}
	/**开始播放路径*/
	__proto.start=function(timer){
		if (this.isPlaying)return;
		this.isPlaying=true;
		this._timer=timer;
		this._timer.frameLoop(1,this,this.update);
	}

	/**停止播放路径*/
	__proto.stop=function(){
		this.isPlaying=false;
		this._timer && this._timer.clear(this,this.update);
	}

	/**立即停止并派发结束事件*/
	__proto.complete=function(){
		this.stop();
		this.callback && this.callback.run();
	}

	/**回收到对象池，回收名称为类名*/
	__proto.recover=function(){
		this.offAll();
		this.stop();
		this._timer=null;
		Pool.recover(this["constructor"].name,this);
	}

	return PathBase;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/ShaderPass.as=======98.998901/98.998901
/**
*<code>ShaderPass</code> 类用于实现ShaderPass。
*/
//class laya.d3.shader.ShaderPass extends laya.webgl.utils.ShaderCompile
var ShaderPass=(function(_super){
	function ShaderPass(owner,vs,ps){
		/**@private */
		//this._owner=null;
		/**@private */
		//this._cacheSharders=null;
		/**@private */
		//this._publicValidDefine=0;
		/**@private */
		//this._spriteValidDefine=0;
		/**@private */
		//this._materialValidDefine=0;
		/**@private */
		//this._validDefineMap=null;
		this._owner=owner;
		this._cacheSharders=[];
		this._publicValidDefine=0;
		this._spriteValidDefine=0;
		this._materialValidDefine=0;
		this._validDefineMap={};
		ShaderPass.__super.call(this,vs,ps,null,this._validDefineMap);
		var publicDefineMap=owner._publicDefinesMap;
		var spriteDefineMap=owner._spriteDefinesMap;
		var materialDefineMap=owner._materialDefinesMap;
		for (var k in this._validDefineMap){
			if (publicDefineMap[k] !=null)
				this._publicValidDefine |=publicDefineMap[k];
			else if (spriteDefineMap[k] !=null)
			this._spriteValidDefine |=spriteDefineMap[k];
			else if (materialDefineMap[k] !=null)
			this._materialValidDefine |=materialDefineMap[k];
		}
	}

	__class(ShaderPass,'laya.d3.shader.ShaderPass',_super);
	var __proto=ShaderPass.prototype;
	/**
	*@private
	*/
	__proto._definesToNameDic=function(value,int2Name){
		var o={};
		var d=1;
		for (var i=0;i < 32;i++){
			d=1 << i;
			if (d > value)break ;
			if (value & d){
				var name=int2Name[d];
				o[name]="";
			}
		}
		return o;
	}

	/**
	*@private
	*/
	__proto.withCompile=function(publicDefine,spriteDefine,materialDefine){
		publicDefine &=this._publicValidDefine;
		spriteDefine &=this._spriteValidDefine;
		materialDefine &=this._materialValidDefine;
		var shader;
		var spriteDefShaders,materialDefShaders;
		spriteDefShaders=this._cacheSharders[publicDefine];
		if (spriteDefShaders){
			materialDefShaders=spriteDefShaders[spriteDefine];
			if (materialDefShaders){
				shader=materialDefShaders[materialDefine];
				if (shader)
					return shader;
				}else {
				materialDefShaders=spriteDefShaders[spriteDefine]=[];
			}
			}else {
			spriteDefShaders=this._cacheSharders[publicDefine]=[];
			materialDefShaders=spriteDefShaders[spriteDefine]=[];
		};
		var publicDefGroup=this._definesToNameDic(publicDefine,this._owner._publicDefines);
		var spriteDefGroup=this._definesToNameDic(spriteDefine,this._owner._spriteDefines);
		var materialDefGroup=this._definesToNameDic(materialDefine,this._owner._materialDefines);
		var key;
		if (Shader3D.debugMode){
			var publicDefGroupStr="";
			for (key in publicDefGroup)
			publicDefGroupStr+=key+" ";
			var spriteDefGroupStr="";
			for (key in spriteDefGroup)
			spriteDefGroupStr+=key+" ";
			var materialDefGroupStr="";
			for (key in materialDefGroup)
			materialDefGroupStr+=key+" ";
			if (!WebGL.shaderHighPrecision)
				publicDefine+=Shader3D.SHADERDEFINE_HIGHPRECISION;
			console.log("Shader3DDebugMode---(Name:"+this._owner._name+" PassIndex:"+this._owner._passes.indexOf(this)+" PublicDefine:"+publicDefine+" SpriteDefine:"+spriteDefine+" MaterialDefine:"+materialDefine+" PublicDefineGroup:"+publicDefGroupStr+" SpriteDefineGroup:"+spriteDefGroupStr+"MaterialDefineGroup: "+materialDefGroupStr+")---ShaderCompile3DDebugMode");
		};
		var defMap={};
		var defineStr="";
		if (publicDefGroup){
			for (key in publicDefGroup){
				defineStr+="#define "+key+"\n";
				defMap[key]=true;
			}
		}
		if (spriteDefGroup){
			for (key in spriteDefGroup){
				defineStr+="#define "+key+"\n";
				defMap[key]=true;
			}
		}
		if (materialDefGroup){
			for (key in materialDefGroup){
				defineStr+="#define "+key+"\n";
				defMap[key]=true;
			}
		};
		var vs=this._VS.toscript(defMap,[]);
		var vsVersion='';
		if (vs[0].indexOf('#version')==0){
			vsVersion=vs[0]+'\n';
			vs.shift();
		};
		var ps=this._PS.toscript(defMap,[]);
		var psVersion='';
		if (ps[0].indexOf('#version')==0){
			psVersion=ps[0]+'\n';
			ps.shift();
		}
		shader=new ShaderInstance(vsVersion+defineStr+vs.join('\n'),psVersion+defineStr+ps.join('\n'),this._owner._attributeMap,this._owner._uniformMap);
		materialDefShaders[materialDefine]=shader;
		return shader;
	}

	return ShaderPass;
})(ShaderCompile)


	//file:///H:/work/sniper/layaLib/src/laya/libs/group/Group.as=======98.998898/98.998898
/**
*分组
*@author wulongbin
*
*/
//class laya.libs.group.Group extends laya.libs.recover.BaseRecovery
var Group=(function(_super){
	function Group(){
		/**分组标记*/
		this.skillGroup=NaN;
		/**分组过滤*/
		this.skillMask=NaN;
		this.children=[];
		Group.__super.call(this);
	}

	__class(Group,'laya.libs.group.Group',_super);
	var __proto=Group.prototype;
	__proto.init=function(obj){
		if(obj){
			this.skillGroup=parseInt(obj.skillGroup,2);
			this.skillMask=parseInt(obj.skillMask,2);
		}
		else{
			this.skillGroup=this.skillMask=0;
		}
	}

	__proto.addGameObj=function(obj){
		this.children.push(obj);
	}

	__proto.removeGameObj=function(obj){
		var index=this.children.indexOf(obj);
		if(index>=0){
			this.children.splice(index,1);
		}
	}

	__proto.onDestruct=function(){
		for(var i=this.children.length-1;i>=0;i--){
			(this.children [i]).groupID=-1;
			(this.children [i]).parentGroupID=-1;
		}
		this.children.length=0;
	}

	/**
	*技能分组是否匹配
	*@param to
	*@return
	*
	*/
	__proto.skillMatch=function(to){
		return (this.skillMask&to.skillGroup)!=0;
	}

	/**
	*将children 添加至 out中
	*@param out
	*
	*/
	__proto.pull=function(out){
		out.push.apply(out,this.children);
	}

	return Group;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/group/SearchResult.as=======98.998895/98.998895
/**
*搜索结果
*@author wulongbin
*
*/
//class laya.libs.group.SearchResult extends laya.libs.recover.BaseRecovery
var SearchResult=(function(_super){
	function SearchResult(){
		this.array=[];
		SearchResult.__super.call(this);
	}

	__class(SearchResult,'laya.libs.group.SearchResult',_super);
	var __proto=SearchResult.prototype;
	__proto.onConstruct=function(){}
	__proto.onDestruct=function(){
		this.array.length=0;
	}

	/**
	*根据距离过滤
	*@param pos 当前位置
	*@param distance 距离
	*@param distanceType 距离计算方式 （枚举：DistanceUtils）
	*@param needsort 是否按由近及远排序
	*@return
	*
	*/
	__proto.filterByDistance=function(pos,distance,distanceType,needSort){
		(needSort===void 0)&& (needSort=false);
		return this;
	}

	return SearchResult;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/scripts/Script.as=======98.998873/98.998873
//class laya.libs.scripts.Script extends laya.libs.recover.BaseRecovery
var Script$1=(function(_super){
	var StopInfo;
	function Script(){
		this.context=null;
		this.isRecoveryContext=false;
		this.scriptCode=null;
		this._isRunning=false;
		this._completeCB=null;
		this._isStop=null;
		Script.__super.call(this);
	}

	__class(Script,'laya.libs.scripts.Script',_super,'Script$1');
	var __proto=Script.prototype;
	__proto.onDestruct=function(){
		if(this._isRunning){
			throw '脚本正在运行中，无法释放，请先调用stop()暂停脚本!';
		}
		if(this.isRecoveryContext){
			this.context.recovery();
			this.isRecoveryContext=false;
		}
		this.context=null;
	}

	__proto.resetCmds=function(code){
		this.scriptCode=code;
	}

	__proto.run=function(context,param,completeCB){
		if(this._isRunning)throw 'script is running!';
		this._isRunning=true;
		this._isStop=new StopInfo;
		this.context=context;
		this._completeCB=completeCB;
		context["complete"]=Utils.bind(this.onComplete,this);
		Script._tempParam.length=0;
		Script._tempParam.push(context);
		if(param){
			Script._tempParam.push.apply(Script._tempParam,param);
		}
		this.scriptCode.func.apply(this._isStop,Script._tempParam);
	}

	__proto.onComplete=function(){
		this._isRunning=false;
		this._completeCB&&this._completeCB(this);
	}

	__proto.stop=function(){
		this._isRunning=false;
		this._completeCB=null;
		this._isStop.stop();
	}

	Script._tempParam=[];
	Script.__init$=function(){
		//class StopInfo
		StopInfo=(function(){
			function StopInfo(){
				this.value=false;
			}
			__class(StopInfo,'');
			var __proto=StopInfo.prototype;
			__proto.stop=function(){
				this.value=true;
			}
			__proto.isStop=function(){
				return this.value;
			}
			return StopInfo;
		})()
	}

	return Script;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/BezierImage.as=======98.998868/98.998868
/**
*...
*@author
*/
//class laya.libs.ui.BezierImage extends laya.libs.recover.BaseRecovery
var BezierImage=(function(_super){
	function BezierImage(){
		/**起始点x*/
		this.x=0;
		/**起始点y*/
		this.y=0;
		this.tx=0;
		this.ty=0;
		this.speed=2;
		this.texture=null;
		this.width=0;
		this.height=0;
		//public var bezierPoints:Array;
		this.index=0;
		this.locusArr=[];
		this.posArr=[];
		/**轨迹数组长度*/
		this._locusIndex=0;
		//private static var _pool:Object={};
		this._isFinish=false;
		this._disappear=null;
		this._finish=null;
		BezierImage.__super.call(this);
	}

	__class(BezierImage,'laya.libs.ui.BezierImage',_super);
	var __proto=BezierImage.prototype;
	__proto.onPaint=function(ctx){
		var target;
		var index=0;
		for (var i=0;i < this.locusArr.length;i++){
			target=this.locusArr[i];
			index=i *2;
			if (this._locusIndex >=target.length){
				this._disappear && this._disappear.run();
				this.locusArr.splice(i,1)
				this.posArr.splice(index,2);
				if (this.locusArr.length==0){
					this._isFinish=true;
					this._locusIndex=0;
					this._finish && this._finish.run();
					break ;
				}
				i--;
				}else{
				this.posArr[index]=target[this._locusIndex];
				this.posArr[index+1]=target[this._locusIndex+1];
			}
		}
		if(!this._isFinish){
			ctx.drawTextures(this.texture,this.posArr,this.tx,this.ty);
			this._locusIndex+=this.speed;
		}
		return this._isFinish;
	}

	/**
	*获取贝塞尔曲线上的点。
	*@param pList 控制点[x0,y0,x1,y1...]
	*@param disappear 每个单位消失时的回调
	*@param finish 所有单位消失时的回调
	*@param inSertCount 每次曲线的插值数量
	*@param count 计算二或三次贝塞尔点
	*/
	__proto.setParam=function(pList,inSertCount,count){
		(inSertCount===void 0)&& (inSertCount=5);
		(count===void 0)&& (count=2);
		this._isFinish=false;
		if (this.width)
			this.texture.width=this.width;
		if (this.height)
			this.texture.height=this.height;
		this.locusArr.push(Bezier.I.getBezierPoints(pList,inSertCount,count));
	}

	__proto.setCallback=function(disappear,finish){
		this._disappear=disappear;
		this._finish=finish;
	}

	__proto.pos=function(_x,_y){
		this.x=_x;
		this.y=_y;
	}

	__proto.size=function(_w,_h){
		this.width=_w;
		this.height=_h;
	}

	return BezierImage;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/ESprite.as=======98.998866/98.998866
/**
*...
*@author
*/
//class laya.libs.ui.ESprite extends laya.libs.recover.BaseRecovery
var ESprite=(function(_super){
	function ESprite(){
		this._x=0;
		this._y=0;
		this._alpha=1;
		this._width=0;
		this._height=0;
		this._scaleX=1;
		this._scaleY=1;
		this._tx=0;
		this._ty=0;
		this.isFinish=false;
		ESprite.__super.call(this);
	}

	__class(ESprite,'laya.libs.ui.ESprite',_super);
	var __proto=ESprite.prototype;
	Laya.imps(__proto,{"laya.libs.ui.ICustomPaint":true})
	__proto.pos=function(x,y){
		this._x=x;
		this._y=y;
	}

	__proto.offset=function(x,y){
		this._tx=x;
		this._ty=y;
	}

	/**
	*更新自定义渲染
	*@param ctx
	*@return
	*/
	__proto.onPaint=function(ctx){
		return this.isFinish;
	}

	__proto.size=function(width,height){
		this._width=width;
		this._height=height;
	}

	__proto.scale=function(scaleX,scaleY){
		this._scaleX=scaleX;
		this._scaleY=scaleY;
	}

	/**
	*<p>延迟运行指定的函数。</p>
	*<p>在控件被显示在屏幕之前调用，一般用于延迟计算数据。</p>
	*@param method 要执行的函数的名称。例如，functionName。
	*@param args 传递给 <code>method</code> 函数的可选参数列表。
	*
	*@see #runCallLater()
	*/
	__proto.callLater=function(method,args){
		Laya.timer.callLater(this,method,args);
	}

	/**
	*<p>如果有需要延迟调用的函数（通过 <code>callLater</code> 函数设置），则立即执行延迟调用函数。</p>
	*@param method 要执行的函数名称。例如，functionName。
	*@see #callLater()
	*/
	__proto.runCallLater=function(method){
		Laya.timer.runCallLater(this,method);
	}

	__proto.onDestruct=function(){
		this._alpha=1;
		this.isFinish=false;
	}

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this._width=value;
	});

	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		this._x=value;
	});

	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		this._y=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	__getset(0,__proto,'scaleX',function(){
		return this._scaleX;
		},function(value){
		this._scaleX=value;
	});

	__getset(0,__proto,'alpha',function(){
		return this._alpha;
		},function(value){
		this._alpha=value;
	});

	__getset(0,__proto,'scaleY',function(){
		return this._scaleY;
		},function(value){
		this._scaleY=value;
	});

	__getset(0,__proto,'offsetX',function(){
		return this._tx;
		},function(value){
		this._tx=value;
	});

	__getset(0,__proto,'offsetY',function(){
		return this._ty;
		},function(value){
		this._ty=value;
	});

	return ESprite;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/EProgressBar.as=======98.998863/98.998863
/**
*...
*@author
*/
//class laya.libs.ui.EProgressBar extends laya.libs.recover.BaseRecovery
var EProgressBar=(function(_super){
	function EProgressBar(){
		this._bg=null;
		this._bar=null;
		/**启用多条时的临时条*/
		this._bar2=null;
		this._tween=null;
		this._tween2=null;
		this._index=0;
		this._enableMore=0;
		this._playNum=0;
		this._bars=[];
		this._obj={};
		this._value=1;
		this._isUpdate=1;
		this._enableTween=false;
		this._hpBarOffsetX=0;
		this._hpBarOffsetY=0;
		this._scaleX=1;
		this._scaleY=1;
		this.x=0;
		this.y=0;
		this.tx=0;
		this.ty=0;
		/**设置进度条最大条数*/
		this.barMaxNum=0;
		this.isFinish=false;
		/**缓动延迟时间*/
		this.tweenDelay=50;
		/**临时条的透明度*/
		this.bar2Alpha=0.5;
		/**缓动时间*/
		this.tweenTimer=500;
		/**缓动函数*/
		this.tweenEase=null;
		this._enableText=false;
		this.fontSize=12;
		this.fontColor='#FFFFFF';
		this.maxValue=0;
		this._curValue=0;
		EProgressBar.__super.call(this);
		this.headPosition=new Vector3();
	}

	__class(EProgressBar,'laya.libs.ui.EProgressBar',_super);
	var __proto=EProgressBar.prototype;
	__proto.onPaint=function(ctx){
		if (!this._bg && !this._bar)
			return false;
		var _x=this.x+this._scaleX *((this._bg.width-this._bar.width)/ 2+this._hpBarOffsetX+this.tx);
		var _y=this.y+this._scaleY *((this._bg.height-this._bar.height)/ 2+this._hpBarOffsetY+this.ty);
		var w=NaN;
		ctx.drawTexture(this._bg,this.x+this._scaleX *this.tx,this.y+this._scaleY *this.ty,this._scaleX *this._bg.width,this._scaleY *this._bg.height);
		this._bar2 && ctx.drawTexture(this._bar2,_x,_y,this._bar2.width,this._bar.height);
		if (this._enableTween){
			ctx.globalAlpha=this.bar2Alpha;
			if (this._obj.width==0)
				this._obj.width=1e-10;
			ctx.drawTexture(this._bar,_x,_y,this._scaleX *this._obj.width,this._scaleY *this._bar.height);
			ctx.globalAlpha=1;
		}
		w=this._scaleX *this._bar.width *this._value;
		if (w==0)
			w=1e-10;
		ctx.drawTexture(this._bar,_x,_y,w,this._scaleY *this._bar.height);
		if (this.enableText){
			ctx.fillText(this._curValue+'/'+this.maxValue,_x+this._scaleX *this._bar.width / 8,_y+(this._scaleY *this._bar.height-this.fontSize)/ 2,this.fontSize+"px Arial Bold",this.fontColor,'left');
			ctx.fillText((this.barMaxNum-this._playNum)-1 <=0 ? '' :'X'+(this.barMaxNum-this._playNum),_x+this._scaleX *(this._bar.width-this._bar.width / 8)+this._bar.width / 8,_y+this._scaleY *(this._bar.height-this.fontSize)/ 2,this.fontSize+"px Arial Bold",this.fontColor,'left');
		}
		return this.isFinish;
	}

	__proto.setScale=function(scaleX,scaleY){
		this._scaleX=scaleX;
		this._scaleY=scaleY;
	}

	/*override public function customRender(context:RenderContext,x:Number,y:Number):void{
	_renderType |=RenderSprite.CUSTOM;
	var ctx:WebGLContext2D=context.ctx;
	var _x:Number=(_bg.width-_bar.width)/ 2+_hpBarOffsetX+tx+x;
	var _y:Number=(_bg.height-_bar.height)/ 2+_hpBarOffsetY+ty+y;
	var w:Number;
	ctx.drawTexture(_bg,x+tx,y+ty,_bg.width,_bg.height,0,0);
	_bar2 && ctx.drawTexture(_bar2,_x,_y,_bar2.width,_bar.height,0,0);
	if (enableTween){
		ctx.globalAlpha=bar2Alpha;
		if (_obj.width==0)
			_obj.width=1e-10;
		ctx.drawTexture(_bar,_x,_y,_obj.width,_bar.height,0,0);
		ctx.globalAlpha=1;
	}

	w=_bar.width *_value;
	if (w==0)
		w=1e-10;
	ctx.drawTexture(_bar,_x,_y,w,_bar.height,0,0);
}*/


__proto.offset=function(x,y){
	this.tx=x;
	this.ty=y;
}


__proto.setHPBarOffset=function(x,y){
	this._hpBarOffsetX=x;
	this._hpBarOffsetY=y;
}


__proto.pos=function(_x,_y){
	this.x=_x;
	this.y=_y;
}


/**
*多条状态切换进度条
*@param b 当前进度为0且当前为多条状态。
*/
__proto._changeBar=function(b){
	if (b && this._playNum <=this.barMaxNum){
		if (!this._value || this._value==1e-10){
			this._isUpdate=0;
			this._bar=this._getTexture(this._bars[this._index]);
			this._playNum++;
			if (this._playNum < this.barMaxNum-1){
				this.index++;
				this._bar2=this._getTexture(this._bars[this._index]);
			}else
			this._bar2=null;
			this._obj.playNum--;
			if (this._obj.playNum > 1)
				this.value=1e-10;
			else if (this._obj.playNum > 0)
			this.value=1-this._obj.playNum;
			else
			this.value=1e-10;
			if (this._enableMore && (this._value || this._value !=1e-10))
				this._obj.width=this._bar.width;
		}else
		this._obj.value=null
	}

}


/**
*<p>如果资源未加载，则抛错。</p>
*@param url 资源路径
*@return
*/
__proto._getTexture=function(url){
	if (!url || url=='')
		return null;
	var t=Laya.loader.getRes(url);
	if (!t){
		throw '资源未加载！url:'+url;
	}

	return t;
}


/**
*设置资源。
*/
__proto._setTexture=function(name,img){
	this[name]=img;
}


__proto.recover=function(){
	this._index=0;
	this._value=1;
	this._playNum=0;
	this._isUpdate=1;
	if (this._enableMore){
		this._bar=this._getTexture(this._bars[0]);
		this._bar2=this._getTexture(this._bars[1]);
	}

	this._obj.width=this._bar.width;
}


/**
*设置进度条皮肤，传入数组为多条状态
*@param value 对象的皮肤地址，以字符串单个或数组存放多个条。
*/
/**
*获取进度条对象。
*/
__getset(0,__proto,'bar',function(){
	return this._bar;
	},function(value){

	if ((typeof value=='string')){
		this._bar=this._getTexture(value);
		this._enableMore && (this._enableMore=0);
		}else {
		this._bars=value;
		this._enableMore=1;
		if (!this.barMaxNum)
			this.barMaxNum=this._bars.length;
		this._obj.curValue=this.barMaxNum;
		this._bar=this._getTexture(this._bars[this._index]);
		this.index++;
		this._bar2=this._getTexture(this._bars[this._index]);
	}

	this._enableTween && (this._obj.width=this._bar.width);
});


/**
*当前的进度量。
*<p><b>取值：</b>介于0和1之间。</p>
*/
__getset(0,__proto,'value',function(){
	return this._value;
	},function(num){

	if (this._value !=num){
		num=num > 1 ? 1 :num < 0 ? 0 :num;
		this._value=num;
		if (this._isUpdate && !this._obj.value && this._enableMore){
			if (this.enableText)
				this._curValue=Math.floor(this._value *this.maxValue);
			this._obj.playNum=this.barMaxNum-this._value *this.barMaxNum-this._playNum;
			if (this._obj.playNum > 1)
				this._value=0;
			else
			this._value=1-this._obj.playNum;
		}
		this._isUpdate=1;
		if (this._enableTween){
			if (this._tween)
				this._tween.complete();
			else
			this._tween=Pool.getItemByClass("tween",Tween);
			this._tween.to(this._obj,{'width':this._bar.width *this._value},this.tweenTimer,this.tweenEase,Handler.create(this,this._changeBar,[this._enableMore]),this.tweenDelay);
		}else
		this._changeBar(this._enableMore);
	}

});


/**
*获取背景条对象。
*/
__getset(0,__proto,'bg',function(){
	return this._bg;
	},function(value){

	this._bg=this._getTexture(value);
});


/**
*多条时当前条索引
*/
__getset(0,__proto,'index',function(){
	return this._index;
	},function(value){

	this._index=value >=this._bars.length ? 0 :value;
});


/**是否启用缓动*/
__getset(0,__proto,'enableTween',function(){
	return this._enableTween;
	},function(value){

	if (value && !this._obj.width && this._bar)
		this._obj.width=this._bar.width
	this._enableTween=value;
});


/**是否显示进度条相关文本*/
__getset(0,__proto,'enableText',function(){
	return this._enableText;
	},function(value){

	this._enableText=value;
	if (value){
		this._curValue=this.maxValue;
	}

});


return EProgressBar;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/net/MessageCenter.as=======98.998851/98.998851
/**
*消息中心（启动socket、消息监听、发送等）
*/
//class laya.game.client.net.MessageCenter extends laya.events.EventDispatcher
var MessageCenter=(function(_super){
	function MessageCenter(){
		/***游戏socket***/
		this.socket=null;
		this._msgs=[];
		this._isBlock=false;
		MessageCenter.__super.call(this);
	}

	__class(MessageCenter,'laya.game.client.net.MessageCenter',_super);
	var __proto=MessageCenter.prototype;
	/**
	*启动游戏客户端socket
	*@param ip 服务器IP
	*@param port 服务器端口
	*
	*@param onConnected
	*@param onClose
	*@param onError
	*/
	__proto.start=function(ip,port,onConnected,onClose,onError){
		this.socket=new GameSocket();
		this.socket.connect(ip,port);
		this.socket.on("message",this,this.onMessage);
		onConnected && this.socket.on("success",this,function(){
			onConnected.run();
		});
		onClose && this.socket.on("close",this,function(){
			onClose.run();
		});
		onError && this.socket.on("error",this,function(){
			onError.run();
		});
	}

	/**
	*服务器消息监听回调
	*@param msg 消息
	*
	*/
	__proto.onMessage=function(msg){
		if (msg.msgKey)this.add(msg.msgKey,msg);
	}

	/**
	*增加一条数据，同时派发相应事件
	*@param key 索引
	*@param data 数据
	*@param save 是否存储
	*/
	__proto.add=function(key,data){
		this._msgs.push(key,data);
		if (!this._isBlock){
			this._isBlock=true;
			while (this._msgs.length){
				var key=this._msgs.shift();
				var msg=this._msgs.shift();
				this.event(key,msg);
			}
			this._isBlock=false;
		}
	}

	/**
	*向服务端发送消息
	*@param msg
	*
	*/
	__proto.send=function(msg){
		this.socket && this.socket.send(msg);
	}

	MessageCenter.listen=function(clz,caller,fun,params){
		MessageCenter.I.on(MessageUtils.getClassKey(clz),caller,fun,params);
	}

	MessageCenter.unListen=function(clz,caller,fun,params){
		MessageCenter.I.off(MessageUtils.getClassKey(clz),caller,fun);
	}

	__static(MessageCenter,
	['I',function(){return this.I=new MessageCenter();}
	]);
	return MessageCenter;
})(EventDispatcher)


	//file:///H:/work/sniper/layaLib/src/tutorial/recover/A.as=======98.998848/98.998848
//class tutorial.recover.A extends laya.libs.recover.BaseRecovery
var A$2=(function(_super){
	function A(){
		this.b=null;
		A.__super.call(this);
	}

	__class(A,'tutorial.recover.A',_super,'A$2');
	var __proto=A.prototype;
	__proto.onConstruct=function(){
		console.log('A:onConstruct');
		this.b=CycleFactory.createObject2(B);
	}

	__proto.onDestruct=function(){
		console.log('A:onDestruct');
		this.b.recovery();
		this.b=null;
	}

	return A;
})(BaseRecovery)


	//file:///H:/work/sniper/layaLib/src/tutorial/recover/B.as=======98.998847/98.998847
//class tutorial.recover.B extends laya.libs.recover.BaseRecovery
var B=(function(_super){
	function B(){
		B.__super.call(this);
	}

	__class(B,'tutorial.recover.B',_super);
	var __proto=B.prototype;
	__proto.onConstruct=function(){
		console.log('B:onConstruct');
	}

	__proto.onDestruct=function(){
		console.log('B:onDestruct');
	}

	return B;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/AutoBitmap.as=======98.998847/98.998847
/**
*<code>AutoBitmap</code> 类是用于表示位图图像或绘制图形的显示对象。
*<p>封装了位置，宽高及九宫格的处理，供UI组件使用。</p>
*/
//class laya.ui.AutoBitmap extends laya.display.Graphics
var AutoBitmap=(function(_super){
	function AutoBitmap(){
		/**@private 是否自动缓存命令*/
		this.autoCacheCmd=true;
		/**@private 宽度*/
		this._width=0;
		/**@private 高度*/
		this._height=0;
		/**@private 源数据*/
		this._source=null;
		/**@private 网格数据*/
		this._sizeGrid=null;
		/**@private */
		this._isChanged=false;
		/**@private */
		this._offset=null;
		AutoBitmap.__super.call(this);
	}

	__class(AutoBitmap,'laya.ui.AutoBitmap',_super);
	var __proto=AutoBitmap.prototype;
	/**@inheritDoc */
	__proto.destroy=function(){
		_super.prototype.destroy.call(this);
		this._source=null;
		this._sizeGrid=null;
		this._offset=null;
	}

	/**@private */
	__proto._setChanged=function(){
		if (!this._isChanged){
			this._isChanged=true;
			Laya.timer.callLater(this,this.changeSource);
		}
	}

	/**
	*@private
	*修改纹理资源。
	*/
	__proto.changeSource=function(){
		this._isChanged=false;
		var source=this._source;
		if (!source || !source.bitmap)return;
		var width=this.width;
		var height=this.height;
		var sizeGrid=this._sizeGrid;
		var sw=source.sourceWidth;
		var sh=source.sourceHeight;
		if (!sizeGrid || (sw===width && sh===height)){
			this.cleanByTexture(source,this._offset ? this._offset[0] :0,this._offset ? this._offset[1] :0,width,height);
			}else {
			source.$_GID || (source.$_GID=Utils.getGID());
			var key=source.$_GID+"."+width+"."+height+"."+sizeGrid.join(".");
			if (Utils.isOKCmdList(WeakObject.I.get(key))){
				this.cmds=WeakObject.I.get(key);
				return;
			}
			this.clear();
			var top=sizeGrid[0];
			var right=sizeGrid[1];
			var bottom=sizeGrid[2];
			var left=sizeGrid[3];
			var repeat=sizeGrid[4];
			var needClip=false;
			if (width==sw){
				left=right=0;
			}
			if (height==sh){
				top=bottom=0;
			}
			if (left+right > width){
				var clipWidth=width;
				needClip=true;
				width=left+right;
				this.save();
				this.clipRect(0,0,clipWidth,height);
			}
			left && top && this.drawImage(AutoBitmap.getTexture(source,0,0,left,top),0,0,left,top);
			right && top && this.drawImage(AutoBitmap.getTexture(source,sw-right,0,right,top),width-right,0,right,top);
			left && bottom && this.drawImage(AutoBitmap.getTexture(source,0,sh-bottom,left,bottom),0,height-bottom,left,bottom);
			right && bottom && this.drawImage(AutoBitmap.getTexture(source,sw-right,sh-bottom,right,bottom),width-right,height-bottom,right,bottom);
			top && this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,0,sw-left-right,top),left,0,width-left-right,top);
			bottom && this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,sh-bottom,sw-left-right,bottom),left,height-bottom,width-left-right,bottom);
			left && this.drawBitmap(repeat,AutoBitmap.getTexture(source,0,top,left,sh-top-bottom),0,top,left,height-top-bottom);
			right && this.drawBitmap(repeat,AutoBitmap.getTexture(source,sw-right,top,right,sh-top-bottom),width-right,top,right,height-top-bottom);
			this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,top,sw-left-right,sh-top-bottom),left,top,width-left-right,height-top-bottom);
			if (needClip)this.restore();
			if (this.autoCacheCmd && !Render.isConchApp)WeakObject.I.set(key,this.cmds);
		}
		this._repaint();
	}

	__proto.drawBitmap=function(repeat,tex,x,y,width,height){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (width < 0.1 || height < 0.1)return;
		if (repeat && (tex.width !=width || tex.height !=height))this.fillTexture(tex,x,y,width,height);
		else this.drawImage(tex,x,y,width,height);
	}

	__proto.clear=function(recoverCmds){
		(recoverCmds===void 0)&& (recoverCmds=true);
		_super.prototype.clear.call(this,false);
	}

	/**
	*当前实例的有效缩放网格数据。
	*<p>如果设置为null,则在应用任何缩放转换时，将正常缩放整个显示对象。</p>
	*<p>数据格式：[上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)]。
	*<ul><li>例如：[4,4,4,4,1]</li></ul></p>
	*<p> <code>sizeGrid</code> 的值如下所示：
	*<ol>
	*<li>上边距</li>
	*<li>右边距</li>
	*<li>下边距</li>
	*<li>左边距</li>
	*<li>是否重复填充(值为0：不重复填充，1：重复填充)</li>
	*</ol></p>
	*<p>当定义 <code>sizeGrid</code> 属性时，该显示对象被分割到以 <code>sizeGrid</code> 数据中的"上边距,右边距,下边距,左边距" 组成的矩形为基础的具有九个区域的网格中，该矩形定义网格的中心区域。网格的其它八个区域如下所示：
	*<ul>
	*<li>矩形上方的区域</li>
	*<li>矩形外的右上角</li>
	*<li>矩形左侧的区域</li>
	*<li>矩形右侧的区域</li>
	*<li>矩形外的左下角</li>
	*<li>矩形下方的区域</li>
	*<li>矩形外的右下角</li>
	*<li>矩形外的左上角</li>
	*</ul>
	*同时也支持3宫格，比如0,4,0,4,1为水平3宫格，4,0,4,0,1为垂直3宫格，3宫格性能比9宫格高。
	*</p>
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._sizeGrid;
		},function(value){
		this._sizeGrid=value;
		this._setChanged();
	});

	/**
	*表示显示对象的宽度，以像素为单位。
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		if (this._source)return this._source.sourceWidth;
		return 0;
		},function(value){
		if (this._width !=value){
			this._width=value;
			this._setChanged();
		}
	});

	/**
	*表示显示对象的高度，以像素为单位。
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		if (this._source)return this._source.sourceHeight;
		return 0;
		},function(value){
		if (this._height !=value){
			this._height=value;
			this._setChanged();
		}
	});

	/**
	*对象的纹理资源。
	*@see laya.resource.Texture
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
		},function(value){
		if (value){
			this._source=value
			this._setChanged();
			}else {
			this._source=null;
			this.clear();
		}
	});

	AutoBitmap.getTexture=function(tex,x,y,width,height){
		if (width <=0)width=1;
		if (height <=0)height=1;
		tex.$_GID || (tex.$_GID=Utils.getGID())
		var key=tex.$_GID+"."+x+"."+y+"."+width+"."+height;
		var texture=WeakObject.I.get(key);
		if (!texture||!texture.source){
			texture=Texture.createFromTexture(tex,x,y,width,height);
			WeakObject.I.set(key,texture);
		}
		return texture;
	}

	return AutoBitmap;
})(Graphics)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/CCollision.as=======98.998839/98.998839
//class laya.game.libs.collision2D.CCollision extends laya.libs.recover.BaseRecovery
var CCollision=(function(_super){
	function CCollision(){
		this.shape1=null;
		this.shape2=null;
		CCollision.__super.call(this);
	}

	__class(CCollision,'laya.game.libs.collision2D.CCollision',_super);
	var __proto=CCollision.prototype;
	__proto.init=function(shape1,shape2){
		this.shape1=shape1;
		this.shape2=shape2;
	}

	__proto.clear=function(){
		this.shape1=this.shape2=null;
	}

	return CCollision;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CShape.as=======98.998833/98.998833
/**
*几何图形
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.shape.CShape extends laya.libs.recover.BaseRecovery
var CShape=(function(_super){
	function CShape(){
		this.ID=NaN;
		this.x=NaN;
		this.y=NaN;
		this.parent=null;
		this.root=null;
		this._rotation=NaN;
		CShape.__super.call(this);
	}

	__class(CShape,'laya.game.libs.collision2D.shape.CShape',_super);
	var __proto=CShape.prototype;
	__proto.onConstruct=function(){
		this.x=0;
		this.y=0;
		this._rotation=0;
	}

	__proto.pos=function(x,y){
		this.x=x;
		this.y=y;
	}

	__getset(0,__proto,'type',function(){
		return this.constructor.type;
	});

	/**
	*取值 （0-360）
	*@return
	*
	*/
	__getset(0,__proto,'rotation',function(){
		return this._rotation;
		},function(value){
		value=value%360;
		if(value<0){
			this._rotation=value+360;
		}
		else{
			this._rotation=value;
		}
	});

	return CShape;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/interactions/CharacterInteraction.as=======98.998787/98.998787
/**
*交互数据管理器
*@author wulongbin
*
*/
//class laya.game.client.interactions.CharacterInteraction extends laya.libs.recover.BaseRecovery
var CharacterInteraction=(function(_super){
	function CharacterInteraction(){
		this.lib={};
		this._interactionRoute=null;
		CharacterInteraction.__super.call(this);
		this._eventDispatcher=new EventDispatcher;
	}

	__class(CharacterInteraction,'laya.game.client.interactions.CharacterInteraction',_super);
	var __proto=CharacterInteraction.prototype;
	__proto.on=function(type,caller,method){
		this._eventDispatcher.on(type,caller,method);
	}

	__proto.off=function(type,caller,method){
		this._eventDispatcher.off(type,caller,method);
	}

	__proto.event=function(type,data){
		this._eventDispatcher.event(type,data);
	}

	__proto.reset=function(){
		var interaction;
		for(var $each_interaction in this.lib){
			interaction=this.lib[$each_interaction];
			interaction.reset();
		}
	}

	__proto.onDestruct=function(){
		this._interactionRoute=null;
	}

	__proto.registerInteraction=function(name,interaction){
		this.lib[name]=interaction;
		interaction.parent=this;
		interaction.name=name;
	}

	__proto.getInteraction=function(name){
		return this.lib[name];
	}

	__proto.setPress=function(name,isPress,extendData){
		var interaction=this.lib[name];
		if(!interaction)return;
		if(this._interactionRoute){
			this._interactionRoute.setPress(interaction,isPress,extendData);
		}
		else{
			interaction.setPress(isPress,extendData);
		}
	}

	__proto.getTimer=function(){
		return GameSystem.getServerTime();
	}

	__getset(0,__proto,'interactionRoute',function(){
		return this._interactionRoute;
		},function(value){
		this._interactionRoute=value;
	});

	return CharacterInteraction;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/StaticEffect3D.as=======98.998775/98.998775
//class laya.game.client.object.StaticEffect3D extends laya.libs.recover.BaseRecovery
var StaticEffect3D=(function(_super){
	function StaticEffect3D(){
		this.file=null;
		this.life=0;
		this.loop=false;
		//todo:还没有使用
		this.node=null;
		this.avatar=null;
		this.onLoadHandle=null;
		StaticEffect3D.__super.call(this);
		this.pos=new Vector3;
		this.rotate=new Vector3();
		this.onLoadHandle=new Handler(this,this.onLoaded);
	}

	__class(StaticEffect3D,'laya.game.client.object.StaticEffect3D',_super);
	var __proto=StaticEffect3D.prototype;
	/**
	*初始化
	*@param parentNode 添加到的节点
	*@param offset 初始偏移位置
	*@param rotate 初始旋转角度
	*@param isloop 是否循环
	*/
	__proto.onInit=function(parentNode,offset,rotate,isloop){
		(isloop===void 0)&& (isloop=false);
		this.node=this.node|| new Sprite3D();
		this.pos.toDefault();
		if (parentNode !=null && this.node.transform){
			parentNode.addChild(this.node);
		}
		this.loop=isloop;
		if(offset){
			offset.cloneTo(this.pos);
		}
		if(rotate){
			rotate.cloneTo(this.rotate);
		}
		if(this.life>0){
			Laya.timer.once(this.life,this,this.onPlayEnd);
		}
		this.load(this.file);
	}

	__proto.updatePos=function(){
		if(this.node.transform){
			this.node.transform.position=this.pos;
			this.node.transform.rotationEuler=this.rotate;
		}
	}

	__proto.onDestruct=function(){
		Laya.timer.clearAll(this);
		if(this.avatar){
			this.avatar.off("complete",this,this.onComplete);
			Sprite3DUtil.recovery(this.avatar);
			this.avatar=null;
		}
		else{
			Sprite3DUtil.clear(this.file,this.onLoadHandle);
		}
	}

	__proto.onPlayEnd=function(){
		this.onComplete();
	}

	__proto.load=function(url){
		this.file=url;
		Sprite3DUtil.load(url,this.onLoadHandle);
	}

	__proto.onLoaded=function(sprite3D){
		this.avatar=sprite3D;
		this.node.addChild(this.avatar);
		this.avatar.active=true;
		if(!this.loop){
			this.avatar.on("complete",this,this.onComplete);
		}
		this.updatePos();
	}

	__proto.onComplete=function(){
		this.recovery();
	}

	__proto.lookAt=function(targetPos,up){
		(this.node).transform.lookAt(targetPos,up||Vector3.Up);
		(this.node).transform.rotation.getYawPitchRoll(this.rotate);
		var temp=this.rotate.elements[0];
		this.rotate.elements[0]=this.rotate.elements[1];
		this.rotate.elements[1]=temp;
	}

	__getset(0,__proto,'x',function(){
		return this.pos.x;
		},function(value){
		this.pos.x=value;
		this.updatePos();
	});

	__getset(0,__proto,'y',function(){
		return this.pos.y;
		},function(value){
		this.pos.y=value;
		this.updatePos();
	});

	__getset(0,__proto,'pause',null,function(isPause){
		if(this.avatar)
			this.avatar.active=isPause;
	});

	__getset(0,__proto,'z',function(){
		return this.pos.z;
		},function(value){
		this.pos.z=value;
		this.updatePos();
	});

	StaticEffect3D.createStaticEffect3D=function(id){
		return CycleFactory.createByID("Effect",id);
	}

	return StaticEffect3D;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/ai/AIStateInfo.as=======98.998766/98.998766
//class laya.game.client.plugins.character.ai.AIStateInfo extends laya.libs.recover.BaseRecovery
var AIStateInfo=(function(_super){
	function AIStateInfo(){
		this.cd=NaN;
		this.callback=null;
		AIStateInfo.__super.call(this);
	}

	__class(AIStateInfo,'laya.game.client.plugins.character.ai.AIStateInfo',_super);
	var __proto=AIStateInfo.prototype;
	__proto.init=function(cd,cb){
		this.cd=cd;
		this.callback=cb;
	}

	return AIStateInfo;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/display/GraphicsGL.as=======98.998764/98.998764
//class laya.webgl.display.GraphicsGL extends laya.display.Graphics
var GraphicsGL=(function(_super){
	function GraphicsGL(){
		GraphicsGL.__super.call(this);
	}

	__class(GraphicsGL,'laya.webgl.display.GraphicsGL',_super);
	var __proto=GraphicsGL.prototype;
	__proto.setShader=function(shader){}
	//_saveToCmd(Render.context._setShader,[shader]);
	__proto.setIBVB=function(x,y,ib,vb,numElement,shader){}
	//_saveToCmd(Render.context._setIBVB,[x,y,ib,vb,numElement,shader]);
	__proto.drawParticle=function(x,y,ps){}
	return GraphicsGL;
})(Graphics)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/SceneManager.as=======98.998716/98.998716
/**
*场景管理器
*/
//class laya.game.client.scene.SceneManager extends laya.libs.recover.BaseRecovery
var SceneManager$1=(function(_super){
	function SceneManager(){
		this._sceneLib={};
		this._sceneID=1;
		this._bgSoundChannel=null;
		this._sceneParam=null;
		this._nextConfig=null;
		this._nextParam=null;
		this._cb=null;
		this._isChanging=false;
		this._isTween=false;
		this._nextBgName='';
		SceneManager.__super.call(this);
	}

	__class(SceneManager,'laya.game.client.scene.SceneManager',_super,'SceneManager$1');
	var __proto=SceneManager.prototype;
	__proto.onceSceneParam=function(){
		return this._sceneParam||(this._sceneParam=new SceneParam);
	}

	/**
	*创建场景
	*@param configid
	*@param param
	*@return
	*
	*/
	__proto.createScene=function(configid,param){
		var scene=CycleFactory.createByID("Scene",configid);
		if(!scene){
			throw "创建Scene失败，configid = "+configid;
		}
		if(param.ID){
			scene.ID=param.ID;
		}
		else{
			scene.ID='$_'+this._sceneID++;
		}
		this._sceneLib[scene.ID]=scene;
		SkillManager.instance.bind(scene);
		GameSystem.scene=scene;
		scene.onReady(param);
		return scene;
	}

	/**
	*切换场景
	*@param config
	*@param param
	*
	*/
	__proto.switchScene=function(config,param,cb){
		if(this._isChanging){
			throw '正在切换场景中!'
		}
		this._isChanging=true;
		this._nextConfig=config;
		this._nextParam=param;
		this._cb=cb;
		if(GameSystem.scene){
			GameSystem.game.hideScene(GameSystem.scene,Handler.create(this,this.hideSceneEnd));
		}
		else{
			this.hideSceneEnd();
		}
	}

	__proto.hideSceneEnd=function(){
		if (GameSystem.scene){
			GameSystem.scene.recovery();
		}
		this.createScene(this._nextConfig,this._nextParam);
		GameSystem.game.showScene(GameSystem.scene,Handler.create(this,this.showSceneEnd));
	}

	__proto.showSceneEnd=function(){
		this._isChanging=false;
		this._cb &&this._cb.run();
	}

	__proto.onReadyScene=function(scene,param){}
	__proto.playBackgroundMusic=function(name){
		this._nextBgName=name;
		if(this._isTween){
			return;
		}
		if(this._bgSoundChannel){
			this._isTween=true;
			Tween.to(this._bgSoundChannel,{volume:0},1000,null,Handler.create(this,this.onMusicClose));
		}
		else{
			this.onMusicClose();
		}
	}

	/**
	*销毁当前场景
	*/
	__proto.destroyCurrentScene=function(){
		if(GameSystem.scene){
			GameSystem.scene.recovery();
			GameSystem.scene=null;
		}
	}

	__proto.onMusicClose=function(){
		if(this._nextBgName){
			this._bgSoundChannel=GameSoundManager.instance.playMusic(this._nextBgName);
			if(this._bgSoundChannel){
				this._bgSoundChannel.volume=0;
				Tween.to(this._bgSoundChannel,{volume:1},1000,null,Handler.create(this,this.onMusicOpen));
			}
		}
		else{
			this._bgSoundChannel=null;
			this._isTween=false;
		}
	}

	__proto.onMusicOpen=function(){
		this._isTween=false;
	}

	SceneManager.SwitchScene=function(id,extendData){
		var sceneParam=SceneManager.I.onceSceneParam();
		sceneParam.setExtendData(extendData);
		SceneManager.I.switchScene(id,sceneParam);
	}

	__static(SceneManager,
	['I',function(){return this.I=new SceneManager();}
	]);
	return SceneManager;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/collision/SkillCollision.as=======98.998713/98.998713
/**
*技能碰撞检测
*@author wulongbin
*
*/
//class laya.game.client.skill.collision.SkillCollision extends laya.libs.recover.BaseRecovery
var SkillCollision=(function(_super){
	function SkillCollision(){
		this.skill=null;
		this.groupManager=null;
		this.from=null;
		this.needUpdatePos=false;
		this.offAngle=NaN;
		this.offDistance=NaN;
		/**最大捕获数量*/
		this.maxHitNum=0;
		/**是否开启：达到最大击杀数自动死亡*/
		this.autoDead=false;
		this._hits=new Array;
		this.pos=new Vector3;
		SkillCollision.__super.call(this);
	}

	__class(SkillCollision,'laya.game.client.skill.collision.SkillCollision',_super);
	var __proto=SkillCollision.prototype;
	/**
	*
	*@param skill 所属技能对象
	*@param from 碰撞来源对象
	*@param param 参数
	*
	*/
	__proto.init=function(skill,from,param,maxHitNum){
		(maxHitNum===void 0)&& (maxHitNum=1000000);
		this.autoDead=false;
		this.maxHitNum=maxHitNum;
		this.skill=skill;
		this.from=from;
		this.groupManager=skill.scene.groupManager;
		from.pos.value.cloneTo(this.pos);
		this.needUpdatePos=true;
		this.offDistance=this.offAngle=0;
		this.skill.eventDispatcher.on('dectory',this,this.destoryMe);
		from.on('Remove',this,this.destoryMe);
		this.doParam(param);
	}

	__proto.doParam=function(param){}
	__proto.off=function(offAngle,offDistance){
		this.needUpdatePos=false;
		this.offAngle=offAngle;
		this.offDistance=offDistance;
		this.updatePos();
	}

	__proto.updatePos=function(){
		this.from.pos.value.cloneTo(this.pos);
		if(this.offDistance==0)return;
		var angle=this.from.faceAngle+this.offAngle;
		var radiu=angle*MathUtils.PI1_180;
		if(GameSystem.is3D){
			this.pos.x+=this.offDistance*Math.sin(radiu);
			this.pos.z+=this.offDistance*Math.cos(radiu);
		}
		else{
			this.pos.x+=this.offDistance*Math.cos(radiu);
			this.pos.y+=this.offDistance*Math.sin(radiu);
		}
	}

	__proto.onDestruct=function(){
		this.skill.scene.timer.clear(this,this.onLifeEnd);
		this.skill.eventDispatcher.off('dectory',this,this.destoryMe);
		this.from.off('Remove',this,this.destoryMe);
		this._hits.length=0;
		this.skill=null;
		this.from=null;
	}

	/**
	*寿命
	*@param time
	*
	*/
	__proto.life=function(time){
		this.skill.scene.timer.once(time,this,this.onLifeEnd);
		return this;
	}

	__proto.onLifeEnd=function(){
		this.destoryMe();
	}

	__proto.onLoop=function(){
		if(this.needUpdatePos){
			this.updatePos();
		}
	}

	__proto.capture=function(target){
		if(this.markHit(target)){
			this.skill.capture(target,this.from);
			if(this.autoDead){
				if(this._hits.length==this.maxHitNum){
					this.from.dead();
				}
			}
		}
	}

	/**
	*标记碰撞，避免多次捕获，
	*@param obj
	*@return 返回是否标记成功
	*
	*/
	__proto.markHit=function(obj){
		if(this._hits.length >=this.maxHitNum){
			return false;
		};
		var index=this._hits.indexOf(obj);
		if(index>=0){
			return false;
		}
		this._hits.push(obj);
		return true;
	}

	/**
	*清理碰撞标记
	*
	*/
	__proto.clear=function(){
		this._hits.length=0;
	}

	__proto.destoryMe=function(){
		SkillManager.instance.removeSkillCollision(this);
	}

	/**
	*是捕获到对象
	*
	*/
	__getset(0,__proto,'isHit',function(){
		return this._hits.length>0;
	});

	return SkillCollision;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/util/CD.as=======98.998703/98.998703
/**
*技能cd组件
*@author wulongbin
*
*/
//class laya.game.client.util.CD extends laya.libs.recover.BaseRecovery
var CD$1=(function(_super){
	function CD(){
		this.cd=NaN;
		this.nextTime=NaN;
		this._isSync=false;
		CD.__super.call(this);
	}

	__class(CD,'laya.game.client.util.CD',_super,'CD$1');
	var __proto=CD.prototype;
	/**
	*cd时间
	*@param cd
	*@param isSync 是否同步服务器时间
	*
	*/
	__proto.bind=function(cd,isSync){
		(isSync===void 0)&& (isSync=true);
		this.cd=cd;
		this.nextTime=0;
		this._isSync=isSync;
	}

	__proto.onDestruct=function(){}
	__proto.resetCD=function(cd,clearTime){
		(clearTime===void 0)&& (clearTime=true);
		this.cd=cd;
		this.nextTime=clearTime?0:this._getTime+cd;
	}

	__proto.reset=function(){
		this.nextTime=0;
	}

	__proto.canPlay=function(){
		if(this.remainTime==0){
			this.nextTime=this._getTime+this.cd;
			return true;
		}
		else{
			return false;
		}
	}

	__getset(0,__proto,'isSync',function(){
		return this._isSync;
	});

	__getset(0,__proto,'remainTime',function(){
		return Math.max(0,this.nextTime-this._getTime);
	});

	__getset(0,__proto,'_getTime',function(){
		return GameSystem.sceneTimer;
	});

	return CD;
})(BaseRecovery)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/util/Shake.as=======98.998699/98.998699
/**
*震动
*@author wulongbin
*
*/
//class laya.game.client.util.Shake extends laya.libs.recover.BaseRecovery
var Shake=(function(_super){
	function Shake(){
		this._coe=0;
		this.lastRadian=0;
		/**
		*当前振幅
		*/
		this.off=0;
		this.amplitude=0;
		this.update=null;
		this.complete=null;
		Shake.__super.call(this);
	}

	__class(Shake,'laya.game.client.util.Shake',_super);
	var __proto=Shake.prototype;
	__proto.init=function(amplitude,duration,cycleTime,ease){
		this.amplitude=amplitude;
		this._coe=0;
		this.off=0;
		this.lastRadian=cycleTime*Math.PI*2;
		Shake.tween.to(this,{coe:1},duration,null,Handler.create(this,this.doCompelte));
		this['ease']=ease;
	}

	__proto.onDestruct=function(){
		this.complete=null;
		this.update=null;
	}

	__proto.ease=function(coe,radian){}
	__proto.stop=function(){
		Shake.tween.clearAll(this);
		this.recovery();
	}

	__proto.doCompelte=function(){
		this.complete&&this.complete();
		this.recovery();
	}

	__getset(0,__proto,'coe',function(){
		return this._coe;
		},function(value){
		this._coe=value;
		this.ease(value,this.lastRadian*value);
		this.update&&this.update(this);
	});

	Shake.shake=function(amplitude,duration,cycleTime,ease){
		var s=CycleFactory.createObject2(Shake);
		s.init(amplitude,duration,cycleTime,ease||laya.game.client.util.Shake.ease_fail);
		return s;
	}

	Shake.ease=function(coe,radian){
		this.off=this.amplitude*Math.cos(radian);
	}

	Shake.ease_fail=function(coe,radian){
		this.off=(1-coe)*this.amplitude*Math.cos(radian);
	}

	Shake.ease2=function(coe,radian){
		this.off=(1-Math.pow(coe,0.5))*this.amplitude*Math.sin(radian);
	}

	__static(Shake,
	['tween',function(){return this.tween=Tween;}
	]);
	Shake.__init$=function(){{
			CycleFactory.registerClass2(Shake);
		};;;;
	}

	return Shake;
})(BaseRecovery)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/css/TextStyle.as=======98.998563/98.998563
/**
*文本的样式类
*/
//class laya.display.css.TextStyle extends laya.display.css.SpriteStyle
var TextStyle=(function(_super){
	function TextStyle(){
		/**
		*表示使用此文本格式的文本是否为斜体。
		*@default false
		*/
		this.italic=false;
		/**
		*<p>表示使用此文本格式的文本段落的水平对齐方式。</p>
		*@default "left"
		*/
		//this.align=null;
		/**
		*<p>表示使用此文本格式的文本字段是否自动换行。</p>
		*如果 wordWrap 的值为 true，则该文本字段自动换行；如果值为 false，则该文本字段不自动换行。
		*@default false。
		*/
		//this.wordWrap=false;
		/**
		*<p>垂直行间距（以像素为单位）</p>
		*/
		//this.leading=NaN;
		/**
		*<p>默认边距信息</p>
		*<p>[左边距，上边距，右边距，下边距]（边距以像素为单位）</p>
		*/
		//this.padding=null;
		/**
		*文本背景颜色，以字符串表示。
		*/
		//this.bgColor=null;
		/**
		*文本边框背景颜色，以字符串表示。
		*/
		//this.borderColor=null;
		/**
		*<p>指定文本字段是否是密码文本字段。</p>
		*如果此属性的值为 true，则文本字段被视为密码文本字段，并使用星号而不是实际字符来隐藏输入的字符。如果为 false，则不会将文本字段视为密码文本字段。
		*/
		//this.asPassword=false;
		/**
		*<p>描边宽度（以像素为单位）。</p>
		*默认值0，表示不描边。
		*@default 0
		*/
		//this.stroke=NaN;
		/**
		*<p>描边颜色，以字符串表示。</p>
		*@default "#000000";
		*/
		//this.strokeColor=null;
		/**是否为粗体*/
		//this.bold=false;
		/**是否显示下划线*/
		//this.underline=false;
		/**下划线颜色*/
		//this.underlineColor=null;
		/**当前使用的位置字体。*/
		//this.currBitmapFont=null;
		TextStyle.__super.call(this);
	}

	__class(TextStyle,'laya.display.css.TextStyle',_super);
	var __proto=TextStyle.prototype;
	__proto.reset=function(){
		_super.prototype.reset.call(this);
		this.italic=false;
		this.align="left";
		this.wordWrap=false;
		this.leading=0;
		this.padding=[0,0,0,0];
		this.bgColor=null;
		this.borderColor=null;
		this.asPassword=false;
		this.stroke=0;
		this.strokeColor="#000000";
		this.bold=false;
		this.underline=false;
		this.underlineColor=null;
		this.currBitmapFont=null;
		return this;
	}

	__proto.recover=function(){
		if (this===TextStyle.EMPTY)
			return;
		Pool.recover("TextStyle",this.reset());
	}

	/**@inheritDoc */
	__proto.render=function(sprite,context,x,y){
		(this.bgColor || this.borderColor)&& context.drawRect(x,y,sprite.width,sprite.height,this.bgColor,this.borderColor,1);
	}

	TextStyle.create=function(){
		return Pool.getItemByClass("TextStyle",TextStyle);
	}

	TextStyle.EMPTY=new TextStyle();
	return TextStyle;
})(SpriteStyle)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/systems/WeventCenter.as=======98.998542/98.998542
//class wlb.dream.systems.WeventCenter extends laya.events.EventDispatcher
var WeventCenter=(function(_super){
	function WeventCenter(){
		WeventCenter.__super.call(this);
	}

	__class(WeventCenter,'wlb.dream.systems.WeventCenter',_super);
	__static(WeventCenter,
	['instance',function(){return this.instance=new WeventCenter;}
	]);
	return WeventCenter;
})(EventDispatcher)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/ColorFilter.as=======98.998533/98.998533
/**
*<p><code>ColorFilter</code> 是颜色滤镜。使用 ColorFilter 类可以将 4 x 5 矩阵转换应用于输入图像上的每个像素的 RGBA 颜色和 Alpha 值，以生成具有一组新的 RGBA 颜色和 Alpha 值的结果。该类允许饱和度更改、色相旋转、亮度转 Alpha 以及各种其他效果。您可以将滤镜应用于任何显示对象（即，从 Sprite 类继承的对象）。</p>
*<p>注意：对于 RGBA 值，最高有效字节代表红色通道值，其后的有效字节分别代表绿色、蓝色和 Alpha 通道值。</p>
*/
//class laya.filters.ColorFilter extends laya.filters.Filter
var ColorFilter=(function(_super){
	function ColorFilter(mat){
		/**@private */
		//this._mat=null;
		/**@private */
		//this._alpha=null;
		/**当前使用的矩阵*/
		//this._matrix=null;
		ColorFilter.__super.call(this);
		if (!mat)mat=this._copyMatrix(ColorFilter.IDENTITY_MATRIX);
		this._mat=new Float32Array(16);
		this._alpha=new Float32Array(4);
		this.setByMatrix(mat);
		this._action=RunDriver.createFilterAction(0x20);
		this._action.data=this;
	}

	__class(ColorFilter,'laya.filters.ColorFilter',_super);
	var __proto=ColorFilter.prototype;
	Laya.imps(__proto,{"laya.filters.IFilter":true})
	/**
	*设置为灰色滤镜
	*/
	__proto.gray=function(){
		return this.setByMatrix(ColorFilter.GRAY_MATRIX);
	}

	/**
	*设置为变色滤镜
	*@param red 红色增量,范围:0~255
	*@param green 绿色增量,范围:0~255
	*@param blue 蓝色增量,范围:0~255
	*@param alpha alpha,范围:0~1
	*/
	__proto.color=function(red,green,blue,alpha){
		(red===void 0)&& (red=0);
		(green===void 0)&& (green=0);
		(blue===void 0)&& (blue=0);
		(alpha===void 0)&& (alpha=1);
		return this.setByMatrix([1,0,0,0,red,0,1,0,0,green,0,0,1,0,blue,0,0,0,1,alpha]);
	}

	/**
	*设置矩阵数据
	*@param matrix 由 20 个项目（排列成 4 x 5 矩阵）组成的数组
	*@return this
	*/
	__proto.setByMatrix=function(matrix){
		if (this._matrix !=matrix)this._copyMatrix(matrix);
		var j=0;
		var z=0;
		for (var i=0;i < 20;i++){
			if (i % 5 !=4){
				this._mat[j++]=matrix[i];
				}else {
				this._alpha[z++]=matrix[i];
			}
		}
		return this;
	}

	/**
	*调整颜色，包括亮度，对比度，饱和度和色调
	*@param brightness 亮度,范围:-100~100
	*@param contrast 对比度,范围:-100~100
	*@param saturation 饱和度,范围:-100~100
	*@param hue 色调,范围:-180~180
	*@return this
	*/
	__proto.adjustColor=function(brightness,contrast,saturation,hue){
		this.adjustHue(hue);
		this.adjustContrast(contrast);
		this.adjustBrightness(brightness);
		this.adjustSaturation(saturation);
		return this;
	}

	/**
	*调整亮度
	*@param brightness 亮度,范围:-100~100
	*@return this
	*/
	__proto.adjustBrightness=function(brightness){
		brightness=this._clampValue(brightness,100);
		if (brightness==0 || isNaN(brightness))return this;
		return this._multiplyMatrix([1,0,0,0,brightness,0,1,0,0,brightness,0,0,1,0,brightness,0,0,0,1,0,0,0,0,0,1]);
	}

	/**
	*调整对比度
	*@param contrast 对比度,范围:-100~100
	*@return this
	*/
	__proto.adjustContrast=function(contrast){
		contrast=this._clampValue(contrast,100);
		if (contrast==0 || isNaN(contrast))return this;
		var x=NaN;
		if (contrast < 0){
			x=127+contrast / 100 *127
			}else {
			x=contrast % 1;
			if (x==0){
				x=ColorFilter.DELTA_INDEX[contrast];
				}else {
				x=ColorFilter.DELTA_INDEX[(contrast << 0)] *(1-x)+ColorFilter.DELTA_INDEX[(contrast << 0)+1] *x;
			}
			x=x *127+127;
		};
		var x1=x / 127;
		var x2=(127-x)*0.5;
		return this._multiplyMatrix([x1,0,0,0,x2,0,x1,0,0,x2,0,0,x1,0,x2,0,0,0,1,0,0,0,0,0,1]);
	}

	/**
	*调整饱和度
	*@param saturation 饱和度,范围:-100~100
	*@return this
	*/
	__proto.adjustSaturation=function(saturation){
		saturation=this._clampValue(saturation,100);
		if (saturation==0 || isNaN(saturation))return this;
		var x=1+((saturation > 0)? 3 *saturation / 100 :saturation / 100);
		var dx=1-x;
		var r=0.3086 *dx;
		var g=0.6094 *dx;
		var b=0.0820 *dx;
		return this._multiplyMatrix([r+x,g,b,0,0,r,g+x,b,0,0,r,g,b+x,0,0,0,0,0,1,0,0,0,0,0,1]);
	}

	/**
	*调整色调
	*@param hue 色调,范围:-180~180
	*@return this
	*/
	__proto.adjustHue=function(hue){
		hue=this._clampValue(hue,180)/ 180 *Math.PI;
		if (hue==0 || isNaN(hue))return this;
		var cos=Math.cos(hue);
		var sin=Math.sin(hue);
		var r=0.213;
		var g=0.715;
		var b=0.072;
		return this._multiplyMatrix([r+cos *(1-r)+sin *(-r),g+cos *(-g)+sin *(-g),b+cos *(-b)+sin *(1-b),0,0,r+cos *(-r)+sin *(0.143),g+cos *(1-g)+sin *(0.140),b+cos *(-b)+sin *(-0.283),0,0,r+cos *(-r)+sin *(-(1-r)),g+cos *(-g)+sin *(g),b+cos *(1-b)+sin *(b),0,0,0,0,0,1,0,0,0,0,0,1]);
	}

	/**
	*重置成单位矩阵，去除滤镜效果
	*/
	__proto.reset=function(){
		return this.setByMatrix(this._copyMatrix(ColorFilter.IDENTITY_MATRIX));
	}

	/**
	*矩阵乘法
	*@param matrix
	*@return this
	*/
	__proto._multiplyMatrix=function(matrix){
		var col=[];
		this._matrix=this._fixMatrix(this._matrix);
		for (var i=0;i < 5;i++){
			for (var j=0;j < 5;j++){
				col[j]=this._matrix[j+i *5];
			}
			for (j=0;j < 5;j++){
				var val=0;
				for (var k=0;k < 5;k++){
					val+=matrix[j+k *5] *col[k];
				}
				this._matrix[j+i *5]=val;
			}
		}
		return this.setByMatrix(this._matrix);
	}

	/**
	*规范值的范围
	*@param val 当前值
	*@param limit 值的范围-limit~limit
	*/
	__proto._clampValue=function(val,limit){
		return Math.min(limit,Math.max(-limit,val));
	}

	/**
	*规范矩阵,将矩阵调整到正确的大小
	*@param matrix 需要调整的矩阵
	*/
	__proto._fixMatrix=function(matrix){
		if (matrix==null)return ColorFilter.IDENTITY_MATRIX;
		if (matrix.length < 25)matrix=matrix.slice(0,matrix.length).concat(ColorFilter.IDENTITY_MATRIX.slice(matrix.length,25));
		else if (matrix.length > 25)matrix=matrix.slice(0,25);
		return matrix;
	}

	/**
	*复制矩阵
	*/
	__proto._copyMatrix=function(matrix){
		var len=25;
		if (!this._matrix)this._matrix=[];
		for (var i=0;i < len;i++){
			this._matrix[i]=matrix[i];
		}
		return this._matrix;
	}

	/**@private */
	__getset(0,__proto,'type',function(){
		return 0x20;
	});

	/**@private */
	__getset(0,__proto,'action',function(){
		return this._action;
	});

	ColorFilter.LENGTH=25;
	__static(ColorFilter,
	['DELTA_INDEX',function(){return this.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.20,0.21,0.22,0.24,0.25,0.27,0.28,0.30,0.32,0.34,0.36,0.38,0.40,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.80,0.83,0.86,0.89,0.92,0.95,0.98,1.0,1.06,1.12,1.18,1.24,1.30,1.36,1.42,1.48,1.54,1.60,1.66,1.72,1.78,1.84,1.90,1.96,2.0,2.12,2.25,2.37,2.50,2.62,2.75,2.87,3.0,3.2,3.4,3.6,3.8,4.0,4.3,4.7,4.9,5.0,5.5,6.0,6.5,6.8,7.0,7.3,7.5,7.8,8.0,8.4,8.7,9.0,9.4,9.6,9.8,10.0];},'GRAY_MATRIX',function(){return this.GRAY_MATRIX=[0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0,0,0,1,0];},'IDENTITY_MATRIX',function(){return this.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];}
	]);
	return ColorFilter;
})(Filter)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/filters/webgl/ColorFilterActionGL.as=======98.998515/98.998515
//class laya.filters.webgl.ColorFilterActionGL extends laya.filters.webgl.FilterActionGL
var ColorFilterActionGL=(function(_super){
	function ColorFilterActionGL(){
		this.data=null;
		ColorFilterActionGL.__super.call(this);
	}

	__class(ColorFilterActionGL,'laya.filters.webgl.ColorFilterActionGL',_super);
	var __proto=ColorFilterActionGL.prototype;
	Laya.imps(__proto,{"laya.filters.IFilterActionGL":true})
	__proto.setValue=function(shader){
		shader.colorMat=this.data._mat;
		shader.colorAlpha=this.data._alpha;
	}

	__proto.apply3d=function(scope,sprite,context,x,y){
		var b=scope.getValue("bounds");
		var shaderValue=Value2D.create(0x01,0);
		shaderValue.setFilters([this.data]);
		var tMatrix=Matrix.TEMP;
		tMatrix.identity();
		context.drawTarget(scope,0,0,b.width,b.height,tMatrix,"src",shaderValue);
	}

	return ColorFilterActionGL;
})(FilterActionGL)


	//file:///H:/work/sniper/Platform/src/platform/game/GameSocket.as=======98.998505/98.998505
/**
*...
*@author
*/
//class platform.game.GameSocket extends laya.events.EventDispatcher
var GameSocket$1=(function(_super){
	function GameSocket(){
		this._realSocket=null;
		this._roomInfo=null;
		this._user=null;
		this.msgHandle=null;
		this.callbackList=[];
		this._is=[];
		this._os=[];
		GameSocket.__super.call(this);
	}

	__class(GameSocket,'platform.game.GameSocket',_super,'GameSocket$1');
	var __proto=GameSocket.prototype;
	__proto.setMsgHandle=function(msgHandle){
		this.msgHandle=msgHandle;
	}

	/**
	*创建与GameServer的链接
	*@param url
	*/
	__proto.init=function(url,roomInfo){this._realSocket=this._realSocket|| new Socket();
		this._realSocket.on("open",this,this.onOpen);
		this._realSocket.on("message",this,this.onMessage);
		this._realSocket.on("error",this,this.onError);
		this._realSocket.on("close",this,this.onClose);
		this._realSocket.connectByUrl(url);
		this._roomInfo=roomInfo;
	}

	__proto.onOpen=function(e){
		Laya.timer.loop(120,this,this.update);
	}

	__proto.onMessage=function(s){
		var data=JSON.parse(s);
		if (!data.url)return;
		data.url=data.url.replace(GameSocket.reg,'_');
		if (this[data.url]){
			this[data.url].apply(this,[data.params]);
			}else{
			Logger.log('游戏服网络消息【'+data.url+'】未处理'+s);
		}
	}

	__proto.onError=function(){
		this._is.length=this._os.length=0;
		this.removeAllCallback();
		Logger.log(">>>>>>>>>>>>>>GameSocket onError");
	}

	__proto.onClose=function(e){
		Logger.log(">>>>>>>>>>>>>>GameSocket close");
		if(this.callbackList[2]){
			var rs=new LeaveInfo();
			rs.openid=this._user.openid;
			this.msgHandle&&this.msgHandle.onLeaveRoom(rs);
		}
		this._is.length=this._os.length=0;
		this.removeAllCallback();
		Laya.timer.clear(this,this.update);
	}

	__proto.removeAllCallback=function(){
		for (var i=0,n=this.callbackList.length;i < n;i++){
			var a=this.callbackList[i];
			if (a!=null){
				a(GameSocket.CLOSEDRESULT);
				this.callbackList[i]=null;
			}
		}
	}

	__proto.update=function(){
		if(this._is.length>0){
			this.send({
				url:'room.syncopt',
				params:{
					i:this._is.join(";"),
					o:this._os.join(";")
				}
			})
			this._is.length=0;
			this._os.length=0;
		}
	}

	__proto.send=function(obj){
		if (this._realSocket){
			this._realSocket.send(JSON.stringify(obj));
		}
	}

	__proto.join=function(roomInfo,user,callback){
		if (!this.callbackList[0]){
			this.callbackList[0]=callback;
			var url;
			if(Method.isSSL()){
				url="wss://"+roomInfo.sslip;
			}
			else{
				url="ws://"+roomInfo.ip;
			}
			this.init(url,roomInfo);
			this._user=user;
			this._realSocket.on("open",this,this._roomJoin);
		}
		else{
			this.callbackList[0]=callback;
		}
	}

	__proto.startGame=function(callback){
		if(this._roomInfo.cr!=this._user.openid){
			callback&&callback({result:-5});
			return;
		}
		if (!this.callbackList[1]){
			this.callbackList[1]=callback;
			this.send({
				url:"room.startgame"
			});
		}
		else{
			this.callbackList[1]=callback;
		}
	}

	/**
	*离开房间
	*@param reason 离开房间的原因
	*@param callback 离开房间的回掉
	*/
	__proto.leave=function(reason,callback){
		if (!this.callbackList[2]){
			this.callbackList[2]=callback;
			this.send({
				url:"room.leave",
				params:{
					"reason":reason
				}
			});
		}
		else{
			this.callbackList[2]=callback;
		}
	}

	__proto.broadcast=function(obj,callback){
		this.send({
			url:"room.broadcast",
			params:{
				"data":JSON.stringify(obj)
			}
		})
	}

	__proto.sendToMsg=function(key,value){
		var msg={
			url:"room.evt",
			params:{}
		}
		msg.params[key]=value;
		this.send(msg);
	}

	__proto.syncopt=function(item,opt,callback){
		if(!this.callbackList[3]){
			this.callbackList[3]=callback;
			this._is.push(item);
			this._os.push(encodeURIComponent(opt));
		}
		else{
			this.callbackList[3]=callback;
		}
	}

	__proto.syncoptByObject=function(opt){
		this._is.push("test");
		this._os.push(encodeURIComponent(JSON.stringify(opt)));
	}

	__proto._roomJoin=function(){
		this.send({
			url:'room.join',
			params:{"gameid":this._roomInfo.gameid,"roomname":this._roomInfo.roomname,"openid":this._user.openid,"token":this._roomInfo.token}
		});
	}

	__proto.room_joined=function(joinInfo){
		this._realSocket.off("open",this,this._roomJoin);
		joinInfo.roomname=this._roomInfo.roomname;
		this.callbackList[0] && this.callbackList[0]({result:joinInfo.code,data:joinInfo});
		this.callbackList[0]=null;
		joinInfo.ownerId=this._roomInfo.cr;
		this.msgHandle&&this.msgHandle.onJoinRoom(joinInfo);
	}

	__proto.room_gamestarted=function(){
		this.callbackList[1]&&this.callbackList[1]();
		this.callbackList[1]=null;
		this.msgHandle&&this.msgHandle.onroomstarted();
	}

	__proto.room_left=function(data){
		this.callbackList[2] && this.callbackList[2]({result:0,data:data});
		this.msgHandle&&this.msgHandle.onLeaveRoom(data);
		this.callbackList[2]=null;
	}

	__proto.room_broadcast=function(data){
		this.msgHandle&&this.msgHandle.onbroadcast(GameSocket.getObj(data.data));
	}

	__proto.room_msg=function(data){
		Logger.log(JSON.stringify(data));
		this.msgHandle&&this.msgHandle.onmsg(data);
	}

	__proto.room_syncopt=function(data){
		this.callbackList[3]&&this.callbackList[3]({result:data.code,data:data});
		this.callbackList[3]=null;
	}

	__proto.room_push=function(data){
		var i=0;
		for(var len=data.f.length;i<len;i++){
			var item=data.f[i];
			var ls=[];
			for(var j=0,len1=item.ds.length;j<len1;j++){
				var itemj=item.ds[j];
				var _items=itemj.i.split(";");
				var _opts=itemj.o.split(";");
				var len1=_items.length;
				if(len1==1){
					itemj.exo=GameSocket.getObj(decodeURIComponent(itemj.o));
					ls.push(itemj);
				}
				else {
					for (var j=0;j < len1;j++){
						var temp=new ItemObj();
						temp.id=itemj.id;
						temp.i=_items[j];
						temp.o=_opts[j];
						temp.exo=GameSocket.getObj(decodeURIComponent(temp.o));
						ls.push(temp);
					}
				}
			}
			item.ds=ls;
		}
		this.msgHandle&&this.msgHandle.onpush(data);
	}

	GameSocket.regClassMap=function(classid,value){
		if(!GameSocket.classMap[classid]){
			GameSocket.classMap[classid]=value;
		}
		else{
			Logger.error("重复设置");
		}
	}

	GameSocket.getClassById=function(id){
		return GameSocket.classMap[id]||Object;
	}

	GameSocket.getObj=function(str){
		if(!str)return null;
		var src;
		if((typeof str=='string')){
			try{
				src=JSON.parse(str);
			}
			catch(e){
				return str;
			}
		}
		else
		src=str;
		var decCls=GameSocket.getClassById(src.classid);
		var dec=new decCls();
		dec=dec||{};
		for(var i in src){
			var d=src[i];
			if((d instanceof Array)){
				var len=d.length;
				if(len>0&&d[0].classid!=undefined){
					dec[i]=[];
					for(var j=0;j<len;j++){
						dec[i].push(GameSocket.getObj(d[j]));
					}
				}
				else{
					dec[i]=src[i];
				}
			}
			else if ((typeof d=='object')){
				dec[i]=d.classid!=undefined? GameSocket.getObj(d):d;
			}
			else {
				dec[i]=src[i];
			}
		}
		return dec;
	}

	GameSocket.BROADCAST="broadcast";
	GameSocket.JOINROOM=0;
	GameSocket.STARTGAME=1;
	GameSocket.LEAVE=2;
	GameSocket.SYNCOPT=3;
	__static(GameSocket,
	['reg',function(){return this.reg=new RegExp("\\.","ig");},'classMap',function(){return this.classMap={
	};},'CLOSEDRESULT',function(){return this.CLOSEDRESULT={'result':-4,desc:'socket was closed'};}

	]);
	return GameSocket;
})(EventDispatcher)


	//file:///H:/work/sniper/Platform/src/test/MemberMsg.as=======98.998468/98.998468
/**
*成员消息
*@author wulongbin
*
*/
//class test.MemberMsg extends laya.data.MessageBase
var MemberMsg$1=(function(_super){
	function MemberMsg(){
		this.userid=NaN;
		MemberMsg.__super.call(this);
	}

	__class(MemberMsg,'test.MemberMsg',_super,'MemberMsg$1');
	__static(MemberMsg,
	['DES',function(){return this.DES=
		[
		['userid',5]];}
	]);
	return MemberMsg;
})(MessageBase)


	//file:///H:/work/sniper/Platform/src/test/RoomMsg.as=======98.998467/98.998467
/**
*房间信息
*@author wulongbin
*
*/
//class test.RoomMsg extends laya.data.MessageBase
var RoomMsg$1=(function(_super){
	function RoomMsg(){
		this.members=new Array;
		RoomMsg.__super.call(this);
	}

	__class(RoomMsg,'test.RoomMsg',_super,'RoomMsg$1');
	__static(RoomMsg,
	['DES',function(){return this.DES=
		[
		['members',10,[11,MemberMsg$1]]];}
	]);
	return RoomMsg;
})(MessageBase)


	//file:///H:/work/sniper/Platform/src/test/TestOPMsg.as=======98.998465/98.998465
//class test.TestOPMsg extends laya.data.MessageBase
var TestOPMsg=(function(_super){
	function TestOPMsg(){
		this.ID=NaN;
		this.random=NaN;
		TestOPMsg.__super.call(this);
	}

	__class(TestOPMsg,'test.TestOPMsg',_super);
	var __proto=TestOPMsg.prototype;
	Laya.imps(__proto,{"fs.IOPData":true})
	__proto.getID=function(){
		return this.ID;
	}

	__proto.setID=function(value){
		this.ID=value;
	}

	return TestOPMsg;
})(MessageBase)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/UIEvent.as=======98.998398/98.998398
/**
*<code>UIEvent</code> 类用来定义UI组件类的事件类型。
*/
//class laya.ui.UIEvent extends laya.events.Event
var UIEvent=(function(_super){
	function UIEvent(){
		UIEvent.__super.call(this);;
	}

	__class(UIEvent,'laya.ui.UIEvent',_super);
	UIEvent.SHOW_TIP="showtip";
	UIEvent.HIDE_TIP="hidetip";
	return UIEvent;
})(Event)


	//file:///H:/work/sniper/Platform/src/Main.as=======98.998320/98.998320
/**
*...
*@author
*/
//class Main extends fs.FSGame
var Main=(function(_super){
	function Main(){
		Main.__super.call(this);
		Laya.init(1280,720);
		Laya.stage.scaleMode="fixedheight";
		Laya.stage.screenMode="horizontal";
		Laya.stage.bgColor="#ffffff";
		Laya.stage.alignH="center";
		Laya.stage.alignV="middle";
		this.init((FSGame.room=new TestRoom),new FSLayaConnect);
	}

	__class(Main,'Main',_super);
	var __proto=Main.prototype;
	__proto.onInit=function(){
		var layaConnect=FSGame.connect;
		layaConnect.loginPlatform(11269,11269,-4,this.goGame.bind(this));
		layaConnect.regMessageList([RoomMsg$1,MemberMsg$1,TestOPMsg]);
	}

	__proto.goGame=function(data){
		Main.roomView=new RoomView;
		Main.roomView.goGame(data);
		Laya.stage.addChild(Main.roomView);
		this.ready();
	}

	Main.roomView=null;
	return Main;
})(FSGame)


	//file:///H:/work/sniper/Platform/src/test/TestRoom.as=======98.998291/98.998291
/**
*测试房间
*@author wulongbin
*
*/
//class test.TestRoom extends fs.FSRoom
var TestRoom=(function(_super){
	function TestRoom(){
		this.roomMsg=new RoomMsg$1;
		TestRoom.__super.call(this);
	}

	__class(TestRoom,'test.TestRoom',_super);
	var __proto=TestRoom.prototype;
	__proto.onMain=function(){}
	/**
	*自己以外的人进入房间的回调
	*
	*/
	__proto.onOtherJoinRoom=function(){}
	/**
	*自己进入房间后的回调
	*
	*/
	__proto.onSelfJoinRoom=function(){
		Main.roomView.roomIdInput.text=this.roomID;
		if(this.isOwner){
			FSGame.connect.listenBroadcast(MemberMsg$1,this,this.onMemberMsg);
		}
		FSGame.connect.listenBroadcast(RoomMsg$1,this,this.onRoomMsg);
		var memberMsg=new MemberMsg$1;
		memberMsg.userid=FSGame.userID;
		FSGame.connect.broadcast(memberMsg);
	}

	/**
	*成员信息更新
	*
	*/
	__proto.onMemberMsg=function(msg){
		var members=this.roomMsg.members;
		var i=0;
		var len=members.length;
		for(;i<len;i++){
			if(members[i].userid==msg.userid){
				members[i]=msg;
				break ;
			}
		}
		if(i==len){
			members.push(msg);
		}
		FSGame.connect.broadcast(this.roomMsg);
	}

	/**
	*房间信息改变
	*
	*/
	__proto.onRoomMsg=function(msg){
		if(!this.isOwner){
			this.roomMsg=msg;
		}
		if(this.isOwner){
			if(FSGame.isLocalMode){
				this.ready(true);
			}
			else if(msg.members.length==2){
				this.ready(true);
			}
		}
	}

	__proto.onGameStart=function(){
		FSGame.fsm.timer.frameLoop(6,this,this.onLoop);
	}

	__proto.onLoop=function(){
		var op=new TestOPMsg;
		op.random=Math.random();
		FSGame.fsm.sendSyncOpt(FSGame.userID,op);
	}

	return TestRoom;
})(FSRoom)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/canvas/WebGLContext2D.as=======98.998256/98.998256
//class laya.webgl.canvas.WebGLContext2D extends laya.resource.Context
var WebGLContext2D=(function(_super){
	var ContextParams;
	function WebGLContext2D(c){
		this._id=++WebGLContext2D._COUNT;
		//this._other=null;
		//this._renderNextSubmitIndex=0;
		this._path=null;
		//this._primitiveValue2D=null;
		this._drawCount=1;
		this._maxNumEle=0;
		this._renderCount=0;
		this._isConvexCmd=true;
		//arc等是convex的，moveTo,linTo就不是了
		this._submits=null;
		this._curSubmit=null;
		//public var _vb:VertexBuffer2D=null;// 不同的顶点格式，使用不同的顶点缓冲区
		//this._mesh=null;
		//用Mesh2D代替_vb,_ib. 当前使用的mesh
		//this._pathMesh=null;
		//矢量专用mesh。
		//this._triangleMesh=null;
		//drawTriangles专用mesh。由于ib不固定，所以不能与_mesh通用
		this.meshlist=[];
		this._transedClipInfo=[0,0,99999999,0,0,99999999];
		//应用矩阵后的clip。ox,oy,xx,xy,yx,yy xx,xy等是缩放*宽高
		this._clipInfoID=0;
		//用来区分是不是clipinfo已经改变了
		//this._curMat=null;
		this._nBlendType=0;
		//this._save=null;
		//this._targets=null;
		this._saveMark=null;
		/**所cacheAs精灵*/
		//this.sprite=null;
		//文字颜色。使用顶点色
		this._drawTextureUseColor=false;
		this._italicDeg=0;
		//文字的倾斜角度
		this._lastTex=null;
		/*******************************************start矢量绘制***************************************************/
		this.mId=-1;
		this.mHaveKey=false;
		this.mHaveLineKey=false;
		WebGLContext2D.__super.call(this);
		this._width=99999999;
		this._height=99999999;
		this._submitKey=new SubmitKey();
		this._transedPoints=new Array(8);
		this._temp4Points=new Array(8);
		this._clipRect=WebGLContext2D.MAXCLIPRECT;
		this._shader2D=new Shader2D();
		this._charBook=new CharBook();
		this.mOutPoint
		this._canvas=c;
		WebGLContext2D._contextcount++;
		this.clear();
	}

	__class(WebGLContext2D,'laya.webgl.canvas.WebGLContext2D',_super);
	var __proto=WebGLContext2D.prototype;
	__proto.clearBG=function(r,g,b,a){
		var gl=WebGL.mainContext;
		gl.clearColor(r,g,b,a);
		gl.clear(0x00004000);
	}

	__proto._getSubmits=function(){
		return this._submits;
	}

	__proto._releaseMem=function(){
		if (!this._submits)
			return;
		this._curMat.destroy();
		this._curMat=null;
		this._shader2D.destroy();
		this._shader2D=null;
		for (var i=0,n=this._submits._length;i < n;i++){
			this._submits[i].releaseRender();
		}
		this._submits.length=0;
		this._submits._length=0;
		this._submits=null;
		this._curSubmit=null;
		this._path && this._path.recover();
		this._path=null;
		this._other && (this._other.font=null);
		this._save=null;
		for (var i=0,sz=this.meshlist.length;i < sz;i++){
			var curm=this.meshlist[i];
			curm.destroy();
		}
		this.meshlist.length=0;
	}

	//TODO mesh 暂时releaseMem了
	__proto.destroy=function(){
		--WebGLContext2D._contextcount;
		this.sprite=null;
		this._releaseMem();
		this._targets && this._targets.destroy();
		this._targets=null;
		this._canvas=null;
		this._mesh.destroy();
	}

	__proto.clear=function(){
		if (!this._submits){
			this._other=ContextParams.DEFAULT;
			this._curMat=Matrix.create();
			this._mesh=MeshQuadTexture.getAMesh();
			this.meshlist.push(this._mesh);
			this._pathMesh=MeshVG.getAMesh();
			this.meshlist.push(this._pathMesh);
			this._triangleMesh=MeshTexture.getAMesh();
			this.meshlist.push(this._triangleMesh);
			this._submits=[];
			this._save=[SaveMark.Create(this)];
			this._save.length=10;
			this._shader2D=new Shader2D();
		}
		this._submitKey.clear();
		this._mesh.clearVB();
		Config.smartCache && (this._renderCount++);
		this._drawCount=1;
		this._other=ContextParams.DEFAULT;
		this._other.lineWidth=this._shader2D.ALPHA=1.0;
		this._nBlendType=0;
		this._clipRect=WebGLContext2D.MAXCLIPRECT;
		this._curSubmit=Submit.RENDERBASE;
		Submit.RENDERBASE._ref=0xFFFFFF;
		Submit.RENDERBASE._numEle=0;
		this._shader2D.fillStyle=this._shader2D.strokeStyle=DrawStyle.DEFAULT;
		for (var i=0,n=this._submits._length;i < n;i++)
		this._submits[i].releaseRender();
		this._submits._length=0;
		this._curMat.identity();
		this._other.clear();
		this._saveMark=this._save[0];
		this._save._length=1;
	}

	__proto.size=function(w,h){
		if (this._width !=w || this._height !=h){
			if (w==0 || h==0){
				for (var i=0,n=this._submits._length;i < n;i++)
				this._submits[i].releaseRender();
				this._submits.length=0;
				this._submits._length=0;
				this._curSubmit=null;
				this._path && this._path.recover();
				this._path=null;
				this.sprite=null;
				this._targets && (this._targets.destroy());
				this._targets=null;
				}else {
				this._width=w;
				this._height=h;
				this._targets && (this._targets.size(w,h));
				this._canvas._setGPUMemory(0);
			}
		}
		if (w===0 && h===0)this._releaseMem();
	}

	//_targets=null;
	__proto._getTransformMatrix=function(){
		return this._curMat;
	}

	__proto._reCalculateBlendShader=function(){
		this._submitKey.blendShader=this._nBlendType+(this._shader2D.shader?this._shader2D.shader._id *100:0);
		if (this._shader2D.filters){
			this._submitKey.blendShader+=this._shader2D.filters.key / 10000;
			this._submitKey.blendShader=-this._submitKey.blendShader;
		}
	}

	__proto.translate=function(x,y){
		if (x!==0 || y!==0){
			SaveTranslate.save(this);
			if (this._curMat._bTransform){
				SaveTransform.save(this);
				this._curMat.tx+=(x *this._curMat.a+y *this._curMat.c);
				this._curMat.ty+=(x *this._curMat.b+y *this._curMat.d);
				}else {
				this._curMat.tx=x;
				this._curMat.ty=y;
			}
		}
	}

	__proto.save=function(){
		this._save[this._save._length++]=SaveMark.Create(this);
	}

	__proto.restore=function(){
		var sz=this._save._length;
		if (sz < 1)
			return;
		for (var i=sz-1;i >=0;i--){
			var o=this._save[i];
			o.restore(this);
			if (o.isSaveMark()){
				this._save._length=i;
				return;
			}
		}
	}

	__proto.fillText=function(txt,x,y,fontStr,color,align){}
	/**
	*
	*@param txt
	*@param words HTMLChar 数组，是已经在外面排好版的一个数组
	*@param x
	*@param y
	*@param fontStr
	*@param color
	*@param strokeColor
	*@param lineWidth
	*@param textAlign
	*@param underLine
	*/
	__proto._fillText=function(txt,words,x,y,fontStr,color,strokeColor,lineWidth,textAlign,underLine){
		(underLine===void 0)&& (underLine=0);
		this._charBook.filltext(this,txt,x,y,fontStr,color,strokeColor,lineWidth,textAlign,underLine);
	}

	__proto.fillWords=function(words,x,y,fontStr,color,underLine){
		this._fillText(null,words,x,y,fontStr,color,null,-1,null,underLine);
	}

	__proto.fillBorderWords=function(words,x,y,font,color,borderColor,lineWidth){
		this._fillBorderText(null,words,x,y,font,color,borderColor,lineWidth,null);
	}

	__proto.drawText=function(text,x,y,font,color,textAlign){
		this._fillText(text,null,x,y,font,Color$1.create(color).strColor,null,-1,textAlign);
	}

	/**
	*只画边框
	*@param text
	*@param x
	*@param y
	*@param font
	*@param color
	*@param lineWidth
	*@param textAlign
	*/
	__proto.strokeWord=function(text,x,y,font,color,lineWidth,textAlign){
		debugger;
		this._fillText(text,null,x,y,font,null,Color$1.create(color).strColor,lineWidth || 1,textAlign);
	}

	/**
	*即画文字又画边框
	*@param txt
	*@param x
	*@param y
	*@param fontStr
	*@param fillColor
	*@param borderColor
	*@param lineWidth
	*@param textAlign
	*/
	__proto.fillBorderText=function(txt,x,y,fontStr,fillColor,borderColor,lineWidth,textAlign){
		this._fillBorderText(txt,null,x,y,fontStr,Color$1.create(fillColor).strColor,Color$1.create(borderColor).strColor,lineWidth,textAlign);
	}

	__proto._fillBorderText=function(txt,words,x,y,fontStr,fillColor,borderColor,lineWidth,textAlign){
		this._fillText(txt,words,x,y,fontStr,fillColor,borderColor,lineWidth || 1,textAlign);
	}

	__proto._fillRect=function(x,y,width,height,rgba){
		var submit=this._curSubmit;
		var sameKey=submit && (submit._key.submitType===2 && submit._key.blendShader===this._submitKey.blendShader);
		if (this._mesh.vertNum+4 > 65535){
			this._mesh=MeshQuadTexture.getAMesh();
			this.meshlist.push(this._mesh);
			sameKey=false;
		};
		var clipinfo=this.getTransedClipInfo();
		sameKey && (sameKey=sameKey&& this.isSameClipInfo(submit,clipinfo));
		this.transformQuad(x,y,width,height,0,this._curMat,this._transedPoints);
		if(!this.clipedOff(this._transedPoints)){
			this._mesh.addQuad(this._transedPoints,Texture.NO_UV,rgba,this.getTransedClipInfo(),false);
			if (!sameKey){
				var submit=this._curSubmit=SubmitTexture.create(this,this._mesh,Value2D.create(0x01,0));
				this._submits[this._submits._length++]=submit;
				this.copyClipInfo(submit,clipinfo);
				submit.shaderValue.textureHost=this._lastTex;
				submit._key.copyFrom2(this._submitKey,2,this._lastTex?this._lastTex.bitmap.id:-1);
				submit._renderType=10016;
			}
			this._curSubmit._numEle+=6;
			this._mesh.indexNum+=6;
			this._mesh.vertNum+=4;
		}
	}

	__proto.fillRect=function(x,y,width,height,fillStyle){
		var drawstyle=fillStyle? DrawStyle.create(fillStyle):this._shader2D.fillStyle;
		var rgba=this.mixRGBandAlpha(drawstyle.toInt());
		this._fillRect(x,y,width,height,rgba);
	}

	__proto.fillTexture=function(texture,x,y,width,height,type,offset,other){
		debugger;
	}

	/*
	if (!(texture.loaded && texture.bitmap && texture.source)){
		if (this.sprite){
			Laya.timer.callLater(this,this._repaintSprite);
		}
		return;
	}

	var vb:VertexBuffer2D=_mesh._vb;//TODO 这样不太好,不要直接操作_mesh._vb
	var w:Number=texture.bitmap.width,h:Number=texture.bitmap.height,uv:Array=texture.uv;
	var ox:Number=offset.x % texture.width,oy:Number=offset.y % texture.height;
	if (w !=other.w || h !=other.h){
		if (!other.w && !other.h){
			other.oy=other.ox=0;
			switch (type){
				case "repeat":
					other.width=width;
					other.height=height;
					break;
				case "repeat-x":
					other.width=width;
					if (oy < 0){
						if (texture.height+oy > height){
							other.height=height;
							}else {
							other.height=texture.height+oy;
						}
						}else {
						other.oy=oy;
						if (texture.height+oy > height){
							other.height=height-oy;
							}else {
							other.height=texture.height;
						}
					}
					break;
				case "repeat-y":
					if (ox < 0){
						if (texture.width+ox > width){
							other.width=width;
							}else {
							other.width=texture.width+ox;
						}
						}else {
						other.ox=ox;
						if (texture.width+ox > width){
							other.width=width-ox;
							}else {
							other.width=texture.width;
						}
					}
					other.height=height;
					break;
				default:
					other.width=width;
					other.height=height;
					break;
				}
		}
		other.w=w;
		other.h=h;
		other.uv=[0,0,other.width / w,0,other.width / w,other.height / h,0,other.height / h];
	}

	x+=other.ox;
	y+=other.oy;
	ox-=other.ox;
	oy-=other.oy;
	if (GlUtils.fillRectImgVb(vb,_clipRect,x,y,other.width,other.height,other.uv,_curMat)){
		var submit:SubmitTexture=SubmitTexture.create(this,_mesh,_mesh.indexNum,Value2D.create(ShaderDefines2D.FILLTEXTURE,0));
		submit._key.clear();
		_submits[_submits._length++]=submit;
		var shaderValue:FillTextureSV=submit.shaderValue as FillTextureSV;
		shaderValue.textureHost=texture;
		var tTextureX:Number=uv[0] *w;
		var tTextureY:Number=uv[1] *h;
		var tTextureW:Number=(uv[2]-uv[0])*w;
		var tTextureH:Number=(uv[5]-uv[3])*h;
		var tx:Number=-ox / w;
		var ty:Number=-oy / h;
		shaderValue.u_TexRange[0]=tTextureX / w;
		shaderValue.u_TexRange[1]=tTextureW / w;
		shaderValue.u_TexRange[2]=tTextureY / h;
		shaderValue.u_TexRange[3]=tTextureH / h;
		shaderValue.u_offset[0]=tx;
		shaderValue.u_offset[1]=ty;
		_curSubmit=submit;
		submit._renderType=Submit.TYPE_FILLTEXTURE;
		submit._numEle+=6;
		_mesh.vertNum+=4;
		_mesh.indexNum+=6;
	}

	*/
	__proto.setShader=function(shader){
		SaveBase.save(this,0x100000,this._shader2D,true);
		this._shader2D.shader=shader;
		this._reCalculateBlendShader();
	}

	__proto.setFilters=function(value){
		SaveBase.save(this,0x200000,this._shader2D,true);
		this._shader2D.filters=value;
		this._curSubmit=Submit.RENDERBASE;
		this._drawCount++;
		this._reCalculateBlendShader();
	}

	__proto.drawTexture=function(tex,x,y,width,height){
		this._drawTextureM(tex,x,y,width,height,null,1);
	}

	__proto.drawTextures=function(tex,pos,tx,ty){
		if (!(tex.loaded && tex._getSource())){
			this.sprite && Laya.timer.callLater(this,this._repaintSprite);
			return;
		};
		var n=pos.length / 2;
		var ipos=0;
		for (var i=0;i < n;i++){
			this._inner_drawTexture(tex,tex.bitmap.id,pos[ipos++]+tx,pos[ipos++]+ty);
		}
	}

	/**
	*为drawTexture添加一个新的submit。类型是 SubmitTexture
	*@param vbSize
	*@param alpha
	*@param webGLImg
	*@param tex
	*/
	__proto._drawTextureAddSubmit=function(imgid,tex){
		var submit=null;
		submit=SubmitTexture.create(this,this._mesh,Value2D.create(0x01,0));
		this._submits[this._submits._length++]=submit;
		submit.shaderValue.textureHost=tex;
		submit._key.copyFrom2(this._submitKey,2,imgid);
		submit._renderType=10016;
		this._curSubmit=submit;
	}

	//shader.ALPHA=alphaBack;
	__proto._drawTextureM=function(tex,x,y,width,height,m,alpha,uv){
		if (!(tex._loaded && tex._getSource())){
			if (this.sprite){
				Laya.timer.callLater(this,this._repaintSprite);
			}
			return false;
		}
		this._inner_drawTexture(tex,tex.bitmap.id,x,y,width,height,m,alpha,uv);
	}

	__proto._drawRenderTexture=function(tex,x,y,width,height,m,alpha,uv){
		this._inner_drawTexture(tex,-1,x,y,width,height,m,alpha,uv);
	}

	__proto.submitDebugger=function(){
		this._submits[this._submits._length++]=SubmitCMD.create([],function(){debugger;});
	}

	__proto.copyClipInfo=function(submit,clipInfo){
		var cd=submit.shaderValue.clipDir;
		cd[0]=clipInfo[2];cd[1]=clipInfo[3];cd[2]=clipInfo[4];cd[3]=clipInfo[5];
		var cp=submit.shaderValue.clipRect;
		cp[0]=clipInfo[0];cp[1]=clipInfo[1];
		submit.clipInfoID=this._clipInfoID;
	}

	__proto.isSameClipInfo=function(submit,clipInfo){
		return (submit.clipInfoID===this._clipInfoID);
	}

	/**
	*
	*@param tex {Texture | RenderTexture }
	*@param imgid 图片id用来比较合并的
	*@param x
	*@param y
	*@param width
	*@param height
	*@param m
	*@param alpha
	*@param uv
	*@return
	*/
	__proto._inner_drawTexture=function(tex,imgid,x,y,width,height,m,alpha,uv){
		this._drawCount++;
		var preKey=this._curSubmit._key;
		var sameKey=imgid >=0 && preKey.submitType===2 && preKey.other===imgid;
		var clipInfo=this.getTransedClipInfo();
		sameKey && (sameKey=sameKey&& this.isSameClipInfo(this._curSubmit,clipInfo));
		this._lastTex=tex;
		var rgba=this.mixRGBandAlpha(this._drawTextureUseColor?(this.fillStyle?this.fillStyle.toInt():0):0xffffffff);
		if (this._mesh.vertNum+4 > 65535){
			this._mesh=MeshQuadTexture.getAMesh();
			this.meshlist.push(this._mesh);
			sameKey=false;
		}
		this.transformQuad(x,y,width || tex.width,height || tex.height,this._italicDeg,m || this._curMat,this._transedPoints);
		if(!this.clipedOff(this._transedPoints)){
			this._mesh.addQuad(this._transedPoints,uv || tex.uv,rgba,clipInfo,true);
			sameKey || this._drawTextureAddSubmit(imgid,tex);
			this.copyClipInfo(this._curSubmit,clipInfo);
			this._curSubmit._numEle+=6;
			this._mesh.indexNum+=6;
			this._mesh.vertNum+=4;
			this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);
			return true;
		}
		return false;
	}

	/**
	*转换4个顶点。为了效率这个不做任何检查。需要调用者的配合。
	*@param a 输入。8个元素表示4个点
	*@param out 输出
	*/
	__proto.transform4Points=function(a,m,out){
		if (m._bTransform){
			out[0]=a[0] *m.a+a[1] *m.c+m.tx;out[1]=a[0] *m.b+a[1] *m.d+m.ty;
			out[2]=a[2] *m.a+a[3] *m.c+m.tx;out[3]=a[2] *m.b+a[3] *m.d+m.ty;
			out[4]=a[4] *m.a+a[5] *m.c+m.tx;out[5]=a[4] *m.b+a[5] *m.d+m.ty;
			out[6]=a[6] *m.a+a[7] *m.c+m.tx;out[7]=a[6] *m.b+a[7] *m.d+m.ty;
			}else {
			out[0]=a[0]+m.tx;out[1]=a[1]+m.ty;
			out[2]=a[2]+m.tx;out[3]=a[3]+m.ty;
			out[4]=a[4]+m.tx;out[5]=a[5]+m.ty;
			out[6]=a[6]+m.tx;out[7]=a[7]+m.ty;
		}
	}

	/**
	*pt所描述的多边形完全在clip外边，整个被裁掉了
	*@param pt
	*@return
	*/
	__proto.clipedOff=function(pt){
		if (this._clipRect.width <=0 || this._clipRect.height <=0)
			return true;
		return false;
	}

	/**
	*应用当前矩阵。把转换后的位置放到输出数组中。
	*@param x
	*@param y
	*@param w
	*@param h
	*@param italicDeg 倾斜角度，单位是度。0度无，目前是下面不动。以后要做成可调的
	*/
	__proto.transformQuad=function(x,y,w,h,italicDeg,m,out){
		var xoff=0;
		if (italicDeg !=0){
			xoff=Math.tan(italicDeg *Math.PI / 180)*h;
		};
		var maxx=x+w;var maxy=y+h;
		this._temp4Points[0]=x+xoff;this._temp4Points[1]=y;
		this._temp4Points[2]=maxx+xoff;this._temp4Points[3]=y;
		this._temp4Points[4]=maxx;this._temp4Points[5]=maxy;
		this._temp4Points[6]=x;this._temp4Points[7]=maxy;
		this.transform4Points(this._temp4Points,m,out);
	}

	/**
	*
	*@param tex
	*@param imgid
	*@param pos 四个顶点
	*@param m null 则表示不用
	*@param alpha
	*@param uv
	*@return
	*/
	__proto._inner_drawTextureVerts=function(tex,imgid,pos,m,alpha,uv){}
	/*
	_drawCount++;
	var preKey:SubmitKey=_curSubmit._key;
	var sameKey:Boolean=imgid>=0 && preKey.submitType===Submit.KEY_DRAWTEXTURE && preKey.other===imgid ;
	var rgba=mixRGBandAlpha(_drawTextureUseColor?(fillStyle?fillStyle.toInt():0):0xffffffff);
	if (_mesh.vertNum+4 > _MAXVERTNUM){
		_mesh=MeshQuadTexture.getAMesh();//创建新的mesh TODO 如果_mesh不是常见格式，这里就不能这么做了。以后把_mesh单独表示成常用模式
		meshlist.push(_mesh);
		sameKey=false;//新的mesh不能算samekey了
	}

	//凡是这个都是在_mesh上操作，不用考虑samekey
	if (GlUtils.fillRectImgVb(_mesh._vb,_clipRect,x,y,width || tex.width,height || tex.height,uv || tex.uv,m || _curMat,rgba,this)){
		sameKey || _drawTextureAddSubmit(imgid,tex);
		_curSubmit._numEle+=6;
		_mesh.indexNum+=6;
		_mesh.vertNum+=4;
		_maxNumEle=Math.max(_maxNumEle,_curSubmit._numEle);
		return true;
	}

	return false;
	*/
	__proto._drawTextureM2=function(tex,x,y,width,height,_x,_y){
		debugger;
		return false;
	}

	__proto.pushRT=function(){
		this.addRenderObject(SubmitCMD.create(null,RenderTexture2D.pushRT));
	}

	__proto.popRT=function(){
		this.addRenderObject(SubmitCMD.create(null,RenderTexture2D.popRT));
		this.onChangeRT();
	}

	__proto.useRT=function(rt){
		function _use (rt){
			if (!rt){
				throw 'error useRT'
				}else{
				rt.start();
				rt.clear(0,0,0,0);
			}
		}
		this.addRenderObject(SubmitCMD.create([rt],_use));
		this.onChangeRT();
	}

	/**
	*异步执行rt的restore函数
	*@param rt
	*/
	__proto.RTRestore=function(rt){
		function _restore (rt){
			rt.restore();
		}
		this.addRenderObject(SubmitCMD.create([rt],_restore));
		this.onChangeRT();
	}

	/**
	*切换rt的时候需要做的一些处理
	*在生成submit阶段执行。
	*/
	__proto.onChangeRT=function(){
		this._curSubmit=Submit.RENDERBASE;
		this._shader2D.glTexture=null;
	}

	//绘制前置空下，保证不会被打包进上一个序列
	__proto._repaintSprite=function(){
		this.sprite && this.sprite.repaint();
	}

	/**
	*
	*@param tex
	*@param x
	*@param y
	*@param width
	*@param height
	*@param transform 图片本身希望的矩阵
	*@param tx 节点的位置
	*@param ty
	*@param alpha
	*/
	__proto.drawTextureWithTransform=function(tex,x,y,width,height,transform,tx,ty,alpha){
		if (!transform){
			this._drawTextureM(tex,x+tx,y+ty,width,height,null,alpha);
			return;
		};
		var curMat=this._curMat;
		WebGLContext2D._tmpMatrix.a=transform.a;WebGLContext2D._tmpMatrix.b=transform.b;WebGLContext2D._tmpMatrix.c=transform.c;WebGLContext2D._tmpMatrix.d=transform.d;WebGLContext2D._tmpMatrix.tx=transform.tx+tx;WebGLContext2D._tmpMatrix.ty=transform.ty+ty;
		WebGLContext2D._tmpMatrix._bTransform=transform._bTransform;
		if (transform && curMat._bTransform){
			Matrix.mul(WebGLContext2D._tmpMatrix,curMat,WebGLContext2D._tmpMatrix);
			transform=WebGLContext2D._tmpMatrix;
			transform._bTransform=true;
			}else {
			transform=WebGLContext2D._tmpMatrix;
		}
		this._drawTextureM(tex,x,y,width,height,transform,alpha);
	}

	__proto.drawTexture2Slow=function(x,y,pivotX,pivotY,transform,alpha,blendMode,args){
		debugger;
	}

	/*
	if (alpha==0)return;
	var curMat:Matrix=_curMat;
	_x=x *curMat.a+y *curMat.c;
	_y=y *curMat.d+x *curMat.b;
	if (transform){
		if (curMat._bTransform || transform._bTransform){
			Matrix.mul(transform,curMat,_tmpMatrix);
			transform=_tmpMatrix;
			}else {
			_x+=transform.tx+curMat.tx;
			_y+=transform.ty+curMat.ty;
			transform=Matrix.EMPTY;
		}
	}

	if (alpha===1 && !blendMode)
		//tx:Texture,x:Number,y:Number,width:Number,height:Number
	_drawTextureM(args[0],args[1]-pivotX,args[2]-pivotY,args[3],args[4],transform,1);
	else {
		var preAlpha:Number=_shader2D.ALPHA;
		var preblendType:int=_nBlendType;
		_shader2D.ALPHA=alpha;
		blendMode && (_nBlendType=BlendMode.TOINT(blendMode));
		_drawTextureM(args[0],args[1]-pivotX,args[2]-pivotY,args[3],args[4],transform,1);
		_shader2D.ALPHA=preAlpha;
		_nBlendType=preblendType;
	}

	_x=_y=0;
	*/
	__proto.drawTexture2=function(x,y,pivotX,pivotY,transform,alpha,blendMode,args){
		if (this._curMat._bTransform || transform || alpha!==1 || blendMode)
			this.drawTexture2Slow(x,y,pivotX,pivotY,transform,alpha,blendMode,args);
		else
		this._drawTextureM2(args[0],args[1]-pivotX,args[2]-pivotY,args[3],args[4],x,y);
	}

	/**
	**把ctx中的submits提交。结果渲染到target上
	*@param ctx
	*@param target
	*/
	__proto.flushRenderTarget=function(ctx,target){
		var gl=LayaGL.instance;
		target.start();
		ctx.flush();
		ctx.clear();
		target.restore();
	}

	/*
	RenderState2D.width=oldRSW;
	RenderState2D.height=oldRSH;
	gl.viewport(0,0,oldRSW,oldRSH);//TODO 如果不是这样呢
	*/
	__proto._flushToTarget=function(context,target){
		RenderState2D.worldScissorTest=false;
		WebGL.mainContext.disable(0x0C11);
		var preAlpha=RenderState2D.worldAlpha;
		var preMatrix4=RenderState2D.worldMatrix4;
		var preMatrix=RenderState2D.worldMatrix;
		var preShaderDefines=RenderState2D.worldShaderDefines;
		RenderState2D.worldMatrix=Matrix.EMPTY;
		RenderState2D.restoreTempArray();
		RenderState2D.worldMatrix4=RenderState2D.TEMPMAT4_ARRAY;
		RenderState2D.worldAlpha=1;
		BaseShader.activeShader=null;
		target.start();
		Config.showCanvasMark ? target.clear(0,1,0,0.3):target.clear(0,0,0,0);
		context._curSubmit=Submit.RENDERBASE;
		context.flush();
		context.clear();
		target.restore();
		context._curSubmit=Submit.RENDERBASE;
		BaseShader.activeShader=null;
		RenderState2D.worldAlpha=preAlpha;
		RenderState2D.worldMatrix4=preMatrix4;
		RenderState2D.worldMatrix=preMatrix;
	}

	//RenderState2D.worldShaderDefines=preShaderDefines;
	__proto.drawCanvas=function(canvas,x,y,width,height){
		var src=canvas.context;
		if (src._targets){
			if (src._submits._length > 0){
				var submit=SubmitCMD.create([src,src._targets],this._flushToTarget,this);
				this._submits[this._submits._length++]=submit;
			}
			this._drawRenderTexture(src._targets,x,y,width,height,null,1.0,RenderTexture2D.flipyuv);
			this._curSubmit=Submit.RENDERBASE;
			}else {
			if (src.touches){
				(src.touches).forEach(function(v){v.touch();});
			}
			submit=SubmitCanvas.create(src,this._shader2D.ALPHA,this._shader2D.filters);
			this._submits[this._submits._length++]=submit;
			submit._key.clear();
			var sx=width / canvas.width;
			var sy=height / canvas.height;
			var mat=submit._matrix;
			this._curMat.copyTo(mat);
			sx !=1 && sy !=1 && mat.scale(sx,sy);
			var tx=mat.tx,ty=mat.ty;
			mat.tx=mat.ty=0;
			mat.transformPoint(Point.TEMP.setTo(x,y));
			mat.translate(Point.TEMP.x+tx,Point.TEMP.y+ty);
			this._curSubmit=Submit.RENDERBASE;
		}
		if (Config.showCanvasMark){
			this.save();
			this.lineWidth=4;
			this.strokeStyle=src._targets ? "yellow" :"green";
			this.strokeRect(x-1,y-1,width+2,height+2,1);
			this.strokeRect(x,y,width,height,1);
			this.restore();
		}
	}

	__proto.drawTarget=function(scope,x,y,width,height,m,proName,shaderValue,uv,blend){
		(blend===void 0)&& (blend=-1);
		this._drawCount++;
		var rgba=this.mixRGBandAlpha(this._drawTextureUseColor?(this.fillStyle?this.fillStyle.toInt():0):0xffffffff);
		if (this._mesh.vertNum+4 > 65535){
			this._mesh=MeshQuadTexture.getAMesh();
			this.meshlist.push(this._mesh);
		}
		this.transformQuad(x,y,width,height,0,m || this._curMat,this._transedPoints);
		if(!this.clipedOff(this._transedPoints)){
			this._mesh.addQuad(this._transedPoints,uv || Texture.DEF_UV,0xffffffff,this.getTransedClipInfo(),true);
			var submit=this._curSubmit=SubmitTarget.create(this,this._mesh,shaderValue,proName);
			submit.blendType=(blend==-1)?this._nBlendType:blend;
			submit.scope=scope;
			this.copyClipInfo(submit,this.getTransedClipInfo());
			submit._numEle=6;
			this._mesh.indexNum+=6;
			this._mesh.vertNum+=4;
			this._maxNumEle=Math.max(this._maxNumEle,submit._numEle);
			this._submits[this._submits._length++]=submit;
			return true;
		}
		return false;
	}

	__proto.drawTriangles=function(tex,x,y,vertices,uvs,indices,matrix,alpha,color,blendMode){
		if (!(tex._loaded && tex._getSource())){
			if (this.sprite){
				Laya.timer.callLater(this,this._repaintSprite);
			}
			return false;
		}
		this._drawCount++;
		var webGLImg=tex.bitmap;
		var preKey=this._curSubmit._key;
		var sameKey=preKey.submitType===4 && preKey.other===webGLImg.id;
		var rgba=this._mixRGBandAlpha(0xffffffff,alpha);
		var vertNum=vertices.length / 2;
		var eleNum=indices.length;
		if (this._triangleMesh.vertNum+vertNum > 65535){
			this._triangleMesh=MeshTexture.getAMesh();
			this.meshlist.push(this._triangleMesh);
			sameKey=false;
		}
		if (!sameKey){
			var submit=this._curSubmit=SubmitTexture.create(this,this._triangleMesh,Value2D.create(0x01,0));
			submit.shaderValue.textureHost=tex;
			submit._key.copyFrom2(this._submitKey,4,webGLImg.id);
			submit._renderType=10016;
			this._submits[this._submits._length++]=submit;
		}
		WebGLContext2D._tmpMatrix.a=matrix.a;WebGLContext2D._tmpMatrix.b=matrix.b;WebGLContext2D._tmpMatrix.c=matrix.c;WebGLContext2D._tmpMatrix.d=matrix.d;WebGLContext2D._tmpMatrix.tx=matrix.tx+x;WebGLContext2D._tmpMatrix.ty=matrix.ty+y;
		Matrix.mul(WebGLContext2D._tmpMatrix,this._curMat,WebGLContext2D._tmpMatrix);
		this._triangleMesh.addData(vertices,uvs,indices,WebGLContext2D._tmpMatrix,rgba,this);
		this._curSubmit._numEle+=eleNum;
		this._maxNumEle=Math.max(this._maxNumEle,this._curSubmit._numEle);
		return true;
	}

	__proto.transform=function(a,b,c,d,tx,ty){
		SaveTransform.save(this);
		Matrix.mul(Matrix.TEMP.setTo(a,b,c,d,tx,ty),this._curMat,this._curMat);
		this._curMat._checkTransform();
	}

	__proto._transformByMatrix=function(matrix,tx,ty){
		matrix.setTranslate(tx,ty);
		Matrix.mul(matrix,this._curMat,this._curMat);
		matrix.setTranslate(0,0);
		this._curMat._bTransform=true;
	}

	__proto.setTransformByMatrix=function(value){
		value.copyTo(this._curMat);
	}

	__proto.rotate=function(angle){
		SaveTransform.save(this);
		this._curMat.rotateEx(angle);
	}

	__proto.scale=function(scaleX,scaleY){
		SaveTransform.save(this);
		this._curMat.scaleEx(scaleX,scaleY);
	}

	/**
	*获得受到矩阵缩放影响后的clip信息。
	*@return
	*/
	__proto.getTransedClipInfo=function(){
		return this._transedClipInfo;
	}

	__proto.clipRect=function(x,y,width,height){
		SaveClipRect.save(this);
		if (this._clipRect==WebGLContext2D.MAXCLIPRECT){
			this._clipRect=new Rectangle(x,y,width,height);
			}else {
			this._clipRect.width=width;
			this._clipRect.height=height;
			this._clipRect.x=x;
			this._clipRect.y=y;
		}
		this._clipInfoID=(++this._clipInfoID)% 10000;
		if (this._clipRect.width >=99999999){
			this._transedClipInfo[0]=0;this._transedClipInfo[1]=0;
			this._transedClipInfo[2]=99999999;this._transedClipInfo[3]=0;
			this._transedClipInfo[5]=99999999;this._transedClipInfo[4]=0;
			}else {
			if(this._curMat._bTransform){
				this._transedClipInfo[0]=this._clipRect.x *this._curMat.a+this._clipRect.y *this._curMat.c+this._curMat.tx;
				this._transedClipInfo[1]=this._clipRect.x *this._curMat.b+this._clipRect.y *this._curMat.d+this._curMat.ty;
				this._transedClipInfo[2]=this._clipRect.width *this._curMat.a;
				this._transedClipInfo[3]=this._clipRect.width *this._curMat.b;
				this._transedClipInfo[4]=this._clipRect.height *this._curMat.c;
				this._transedClipInfo[5]=this._clipRect.height *this._curMat.d;
				}else {
				this._transedClipInfo[0]=this._clipRect.x+this._curMat.tx;
				this._transedClipInfo[1]=this._clipRect.y+this._curMat.ty;
				this._transedClipInfo[2]=this._clipRect.width;
				this._transedClipInfo[3]=0;
				this._transedClipInfo[4]=0;
				this._transedClipInfo[5]=this._clipRect.height;
			}
		}
	}

	/**
	*从setIBVB改为drawMesh
	*type 参数不知道是干什么的，先删掉。offset好像跟attribute有关，删掉
	*@param x
	*@param y
	*@param ib
	*@param vb
	*@param numElement
	*@param mat
	*@param shader
	*@param shaderValues
	*@param startIndex
	*@param offset
	*/
	__proto.drawMesh=function(x,y,ib,vb,numElement,mat,shader,shaderValues,startIndex){
		(startIndex===void 0)&& (startIndex=0);
		debugger;
	}

	/*
	if (ib===null){
		ib=_ib;
		GlUtils.expandIBQuadrangle(ib,(vb._byteLength / (Buffer2D.FLOAT32 *vb.vertexStride *4)));//由于允许任意vb，所以这里不应该这么调用了。
	}

	if (!shaderValues || !shader)
		throw Error("setIBVB must input:shader shaderValues");
	var submit:SubmitOtherIBVB=SubmitOtherIBVB.create(this,vb,ib,numElement,shader,shaderValues,startIndex);
	mat || (mat=Matrix.EMPTY);
	mat.translate(x,y);
	Matrix.mul(mat,_curMat,submit._mat);
	mat.translate(-x,-y);
	_submits[this._submits._length++]=submit;
	submit._key.clear();
	_curSubmit=Submit.RENDERBASE;
	*/
	__proto.addRenderObject=function(o){
		this._submits[this._submits._length++]=o;
	}

	__proto.fillTrangles=function(tex,x,y,points,m){
		debugger;
	}

	/**
	*
	*@param start
	*@param end
	*/
	__proto.submitElement=function(start,end){
		var renderList=this._submits;
		end < 0 && (end=renderList._length);
		var submit=Submit.RENDERBASE;
		while (start < end){
			this._renderNextSubmitIndex=start+1;
			if (renderList[start]===Submit.RENDERBASE){
				start++;
				continue ;
			}
			Submit.preRender=submit;
			submit=renderList[start];
			start+=submit.renderSubmit();
		}
	}

	__proto.submitNextElement=function(count){
		return this.submitElement(this._renderNextSubmitIndex,this._renderNextSubmitIndex+count);
	}

	__proto.flush=function(){
		this.submitElement(0,this._submits._length);
		this._path && this._path.reset();
		SkinMeshBuffer.instance && SkinMeshBuffer.getInstance().reset();
		Stat.mesh2DNum+=this.meshlist.length;
		this._curSubmit=Submit.RENDERBASE;
		for (var i=0,sz=this.meshlist.length;i < sz;i++){
			var curm=this.meshlist[i];
			curm.canReuse?(curm.releaseMesh()):(curm.destroy());
		}
		this.meshlist.length=0;
		this._mesh=MeshQuadTexture.getAMesh();
		this._pathMesh=MeshVG.getAMesh();
		this._triangleMesh=MeshTexture.getAMesh();
		this.meshlist.push(this._mesh,this._pathMesh,this._triangleMesh);
		var cbook=CharBook.charbookInst;
		cbook.GC();
		return this._submits._length;
	}

	__proto.setPathId=function(id){
		this.mId=id;
		if (this.mId !=-1){
			this.mHaveKey=false;
			var tVGM=VectorGraphManager.getInstance();
			if (tVGM.shapeDic[this.mId]){
				this.mHaveKey=true;
			}
			this.mHaveLineKey=false;
			if (tVGM.shapeLineDic[this.mId]){
				this.mHaveLineKey=true;
			}
		}
	}

	__proto.beginPath=function(convex){
		(convex===void 0)&& (convex=false);
		var tPath=this._getPath();
		tPath.beginPath(convex);
	}

	__proto.closePath=function(convex){
		this._path.closePath();
	}

	/**
	*添加一个path。
	*@param points [x,y,x,y....] 这个会被保存下来，所以调用者需要注意复制。
	*@param close 是否闭合
	*@param convex 是否是凸多边形。convex的优先级是这个最大。fill的时候的次之。其实fill的时候不应该指定convex，因为可以多个path
	*@param dx 需要添加的平移。这个需要在应用矩阵之前应用。
	*@param dy
	*/
	__proto.addPath=function(points,close,convex,dx,dy){
		var ci=0;
		var m=this._curMat;
		if(this._curMat._bTransform){
			for (var i=0,sz=points.length / 2;i < sz;i++){
				var x=points[ci]+dx,y=points[ci+1]+dy;
				points[ci]=x*m.a+y*m.c+m.tx;
				points[ci+1]=x*m.b+y*m.d+m.ty;
				ci+=2;
			}
			}else {
			if (m.tx==0 && m.ty==0 && !dx && !dy){}
				else {
				for (var i=0,sz=points.length / 2;i < sz;i++){
					var x=points[ci]+dx,y=points[ci+1]+dy;
					points[ci]=x+m.tx;
					points[ci+1]=y+m.ty;
					ci+=2;
				}
			}
		}
		this._getPath().push(points,convex);
	}

	__proto.fill=function(){
		var tPath=this._getPath();
		var submit=this._curSubmit;
		var sameKey=(submit._key.submitType===3 && submit._key.blendShader===this._submitKey.blendShader);
		sameKey && (sameKey=sameKey&&this.isSameClipInfo(submit,this.getTransedClipInfo()));
		if (!sameKey){
			this._curSubmit=this.addVGSubmit(this._pathMesh);
		};
		var rgba=this.mixRGBandAlpha(this.fillStyle.toInt());
		var curEleNum=0;
		for (var i=0,sz=tPath.paths.length;i < sz;i++){
			var p=tPath.paths[i];
			var vertNum=p.path.length / 2;
			if (this._pathMesh.vertNum+vertNum > 65535){
				this._curSubmit._numEle+=curEleNum;
				curEleNum=0;
				this._pathMesh=MeshVG.getAMesh();
				this._curSubmit=this.addVGSubmit(this._pathMesh);
			};
			var curvert=this._pathMesh.vertNum;
			if (p.convex){
				var faceNum=vertNum-2;
				var idx=new Array(faceNum *3);
				var idxpos=0;
				for (var fi=0;fi < faceNum;fi++){
					idx[idxpos++]=curvert;
					idx[idxpos++]=fi+1+curvert;
					idx[idxpos++]=fi+2+curvert;
				}
			}
			else {
				var idx=Earcut.earcut(p.path,null,2);
				if (curvert > 0){
					for (var ii=0;ii < idx.length;ii++){
						idx[ii]+=curvert;
					}
				}
			}
			this._pathMesh.addVertAndIBToMesh(this,p.path,rgba,idx);
			curEleNum+=idx.length;
		}
		this._curSubmit._numEle+=curEleNum;
	}

	__proto.addVGSubmit=function(mesh){
		var submit=Submit.createShape(this,mesh,0,Value2D.create(0x04,0));
		submit._key.blendShader=this._submitKey.blendShader;
		submit._key.submitType=3;
		this._submits[this._submits._length++]=submit;
		this.copyClipInfo(submit,this.getTransedClipInfo());
		return submit;
	}

	__proto.stroke=function(){
		if (this.lineWidth > 0){
			var rgba=this.mixRGBandAlpha(this.strokeStyle._color.numColor);
			var tPath=this._getPath();
			var submit=this._curSubmit;
			var sameKey=(submit._key.submitType===3 && submit._key.blendShader===this._submitKey.blendShader);
			sameKey && (sameKey=sameKey&& this.isSameClipInfo(submit,this.getTransedClipInfo()));
			if (!sameKey){
				this._curSubmit=this.addVGSubmit(this._pathMesh);
			};
			var curEleNum=0;
			for (var i=0,sz=tPath.paths.length;i < sz;i++){
				var p=tPath.paths[i];
				if (p.path.length <=0)
					continue ;
				var idx=[];
				var vertex=[];
				var maxVertexNum=p.path.length *2;
				if (this._pathMesh.vertNum+maxVertexNum > 65535){
					this._curSubmit._numEle+=curEleNum;
					curEleNum=0;
					this._pathMesh=MeshVG.getAMesh();
					this.meshlist.push(this._pathMesh);
					this._curSubmit=this.addVGSubmit(this._pathMesh);
				}
				BasePoly.createLine2(p.path,idx,this.lineWidth,this._pathMesh.vertNum,vertex,p.loop);
				this._pathMesh.addVertAndIBToMesh(this,vertex,rgba,idx);
				curEleNum+=idx.length;
			}
			this._curSubmit._numEle+=curEleNum;
		}
	}

	__proto.moveTo=function(x,y,b){
		(b===void 0)&& (b=true);
		var tPath=this._getPath();
		tPath.newPath();
		tPath._lastOriX=x;
		tPath._lastOriY=y;
		if (b){
			var _x1=x,_y1=y;
			x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
			y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
		}
		tPath.addPoint(x,y);
	}

	/**
	*
	*@param x
	*@param y
	*@param b 是否应用矩阵
	*/
	__proto.lineTo=function(x,y,b){
		(b===void 0)&& (b=true);
		var tPath=this._getPath();
		if (Math.abs(x-tPath._lastOriX)<1e-3 && Math.abs(y-tPath._lastOriY)<1e-3)
			return;
		tPath._lastOriX=x;
		tPath._lastOriY=y;
		if (b){
			var _x1=x,_y1=y;
			x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
			y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
		}
		tPath.addPoint(x,y);
	}

	/*
	override public function drawCurves(x:Number,y:Number,points:Array,lineColor:*,lineWidth:Number=1):void {
		//setPathId(-1);
		beginPath();
		strokeStyle=lineColor;
		this.lineWidth=lineWidth;
		var points:Array=points;
		//movePath(x,y);TODO 这个被去掉了
		moveTo(points[0],points[1]);
		var i:int=2,n:int=points.length;
		while (i < n){
			quadraticCurveTo(points[i++],points[i++],points[i++],points[i++]);
		}
		stroke();
	}

	*/
	__proto.arcTo=function(x1,y1,x2,y2,r){
		var i=0;
		var x=0,y=0;
		var dx=this._path._lastOriX-x1;
		var dy=this._path._lastOriY-y1;
		var len1=Math.sqrt(dx*dx+dy*dy);
		if (len1 <=0.000001){
			return;
		};
		var ndx=dx / len1;
		var ndy=dy / len1;
		var dx2=x2-x1;
		var dy2=y2-y1;
		var len22=dx2*dx2+dy2*dy2;
		var len2=Math.sqrt(len22);
		if (len2 <=0.000001){
			return;
		};
		var ndx2=dx2 / len2;
		var ndy2=dy2 / len2;
		var odx=ndx+ndx2;
		var ody=ndy+ndy2;
		var olen=Math.sqrt(odx*odx+ody*ody);
		if (olen <=0.000001){
			return;
		};
		var nOdx=odx / olen;
		var nOdy=ody / olen;
		var alpha=Math.acos(nOdx*ndx+nOdy*ndy);
		var halfAng=Math.PI / 2-alpha;
		len1=r / Math.tan(halfAng);
		var ptx1=len1*ndx+x1;
		var pty1=len1*ndy+y1;
		var orilen=Math.sqrt(len1 *len1+r *r);
		var orix=x1+nOdx*orilen;
		var oriy=y1+nOdy*orilen;
		var ptx2=len1*ndx2+x1;
		var pty2=len1*ndy2+y1;
		var dir=ndx *ndy2-ndy *ndx2;
		var fChgAng=0;
		var sinx=0.0;
		var cosx=0.0;
		if (dir >=0){
			fChgAng=halfAng *2;
			var fda=fChgAng / WebGLContext2D.SEGNUM;
			sinx=Math.sin(fda);
			cosx=Math.cos(fda);
		}
		else {
			fChgAng=-halfAng *2;
			fda=fChgAng / WebGLContext2D.SEGNUM;
			sinx=Math.sin(fda);
			cosx=Math.cos(fda);
		};
		var lastx=this._path._lastOriX,lasty=this._path._lastOriY;
		var _x1=ptx1 ,_y1=pty1;
		if (Math.abs(_x1-this._path._lastOriX)>0.1 || Math.abs(_y1-this._path._lastOriY)>0.1){
			x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
			y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
			lastx=_x1;
			lasty=_y1;
			this._path.addPoint(x,y);
		};
		var cvx=ptx1-orix;
		var cvy=pty1-oriy;
		var tx=0.0;
		var ty=0.0;
		for (i=0;i < WebGLContext2D.SEGNUM;i++){
			var cx=cvx*cosx+cvy*sinx;
			var cy=-cvx*sinx+cvy*cosx;
			x=cx+orix;
			y=cy+oriy;
			if (Math.abs(lastx-x)>0.1 || Math.abs(lasty-y)>0.1){
				var _x1=x,_y1=y;
				x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
				y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
				this._path.addPoint(x,y);
				lastx=x;
				lasty=y;
			}
			cvx=cx;
			cvy=cy;
		}
	}

	__proto.arc=function(cx,cy,r,startAngle,endAngle,counterclockwise,b){
		(counterclockwise===void 0)&& (counterclockwise=false);
		(b===void 0)&& (b=true);
		var a=0,da=0,hda=0,kappa=0;
		var dx=0,dy=0,x=0,y=0,tanx=0,tany=0;
		var px=0,py=0,ptanx=0,ptany=0;
		var i=0,ndivs=0,nvals=0;
		da=endAngle-startAngle;
		if (!counterclockwise){
			if (Math.abs(da)>=Math.PI *2){
				da=Math.PI *2;
				}else {
				while (da < 0.0){
					da+=Math.PI *2;
				}
			}
			}else {
			if (Math.abs(da)>=Math.PI *2){
				da=-Math.PI *2;
				}else {
				while (da > 0.0){
					da-=Math.PI *2;
				}
			}
		}
		if (r < 101){
			ndivs=Math.max(10,da *r / 5);
			}else if (r < 201){
			ndivs=Math.max(10,da *r / 20);
			}else {
			ndivs=Math.max(10,da *r / 40);
		}
		hda=(da / ndivs)/ 2.0;
		kappa=Math.abs(4 / 3 *(1-Math.cos(hda))/ Math.sin(hda));
		if (counterclockwise)
			kappa=-kappa;
		nvals=0;
		var tPath=this._getPath();
		var _x1=NaN,_y1=NaN;
		for (i=0;i <=ndivs;i++){
			a=startAngle+da *(i / ndivs);
			dx=Math.cos(a);
			dy=Math.sin(a);
			x=cx+dx *r;
			y=cy+dy *r;
			if (x !=this._path._lastOriX|| y !=this._path._lastOriY){
				var _x1=x,_y1=y;
				x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
				y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
				tPath.addPoint(x,y);
			}
		}
		dx=Math.cos(endAngle);
		dy=Math.sin(endAngle);
		x=cx+dx *r;
		y=cy+dy *r;
		if (x !=this._path._lastOriX|| y !=this._path._lastOriY){
			var _x1=x,_y1=y;
			x=this._curMat.a *_x1+this._curMat.c *_y1+this._curMat.tx;
			y=this._curMat.b *_x1+this._curMat.d *_y1+this._curMat.ty;
			tPath.addPoint(x,y);
		}
	}

	__proto.quadraticCurveTo=function(cpx,cpy,x,y){
		var tBezier=Bezier.I;
		var tResultArray=[];
		var tArray=tBezier.getBezierPoints([this._path._lastOriX,this._path._lastOriY,cpx,cpy,x,y],30,2);
		for (var i=0,n=tArray.length / 2;i < n;i++){
			this.lineTo(tArray[i *2],tArray[i *2+1]);
		}
		this.lineTo(x,y);
	}

	__proto.rect=function(x,y,width,height){
		this._other=this._other.make();
		this._other.path || (this._other.path=new Path());
		this._other.path.rect(x,y,width,height);
	}

	/**
	*把颜色跟当前设置的alpha混合
	*@return
	*/
	__proto.mixRGBandAlpha=function(color){
		return this._mixRGBandAlpha(color,this._shader2D.ALPHA);
	}

	__proto._mixRGBandAlpha=function(color,alpha){
		var a=((color & 0xff000000)>>> 24);
		if (a !=0){
			a*=alpha;
			}else {
			a=alpha*255;
		}
		return (color & 0x00ffffff)| (a << 24);
	}

	__proto.strokeRect=function(x,y,width,height,parameterLineWidth){
		var tW=parameterLineWidth *0.5;
		if (this.lineWidth > 0){
			var rgba=this.mixRGBandAlpha(this.strokeStyle._color.numColor);
			var hw=this.lineWidth / 2;
			this._fillRect(x-hw,y-hw,width+this.lineWidth,this.lineWidth,rgba);
			this._fillRect(x-hw,y-hw+height,width+this.lineWidth,this.lineWidth,rgba);
			this._fillRect(x-hw,y+hw,this.lineWidth,height-this.lineWidth,rgba);
			this._fillRect(x-hw+width,y+hw,this.lineWidth,height-this.lineWidth,rgba);
		}
	}

	//右
	__proto.clip=function(){}
	/*******************************************end矢量绘制***************************************************/
	__proto.drawParticle=function(x,y,pt){
		pt.x=x;
		pt.y=y;
		this._submits[this._submits._length++]=pt;
	}

	__proto._getPath=function(){
		return this._path || (this._path=new Path());
	}

	/*******************************************自动缓存处理***************************************************/
	__proto.smartCacheStart=function(value){
		debugger;
	}

	/*
	_curSubmit=Submit.RENDERBASE;
	value.clear();
	value.vbIndex=_vb._byteLength >> 2;
	value.submitIndex=_submits._length;
	value.spriteCount=-Stat.spriteCount;
	*/
	__proto.smartCacheEnd=function(value,x,y,scrollRect){
		debugger;
	}

	/*
	var i:int=value.submitIndex,s:int=0,n:int=_submits._length;
	for (;i < n;i++,s++)(value.submit[s]=_submits[i])._ref++;
	value.submit.length=s;
	if (scrollRect){
		x-=scrollRect.x;
		y-=scrollRect.y;
	}

	value.x=x;
	value.y=y;
	value.spriteCount+=Stat.spriteCount;
	value.nVb=(_vb._byteLength >> 2)-value.vbIndex;
	_curSubmit=Submit.RENDERBASE;
	*/
	__proto._moveCacheVBPos=function(vbdata,i,n,dx,dy){
		n+=i;
		if (dy===0){
			for (;i < n;i+=16){
				vbdata[i]+=dx;
				vbdata[i+4]+=dx;
				vbdata[i+8]+=dx;
				vbdata[i+12]+=dx;
			}
		}
		else if (dx===0){
			for (;i < n;i+=16){
				vbdata[i+1]+=dy;
				vbdata[i+5]+=dy;
				vbdata[i+9]+=dy;
				vbdata[i+13]+=dy;
			}
		}
		else{
			for (;i < n;i+=16){
				vbdata[i]+=dx;
				vbdata[i+1]+=dy;
				vbdata[i+4]+=dx;
				vbdata[i+5]+=dy;
				vbdata[i+8]+=dx;
				vbdata[i+9]+=dy;
				vbdata[i+12]+=dx;
				vbdata[i+13]+=dy;
			}
		}
	}

	__proto.smartCacheCopy=function(value,x,y,scrollRect){
		debugger;
	}

	__getset(0,__proto,'globalCompositeOperation',function(){
		return BlendMode.NAMES[this._nBlendType];
		},function(value){
		var n=BlendMode.TOINT[value];
		n==null || (this._nBlendType===n)|| (SaveBase.save(this,0x10000,this,true),this._curSubmit=Submit.RENDERBASE,this._nBlendType=n ,this._reCalculateBlendShader());
	});

	__getset(0,__proto,'strokeStyle',function(){
		return this._shader2D.strokeStyle;
		},function(value){
		this._shader2D.strokeStyle.equal(value)|| (SaveBase.save(this,0x200,this._shader2D,false),this._shader2D.strokeStyle=DrawStyle.create(value),this._submitKey.other=-this._shader2D.strokeStyle.toInt());
	});

	__getset(0,__proto,'globalAlpha',function(){
		return this._shader2D.ALPHA;
		},function(value){
		value=Math.floor(value *1000)/ 1000;
		if (value !=this._shader2D.ALPHA){
			SaveBase.save(this,0x1,this._shader2D,false);
			this._shader2D.ALPHA=this._submitKey.alpha=value;
		}
	});

	/**
	*当前canvas请求保存渲染结果。
	*实现：
	*如果value==true，就要给_target赋值
	*@param value {Boolean}
	*/
	__getset(0,__proto,'asBitmap',null,function(value){
		if (value){
			this._targets || (this._targets=new RenderTexture2D(this._width,this._height,1,-1));
			this._targets.tex_fun=null;
			this._targets.tex_funThis=this;
			this._targets.tex_funargs=null;
			if (!this._width || !this._height)
				throw Error("asBitmap no size!");
		}else{}
	});

	__getset(0,__proto,'fillStyle',function(){
		return this._shader2D.fillStyle;
		},function(value){
		this._shader2D.fillStyle.equal(value)||
		(SaveBase.save(this,0x2,this._shader2D,false),this._shader2D.fillStyle=DrawStyle.create(value),this._submitKey.other=-this._shader2D.fillStyle.toInt());
	});

	__getset(0,__proto,'textAlign',function(){
		return this._other.textAlign;
		},function(value){
		(this._other.textAlign===value)|| (this._other=this._other.make(),SaveBase.save(this,0x8000,this._other,false),this._other.textAlign=value);
	});

	__getset(0,__proto,'lineWidth',function(){
		return this._other.lineWidth;
		},function(value){
		(this._other.lineWidth===value)|| (this._other=this._other.make(),SaveBase.save(this,0x100,this._other,false),this._other.lineWidth=value);
	});

	__getset(0,__proto,'textBaseline',function(){
		return this._other.textBaseline;
		},function(value){
		(this._other.textBaseline===value)|| (this._other=this._other.make(),SaveBase.save(this,0x4000,this._other,false),this._other.textBaseline=value);
	});

	__getset(0,__proto,'font',null,function(str){
		if (str==this._other.font.toString())
			return;
		this._other=this._other.make();
		SaveBase.save(this,0x8,this._other,false);
		this._other.font===FontInContext.EMPTY ? (this._other.font=new FontInContext(str)):(this._other.font.setFont(str));
	});

	WebGLContext2D.__init__=function(){
		ContextParams.DEFAULT=new ContextParams();
	}

	WebGLContext2D._tempPoint=new Point();
	WebGLContext2D._SUBMITVBSIZE=32000;
	WebGLContext2D._MAXSIZE=99999999;
	WebGLContext2D._MAXVERTNUM=65535;
	WebGLContext2D.MAXCLIPRECT=new Rectangle(0,0,99999999,99999999);
	WebGLContext2D._COUNT=0;
	WebGLContext2D._tmpMatrix=new Matrix();
	WebGLContext2D.SEGNUM=32;
	WebGLContext2D._contextcount=0;
	__static(WebGLContext2D,
	['_fontTemp',function(){return this._fontTemp=new FontInContext();},'_drawStyleTemp',function(){return this._drawStyleTemp=new DrawStyle(null);},'_keyMap',function(){return this._keyMap=new StringKey();}
	]);
	WebGLContext2D.__init$=function(){
		//class ContextParams
		ContextParams=(function(){
			function ContextParams(){
				this.lineWidth=1;
				this.path=null;
				this.textAlign=null;
				this.textBaseline=null;
				this.font=FontInContext.EMPTY;
			}
			__class(ContextParams,'');
			var __proto=ContextParams.prototype;
			__proto.clear=function(){
				this.lineWidth=1;
				this.path && this.path.clear();
				this.textAlign=this.textBaseline=null;
				this.font=FontInContext.EMPTY;
			}
			__proto.make=function(){
				return this===ContextParams.DEFAULT ? new ContextParams():this;
			}
			ContextParams.DEFAULT=null;
			return ContextParams;
		})()
	}

	return WebGLContext2D;
})(Context)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/skinAnishader/SkinSV.as=======98.998247/98.998247
//class laya.webgl.shader.d2.skinAnishader.SkinSV extends laya.webgl.shader.d2.value.Value2D
var SkinSV=(function(_super){
	function SkinSV(type){
		this.texcoord=null;
		this.offsetX=300;
		this.offsetY=0;
		SkinSV.__super.call(this,0x200,0);
		var _vlen=8 *CONST3D2D.BYTES_PE;
		this.position=[2,0x1406,false,_vlen,0];
		this.texcoord=[2,0x1406,false,_vlen,2 *CONST3D2D.BYTES_PE];
		this.color=[4,0x1406,false,_vlen,4 *CONST3D2D.BYTES_PE];
	}

	__class(SkinSV,'laya.webgl.shader.d2.skinAnishader.SkinSV',_super);
	return SkinSV;
})(Value2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/value/FillTextureSV.as=======98.998246/98.998246
//class laya.webgl.shader.d2.value.FillTextureSV extends laya.webgl.shader.d2.value.Value2D
var FillTextureSV=(function(_super){
	function FillTextureSV(type){
		//public var texcoord:Array=_TEXCOORD;
		this.u_colorMatrix=null;
		this.strength=0;
		this.colorMat=null;
		this.colorAlpha=null;
		this.u_TexRange=[0,1,0,1];
		this.u_offset=[0,0];
		FillTextureSV.__super.call(this,0x100,0);
	}

	__class(FillTextureSV,'laya.webgl.shader.d2.value.FillTextureSV',_super);
	var __proto=FillTextureSV.prototype;
	//this.color=[4,WebGLContext.FLOAT,false,_vlen,4 *CONST3D2D.BYTES_PE];
	__proto.setValue=function(vo){
		this.ALPHA=vo.ALPHA;
		vo.filters && this.setFilters(vo.filters);
	}

	__proto.clear=function(){
		this.texture=null;
		this.shader=null;
		this.defines.setValue(0);
	}

	return FillTextureSV;
})(Value2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/value/TextureSV.as=======98.998244/98.998244
//class laya.webgl.shader.d2.value.TextureSV extends laya.webgl.shader.d2.value.Value2D
var TextureSV=(function(_super){
	function TextureSV(subID){
		this.u_colorMatrix=null;
		this.strength=0;
		this.blurInfo=null;
		this.colorMat=null;
		this.colorAlpha=null;
		(subID===void 0)&& (subID=0);
		TextureSV.__super.call(this,0x01,subID);
		this._attribLocation=['posuv',0,'attribColor',1,'attribFlags',2];
	}

	__class(TextureSV,'laya.webgl.shader.d2.value.TextureSV',_super);
	var __proto=TextureSV.prototype;
	// ,'clipDir',3,'clipRect',4];
	__proto.setValue=function(vo){
		this.ALPHA=vo.ALPHA;
		vo.filters && this.setFilters(vo.filters);
	}

	__proto.clear=function(){
		this.texture=null;
		this.shader=null;
		this.defines._value=this.subID+(WebGL.shaderHighPrecision?0x400:0);
	}

	return TextureSV;
})(Value2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/value/PrimitiveSV.as=======98.998243/98.998243
//class laya.webgl.shader.d2.value.PrimitiveSV extends laya.webgl.shader.d2.value.Value2D
var PrimitiveSV=(function(_super){
	function PrimitiveSV(args){
		PrimitiveSV.__super.call(this,0x04,0);
		this._attribLocation=['position',0,'attribColor',1];
	}

	__class(PrimitiveSV,'laya.webgl.shader.d2.value.PrimitiveSV',_super);
	return PrimitiveSV;
})(Value2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/RenderSprite3D.as=======98.998203/98.998203
//class laya.webgl.utils.RenderSprite3D extends laya.renders.RenderSprite
var RenderSprite3D=(function(_super){
	function RenderSprite3D(type,next){
		RenderSprite3D.__super.call(this,type,next);
	}

	__class(RenderSprite3D,'laya.webgl.utils.RenderSprite3D',_super);
	var __proto=RenderSprite3D.prototype;
	__proto.onCreate=function(type){
		switch (type){
			case 0x04:
				this._fun=this._blend;
				return;
			case 0x02:
				this._fun=this._transform;
				return;
			}
	}

	__proto._mask=function(sprite,context,x,y){
		var next=this._next;
		var mask=sprite.mask;
		var submitCMD;
		var submitStencil;
		if (mask){
			context.save();
			var preBlendMode=context.globalCompositeOperation;
			var tRect=new Rectangle();
			tRect.copyFrom(mask.getBounds());
			tRect.width=Math.round(tRect.width);
			tRect.height=Math.round(tRect.height);
			tRect.x=Math.round(tRect.x);
			tRect.y=Math.round(tRect.y);
			if (tRect.width > 0 && tRect.height > 0){
				var scope=SubmitCMDScope.create();
				scope.addValue("bounds",tRect);
				context.onChangeRT();
				context.pushRT();
				context.addRenderObject(SubmitCMD.create([scope,context],laya.webgl.utils.RenderSprite3D.tmpTarget));
				mask.render(context,-tRect.x,-tRect.y);
				context.onChangeRT();
				context.popRT();
				context.save();
				context.clipRect(x+tRect.x,y+tRect.y,tRect.width,tRect.height);
				next._fun.call(next,sprite,context,x,y);
				context.restore();
				submitStencil=SubmitStencil.create(6);
				preBlendMode=context.globalCompositeOperation;
				submitStencil.blendMode="mask";
				context.addRenderObject(submitStencil);
				Matrix.TEMP.identity();
				var shaderValue=Value2D.create(0x01,0);
				var uv=Texture.INV_UV;
				var w=tRect.width;
				var h=tRect.height;
				var tempLimit=32;
				if (tRect.width < tempLimit || tRect.height < tempLimit){
					uv=RenderSprite3D.tempUV;
					uv[0]=0;
					uv[1]=0;
					uv[2]=(tRect.width >=32)? 1 :tRect.width / tempLimit;
					uv[3]=0
					uv[4]=(tRect.width >=32)? 1 :tRect.width / tempLimit;
					uv[5]=(tRect.height >=32)? 1 :tRect.height / tempLimit;
					uv[6]=0;
					uv[7]=(tRect.height >=32)? 1 :tRect.height / tempLimit;
					tRect.width=(tRect.width >=32)? tRect.width :tempLimit;
					tRect.height=(tRect.height >=32)? tRect.height :tempLimit;
					uv[1] *=-1;
					uv[3] *=-1;
					uv[5] *=-1;
					uv[7] *=-1;
					uv[1]+=1;
					uv[3]+=1;
					uv[5]+=1;
					uv[7]+=1;
				}
				context.drawTarget(scope,x+tRect.x,y+tRect.y,w,h,Matrix.TEMP,"tmpTarget",shaderValue,uv,6);
				context.addRenderObject(SubmitCMD.create([scope],laya.webgl.utils.RenderSprite3D.recycleTarget));
				submitStencil=SubmitStencil.create(6);
				submitStencil.blendMode=preBlendMode;
				context.addRenderObject(submitStencil);
			}
			context.restore();
			}else {
			next._fun.call(next,sprite,context,x,y);
		}
	}

	__proto._blend=function(sprite,context,x,y){
		var style=sprite._style;
		var next=this._next;
		if (style.blendMode){
			context.save();
			context.globalCompositeOperation=style.blendMode;
			next._fun.call(next,sprite,context,x,y);
			context.restore();
			}else {
			next._fun.call(next,sprite,context,x,y);
		}
	}

	RenderSprite3D.tmpTarget=function(scope,context){
		var b=scope.getValue("bounds");
		var tmpTarget=WebGLRTMgr.getRT(b.width,b.height);
		window.rt_1=tmpTarget;
		tmpTarget.start();
		tmpTarget.clear(0,0,0,0);
		scope.addValue("tmpTarget",tmpTarget);
	}

	RenderSprite3D.recycleTarget=function(scope){
		var tmpTarget=scope.getValue("tmpTarget");
		WebGLRTMgr.releaseRT(tmpTarget);
		scope.recycle();
	}

	__static(RenderSprite3D,
	['tempUV',function(){return this.tempUV=new Array(8);}
	]);
	return RenderSprite3D;
})(RenderSprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/ShaderDefines2D.as=======98.998121/98.998121
//class laya.webgl.shader.d2.ShaderDefines2D extends laya.webgl.shader.ShaderDefines
var ShaderDefines2D=(function(_super){
	function ShaderDefines2D(){
		ShaderDefines2D.__super.call(this,ShaderDefines2D.__name2int,ShaderDefines2D.__int2name,ShaderDefines2D.__int2nameMap);
	}

	__class(ShaderDefines2D,'laya.webgl.shader.d2.ShaderDefines2D',_super);
	ShaderDefines2D.__init__=function(){
		ShaderDefines2D.reg("TEXTURE2D",0x01);
		ShaderDefines2D.reg("PRIMITIVE",0x04);
		ShaderDefines2D.reg("GLOW_FILTER",0x08);
		ShaderDefines2D.reg("BLUR_FILTER",0x10);
		ShaderDefines2D.reg("COLOR_FILTER",0x20);
		ShaderDefines2D.reg("COLOR_ADD",0x40);
		ShaderDefines2D.reg("WORLDMAT",0x80);
		ShaderDefines2D.reg("FILLTEXTURE",0x100);
		ShaderDefines2D.reg("FSHIGHPRECISION",0x400);
	}

	ShaderDefines2D.reg=function(name,value){
		ShaderDefines$1._reg(name,value,ShaderDefines2D.__name2int,ShaderDefines2D.__int2name);
	}

	ShaderDefines2D.toText=function(value,int2name,int2nameMap){
		return ShaderDefines$1._toText(value,int2name,int2nameMap);
	}

	ShaderDefines2D.toInt=function(names){
		return ShaderDefines$1._toInt(names,ShaderDefines2D.__name2int);
	}

	ShaderDefines2D.TEXTURE2D=0x01;
	ShaderDefines2D.PRIMITIVE=0x04;
	ShaderDefines2D.FILTERGLOW=0x08;
	ShaderDefines2D.FILTERBLUR=0x10;
	ShaderDefines2D.FILTERCOLOR=0x20;
	ShaderDefines2D.COLORADD=0x40;
	ShaderDefines2D.WORLDMAT=0x80;
	ShaderDefines2D.FILLTEXTURE=0x100;
	ShaderDefines2D.SKINMESH=0x200;
	ShaderDefines2D.SHADERDEFINE_FSHIGHPRECISION=0x400;
	ShaderDefines2D.__name2int={};
	ShaderDefines2D.__int2name=[];
	ShaderDefines2D.__int2nameMap=[];
	return ShaderDefines2D;
})(ShaderDefines$1)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shapes/Polygon.as=======98.998096/98.998096
//class laya.webgl.shapes.Polygon extends laya.webgl.shapes.BasePoly
var Polygon=(function(_super){
	function Polygon(x,y,points,color,borderWidth,borderColor){
		this._points=null;
		this._start=-1;
		this._repaint=false;
		this.earcutTriangles=null;
		this._mat=Matrix.create();
		this._points=points.slice(0,points.length);
		Polygon.__super.call(this,x,y,0,0,this._points.length / 2,color,borderWidth,borderColor);
	}

	__class(Polygon,'laya.webgl.shapes.Polygon',_super);
	var __proto=Polygon.prototype;
	__proto.rebuild=function(point){
		if (!this._repaint){
			this._points.length=0;
			this._points=this._points.concat(point);
		}
	}

	__proto.setMatrix=function(mat){
		mat.copyTo(this._mat);
	}

	__proto.needUpdate=function(mat){
		this._repaint=(this._mat.a==mat.a && this._mat.b==mat.b && this._mat.c==mat.c && this._mat.d==mat.d && this._mat.tx==mat.tx && this._mat.ty==mat.ty);
		return !this._repaint;
	}

	/**
	*λ鱣浽vbib
	*@param ib
	*@param vb
	*@param start
	*/
	__proto.getData=function(ib,vb,start){
		var indices,i=0;
		var tArray=this._points;
		var tLen=0;
		if (this.mUint16Array && this.mFloat32Array&&this._repaint){
			if (this._start !=start){
				this._start=start;
				indices=[];
				tLen=this.earcutTriangles.length;
				for (i=0;i < tLen;i++){
					indices.push(this.earcutTriangles[i]+start);
				}
				this.mUint16Array=new Uint16Array(indices);
			}
		}
		else {
			this._start=start;
			indices=[];
			var verts=[];
			var vertsEarcut=[];
			var color=this.color;
			var r=((color >> 16)& 0x0000ff)/ 255,g=((color >> 8)& 0xff)/ 255,b=(color & 0x0000ff)/ 255;
			tLen=Math.floor(tArray.length / 2);
			for (i=0;i < tLen;i++){
				verts.push(this.x+tArray[i *2],this.y+tArray[i *2+1],r,g,b);
				vertsEarcut.push(this.x+tArray[i *2],this.y+tArray[i *2+1]);
			}
			this.earcutTriangles=Earcut.earcut(vertsEarcut,null,2);
			tLen=this.earcutTriangles.length;
			for (i=0;i < tLen;i++){
				indices.push(this.earcutTriangles[i]+start);
			}
			this.mUint16Array=new Uint16Array(indices);
			this.mFloat32Array=new Float32Array(verts);
		}
		ib.append(this.mUint16Array);
		vb.append(this.mFloat32Array);
	}

	return Polygon;
})(BasePoly)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitCanvas.as=======98.998087/98.998087
//class laya.webgl.submit.SubmitCanvas extends laya.webgl.submit.Submit
var SubmitCanvas=(function(_super){
	function SubmitCanvas(){
		//this._ctx_src=null;
		this._matrix=new Matrix();
		this._matrix4=CONST3D2D.defaultMatrix4.concat();
		SubmitCanvas.__super.call(this,10000);
		this.shaderValue=new Value2D(0,0);
	}

	__class(SubmitCanvas,'laya.webgl.submit.SubmitCanvas',_super);
	var __proto=SubmitCanvas.prototype;
	__proto.renderSubmit=function(){
		if (this._ctx_src._targets){
			this._ctx_src._targets.flush(this._ctx_src);
			return 1;
		};
		var preAlpha=RenderState2D.worldAlpha;
		var preMatrix4=RenderState2D.worldMatrix4;
		var preMatrix=RenderState2D.worldMatrix;
		var preFilters=RenderState2D.worldFilters;
		var preWorldShaderDefines=RenderState2D.worldShaderDefines;
		var v=this.shaderValue;
		var m=this._matrix;
		var m4=this._matrix4;
		var mout=Matrix.TEMP;
		Matrix.mul(m,preMatrix,mout);
		m4[0]=mout.a;
		m4[1]=mout.b;
		m4[4]=mout.c;
		m4[5]=mout.d;
		m4[12]=mout.tx;
		m4[13]=mout.ty;
		RenderState2D.worldMatrix=mout.clone();
		RenderState2D.worldMatrix4=m4;
		RenderState2D.worldAlpha=RenderState2D.worldAlpha *v.alpha;
		if (v.filters && v.filters.length){
			RenderState2D.worldFilters=v.filters;
			RenderState2D.worldShaderDefines=v.defines;
		}
		this._ctx_src.flush();
		RenderState2D.worldAlpha=preAlpha;
		RenderState2D.worldMatrix4=preMatrix4;
		RenderState2D.worldMatrix.destroy();
		RenderState2D.worldMatrix=preMatrix;
		RenderState2D.worldFilters=preFilters;
		RenderState2D.worldShaderDefines=preWorldShaderDefines;
		return 1;
	}

	__proto.releaseRender=function(){
		if((--this._ref)<1){
			var cache=SubmitCanvas.POOL;
			this._ctx_src=null;
			this._mesh=null;
			cache[cache._length++]=this;
		}
	}

	__proto.clone=function(context,ib,vb,pos){
		return null;
	}

	__proto.getRenderType=function(){
		return 10003;
	}

	SubmitCanvas.create=function(ctx_src,alpha,filters){
		var o=(!SubmitCanvas.POOL._length)? (new SubmitCanvas()):SubmitCanvas.POOL[--SubmitCanvas.POOL._length];
		o._ctx_src=ctx_src;
		o._ref=1;
		o._numEle=0;
		var v=o.shaderValue;
		v.alpha=alpha;
		v.defines.setValue(0);
		filters && filters.length && v.setFilters(filters);
		return o;
	}

	SubmitCanvas.POOL=(SubmitCanvas.POOL=[],SubmitCanvas.POOL._length=0,SubmitCanvas.POOL);
	return SubmitCanvas;
})(Submit)


	//file:///H:/work/sniper/layaLib/src/fs/utils/FSTimer.as=======98.998079/98.998079
/**
*帧同步专用时间管理器
*@author wulongbin
*
*/
//class fs.utils.FSTimer extends laya.utils.Timer
var FSTimer=(function(_super){
	function FSTimer(){
		FSTimer.__super.call(this);
		this['getTimer']=this._now;
	}

	__class(FSTimer,'fs.utils.FSTimer',_super);
	var __proto=FSTimer.prototype;
	__proto._init=function(){}
	/**
	*
	*
	*/
	__proto.reset=function(){
		this.currTimer=this._now();
		this._lastTimer=this._now();
		this.currFrame=0;
		for (var i=0,n=this._handlers.length;i < n;i++){
			var handler=this._handlers[i];
			this._map[handler.method]=null;
			handler.clear();
		}
	}

	__proto.getTimer=function(){
		return Date.now();
	}

	return FSTimer;
})(Timer)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/submit/SubmitTexture.as=======98.998079/98.998079
//class laya.webgl.submit.SubmitTexture extends laya.webgl.submit.Submit
var SubmitTexture=(function(_super){
	function SubmitTexture(renderType){
		(renderType===void 0)&& (renderType=10000);
		SubmitTexture.__super.call(this,renderType);
	}

	__class(SubmitTexture,'laya.webgl.submit.SubmitTexture',_super);
	var __proto=SubmitTexture.prototype;
	__proto.clone=function(context,mesh,pos){
		var o=SubmitTexture._poolSize ? SubmitTexture.POOL[--SubmitTexture._poolSize] :new SubmitTexture();
		this._cloneInit(o,context,mesh,pos);
		return o;
	}

	__proto.releaseRender=function(){
		if ((--this._ref)< 1){
			SubmitTexture.POOL[SubmitTexture._poolSize++]=this;
			this.shaderValue.release();
			this._mesh=null;
			this._parent && (this._parent.releaseRender(),this._parent=null);
		}
	}

	__proto.renderSubmit=function(){
		if (this._numEle===0)
			return 1;
		var tex=this.shaderValue.textureHost;
		if(tex){
			var source=tex?tex._getSource():null;
			if (!source)return 1;
		};
		var gl=WebGL.mainContext;
		this._mesh.useMesh(gl);
		var prekey=Submit.preRender._key;
		if (this._key.blendShader===0 && (this._key.submitType===prekey.submitType && this._key.blendShader===prekey.blendShader)&& BaseShader.activeShader &&
			Submit.preRender.clipInfoID==this.clipInfoID){
			(BaseShader.activeShader).uploadTexture2D(source);
		}
		else{
			if (BlendMode.activeBlendFunction!==this._blendFn){
				WebGLContext.setBlend(gl,true);
				this._blendFn(gl);
				BlendMode.activeBlendFunction=this._blendFn;
			}
			this.shaderValue.texture=source;
			this.shaderValue.upload();
		}
		gl.drawElements(0x0004,this._numEle,0x1403,this._startIdx);
		Stat.drawCall++;
		Stat.trianglesFaces+=this._numEle / 3;
		return 1;
	}

	SubmitTexture.create=function(context,mesh,sv){
		var o=SubmitTexture._poolSize ? SubmitTexture.POOL[--SubmitTexture._poolSize] :new SubmitTexture();
		o._mesh=mesh;
		o._key.clear();
		o._ref=1;
		o._startIdx=mesh.indexNum *CONST3D2D.BYTES_PIDX;
		o._numEle=0;
		var blendType=context._nBlendType;
		o._blendFn=context._targets ? BlendMode.targetFns[blendType] :BlendMode.fns[blendType];
		o.shaderValue=sv;
		sv.setValue(context._shader2D);
		return o;
	}

	SubmitTexture._poolSize=0;
	SubmitTexture.POOL=[];
	return SubmitTexture;
})(Submit)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/MeshQuadTexture.as=======98.998053/98.998053
/**
*drawImage，fillRect等会用到的简单的mesh。每次添加必然是一个四边形。
*/
//class laya.webgl.utils.MeshQuadTexture extends laya.webgl.utils.Mesh2D
var MeshQuadTexture=(function(_super){
	//private static var _num;
	function MeshQuadTexture(){
		MeshQuadTexture.__super.call(this,laya.webgl.utils.MeshQuadTexture.const_stride,1024,0);
		this.canReuse=true;
		this.setAttributes(laya.webgl.utils.MeshQuadTexture._fixattriInfo);
		if(!laya.webgl.utils.MeshQuadTexture._fixib){
			this.createQuadIB(MeshQuadTexture._maxIB);
			laya.webgl.utils.MeshQuadTexture._fixib=this._ib;
			}else {
			this._ib=laya.webgl.utils.MeshQuadTexture._fixib;
			this._quadNum=MeshQuadTexture._maxIB;
		}
	}

	__class(MeshQuadTexture,'laya.webgl.utils.MeshQuadTexture',_super);
	var __proto=MeshQuadTexture.prototype;
	/**
	*把本对象放到回收池中，以便getMesh能用。
	*/
	__proto.releaseMesh=function(){
		this._vb.setByteLength(0);
		this.vertNum=0;
		this.indexNum=0;
		laya.webgl.utils.MeshQuadTexture._POOL.push(this);
	}

	__proto.destroy=function(){
		this._vb.destroy();
		this._vb.deleteBuffer();
	}

	/**
	*
	*@param pos
	*@param uv
	*@param color
	*@param clip ox,oy,xx,xy,yx,yy
	*@param useTex 是否使用贴图。false的话是给fillRect用的
	*/
	__proto.addQuad=function(pos,uv,color,clip,useTex){
		var vb=this._vb;
		var vpos=(vb._byteLength >> 2);
		vb.setByteLength((vpos<<2)+laya.webgl.utils.MeshQuadTexture.const_stride*4);
		var vbdata=vb._floatArray32 || vb.getFloat32Array();
		var vbu32Arr=vb._uint32Array;
		var cpos=vpos;
		var useTexVal=useTex?0xff:0;
		vbdata[cpos++]=pos[0];vbdata[cpos++]=pos[1];vbdata[cpos++]=uv[0];vbdata[cpos++]=uv[1];vbu32Arr[cpos++]=color;vbu32Arr[cpos++]=useTexVal;
		vbdata[cpos++]=pos[2];vbdata[cpos++]=pos[3];vbdata[cpos++]=uv[2];vbdata[cpos++]=uv[3];vbu32Arr[cpos++]=color;vbu32Arr[cpos++]=useTexVal;
		vbdata[cpos++]=pos[4];vbdata[cpos++]=pos[5];vbdata[cpos++]=uv[4];vbdata[cpos++]=uv[5];vbu32Arr[cpos++]=color;vbu32Arr[cpos++]=useTexVal;
		vbdata[cpos++]=pos[6];vbdata[cpos++]=pos[7];vbdata[cpos++]=uv[6];vbdata[cpos++]=uv[7];vbu32Arr[cpos++]=color;vbu32Arr[cpos++]=useTexVal;
		vb._upload=true;
	}

	MeshQuadTexture.getAMesh=function(){
		if (laya.webgl.utils.MeshQuadTexture._POOL.length){
			return laya.webgl.utils.MeshQuadTexture._POOL.pop();
		}
		return new MeshQuadTexture();
	}

	MeshQuadTexture.const_stride=24;
	MeshQuadTexture._fixib=null;
	MeshQuadTexture._maxIB=16 *1024;
	MeshQuadTexture._POOL=[];
	__static(MeshQuadTexture,
	['_fixattriInfo',function(){return this._fixattriInfo=[
		0x1406,4,0,
		0x1401,4,16,
		0x1401,4,20];}
	]);
	return MeshQuadTexture;
})(Mesh2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/MeshTexture.as=======98.998052/98.998052
/**
*与MeshQuadTexture基本相同。不过index不是固定的
*/
//class laya.webgl.utils.MeshTexture extends laya.webgl.utils.Mesh2D
var MeshTexture=(function(_super){
	function MeshTexture(){
		MeshTexture.__super.call(this,laya.webgl.utils.MeshTexture.const_stride);
		this.canReuse=true;
		this.setAttributes(laya.webgl.utils.MeshTexture._fixattriInfo);
	}

	__class(MeshTexture,'laya.webgl.utils.MeshTexture',_super);
	var __proto=MeshTexture.prototype;
	__proto.addData=function(vertices,uvs,idx,matrix,rgba,ctx){
		var sz=vertices.length / 2;
		var startpos=this._vb.needSize(sz *MeshTexture.const_stride);
		var f32pos=startpos >> 2;
		var vbdata=this._vb._floatArray32 || this._vb.getFloat32Array();
		var vbu32Arr=this._vb._uint32Array;
		var ci=0;
		var clipinfo=ctx.getTransedClipInfo();
		for (var i=0;i < sz;i++){
			var x=vertices[ci],y=vertices[ci+1];
			var x1=x *matrix.a+y *matrix.c+matrix.tx;
			var y1=x *matrix.b+y *matrix.d+matrix.ty;
			vbdata[f32pos++]=x1;vbdata[f32pos++]=y1;
			vbdata[f32pos++]=uvs[ci];vbdata[f32pos++]=uvs[ci+1];
			ci+=2;
			vbu32Arr[f32pos++]=rgba;
			vbu32Arr[f32pos++]=0xff;
		}
		this._vb.setNeedUpload();
		var vertN=this.vertNum;
		if (vertN > 0){
			var sz=idx.length;
			if (sz > MeshTexture.tmpIdx.length)MeshTexture.tmpIdx=new Uint16Array(sz);
			for (var ii=0;ii < sz;ii++){
				MeshTexture.tmpIdx[ii]=idx[ii]+vertN;
			}
			this._ib.appendU16Array(MeshTexture.tmpIdx,idx.length);
			}else {
			this._ib.append(idx);
		}
		this._ib.setNeedUpload();
		this.vertNum+=sz;
		this.indexNum+=idx.length;
	}

	/**
	*把本对象放到回收池中，以便getMesh能用。
	*/
	__proto.releaseMesh=function(){
		this._vb.setByteLength(0);
		this._ib.setByteLength(0);
		this.vertNum=0;
		this.indexNum=0;
		laya.webgl.utils.MeshTexture._POOL.push(this);
	}

	__proto.destroy=function(){
		this._ib.destroy();
		this._vb.destroy();
		this._ib._disposeResource();
		this._vb.deleteBuffer();
	}

	MeshTexture.getAMesh=function(){
		if (laya.webgl.utils.MeshTexture._POOL.length){
			return laya.webgl.utils.MeshTexture._POOL.pop();
		}
		return new MeshTexture();
	}

	MeshTexture.const_stride=24;
	MeshTexture._POOL=[];
	__static(MeshTexture,
	['_fixattriInfo',function(){return this._fixattriInfo=[
		0x1406,4,0,
		0x1401,4,16,
		0x1401,4,20];},'tmpIdx',function(){return this.tmpIdx=new Uint16Array(4);}
	]);
	return MeshTexture;
})(Mesh2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/MeshVG.as=======98.998051/98.998051
/**
*用来画矢量的mesh。顶点格式固定为 x,y,rgba
*/
//class laya.webgl.utils.MeshVG extends laya.webgl.utils.Mesh2D
var MeshVG=(function(_super){
	function MeshVG(){
		MeshVG.__super.call(this,laya.webgl.utils.MeshVG.const_stride,null,64*1024);
		this.canReuse=true;
		this.setAttributes(laya.webgl.utils.MeshVG._fixattriInfo);
	}

	__class(MeshVG,'laya.webgl.utils.MeshVG',_super);
	var __proto=MeshVG.prototype;
	/**
	*往矢量mesh中添加顶点和index。会把rgba和points在mesh中合并。
	*@param points 顶点数组，只包含x,y。[x,y,x,y...]
	*@param rgba rgba颜色
	*@param ib index数组。
	*/
	__proto.addVertAndIBToMesh=function(ctx,points,rgba,ib){
		var startpos=this._vb.needSize(points.length / 2 *MeshVG.const_stride);
		var f32pos=startpos >> 2;
		var vbdata=this._vb._floatArray32 || this._vb.getFloat32Array();
		var vbu32Arr=this._vb._uint32Array;
		var ci=0;
		var clipinfo=ctx.getTransedClipInfo();
		var sz=points.length / 2;
		for (var i=0;i < sz;i++){
			vbdata[f32pos++]=points[ci];vbdata[f32pos++]=points[ci+1];ci+=2;
			vbu32Arr[f32pos++]=rgba;
		}
		this._vb.setNeedUpload();
		this._ib.append(new Uint16Array(ib));
		this._ib.setNeedUpload();
		this.vertNum+=sz;
		this.indexNum+=ib.length;
	}

	/**
	*把本对象放到回收池中，以便getMesh能用。
	*/
	__proto.releaseMesh=function(){
		this._vb.setByteLength(0);
		this._ib.setByteLength(0);
		this.vertNum=0;
		this.indexNum=0;
		laya.webgl.utils.MeshVG._POOL.push(this);
	}

	__proto.destroy=function(){
		this._ib.destroy();
		this._vb.destroy();
		this._ib._disposeResource();
		this._vb.deleteBuffer();
	}

	MeshVG.getAMesh=function(){
		if (laya.webgl.utils.MeshVG._POOL.length){
			return laya.webgl.utils.MeshVG._POOL.pop();
		}
		return new MeshVG();
	}

	MeshVG.const_stride=12;
	MeshVG._POOL=[];
	__static(MeshVG,
	['_fixattriInfo',function(){return this._fixattriInfo=[
		0x1406,2,0,
		0x1401,4,8];}
	]);
	return MeshVG;
})(Mesh2D)


	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/BooleanProxy.as=======98.997925/98.997925
//class laya.libs.proxy.BooleanProxy extends laya.libs.proxy.PropertyProxy
var BooleanProxy=(function(_super){
	function BooleanProxy(){
		this._value=false;
		BooleanProxy.__super.call(this);
		this._value=false;
	}

	__class(BooleanProxy,'laya.libs.proxy.BooleanProxy',_super);
	var __proto=BooleanProxy.prototype;
	__proto.setValue=function(v){
		if(this._value==v)return;
		this._value=v;
		this.event(v);
	}

	__getset(0,__proto,'value',function(){
		return this._value;
		},function(value){
		this.setValue(value);
	});

	return BooleanProxy;
})(PropertyProxy)


	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/NumberProxy.as=======98.997922/98.997922
//class laya.libs.proxy.NumberProxy extends laya.libs.proxy.PropertyProxy
var NumberProxy=(function(_super){
	function NumberProxy(){
		this._value=NaN;
		NumberProxy.__super.call(this);
		this._value=0;
	}

	__class(NumberProxy,'laya.libs.proxy.NumberProxy',_super);
	var __proto=NumberProxy.prototype;
	__proto.reset=function(){
		this.value=0;
	}

	__getset(0,__proto,'value',function(){
		return this._value;
		},function(value){
		if(this._value==value)return;
		this._value=value;
		this.event(value);
	});

	return NumberProxy;
})(PropertyProxy)


	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/StringProxy.as=======98.997921/98.997921
//class laya.libs.proxy.StringProxy extends laya.libs.proxy.PropertyProxy
var StringProxy=(function(_super){
	function StringProxy(){
		this._value=null;
		StringProxy.__super.call(this);
		this._value='';
	}

	__class(StringProxy,'laya.libs.proxy.StringProxy',_super);
	var __proto=StringProxy.prototype;
	__proto.reset=function(){
		this.value='';
	}

	__getset(0,__proto,'value',function(){
		return this._value;
		},function(value){
		if(this._value==value)return;
		this._value=value;
		this.event(value);
	});

	return StringProxy;
})(PropertyProxy)


	//file:///H:/work/sniper/layaLib/src/laya/libs/proxy/Vector3DProxy.as=======98.997920/98.997920
//class laya.libs.proxy.Vector3DProxy extends laya.libs.proxy.PropertyProxy
var Vector3DProxy=(function(_super){
	function Vector3DProxy(){
		this.value=new Vector3();
		Vector3DProxy.__super.call(this);
	}

	__class(Vector3DProxy,'laya.libs.proxy.Vector3DProxy',_super);
	var __proto=Vector3DProxy.prototype;
	__proto.setValue=function(x,y,z){
		(z===void 0)&& (z=0);
		if(this.value.x==x && this.value.y==y && this.value.z==z)return;
		this.value.x=x;
		this.value.y=y;
		this.value.z=z;
		this.event();
	}

	__proto.copy=function(pos){
		if(this.value.x==pos.value.x && this.value.y==pos.value.y && this.value.z==pos.value.z)return;
		this.value.x=pos.value.x;
		this.value.y=pos.value.y;
		this.value.z=pos.value.z;
		this.event();
	}

	__proto.offXY=function(x,y){
		if(x==0 && y==0)return;
		this.value.x+=x;
		this.value.y+=y;
		this.event();
	}

	__proto.offXYZ=function(x,y,z){
		if(x==0 && y==0 && z==0)return;
		this.value.x+=x;
		this.value.y+=y;
		this.value.z+=z;
		this.event();
	}

	__proto.reset=function(){
		this.value.x=this.value.y=this.value.z=0;
	}

	__getset(0,__proto,'x',function(){
		return this.value.x;
		},function(v){
		if(this.value.x==v)return;
		this.value.x=v;
		this.event();
	});

	__getset(0,__proto,'y',function(){
		return this.value.y;
		},function(v){
		if(this.value.y==v)return;
		this.value.y=v;
		this.event();
	});

	__getset(0,__proto,'z',function(){
		return this.value.z;
		},function(v){
		if(this.value.z==v)return;
		this.value.z=v;
		this.event();
	});

	return Vector3DProxy;
})(PropertyProxy)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/EightDirectionAdapter.as=======98.997677/98.997677
/**
*avatar2D 八方向适配
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.avatar.EightDirectionAdapter extends laya.game.client.plugins.character.avatar.DirectionAdapter
var EightDirectionAdapter=(function(_super){
	function EightDirectionAdapter(){
		EightDirectionAdapter.__super.call(this,8,false);
		this.table.push(
		1,
		2,
		3,
		4,
		5,
		6,
		7,
		8);
	}

	__class(EightDirectionAdapter,'laya.game.client.plugins.character.avatar.EightDirectionAdapter',_super);
	return EightDirectionAdapter;
})(DirectionAdapter)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/FourDirectionAdapter.as=======98.997675/98.997675
/**
*avatar2D 四方向适配
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.avatar.FourDirectionAdapter extends laya.game.client.plugins.character.avatar.DirectionAdapter
var FourDirectionAdapter=(function(_super){
	function FourDirectionAdapter(){
		FourDirectionAdapter.__super.call(this,4,false);
		this.table.push(1,3,5,7);
	}

	__class(FourDirectionAdapter,'laya.game.client.plugins.character.avatar.FourDirectionAdapter',_super);
	return FourDirectionAdapter;
})(DirectionAdapter)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/OneDirectionAdapter.as=======98.997673/98.997673
/**
*avatar2D 单方向适配
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.avatar.OneDirectionAdapter extends laya.game.client.plugins.character.avatar.DirectionAdapter
var OneDirectionAdapter=(function(_super){
	function OneDirectionAdapter(useMirror,autoDir,useActionName){
		this.autoDir=NaN;
		/**动画名称是否就是动作名称 */
		this.useActionName=true;
		(useMirror===void 0)&& (useMirror=false);
		(autoDir===void 0)&& (autoDir=5);
		(useActionName===void 0)&& (useActionName=true);
		OneDirectionAdapter.__super.call(this,1,useMirror);
		this.autoDir=autoDir;
		this.useActionName=useActionName;
	}

	__class(OneDirectionAdapter,'laya.game.client.plugins.character.avatar.OneDirectionAdapter',_super);
	var __proto=OneDirectionAdapter.prototype;
	__proto.angle2Direct=function(angle){
		return this.autoDir;
	}

	__proto.getAnimaName=function(action,dir){
		if(this.useActionName){
			return action;
		}
		else{
			return GameSystem.game.getActionName(action,dir);
		}
	}

	return OneDirectionAdapter;
})(DirectionAdapter)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/GameObjParamByScript.as=======98.997590/98.997590
//class laya.game.client.skill.GameObjParamByScript extends laya.game.client.scene.GameObjParam
var GameObjParamByScript=(function(_super){
	function GameObjParamByScript(){
		this.context=null;
		GameObjParamByScript.__super.call(this);
	}

	__class(GameObjParamByScript,'laya.game.client.skill.GameObjParamByScript',_super);
	var __proto=GameObjParamByScript.prototype;
	__proto.create=function(){
		var obj=_super.prototype.create.call(this);
		this.context._onCreateObj(obj);
		return obj;
	}

	return GameObjParamByScript;
})(GameObjParam)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/displayViews/WdisplayTreeNodeInfo.as=======98.997367/98.997367
//class tool.dream.displays.displayViews.WdisplayTreeNodeInfo extends wlb.dream.displays.coms.WtreeNodeInfo
var WdisplayTreeNodeInfo=(function(_super){
	function WdisplayTreeNodeInfo(key,data){
		WdisplayTreeNodeInfo.__super.call(this,key,data);
	}

	__class(WdisplayTreeNodeInfo,'tool.dream.displays.displayViews.WdisplayTreeNodeInfo',_super);
	var __proto=WdisplayTreeNodeInfo.prototype;
	__proto.createChildNode=function(callBack){
		var i=0;
		var len=WdisplayTreeNodeInfo.plug.getNumChildren(this.data);
		for(;i<len;i++){
			callBack(i,WdisplayTreeNodeInfo.plug.getChild(this.data,i));
		}
	}

	WdisplayTreeNodeInfo.plug=null;
	return WdisplayTreeNodeInfo;
})(WtreeNodeInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/jsonEdits/WjsonNodeInfo.as=======98.997340/98.997340
//class tool.dream.jsonEdits.WjsonNodeInfo extends wlb.dream.displays.coms.WtreeNodeInfo
var WjsonNodeInfo=(function(_super){
	function WjsonNodeInfo(key,data){
		this.keyToName
		WjsonNodeInfo.__super.call(this,key,data);
		if(this.data&&this.data.hasOwnProperty("_keyToName")){
			this.keyToName=data._keyToName;
		}
		else{
			this.keyToName={};
		}
	}

	__class(WjsonNodeInfo,'tool.dream.jsonEdits.WjsonNodeInfo',_super);
	return WjsonNodeInfo;
})(WtreeNodeInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editObjs/WbitmapDataEO.as=======98.997301/98.997301
//class tool.dream.protyEdits.editObjs.WbitmapDataEO extends tool.dream.protyEdits.editObjs.WeditObjInfo
var WbitmapDataEO=(function(_super){
	function WbitmapDataEO(){
		WbitmapDataEO.__super.call(this);
	}

	__class(WbitmapDataEO,'tool.dream.protyEdits.editObjs.WbitmapDataEO',_super);
	var __proto=WbitmapDataEO.prototype;
	__proto.init=function(editObj,param){
		_super.prototype.init.call(this,editObj,param);
		this.pushEditInfo(new WeditProtyInfo("BitmapData","预览",null,function(editObj){
			return editObj;
		}));
	}

	return WbitmapDataEO;
})(WeditObjInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editObjs/WeditObjByDescribe.as=======98.997299/98.997299
//class tool.dream.protyEdits.editObjs.WeditObjByDescribe extends tool.dream.protyEdits.editObjs.WeditObjInfo
var WeditObjByDescribe=(function(_super){
	function WeditObjByDescribe(){
		WeditObjByDescribe.__super.call(this);
		this._isDynamic=true;
	}

	__class(WeditObjByDescribe,'tool.dream.protyEdits.editObjs.WeditObjByDescribe',_super);
	var __proto=WeditObjByDescribe.prototype;
	__proto.init=function(editObj,param){
		_super.prototype.init.call(this,editObj,param);
		this.describe();
	}

	return WeditObjByDescribe;
})(WeditObjInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editObjs/WeditObjForDynamic.as=======98.997298/98.997298
//class tool.dream.protyEdits.editObjs.WeditObjForDynamic extends tool.dream.protyEdits.editObjs.WeditObjInfo
var WeditObjForDynamic=(function(_super){
	function WeditObjForDynamic(){
		this._tempClassInfo=new WclassInfo;
		WeditObjForDynamic.__super.call(this);
		this._isDynamic=true;
		this.describe();
	}

	__class(WeditObjForDynamic,'tool.dream.protyEdits.editObjs.WeditObjForDynamic',_super);
	var __proto=WeditObjForDynamic.prototype;
	__proto.init=function(editObj,param){
		_super.prototype.init.call(this,editObj,param);
		this._tempClassInfo.reset(editObj);
		this.describeRun(this._tempClassInfo);
	}

	return WeditObjForDynamic;
})(WeditObjInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editObjs/WtopClassEO.as=======98.997297/98.997297
//class tool.dream.protyEdits.editObjs.WtopClassEO extends tool.dream.protyEdits.editObjs.WeditObjInfo
var WtopClassEO=(function(_super){
	function WtopClassEO(){
		WtopClassEO.__super.call(this);
	}

	__class(WtopClassEO,'tool.dream.protyEdits.editObjs.WtopClassEO',_super);
	var __proto=WtopClassEO.prototype;
	__proto.init=function(editObj,param){
		_super.prototype.init.call(this,editObj,param);
		this.pushEditInfo(new WeditProtyInfo("String","value"));
	}

	return WtopClassEO;
})(WeditObjInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WdragXYProtyInfo.as=======98.997287/98.997287
//class tool.dream.protyEdits.editProtyInfos.WdragXYProtyInfo extends tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WdragXYProtyInfo=(function(_super){
	function WdragXYProtyInfo(protyName,parentType,callParent,setFunc,getFunc,des){
		this.parentType=null;
		this.protyNames=null;
		this.callParent=null;
		(parentType===void 0)&& (parentType="parent");
		(callParent===void 0)&& (callParent="");
		(des===void 0)&& (des="");
		this.parentType=parentType;
		this.callParent=callParent;
		WdragXYProtyInfo.__super.call(this,"DragXY",protyName,setFunc||this._setProty,getFunc||this._getProty,des);
		this.protyNames=protyName.split(",");
		if(this.protyNames.length==1){
			this._setFunc=this._setProty2;
			this._getFunc=this._getProty2;
		}
	}

	__class(WdragXYProtyInfo,'tool.dream.protyEdits.editProtyInfos.WdragXYProtyInfo',_super);
	var __proto=WdragXYProtyInfo.prototype;
	__proto._getProty2=function(editObj){
		return editObj[this.protyName];
	}

	__proto._setProty2=function(editObj,value){
		editObj[this.protyName].x=value.x;
		editObj[this.protyName].y=value.y;
		editObj[this.protyName]=editObj[this.protyName];
	}

	__proto._getProty=function(editObj){
		return {x:editObj[this.protyNames[0]],y:editObj[this.protyNames[1]]};
	}

	__proto._setProty=function(editObj,value){
		editObj[this.protyNames[0]]=value.x;
		editObj[this.protyNames[1]]=value.y;
	}

	WdragXYProtyInfo.ParentType_Self="self";
	WdragXYProtyInfo.ParentType_Parent="parent";
	WdragXYProtyInfo.ParentType_Stage="stage";
	WdragXYProtyInfo.ParentType_Call="call";
	WdragXYProtyInfo.ParentType_Property="property";
	return WdragXYProtyInfo;
})(WeditProtyInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WenumProtyInfo.as=======98.997285/98.997285
//class tool.dream.protyEdits.editProtyInfos.WenumProtyInfo extends tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WenumProtyInfo=(function(_super){
	function WenumProtyInfo(protyName,enums,setFunc,getFunc,des){
		this.enums=null;
		(des===void 0)&& (des="");
		WenumProtyInfo.__super.call(this,"Enum",protyName,setFunc,getFunc,des);
		this.enums=enums;
	}

	__class(WenumProtyInfo,'tool.dream.protyEdits.editProtyInfos.WenumProtyInfo',_super);
	return WenumProtyInfo;
})(WeditProtyInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WlayoutProtyInfo.as=======98.997284/98.997284
//class tool.dream.protyEdits.editProtyInfos.WlayoutProtyInfo extends tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WlayoutProtyInfo=(function(_super){
	function WlayoutProtyInfo(protyName,layoutNames,des){
		this.layoutNames=null;
		(des===void 0)&& (des="");
		WlayoutProtyInfo.__super.call(this,"LayoutGameUI",protyName,null,null,des);
		this.layoutNames=layoutNames;
	}

	__class(WlayoutProtyInfo,'tool.dream.protyEdits.editProtyInfos.WlayoutProtyInfo',_super);
	return WlayoutProtyInfo;
})(WeditProtyInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WsliderProtyInfo.as=======98.997283/98.997283
//class tool.dream.protyEdits.editProtyInfos.WsliderProtyInfo extends tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WsliderProtyInfo=(function(_super){
	function WsliderProtyInfo(protyName,minValue,maxValue,setFunc,getFunc,des){
		this.maxValue=100;
		this.minValue=0;
		(minValue===void 0)&& (minValue=0);
		(maxValue===void 0)&& (maxValue=100);
		(des===void 0)&& (des="");
		this.maxValue=maxValue;
		this.minValue=minValue;
		WsliderProtyInfo.__super.call(this,"Slider",protyName,setFunc,getFunc,des);
	}

	__class(WsliderProtyInfo,'tool.dream.protyEdits.editProtyInfos.WsliderProtyInfo',_super);
	return WsliderProtyInfo;
})(WeditProtyInfo)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/editProtyInfos/WvectorsProtyInfo.as=======98.997282/98.997282
/**
*
*@author 000142
*
*/
//class tool.dream.protyEdits.editProtyInfos.WvectorsProtyInfo extends tool.dream.protyEdits.editProtyInfos.WeditProtyInfo
var WvectorsProtyInfo=(function(_super){
	function WvectorsProtyInfo(protyName,createNewItem,addItem,removeItem,sortName,setFunc,getFunc,des){
		/**
		*该函数需要返回一个可编辑对象
		*/
		this.createNewItem=null;
		/**
		*添加操作
		*/
		this.addItem=null;
		/**
		*删除操作
		*/
		this.removeItem=null;
		/**
		*选择item回掉
		*/
		this.selectedItemFunc=null;
		/**
		*排序字段
		*/
		this.sortName=null;
		/**
		*选择创建
		*/
		this.isChooseCreate=false;
		(sortName===void 0)&& (sortName="");
		(des===void 0)&& (des="");
		this.createNewItem=createNewItem;
		this.addItem=addItem;
		this.removeItem=removeItem;
		this.sortName=sortName;
		WvectorsProtyInfo.__super.call(this,"Vectors",protyName,setFunc,getFunc,des);
	}

	__class(WvectorsProtyInfo,'tool.dream.protyEdits.editProtyInfos.WvectorsProtyInfo',_super);
	var __proto=WvectorsProtyInfo.prototype;
	__proto.dispose=function(){
		_super.prototype.dispose.call(this);
		this.createNewItem=null;
		this.addItem=null;
		this.removeItem=null;
	}

	return WvectorsProtyInfo;
})(WeditProtyInfo)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/WasynManager.as=======98.997221/98.997221
/**
*全局异步器
*@inheritDoc
*@author wulongbin
*/
//class wlb.dream.async.WasynManager extends wlb.dream.async.WasynItem
var WasynManager=(function(_super){
	function WasynManager(){
		//=============================================================================
		this._stage=null;
		this._awakenByActivity=false;
		WasynManager._instance=this;
		WasynManager.__super.call(this);
		this.init();
	}

	__class(WasynManager,'wlb.dream.async.WasynManager',_super);
	var __proto=WasynManager.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._stage=Wstage.stage;
		this.running=true;
	}

	// }
	__proto.onActivate=function(){
		this.running=true;
	}

	__proto.onDeactivate=function(){
		this.running=false;
	}

	/**
	*是否运行由激活事件控制
	*@return
	*
	*/
	__getset(0,__proto,'awakenByActivity',function(){
		return this._awakenByActivity;
		},function(value){
		if(this._awakenByActivity==value)return;
		this._awakenByActivity=value;
	});

	__getset(1,WasynManager,'instance',function(){
		return WasynManager._instance||new WasynManager;
	},wlb.dream.async.WasynItem._$SET_instance);

	WasynManager._instance=null;
	return WasynManager;
})(WasynItem)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/async/WheadNode.as=======98.997217/98.997217
//class wlb.dream.async.WheadNode extends wlb.dream.async.WfuncNode
var WheadNode=(function(_super){
	function WheadNode(){
		this.last=null;
		WheadNode.__super.call(this);
		this.last=this;
	}

	__class(WheadNode,'wlb.dream.async.WheadNode',_super);
	var __proto=WheadNode.prototype;
	__proto.reset=function(){
		this.last=this;
		this.next=null;
	}

	return WheadNode;
})(WfuncNode)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/WstageProxy.as=======98.997142/98.997142
/**
*舞台容器代理
*@author wulongbin
*
*/
//class wlb.dream.displays.WstageProxy extends wlb.dream.displays.WdisplayContainProxy
var WstageProxy=(function(_super){
	function WstageProxy(){
		WstageProxy.__super.call(this,Wstage.stage);
	}

	__class(WstageProxy,'wlb.dream.displays.WstageProxy',_super);
	var __proto=WstageProxy.prototype;
	__getset(0,__proto,'height',function(){
		return Wstage.stageHeight;
	},_super.prototype._$set_height);

	__getset(0,__proto,'width',function(){
		return Wstage.stageWidth;
	},_super.prototype._$set_width);

	return WstageProxy;
})(WdisplayContainProxy)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/keyManagers/WkeyCtrlManager.as=======98.997127/98.997127
/**
*按键控制管理器基类
*@author wulongbin
*
*/
//class wlb.dream.keyManagers.WkeyCtrlManager extends wlb.dream.keyManagers.WkeyContainerCtrl
var WkeyCtrlManager=(function(_super){
	function WkeyCtrlManager(){
		this._keyStatus=null;
		this._runLock=null;
		this._focus=null;
		WkeyCtrlManager.__super.call(this);
		WkeyCtrlManager._instance=this;
		this.initKeyCtrlManager();
	}

	__class(WkeyCtrlManager,'wlb.dream.keyManagers.WkeyCtrlManager',_super);
	var __proto=WkeyCtrlManager.prototype;
	__proto.initKeyCtrlManager=function(){
		this._keyStatus=__newvec(256,0);
		Wstage.stage.on("mousedown",this,this.mouseDownHd);
		Wstage.stage.on("mouseup",this,this.mouseUpHd);
		if("rightmousedown")
			Wstage.stage.on("rightmousedown",this,this.rightMouseDownHd);
		if("rightmouseup")
			Wstage.stage.on("rightmouseup",this,this.rightMouseUpHd);
		this._runLock=new WstateInfo;
		this._runLock.operatEndFunc(this.updateRunLock.bind(this),true);
		this._runLock.setState(1);
		this.focus=Wstage.stage;
	}

	__proto.mouseUpHd=function(){
		WkeyCtrlManager.isLeftDown=false;
	}

	__proto.mouseDownHd=function(){
		WkeyCtrlManager.isLeftDown=true;
	}

	__proto.rightMouseUpHd=function(){
		WkeyCtrlManager.isRightDown=false;
	}

	__proto.rightMouseDownHd=function(){
		WkeyCtrlManager.isRightDown=true;
	}

	__proto.middleMouseUpHd=function(){
		WkeyCtrlManager.isMiddleDown=false;
	}

	__proto.middleMouseDownHd=function(){
		WkeyCtrlManager.isMiddleDown=true;
	}

	__proto.keyUpHd=function(event){
		this.keyUp(event.keyCode);
	}

	__proto.keyUp=function(keyCode){
		if(keyCode>=256)return;
		this._keyStatus[keyCode]=0;
		if(this._runLock.isOpen)return;
		this.pressKey(keyCode,false);
	}

	__proto.keyDownHd=function(event){
		this.keyDown(event.keyCode);
	}

	__proto.keyDown=function(keyCode){
		this._keyStatus[keyCode]++;
		if(this._runLock.isOpen)return;
		this.pressKey(keyCode,true);
	}

	__proto.isPess=function(keyCode){
		return this._keyStatus[keyCode]>0;
	}

	__proto.updateRunLock=function(value){}
	// }
	__getset(0,__proto,'focus',function(){
		return this._focus;
		},function(value){
		if(this._focus){
			this._focus.off("keydown",this,this.keyDownHd);
			this._focus.off("keyup",this,this.keyUpHd);
		}
		this._focus=value;
		if(this._focus){
			this._focus.on("keydown",this,this.keyDownHd);
			this._focus.on("keyup",this,this.keyUpHd);
		}
		this.focusKey(this._focus!=null);
	});

	__getset(0,__proto,'runLock',function(){
		return this._runLock;
	});

	__getset(1,WkeyCtrlManager,'instance',function(){
		return WkeyCtrlManager._instance||WclassMnger.instance.createInstance("Cla_KeyCtrlMnger",WkeyCtrlManager);
	},wlb.dream.keyManagers.WkeyContainerCtrl._$SET_instance);

	WkeyCtrlManager._instance=null;
	WkeyCtrlManager.isLeftDown=false;
	WkeyCtrlManager.isRightDown=false;
	WkeyCtrlManager.isMiddleDown=false;
	return WkeyCtrlManager;
})(WkeyContainerCtrl)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WstaticTrigger.as=======98.997083/98.997083
/**
*停留触发tip信息
*@author wlb
*
*/
//class wlb.dream.tip.WstaticTrigger extends wlb.dream.tip.WtipTrigger
var WstaticTrigger=(function(_super){
	function WstaticTrigger(){
		this._lastX=NaN;
		this._lastY=NaN;
		this._delay=40;
		this._nowTime=0;
		WstaticTrigger.__super.call(this);
	}

	__class(WstaticTrigger,'wlb.dream.tip.WstaticTrigger',_super);
	var __proto=WstaticTrigger.prototype;
	__proto.setFocusTip=function(tip){
		if(this._tip){
			this._tip.visible=true;
		}
		this._nowTime=0;
		_super.prototype.setFocusTip.call(this,tip);
		if(this._tip){
			this._tip.visible=false;
			_super.prototype.setFocusTip.call(this,tip);
		}
	}

	__proto.frame=function(){
		var _stage=Wstage.stage;
		var x=Math.min(_stage.mouseX+20,Wstage.stageWidth-this._tip.width);
		var y=Math.min(_stage.mouseY-20,Wstage.stageHeight-this._tip.height);
		this._tip.pos(x,y);
		if(this._lastX==x&&this._lastY==y){
			this._nowTime++;
			if(this._nowTime>=this._delay)
				this._tip.visible=true;
		}
		else{
			this._nowTime=0;
			this._tip.visible=false;
		}
		this._lastX=x;
		this._lastY=y;
	}

	return WstaticTrigger;
})(WtipTrigger)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Sprite.as=======97.999976/97.999976
/**
*<p> <code>Sprite</code> 是基本的显示图形的显示列表节点。 <code>Sprite</code> 默认没有宽高，默认不接受鼠标事件。通过 <code>graphics</code> 可以绘制图片或者矢量图，支持旋转，缩放，位移等操作。<code>Sprite</code>同时也是容器类，可用来添加多个子节点。</p>
*<p>注意： <code>Sprite</code> 默认没有宽高，可以通过<code>getBounds</code>函数获取；也可手动设置宽高；还可以设置<code>autoSize=true</code>，然后再获取宽高。<code>Sprite</code>的宽高一般用于进行碰撞检测和排版，并不影响显示图像大小，如果需要更改显示图像大小，请使用 <code>scaleX</code> ， <code>scaleY</code> ， <code>scale</code>。</p>
*<p> <code>Sprite</code> 默认不接受鼠标事件，即<code>mouseEnabled=false</code>，但是只要对其监听任意鼠标事件，会自动打开自己以及所有父对象的<code>mouseEnabled=true</code>。所以一般也无需手动设置<code>mouseEnabled</code>。</p>
*<p>LayaAir引擎API设计精简巧妙。核心显示类只有一个<code>Sprite</code>。<code>Sprite</code>针对不同的情况做了渲染优化，所以保证一个类实现丰富功能的同时，又达到高性能。</p>
*
*@example <caption>创建了一个 <code>Sprite</code> 实例。</caption>
*package
*{
	*import laya.display.Sprite;
	*import laya.events.Event;
	*
	*public class Sprite_Example
	*{
		*private var sprite:Sprite;
		*private var shape:Sprite
		*public function Sprite_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
			*sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
			*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
			*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
			*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
			*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
			*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。
			*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。
			*shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
			*shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
			*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
			*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
			*shape.width=100;//设置 shape 对象的宽度。
			*shape.height=100;//设置 shape 对象的高度。
			*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
			*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
			*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。
			*shape.on(Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。
			*}
		*private function onClickSprite():void
		*{
			*trace("点击 sprite 对象。");
			*sprite.rotation+=5;//旋转 sprite 对象。
			*}
		*private function onClickShape():void
		*{
			*trace("点击 shape 对象。");
			*shape.rotation+=5;//旋转 shape 对象。
			*}
		*}
	*}
*
*@example
*var sprite;
*var shape;
*Sprite_Example();
*function Sprite_Example()
*{
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*onInit();
	*}
*function onInit()
*{
	*sprite=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。
	*sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
	*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
	*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
	*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
	*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
	*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。
	*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。
	*shape=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。
	*shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
	*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
	*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
	*shape.width=100;//设置 shape 对象的宽度。
	*shape.height=100;//设置 shape 对象的高度。
	*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
	*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
	*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。
	*shape.on(laya.events.Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。
	*}
*function onClickSprite()
*{
	*console.log("点击 sprite 对象。");
	*sprite.rotation+=5;//旋转 sprite 对象。
	*}
*function onClickShape()
*{
	*console.log("点击 shape 对象。");
	*shape.rotation+=5;//旋转 shape 对象。
	*}
*
*@example
*import Sprite=laya.display.Sprite;
*class Sprite_Example {
	*private sprite:Sprite;
	*private shape:Sprite
	*public Sprite_Example(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*this.sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
		*this.sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
		*this.sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
		*this.sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
		*this.sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
		*this.sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
		*Laya.stage.addChild(this.sprite);//将此 sprite 对象添加到显示列表。
		*this.sprite.on(laya.events.Event.CLICK,this,this.onClickSprite);//给 sprite 对象添加点击事件侦听。
		*this.shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
		*this.shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
		*this.shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
		*this.shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
		*this.shape.width=100;//设置 shape 对象的宽度。
		*this.shape.height=100;//设置 shape 对象的高度。
		*this.shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
		*this.shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
		*Laya.stage.addChild(this.shape);//将此 shape 对象添加到显示列表。
		*this.shape.on(laya.events.Event.CLICK,this,this.onClickShape);//给 shape 对象添加点击事件侦听。
		*}
	*private onClickSprite():void {
		*console.log("点击 sprite 对象。");
		*this.sprite.rotation+=5;//旋转 sprite 对象。
		*}
	*private onClickShape():void {
		*console.log("点击 shape 对象。");
		*this.shape.rotation+=5;//旋转 shape 对象。
		*}
	*}
*/
//class laya.display.Sprite extends laya.display.Node
var Sprite=(function(_super){
	function Sprite(){
		/**@private */
		this._x=0;
		/**@private */
		this._y=0;
		/**@private */
		this._width=0;
		/**@private */
		this._height=0;
		/**@private */
		this._visible=true;
		/**@private 鼠标状态，0:auto,1:mouseEnabled=false,2:mouseEnabled=true。*/
		this._mouseState=0;
		/**@private z排序，数值越大越靠前。*/
		this._zOrder=0;
		/**@private */
		this._renderType=0;
		/**@private */
		this._transform=null;
		/**@private */
		this._tfChanged=false;
		/**@private */
		this._texture=null;
		/**@private */
		this._boundStyle=null;
		/**@private */
		this._graphics=null;
		/**@private */
		this._customRenderCmd=null;
		/**@private */
		this._customCmds=null;
		/**
		*<p>鼠标事件与此对象的碰撞检测是否可穿透。碰撞检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>
		*<p>穿透表示鼠标事件发生的位置处于本对象绘图区域内时，才算命中，而与对象宽高和值为Rectangle对象的hitArea属性无关。如果sprite.hitArea值是HitArea对象，表示显式声明了此对象的鼠标事件响应区域，而忽略对象的宽高、mouseThrough属性。</p>
		*<p>影响对象鼠标事件响应区域的属性为：width、height、hitArea，优先级顺序为：hitArea(type:HitArea)>hitArea(type:Rectangle)>width/height。</p>
		*@default false 不可穿透，此对象的鼠标响应区域由width、height、hitArea属性决定。</p>
		*/
		this.mouseThrough=false;
		/**
		*<p>指定是否自动计算宽高数据。默认值为 false 。</p>
		*<p>Sprite宽高默认为0，并且不会随着绘制内容的变化而变化，如果想根据绘制内容获取宽高，可以设置本属性为true，或者通过getBounds方法获取。设置为true，对性能有一定影响。</p>
		*/
		this.autoSize=false;
		/**
		*<p>指定鼠标事件检测是优先检测自身，还是优先检测其子对象。鼠标事件检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>
		*<p>如果为false，优先检测子对象，当有子对象被命中时，中断检测，获得命中目标。如果未命中任何子对象，最后再检测此对象；如果为true，则优先检测本对象，如果本对象没有被命中，直接中断检测，表示没有命中目标；如果本对象被命中，则进一步递归检测其子对象，以确认最终的命中目标。</p>
		*<p>合理使用本属性，能减少鼠标事件检测的节点，提高性能。可以设置为true的情况：开发者并不关心此节点的子节点的鼠标事件检测结果，也就是以此节点作为其子节点的鼠标事件检测依据。</p>
		*<p>Stage对象和UI的View组件默认为true。</p>
		*@default false 优先检测此对象的子对象，当递归检测完所有子对象后，仍然没有找到目标对象，最后再检测此对象。
		*/
		this.hitTestPrior=false;
		this._repaintSpecial=0;
		Sprite.__super.call(this);
		this._repaint=0;
		this._style=SpriteStyle.EMPTY;
		this._cacheStyle=CacheStyle.EMPTY;
		if (Render.isConchApp){
			this._customCmds=[];
		}
	}

	__class(Sprite,'laya.display.Sprite',_super);
	var __proto=Sprite.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._style && this._style.recover();
		this._cacheStyle && this._cacheStyle.recover();
		this._boundStyle && this._boundStyle.recover();
		this._style=null;
		this._cacheStyle=null;
		this._boundStyle=null;
		this._transform=null;
		this._graphics=null;
	}

	/**根据zOrder进行重新排序。*/
	__proto.updateZOrder=function(){
		Utils.updateOrder(this._children)&& this.repaint();
	}

	/**
	*@private
	*/
	__proto._getBoundsStyle=function(){
		if (!this._boundStyle)this._boundStyle=BoundsStyle.create();
		return this._boundStyle;
	}

	__proto._setCustomRender=function(){}
	__proto._setCacheAs=function(value){}
	/**
	*更新_cnavas相关的状态
	*/
	__proto._checkCanvasEnable=function(){
		var tEnable=this._cacheStyle.needEnableCanvasRender();
		this._getCacheStyle().enableCanvasRender=tEnable;
		if (tEnable){
			if (this._cacheStyle.needBitmapCache()){
				this._cacheStyle.cacheAs="bitmap";
				}else {
				this._cacheStyle.cacheAs=this._cacheStyle.userSetCache;
			}
			this._cacheStyle.reCache=true;
			this._renderType |=0x08;
			}else {
			this._cacheStyle.cacheAs="none";
			this._cacheStyle.releaseContext();
			this._renderType &=~0x08;
		}
		this._setRenderType(this._renderType);
	}

	/**在设置cacheAs的情况下，调用此方法会重新刷新缓存。*/
	__proto.reCache=function(){
		this._cacheStyle.reCache=true;
		this._repaint |=0x02;
	}

	__proto._setX=function(value){
		this._x=value;
	}

	__proto._setY=function(value){
		this._y=value;
	}

	/**
	*设置对象bounds大小，如果有设置，则不再通过getBounds计算，合理使用能提高性能。
	*@param bound bounds矩形区域
	*/
	__proto.setSelfBounds=function(bound){
		this._getBoundsStyle().userBounds=bound;
	}

	/**
	*<p>获取本对象在父容器坐标系的矩形显示区域。</p>
	*<p><b>注意：</b>计算量较大，尽量少用。</p>
	*@return 矩形区域。
	*/
	__proto.getBounds=function(){
		return this._getBoundsStyle().bounds=Rectangle._getWrapRec(this._boundPointsToParent());
	}

	/**
	*获取本对象在自己坐标系的矩形显示区域。
	*<p><b>注意：</b>计算量较大，尽量少用。</p>
	*@return 矩形区域。
	*/
	__proto.getSelfBounds=function(){
		if (this._boundStyle && this._boundStyle.userBounds)return this._boundStyle.userBounds;
		if (!this._graphics && this._children.length===0)return Rectangle.TEMP.setTo(0,0,0,0);
		return this._getBoundsStyle().bounds=Rectangle._getWrapRec(this._getBoundPointsM(false));
	}

	/**
	*@private
	*获取本对象在父容器坐标系的显示区域多边形顶点列表。
	*当显示对象链中有旋转时，返回多边形顶点列表，无旋转时返回矩形的四个顶点。
	*@param ifRotate （可选）之前的对象链中是否有旋转。
	*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。
	*/
	__proto._boundPointsToParent=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		var pX=0,pY=0;
		if (this._style){
			pX=this.pivotX;
			pY=this.pivotY;
			ifRotate=ifRotate || (this._style.rotation!==0);
			if (this._style.scrollRect){
				pX+=this._style.scrollRect.x;
				pY+=this._style.scrollRect.y;
			}
		};
		var pList=this._getBoundPointsM(ifRotate);
		if (!pList || pList.length < 1)return pList;
		if (pList.length !=8){
			pList=ifRotate ? GrahamScan.scanPList(pList):Rectangle._getWrapRec(pList,Rectangle.TEMP)._getBoundPoints();
		}
		if (!this.transform){
			Utils.transPointList(pList,this._x-pX,this._y-pY);
			return pList;
		};
		var tPoint=Point.TEMP;
		var i=0,len=pList.length;
		for (i=0;i < len;i+=2){
			tPoint.x=pList[i];
			tPoint.y=pList[i+1];
			this.toParentPoint(tPoint);
			pList[i]=tPoint.x;
			pList[i+1]=tPoint.y;
		}
		return pList;
	}

	/**
	*返回此实例中的绘图对象（ <code>Graphics</code> ）的显示区域，不包括子对象。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 一个 Rectangle 对象，表示获取到的显示区域。
	*/
	__proto.getGraphicBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._graphics)return Rectangle.TEMP.setTo(0,0,0,0);
		return this._graphics.getBounds(realSize);
	}

	/**
	*@private
	*获取自己坐标系的显示区域多边形顶点列表
	*@param ifRotate （可选）当前的显示对象链是否由旋转
	*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。
	*/
	__proto._getBoundPointsM=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		if (this._boundStyle && this._boundStyle.userBounds)return this._boundStyle.userBounds._getBoundPoints();
		if (!this._boundStyle)this._getBoundsStyle();
		if (!this._boundStyle.temBM)this._boundStyle.temBM=[];
		if (this._style.scrollRect){
			var rst=Utils.clearArray(this._boundStyle.temBM);
			var rec=Rectangle.TEMP;
			rec.copyFrom(this._style.scrollRect);
			Utils.concatArray(rst,rec._getBoundPoints());
			return rst;
		};
		var pList;
		if (this._graphics){
			pList=this._graphics.getBoundPoints();
			}else {
			pList=Utils.clearArray(this._boundStyle.temBM);
		};
		var child;
		var cList;
		var __childs;
		__childs=this._children;
		for (var i=0,n=__childs.length;i < n;i++){
			child=__childs [i];
			if ((child instanceof laya.display.Sprite )&& child._visible===true){
				cList=child._boundPointsToParent(ifRotate);
				if (cList)
					pList=pList ? Utils.concatArray(pList,cList):cList;
			}
		}
		return pList;
	}

	/**
	*@private
	*获取cache数据。
	*@return cache数据 CacheStyle 。
	*/
	__proto._getCacheStyle=function(){
		this._cacheStyle===CacheStyle.EMPTY && (this._cacheStyle=CacheStyle.create());
		return this._cacheStyle;
	}

	/**
	*@private
	*获取样式。
	*@return 样式 Style 。
	*/
	__proto.getStyle=function(){
		this._style===SpriteStyle.EMPTY && (this._style=SpriteStyle.create());
		return this._style;
	}

	/**
	*@private
	*设置样式。
	*@param value 样式。
	*/
	__proto.setStyle=function(value){
		this._style=value;
	}

	__proto._setScaleX=function(value){
		this._style.scaleX=value;
	}

	__proto._setScaleY=function(value){
		this._style.scaleY=value;
	}

	__proto._setRotation=function(value){
		this._style.rotation=value;
	}

	__proto._setSkewX=function(value){
		this._style.skewX=value;
	}

	__proto._setSkewY=function(value){
		this._style.skewY=value;
	}

	__proto._createTransform=function(){
		return Matrix.create();
	}

	/**@private */
	__proto._adjustTransform=function(){
		'use strict';
		this._tfChanged=false;
		var style=this._style;
		var sx=style.scaleX,sy=style.scaleY;
		var m;
		if (style.rotation || sx!==1 || sy!==1 || style.skewX || style.skewY){
			m=this._transform || (this._transform=this._createTransform());
			m._bTransform=true;
			var skx=(style.rotation-style.skewX)*0.0174532922222222;
			var sky=(style.rotation+style.skewY)*0.0174532922222222;
			var cx=Math.cos(sky);
			var ssx=Math.sin(sky);
			var cy=Math.sin(skx);
			var ssy=Math.cos(skx);
			m.a=sx *cx;
			m.b=sx *ssx;
			m.c=-sy *cy;
			m.d=sy *ssy;
			m.tx=m.ty=0;
			return m;
			}else {
			this._transform && this._transform.destroy();
			this._transform=null;
			this._renderType &=~0x02;
			this._setRenderType(this._renderType);
		}
		return m;
	}

	__proto._setTransform=function(value){}
	__proto._setPivotX=function(value){
		var style=this.getStyle();
		style.pivotX=value;
	}

	__proto._getPivotX=function(){
		return this._style.pivotX;
	}

	__proto._setPivotY=function(value){
		var style=this.getStyle();
		style.pivotY=value;
	}

	__proto._getPivotY=function(){
		return this._style.pivotY;
	}

	__proto._setAlpha=function(value){
		if (this._style.alpha!==value){
			var style=this.getStyle();
			style.alpha=value;
			if (value!==1)this._renderType |=0x01;
			else this._renderType &=~0x01;
			this._setRenderType(this._renderType);
			this.parentRepaint();
		}
	}

	__proto._getAlpha=function(){
		return this._style.alpha;
	}

	__proto._setGraphics=function(value){}
	__proto.setLayaGL3D=function(value){
		if (value){
			if (Render.isConchApp){
				this.data._int32Data[25]=value._buffer._buffer["_ptrID"];
			}
			this._renderType |=0x400;
		}
		else{
			this._renderType &=~0x400;
		}
		this._setRenderType(this._renderType);
		this.repaint();
	}

	__proto._setScrollRect=function(value){}
	/**
	*<p>设置坐标位置。相当于分别设置x和y属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pos(...).scale(...);</p>
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*@param speedMode （可选）是否极速模式，正常是调用this.x=value进行赋值，极速模式直接调用内部函数处理，如果未重写x,y属性，建议设置为急速模式性能更高。
	*@return 返回对象本身。
	*/
	__proto.pos=function(x,y,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		if (this._x!==x || this._y!==y){
			if (this.destroyed)return this;
			if (speedMode){
				this._setX(x);
				this._setY(y);
				var p=this._parent;
				if (p && !(p._repaint&0x02)){
					p._repaint |=0x02;
					p.parentRepaint();
				}
				if (this._cacheStyle.maskParent){
					p=this._cacheStyle.maskParent;
					if(!(p._repaint&0x02)){
						p._repaint |=0x02;
						p.parentRepaint();
					}
				}
				}else {
				this.x=x;
				this.y=y;
			}
		}
		return this;
	}

	/**
	*<p>设置轴心点。相当于分别设置pivotX和pivotY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pivot(...).pos(50,100);</p>
	*@param x X轴心点。
	*@param y Y轴心点。
	*@return 返回对象本身。
	*/
	__proto.pivot=function(x,y){
		this.pivotX=x;
		this.pivotY=y;
		return this;
	}

	/**
	*<p>设置宽高。相当于分别设置width和height属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.size(...).pos(50,100);</p>
	*@param width 宽度值。
	*@param hegiht 高度值。
	*@return 返回对象本身。
	*/
	__proto.size=function(width,height){
		this.width=width;
		this.height=height;
		return this;
	}

	/**
	*<p>设置缩放。相当于分别设置scaleX和scaleY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.scale(...).pos(50,100);</p>
	*@param scaleX X轴缩放比例。
	*@param scaleY Y轴缩放比例。
	*@param speedMode （可选）是否极速模式，正常是调用this.scaleX=value进行赋值，极速模式直接调用内部函数处理，如果未重写scaleX,scaleY属性，建议设置为急速模式性能更高。
	*@return 返回对象本身。
	*/
	__proto.scale=function(scaleX,scaleY,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		var style=this.getStyle();
		if (style.scaleX !=scaleX || style.scaleY !=scaleY){
			if (this.destroyed)return this;
			if (speedMode){
				this._setScaleX(scaleX);
				this._setScaleY(scaleY);
				this._setTranformChange();
				}else {
				this.scaleX=scaleX;
				this.scaleY=scaleY;
			}
		}
		return this;
	}

	/**
	*<p>设置倾斜角度。相当于分别设置skewX和skewY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.skew(...).pos(50,100);</p>
	*@param skewX 水平倾斜角度。
	*@param skewY 垂直倾斜角度。
	*@return 返回对象本身
	*/
	__proto.skew=function(skewX,skewY){
		this.skewX=skewX;
		this.skewY=skewY;
		return this;
	}

	/**
	*更新、呈现显示对象。由系统调用。
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.render=function(context,x,y){
		Stat.spriteCount++;
		RenderSprite.renders[this._renderType]._fun(this,context,x+this._x,y+this._y);
		this._repaint=0;
	}

	__proto.repaintSpecial=function(){
		if (this._repaintSpecial==0){
			this._repaintSpecial=1;
			this.parentRepaintSpecial();
		}
	}

	__proto.parentRepaintSpecial=function(){
		var p=this._parent;
		if (p && p._repaintSpecial==0){
			p._repaintSpecial=1;
			p.parentRepaintSpecial();
		}
	}

	__proto.renderToNative=function(context,x,y){
		var nCurentFrameCount=LayaGL.getFrameCount()-1;
		var iData=this.data._int32Data;
		var nRepaint=iData[3];
		if (this._repaintSpecial==1 || (nRepaint & 0x01)|| iData[4] !=nCurentFrameCount){
			this._repaintSpecial=0;
			if (this._renderType & 0x800){
				this._customRenderCmd.beginEncoding();
				this._customRenderCmd.clearEncoding();
				context["_commandEncoder"]=this._customRenderCmd;
				context["_customCmds"]=this._customCmds;
				for (var i=0,n=this._customCmds.length;i < n;i++){
					this._customCmds[i].recover();
				}
				this._customCmds.length=0;
				this.customRender(context,x,y);
				this._customRenderCmd.endEncoding();
				this.repaintSpecial();
			}
			if (this._children.length > 0){
				context.blockStart(this.data);
				this._renderChilds(context);
				context.blockEnd(this.data);
			}
			else{
				context.block(this.data);
			}
		}
		else{
			context.copyCmdBuffer(this.data._int32Data[1],this.data._int32Data[2]);
		}
	}

	__proto._renderChilds=function(context){
		var childs=this._children,ele;
		var i=0,n=childs.length;
		var style=this._style;
		if (style.viewport){
			var rect=style.viewport;
			var left=rect.x;
			var top=rect.y;
			var right=rect.right;
			var bottom=rect.bottom;
			var _x=NaN,_y=NaN;
			for (;i < n;++i){
				if ((ele=childs[i])._visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top))
					ele.renderToNative(context);
			}
			}else {
			for (;i < n;++i)
			(ele=childs[i])._visible && ele.renderToNative(context);
		}
	}

	/**
	*<p>绘制 当前<code>Sprite</code> 到 <code>Canvas</code> 上，并返回一个HtmlCanvas。</p>
	*<p>绘制的结果可以当作图片源，再次绘制到其他Sprite里面，示例：</p>
	*
	*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面
	*var texture:Texture=new Texture(htmlCanvas);//使用htmlCanvas创建Texture
	*var sp:Sprite=new Sprite().pos(0,200);//创建精灵并把它放倒200位置
	*sp.graphics.drawImage(texture);//把截图绘制到精灵上
	*Laya.stage.addChild(sp);//把精灵显示到舞台
	*
	*<p>也可以获取原始图片数据，分享到网上，从而实现截图效果，示例：</p>
	*
	*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面
	*var canvas:*=htmlCanvas.getCanvas();//获取原生的canvas对象
	*trace(canvas.toDataURL("image/png"));//打印图片base64信息，可以发给服务器或者保存为图片
	*
	*@param canvasWidth 画布宽度。
	*@param canvasHeight 画布高度。
	*@param x 绘制的 X 轴偏移量。
	*@param y 绘制的 Y 轴偏移量。
	*@return HTMLCanvas 对象。
	*/
	__proto.drawToCanvas=function(canvasWidth,canvasHeight,offsetX,offsetY){
		return RunDriver.drawToCanvas(this,this._renderType,canvasWidth,canvasHeight,offsetX,offsetY);
	}

	/**
	*<p>自定义更新、呈现显示对象。一般用来扩展渲染模式，请合理使用，可能会导致在加速器上无法渲染。</p>
	*<p><b>注意</b>不要在此函数内增加或删除树节点，否则会对树节点遍历造成影响。</p>
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.customRender=function(context,x,y){
		this._repaint=true;
	}

	/**
	*@private
	*应用滤镜。
	*/
	__proto._applyFilters=function(){
		if (Render.isWebGL)return;
		var _filters;
		_filters=this._cacheStyle.filters;
		if (!_filters || _filters.length < 1)return;
		for (var i=0,n=_filters.length;i < n;i++){
			_filters[i].action.apply(this._cacheStyle);
		}
	}

	__proto._setColorFilter=function(value){}
	/**
	*@private
	*查看当前原件中是否包含发光滤镜。
	*@return 一个 Boolean 值，表示当前原件中是否包含发光滤镜。
	*/
	__proto._isHaveGlowFilter=function(){
		var i=0,len=0;
		if (this.filters){
			for (i=0;i < this.filters.length;i++){
				if (this.filters[i].type==0x08){
					return true;
				}
			}
		}
		for (i=0,len=this._children.length;i < len;i++){
			if (this._children[i]._isHaveGlowFilter()){
				return true;
			}
		}
		return false;
	}

	/**
	*把本地坐标转换为相对stage的全局坐标。
	*@param point 本地坐标点。
	*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。
	*@return 转换后的坐标的点。
	*/
	__proto.localToGlobal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		if (createNewPoint===true){
			point=new Point(point.x,point.y);
		};
		var ele=this;
		while (ele){
			if (ele==Laya.stage)break ;
			point=ele.toParentPoint(point);
			ele=ele.parent;
		}
		return point;
	}

	/**
	*把stage的全局坐标转换为本地坐标。
	*@param point 全局坐标点。
	*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。
	*@return 转换后的坐标的点。
	*/
	__proto.globalToLocal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		if (createNewPoint){
			point=new Point(point.x,point.y);
		};
		var ele=this;
		var list=[];
		while (ele){
			if (ele==Laya.stage)break ;
			list.push(ele);
			ele=ele.parent;
		};
		var i=list.length-1;
		while (i >=0){
			ele=list[i];
			point=ele.fromParentPoint(point);
			i--;
		}
		return point;
	}

	/**
	*将本地坐标系坐标转转换到父容器坐标系。
	*@param point 本地坐标点。
	*@return 转换后的点。
	*/
	__proto.toParentPoint=function(point){
		if (!point)return point;
		point.x-=this.pivotX;
		point.y-=this.pivotY;
		if (this.transform){
			this._transform.transformPoint(point);
		}
		point.x+=this._x;
		point.y+=this._y;
		var scroll=this._style.scrollRect;
		if (scroll){
			point.x-=scroll.x;
			point.y-=scroll.y;
		}
		return point;
	}

	/**
	*将父容器坐标系坐标转换到本地坐标系。
	*@param point 父容器坐标点。
	*@return 转换后的点。
	*/
	__proto.fromParentPoint=function(point){
		if (!point)return point;
		point.x-=this._x;
		point.y-=this._y;
		var scroll=this._style.scrollRect;
		if (scroll){
			point.x+=scroll.x;
			point.y+=scroll.y;
		}
		if (this.transform){
			this._transform.invertTransformPoint(point);
		}
		point.x+=this.pivotX;
		point.y+=this.pivotY;
		return point;
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		if (this._mouseState!==1 && this.isMouseEvent(type)){
			this.mouseEnabled=true;
			this._setBit(0x04,true);
			if (this._parent){
				this._$2__onDisplay();
			}
			return this._createListener(type,caller,listener,args,false);
		}
		return _super.prototype.on.call(this,type,caller,listener,args);
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		if (this._mouseState!==1 && this.isMouseEvent(type)){
			this.mouseEnabled=true;
			this._setBit(0x04,true);
			if (this._parent){
				this._$2__onDisplay();
			}
			return this._createListener(type,caller,listener,args,true);
		}
		return _super.prototype.once.call(this,type,caller,listener,args);
	}

	/**@private */
	__proto._$2__onDisplay=function(){
		if (this._mouseState!==1){
			var ele=this;
			ele=ele.parent;
			while (ele && ele._mouseState!==1){
				if (ele._getBit(0x04))break ;
				ele.mouseEnabled=true;
				ele._setBit(0x04,true);
				ele=ele.parent;
			}
		}
	}

	__proto._setParent=function(value){
		_super.prototype._setParent.call(this,value);
		if (value && this._getBit(0x04)){
			this._$2__onDisplay();
		}
	}

	/**
	*<p>加载并显示一个图片。相当于加载图片后，设置texture属性</p>
	*<p>注意：2.0改动：多次调用，只会显示一个图片（1.0会显示多个图片）。</p>
	*@param url 图片地址。
	*@param x （可选）显示图片的x位置。
	*@param y （可选）显示图片的y位置。
	*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。
	*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。
	*@param complete （可选）加载完成回调。
	*@return 返回精灵对象本身。
	*/
	__proto.loadImage=function(url,x,y,width,height,complete){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		var tex=Loader.getRes(url);
		if (!tex){
			tex=new Texture();
			tex.load(url);
			Loader.cacheRes(url,tex);
		}
		tex.once("loaded",this,this.repaint);
		this.texture=tex;
		return this;
	}

	/**cacheAs后，设置自己和父对象缓存失效。*/
	__proto.repaint=function(type){
		(type===void 0)&& (type=0x02);
		if (!(this._repaint&type)){
			this._repaint |=type;
			this.parentRepaint(type);
		}
		if (this._cacheStyle && this._cacheStyle.maskParent){
			this._cacheStyle.maskParent.repaint(type);
		}
	}

	/**cacheAs后，设置自己和父对象缓存失效。*/
	__proto.repaintForNative=function(type){
		(type===void 0)&& (type=0x02);
		if (!(this.data._int32Data[3] & type==type)){
			this.data._int32Data[3] |=type;
			this.parentRepaintForNative(type);
		}
	}

	/**
	*@private
	*获取是否重新缓存。
	*@return 如果重新缓存值为 true，否则值为 false。
	*/
	__proto._needRepaint=function(){
		return (this._repaint&0x02)&& this._cacheStyle.enableCanvasRender && this._cacheStyle.reCache;
	}

	/**@private */
	__proto._childChanged=function(child){
		if (this._children.length)this._renderType |=0x2000;
		else this._renderType &=~0x2000;
		this._setRenderType(this._renderType);
		if (child && this._getBit(0x02))Laya.timer.callLater(this,this.updateZOrder);
		this.repaint(0x03);
	}

	/**cacheAs时，设置所有父对象缓存失效。 */
	__proto.parentRepaint=function(type){
		(type===void 0)&& (type=0x02);
		var p=this._parent;
		if (p && !(p._repaint&type)){
			p._repaint |=type;
			p.parentRepaint(type);
		}
	}

	/**cacheAs时，设置所有父对象缓存失效。 */
	__proto.parentRepaintForNative=function(type){
		(type===void 0)&& (type=0x02);
		var p=this._parent;
		if (p && !(p.data._int32Data[3]&type==type)){
			p.data._int32Data[3] |=type;
			p.parentRepaintForNative(type);
		}
	}

	/**
	*开始拖动此对象。
	*@param area （可选）拖动区域，此区域为当前对象注册点活动区域（不包括对象宽高），可选。
	*@param hasInertia （可选）鼠标松开后，是否还惯性滑动，默认为false，可选。
	*@param elasticDistance （可选）橡皮筋效果的距离值，0为无橡皮筋效果，默认为0，可选。
	*@param elasticBackTime （可选）橡皮筋回弹时间，单位为毫秒，默认为300毫秒，可选。
	*@param data （可选）拖动事件携带的数据，可选。
	*@param disableMouseEvent （可选）禁用其他对象的鼠标检测，默认为false，设置为true能提高性能。
	*@param ratio （可选）惯性阻尼系数，影响惯性力度和时长。
	*/
	__proto.startDrag=function(area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){
		(hasInertia===void 0)&& (hasInertia=false);
		(elasticDistance===void 0)&& (elasticDistance=0);
		(elasticBackTime===void 0)&& (elasticBackTime=300);
		(disableMouseEvent===void 0)&& (disableMouseEvent=false);
		(ratio===void 0)&& (ratio=0.92);
		this._style.dragging || (this.getStyle().dragging=new Dragging());
		this._style.dragging.start(this,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio);
	}

	/**停止拖动此对象。*/
	__proto.stopDrag=function(){
		this._style.dragging && this._style.dragging.stop();
	}

	/**@private */
	__proto._setDisplay=function(value){
		if (!value){
			if (this._cacheStyle){
				this._cacheStyle.releaseContext();
				this._cacheStyle.releaseFilterCache();
				if (this._cacheStyle.hasGlowFilter){
					this._cacheStyle.hasGlowFilter=false;
				}
			}
		}
		_super.prototype._setDisplay.call(this,value);
	}

	/**
	*检测某个点是否在此对象内。
	*@param x 全局x坐标。
	*@param y 全局y坐标。
	*@return 表示是否在对象内。
	*/
	__proto.hitTestPoint=function(x,y){
		var point=this.globalToLocal(Point.TEMP.setTo(x,y));
		x=point.x;
		y=point.y;
		var rect=this._style.hitArea ? this._style.hitArea :(this._width > 0 && this._height > 0)? Rectangle.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds();
		return rect.contains(x,y);
	}

	/**获得相对于本对象上的鼠标坐标信息。*/
	__proto.getMousePoint=function(){
		return this.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));
	}

	__proto._setTexture=function(value){}
	__proto._setRenderType=function(type){}
	__proto._setTranformChange=function(){
		this._tfChanged=true;
		this._renderType |=0x02
		this._setRenderType(this._renderType);
		var p=this._parent;
		if (p && !(p._repaint&0x02)){
			p._repaint |=0x02;
			p.parentRepaint();
		}
	}

	/**
	*设置是否开启自定义渲染，只有开启自定义渲染，才能使用customRender函数渲染。
	*/
	__getset(0,__proto,'customRenderEnable',null,function(b){
		if (b){
			this._renderType |=0x800;
			this._setRenderType(this._renderType);
			this._setCustomRender();
		}
	});

	//_dataf32[SpriteConst.POSCACHE]=value=="bitmap"?2:(value=="normal"?1:0);
	/**
	*<p>指定显示对象是否缓存为静态图像，cacheAs时，子对象发生变化，会自动重新缓存，同时也可以手动调用reCache方法更新缓存。</p>
	*<p>建议把不经常变化的“复杂内容”缓存为静态图像，能极大提高渲染性能。cacheAs有"none"，"normal"和"bitmap"三个值可选。
	*<li>默认为"none"，不做任何缓存。</li>
	*<li>当值为"normal"时，canvas模式下进行画布缓存，webgl模式下进行命令缓存。</li>
	*<li>当值为"bitmap"时，canvas模式下进行依然是画布缓存，webgl模式下使用renderTarget缓存。</li></p>
	*<p>webgl下renderTarget缓存模式缺点：会额外创建renderTarget对象，增加内存开销，缓存面积有最大2048限制，不断重绘时会增加CPU开销。优点：大幅减少drawcall，渲染性能最高。
	*webgl下命令缓存模式缺点：只会减少节点遍历及命令组织，不会减少drawcall数，性能中等。优点：没有额外内存开销，无需renderTarget支持。</p>
	*/
	__getset(0,__proto,'cacheAs',function(){
		return this._cacheStyle.cacheAs;
		},function(value){
		if (value===this._cacheStyle.userSetCache)return;
		this._setCacheAs(value);
		this._getCacheStyle().userSetCache=value;
		this._checkCanvasEnable();
		this.repaint();
	});

	/**z排序，更改此值，则会按照值的大小对同一容器的所有对象重新排序。值越大，越靠上。默认为0，则根据添加顺序排序。*/
	__getset(0,__proto,'zOrder',function(){
		return this._zOrder;
		},function(value){
		if (this._zOrder !=value){
			this._zOrder=value;
			if (this._parent){
				value && this._parent._setBit(0x02,true);
				Laya.timer.callLater(this._parent,this.updateZOrder);
			}
		}
	});

	/**旋转角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'rotation',function(){
		return this._style.rotation;
		},function(value){
		var style=this.getStyle();
		if (style.rotation!==value){
			this._setRotation(value);
			this._setTranformChange();
		}
	});

	/**
	*<p>显示对象的宽度，单位为像素，默认为0。</p>
	*<p>此宽度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>
	*<p>可以通过getbounds获取显示对象图像的实际宽度。</p>
	*/
	__getset(0,__proto,'width',function(){
		if (!this.autoSize)return this._width;
		if (!this._graphics && this._children.length===0)return 0;
		return this.getSelfBounds().width;
		},function(value){
		if (this._width!==value){
			this._width=value;
			this.repaint();
		}
	});

	/**表示显示对象相对于父容器的水平方向坐标值。*/
	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		if (this.destroyed)return;
		if (this._x!==value){
			this._setX(value);
			var p=this._parent;
			if (p && !(p._repaint&0x02)){
				p._repaint |=0x02;
				p.parentRepaint();
			}
			p=this._cacheStyle.maskParent;
			if (p && !(p._repaint&0x02)){
				p._repaint |=0x02;
				p.parentRepaint();
			}
		}
	});

	/**
	*获得相对于stage的全局Y轴缩放值（会叠加父亲节点的缩放值）。
	*/
	__getset(0,__proto,'globalScaleY',function(){
		var scale=1;
		var ele=this;
		while (ele){
			if (ele===Laya.stage)break ;
			scale *=ele.scaleY;
			ele=ele.parent;
		}
		return scale;
	});

	/**
	*<p>可以设置一个Rectangle区域作为点击区域，或者设置一个<code>HitArea</code>实例作为点击区域，HitArea内可以设置可点击和不可点击区域。</p>
	*<p>如果不设置hitArea，则根据宽高形成的区域进行碰撞。</p>
	*/
	__getset(0,__proto,'hitArea',function(){
		return this._style.hitArea;
		},function(value){
		this.getStyle().hitArea=value;
	});

	/**设置cacheAs为非空时此值才有效，staticCache=true时，子对象变化时不会自动更新缓存，只能通过调用reCache方法手动刷新。*/
	__getset(0,__proto,'staticCache',function(){
		return this._cacheStyle.staticCache;
		},function(value){
		this._getCacheStyle().staticCache=value;
		if (!value)this.reCache();
	});

	/**
	*设置一个Texture实例，并显示此图片（如果之前有其他绘制，则会被清除掉）。
	*等同于graphics.clear();graphics.drawImage()，但性能更高
	*还可以赋值一个图片地址，则会自动加载图片，然后显示
	*/
	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		if ((typeof value=='string')){
			this.loadImage(value);
			}else if (this._texture !=value){
			this._texture=value;
			this._setTexture(value);
			if (value)this._renderType |=0x100;
			else this._renderType &=~0x100;
			this._setRenderType(this._renderType);
		}
	});

	/**表示显示对象相对于父容器的垂直方向坐标值。*/
	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		if (this.destroyed)return;
		if (this._y!==value){
			this._setY(value);
			var p=this._parent;
			if (p && !(p._repaint&0x02)){
				p._repaint |=0x02;
				p.parentRepaint();
			}
			p=this._cacheStyle.maskParent;
			if (p && !(p._repaint&0x02)){
				p._repaint |=0x02;
				p.parentRepaint();
			}
		}
	});

	/**
	*<p>显示对象的高度，单位为像素，默认为0。</p>
	*<p>此高度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>
	*<p>可以通过getbounds获取显示对象图像的实际高度。</p>
	*/
	__getset(0,__proto,'height',function(){
		if (!this.autoSize)return this._height;
		if (!this._graphics && this._children.length===0)return 0;
		return this.getSelfBounds().height;
		},function(value){
		if (this._height!==value){
			this._height=value;
			this.repaint();
		}
	});

	/**指定要使用的混合模式。目前只支持"lighter"。*/
	__getset(0,__proto,'blendMode',function(){
		return this._style.blendMode;
		},function(value){
		this.getStyle().blendMode=value;
		if (value && value !="source-over")this._renderType |=0x04;
		else this._renderType &=~0x04;
		this._setRenderType(this._renderType);
		this.parentRepaint();
	});

	/**X轴缩放值，默认值为1。设置为负数，可以实现水平反转效果，比如scaleX=-1。*/
	__getset(0,__proto,'scaleX',function(){
		return this._style.scaleX;
		},function(value){
		var style=this.getStyle();
		if (style.scaleX!==value){
			this._setScaleX(value);
			this._setTranformChange();
		}
	});

	/**Y轴缩放值，默认值为1。设置为负数，可以实现垂直反转效果，比如scaleX=-1。*/
	__getset(0,__proto,'scaleY',function(){
		return this._style.scaleY;
		},function(value){
		var style=this.getStyle();
		if (style.scaleY!==value){
			this._setScaleY(value);
			this._setTranformChange();
		}
	});

	/**对舞台 <code>stage</code> 的引用。*/
	__getset(0,__proto,'stage',function(){
		return Laya.stage;
	});

	/**水平倾斜角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'skewX',function(){
		return this._style.skewX;
		},function(value){
		var style=this.getStyle();
		if (style.skewX!==value){
			this._setSkewX(value);
			this._setTranformChange();
		}
	});

	/**
	*<p>显示对象的滚动矩形范围，具有裁剪效果(如果只想限制子对象渲染区域，请使用viewport)</p>
	*<p> srollRect和viewport的区别：<br/>
	*1.srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>
	*2.设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>
	*/
	__getset(0,__proto,'scrollRect',function(){
		return this._style.scrollRect;
		},function(value){
		this.getStyle().scrollRect=value;
		this._setScrollRect(value);
		this.repaint();
		if (value){
			this._renderType |=0x40;
			}else {
			this._renderType &=~0x40;
		}
		this._setRenderType(this._renderType);
	});

	/**垂直倾斜角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'skewY',function(){
		return this._style.skewY;
		},function(value){
		var style=this.getStyle();
		if (style.skewY!==value){
			this._setSkewY(value);
			this._setTranformChange();
		}
	});

	/**
	*<p>对象的矩阵信息。通过设置矩阵可以实现节点旋转，缩放，位移效果。</p>
	*<p>矩阵更多信息请参考 <code>Matrix</code></p>
	*/
	__getset(0,__proto,'transform',function(){
		return this._tfChanged ? this._adjustTransform():this._transform;
		},function(value){
		this._tfChanged=false;
		var m=this._transform || (this._transform=this._createTransform());
		value.copyTo(m);
		this._setTransform(m);
		if (value){
			this._x=value.tx;
			this._y=value.ty;
			value.tx=value.ty=0;
		}
		if (value)this._renderType |=0x02;
		else {
			this._renderType &=~0x02;
		}
		this._setRenderType(this._renderType);
		this.parentRepaint();
	});

	/**X轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/
	__getset(0,__proto,'pivotX',function(){
		return this._getPivotX();
		},function(value){
		this._setPivotX(value);
		this.repaint();
	});

	/**Y轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/
	__getset(0,__proto,'pivotY',function(){
		return this._getPivotY();
		},function(value){
		this._setPivotY(value);
		this.repaint();
	});

	/**透明度，值为0-1，默认值为1，表示不透明。更改alpha值会影响drawcall。*/
	__getset(0,__proto,'alpha',function(){
		return this._getAlpha();
		},function(value){
		value=value < 0 ? 0 :(value > 1 ? 1 :value);
		this._setAlpha(value);
	});

	/**表示是否可见，默认为true。如果设置不可见，节点将不被渲染。*/
	__getset(0,__proto,'visible',function(){
		return this._visible;
		},function(value){
		if (this._visible!==value){
			this._visible=value;
			this.parentRepaint(0x03);
		}
	});

	/**绘图对象。封装了绘制位图和矢量图的接口，Sprite所有的绘图操作都通过Graphics来实现的。*/
	__getset(0,__proto,'graphics',function(){
		return this._graphics || (this.graphics=RunDriver.createGraphics());
		},function(value){
		if (this._graphics)this._graphics._sp=null;
		this._graphics=value;
		if (value){
			this._setGraphics(value);
			this._renderType |=0x200;
			value._sp=this;
			}else {
			this._renderType &=~0x200;
		}
		this._setRenderType(this._renderType);
		this.repaint();
	});

	/**滤镜集合。可以设置多个滤镜组合。*/
	__getset(0,__proto,'filters',function(){
		return this._cacheStyle.filters;
		},function(value){
		value && value.length===0 && (value=null);
		if (this._cacheStyle.filters==value)return;
		this._getCacheStyle().filters=value ? value.slice():null;
		if (Render.isWebGL || Render.isConchApp){
			if (value && value.length){
				this._setColorFilter(value[0]);
				this._renderType |=0x10;
				}else {
				this._setColorFilter(null);
				this._renderType &=~0x10;
			}
			this._setRenderType(this._renderType);
		}
		if (value && value.length > 0){
			if (!this._getBit(0x01))this._setBitUp(0x01);
			if (!(Render.isWebGL && value.length==1 && (((value[0])instanceof laya.filters.ColorFilter )))){
				this._getCacheStyle().cacheForFilters=true;
				this._checkCanvasEnable();
			}
			}else {
			if (this._cacheStyle.cacheForFilters){
				this._cacheStyle.cacheForFilters=false;
				this._checkCanvasEnable();
			}
		}
		this.repaint();
	});

	/**
	*<p>遮罩，可以设置一个对象(支持位图和矢量图)，根据对象形状进行遮罩显示。</p>
	*<p>【注意】遮罩对象坐标系是相对遮罩对象本身的，和Flash机制不同</p>
	*/
	__getset(0,__proto,'mask',function(){
		return this._cacheStyle.mask;
		},function(value){
		if (value && this.mask && this.mask._cacheStyle.maskParent)return;
		this._getCacheStyle().mask=value;
		this._checkCanvasEnable();
		if (value){
			value._getCacheStyle().maskParent=this;
			}else {
			if (this.mask){
				this.mask._getCacheStyle().maskParent=null;
			}
		}
		this._renderType |=0x20;
		this._setRenderType(this._renderType);
		this.parentRepaint(0x03);
	});

	/**
	*是否接受鼠标事件。
	*默认为false，如果监听鼠标事件，则会自动设置本对象及父节点的属性 mouseEnable 的值都为 true（如果父节点手动设置为false，则不会更改）。
	**/
	__getset(0,__proto,'mouseEnabled',function(){
		return this._mouseState > 1;
		},function(value){
		this._mouseState=value ? 2 :1;
	});

	/**
	*获得相对于stage的全局X轴缩放值（会叠加父亲节点的缩放值）。
	*/
	__getset(0,__proto,'globalScaleX',function(){
		var scale=1;
		var ele=this;
		while (ele){
			if (ele===Laya.stage)break ;
			scale *=ele.scaleX;
			ele=ele.parent;
		}
		return scale;
	});

	/**
	*返回鼠标在此对象坐标系上的 X 轴坐标信息。
	*/
	__getset(0,__proto,'mouseX',function(){
		return this.getMousePoint().x;
	});

	/**
	*返回鼠标在此对象坐标系上的 Y 轴坐标信息。
	*/
	__getset(0,__proto,'mouseY',function(){
		return this.getMousePoint().y;
	});

	/**
	*<p>视口大小，视口外的子对象，将不被渲染(如果想实现裁剪效果，请使用srollRect)，合理使用能提高渲染性能。比如由一个个小图片拼成的地图块，viewport外面的小图片将不渲染</p>
	*<p>srollRect和viewport的区别：<br/>
	*1. srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>
	*2. 设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>
	*@default null
	*/
	__getset(0,__proto,'viewport',function(){
		return this._style.viewport;
		},function(value){
		this.getStyle().viewport=value;
	});

	Sprite.fromImage=function(url){
		return new Sprite().loadImage(url);
	}

	return Sprite;
})(Node)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/scene/Scene3D.as=======97.999859/97.999859
/**
*<code>BaseScene</code> 类用于实现场景。
*/
//class laya.d3.core.scene.Scene3D extends laya.display.Node
var Scene3D=(function(_super){
	function Scene3D(enablePhysics){
		/**@private */
		//this._url=null;
		/**@private */
		//this._group=null;
		/**@private */
		//this._lightmaps=null;
		/**@private */
		//this._skyboxMaterial=null;
		/**@private */
		this._enableLightCount=3;
		/**@private */
		//this._renderTargetTexture=null;
		/**@private */
		//this._enableFog=false;
		/**@private */
		this._layerList=[];
		/**@private */
		this._visibleLayers=2147483647;
		/**@private */
		this._currentCameraCullingMask=2147483647;
		/**@private */
		//this._shaderValues=null;
		/**@private */
		//this._defineDatas=null;
		/**@private */
		//this._renders=null;
		/**@private */
		//this._castShadowRendersLength=0;
		/**@private */
		//this._castShadowRenderObjects=null;
		/**当前创建精灵所属遮罩层。*/
		//this.currentCreationLayer=null;
		/**是否启用灯光。*/
		this.enableLight=true;
		/**四/八叉树的根节点。*/
		//this.treeRoot=null;
		/**四/八叉树的尺寸。*/
		//this.treeSize=null;
		/**四/八叉树的层数。*/
		//this.treeLevel=0;
		//阴影相关变量
		//this.parallelSplitShadowMaps=null;
		/**@private */
		this._visible=true;
		/**@private */
		this._renderType=0;
		/**@private */
		//this._loaded=false;
		this._enablePhysics=false;
		//this.physicsSystem=null;
		/**@private [NATIVE]*/
		//this._glCommandEncoder=null;
		/**@private [NATIVE]*/
		//this._cullingBufferIndices=null;
		/**@private [NATIVE]*/
		//this._cullingBufferResult=null;
		/*
		*下面这一段代码，是因为runtime需要的，因为3D部分不能使用缓存的方案
		*repaintSpecial
		*parentRepaintSpecial
		*/
		this._repaintSpecial=1;
		Scene3D.__super.call(this);
		this._lights=[];
		this._collsionTestList=[];
		this._opaqueQueue=new RenderQueue(false);
		this._transparentQueue=new RenderQueue(true);
		this._cameraPool=[];
		this._animatorPool=new ListPool();
		this._skinAnimationsPool=new ListPool();
		this._scriptPool=new ListPool();
		this.timer=new Timer();
		this._key=new SubmitKey();
		(enablePhysics===void 0)&& (enablePhysics=false);
		if (Render.isConchApp){
			this._glCommandEncoder=LayaGL.instance.createCommandEncoder(102400,2560,false);
			var nSize=53 *4;
			this.data=new ParamData(nSize,false);
			this.data._int32Data[25]=this._glCommandEncoder.getPtrID();
			this._renderType |=0x400;
			this.data._int32Data[0]=this._renderType;
		}
		this._enablePhysics=enablePhysics;
		if (enablePhysics)
			this.physicsSystem=new PhysicsSystem();
		this._lightmaps=[];
		this._defineDatas=new DefineDatas();
		this._shaderValues=new ShaderDatas(null,22);
		this.parallelSplitShadowMaps=[];
		this._renders=new ListPool();
		this._castShadowRenderObjects=[];
		this._castShadowRendersLength=0;
		this.enableFog=false;
		this.fogStart=300;
		this.fogRange=1000;
		this.fogColor=new Vector3(0.7,0.7,0.7);
		this.ambientColor=new Vector3(0.212,0.227,0.259);
		this.reflectionIntensity=1.0;
		(WebGL.shaderHighPrecision)&& (this._defineDatas.add(Shader3D.SHADERDEFINE_HIGHPRECISION));
		this._initLayer();
		this._loaded=true;
		if (Render.isConchApp){
			this._cullingBufferIndices=new Int32Array(1024);
			this._cullingBufferResult=new Int32Array(1024);
		}
	}

	__class(Scene3D,'laya.d3.core.scene.Scene3D',_super);
	var __proto=Scene3D.prototype;
	Laya.imps(__proto,{"laya.webgl.submit.ISubmit":true,"laya.resource.ICreateResource":true})
	/**
	*@private
	*/
	__proto._update=function(){
		this.timer._update();
		var context1=RenderContext3D._instance;
		context1.scene=this;
		this._updateScript();
		CollisionManager._triggerCollision(this);
		Animator._update(this);
		SkinAnimations._update(this);
		this._lateUpdateScript();
		if (this._enablePhysics){
			this.physicsSystem.update();
		}
	}

	/**
	*@private
	*/
	__proto._completeLoad=function(){
		this._loaded=true;
		this.event("hierarchyloaded",[this]);
	}

	/**
	*@private
	*/
	__proto._setLoaded=function(value){
		this._loaded=value;
	}

	/**
	*@private
	*/
	__proto._initLayer=function(){
		this._layerList.length=31;
		for (var i=0;i < 31;i++){
			var layer=new Layer(this);
			this._layerList[i]=layer;
			if (i===0){
				layer.name="Default Layer";
				layer.visible=true;
				}else {
				layer.name="Layer-"+i;
				layer.visible=false;
			}
			layer._number=i;
			layer._mask=Math.pow(2,i);
		}
		this.currentCreationLayer=this._layerList[0];
	}

	/**
	*@private
	*/
	__proto._binarySearchIndexInCameraPool=function(camera){
		var start=0;
		var end=this._cameraPool.length-1;
		var mid=0;
		while (start <=end){
			mid=Math.floor((start+end)/ 2);
			var midValue=this._cameraPool[mid]._renderingOrder;
			if (midValue==camera._renderingOrder)
				return mid;
			else if (midValue > camera._renderingOrder)
			end=mid-1;
			else
			start=mid+1;
		}
		return start;
	}

	/**
	*@private
	*/
	__proto._setUrl=function(url){
		this._url=url;
	}

	/**
	*@private
	*/
	__proto._getGroup=function(){
		return this._group;
	}

	/**
	*@private
	*/
	__proto._setGroup=function(value){
		this._group=value;
	}

	/**
	*@private
	*/
	__proto._setLightMap=function(sprite){
		if ((sprite instanceof laya.d3.core.RenderableSprite3D ))
			(sprite)._render._applyLightMapParams();
		var childs=sprite._children;
		for (var i=0,n=childs.length;i < n;i++){
			this._setLightMap(childs[i]);
		}
	}

	/**
	*@private
	*/
	__proto._updateScript=function(){
		var pool=this._scriptPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var script=elements [i];
			(script && script.enabled)&& (script.update());
		}
	}

	/**
	*@private
	*/
	__proto._lateUpdateScript=function(){
		var pool=this._scriptPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var script=elements [i];
			(script && script.enabled)&& (script.lateUpdate());
		}
	}

	/**
	*@private
	*/
	__proto._preRenderScript=function(){
		var pool=this._scriptPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var script=elements [i];
			(script && script.enabled)&& (script.onPreRender());
		}
	}

	/**
	*@private
	*/
	__proto._postRenderScript=function(){
		var pool=this._scriptPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var script=elements [i];
			(script && script.enabled)&& (script.onPostRender());
		}
	}

	/**
	*初始化八叉树。
	*@param width 八叉树宽度。
	*@param height 八叉树高度。
	*@param depth 八叉树深度。
	*@param center 八叉树中心点
	*@param level 八叉树层级。
	*/
	__proto.initOctree=function(width,height,depth,center,level){
		(level===void 0)&& (level=6);
		this.treeSize=new Vector3(width,height,depth);
		this.treeLevel=level;
		this.treeRoot=new OctreeNode(this,0);
		this.treeRoot.init(center,this.treeSize);
	}

	/**
	*@private
	*/
	__proto._prepareSceneToRender=function(state){
		var lightCount=this._lights.length;
		if (lightCount > 0){
			var renderLightCount=0;
			for (var i=0;i < lightCount;i++){
				if (!this._lights[i]._prepareToScene(state))
					continue ;
				renderLightCount++;
				if (renderLightCount >=this._enableLightCount)
					break ;
			}
		}
	}

	/**
	*@private
	*/
	__proto._addCamera=function(camera){
		var index=this._binarySearchIndexInCameraPool(camera);
		this._cameraPool.splice(index,0,camera);
	}

	/**
	*@private
	*/
	__proto._removeCamera=function(camera){
		var index=this._binarySearchIndexInCameraPool(camera);
		this._cameraPool.splice(index,1);
	}

	/**
	*@private
	*/
	__proto._preCulling=function(context,camera){
		if (camera.useOcclusionCulling){
			if (this.treeRoot)
				FrustumCulling.renderObjectCullingOctree(camera,this,context);
			else
			FrustumCulling.renderObjectCulling(camera,this,context,this._renders);
			}else {
			FrustumCulling.renderObjectCulling(null,this,context,this._renders);
		}
	}

	/**
	*@private
	*/
	__proto._clear=function(gl,state){
		var viewport=state.viewport;
		var camera=state.camera;
		var renderTarget=camera.renderTarget;
		var vpWidth=viewport.width;
		var vpHeight=viewport.height;
		var vpX=viewport.x;
		var vpY=camera._canvasHeight-viewport.y-vpHeight;
		gl.viewport(vpX,vpY,vpWidth,vpHeight);
		var flag=0x00000100;
		switch (camera.clearFlag){
			case 0:;
				var clearColor=camera.clearColor;
				if (clearColor){
					gl.enable(0x0C11);
					gl.scissor(vpX,vpY,vpWidth,vpHeight);
					var clearColorE=clearColor.elements;
					gl.clearColor(clearColorE[0],clearColorE[1],clearColorE[2],clearColorE[3]);
					flag |=0x00004000;
				}
				if (renderTarget){
					(clearColor)|| (flag=0x00004000);
				switch (renderTarget.depthStencilFormat){
					case 0:
						flag |=0x00000100;
						break ;
					case 1:
						flag |=0x00000400;
						break ;
					case 2:
						flag |=0x00000100;
						flag |=0x00000400;
						break ;
					}
			}
			gl.clear(flag);
			if (clearColor)
				gl.disable(0x0C11);
			break ;
			case 1:
			case 2:
			if (renderTarget){
				flag=0x00004000;
				switch (renderTarget.depthStencilFormat){
					case 0:
						flag |=0x00000100;
						break ;
					case 1:
						flag |=0x00000400;
						break ;
					case 2:
						flag |=0x00000100;
						flag |=0x00000400
						break ;
					}
			}
			gl.clear(flag);
			break ;
			case 3:
			break ;
			default :
			throw new Error("BaseScene:camera clearFlag invalid.");
		}
	}

	/**
	*@private
	*/
	__proto._renderScene=function(gl,state){
		var camera=state.camera;
		var position=camera.transform.position;
		camera.renderTarget ? this._opaqueQueue._render(state,true):this._opaqueQueue._render(state,false);
		if (camera.clearFlag===1){
			var skyMaterial=camera.skyboxMaterial || this._skyboxMaterial;
			if (skyMaterial){
				WebGLContext.setCullFace(gl,false);
				WebGLContext.setDepthFunc(gl,0x0203);
				WebGLContext.setDepthMask(gl,false);
				var shader=state.shader=skyMaterial._shader._passes[0].withCompile(0,0,0);
				var forceUploadParams=shader.bind()|| (Stat.loopCount!==shader._uploadLoopCount);
				var skyBox=SkyBox._instance;
				var vertexBuffer=skyBox._vertexBuffer;
				vertexBuffer.bind();
				shader.uploadAttributes(vertexBuffer.vertexDeclaration._shaderValues);
				if (shader._uploadMaterial!==skyMaterial || forceUploadParams){
					shader.uploadUniforms(shader._materialUniformParamsMap,skyMaterial._shaderValues,true);
					shader._uploadMaterial=skyMaterial;
				}
				if (camera!==shader._uploadCamera || forceUploadParams){
					shader.uploadUniforms(shader._cameraUniformParamsMap,camera._shaderValues,true);
					shader._uploadCamera=camera;
				}
				skyBox._render(state);
				WebGLContext.setDepthFunc(gl,0x0201);
				WebGLContext.setDepthMask(gl,true);
			}
		}
		camera.renderTarget ? this._transparentQueue._render(state,true):this._transparentQueue._render(state,false);
	}

	/**
	*@private
	*/
	__proto._set2DRenderConfig=function(gl){
		WebGLContext.setBlend(gl,true);
		WebGLContext.setBlendFunc(gl,1,0x0303);
		WebGLContext.setDepthTest(gl,false);
		WebGLContext.setCullFace(gl,false);
		WebGLContext.setDepthMask(gl,true);
		WebGLContext.setFrontFace(gl,0x0901);
		gl.viewport(0,0,RenderState2D.width,RenderState2D.height);
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		var lightMapsData=data.lightmaps;
		var lightMapCount=lightMapsData.length;
		var lightmaps=this._lightmaps;
		lightmaps.length=lightMapCount;
		for (var i=0;i < lightMapCount;i++)
		lightmaps[i]=Loader.getRes(innerResouMap[lightMapsData[i].replace("exr","png")]);
		this.setlightmaps(lightmaps);
		var ambientColorData=data.ambientColor;
		if (ambientColorData){
			var ambCol=this.ambientColor;
			ambCol.fromArray(ambientColorData);
			this.ambientColor=ambCol;
		};
		var skyboxMaterialData=data.skyboxMaterial;
		(skyboxMaterialData)&& (this.skyboxMaterial=Loader.getRes(innerResouMap[skyboxMaterialData.path]));
		var reflectionTextureData=data.reflectionTexture;
		reflectionTextureData && (this.reflectionTexture=Loader.getRes(innerResouMap[reflectionTextureData]));
		var fogColorData=data.fogColor;
		if (fogColorData){
			var fogCol=this.fogColor;
			fogCol.fromArray(fogColorData);
			this.fogColor=fogCol;
		}
	}

	/**
	*@private
	*/
	__proto._addLight=function(light){
		if (this._lights.indexOf(light)< 0)this._lights.push(light);
	}

	/**
	*@private
	*/
	__proto._removeLight=function(light){
		var index=this._lights.indexOf(light);
		index >=0 && (this._lights.splice(index,1));
	}

	/**
	*通过蒙版值获取蒙版是否显示。
	*@param mask 蒙版值。
	*@return 是否显示。
	*/
	__proto.isLayerVisible=function(layer){
		var mask=this._layerList[layer]._mask;
		return (mask & this._currentCameraCullingMask & this._visibleLayers)!=0;
	}

	/**
	*@private
	*/
	__proto._getLatyer=function(layer){
		return this._layerList[layer];
	}

	/**
	*@private
	*/
	__proto.addTreeNode=function(renderObj){
		this.treeRoot.addTreeNode(renderObj);
	}

	/**
	*@private
	*/
	__proto.removeTreeNode=function(renderObj){
		if (!this.treeSize)return;
		if (renderObj._treeNode){
			renderObj._treeNode.removeObject(renderObj);
		}
	}

	/**
	*设置光照贴图。
	*@param value 光照贴图。
	*/
	__proto.setlightmaps=function(value){
		this._lightmaps=value;
		for (var i=0,n=this._children.length;i < n;i++)
		this._setLightMap(this._children[i]);
	}

	/**
	*获取光照贴图。
	*@return 获取光照贴图。
	*/
	__proto.getlightmaps=function(){
		return this._lightmaps;
	}

	/**
	*@private
	*/
	__proto._addRenderObject=function(render){
		if (this.treeRoot){
			this.addTreeNode(render);
			}else {
			this._renders.add(render);
			if (Render.isConchApp){
				var indexInList=render._getIndexInList();
				var length=this._cullingBufferIndices.length;
				if (indexInList >=length){
					var tempIndices=this._cullingBufferIndices;
					var tempResult=this._cullingBufferResult;
					this._cullingBufferIndices=new Int32Array(length+1024);
					this._cullingBufferResult=new Int32Array(length+1024);
					this._cullingBufferIndices.set(tempIndices,0);
					this._cullingBufferResult.set(tempResult,0);
				}
				this._cullingBufferIndices[indexInList]=render._cullingBufferIndex;
			}
		}
	}

	/**
	*@private
	*/
	__proto._removeRenderObject=function(render){
		if (this.treeRoot){
			this.removeTreeNode(render);
			}else {
			var endRender;
			if (Render.isConchApp){
				var endRender=this._renders.elements[this._renders.length-1];
			}
			this._renders.remove(render);
			if (Render.isConchApp){
				this._cullingBufferIndices[endRender._getIndexInList()]=endRender._cullingBufferIndex;
			}
		}
	}

	/**
	*@private
	*/
	__proto._addShadowCastRenderObject=function(render){
		if (this.treeRoot){
			this.addTreeNode(render);
			}else {
			if (this._castShadowRendersLength===this._castShadowRenderObjects.length)
				this._castShadowRenderObjects.push(render);
			else
			this._castShadowRenderObjects[this._castShadowRendersLength]=render;
			render._indexInCastShadowList=this._castShadowRendersLength++;
		}
	}

	/**
	*@private
	*/
	__proto._removeShadowCastRenderObject=function(render){
		if (this.treeRoot){
			this.removeTreeNode(render);
			}else {
			this._castShadowRendersLength--;
			var indexInCastShadowList=render._indexInCastShadowList;
			if (indexInCastShadowList!==this._castShadowRendersLength){
				var endRender=this._castShadowRenderObjects[this._castShadowRendersLength];
				this._castShadowRenderObjects[indexInCastShadowList]=endRender;
				endRender._indexInCastShadowList=indexInCastShadowList;
				render._indexInCastShadowList=-1;
			}
		}
	}

	/**
	*@private
	*/
	__proto._getRenderQueue=function(index){
		if (index < 3000)
			return this._opaqueQueue;
		else
		return this._transparentQueue;
	}

	/**
	*@private
	*/
	__proto._onAsynLoaded=function(data,params){
		var json=data[0]
		if (json.type!=="Scene")
			throw new Error("Scene: the .lh file root type must be Scene,please use other function to  load  this file.");
		var innerResouMap=data[1];
		var outBatchSprits=[];
		Utils3D._createNodeByJson(this,json,this,innerResouMap,outBatchSprits);
		StaticBatchManager.combine(null,outBatchSprits);
	}

	/**
	*在场景中投下可与所有碰撞器碰撞的一条光线,获取发生碰撞的第一个碰撞器。
	*@param ray 射线
	*@param outHitInfo 与该射线发生碰撞的第一个碰撞器的碰撞信息
	*@param distance 射线长度,默认为最大值
	*@param layer 选定制定层内的碰撞器,其他层内碰撞器忽略
	*/
	__proto.rayCast=function(ray,outHitInfo,distance,layer){
		(distance===void 0)&& (distance=1.79e+308);
		(layer===void 0)&& (layer=0);
		Scene3D._outHitAllInfo.length=0;
		var colliders=this._getLatyer(layer)._colliders;
		for (var i=0,n=colliders.length;i < n;i++){
			var collider=colliders[i];
			if (collider.enabled){
				collider.raycast(ray,Scene3D._outHitInfo,distance);
				if (Scene3D._outHitInfo.distance!==-1 && Scene3D._outHitInfo.distance <=distance){
					var outHit=new RaycastHit();
					Scene3D._outHitInfo.cloneTo(outHit);
					Scene3D._outHitAllInfo.push(outHit);
				}
			}
		}
		if (Scene3D._outHitAllInfo.length==0){
			outHitInfo.sprite3D=null;
			outHitInfo.distance=-1;
			return;
		};
		var minDistance=Number.MAX_VALUE;
		var minIndex=0;
		for (var j=0;j < Scene3D._outHitAllInfo.length;j++){
			if (Scene3D._outHitAllInfo[j].distance < minDistance){
				minDistance=Scene3D._outHitAllInfo[j].distance;
				minIndex=j;
			}
		}
		Scene3D._outHitAllInfo[minIndex].cloneTo(outHitInfo);
	}

	/**
	*在场景中投下可与所有碰撞器碰撞的一条光线,获取发生碰撞的所有碰撞器。
	*@param ray 射线
	*@param outHitAllInfo 与该射线发生碰撞的所有碰撞器的碰撞信息
	*@param distance 射线长度,默认为最大值
	*@param layer 选定制定层内的碰撞器,其他层内碰撞器忽略
	*/
	__proto.rayCastAll=function(ray,outHitAllInfo,distance,layer){
		(distance===void 0)&& (distance=1.79e+308);
		(layer===void 0)&& (layer=0);
		outHitAllInfo.length=0;
		var colliders=this._getLatyer(layer)._colliders;
		for (var i=0,n=colliders.length;i < n;i++){
			var collider=colliders[i];
			if (collider.enabled){
				Scene3D._outHitInfo.distance=-1;
				Scene3D._outHitInfo.sprite3D=null;
				collider.raycast(ray,Scene3D._outHitInfo,distance);
				if (Scene3D._outHitInfo.distance!==-1 && Scene3D._outHitInfo.distance <=distance){
					var outHit=new RaycastHit();
					Scene3D._outHitInfo.cloneTo(outHit);
					outHitAllInfo.push(outHit);
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._lights=null;
		this._lightmaps=null;
		this._renderTargetTexture=null;
		this._shaderValues=null;
		this._renders=null;
		this._castShadowRenderObjects=null;
		this._cameraPool=null;
		this.treeRoot=null;
		this.treeSize=null;
		this.parallelSplitShadowMaps=null;
		Loader.clearRes(this.url);
		(this.loaded)|| (Laya3D._cancelLoadByUrl(this.url));
	}

	/**
	*@private
	*/
	__proto.render=function(context){
		this._children.length > 0 && context.addRenderObject(this);
		this._update();
	}

	/**
	*@private
	*/
	__proto.renderSubmit=function(){
		var gl=LayaGL.instance;
		if (Render.isConchApp){
			if (this._glCommandEncoder)this._glCommandEncoder.clearEncoding();
			gl.beginCommandEncoding(this._glCommandEncoder);
		}
		else{
			WebGLContext.bindVertexArray(gl,null);
		};
		var context=RenderContext3D._instance;
		this._prepareSceneToRender(context);
		var i=0,n=0;
		if (Laya3D.debugMode || OctreeNode.debugMode){
			for (i=0,n=this._cameraPool.length;i < n;i++){
				var camera=this._cameraPool[i];
				Laya3D._debugPhasorSprite.begin(0x0001,camera);
				camera._render(gl,context,this);
				Laya3D._debugPhasorSprite.end();
			}
			}else {
			for (i=0,n=this._cameraPool.length;i < n;i++)
			this._cameraPool[i]._render(gl,context,this);
		}
		if (Render.isConchApp){
			gl.endCommandEncoding();
			Buffer._bindedVertexBuffer=null;
			Buffer._bindedIndexBuffer=null;
		}
		this._set2DRenderConfig(gl);
		return 1;
	}

	/**
	*@private
	*/
	__proto.getRenderType=function(){
		return 0;
	}

	/**
	*@private
	*/
	__proto.releaseRender=function(){}
	/**
	*@private [NATIVE]
	*/
	__proto.renderToNative=function(context){
		this._update();
		this.renderSubmit();
		if (!LayaGLTemplate.GLS[this._renderType]){
			LayaGLTemplate.createByRenderType(this._renderType);
		}
		context.block(this.data);
		this._repaintSpecial=0;
		this.repaintSpecial();
	}

	__proto.repaintSpecial=function(){
		if (this._repaintSpecial==0){
			this._repaintSpecial=1;
			this.parentRepaintSpecial();
		}
	}

	__proto.parentRepaintSpecial=function(){
		var p=this._parent;
		if (p && p._repaintSpecial==0){
			p._repaintSpecial=1;
			p.parentRepaintSpecial();
		}
	}

	/**
	*获取是否已加载完成。
	*/
	__getset(0,__proto,'loaded',function(){
		return this._loaded;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'scene',function(){
		return this;
	});

	/**
	*设置雾化颜色。
	*@param value 雾化颜色。
	*/
	/**
	*获取雾化颜色。
	*@return 雾化颜色。
	*/
	__getset(0,__proto,'fogColor',function(){
		return this._shaderValues.getVector(0);
		},function(value){
		this._shaderValues.setVector(0,value);
	});

	/**
	*设置是否允许雾化。
	*@param value 是否允许雾化。
	*/
	/**
	*获取是否允许雾化。
	*@return 是否允许雾化。
	*/
	__getset(0,__proto,'enableFog',function(){
		return this._enableFog;
		},function(value){
		if (this._enableFog!==value){
			this._enableFog=value;
			if (value){
				this._defineDatas.add(laya.d3.core.scene.Scene3D.SHADERDEFINE_FOG);
			}else
			this._defineDatas.remove(laya.d3.core.scene.Scene3D.SHADERDEFINE_FOG);
		}
	});

	/**
	*获取资源的URL地址。
	*@return URL地址。
	*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**
	*设置反射强度。
	*@param 反射强度。
	*/
	/**
	*获取反射强度。
	*@return 反射强度。
	*/
	__getset(0,__proto,'reflectionIntensity',function(){
		return this._shaderValues.getNumber(23);
		},function(value){
		value=Math.max(Math.min(value,1.0),0.0);
		this._shaderValues.setNumber(23,value);
	});

	/**
	*设置雾化起始位置。
	*@param value 雾化起始位置。
	*/
	/**
	*获取雾化起始位置。
	*@return 雾化起始位置。
	*/
	__getset(0,__proto,'fogStart',function(){
		return this._shaderValues.getNumber(1);
		},function(value){
		this._shaderValues.setNumber(1,value);
	});

	/**
	*设置雾化范围。
	*@param value 雾化范围。
	*/
	/**
	*获取雾化范围。
	*@return 雾化范围。
	*/
	__getset(0,__proto,'fogRange',function(){
		return this._shaderValues.getNumber(2);
		},function(value){
		this._shaderValues.setNumber(2,value);
	});

	/**
	*设置天空盒材质。
	*@param 天空盒材质。
	*/
	/**
	*获取天空盒材质。
	*@return 天空盒材质。
	*/
	__getset(0,__proto,'skyboxMaterial',function(){
		return this._skyboxMaterial;
		},function(value){
		if (this._skyboxMaterial!==value){
			(this._skyboxMaterial)&& (this._skyboxMaterial._removeReference());
			value._addReference();
			this._skyboxMaterial=value;
		}
	});

	/**
	*设置环境光颜色。
	*@param value 环境光颜色。
	*/
	/**
	*获取环境光颜色。
	*@return 环境光颜色。
	*/
	__getset(0,__proto,'ambientColor',function(){
		return this._shaderValues.getVector(21);
		},function(value){
		this._shaderValues.setVector(21,value);
	});

	/**
	*设置反射贴图。
	*@param 反射贴图。
	*/
	/**
	*获取反射贴图。
	*@return 反射贴图。
	*/
	__getset(0,__proto,'reflectionTexture',function(){
		return this._shaderValues.getTexture(22);
		},function(value){
		this._shaderValues.setTexture(22,value);
		if (value)
			this._defineDatas.add(laya.d3.core.scene.Scene3D.SHADERDEFINE_REFLECTMAP);
		else
		this._defineDatas.remove(laya.d3.core.scene.Scene3D.SHADERDEFINE_REFLECTMAP);
	});

	/**
	*设置Layer显示层。
	*@param value 显示层。
	*/
	/**
	*获取Layer显示层。
	*@return 显示层。
	*/
	__getset(0,__proto,'visibleLayers',function(){
		return this._visibleLayers;
		},function(value){
		this._visibleLayers=value;
		for (var i=0,n=this._layerList.length;i < n;i++){
			var layer=this._layerList[i];
			layer._visible=(layer._mask & this._visibleLayers)!==0;
		}
	});

	Scene3D._sortScenes=function(a,b){
		if (a.parent===Laya.stage && b.parent===Laya.stage){
			var stageChildren=Laya.stage._children;
			return stageChildren.indexOf(a)-stageChildren.indexOf(b);
			}else if (a.parent!==Laya.stage && b.parent!==Laya.stage){
			return Scene3D._sortScenes(a.parent,b.parent);
			}else {
			return (a.parent===Laya.stage)?-1 :1;
		}
	}

	Scene3D.load=function(url,params){
		if (params)
			return Laya.loader.create(url,null,null,Scene3D,params);
		else
		return Laya.loader.create(url,null,null,Scene3D);
	}

	Scene3D.SHADERDEFINE_FOG=0;
	Scene3D.SHADERDEFINE_DIRECTIONLIGHT=0;
	Scene3D.SHADERDEFINE_POINTLIGHT=0;
	Scene3D.SHADERDEFINE_SPOTLIGHT=0;
	Scene3D.SHADERDEFINE_CAST_SHADOW=0;
	Scene3D.SHADERDEFINE_SHADOW_PSSM1=0;
	Scene3D.SHADERDEFINE_SHADOW_PSSM2=0;
	Scene3D.SHADERDEFINE_SHADOW_PSSM3=0;
	Scene3D.SHADERDEFINE_SHADOW_PCF_NO=0;
	Scene3D.SHADERDEFINE_SHADOW_PCF1=0;
	Scene3D.SHADERDEFINE_SHADOW_PCF2=0;
	Scene3D.SHADERDEFINE_SHADOW_PCF3=0;
	Scene3D.SHADERDEFINE_REFLECTMAP=0;
	Scene3D.FOGCOLOR=0;
	Scene3D.FOGSTART=1;
	Scene3D.FOGRANGE=2;
	Scene3D.LIGHTDIRECTION=3;
	Scene3D.LIGHTDIRCOLOR=4;
	Scene3D.POINTLIGHTPOS=5;
	Scene3D.POINTLIGHTRANGE=6;
	Scene3D.POINTLIGHTATTENUATION=7;
	Scene3D.POINTLIGHTCOLOR=8;
	Scene3D.SPOTLIGHTPOS=9;
	Scene3D.SPOTLIGHTDIRECTION=10;
	Scene3D.SPOTLIGHTSPOT=11;
	Scene3D.SPOTLIGHTRANGE=12;
	Scene3D.SPOTLIGHTATTENUATION=13;
	Scene3D.SPOTLIGHTCOLOR=14;
	Scene3D.SHADOWDISTANCE=15;
	Scene3D.SHADOWLIGHTVIEWPROJECT=16;
	Scene3D.SHADOWMAPPCFOFFSET=17;
	Scene3D.SHADOWMAPTEXTURE1=18;
	Scene3D.SHADOWMAPTEXTURE2=19;
	Scene3D.SHADOWMAPTEXTURE3=20;
	Scene3D.AMBIENTCOLOR=21;
	Scene3D.REFLECTIONTEXTURE=22;
	Scene3D.REFLETIONINTENSITY=23;
	Scene3D._outHitAllInfo=[];
	__static(Scene3D,
	['_outHitInfo',function(){return this._outHitInfo=new RaycastHit();}
	]);
	return Scene3D;
})(Node)


	//file:///H:/work/sniper/sniper/client/src/extend/buffs/HPBuff.as=======97.999766/97.999766
//class extend.buffs.HPBuff extends laya.game.client.buff.Buff
var HPBuff=(function(_super){
	function HPBuff(){
		this.addHp=NaN;
		HPBuff.__super.call(this);
	}

	__class(HPBuff,'extend.buffs.HPBuff',_super);
	var __proto=HPBuff.prototype;
	__proto.doInit=function(){}
	//addHp=parseInt(data.loop);
	__proto.doLoop=function(){}
	return HPBuff;
})(Buff)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/BaseActionScript.as=======97.999733/97.999733
//class laya.game.client.plugins.character.avatar.BaseActionScript extends laya.components.Script
var BaseActionScript=(function(_super){
	function BaseActionScript(){
		this.target=null;
		this.skill=null;
		this._recoveryName='';
		BaseActionScript.__super.call(this);
	}

	__class(BaseActionScript,'laya.game.client.plugins.character.avatar.BaseActionScript',_super);
	var __proto=BaseActionScript.prototype;
	Laya.imps(__proto,{"laya.libs.recover.Irecovery":true})
	__proto.onConstruct=function(){}
	__proto.onDestruct=function(){}
	__proto.recovery=function(){}
	/**
	*播放音效
	*@param name
	*
	*/
	__proto.playSound=function(a,b,name){
		GameSoundManager.instance.playSound(name);
	}

	/**
	*播放音乐
	*@param name
	*
	*/
	__proto.playMusic=function(a,b,name){
		GameSoundManager.instance.playMusic(name);
	}

	__proto.effect=function(a,b,id){
		var eff=StaticEffect3D.createStaticEffect3D(id);
		if(b==1){
			eff.onInit(this.target.node);
		}
		else{
			eff.onInit(this.target.scene.node);
		}
	}

	__getset(0,__proto,'isRecovery',function(){
		return this._recoveryName!=null;
	});

	__getset(0,__proto,'recoverName',function(){
		return this._recoveryName;
		},function(value){
		this._recoveryName=value;
	});

	return BaseActionScript;
})(Script)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/Avatar3D.as=======97.999722/97.999722
//class laya.game.client.plugins.character.avatar.Avatar3D extends laya.libs.plugin.Plugin
var Avatar3D=(function(_super){
	function Avatar3D(){
		this.character=null;
		this.avatarFile=null;
		this.meshBody=null;
		this._actionCtrl=null;
		this._animator=null;
		this.onLoadedHd=null;
		this.dataHash={};
		this.hasParentAnimator=false;
		this.playCount=0;
		this._animatorClip=null;
		this.offData=null;
		this.lastFrameIndex=0;
		this._isLoad=false;
		this.parentAnimator=null;
		this._animaScript=null;
		Avatar3D.__super.call(this);
		this.onLoadedHd=new Handler(this,this.onLoaded);
	}

	__class(Avatar3D,'laya.game.client.plugins.character.avatar.Avatar3D',_super);
	var __proto=Avatar3D.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.IAvatar":true})
	__proto.resetProperty=function(){
		this._bindProperty='avatar';
	}

	/**onwer 初始化完成后回调*/
	__proto.onInit=function(){
		this.character=this.owner;
		this._actionCtrl=this.character.actionController;
		this._isLoad=false;
		if(this.avatarFile){
			this.load(this.avatarFile);
		}
		this.listen(this.character.actionController,this.onActionChg);
		this.listen(this.character.scale,this.onScale);
	}

	__proto.onScale=function(){
		var node=this.character.node;
		node.transform.scale=this.character.scale.value;
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.character.scene.timer.clear(this,this.onAnimaUpdate);
		if(!this._animator){
			this._animator.off("stopped",this,this.onActionComplete);
			this._animator=null;
		}
		if(this.meshBody){
			Sprite3DUtil.recovery(this.meshBody);
			this.meshBody=null;
		}
		else{
			Sprite3DUtil.clear(this.avatarFile,this.onLoadedHd);
		}
		for (var key in this.dataHash){
			this.removeAttachment(this.dataHash[key]);
			this.dataHash[key].removeSelf();
			this.dataHash[key].destroy(true);
		}
		this.dataHash={};
	}

	__proto.load=function(url){
		this.avatarFile=url;
		if(this._isLoad){
			throw 'this is loaded!';
		}
		Sprite3DUtil.load(url,this.onLoadedHd);
	}

	__proto.onLoaded=function(sprite3D){
		var _$this=this;
		this.meshBody=sprite3D;
		this.character.node.addChild(this.meshBody);
		sprite3D=this.meshBody.getChildAt(0);
		if(sprite3D){
			this._animator=sprite3D.getComponent(Animator);
			if(!this._animator)return;
			if(!this._animator.avatar){
				this.hasParentAnimator=true;
				this.parentAnimator=this._animator;
				Laya.timer.callLater(this,function(){
					_$this.parentAnimator.stop();
				});
				this._animator=(sprite3D.getChildAt(0)).getComponent(Animator);
				this.addScript(this.getAnimaScriptClass());
			}
			else{
				this.hasParentAnimator=false;
				this.addScript(this.getAnimaScriptClass());
			}
			this._animator.getControllerLayer(0).on("stopped",this,this.onActionComplete);
		}
		this.onActionChg();
		this._isLoad=true;
		this.character.event(GameEvent.LOAD_AVATAR_COMPLETE);
	}

	__proto.getAnimaScriptClass=function(){
		return BaseActionScript;
	}

	__proto.onActionChg=function(){
		if(!this.meshBody)return;
		if(!this._animator)return;
		if(!this._actionCtrl.action)return;
		this.playCount=this._actionCtrl.loopsCount;
		this._animator.crossFade(this._actionCtrl.action,0.05,0);
		this._animator.crossFade(this._actionCtrl.action,0.05,1);
		if(this.hasParentAnimator){
			this._animatorClip=this.parentAnimator.getClip(this._actionCtrl.action);
			if(this._animatorClip){
				this.offData=this.parentAnimator.getOffData(this._actionCtrl.action)[0];
				this.lastFrameIndex=this._animator.currentFrameIndex;
				this.character.scene.timer.frameLoop(1,this,this.onAnimaUpdate);
			}
			else{
				this.character.scene.timer.clear(this,this.onAnimaUpdate);
			}
		}
		else{
			this.character.scene.timer.clear(this,this.onAnimaUpdate);
		}
	}

	__proto.onAnimaUpdate=function(){
		var from=this.lastFrameIndex;
		var to=this._animator.currentFrameIndex;
		this.lastFrameIndex=to;
		var tempOffPos=OnceTool.tempVector3;
		if(from<this.offData.length && to<this.offData.length){
			tempOffPos.toDefault();
			for(var i=from;i<to;i++){
				Vector3.add(tempOffPos,this.offData[i],tempOffPos);
			}
			Vector3.transformQuat(tempOffPos,(this.character.node).transform.localRotation,tempOffPos);
			this.character.extend.offsetPos(tempOffPos);
		}
	}

	// parentAnimator._eventScript(from,to);
	__proto.onActionComplete=function(){
		if(--this.playCount > 0){
			this._animator.crossFade(this._actionCtrl.action,0.05,0);
		}
		else{
			this.character.event('ActionComplete');
		}
	}

	/**
	*换装
	*@param part 装备部位
	*@param url 装备url
	*/
	__proto.setEquip=function(part,url){
		throw 'this function need override';
	}

	/*换装 (考虑废弃)
	*
	*name 换装名称
	*url 换装资源路径
	*return 0 succeed ,-1 error
	*/
	__proto.changeSkin=function(name,url){
		if (!this.meshBody || !this.meshBody.getChildAt(0))
			return false;
		var pos=this.getAttachmentPosition(name);
		if (pos < 0){
			throw 'change component not found!';
		};
		var ms3d=this.meshBody.getChildAt(0).getChildAt(pos);
		if (!ms3d)
			return false;
		ms3d.meshFilter.sharedMesh=Mesh.load(url);
		return true;
	}

	/*添加组件
	*componentName 组件名称 不能重复
	*bindName 绑点名称
	*url 组件url
	*/
	__proto.addAttachment=function(componentName,bindName,url,callback){
		var _$this=this;
		if (!this.meshBody || !this.meshBody.getChildAt(0)|| !this._animator)
			return;
		if (this.dataHash[componentName])
			throw 'componentName is already use!';
		Sprite3DUtil.load(url,Handler.create(this,function(child){
			_$this.meshBody.getChildAt(0).addChild(child);
			_$this.dataHash[componentName]=child;
			_$this._animator.linkSprite3DToAvatarNode(bindName,child);
			callback && callback.runWith(child);
		}));
	}

	__proto.addAttachmentBySprite=function(componentName,bindName,sprite3D){
		if (!this.meshBody || !this.meshBody.getChildAt(0)|| !this._animator)
			return false;
		this.meshBody.getChildAt(0).addChild(sprite3D);
		return this._animator.linkSprite3DToAvatarNode(bindName,sprite3D);
	}

	/*删除组件
	*name 组件名称
	*return 0 succeed else error
	*/
	__proto.removeAttachment=function(name){
		if (!this.meshBody || !this.meshBody.getChildAt(0)|| !this._animator)
			return false;
		if (!this.dataHash[name])
			throw 'componentName is not found!';
		this._animator.unLinkSprite3DToAvatarNode(this.dataHash[name]);
		this.meshBody.getChildAt(0).removeChild(this.dataHash[name]);
		this.dataHash[name].destroy();
		delete this.dataHash[name];
		return true;
	}

	/*设置显示状态
	*
	*index 换装位置
	*url 换装资源路径
	*/
	__proto.setVisible=function(bool){
		if (!this.meshBody)
			return;
		this.meshBody.active=bool;
	}

	/*查找组件位置
	*name 组件名称
	*return >0 组件位置-1 不存在
	*/
	__proto.getAttachmentPosition=function(name){
		var pos=-1;
		for (var i=0;i < this.meshBody.getChildAt(0).numChildren;++i){
			if (this.meshBody.getChildAt(0).getChildAt(i).name.indexOf(name)!=-1){
				pos=i;
				break ;
			}
		}
		return pos;
	}

	/*查找添加组件位置
	*name 组件名称
	*return >0 组件位置-1 不存在
	*/
	__proto.isHaveAttachment=function(name){
		return this.dataHash[name];
	}

	__proto.play=function(){}
	__proto.stop=function(){}
	/**
	*添加脚本
	*@param script
	*@return
	*
	*/
	__proto.addScript=function(script){
		this._animaScript=this._animator.owner.addComponent(script);
		this._animaScript.target=this.character;
		return this._animaScript;
	}

	// return null;
	__proto.getScript=function(){
		return this._animaScript;
	}

	__getset(0,__proto,'isLoaded',function(){
		return this._isLoad;
	});

	Avatar3D.init=function(){
		AnimationClip.prototype._getoffData=function (cacheInterval){
			if(!this._offData){
				this._offData={};
			}
			return this._offData[cacheInterval];
		}
		AnimationClip.prototype._cacheOffData=function (cacheInterval,datas){
			if(!this._offData){
				this._offData={};
			}
			this._offData[cacheInterval]=datas;
		}
		Animator.prototype.getOffData=function (name){
			var clipIndex=this._clipNames.indexOf(name);
			var clip=this._clips[clipIndex];
			this._currentPlayClip=clip;
			this._playEventIndex=0;
			var cacheInterval=this._cacheFrameRateInterval *this._cachePlayRate;
			var clipCacheFullFrames=clip._getoffData(cacheInterval);
			if (!clipCacheFullFrames){
				clipCacheFullFrames=[];
				var nodes=clip._nodes;
				var nodeCount=nodes.length;
				clipCacheFullFrames.length=nodeCount;
				var frameCount=Math.ceil(clip._duration / cacheInterval+0.00001)+1;
				var lastFrame=new Vector3();
				var curFrame;
				for (var i=0;i < nodeCount;i++){
					var node=nodes[i];
					var nodeFullFrames=[];
					var lastFrameIndex=-1;
					var keyFrames=node.keyFrames;
					for (var j=0,n=keyFrames.length;j < n;j++){
						var keyFrame=keyFrames[j];
						var nextKeyFrame=keyFrame.next;
						var startTime=keyFrame.startTime;
						var endTime=startTime+keyFrame.duration;
						if(nextKeyFrame){
							do {
								var frameIndex=Math.ceil(startTime / cacheInterval-0.00001);
								for (var k=lastFrameIndex+1;k < frameIndex;k++)
								nodeFullFrames[k]=lastFrame;
								curFrame=new Vector3();
								clip._hermiteInterpolate(keyFrame,(startTime-keyFrame.startTime)/keyFrame.duration,keyFrame.duration,curFrame.elements);
								nodeFullFrames[frameIndex]=curFrame;
								lastFrameIndex=frameIndex;
								startTime+=cacheInterval;
							}while (startTime < endTime);
						}
					}
					for(j=nodeFullFrames.length-1;j>=1;j--){
						Vector3.subtract(nodeFullFrames[j],nodeFullFrames[j-1],nodeFullFrames[j]);
					}
					clipCacheFullFrames[i]=nodeFullFrames;
				}
				clip._cacheOffData(cacheInterval,clipCacheFullFrames);
			}
			return clipCacheFullFrames;
		};
	}

	Avatar3D.__init$=function(){
		Avatar3D.init();;;;
	}

	return Avatar3D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillExtend.as=======97.999721/97.999721
/**
*技能扩展接口
*@author wulongbin
*
*/
//class laya.game.client.skill.SkillExtend extends laya.game.client.system.BaseExtend
var SkillExtend=(function(_super){
	function SkillExtend(){
		SkillExtend.__super.call(this);
		this.skillManager=SkillManager.instance;
	}

	__class(SkillExtend,'laya.game.client.skill.SkillExtend',_super);
	var __proto=SkillExtend.prototype;
	__proto.autoBind=function(){
		GameSystem.skill=this;
	}

	/**
	*判定是否播放技能
	*@param caster 施法者
	*@param name 技能名称
	*
	*/
	__proto.canPlaySkill=function(caster,param){
		return true;
	}

	/**
	*执行技能播放
	*@return
	*
	*/
	__proto.doPlaySkill=function(caster,param){}
	/**
	*技能能否对对象产生效果
	*@param skill
	*@param to
	*@param from
	*@return
	*/
	__proto.canImpact=function(skill,to,from){
		return true;
	}

	/**
	*技能产生的效果（击中后逻辑）
	*@param skill
	*@param target
	*@param from
	*/
	__proto.skillImpact=function(skill,target,from){}
	/**
	*获取脚本上下文 ，并初始化
	*@param target
	*@param from
	*@return
	*
	*/
	__proto.getScriptContext=function(skill,target,from){
		var scriptContext=this.createScriptContext();
		scriptContext.hitfrom=from;
		scriptContext.skill=skill;
		scriptContext.extendData=skill.extendData;
		scriptContext.setTarget(target);
		return scriptContext;
	}

	/**
	*创建上下文
	*@return
	*
	*/
	__proto.createScriptContext=function(){
		return CycleFactory.createObject2(SkillScriptContext);
	}

	return SkillExtend;
})(BaseExtend)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/BatchSeedPlugin.as=======97.999720/97.999720
/**
*批量创建怪物 插件
*@author wulongbin
*
*/
//class extend.plugin.BatchSeedPlugin extends laya.libs.plugin.Plugin
var BatchSeedPlugin=(function(_super){
	function BatchSeedPlugin(){
		this.scene=null;
		this.seed=null;
		this.monsters=null;
		this.range=null;
		this.num=null;
		this.monstersArr=null;
		this.rangeArr=null;
		this.numArr=null;
		/**
		*地图信息
		*/
		this.mapInfo=null;
		BatchSeedPlugin.__super.call(this);
	}

	__class(BatchSeedPlugin,'extend.plugin.BatchSeedPlugin',_super);
	var __proto=BatchSeedPlugin.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='seed';
	}

	__proto.onDestruct=function(){
		this.onConstruct();
		this.mapInfo=null;
	}

	__proto.onInit=function(){
		this.seed=this.owner;
		this.scene=this.seed.scene;
		this.monstersArr=SheetUtil.decode2Array(this.monsters);
		this.rangeArr=SheetUtil.decode2Range(this.range);
		this.numArr=SheetUtil.decode2Range(this.num);
		var i=0;
		var len=this.monstersArr.length;
		var total=0;
		for(;i<len;i++){
			total+=this.monstersArr[i][1];
			this.monstersArr[i][1]=total;
		}
		for(i=0;i<len;i++){
			this.monstersArr[i][1]=this.monstersArr[i][1]/total;
		}
		this.scene.timer.callLater(this,this.createMonsters);
	}

	/**
	*批量创建
	*
	*/
	__proto.createMonsters=function(){
		var num=Math.round(this.numArr[0]+(this.numArr[1]-this.numArr[0])*Math.random());
		for(var i=0;i<num;i++){
			this.createMonster();
		}
	}

	/**
	*逐个创建
	*
	*/
	__proto.createMonster=function(){
		var coe=Math.random();
		var i=0;
		var len=this.monstersArr.length;
		var monsterID;
		for(;i<len;i++){
			if(coe<=this.monstersArr[i][1]){
				monsterID=this.monstersArr[i][0];
				break ;
			}
		}
		if (! (GameSystem.scene.extend instanceof extend.plugin.GameSceneExtend ))
			return;
		this.getCreatePos(monsterID);
	}

	__proto.getCreatePos=function(monsterID){
		var angle=2*Math.PI*Math.random();
		var random=Math.random();
		var dis=(this.rangeArr[1]-this.rangeArr[0])*random;
		if(random>0.5){
			dis *=-1;
		};
		var pos=this.seed.pos.value;
		OnceTool.tempVector3.x=pos.x+dis;
		OnceTool.tempVector3.y=pos.y;
		OnceTool.tempVector3.z=pos.z　+dis;
		for(var j=0,mlen=this.seed.monsters.length;j<mlen;++j){
			var m=this.seed.monsters[j];
			if(Vector3.distance(m.pos.value,OnceTool.tempVector3)<=1){
				OnceTool.tempVector3.x+=1;
				OnceTool.tempVector3.z+=1;
			}
		};
		var createParam=this.scene.getGameObjParam();
		var configData=MonsterConfigData.getByID(monsterID);
		createParam.clear()
		.setConfig(configData.characterId,"Character")
		.setPos(OnceTool.tempVector3.x,OnceTool.tempVector3.y,OnceTool.tempVector3.z).setExtendData({'attribute':new Attribute,'config':configData});
		this.seed.createMonster(createParam);
	}

	return BatchSeedPlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/GameObject.as=======97.999720/97.999720
/**
*场景基础对象
*@author wulongbin
*
*/
//class laya.game.client.object.GameObject extends laya.libs.plugin.PluginBoard
var GameObject=(function(_super){
	function GameObject(){
		/**唯一ID*/
		this.id="";
		/**所属场景*/
		this.scene=null;
		/**位置*/
		this.pos=null;
		/**角度*/
		this.angle=null;
		/**缩放*/
		this.scale=null;
		/**读取配置*/
		this.config=null;
		/**显示容器*/
		this.node=null;
		/**分组*/
		this.group=null;
		this._parentGroupID=NaN;
		this._groupID=-1;
		/**用于碰撞检测的几何对象*/
		this.shape=null;
		/**临时变量，用于暂时存储特定数据*/
		this.temp=null;
		GameObject.__super.call(this);
		this.pos=new Vector3DProxy;
		this.pos.bindTarget(this,'pos');
		this.angle=new Vector3DProxy;
		this.angle.bindTarget(this,'angle');
		this.scale=new Vector3DProxy;
		this.scale.value.x=1;
		this.scale.value.y=1;
		this.scale.value.z=1;
		this.scale.bindTarget(this,'scale');
		if(GameSystem.is3D){
			ClassTool.defineProperty(this,"faceAngle",GameObject.__faceAngle__);
		}
	}

	__class(GameObject,'laya.game.client.object.GameObject',_super);
	var __proto=GameObject.prototype;
	Laya.imps(__proto,{"laya.libs.group.IGroupMember":true})
	__proto.bindScene=function(scene){
		this.scene=scene;
	}

	__proto.init=function(param){
		this.pos.reset();
		this.angle.reset();
		this.onReady();
		this.parentGroupID=-1;
		if(this.groupID>=0){
			this.group=this.scene.groupManager.add(this.groupID,this);
		}
	}

	__proto.onReady=function(){}
	__proto.destroyMe=function(){
		this.scene.removeGameObj(this);
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.groupID=-1;
		this.scene=null;
		this.node=null;
		this.temp=null;
	}

	/**
	*调用定时器执行函数
	*/
	__proto.onLoop=function(){}
	/**
	*死亡
	*/
	__proto.dead=function(from){}
	__proto.lookAt=function(targetPos,up){
		(this.node).transform.lookAt(targetPos,up||Vector3.Up);
		(this.node).transform.rotation.getYawPitchRoll(this.angle.value);
		var temp=this.angle.value.elements[0];
		this.angle.value.elements[0]=this.angle.value.elements[1];
		this.angle.value.elements[1]=temp;
	}

	// trace(angle.value.x,angle.value.y,angle.value.z)
	__proto.localToGlobal=function(local,out){
		MathUtils.localToGlobal(this.node,local,out);
	}

	__proto.addChildNode=function(obj){
		(this.node).addChild(obj.node);
	}

	/**
	*对象朝向：取值为0-360；
	*@param value
	*
	*/
	__getset(0,__proto,'faceAngle',function(){
		return this.angle.x;
		},function(value){
		this.angle.x=(value);
	});

	__getset(0,__proto,'x',function(){
		return this.pos.x;
		},function(value){
		this.pos.x=(value);
	});

	__getset(0,__proto,'y',function(){
		return this.pos.y;
		},function(value){
		this.pos.y=(value);
	});

	__getset(0,__proto,'z',function(){
		return this.pos.z;
		},function(value){
		this.pos.z=(value);
	});

	/**
	*是否开启轮询
	*@param value
	*
	*/
	__getset(0,__proto,'isLoop',null,function(value){
		if(value){
			this.scene.timer.frameLoop(1,this,this.onLoop);
		}
		else{
			this.scene.timer.clear(this,this.onLoop);
		}
	});

	/**
	*@private
	*/
	/**父类分组*/
	__getset(0,__proto,'parentGroupID',function(){
		return this._parentGroupID;
		},function(value){
		this._parentGroupID=value;
	});

	/**
	*@private
	*/
	/**分组ID*/
	__getset(0,__proto,'groupID',function(){
		return this._groupID;
		},function(value){
		if(this._groupID==value)return;
		if(this.group){
			this.scene.groupManager.remove(this);
			this.group=null;
		}
		this._groupID=value;
		if(this._groupID>=0){
			if(this.scene){
				this.group=this.scene.groupManager.add(value,this);
			}
		}
	});

	GameObject.Property_Path='path';
	GameObject.Property_Shape='shape';
	__static(GameObject,
	['__faceAngle__',function(){return this.__faceAngle__={
			"set":function (newValue){
				this.angle.y=newValue*MathUtils.PI1_180;
			},
			"get":function (){
				return this.angle.y*MathUtils.PI180_I;
			}
	};}

	]);
	return GameObject;
})(PluginBoard)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/ai/AI.as=======97.999718/97.999718
/**
*@author zyh
*/
//class laya.game.client.plugins.character.ai.AI extends laya.libs.plugin.Plugin
var AI=(function(_super){
	function AI(){
		/**寻敌范围*/
		this.seekRange=0;
		this._enable=false;
		/**自己*/
		this.character=null;
		this._groupManager=null;
		this._state=0;
		this._pathArr=null;
		this.enemy=null;
		this.enemyDistance=200;
		this.enemyPos=null;
		this._isDead=false;
		this._stateInfos=[];
		this.lastCastSkill=0;
		this._currentEnter=null;
		AI.__super.call(this);
		this.loopCD=new CD$1;
		this.initAIStateInfo();
	}

	__class(AI,'laya.game.client.plugins.character.ai.AI',_super);
	var __proto=AI.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.IAI":true})
	__proto.initAIStateInfo=function(){
		this.registerStateInfo(1,10,true,this.doIdle);
		this.registerStateInfo(2,50,true,this.doTrack);
		this.registerStateInfo(3,10,true,this.doAttack);
		this.registerStateInfo(4,10000000,false,this.doDead);
		this.registerStateInfo(6,1000,false,this.doFree);
	}

	__proto.registerStateInfo=function(state,cd,clearTime,enter){
		this._stateInfos[state]=[cd,clearTime,enter];
	}

	__proto.onAiState=function(){
		var value=this.character.aiState.value;
		if(this._state==value)return;
		if(this._state==2){
			this.character.stopMove();
		}
		this._state=value;
		var info=this._stateInfos[value];
		if(info){
			this.loopCD.resetCD(info[0],info[1]);
			this._currentEnter=info[2];
		}
		else{
			this._currentEnter=null;
		}
	}

	__proto.onConstruct=function(){
		_super.prototype.onConstruct.call(this);
		this._state=0;
	}

	__proto.resetProperty=function(){
		this._bindProperty='ai';
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.character.scene.timer.clear(this,this.deadEnd);
		this.enable=false;
		this.target=null;
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this._groupManager=this.character.scene.groupManager;
		this.loopCD.bind(1000);
		this.enemyDistance=8;
		this.character.on('Dead',this,this.doDead);
		this._isDead=false;
		this.listen(this.character.aiState,this.onAiState);
		this.aiState=this.getAutoAIState();
	}

	__proto.getAutoAIState=function(){
		return 1;
	}

	__proto.onLoop=function(){
		if(!this.loopCD.canPlay())return;
		if(this._currentEnter){
			this._currentEnter.apply(this);
		}
	}

	__proto.doDead=function(){
		if (this._isDead)
			return;
		this.enable=false;
		this._isDead=true;
		this.character.isDead=true;
		this.aiState=4;
		this.character.scene.timer.callLater(this,this.deadEnd);
	}

	// character.scene.timer.once(2000,this,deadEnd);
	__proto.deadEnd=function(){}
	//character.destroyMe();
	__proto.doFree=function(){}
	__proto.doIdle=function(){
		if (this.character.isFindingPath || this.character.isDead)
			return;
		var nearTarget=this.getNearEnemy();
		if(nearTarget){
			this.trackTarget(nearTarget);
		}
	}

	__proto.doAttack=function(){
		if(!this.enemy || this.enemy.isDead){
			this.idle();
			return;
		}
		if (this.character.actionController.state !='idle')
			return;
		else{
			var skillID=this.selectSkill();
			if (!this.canPlaySKill(skillID))
				return;
			var selfPos=this.character.pos.value;
			if(this.target)
				this.enemyPos=this.target.pos.value;
			var dis=this.getSkillDistance(skillID)
			var disXZ=DistanceUtils.xz(this.enemyPos,selfPos);
			if (disXZ > dis){
				this.aiState=1;
				return;
			}
			Vector3.subtract(this.enemyPos,selfPos,OnceTool.vector3_1);
			var ang=Math.atan2(OnceTool.vector3_1.x,OnceTool.vector3_1.z);
			this.character.angle.y=ang;
			this.playSkill(skillID,this.target);
			this.lastCastSkill=this.character.scene.getTimer();
		}
		return;
	}

	__proto.canPlaySKill=function(skillId){
		return true;
	}

	__proto.playSkill=function(skillID,target){
		Skill.playSkill(this.character.id,skillID,null,target);
	}

	// SkillManager.instance.createSkill(skillParam);
	__proto.selectSkill=function(){
		throw 'override this！'
	}

	__proto.getNearEnemy=function(){
		var dis=1000;
		var selfPos=this.character.pos.value;
		var tar=null;
		var tempDis=NaN;
		var result=this._groupManager.searchSkillGroup(this.character).filterByDistance(this.character.pos.value,this.enemyDistance,'xz');
		var arr=result.array;
		var i=0;
		for (i=0;i < arr.length;++i){
			tempDis=DistanceUtils.xz(arr[i].pos.value,selfPos);
			if (tempDis < dis){
				dis=tempDis;
				tar=arr[i];
			}
		}
		result.recovery();
		return tar;
	}

	__proto.getSkillDistance=function(skillId){
		var att=this.character.extendData.attribute;
		var distance=0;
		var skillData=Sheet.getByID("SkillData",att.skillID2LevelID(skillId));
		if (skillData){
			distance=skillData.caster_dist;
		}
		else{
			throw 'skillData is null';
		}
		return distance;
	}

	__proto.doTrack=function(){
		if(!this.enemyPos)return;
		var selfPos=this.character.pos.value;
		if(this.target)
			this.enemyPos=this.target.pos.value;
		var dis=DistanceUtils.xz(this.enemyPos,selfPos);
		if (this.target){
			if(!this.checkTarget()){
				if ((!this.character.isMove)){
					this.idle();
				}
			}
			else{
				this.startFight();
			}
		}
		else{
			if ((!this.character.isMove)){
				this.idle();
			}
		}
	}

	__proto.checkTarget=function(){
		var selfPos=this.character.pos.value;
		var result=this._groupManager.searchSkillGroup(this.character).filterByDistance(selfPos,this.enemyDistance,'xz');
		var find=false;
		for (var i=0;i < result.array.length;++i){
			var dis=DistanceUtils.xz(result.array[i].pos.value,selfPos);
			if (this.checkStarFight(dis)){
				find=true;
				break ;
			}
		}
		result.recovery();
		return find;
	}

	__proto.checkStarFight=function(dis){
		if (dis <=this.getSkillDistance(this.selectSkill())){
			this.target=this.getNearEnemy();
			return true;
		}
		return false;
	}

	__proto.idle=function(){
		this.aiState=1;
	}

	__proto.trackTarget=function(target){
		this.target=target;
		this.trackPos(target.pos.value);
	}

	__proto.onTargetDead=function(){
		this.target=null;
	}

	__proto.trackPos=function(pos){
		if(!pos)throw 'pos is null'
			this.aiState=2;
		this.enemyPos=pos;
		this.character.moveTo(this.enemyPos);
	}

	//character.movePath([new Vector3(5,11,10),new Vector3(-5,11,10),new Vector3(5,11,10)]);
	__proto.trackPosPath=function(arr){
		this.aiState=2;
		this.enemyPos=arr[0];
		this.character.moveTo(arr,Handler.create(this,this.onMoveFinish));
		this._pathArr=arr.concat();
	}

	__proto.startFight=function(){
		this.aiState=3;
	}

	__proto.onMoveFinish=function(){
		this._pathArr.shift()
		this.trackPosPath(this._pathArr);
		if (this._pathArr.length==0)
			this.idle();
	}

	/**
	*是否开启攻击检测
	*/
	__getset(0,__proto,'enable',function(){
		return this._enable;
		},function(value){
		this._enable=value;
		if (this._enable)
			this.character.scene.timer.frameLoop(1,this,this.onLoop);
		else
		this.character.scene.timer.clear(this,this.onLoop);
	});

	/**
	*@private
	*/
	/**当前攻击目标*/
	__getset(0,__proto,'target',function(){
		return this.enemy;
		},function(value){
		if(this.enemy){
			this.enemy.off('Dead',this,this.onTargetDead);
		}
		this.enemy=value;
		if(this.enemy){
			this.enemy.on('Dead',this,this.onTargetDead);
		}
	});

	__getset(0,__proto,'aiState',function(){
		return this.character.aiState.value;
		},function(value){
		this.character.aiState.value=value;
	});

	return AI;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/system/GameExtend.as=======97.999717/97.999717
/**
*游戏扩展类
*@author wulongbin
*
*/
//class laya.game.client.system.GameExtend extends laya.game.client.system.BaseExtend
var GameExtend=(function(_super){
	function GameExtend(){
		GameExtend.__super.call(this);
	}

	__class(GameExtend,'laya.game.client.system.GameExtend',_super);
	var __proto=GameExtend.prototype;
	__proto.autoBind=function(){
		GameSystem.game=this;
	}

	__proto.ready=function(){
		CycleFactory.registerClass("Avatar2D",Avatar2D);
		CycleFactory.registerClass("Avatar3D",Avatar3D);
		CycleFactory.registerClass("AvatarImage",AvatarImage);
		CycleFactory.registerClass('CharacterExtend2D',CharacterExtend);
		CycleFactory.registerClass('CharacterExtend3D',CharacterExtend3D);
		CycleFactory.registerClass("StateMachine",StateMachine$1);
		CycleFactory.registerClass("ActionController",ActionController);
		CycleFactory.registerClass("Collision2D",Collision2D);
		CycleFactory.registerClass("WalkCollision2D",WalkCollision2D);
		CycleFactory.registerClass("WalkableManager",WalkableManager);
		CycleFactory.registerClass('SkillPlugin',SkillPlugin);
		CycleFactory.registerClass('BindPos',BindPosPlugin);
		CycleFactory.registerClass('AI',AI);
		CycleFactory.registerClass('SeedPlugin',SeedPlugin);
		CycleFactory.registerClass2(MoveCtrl2D);
		CycleFactory.registerClass2(SkillWithEvent);
		CycleFactory.registerClass2(LinePath$1);
		CycleFactory.registerClass2(LinePathXZ);
		CycleFactory.registerClass2(Parabola3D);
		CycleFactory.registerClass2(Track3D);
		CycleFactory.registerClass2(ShapePlugin);
		CycleFactory.registerClass("CollisionManager",CollisionManager$1);
		CycleFactory.registerClass("Camera2D",Camera2D);
		CycleFactory.registerClass("Camera3D",Camera3D);
		CycleFactory.registerClass('Scene2DExtend',Scene2DExtend);
		CycleFactory.registerClass('Scene3DExtend',Scene3DExtend);
		CycleFactory.registerClass("SkillManager",SkillManager);
		CycleFactory.registerClass("AiManager",GroupManager);
		CycleFactory.registerClass("Rocker",Rocker);
		CycleFactory.registerClass("Character",Character);
		CycleFactory.registerClass("Effect3D",Effect3D);
		CycleFactory.registerClass("Seed",Seed);
		CycleFactory.registerClass("Scene",GameScene);
		CycleFactory.registerClass('Script',Script$1);
		CycleFactory.registerClass('SkillScriptContext',SkillScriptContext);
		CycleFactory.registerClass2(SkillWithSpcript);
		CycleFactory.registerClass('Finder',Finder);
		CycleFactory.registerClass('CharacterInteraction',CharacterInteraction);
		CycleFactory.registerClass2(AIStateInfo);
		CycleFactory.registerClass2(GameSearchResult);
		CycleFactory.registerClass2(GroupManager);
		CycleFactory.registerClass2(Effect2D);
		CycleFactory.registerClass2(BaseScriptContext);
		GroupManager.init(null,GameSearchResult);
		CycleFactory.registerClass2(DistanceCollision);
		CycleFactory.registerClass2(ShapeCollision);
	}

	__proto.getActionName=function(action,dir){
		return action+dir;
	}

	__proto.init=function(){
		if(GameSystem.openLimixiu){
			InteractionManager.bindRoute(laya.game.client.room.GameRoom.extend);
		}
	}

	__proto.hideScene=function(scene,cb){
		cb.run();
	}

	__proto.showScene=function(scene,cb){
		cb.run();
	}

	__proto.createInsteractions=function(){
		return new CharacterInteraction;
	}

	return GameExtend;
})(BaseExtend)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/GameScene.as=======97.999716/97.999716
/**
*游戏场景
*@author wulongbin
*
*/
//class laya.game.client.scene.GameScene extends laya.libs.plugin.PluginBoard
var GameScene=(function(_super){
	function GameScene(){
		/**脚本插件*/
		this.extend=null;
		/**相机（控制视图焦点区域）*/
		this.camera=null;
		/**控制器（控制指定对象）*/
		this.control=null;
		/**碰撞管理*/
		this.collisionManager=null;
		/**时间管理*/
		this.timer=null;
		/**缓动管理*/
		this.tweenManager=null;
		/**行走管理*/
		this.walkableManager=null;
		/**寻路插件*/
		this.finder=null;
		/*寻路宽展插件*/
		this.finderExtend=null;
		/**开启debug模式*/
		this.debug=null;
		/**资源文件*/
		this.src='';
		/**资源文件*/
		this.param='';
		/**场景唯一ID*/
		this.ID='';
		/**场景配置*/
		this.config=null;
		this.bgMusic=null;
		/**场景视图节点*/
		this.node=null;
		this._isLoop=false;
		/**gameObject ID字典*/
		this._gameObjLib={};
		/**gameObject id 计数器*/
		this._gameObjID=NaN;
		this._nodeToGameObj={};
		/**创建对象上下文*/
		this._createGameObjParam=null;
		/**用户自定义数据*/
		this.extendData=null;
		GameScene.__super.call(this);
		this.groupManager=new GroupManager;
		this._initTime();
		this.debug=new BooleanProxy();
		this.debug.bindTarget(this,'debug');
		this._createGameObjParam=new GameObjParam
		this._createGameObjParam.scene=this;
	}

	__class(GameScene,'laya.game.client.scene.GameScene',_super);
	var __proto=GameScene.prototype;
	__proto._initTime=function(){
		this.timer=new FSTimer();
		this.timer["_now"]=this.getTimer.bind(this);
		this.tweenManager=new TweenManager(this.timer);
	}

	/**
	*准备内容
	*
	*/
	__proto.onReady=function(data){
		this.extendData=data.extendData;
		this.extend.onReady(Handler.create(this,this.readyComplete));
	}

	/**
	*准备完成
	*
	*/
	__proto.readyComplete=function(){
		this._gameObjID=1;
		this.timer.reset();
		this.tweenManager.reset();
		this.node=this.extend.createNode();
		this.doInitPlugin();
		this.isLoop=true;
		Laya.timer.callLater(this,this.onComplete);
	}

	__proto.onComplete=function(){
		this.extend.onComplete();
		this.event('Complete');
	}

	// }
	__proto.onDestruct=function(){
		this.isLoop=false;
		this.bgMusic='';
		var obj;
		for(var $each_obj in this._gameObjLib){
			obj=this._gameObjLib[$each_obj];
			this.removeGameObj(obj);
		}
		_super.prototype.onDestruct.call(this);
		this.groupManager.clear();
	}

	/**
	*根据配置创建gameObject
	*@param config 配置
	*@param param 创建对象上下文参数
	*@return
	*
	*/
	__proto.createGameObject=function(param){
		var gameObj=CycleFactory.createByID(param.sheet,param.configID);
		if(!gameObj){
			throw "创建失败，角色配置id = "+param.configID+"找不到!";
		}
		gameObj.bindScene(this);
		if(param.ID){
			gameObj.id=param.ID;
		}
		else{
			gameObj.id='$_'+(this._gameObjID++);
		}
		this._gameObjLib[gameObj.id]=gameObj;
		if(param.node)
			gameObj.node=param.node;
		gameObj.init(param);
		gameObj.doInitPlugin();
		if(gameObj.node){
			if(gameObj.node.parent){
				throw 'aaaaaaaaa';
			}
			this.addToLayer(gameObj.node ,param.layerName);
		}
		if(param.parent){
			param.parent.node.addChildNode(gameObj);
		}
		if(gameObj.node){
			this._nodeToGameObj[gameObj.node._id]=gameObj;
		}
		this.onCreateGameObj(gameObj,param);
		gameObj.onLoop();
		return gameObj;
	}

	__proto.getGameObjParam=function(){
		return this._createGameObjParam;
	}

	/**
	*根据id,获取对象
	*@param ID
	*@return
	*
	*/
	__proto.getGameObj=function(ID){
		return this._gameObjLib[ID];
	}

	/**
	*根据可视化节点获取对象
	*@param node
	*@return
	*
	*/
	__proto.getGameObjByNode=function(node){
		return this._nodeToGameObj[node._id];
	}

	/**
	*移除对象
	*@param gameObj
	*
	*/
	__proto.removeGameObj=function(gameObj){
		delete this._gameObjLib[gameObj.id];
		if(gameObj.node){
			delete this._nodeToGameObj[gameObj.node._id];
		}
		this.onRemoveGameObj(gameObj);
		gameObj.event('Remove',gameObj);
		gameObj.recovery();
	}

	/**
	*添加对象到场景中某一层里面，如果没有这个层，则不进行添加
	*@param target 显示对象
	*@param layer 层名字
	*/
	__proto.addToLayer=function(target,layer){
		this.extend.addToLayer(target,layer);
	}

	/**
	*获取图层
	*@param layer
	*@return
	*
	*/
	__proto.getLayer=function(layer){
		return this.extend.getLayer(layer);
	}

	/**
	*创建对象
	*@param gameObj
	*@param param
	*
	*/
	__proto.onCreateGameObj=function(gameObj,param){
		this.extend.onCreateGameObj(gameObj,param);
	}

	/**
	*移除对象
	*@param gameObj
	*
	*/
	__proto.onRemoveGameObj=function(gameObj){
		this.extend.onRemoveGameObj(gameObj);
	}

	__proto.onLoop=function(){
		this.timer._update();
		SkillManager.instance.onLoop();
		this.camera.onLoop();
		this.extend.onLoop();
	}

	__proto.getTimer=function(){
		return GameSystem.getServerTime();
	}

	__getset(0,__proto,'isLoop',function(){
		return this._isLoop;
		},function(value){
		if(this._isLoop==value)return;
		this._isLoop=value;
		if(this._isLoop){
			Laya.timer.frameLoop(1,this,this.onLoop);
		}
		else{
			Laya.timer.clear(this,this.onLoop);
		}
	});

	GameScene.Event_ReadyComplete='ReadyComplete';
	GameScene.Event_Complete='Complete';
	GameScene.Property_Extend='extend';
	GameScene.Property_Camera='camera';
	GameScene.Property_Control='control';
	GameScene.Property_CollisionManager='collisionManager';
	GameScene.Property_Finder='finder';
	GameScene.Property_FinderExtend='finderExtend';
	return GameScene;
})(PluginBoard)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/Scene3DExtend.as=======97.999716/97.999716
//class laya.game.client.scene.Scene3DExtend extends laya.libs.plugin.Plugin
var Scene3DExtend=(function(_super){
	function Scene3DExtend(){
		this.scene=null;
		this.sceneNode=null;
		this.spriteToGameObj=null;
		this.heightMapName=null;
		Scene3DExtend.__super.call(this);
	}

	__class(Scene3DExtend,'laya.game.client.scene.Scene3DExtend',_super);
	var __proto=Scene3DExtend.prototype;
	Laya.imps(__proto,{"laya.game.client.scene.ISceneExtend":true})
	__proto.resetProperty=function(){
		this._bindProperty='extend';
	}

	__proto.onReady=function(complete){
		var _$this=this;
		this.scene=this.owner;
		this.sceneNode=Laya.loader.create(this.scene.src,null,null,Scene3DNode);
		if (this.sceneNode.loaded){
			if (this.scene.finder)
				this.onResourceLoaded(complete);
		}
		else{
			this.sceneNode.once("hierarchyloaded",this,function(){
				_$this.onResourceLoaded(complete);
			});
		}
	}

	__proto.onDead=function(role){}
	__proto.onResourceLoaded=function(complete){
		complete.run();
	}

	// }
	__proto.onInit=function(){
		this.spriteToGameObj={};
		var gameObjectsArr=this.sceneNode.gameObjects
		if(gameObjectsArr){
			var i=0;
			var len=gameObjectsArr.length;
			for(;i<len;i++){
				var gameObj=gameObjectsArr[i];
				var renderNames=(gameObj.renderSprite).split("/");
				var targetNode=this.sceneNode;
				for(var j=1;j<renderNames.length;j++){
					targetNode=targetNode.getChildByName(renderNames[j]);
					if(!targetNode){
						break ;
					}
				}
				if(!targetNode){
					GameSystem.log('创建gameObject 失败，'+gameObj.renderSprite+'没有找到对象!');
					continue ;
				};
				var target3D=targetNode;
				var localPos=target3D.transform.localPosition;
				this.scene.getGameObjParam()
				.clear()
				.setConfig(gameObj.configId,gameObj.sheet)
				.setPos(localPos.x,localPos.y,localPos.z)
				.setNode(null,target3D,gameObj.className)
				.create();
			}
		}
	}

	// Physics.collisionManager.on(Event.TRIGGER_EXIT,this,onTriggerExit);
	__proto.onDestruct=function(){
		SceneItemCreater.I.destroy();
		(this.scene.node).removeSelf();
		_super.prototype.onDestruct.call(this);
	}

	// }
	__proto.createNode=function(){
		return this.sceneNode;
	}

	__proto.onComplete=function(){
		GameSystem.sceneLayer.addChild(this.scene.node);
	}

	__proto.onLoop=function(){}
	__proto.addToLayer=function(target,layer){
		if(layer){
			GameSystem.uiLayer.getChildAt(0).addChild(target);
			return;
		}
		this.sceneNode.addChild(target);
	}

	__proto.getLayer=function(layer){
		return null;
	}

	__proto.onCreateGameObj=function(gameObj,param){
		gameObj.pos.setValue(param.x,param.y,param.z);
		gameObj.faceAngle=param.faceAngle;
	}

	__proto.onRemoveGameObj=function(gameObj){
		if(gameObj.node){
			(gameObj.node).removeSelf();
		}
	}

	return Scene3DExtend;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/CharacterExtend3D.as=======97.999713/97.999713
/**
*3D角色扩展类
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.CharacterExtend3D extends laya.libs.plugin.Plugin
var CharacterExtend3D=(function(_super){
	function CharacterExtend3D(){
		this.character=null;
		//角色身高
		this.roleHeight=NaN;
		// protected var position:Vector3=new Vector3();
		this.node=null;
		CharacterExtend3D.__super.call(this);
		this._lastPos=new Vector3();
		this._lastAngle=new Vector3();
	}

	__class(CharacterExtend3D,'laya.game.client.plugins.character.CharacterExtend3D',_super);
	var __proto=CharacterExtend3D.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.ICharacterExtend":true})
	__proto.resetProperty=function(){
		this._bindProperty='extend';
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this.node=this.character.node;
		this.node.owner=this.character;
		this.character.isLoop=true;
		this.node.transform.position=this.character.pos.value;
		this.listen(this.character.pos,this.onPosition);
		this.listen(this.character.angle,this.onRotation);
	}

	// _camera=character.scene.camera;
	__proto.onDestruct=function(){
		this.character.isLoop=false;
	}

	__proto.createNode=function(){
		return new CharacterSprite3D();
	}

	__proto.onPosition=function(){
		this.node.transform.position=this.character.pos.value.clone();
	}

	__proto.onRotation=function(){
		this.node.transform.rotationEuler=this.character.angle.value.clone();
	}

	// }
	__proto.onDead=function(from){
		this.character.event('Dead',this.character);
	}

	__proto.onBorn=function(){}
	__proto.offsetPos=function(pos){
		var currPos=this.character.pos.value;
		OnceTool.tempVector3.x=currPos.x+pos.x;
		OnceTool.tempVector3.y=currPos.y+pos.y;
		OnceTool.tempVector3.z=currPos.z+pos.z;
		if(!this.character.scene.finder.canArrive(OnceTool.tempVector3)){
			OnceTool.tempVector3.x=currPos.x;
			OnceTool.tempVector3.z=currPos.z;
		}
		this.character.pos.setValue(OnceTool.tempVector3.x,OnceTool.tempVector3.y,OnceTool.tempVector3.z);
		return true;
	}

	__proto.updatePos=function(pos){
		return true;
	}

	__proto.onLoop=function(){}
	return CharacterExtend3D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/MoveCtrl3D.as=======97.999709/97.999709
/**
*...
*@author rpw
*/
//class laya.game.client.plugins.character.MoveCtrl3D extends laya.libs.plugin.Plugin
var MoveCtrl3D=(function(_super){
	function MoveCtrl3D(){
		/*插件控制的实例*/
		this.character=null;
		/*行走路径*/
		this._path=null;
		/*当前行走路径某个节点索引*/
		this._currentPathStep=0;
		this._lastStep=0;
		this._isMove=false;
		this._callbackFunction=null;
		this._pathArray=[];
		this._excursionX=0;
		this._excursionZ=0;
		/**
		*开始Move
		*/
		this.begin=true;
		MoveCtrl3D.__super.call(this);
		this.speedVec=new Vector3;
		this._derectVec=new Vector3;
		this._angleVec=new Vector3;
		this.initFindPos=new Vector3;
		this._pathTarget=new Vector3;
		this._targetNowPos=new Vector3;
		this.lastPoint=new Vector3;
	}

	__class(MoveCtrl3D,'laya.game.client.plugins.character.MoveCtrl3D',_super);
	var __proto=MoveCtrl3D.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.IMove":true})
	__proto.resetProperty=function(){
		this._bindProperty='moveController';
	}

	__proto.setExcursionXZ=function(x,z){
		this._excursionX=x;
		this._excursionZ=z;
	}

	/*对外接口，把Character移动某个目标点或数组
	*
	*path 为目标点坐标vector3 或 坐标数组array(vector3(),vector3(),vector3().....)
	*callback为移动结束回调函数
	*
	**/
	__proto.moveTo=function(path,callback){
		if ((path instanceof Array)){
			if (path.length==1){
				this.character.isFindingPath=false;
				if(this._callbackFunction)
					this._callbackFunction.run();
			}
			if (this.lastPoint.x==path[0].x && this.lastPoint.z==path[0].z){
				path.shift();
				if(path.length !=0){
					this.moveTo(path,callback);
				}
				else{
					this.stopMove();
				}
				return;
			}
		}
		this.clear();
		if (this.character.speed <=0){
			console.log('character.speed值为0，不能移动');
			return;
		};
		var target=new Vector3();
		if ((path instanceof Array)){
			this._pathArray=path.concat();
			target=this._pathArray[0];
		}
		else if ((path instanceof laya.d3.math.Vector3 )){
			target=path;
			this._pathArray=null;
		}
		else{
			return;
		}
		this.initFindPos.x=this.character.pos.x;
		this.initFindPos.y=this.character.pos.y;
		this.initFindPos.z=this.character.pos.z;
		this._path=this.character.scene.finder.find(this.initFindPos ,target);
		if (this._path && this._path.length >0){
			this._callbackFunction=callback;
			this.isMove=true;
			this._currentPathStep=0;
			this._lastStep=this._path.length-1;
			this.calcSpeed();
		}
	}

	__proto.clear=function(){
		this._currentPathStep=0;
		this._lastStep=0;
		this._path=[];
	}

	__proto.stopMove=function(b){
		(b===void 0)&& (b=true);
		this.isMove=false;
		this.clear();
		if(b && this._callbackFunction)
			this._callbackFunction.run();
		this._callbackFunction=null;
	}

	__proto.update=function(){
		if(!this.begin)return;
		this.checkSpeed();
		if (!this._isMove || !this.character)
			return;
		var runTime=0.016;
		var X=this.speedVec.x *runTime;
		var Y=this.speedVec.y *runTime;
		var Z=this.speedVec.z *runTime;
		OnceTool.tempVector3.x=X;
		OnceTool.tempVector3.y=Y;
		OnceTool.tempVector3.z=Z;
		this.calcOwnerAngleBySpeed(X,Z);
		if(this._isMove)
			this.character.pos.offXYZ(X,Y,Z);
	}

	/*计算owner的速度矢量*/
	__proto.calcSpeed=function(){
		var targetPos=this._path[this._currentPathStep];
		this._pathTarget.x=targetPos[0]+this._excursionX;
		this._pathTarget.y=targetPos[1];
		this._pathTarget.z=targetPos[2]+this._excursionZ;
		this._derectVec.x=this._pathTarget.x-this.character.pos.x;
		this._derectVec.y=this._pathTarget.y-this.character.pos.y;
		this._derectVec.z=this._pathTarget.z-this.character.pos.z;
		Vector3.normalize(this._derectVec,this.speedVec);
		Vector3.scale(this.speedVec,this.character.speed ,this.speedVec);
	}

	__proto.calcOwnerAngleBySpeed=function(disX,disZ){
		this.character.angle.y=Math.atan2(disX,disZ);
	}

	/*根据运动到某个点下 检测速度*/
	__proto.checkSpeed=function(){
		if (this._currentPathStep >=this._path.length)
			return;
		var targetPos=this._path[this._currentPathStep];
		this._pathTarget.x=targetPos[0]+this._excursionX;
		this._pathTarget.y=targetPos[1];
		this._pathTarget.z=targetPos[2]+this._excursionZ;
		if (this.checkArrived(this._pathTarget)){
			if (this._currentPathStep==this._lastStep){
				this._currentPathStep=0;
				this.speedVec.x=0;
				this.speedVec.y=0;
				this.speedVec.z=0;
				if (this._pathArray){
					this._pathArray.shift();
					if (this._pathArray.length !=0){
						this.lastPoint=this._pathTarget;
						this.moveTo(this._pathArray,this._callbackFunction);
						return;
					}
				}
				this.stopMove();
			}
			else{
				this._currentPathStep++;
				this.calcSpeed();
			}
		}
	}

	/*
	*检测是否达到某个目标点
	*arrivePos达到目标点
	**/
	__proto.checkArrived=function(arrivePos){
		this._targetNowPos.x=this.character.pos.x;
		this._targetNowPos.y=this.character.pos.y;
		this._targetNowPos.z=this.character.pos.z;
		var dis=Vector3.distance(this._targetNowPos,arrivePos);
		if (dis <=this.character.speed *0.01)
			return true;
		return false;
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this._isMove=false;
	}

	__proto.onDestruct=function(){
		this.character=null;
		_super.prototype.onDestruct.call(this);
	}

	__getset(0,__proto,'isMove',function(){
		return this._isMove;
		},function(value){
		if (this._isMove==value)
			return;
		this._isMove=value;
		if(this._isMove){
			this.character.playActionById('1001');
			this.character.scene.timer.frameLoop(1,this,this.update);
		}
		else{
			this.character.scene.timer.clear(this,this.update);
			this.character.playActionById('1000');
		}
		this.event();
	});

	MoveCtrl3D.tracePath=function(path){
		var len=path.length;
		var point;
		var sphere;
		for (var i=0;i < len;i++){
			point=path[i];
			sphere=GameSystem.scene.node.addChild(new MeshSprite3D(new SphereMesh()));
			var material=new laya.d3.core.material.StandardMaterial();
			material.diffuseTexture=laya.d3.resource.Texture2D.load("res/layabox.png");
			sphere.meshRender.material=material;
			sphere.transform.position=new Vector3(point.x,point.y,point.z);
		}
	}

	MoveCtrl3D.Epsilon=0.0009765625;
	MoveCtrl3D.Threshold=0.5-0.0009765625;
	return MoveCtrl3D;
})(Plugin)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/SniperMoveCtrl.as=======97.999706/97.999706
//class extend.plugin.SniperMoveCtrl extends laya.libs.plugin.Plugin
var SniperMoveCtrl=(function(_super){
	function SniperMoveCtrl(){
		this.character=null;
		this._isMove=false;
		this.targetPos=null;
		this.movePath=null;
		this.targetPosIndex=NaN;
		this.curPosIndex=NaN;
		this._callback=null;
		this.tempPos=new Vector3();
		SniperMoveCtrl.__super.call(this);
	}

	__class(SniperMoveCtrl,'extend.plugin.SniperMoveCtrl',_super);
	var __proto=SniperMoveCtrl.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.IMove":true})
	__proto.onInit=function(){
		this.character=this.owner;
		this._isMove=false;
		this.curPosIndex=this.targetPosIndex=1;
	}

	__proto.resetProperty=function(){
		this._bindProperty='moveController';
	}

	__proto.resetMovePath=function(){
		var scene=this.character.scene;
		var faceAngle;
		if(this.character.groupID==11){
			this.movePath=scene.redPos;
			faceAngle=scene.teamRotation.red;
		}
		else{
			this.movePath=scene.bluePos;
			faceAngle=scene.teamRotation.blue;
		};
		var autoPos=this.movePath[this.targetPosIndex];
		this.character.pos.setValue(autoPos.x,0,autoPos.z);
		this.character.angle.setValue(faceAngle.y,faceAngle.x-90,faceAngle.z);
		(this.character.avatar).initAngle(faceAngle.y,faceAngle.x,faceAngle.z);
	}

	__proto.moveTo=function(path,cb){
		this._callback=cb;
		this.targetPos=path;
		this._isMove=true;
		var curPos=this.character.pos.value;
		this.tempPos.x=this.targetPos.x-curPos.x;
		this.tempPos.y=this.targetPos.y-curPos.y;
		this.tempPos.z=this.targetPos.z-curPos.z;
		Vector3.normalize(this.tempPos,OnceTool.tempVector3);
		var angle=Math.atan2(OnceTool.tempVector3.x,OnceTool.tempVector3.z);
		this.character.angle.y=angle;
		this.character.scene.timer.frameLoop(1,this,this.onLoop);
	}

	__proto.onLoop=function(){
		var targetPos=this.targetPos.clone();
		var curPos=this.character.pos.value;
		var distance=Vector3.distance(targetPos,curPos);
		var step=this.character.speed/60;
		if(distance<step){
			step=distance;
			this.curPosIndex=this.targetPosIndex;
			this.stopMove();
		}
		Vector3.subtract(targetPos,curPos,targetPos);
		Vector3.normalize(targetPos,targetPos);
		Vector3.scale(targetPos,step,targetPos);
		this.character.pos.offXYZ(targetPos.x,targetPos.y,targetPos.z);
	}

	__proto.moveLeft=function(){
		if(this.character.isDead){
			return;
		}
		if(this.curPosIndex!=this.targetPosIndex){
			if(this.targetPosIndex<this.curPosIndex){
				this.moveTo(this.movePath[this.targetPosIndex]);
				return;
			}
		}
		if(this.targetPosIndex>0){
			this.targetPosIndex--;
			this.moveTo(this.movePath[this.targetPosIndex]);
		}
	}

	__proto.moveRight=function(){
		if(this.character.isDead){
			return;
		}
		if(this.curPosIndex!=this.targetPosIndex){
			if(this.targetPosIndex>this.curPosIndex){
				this.moveTo(this.movePath[this.targetPosIndex]);
				return;
			}
		}
		if(this.targetPosIndex<this.movePath.length-1){
			this.targetPosIndex=this.targetPosIndex+1;
			this.moveTo(this.movePath[this.targetPosIndex]);
		}
	}

	__proto.stopMove=function(b){
		(b===void 0)&& (b=true);
		if(!this.character || !this.character.scene){
			return;
		}
		this.character.scene.timer.clear(this,this.onLoop);
		(this.character.avatar).resetAngle();
		this._isMove=false;
		this._callback && this._callback.run();
	}

	__getset(0,__proto,'isMove',function(){
		return this._isMove;
		},function(value){
	});

	return SniperMoveCtrl;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/findway/Finder.as=======97.999701/97.999701
/**
*...
*@author rpw
*/
//class laya.game.client.plugins.scene.findway.Finder extends laya.libs.plugin.Plugin
var Finder=(function(_super){
	function Finder(){
		/*需要寻路插件的场景*/
		this._target=null;
		/*寻路组件，引擎自带*/
		this._finder=null;
		/*从场景生成的高度图*/
		this._heightMap=null;
		this._outCellSize=null;
		/*寻路插件需要的参数*/
		this._data=null;
		/*寻路格子贴图*/
		this._aStarMap=null;
		/*寻路高度贴图*/
		this._meshTerrainSprite3DMap=null;
		/*从场景提取出来mesh载体实例*/
		this._meshSprite3D=null;
		this._completeHandler=null;
		this._meshTerrainSprite3D=null;
		Finder.__super.call(this);
	}

	__class(Finder,'laya.game.client.plugins.scene.findway.Finder',_super);
	var __proto=Finder.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.scene.findway.IFind":true})
	__proto.resetProperty=function(){
		this._bindProperty='finder';
	}

	__proto.onDestruct=function(){
		this._finder=null;
		this._heightMap=null;
		if (this._aStarMap){
			this._aStarMap.destroy();
			this._aStarMap=null;
		}
		if (this._meshTerrainSprite3DMap){
			this._meshTerrainSprite3DMap.destroy();
			this._meshTerrainSprite3DMap=null;
		}
		if (this._meshSprite3D){
			this._meshSprite3D.removeSelf();
			this._meshSprite3D.destroy(true);
			this._meshSprite3D=null;
		}
		if (this._meshTerrainSprite3D){
			this._meshTerrainSprite3D.removeSelf();
			this._meshTerrainSprite3D.destroy(true);
			this._meshTerrainSprite3D=null;
		}
		_super.prototype.onDestruct.call(this);
	}

	__proto.onInit=function(){
		this._target=this.owner;
		var opt={allowDiagonal:true,dontCrossCorners:false,heuristic:Heuristic["manhattan"],weight:1};
	}

	/*对外提供的接口，
	*
	*configData 用于传入寻路需要的参数
	*complete 用于Finder异步加载高度图和astar图完成回调，解决外部需要需要这两张图加载成之后才能调用find寻路方法
	*
	**/
	__proto.setData=function(data,complete){
		this._data=data;
		this._completeHandler=complete;
		if (!this._data){
			this._completeHandler && this._completeHandler.runWith(this._completeHandler.args);
			return;
		}
		this.findMeshSpriteFromScene(this._data.scene._childs,[]);
		this._data.meshSprite3D=this._meshSprite3D;
		this.createHeightMap(this._meshSprite3D);
		this.createMaps();
	}

	__proto.findMeshSpriteFromScene=function(array,next){
		console.log('----------寻找MeshSprite3D');
		next=[];
		var len=array.length;
		for (var i=0;i < len;i++){
			if (((array[i])instanceof laya.d3.core.MeshSprite3D )&& array[i].name.indexOf(this._data.heightMapName)!=-1){
				this._meshSprite3D=array[i];
				break ;
			}
			else{
				var childs=(array [i])._childs;
				var node;
				for(var $each_node in childs){
					node=childs[$each_node];
					next.push(node);
				}
			}
		}
		if (!this._meshSprite3D){
			if (next.length > 0)this.findMeshSpriteFromScene(next,[]);
		}
	}

	//如果next.lenght <=0那么说明全部寻完
	__proto.createMaps=function(){
		Laya.loader.create([this._data.avatarMapUrl,this._data.meshTerrainSprite3DMapUrl],Handler.create(this,this.astarMapLoaded),null,laya.d3.resource.Texture2D,[true]);
	}

	__proto.astarMapLoaded=function(e){
		this._aStarMap=Laya.loader.getRes(this._data.avatarMapUrl);
		this._data.aStarXZMap=this._aStarMap;
		this._meshTerrainSprite3DMap=Laya.loader.getRes(this._data.meshTerrainSprite3DMapUrl);
		this._data.aStarYMap=this._meshTerrainSprite3DMap;
		this._meshTerrainSprite3D=this.createMeshTerrainSprite3D();
		this._finder.grid=this.createGrid();
		this._finder._load(this._meshTerrainSprite3D);
		this._completeHandler && this._completeHandler.run();
	}

	__proto.createHeightMap=function(meshSprite3D){
		this._outCellSize=new Vector2();
		this._heightMap=HeightMap.creatFromMesh(meshSprite3D.meshFilter.sharedMesh,this._data.gridWidth,this._data.gridHeight,this._outCellSize);
	}

	/*寻路方法
	*start 为起始坐标，为场景实际坐标
	*end 为终点坐标。为场景实际坐标
	**/
	__proto.find=function(start,end){
		return new Array([end.x,end.y,end.z]);
		var path=this._finder.findPath(start.x,start.z,end.x,end.z);
		return this.getYPos(this._meshTerrainSprite3D,path);
	}

	/*从高度图中获取y值坐标，从x,z的二维mat扩充三维坐标
	*
	*meshTerrainSprite3D 高度图对象
	*mat x，z二维坐标的数组，从寻路得到的
	**/
	__proto.getYPos=function(meshTerrainSprite3D,mat){
		var pos=[];
		var len=mat.length;
		var yPos=NaN;
		for (var i=0;i < len;i++){
			yPos=meshTerrainSprite3D.getHeight(mat[i][0],mat[i][1]);
			if (isNaN(yPos))continue ;
			pos.push([mat[i][0],yPos,mat[i][1]]);
		}
		return pos;
	}

	__proto.createGrid=function(){
		if (!this._aStarMap){console.log('没有astar图');return null;}
			return Grid.createGridFromAStarMap(this._aStarMap);
	}

	__proto.createMeshTerrainSprite3D=function(){
		if (!this._meshTerrainSprite3DMap)
		{console.log('没有meshTerrainSprite3D图');return null;};
		var meshTerrainSprite3D=MeshTerrainSprite3D.createFromMeshAndHeightMap(this._meshSprite3D.meshFilter.sharedMesh,this._meshTerrainSprite3DMap,this._heightMap.minHeight,this._heightMap.maxHeight);
		this._finder=meshTerrainSprite3D.addComponent(laya.d3.component.PathFind);
		this._finder.setting={allowDiagonal:true,dontCrossCorners:false,heuristic:Heuristic.manhattan,weight:1};
		meshTerrainSprite3D.transform.worldMatrix=this._meshSprite3D.transform.worldMatrix;
		return meshTerrainSprite3D;
	}

	__proto.canArrive=function(pos){
		if(!this._meshTerrainSprite3D){
			this._meshTerrainSprite3D=this.createMeshTerrainSprite3D();
		}
		if(!this._meshTerrainSprite3D || !this._meshTerrainSprite3D.loaded)return false;
		var yPos=this._meshTerrainSprite3D.getHeight(pos.x,pos.z);
		if (isNaN(yPos))return false;
		return true;
	}

	__getset(0,__proto,'meshTerrainSprite3D',function(){
		return this._meshTerrainSprite3D;
	});

	__getset(0,__proto,'data',function(){
		return this._data;
	});

	return Finder;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillWithSpcript.as=======97.999668/97.999668
/**
*技能基类
*@author wulongbin
*
*/
//class laya.game.client.skill.SkillWithSpcript extends laya.game.client.skill.Skill
var SkillWithSpcript=(function(_super){
	function SkillWithSpcript(){
		this.main=null;
		this.threads=new Array;
		SkillWithSpcript.__super.call(this);
		this['mainScriptEnd']=Utils.bind(this.mainScriptEnd,this);
		this['threadScriptEnd']=Utils.bind(this.threadScriptEnd,this);
	}

	__class(SkillWithSpcript,'laya.game.client.skill.SkillWithSpcript',_super);
	var __proto=SkillWithSpcript.prototype;
	__proto.doPlayerSkill=function(){
		if(this.skillData.skillScriptID){
			this.playScript(this.skillData.skillScriptID,GameSystem.skill.getScriptContext(this,this.caster),true);
		}
		else{
			throw 'skillScriptID is null! ';
		}
	}

	__proto.doCapture=function(target,from){
		if(this.skillData.hitScriptID){
			this.playScript(this.skillData.hitScriptID,GameSystem.skill.getScriptContext(this,target,from),false);
		}
	}

	/**
	*技能播放脚本
	*@param scriptID 脚本id
	*@param context 脚本上下文
	*@param isMainScript 是否是施法者脚本
	*
	*/
	__proto.playScript=function(scriptID,context,isMainScript){
		if(scriptID){
			var s=ScriptManager.instance.createScript(scriptID);
			s.isRecoveryContext=true;
			if(isMainScript){
				this.main=s;
				s.run(context,null,this.mainScriptEnd);
			}
			else{
				this.threads.push(s);
				s.run(context,null,this.threadScriptEnd);
			}
		}
		else{
			if(isMainScript){
				this.waitFree(Handler.create(this,this.destoryMe));
			}
		}
	}

	/**
	*子线程结束回调
	*/
	__proto.threadScriptEnd=function(s){
		var index=this.threads.indexOf(s);
		if(index>=0){
			this.threads.splice(index,1);
			s.recovery();
			this.scene.timer.callLater(this,this.onEventCheckFree);
		}
	}

	__proto.mainScriptEnd=function(s){
		this.scene.timer.callLater(this,this.destoryMe);
		this.caster.event('SkillPlayEnd');
	}

	/**
	*判断技能是否空闲
	*@return
	*
	*/
	__proto.checkIsFree=function(){
		return this.effects.length==0 && this.threads.length==0;
	}

	__proto.onDestruct=function(){
		this.main.stop();
		this.main.recovery();
		var len=this.threads.length;
		if(len>0){
			for(var i=0;i<len;i++){
				this.threads[i].stop();
				this.threads[i].recovery();
			}
			this.threads.length=0;
		}
		_super.prototype.onDestruct.call(this);
	}

	return SkillWithSpcript;
})(Skill)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillScriptContext.as=======97.999662/97.999662
/**
*技能脚本上下文
*@author wulongbin
*
*/
//class laya.game.client.skill.SkillScriptContext extends laya.game.client.skill.BaseScriptContext
var SkillScriptContext=(function(_super){
	function SkillScriptContext(){
		/**击中来源*/
		this.hitfrom=null;
		/**脚本技能来源*/
		this.skill=null;
		/**技能扩展数据*/
		this.extendData=null;
		SkillScriptContext.__super.call(this);
	}

	__class(SkillScriptContext,'laya.game.client.skill.SkillScriptContext',_super);
	var __proto=SkillScriptContext.prototype;
	__proto._onCreateObj=function(obj){
		this.skill.addGameObj(obj,false);
	}

	__proto.remove=function(obj){
		this.skill.removeGameObj(obj);
	}

	/**
	*创建技能碰撞器
	*@param type 类型
	*@param param 参数
	*@param time 寿命
	*@param maxhitNum 最大捕获数
	*
	*（context.target,'DistanceCollision',{range:context.extendData.caster_dist,distanceType:'xz'},500,1000);
	*/
	__proto.createSkillCollision=function(from,type,param,time,maxHitNum){
		(maxHitNum===void 0)&& (maxHitNum=1000000);
		return SkillManager.instance.createSkillCollision(this.skill,from,type,param,maxHitNum).life(time);
	}

	/**
	*从自身范围内搜索一个对象
	*@param self
	*@param distance 距离
	*@param type 距离计算类型
	*@return
	*
	*/
	__proto.searchByDistance=function(self,distance,type){
		var result=this.scene.groupManager.searchSkillGroup(self).filterByDistance(self.pos.value,distance,type);
		var obj;
		var arr=result.array;
		if(arr.length>0){
			obj=arr[MathUtils.randomInt(arr.length)];
		}
		result.recovery();
		return obj;
	}

	__proto.capture=function(t){
		this.skill.capture(t,this.target);
	}

	/**
	*等待空闲
	*@return
	*
	*/
	__proto.waitFree=function(wait){
		this.skill.waitFree(Handler.create(wait,wait.resolve));
	}

	/**
	*震动屏幕
	*@param param:震屏参数 1,2,3,4,5 (duration,cycleTime,offx,offy,offz)如果参数为-1 则不震动
	*1 duration 时长
	*2 cycleTime 震动周期数
	*3 offx
	*4 offy
	*5 offz
	*/
	__proto.shake=function(param){
		if(param==null || param=="" || param=="-1")return;
		var params=[200,0,0,0,0];
		var arr=SheetUtil$1.decode2ArrayInt(param);
		for (var i=0;i < arr.length;i++){
			params[i]=arr[i];
		};
		var handler=Handler.create(GameSystem.scene.camera,GameSystem.scene.camera.shake,params);
		handler.run();
	}

	return SkillScriptContext;
})(BaseScriptContext)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/Sprite3D.as=======97.999638/97.999638
/**
*<code>Sprite3D</code> 类用于实现3D精灵。
*/
//class laya.d3.core.Sprite3D extends laya.display.Node
var Sprite3D=(function(_super){
	function Sprite3D(name){
		/**@private */
		//this._id=0;
		/**@private */
		//this._url=null;
		/**@private */
		//this._group=null;
		/**@private */
		//this._layer=0;
		/**@private */
		//this._colliders=null;
		/**@private */
		//this._scripts=null;
		/**@private */
		//this._transform=null;
		/**@private */
		//this._hierarchyAnimator=null;
		/**是否静态,静态包含一系列的静态处理。*/
		//this.isStatic=false;
		//this.compoundShape=null;
		//this.physicsId=0;
		this._finishPhysicsConfiguration=false;
		/**@private */
		//this._loaded=false;
		Sprite3D.__super.call(this);
		this._id=++Sprite3D._uniqueIDCounter;
		this._transform=new Transform3D(this);
		this.name=name ? name :"Sprite3D-"+Sprite3D._nameNumberCounter++;
		this.layer=0;
		this._loaded=true;
	}

	__class(Sprite3D,'laya.d3.core.Sprite3D',_super);
	var __proto=Sprite3D.prototype;
	Laya.imps(__proto,{"laya.resource.ICreateResource":true,"laya.d3.core.IClone":true})
	/**
	*@private
	*/
	__proto._completeLoad=function(){
		this._loaded=true;
		this.event("hierarchyloaded",[this]);
	}

	/**
	*@private
	*/
	__proto._setLoaded=function(value){
		this._loaded=value;
	}

	/**
	*@private
	*/
	__proto._setUrl=function(url){
		this._url=url;
	}

	/**
	*@private
	*/
	__proto._getGroup=function(){
		return this._group;
	}

	/**
	*@private
	*/
	__proto._setGroup=function(value){
		this._group=value;
	}

	/**
	*@private
	*/
	__proto._changeAnimatorsToLinkSprite3D=function(sprite3D,isLink,path){
		var animator=this.getComponent(Animator);
		if (animator){
			if (!animator.avatar)
				sprite3D._changeAnimatorToLinkSprite3DNoAvatar(animator,isLink,path);
		}
		if (this._parent && (this._parent instanceof laya.d3.core.Sprite3D )){
			path.unshift(this._parent.name);
			var p=this._parent;
			(p._hierarchyAnimator)&& (p._changeAnimatorsToLinkSprite3D(sprite3D,isLink,path));
		}
	}

	/**
	*@private
	*/
	__proto._setHierarchyAnimator=function(animator,parentAnimator){
		this._changeHierarchyAnimator(animator);
		this._changeAnimatorAvatar(animator.avatar);
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			(child._hierarchyAnimator==parentAnimator)&& (child._setHierarchyAnimator(animator,parentAnimator));
		}
	}

	/**
	*@private
	*/
	__proto._clearHierarchyAnimator=function(animator,parentAnimator){
		this._changeHierarchyAnimator(parentAnimator);
		this._changeAnimatorAvatar(parentAnimator ? parentAnimator.avatar :null);
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			(child._hierarchyAnimator==animator)&& (child._clearHierarchyAnimator(animator,parentAnimator));
		}
	}

	/**
	*@private
	*/
	__proto._changeHierarchyAnimatorAvatar=function(animator,avatar){
		this._changeAnimatorAvatar(avatar);
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			(child._hierarchyAnimator==animator)&& (child._changeHierarchyAnimatorAvatar(animator,avatar));
		}
	}

	/**
	*@private
	*/
	__proto._changeAnimatorToLinkSprite3DNoAvatar=function(animator,isLink,path){
		animator._handleSpriteOwnersBySprite(isLink,path,this);
		for (var i=0,n=this._children.length;i < n;i++){
			var child=this._children[i];
			var index=path.length;
			path.push(child.name);
			child._changeAnimatorToLinkSprite3DNoAvatar(animator,isLink,path);
			path.splice(index,1);
		}
	}

	/**
	*@private
	*/
	__proto._changeHierarchyAnimator=function(animator){
		this._hierarchyAnimator=animator;
	}

	/**
	*@private
	*/
	__proto._changeAnimatorAvatar=function(avatar){}
	/**
	*@inheritDoc
	*/
	__proto._onAdded=function(){
		if ((this._parent instanceof laya.d3.core.Sprite3D )){
			this.transform.parent=this._parent.transform;
			if (this._parent._hierarchyAnimator){
				(!this._hierarchyAnimator)&& (this._setHierarchyAnimator(this._parent._hierarchyAnimator,null));
				this._parent._changeAnimatorsToLinkSprite3D(this,true,[this.name]);
			}
		}
		_super.prototype._onAdded.call(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onRemoved=function(){
		_super.prototype._onRemoved.call(this);
		var scene=this._scene;
		if (scene && scene._enablePhysics && this._finishPhysicsConfiguration && this.compoundShape){
			scene.physicsSystem.removePhysicsObject(this.physicsId);
		}
		if ((this._parent instanceof laya.d3.core.Sprite3D )){
			this.transform.parent=null;
			if (this._parent._hierarchyAnimator){
				(this._hierarchyAnimator==this._parent._hierarchyAnimator)&& (this._clearHierarchyAnimator(this._parent._hierarchyAnimator,null));
				this._parent._changeAnimatorsToLinkSprite3D(this,false,[this.name]);
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onActive=function(){
		if ((this.scene)._enablePhysics && !this._finishPhysicsConfiguration && this.compoundShape){
			this.setPhysicsConfiguration();
		}
	}

	__proto.setPhysicsConfiguration=function(){
		if ((this.scene)._enablePhysics){
			var curScene=this.scene;
			var physicsSystem=curScene.physicsSystem;
			var physicsData=new PhysicsData();
			var rigidBody=this.getComponent(Rigidbody);
			if (rigidBody){
				if (rigidBody.isKinematic){
					physicsData.mass=0;
					}else {
					physicsData.mass=rigidBody.mass;
				}
				physicsData.friction=rigidBody.friction;
				physicsData.restitution=rigidBody.restitution;
				}else {
				physicsData.mass=0;
			}
			physicsSystem.addPhysicsObject(this.compoundShape,physicsData,this.transform.position,this.transform.rotation);
			this.physicsId=physicsData._physicsId;
			physicsSystem._sprite3Ds[this.physicsId]=this;
			this._finishPhysicsConfiguration=true;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		var loccalPosition=this.transform.localPosition;
		loccalPosition.fromArray(data.translate);
		this.transform.localPosition=loccalPosition;
		var localRotation=this.transform.localRotation;
		localRotation.fromArray(data.rotation);
		this.transform.localRotation=localRotation;
		var localScale=this.transform.localScale;
		localScale.fromArray(data.scale);
		this.transform.localScale=localScale;
		var layerData=data.layer;
		(layerData !=null)&& (this.layer=layerData);
	}

	/**
	*加载层级文件，并作为该节点的子节点。
	*@param url
	*/
	__proto.loadHierarchy=function(url){
		this.addChild(laya.d3.core.Sprite3D.load(url));
	}

	/**
	*@private
	*/
	__proto._onAsynLoaded=function(data,params){
		var json=data[0];
		if (json.type!=="Sprite3D")
			throw new Error("Sprite3D: The .lh file root type must be Sprite3D,please use other function to  load  this file.");
		var innerResouMap=data[1];
		var outBatchSprits=[];
		Utils3D._createNodeByJson(this,json,this,innerResouMap,outBatchSprits);
		StaticBatchManager.combine(null,outBatchSprits);
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		if (this.destroyed)
			throw new Error("Sprite3D: Can't be cloned if the Sprite3D has destroyed.");
		var destSprite3D=destObject;
		for (var i=0,n=this._children.length;i < n;i++)
		destSprite3D.addChild(this._children[i].clone());
		destSprite3D.name=this.name;
		destSprite3D.destroyed=this.destroyed;
		destSprite3D.active=this._active;
		var destLocalPosition=destSprite3D.transform.localPosition;
		this.transform.localPosition.cloneTo(destLocalPosition);
		destSprite3D.transform.localPosition=destLocalPosition;
		var destLocalRotation=destSprite3D.transform.localRotation;
		this.transform.localRotation.cloneTo(destLocalRotation);
		destSprite3D.transform.localRotation=destLocalRotation;
		var destLocalScale=destSprite3D.transform.localScale;
		this.transform.localScale.cloneTo(destLocalScale);
		destSprite3D.transform.localScale=destLocalScale;
		destSprite3D.isStatic=this.isStatic;
		this._cloneTo(destSprite3D);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var destSprite3D=new this.constructor();
		this.cloneTo(destSprite3D);
		return destSprite3D;
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._transform=null;
		this._colliders=null;
		Loader.clearRes(this.url);
		(this.loaded)|| (Laya3D._cancelLoadByUrl(this.url));
	}

	/**
	*获取唯一标识ID。
	*@return 唯一标识ID。
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*获取是否已加载完成。
	*/
	__getset(0,__proto,'loaded',function(){
		return this._loaded;
	});

	/**
	*获取资源的URL地址。
	*@return URL地址。
	*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**
	*设置蒙版。
	*@param value 蒙版。
	*/
	/**
	*获取蒙版。
	*@return 蒙版。
	*/
	__getset(0,__proto,'layer',function(){
		return this._layer;
		},function(value){
		if (this._layer!==value){
			if (value >=0 && value <=30){
				if (this._activeInHierarchy){
					var i=0,n=this._colliders.length;
					if (this._layer){
						for (i=0;i < n;i++)
						Layer.getLayerByNumbe(this._layer)._removeCollider(this._colliders[i]);
					}
					for (i=0;i < n;i++)
					Layer.getLayerByNumbe(value)._addCollider(this._colliders[i]);
				}
				this._layer=value;
				}else {
				throw new Error("Layer value must be 0-30.");
			}
		}
	});

	/**
	*获取精灵变换。
	*/
	__getset(0,__proto,'transform',function(){
		return this._transform;
	});

	Sprite3D.instantiate=function(original,parent,worldPositionStays,position,rotation){
		(worldPositionStays===void 0)&& (worldPositionStays=true);
		var destSprite3D=original.clone();
		(parent)&& (parent.addChild(destSprite3D));
		var transform=destSprite3D.transform;
		if (worldPositionStays){
			var worldMatrix=transform.worldMatrix;
			original.transform.worldMatrix.cloneTo(worldMatrix);
			transform.worldMatrix=worldMatrix;
			}else {
			(position)&& (transform.position=position);
			(rotation)&& (transform.rotation=rotation);
		}
		return destSprite3D;
	}

	Sprite3D.load=function(url){
		return Laya.loader.create(url,null,null,Sprite3D);
	}

	Sprite3D.WORLDMATRIX=0;
	Sprite3D.MVPMATRIX=1;
	Sprite3D._uniqueIDCounter=0;
	Sprite3D._nameNumberCounter=0;
	return Sprite3D;
})(Node)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/Camera3D.as=======97.999629/97.999629
//class laya.game.client.plugins.scene.Camera3D extends laya.libs.plugin.Plugin
var Camera3D=(function(_super){
	function Camera3D(){
		this.scene=null;
		this._camera=null;
		//=new Camera(0,0.1,1000);
		this._target=null;
		this.offset=null;
		this.clearColor=null;
		this._isBindLocalCoord=false;
		this._shake=null;
		Camera3D.__super.call(this);
		this._cameraOffset=new Vector3();
		this._clearColor=new Vector4();
		this.cameraPosition=new Vector3();
		this._shakeOff=new Vector3;
		this._shakeCurOff=new Vector3;
		this['updateShake']=Utils.bind(this.updateShake,this);
		this['shakeComplete']=Utils.bind(this.shakeComplete,this);
	}

	__class(Camera3D,'laya.game.client.plugins.scene.Camera3D',_super);
	var __proto=Camera3D.prototype;
	Laya.imps(__proto,{"laya.game.client.scene.ICamera":true})
	__proto.onDestruct=function(){
		this._camera=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.resetProperty=function(){
		this._bindProperty='camera';
	}

	/**onwer 初始化完成后回调*/
	__proto.onInit=function(){
		this.scene=this.owner;
		this._camera=(this.scene.node).getChildByName("Camera");
	}

	/**
	*绑对目标
	*@param c 绑定对象
	*@param cameraOffset
	*@param isBindLocalCoord 是否绑定局部坐标，如果为true,摄像机将始终跟随绑定对象的视角
	*/
	__proto.bindTarget=function(c,cameraOffset,isBindLocalCoord){
		(isBindLocalCoord===void 0)&& (isBindLocalCoord=false);
		this._target=c;
		if(cameraOffset){
			cameraOffset.cloneTo(this._cameraOffset);
		}
		this._isBindLocalCoord=isBindLocalCoord;
	}

	// _camera.transform.lookAt(_target.pos.value,Vector3.Up,false);
	__proto.lookAt=function(p,up){
		this._camera.transform.lookAt(p,up||Vector3.Up,false);
	}

	__proto.onLoop=function(){
		if(!this._target)return;
		if(this._isBindLocalCoord){
			this._target.localToGlobal(this._cameraOffset,this.cameraPosition);
		}
		else{
			this._target.pos.value.cloneTo(this.cameraPosition);
			Vector3.add(this.cameraPosition,this._cameraOffset,this.cameraPosition);
		}
		if(this._shake){
			Vector3.add(this.cameraPosition,this._shakeCurOff,this.cameraPosition);
		}
		this._camera.transform.position=this.cameraPosition;
	}

	__proto.globalToScreen=function(from,to){
		this._camera.viewport.project(from,this._camera.projectionViewMatrix,to);
	}

	/**
	*根据 轴向 震动
	*@param amplitude
	*@param duration
	*@param cycleTime
	*@param type
	*
	*/
	__proto.shakeByType=function(amplitude,duration,cycleTime,type){
		if(this._shake)return;
		if(type=='x'){
			this.shake(duration,cycleTime,amplitude,0,0);
		}
		else if(type=='y'){
			this.shake(duration,cycleTime,0,amplitude,0);
		}
		else{
			this.shake(duration,cycleTime,0,0,amplitude);
		}
	}

	/**
	*根据偏移向量 震动
	*@param duration
	*@param cycleTime
	*@param offx
	*@param offy
	*@param offz
	*
	*/
	__proto.shake=function(duration,cycleTime,offx,offy,offz){
		(offz===void 0)&& (offz=0);
		if(this._shake)return;
		this._shakeOff.x=offx;
		this._shakeOff.y=offy;
		this._shakeOff.z=offz;
		this._shakeCurOff.toDefault();
		this._shake=Shake.shake(1,duration,cycleTime);
		this._shake.update=this.updateShake.bind(this);
		this._shake.complete=this.shakeComplete.bind(this);
	}

	__proto.updateShake=function(s){
		var a=s.off;
		this._shakeCurOff.x=this._shakeOff.x*a;
		this._shakeCurOff.y=this._shakeOff.y*a;
		this._shakeCurOff.z=this._shakeOff.z*a;
	}

	__proto.shakeComplete=function(){
		this._shake=null;
	}

	__getset(0,__proto,'cameraOffset',function(){
		return this._cameraOffset;
	});

	__getset(0,__proto,'camera',function(){
		return this._camera;
	});

	return Camera3D;
})(Plugin)


	//file:///H:/work/sniper/sniper/client/src/room/LocalRoom.as=======97.999433/97.999433
//class room.LocalRoom extends room.SniperRoom
var LocalRoom=(function(_super){
	function LocalRoom(){
		LocalRoom.__super.call(this);;
	}

	__class(LocalRoom,'room.LocalRoom',_super);
	var __proto=LocalRoom.prototype;
	/**
	*初始化场景内的NPC
	*/
	__proto.onMain=function(){
		_super.prototype.onMain.call(this);
	}

	__proto.onGameStart=function(){
		var npc=new MemberMsg();
		npc.nickName="npc";
		npc.userid=1;
		npc.status=1;
		npc.headUrl="";
		npc.defineId=1001;
		npc.group=11;
		var members=this.roomMsg.members;
		members.push(npc);
		var i=0;
		var len=members.length;
		var curOPSprite;
		members[0].defineId=1000;
		members[0].group=12;
		for(;i<len;i++){
			this.allOPSprite[i]=curOPSprite=new TestOPSprite(members[i]);
			if(members[i].userid==FSGame.userID){
				this.selfOPSprite=curOPSprite;
			}
			FSGame.fsm.addSprite(curOPSprite);
		}
		PageManager.I().vs.dispo();
	}

	return LocalRoom;
})(SniperRoom)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/AnimationTemplet.as=======97.999426/97.999426
/**
*<code>AnimationTemplet</code> 类用于动画模板资源。
*/
//class laya.ani.AnimationTemplet extends laya.resource.Resource
var AnimationTemplet=(function(_super){
	function AnimationTemplet(){
		/**@private */
		//this._aniVersion=null;
		/**@private */
		this._aniMap={};
		/**@private */
		//this._publicExtData=null;
		/**@private */
		//this._useParent=false;
		/**@private */
		//this.unfixedCurrentFrameIndexes=null;
		/**@private */
		//this.unfixedCurrentTimes=null;
		/**@private */
		//this.unfixedKeyframes=null;
		/**@private */
		this.unfixedLastAniIndex=-1;
		/**@private */
		//this._aniClassName=null;
		/**@private */
		//this._animationDatasCache=null;
		AnimationTemplet.__super.call(this);
		this._anis=new Array;
	}

	__class(AnimationTemplet,'laya.ani.AnimationTemplet',_super);
	var __proto=AnimationTemplet.prototype;
	/**
	*@private
	*/
	__proto.parse=function(data){
		var reader=new Byte(data);
		this._aniVersion=reader.readUTFString();
		AnimationParser01.parse(this,reader);
	}

	/**
	*@private
	*/
	__proto._calculateKeyFrame=function(node,keyframeCount,keyframeDataCount){
		var keyFrames=node.keyFrame;
		keyFrames[keyframeCount]=keyFrames[0];
		for (var i=0;i < keyframeCount;i++){
			var keyFrame=keyFrames[i];
			for (var j=0;j < keyframeDataCount;j++){
				keyFrame.dData[j]=(keyFrame.duration===0)? 0 :(keyFrames[i+1].data[j]-keyFrame.data[j])/ keyFrame.duration;
				keyFrame.nextData[j]=keyFrames[i+1].data[j];
			}
		}
		keyFrames.length--;
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		var reader=new Byte(data);
		this._aniVersion=reader.readUTFString();
		switch (this._aniVersion){
			case "LAYAANIMATION:02":
				AnimationParser02.parse(this,reader);
				break ;
			default :
				AnimationParser01.parse(this,reader);
			}
	}

	__proto.getAnimationCount=function(){
		return this._anis.length;
	}

	__proto.getAnimation=function(aniIndex){
		return this._anis[aniIndex];
	}

	__proto.getAniDuration=function(aniIndex){
		return this._anis[aniIndex].playTime;
	}

	__proto.getNodes=function(aniIndex){
		return this._anis[aniIndex].nodes;
	}

	__proto.getNodeIndexWithName=function(aniIndex,name){
		return this._anis[aniIndex].bone3DMap[name];
	}

	__proto.getNodeCount=function(aniIndex){
		return this._anis[aniIndex].nodes.length;
	}

	__proto.getTotalkeyframesLength=function(aniIndex){
		return this._anis[aniIndex].totalKeyframeDatasLength;
	}

	__proto.getPublicExtData=function(){
		return this._publicExtData;
	}

	__proto.getAnimationDataWithCache=function(key,cacheDatas,aniIndex,frameIndex){
		var aniDatas=cacheDatas[aniIndex];
		if (!aniDatas){
			return null;
			}else {
			var keyDatas=aniDatas[key];
			if (!keyDatas)
				return null;
			else {
				return keyDatas[frameIndex];
			}
		}
	}

	__proto.setAnimationDataWithCache=function(key,cacheDatas,aniIndex,frameIndex,data){
		var aniDatas=(cacheDatas[aniIndex])|| (cacheDatas[aniIndex]={});
		var aniDatasCache=(aniDatas[key])|| (aniDatas[key]=[]);
		aniDatasCache[frameIndex]=data;
	}

	__proto.getOriginalData=function(aniIndex,originalData,nodesFrameIndices,frameIndex,playCurTime){
		var oneAni=this._anis[aniIndex];
		var nodes=oneAni.nodes;
		var j=0;
		for (var i=0,n=nodes.length,outOfs=0;i < n;i++){
			var node=nodes[i];
			var key;
			key=node.keyFrame[nodesFrameIndices[i][frameIndex]];
			node.dataOffset=outOfs;
			var dt=playCurTime-key.startTime;
			var lerpType=node.lerpType;
			if (lerpType){
				switch (lerpType){
					case 0:
					case 1:
						for (j=0;j < node.keyframeWidth;)
						j+=node.interpolationMethod[j](node,j,originalData,outOfs+j,key.data,dt,key.dData,key.duration,key.nextData);
						break ;
					case 2:;
						var interpolationData=key.interpolationData;
						var interDataLen=interpolationData.length;
						var dataIndex=0;
						for (j=0;j < interDataLen;){
							var type=interpolationData[j];
						switch (type){
							case 6:
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData,interpolationData,j+1);
								break ;
							case 7:
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData,interpolationData,j+1);
								break ;
							default :
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData);
							}
						dataIndex++;
					}
					break ;
				}
				}else {
				for (j=0;j < node.keyframeWidth;)
				j+=node.interpolationMethod[j](node,j,originalData,outOfs+j,key.data,dt,key.dData,key.duration,key.nextData);
			}
			outOfs+=node.keyframeWidth;
		}
	}

	__proto.getNodesCurrentFrameIndex=function(aniIndex,playCurTime){
		var ani=this._anis[aniIndex];
		var nodes=ani.nodes;
		if (aniIndex!==this.unfixedLastAniIndex){
			this.unfixedCurrentFrameIndexes=new Uint32Array(nodes.length);
			this.unfixedCurrentTimes=new Float32Array(nodes.length);
			this.unfixedLastAniIndex=aniIndex;
		}
		for (var i=0,n=nodes.length,outOfs=0;i < n;i++){
			var node=nodes[i];
			if (playCurTime < this.unfixedCurrentTimes[i])
				this.unfixedCurrentFrameIndexes[i]=0;
			this.unfixedCurrentTimes[i]=playCurTime;
			while ((this.unfixedCurrentFrameIndexes[i] < node.keyFrame.length)){
				if (node.keyFrame[this.unfixedCurrentFrameIndexes[i]].startTime > this.unfixedCurrentTimes[i])
					break ;
				this.unfixedCurrentFrameIndexes[i]++;
			}
			this.unfixedCurrentFrameIndexes[i]--;
		}
		return this.unfixedCurrentFrameIndexes;
	}

	__proto.getOriginalDataUnfixedRate=function(aniIndex,originalData,playCurTime){
		var oneAni=this._anis[aniIndex];
		var nodes=oneAni.nodes;
		if (aniIndex!==this.unfixedLastAniIndex){
			this.unfixedCurrentFrameIndexes=new Uint32Array(nodes.length);
			this.unfixedCurrentTimes=new Float32Array(nodes.length);
			this.unfixedKeyframes=__newvec(nodes.length);
			this.unfixedLastAniIndex=aniIndex;
		};
		var j=0;
		for (var i=0,n=nodes.length,outOfs=0;i < n;i++){
			var node=nodes[i];
			if (playCurTime < this.unfixedCurrentTimes[i])
				this.unfixedCurrentFrameIndexes[i]=0;
			this.unfixedCurrentTimes[i]=playCurTime;
			while (this.unfixedCurrentFrameIndexes[i] < node.keyFrame.length){
				if (node.keyFrame[this.unfixedCurrentFrameIndexes[i]].startTime > this.unfixedCurrentTimes[i])
					break ;
				this.unfixedKeyframes[i]=node.keyFrame[this.unfixedCurrentFrameIndexes[i]];
				this.unfixedCurrentFrameIndexes[i]++;
			};
			var key=this.unfixedKeyframes[i];
			node.dataOffset=outOfs;
			var dt=playCurTime-key.startTime;
			var lerpType=node.lerpType;
			if (lerpType){
				switch (node.lerpType){
					case 0:
					case 1:
						for (j=0;j < node.keyframeWidth;)
						j+=node.interpolationMethod[j](node,j,originalData,outOfs+j,key.data,dt,key.dData,key.duration,key.nextData);
						break ;
					case 2:;
						var interpolationData=key.interpolationData;
						var interDataLen=interpolationData.length;
						var dataIndex=0;
						for (j=0;j < interDataLen;){
							var type=interpolationData[j];
						switch (type){
							case 6:
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData,interpolationData,j+1);
								break ;
							case 7:
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData,interpolationData,j+1);
								break ;
							default :
								j+=AnimationTemplet.interpolation[type](node,dataIndex,originalData,outOfs+dataIndex,key.data,dt,key.dData,key.duration,key.nextData);
							}
						dataIndex++;
					}
					break ;
				}
				}else {
				for (j=0;j < node.keyframeWidth;)
				j+=node.interpolationMethod[j](node,j,originalData,outOfs+j,key.data,dt,key.dData,key.duration,key.nextData);
			}
			outOfs+=node.keyframeWidth;
		}
	}

	AnimationTemplet._LinearInterpolation_0=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		out[outOfs]=data[index]+dt *dData[index];
		return 1;
	}

	AnimationTemplet._QuaternionInterpolation_1=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		var amount=duration===0 ? 0 :dt / duration;
		MathUtil.slerpQuaternionArray(data,index,nextData,index,amount,out,outOfs);
		return 4;
	}

	AnimationTemplet._AngleInterpolation_2=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		return 0;
	}

	AnimationTemplet._RadiansInterpolation_3=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		return 0;
	}

	AnimationTemplet._Matrix4x4Interpolation_4=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		for (var i=0;i < 16;i++,index++)
		out[outOfs+i]=data[index]+dt *dData[index];
		return 16;
	}

	AnimationTemplet._NoInterpolation_5=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData){
		out[outOfs]=data[index];
		return 1;
	}

	AnimationTemplet._BezierInterpolation_6=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData,offset){
		(offset===void 0)&& (offset=0);
		out[outOfs]=data[index]+(nextData[index]-data[index])*BezierLerp.getBezierRate(dt / duration,interData[offset],interData[offset+1],interData[offset+2],interData[offset+3]);
		return 5;
	}

	AnimationTemplet._BezierInterpolation_7=function(bone,index,out,outOfs,data,dt,dData,duration,nextData,interData,offset){
		(offset===void 0)&& (offset=0);
		out[outOfs]=interData[offset+4]+interData[offset+5] *BezierLerp.getBezierRate((dt *0.001+interData[offset+6])/ interData[offset+7],interData[offset],interData[offset+1],interData[offset+2],interData[offset+3]);
		return 9;
	}

	AnimationTemplet.load=function(url){
		return Laya.loader.create(url,null,null,AnimationTemplet);
	}

	AnimationTemplet.interpolation=[AnimationTemplet._LinearInterpolation_0,AnimationTemplet._QuaternionInterpolation_1,AnimationTemplet._AngleInterpolation_2,AnimationTemplet._RadiansInterpolation_3,AnimationTemplet._Matrix4x4Interpolation_4,AnimationTemplet._NoInterpolation_5,AnimationTemplet._BezierInterpolation_6,AnimationTemplet._BezierInterpolation_7];
	return AnimationTemplet;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/animation/AnimationClip.as=======97.999389/97.999389
/**
*<code>AnimationClip</code> 类用于动画片段资源。
*/
//class laya.d3.animation.AnimationClip extends laya.resource.Resource
var AnimationClip=(function(_super){
	function AnimationClip(){
		/**@private */
		this._realTimeCurrentFrameIndexes=null;
		/**@private */
		this._realTimeCurrentTimes=null;
		/**@private */
		this._fullKeyframeIndicesCache=null;
		/**@private */
		this._animationDatasCache=null;
		/**@private */
		this._skinnedDatasCache=null;
		/**@private */
		this._version=null;
		/**@private */
		this._duration=NaN;
		/**@private */
		this._frameRate=0;
		/**@private */
		this._nodes=null;
		/**@private */
		this._nodesDic=null;
		/**@private */
		this._nodesMap=null;
		/**@private */
		this._events=null;
		/**@private */
		this._publicClipDatas=null;
		/**是否循环。*/
		this.islooping=false;
		AnimationClip.__super.call(this);
		this._fullKeyframeIndicesCache={};
		this._animationDatasCache=[];
		this._skinnedDatasCache=[];
		this._events=[];
	}

	__class(AnimationClip,'laya.d3.animation.AnimationClip',_super);
	var __proto=AnimationClip.prototype;
	/**
	*获取动画片段时长。
	*/
	__proto.duration=function(){
		return this._duration;
	}

	/**
	*@private
	*/
	__proto._hermiteInterpolate=function(frame,t,dur,out){
		var p0=frame.data;
		var tan0=frame.outTangent;
		var nextFrame=frame.next;
		var p1=nextFrame.data;
		var tan1=nextFrame.inTangent;
		var isComputeParams=false;
		var a=NaN,b=NaN,c=NaN,d=NaN;
		for (var i=0,n=out.length;i < n;i++){
			var t0=tan0[i],t1=tan1[i];
			if (Number.isFinite(t0)&& Number.isFinite(t1)){
				if (!isComputeParams){
					var t2=t *t;
					var t3=t2 *t;
					a=2.0 *t3-3.0 *t2+1.0;
					b=t3-2.0 *t2+t;
					c=t3-t2;
					d=-2.0 *t3+3.0 *t2;
					isComputeParams=true;
				}
				out[i]=a *p0[i]+b *t0 *dur+c *t1 *dur+d *p1[i];
			}else
			out[i]=p0[i];
		}
	}

	/**
	*@private
	*/
	__proto._getFullKeyframeIndicesWithCache=function(cacheInterval){
		return this._fullKeyframeIndicesCache[cacheInterval];
	}

	/**
	*@private
	*/
	__proto._cacheFullKeyframeIndices=function(cacheInterval,datas){
		this._fullKeyframeIndicesCache[cacheInterval]=datas;
	}

	/**
	*@private
	*/
	__proto._getAnimationDataWithCache=function(cacheRate,frameIndex){
		var cacheDatas=this._animationDatasCache[cacheRate];
		if (!cacheDatas)
			return null;
		else {
			return cacheDatas[frameIndex];
		}
	}

	/**
	*@private
	*/
	__proto._cacheAnimationData=function(cacheRate,frameIndex,datas){
		var aniDatasCache=(this._animationDatasCache[cacheRate])|| (this._animationDatasCache[cacheRate]=[]);
		aniDatasCache[frameIndex]=datas;
	}

	/**
	*@private
	*/
	__proto._evaluateAnimationlDatasCacheMode=function(nodesFrameIndices,stateInfo,clipDatas,playStateInfo){
		var j=0,m=0;
		for (var i=0,n=this._nodes.length;i < n;i++){
			var nodeIndex=i;
			var node=this._nodes[nodeIndex];
			var frameIndices=nodesFrameIndices[nodeIndex];
			var realFrameIndex=frameIndices[playStateInfo._frameIndex];
			var outDatas;
			var lastFrameIndex=0;
			if (realFrameIndex!==-1){
				var frame=node.keyFrames[realFrameIndex];
				var nextKeyFrame=frame.next;
				if (nextKeyFrame){
					outDatas=new Float32Array(node.keyFrameWidth);
					clipDatas[i]=outDatas;
					var t=NaN;
					var d=frame.duration;
					if (d!==0)
						t=(playStateInfo._frameTime-frame.startTime)/ d;
					else
					t=0;
					this._hermiteInterpolate(frame,t,d,outDatas);
					}else {
					outDatas=new Float32Array(node.keyFrameWidth);
					clipDatas[i]=outDatas;
					var frameData=frame.data;
					for (j=0,m=outDatas.length;j < m;j++)
					outDatas[j]=frameData[j];
				}
				}else {
				outDatas=new Float32Array(node.keyFrameWidth);
				clipDatas[i]=outDatas;
				var firstFrameDatas=node.keyFrames[0].data;
				for (j=0,m=outDatas.length;j < m;j++)
				outDatas[j]=firstFrameDatas[j];
			}
		}
	}

	/**
	*@private
	*/
	__proto._evaluateAnimationlDatasRealTime=function(playCurTime,clipDatas,avatar){
		var i=0,n=0;
		var nodes=this._nodes;
		if (!this._realTimeCurrentFrameIndexes){
			this._realTimeCurrentFrameIndexes=new Int32Array(nodes.length);
			for (i=0,n=nodes.length;i < n;i++)
			this._realTimeCurrentFrameIndexes[i]=-1;
			this._realTimeCurrentTimes=new Float32Array(nodes.length);
		}
		for (i=0,n=this._nodes.length;i < n;i++){
			var index=i;
			var node=nodes[index];
			if (playCurTime < this._realTimeCurrentTimes[index])
				this._realTimeCurrentFrameIndexes[index]=-1;
			this._realTimeCurrentTimes[index]=playCurTime;
			var nextFrameIndex=this._realTimeCurrentFrameIndexes[index]+1;
			var keyFrames=node.keyFrames;
			var keyFramesCount=keyFrames.length;
			while (nextFrameIndex < keyFramesCount){
				if (keyFrames[nextFrameIndex].startTime > playCurTime){
					this._realTimeCurrentFrameIndexes[index]=nextFrameIndex-1;
					break ;
				}
				nextFrameIndex++;
			}
			(nextFrameIndex===keyFramesCount)&& (this._realTimeCurrentFrameIndexes[index]=keyFramesCount-1);
			var j=0,m=0;
			var outDatas=clipDatas[index];
			(outDatas)|| (outDatas=clipDatas[index]=new Float32Array(node.keyFrameWidth));
			var frame=keyFrames[this._realTimeCurrentFrameIndexes[index]];
			if (frame){
				var nextFarme=frame.next;
				if (nextFarme){
					var d=frame.duration;
					var t=NaN;
					if (d!==0)
						t=(playCurTime-frame.startTime)/ d;
					else
					t=0;
					this._hermiteInterpolate(frame,t,d,outDatas);
					}else {
					var frameData=frame.data;
					for (j=0,m=outDatas.length;j < m;j++)
					outDatas[j]=frameData[j];
				}
				}else {
				var firstFrameDatas=node.keyFrames[0].data;
				for (j=0,m=outDatas.length;j < m;j++)
				outDatas[j]=firstFrameDatas[j];
			}
		}
	}

	/**
	*@private
	*/
	__proto._binarySearchEventIndex=function(time){
		var start=0;
		var end=this._events.length-1;
		var mid=0;
		while (start <=end){
			mid=Math.floor((start+end)/ 2);
			var midValue=this._events[mid].time;
			if (midValue==time)
				return mid;
			else if (midValue > time)
			end=mid-1;
			else
			start=mid+1;
		}
		return start;
	}

	/**
	*添加动画事件。
	*/
	__proto.addEvent=function(event){
		var index=this._binarySearchEventIndex(event.time);
		this._events.splice(index,0,event);
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		var reader=new Byte(data);
		this._version=reader.readUTFString();
		switch (this._version){
			case "LAYAANIMATION:01":
				AnimationClipParser01.parse(this,reader);
				break ;
			case "LAYAANIMATION:02":
				AnimationClipParser02.parse(this,reader);
				break ;
			}
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		this._realTimeCurrentFrameIndexes=null;
		this._realTimeCurrentTimes=null;
		this._fullKeyframeIndicesCache=null;
		this._animationDatasCache=null;
		this._skinnedDatasCache=null;
		this._version=null;
		this._nodes=null;
		this._nodesMap=null;
		this._publicClipDatas=null;
	}

	AnimationClip.load=function(url){
		return Laya.loader.create(url,null,null,AnimationClip);
	}

	return AnimationClip;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/Avatar.as=======97.999365/97.999365
/**
*<code>Avatar</code> 类用于创建Avatar。
*/
//class laya.d3.core.Avatar extends laya.resource.Resource
var Avatar=(function(_super){
	function Avatar(){
		/**@private */
		this._rootNode=null;
		/**@private [NATIVE]*/
		this._nativeNodeCount=0;
		/**@private [NATIVE]*/
		this._nativeCurCloneCount=0;
		Avatar.__super.call(this);
	}

	__class(Avatar,'laya.d3.core.Avatar',_super);
	var __proto=Avatar.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*@private
	*/
	__proto._initCloneToAnimator=function(destNode,destAnimator){
		destAnimator._avatarNodeMap[destNode.name]=destNode;
		for (var i=0,n=destNode.getChildCount();i < n;i++)
		this._initCloneToAnimator(destNode.getChildByIndex(i),destAnimator);
	}

	/**
	*@private
	*/
	__proto._parseNode=function(nodaData,node){
		var name=nodaData.props.name;
		node.name=name;
		var customProps=nodaData.customProps;
		var posData=customProps.translate;
		var rotData=customProps.rotation;
		var scaData=customProps.scale;
		var transform=node.transform;
		var pos=transform.getLocalPosition();
		var rot=transform.getLocalRotation();
		var sca=transform.getLocalScale();
		for (var i=0;i < 3;i++)
		pos[i]=posData[i];
		for (i=0;i < 4;i++)
		rot[i]=rotData[i];
		for (i=0;i < 3;i++)
		sca[i]=scaData[i];
		transform.setLocalPosition(pos,false,1.0);
		transform.setLocalRotation(rot,false,1.0);
		transform.setLocalScale(sca,false,1.0);
		var childrenData=nodaData.child;
		for (var j=0,n=childrenData.length;j < n;j++){
			var childData=childrenData[j];
			var childBone=new AnimationNode(new Float32Array(3),new Float32Array(4),new Float32Array(3),new Float32Array(16));
			node.addChild(childBone);
			if (Render.isConchApp)
				this._nativeNodeCount++;
			this._parseNode(childData,childBone);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		this._rootNode=new AnimationNode(new Float32Array(3),new Float32Array(4),new Float32Array(3),new Float32Array(16));
		if (Render.isConchApp)
			this._nativeNodeCount++;
		if (data.version){
			var rootNode=data.rootNode;
			(rootNode)&& (this._parseNode(rootNode,this._rootNode));
			}else {
			this._parseNode(data,this._rootNode);
		}
	}

	/**
	*克隆数据到Avatr。
	*@param destObject 克隆源。
	*/
	__proto._cloneDatasToAnimator=function(destAnimator){
		var destRoot;
		destRoot=this._rootNode.clone();
		destRoot.transform.setLocalPosition(this._rootNode.transform.getLocalPosition(),false,1.0);
		destRoot.transform.setLocalRotation(this._rootNode.transform.getLocalRotation(),false,1.0);
		destRoot.transform.setLocalScale(this._rootNode.transform.getLocalScale(),false,1.0);
		destAnimator._avatarNodeMap={};
		this._initCloneToAnimator(destRoot,destAnimator);
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destAvatar=destObject;
		var destRoot=this._rootNode.clone();
		destAvatar._rootNode=destRoot;
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*@private [NATIVE]
	*/
	__proto._cloneDatasToAnimatorNative=function(destAnimator){
		var animationNodeLocalPositions=new Float32Array(this._nativeNodeCount *3);
		var animationNodeLocalRotations=new Float32Array(this._nativeNodeCount *4);
		var animationNodeLocalScales=new Float32Array(this._nativeNodeCount *3);
		var animationNodeWorldMatrixs=new Float32Array(this._nativeNodeCount *16);
		var animationNodeParentIndices=new Int16Array(this._nativeNodeCount);
		destAnimator._animationNodeLocalPositions=animationNodeLocalPositions;
		destAnimator._animationNodeLocalRotations=animationNodeLocalRotations;
		destAnimator._animationNodeLocalScales=animationNodeLocalScales;
		destAnimator._animationNodeWorldMatrixs=animationNodeWorldMatrixs;
		destAnimator._animationNodeParentIndices=animationNodeParentIndices;
		this._nativeCurCloneCount=0;
		var destRoot=this._rootNode._cloneNative(animationNodeLocalPositions,animationNodeLocalRotations,animationNodeLocalScales,animationNodeWorldMatrixs,animationNodeParentIndices,-1,this);
		destRoot.transform.setLocalPosition(this._rootNode.transform.getLocalPosition(),false,1.0);
		destRoot.transform.setLocalRotation(this._rootNode.transform.getLocalRotation(),false,1.0);
		destRoot.transform.setLocalScale(this._rootNode.transform.getLocalScale(),false,1.0);
		destAnimator._avatarNodeMap={};
		this._initCloneToAnimator(destRoot,destAnimator);
	}

	Avatar.load=function(url){
		return Laya.loader.create(url,null,null,Avatar);
	}

	return Avatar;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/BaseMaterial.as=======97.999353/97.999353
/**
*<code>BaseMaterial</code> 类用于创建材质,抽象类,不允许实例。
*/
//class laya.d3.core.material.BaseMaterial extends laya.resource.Resource
var BaseMaterial=(function(_super){
	function BaseMaterial(dataSize){
		/**@private */
		//this._alphaTest=false;
		/**@private */
		//this._renderStates=null;
		/**@private */
		//this._defineDatas=null;
		/**@private */
		//this._disablePublicDefineDatas=null;
		/**@private */
		//this._shader=null;
		/**@private */
		//this._shaderValues=null;
		/**所属渲染队列. */
		//this.renderQueue=0;
		BaseMaterial.__super.call(this,dataSize);
		this._defineDatas=new DefineDatas();
		this._disablePublicDefineDatas=new DefineDatas();
		this._shaderValues=new ShaderDatas(this,dataSize);
		this.renderQueue=2000;
		this._alphaTest=false;
		this._renderStates=[];
	}

	__class(BaseMaterial,'laya.d3.core.material.BaseMaterial',_super);
	var __proto=BaseMaterial.prototype;
	Laya.imps(__proto,{"laya.d3.core.IClone":true})
	/**
	*@private
	*/
	__proto._removeTetxureReference=function(){
		var values=this._shaderValues._data;
		for (var i=0,n=values.length;i < n;i++){
			var value=values[i];
			if (value && (value instanceof laya.webgl.resource.BaseTexture ))
				(value)._removeReference();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		var jsonData=data[0];
		var textureMap=data[1];
		switch (jsonData.version){
			case "LAYAMATERIAL:01":;
				var i=0,n=0;
				var props=jsonData.props;
				for (var key in props){
				switch (key){
					case "vectors":;
						var vectors=props[key];
						for (i=0,n=vectors.length;i < n;i++){
							var vector=vectors[i];
							var vectorValue=vector.value;
						switch (vectorValue.length){
							case 2:
								this[vector.name]=new Vector2(vectorValue[0],vectorValue[1]);
								break ;
							case 3:
								this[vector.name]=new Vector3(vectorValue[0],vectorValue[1],vectorValue[2]);
								break ;
							case 4:
								this[vector.name]=new Vector4(vectorValue[0],vectorValue[1],vectorValue[2],vectorValue[3]);
								break ;
							default :
								throw new Error("BaseMaterial:unkonwn color length.");
							}
					}
					break ;
					case "textures":;
					var textures=props[key];
					for (i=0,n=textures.length;i < n;i++){
						var texture=textures[i];
						var path=texture.path;
						(path)&& (this[texture.name]=Loader.getRes(textureMap[path]));
					}
					break ;
					case "defines":;
					var defineNames=props[key];
					for (i=0,n=defineNames.length;i < n;i++){
						var define=this._shader.getMaterialDefineByName(defineNames[i]);
						this._defineDatas.add(define);
					}
					break ;
					case "cull":
					case "blend":
					case "srcBlend":
					case "dstBlend":
					case "depthWrite":;
					var value=props[key];
					for (i=0,n=this._renderStates.length;i < n;i++)
					this._renderStates[i][key]=value;
					break ;
					case "renderQueue":;
					var queue=props[key];
					switch (queue){
						case 1:
							this.renderQueue=2000;
							break ;
						case 2:
							this.renderQueue=3000;
							break ;
						default :
						}
					break ;
					default :
					this[key]=props[key];
				}
			}
			break ;
			case "LAYAMATERIAL:02":
			break ;
			default :
			throw new Error("BaseMaterial:unkonwn version.");
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._addReference=function(){
		_super.prototype._addReference.call(this);
		var valueCount=this._shaderValues._data.length;
		for (var i=0,n=valueCount;i < n;i++){
			var value=this._shaderValues._data[i];
			if (value && (value instanceof laya.webgl.resource.BaseTexture ))
				(value)._addReference();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._removeReference=function(){
		_super.prototype._removeReference.call(this);
		this._removeTetxureReference();
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		if (this._referenceCount > 0)
			this._removeTetxureReference();
		this._shaderValues=null;
	}

	/**
	*设置使用Shader名字。
	*@param name 名称。
	*/
	__proto.setShaderName=function(name){
		this._shader=Shader3D._preCompileShader[name];
		if (!this._shader)
			throw new Error("BaseMaterial: unknown shader name.");
		var passCount=this._shader._passes.length;
		this._renderStates.length=passCount;
		for (var i=0;i < passCount;i++)
		(this._renderStates[i])|| (this._renderStates[i]=new RenderState());
	}

	/**
	*获取渲染状态。
	*@param passIndex 所关联Shader的pass索引。
	*/
	__proto.getRenderState=function(passIndex){
		(passIndex===void 0)&& (passIndex=0);
		return this._renderStates[passIndex];
	}

	/**
	*克隆。
	*@param destObject 克隆源。
	*/
	__proto.cloneTo=function(destObject){
		var destBaseMaterial=destObject;
		destBaseMaterial.name=this.name;
		destBaseMaterial.renderQueue=this.renderQueue;
		this._disablePublicDefineDatas.cloneTo(destBaseMaterial._disablePublicDefineDatas);
		this._defineDatas.cloneTo(destBaseMaterial._defineDatas);
		this._shaderValues.cloneTo(destBaseMaterial._shaderValues);
		var destRenderStates=destObject._renderStates;
		for (var i=0,n=this._renderStates.length;i < n;i++)
		this._renderStates[i].cloneTo(destRenderStates[i]);
	}

	/**
	*克隆。
	*@return 克隆副本。
	*/
	__proto.clone=function(){
		var dest=new this.constructor();
		this.cloneTo(dest);
		return dest;
	}

	/**
	*设置透明测试模式裁剪值。
	*@param value 透明测试模式裁剪值。
	*/
	/**
	*获取透明测试模式裁剪值。
	*@return 透明测试模式裁剪值。
	*/
	__getset(0,__proto,'alphaTestValue',function(){
		return this._shaderValues.getNumber(0);
		},function(value){
		this._shaderValues.setNumber(0,value);
	});

	/**
	*设置是否透明裁剪。
	*@param value 是否透明裁剪。
	*/
	/**
	*获取是否透明裁剪。
	*@return 是否透明裁剪。
	*/
	__getset(0,__proto,'alphaTest',function(){
		return this._alphaTest;
		},function(value){
		this._alphaTest=value;
		if (value)
			this._defineDatas.add(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST);
		else
		this._defineDatas.remove(laya.d3.core.material.BaseMaterial.SHADERDEFINE_ALPHATEST);
	});

	BaseMaterial.__init__=function(){
		BaseMaterial.SHADERDEFINE_ALPHATEST=BaseMaterial.shaderDefines.registerDefine("ALPHATEST");
	}

	BaseMaterial.RENDERQUEUE_OPAQUE=2000;
	BaseMaterial.RENDERQUEUE_ALPHATEST=2450;
	BaseMaterial.RENDERQUEUE_TRANSPARENT=3000;
	BaseMaterial.ALPHATESTVALUE=0;
	BaseMaterial.SHADERDEFINE_ALPHATEST=0;
	__static(BaseMaterial,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines();}
	]);
	return BaseMaterial;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/Buffer.as=======97.999268/97.999268
//class laya.webgl.utils.Buffer extends laya.resource.Resource
var Buffer=(function(_super){
	function Buffer(){
		this._glBuffer=null;
		this._buffer=null;
		//可能为Float32Array、Uint16Array、Uint8Array、ArrayBuffer等。
		this._bufferType=0;
		this._bufferUsage=0;
		this._byteLength=0;
		Buffer.__super.call(this);
		this._glBuffer=LayaGL.instance.createBuffer()
	}

	__class(Buffer,'laya.webgl.utils.Buffer',_super);
	var __proto=Buffer.prototype;
	/**
	*给vao使用的bind。不再判断是否与前一个相同。因为vao是局部的，必须要重设。
	*/
	__proto._bindForVAO=function(){
		switch (this._bufferType){
			case 0x8892:
				LayaGL.instance.bindBuffer(0x8892,this._glBuffer);
				break ;
			case 0x8893:
				LayaGL.instance.bindBuffer(0x8893,this._glBuffer);
				break ;
			default :
				console.error('error! unknown buffer type:'+this._bufferType);
			}
	}

	__proto.bind=function(){
		switch (this._bufferType){
			case 0x8892:
				if (Buffer._bindedVertexBuffer!==this._glBuffer){
					LayaGL.instance.bindBuffer(0x8892,this._glBuffer);
					Buffer._bindedVertexBuffer=this._glBuffer;
					return true;
				}
				break ;
			case 0x8893:
				if (Buffer._bindedIndexBuffer!==this._glBuffer){
					LayaGL.instance.bindBuffer(0x8893,this._glBuffer);
					Buffer._bindedIndexBuffer=this._glBuffer;
					return true;
				}
				break ;
			default :
				console.error('error! unknown buffer type:'+this._bufferType);
			}
		return false;
	}

	__proto._disposeResource=function(){
		if (this._glBuffer){
			LayaGL.instance.deleteBuffer(this._glBuffer);
			this._glBuffer=null;
		}
		this._setGPUMemory(0);
	}

	__getset(0,__proto,'bufferUsage',function(){
		return this._bufferUsage;
	});

	Buffer._bindedVertexBuffer=null;
	Buffer._bindedIndexBuffer=null;
	__static(Buffer,
	['_bindedAtributeBuffer',function(){return this._bindedAtributeBuffer=new Array(16);},'_bindedAttributeDeclaration',function(){return this._bindedAttributeDeclaration=new Array(16);}
	]);
	return Buffer;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/MeshRender.as=======97.999256/97.999256
/**
*<code>MeshRender</code> 类用于网格渲染器。
*/
//class laya.d3.core.MeshRender extends laya.d3.core.render.BaseRender
var MeshRender=(function(_super){
	function MeshRender(owner,shaderDataSize){
		/**@private */
		//this._projectionViewWorldMatrix=null;
		MeshRender.__super.call(this,owner,shaderDataSize);
		this._projectionViewWorldMatrix=new Matrix4x4();
		owner && (owner).meshFilter.on("meshchanged",this,this._onMeshChanged);
	}

	__class(MeshRender,'laya.d3.core.MeshRender',_super);
	var __proto=MeshRender.prototype;
	/**
	*@private
	*/
	__proto._onMeshChanged=function(meshFilter,oldMesh,mesh){
		if (mesh.loaded)
			this._onMeshLoaed();
		else
		mesh.once("loaded",this,this._onMeshLoaed);
	}

	/**
	*@private
	*/
	__proto._onMeshLoaed=function(){
		this._boundingSphereNeedChange=true;
		this._boundingBoxNeedChange=true;
		this._boundingBoxCenterNeedChange=true;
		this._octreeNodeNeedChange=true;
	}

	/**
	*@private
	*/
	__proto._calculateBoundingSphereByInitSphere=function(boundSphere){
		var maxScale=NaN;
		var transform=this._owner.transform;
		var scaleE=transform.scale.elements;
		var scaleX=scaleE[0];
		scaleX || (scaleX=-scaleX);
		var scaleY=scaleE[1];
		scaleY || (scaleY=-scaleY);
		var scaleZ=scaleE[2];
		scaleZ || (scaleZ=-scaleZ);
		if (scaleX >=scaleY && scaleX >=scaleZ)
			maxScale=scaleX;
		else
		maxScale=scaleY >=scaleZ ? scaleY :scaleZ;
		Vector3.transformCoordinate(boundSphere.center,transform.worldMatrix,this._boundingSphere.center);
		this._boundingSphere.radius=boundSphere.radius *maxScale;
		if (Render.isConchApp){
			var centerE=this._boundingSphere.center.elements;
			var buffer=FrustumCulling._cullingBuffer;
			buffer[this._cullingBufferIndex+1]=centerE[0];
			buffer[this._cullingBufferIndex+2]=centerE[1];
			buffer[this._cullingBufferIndex+3]=centerE[2];
			buffer[this._cullingBufferIndex+4]=this._boundingSphere.radius;
		}
	}

	/**
	*@private
	*/
	__proto._calculateBoundBoxByInitCorners=function(corners){
		var worldMat=(this._owner).transform.worldMatrix;
		for (var i=0;i < 8;i++)
		BoundBox.createfromPoints(BaseRender._tempBoundBoxCorners,this._boundingBox);
		Vector3.transformCoordinate(corners[i],worldMat,BaseRender._tempBoundBoxCorners[i]);
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingSphere=function(){
		var sharedMesh=(this._owner).meshFilter.sharedMesh;
		if (sharedMesh==null || sharedMesh.boundingSphere==null)
			this._boundingSphere.toDefault();
		else
		this._calculateBoundingSphereByInitSphere(sharedMesh.boundingSphere);
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingBox=function(){
		var sharedMesh=(this._owner).meshFilter.sharedMesh;
		if (sharedMesh==null || sharedMesh.boundingBox==null)
			this._boundingBox.toDefault();
		else
		this._calculateBoundBoxByInitCorners(sharedMesh.boundingBoxCorners);
	}

	/**
	*@inheritDoc
	*/
	__proto._needRender=function(boundFrustum){
		if (boundFrustum)
			return boundFrustum.containsBoundSphere(this.boundingSphere)!==0;
		else
		return true;
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdate=function(context,transform){
		if (transform)
			this._shaderValues.setMatrix4x4(0,transform.worldMatrix);
		else
		this._shaderValues.setMatrix4x4(0,Matrix4x4.DEFAULT);
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdateWithCamera=function(context,transform){
		var projectionView=context.projectionViewMatrix;
		if (transform){
			Matrix4x4.multiply(projectionView,transform.worldMatrix,this._projectionViewWorldMatrix);
			this._shaderValues.setMatrix4x4(1,this._projectionViewWorldMatrix);
			}else {
			this._shaderValues.setMatrix4x4(1,projectionView);
		}
		if (Laya3D.debugMode)
			this._renderRenderableBoundBox();
	}

	/**
	*@inheritDoc
	*/
	__proto._destroy=function(){
		(this._isPartOfStaticBatch)&& (MeshRenderStaticBatchManager.instance._destroyRenderSprite(this._owner));
		_super.prototype._destroy.call(this);
	}

	return MeshRender;
})(BaseRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/animation/SkinAnimations.as=======97.999255/97.999255
/**
*<code>SkinAnimations</code> 类用于创建蒙皮动画组件。
*/
//class laya.d3.component.animation.SkinAnimations extends laya.d3.component.animation.KeyframeAnimations
var SkinAnimations=(function(_super){
	function SkinAnimations(){
		/**@private */
		this._tempCurAnimationData=null;
		/**@private */
		this._tempCurBonesData=null;
		/**@private */
		this._curOriginalData=null;
		/**@private */
		this._lastFrameIndex=-1;
		/**@private */
		this._curMeshAnimationData=null;
		/**@private */
		this._curBonesDatas=null;
		/**@private */
		this._curAnimationDatas=null;
		/**@private */
		this._ownerMesh=null;
		/**@private */
		this._boneIndexToMeshList=null;
		/**@private */
		this._oldVersion=false;
		SkinAnimations.__super.call(this);
		this._boneIndexToMeshList=[];
	}

	__class(SkinAnimations,'laya.d3.component.animation.SkinAnimations',_super);
	var __proto=SkinAnimations.prototype;
	/**
	*@private
	*/
	__proto._computeBoneIndexToMeshOnTemplet=function(){
		if (this._templet.loaded)
			this._computeBoneIndexToMeshOnMesh();
		else
		this._templet.once("loaded",this,this._computeBoneIndexToMeshOnMesh);
	}

	/**
	*@private
	*/
	__proto._computeBoneIndexToMeshOnMesh=function(){
		if (this._templet._aniVersion==="LAYAANIMATION:02")
			this._oldVersion=false;
		else
		this._oldVersion=true;
		var mesh=(this._owner).meshFilter.sharedMesh;
		if (mesh.loaded)
			this._computeBoneIndexToMesh(mesh);
		else
		mesh.on("loaded",this,this._computeBoneIndexToMesh);
	}

	/**
	*@private
	*/
	__proto._computeBoneIndexToMesh=function(mesh){
		var meshBoneNames=mesh._boneNames;
		if (meshBoneNames){
			var binPoseCount=meshBoneNames.length;
			var anis=this._templet._anis;
			for (var i=0,n=anis.length;i < n;i++){
				var boneIndexToMesh=this._boneIndexToMeshList[i];
				(boneIndexToMesh)|| (boneIndexToMesh=this._boneIndexToMeshList[i]=[]);
				boneIndexToMesh.length=binPoseCount;
				var ani=anis[i];
				for (var j=0;j < binPoseCount;j++)
				boneIndexToMesh[j]=ani.bone3DMap[meshBoneNames[j]];
			}
		}
	}

	/**@private */
	__proto._getAnimationDatasWithCache=function(rate,mesh,cacheDatas,aniIndex,frameIndex){
		var aniDatas=cacheDatas[aniIndex];
		if (!aniDatas){
			return null;
			}else {
			var rateDatas=aniDatas[rate];
			if (!rateDatas)
				return null;
			else {
				var meshDatas=rateDatas[mesh.id];
				if (!meshDatas)
					return null;
				else
				return meshDatas[frameIndex];
			}
		}
	}

	/**@private */
	__proto._setAnimationDatasWithCache=function(rate,mesh,cacheDatas,aniIndex,frameIndex,animationDatas){
		var aniDatas=(cacheDatas[aniIndex])|| (cacheDatas[aniIndex]={});
		var rateDatas=(aniDatas[rate])|| (aniDatas[rate]={});
		var meshDatas=(rateDatas[mesh.id])|| (rateDatas[mesh.id]=[]);
		meshDatas[frameIndex]=animationDatas;
	}

	/**@private */
	__proto._onAnimationPlayMeshLoaded=function(){
		var renderElements=this._ownerMesh.meshRender._renderElements;
		for (var i=0,n=renderElements.length;i < n;i++)
		renderElements[i]._canDynamicBatch=false;
	}

	/**@private */
	__proto._onAnimationPlay=function(){
		this._ownerMesh._render._defineDatas.add(SkinnedMeshSprite3D.SHADERDEFINE_BONE);
		var mesh=this._ownerMesh.meshFilter.sharedMesh;
		if (mesh.loaded)
			this._onAnimationPlayMeshLoaded();
		else
		mesh.once("loaded",this,this._onAnimationPlayMeshLoaded);
	}

	/**@private */
	__proto._onAnimationStop=function(){
		this._lastFrameIndex=-1;
		if (this._player.returnToZeroStopped){
			this._curBonesDatas=null;
			this._curAnimationDatas=null;
			this._ownerMesh._render._defineDatas.remove(SkinnedMeshSprite3D.SHADERDEFINE_BONE);
		};
		var renderElements=this._ownerMesh.meshRender._renderElements;
		for (var i=0,n=renderElements.length;i < n;i++)
		renderElements[i]._canDynamicBatch=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._onEnableInScene=function(){
		(this._owner)._scene._skinAnimationsPool.add(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onDisableInScene=function(){
		(this._owner)._scene._skinAnimationsPool.remove(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		this._ownerMesh=(this._owner);
		this._player.on("played",this,this._onAnimationPlay);
		this._player.on("stopped",this,this._onAnimationStop);
		(this._owner).meshFilter.on("meshchanged",this,this._computeBoneIndexToMeshOnTemplet);
	}

	/**
	*@private
	*更新蒙皮动画组件。
	*@param state 渲染状态参数。
	*/
	__proto._update=function(state){
		this._player._update(Laya.timer.delta);
		var mesh=this._ownerMesh.meshFilter.sharedMesh;
		if (this._player.state!==2 || !this._templet || !this._templet.loaded || !mesh.loaded)
			return;
		var rate=this._player.playbackRate *Laya.timer.scale;
		var cachePlayRate=this._player.cachePlayRate;
		var isCache=this._player.isCache && rate >=cachePlayRate;
		var frameIndex=isCache ? this.currentFrameIndex :-1;
		if (frameIndex!==-1 && this._lastFrameIndex===frameIndex)
			return;
		var animationClipIndex=this.currentAnimationClipIndex;
		var boneDatasCache=this._templet._animationDatasCache[0];
		var animationDatasCache=this._templet._animationDatasCache[1];
		if (isCache){
			var cacheAnimationDatas=this._getAnimationDatasWithCache(cachePlayRate,mesh,animationDatasCache,animationClipIndex,frameIndex);
			if (cacheAnimationDatas){
				this._curAnimationDatas=cacheAnimationDatas;
				this._curBonesDatas=this._templet.getAnimationDataWithCache(cachePlayRate,boneDatasCache,animationClipIndex,frameIndex);
				this._lastFrameIndex=frameIndex;
				return;
			}
		};
		var isCacheBonesDatas=false;
		if (isCache){
			this._curBonesDatas=this._templet.getAnimationDataWithCache(cachePlayRate,boneDatasCache,animationClipIndex,frameIndex);
			isCacheBonesDatas=this._curBonesDatas ? true :false;
		};
		var bones=this._templet.getNodes(animationClipIndex);
		var boneFloatCount=bones.length *16;
		var inverseAbsoluteBindPoses=mesh.inverseAbsoluteBindPoses;
		if (this._oldVersion)
			(this._curMeshAnimationData)|| (this._curMeshAnimationData=new Float32Array(boneFloatCount));
		else
		(this._curMeshAnimationData)|| (this._curMeshAnimationData=new Float32Array(inverseAbsoluteBindPoses.length *16));
		var i=0,n=0,j=0;
		var curSubAnimationDatas,subMesh,boneIndicesCount=0;
		var subMeshCount=mesh.subMeshCount;
		if (isCache){
			this._curAnimationDatas=[];
			this._curAnimationDatas.length=subMeshCount;
			for (i=0;i < subMeshCount;i++){
				curSubAnimationDatas=this._curAnimationDatas[i]=[];
				subMesh=mesh._getSubMesh(i);
				boneIndicesCount=subMesh._boneIndicesList.length;
				curSubAnimationDatas.length=boneIndicesCount;
				for (j=0;j < boneIndicesCount;j++)
				curSubAnimationDatas[j]=new Float32Array(subMesh._boneIndicesList[j].length *16);
			}
			(isCacheBonesDatas)|| (this._curBonesDatas=new Float32Array(boneFloatCount));
			}else {
			if (!this._tempCurAnimationData){
				this._tempCurAnimationData=[];
				this._tempCurAnimationData.length=subMeshCount;
				for (i=0;i < subMeshCount;i++){
					curSubAnimationDatas=this._tempCurAnimationData[i]=[];
					subMesh=mesh._getSubMesh(i);
					boneIndicesCount=subMesh._boneIndicesList.length;
					curSubAnimationDatas.length=boneIndicesCount;
					for (j=0;j < boneIndicesCount;j++)
					curSubAnimationDatas[j]=new Float32Array(subMesh._boneIndicesList[j].length *16);
				}
			}
			(this._tempCurBonesData)|| (this._tempCurBonesData=new Float32Array(boneFloatCount));
			this._curAnimationDatas=this._tempCurAnimationData;
			this._curBonesDatas=this._tempCurBonesData;
		}
		this._curOriginalData || (this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(animationClipIndex)));
		if (isCache)
			this._templet.getOriginalData(animationClipIndex,this._curOriginalData,this._player._fullFrames[animationClipIndex],frameIndex,this._player.currentFrameTime);
		else
		this._templet.getOriginalDataUnfixedRate(animationClipIndex,this._curOriginalData,this._player.currentPlayTime);
		if (this._oldVersion){
			if (isCache && isCacheBonesDatas)
				Utils3D._computeAnimationDatasByArrayAndMatrixFastOld(inverseAbsoluteBindPoses,this._curBonesDatas,this._curMeshAnimationData);
			else
			Utils3D._computeBoneAndAnimationDatasByBindPoseMatrxixOld(bones,this._curOriginalData,inverseAbsoluteBindPoses,this._curBonesDatas,this._curMeshAnimationData);
			}else {
			var boneIndexToMesh=this._boneIndexToMeshList[animationClipIndex];
			if (isCache && isCacheBonesDatas)
				Utils3D._computeAnimationDatasByArrayAndMatrixFast(inverseAbsoluteBindPoses,this._curBonesDatas,this._curMeshAnimationData,boneIndexToMesh);
			else
			Utils3D._computeBoneAndAnimationDatasByBindPoseMatrxix(bones,this._curOriginalData,inverseAbsoluteBindPoses,this._curBonesDatas,this._curMeshAnimationData,boneIndexToMesh);
		}
		for (i=0;i < subMeshCount;i++){
			var boneIndicesList=mesh._getSubMesh(i)._boneIndicesList;
			boneIndicesCount=boneIndicesList.length;
			curSubAnimationDatas=this._curAnimationDatas[i]
			for (j=0;j < boneIndicesCount;j++)
			SkinAnimations._splitAnimationDatas(boneIndicesList[j],this._curMeshAnimationData,curSubAnimationDatas[j]);
		}
		if (isCache){
			this._setAnimationDatasWithCache(cachePlayRate,mesh,animationDatasCache,animationClipIndex,frameIndex,this._curAnimationDatas);
			(isCacheBonesDatas)|| (this._templet.setAnimationDataWithCache(cachePlayRate,boneDatasCache,animationClipIndex,frameIndex,this._curBonesDatas));
		}
		this._lastFrameIndex=frameIndex;
	}

	/**
	*@private
	*在渲染前更新蒙皮动画组件渲染参数。
	*@param state 渲染状态参数。
	*/
	__proto._preRenderUpdate=function(state){
		var subMesh=state.renderElement._geometry;
		if (this._curAnimationDatas)
			subMesh._skinAnimationDatas=this._curAnimationDatas[subMesh._indexInMesh];
		else
		subMesh._skinAnimationDatas=null;
	}

	/**
	*@inheritDoc
	*/
	__proto._onDestroy=function(){
		(this.player.state==2)&& (this._ownerMesh._render._defineDatas.remove(SkinnedMeshSprite3D.SHADERDEFINE_BONE));
		(this._templet && !this._templet.loaded)&& (this._templet.off("loaded",this,this._computeBoneIndexToMeshOnMesh));
		var mesh=this._ownerMesh.meshFilter.sharedMesh;
		(mesh.loaded)|| (mesh.off("loaded",this,this._onAnimationPlayMeshLoaded));
		_super.prototype._onDestroy.call(this);
		this._tempCurAnimationData=null;
		this._tempCurBonesData=null;
		this._curOriginalData=null;
		this._curMeshAnimationData=null;
		this._curBonesDatas=null;
		this._curAnimationDatas=null;
		this._ownerMesh=null;
	}

	/**
	*获取骨骼数据。
	*@return 骨骼数据。
	*/
	__getset(0,__proto,'curBonesDatas',function(){
		return this._curBonesDatas;
	});

	__getset(0,__proto,'templet',_super.prototype._$get_templet,function(value){
		if (this._templet!==value){
			if (this._player.state!==0)
				this._player.stop(true);
			this._templet=value;
			this._player.templet=value;
			this._computeBoneIndexToMeshOnTemplet();
			this._curOriginalData=null;
			this._curMeshAnimationData=null;
			this._tempCurBonesData=null;
			this._tempCurAnimationData=null;
			(this._templet._animationDatasCache)|| (this._templet._animationDatasCache=[[],[]]);
		}
	});

	SkinAnimations._splitAnimationDatas=function(indices,bonesData,subAnimationDatas){
		for (var i=0,n=indices.length,ii=0;i < n;i++){
			for (var j=0;j < 16;j++,ii++){
				subAnimationDatas[ii]=bonesData[(indices[i] << 4)+j];
			}
		}
	}

	SkinAnimations._update=function(scene){
		var pool=scene._skinAnimationsPool;
		var elements=pool.elements;
		for (var i=0,n=pool.length;i < n;i++){
			var animation=elements[i];
			(animation && animation.enabled)&& (animation._update());
		}
	}

	return SkinAnimations;
})(KeyframeAnimations)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/physics/BoxCollider.as=======97.999237/97.999237
/**
*<code>BoxCollider</code> 类用于创建盒子碰撞器。
*/
//class laya.d3.component.physics.BoxCollider extends laya.d3.component.physics.Collider
var BoxCollider=(function(_super){
	function BoxCollider(){
		/**@private */
		this._size=null;
		/**@private */
		this._transformOrientedBoundBox=null;
		/**中心点 */
		this.center=null;
		BoxCollider.__super.call(this);
		this._needUpdate=false;
	}

	__class(BoxCollider,'laya.d3.component.physics.BoxCollider',_super);
	var __proto=BoxCollider.prototype;
	/**
	*@private
	*/
	__proto._updateCollider=function(){
		if (this._needUpdate){
			var obbMat=this._transformOrientedBoundBox.transformation;
			var transform=(this._owner).transform;
			var rotation=transform.rotation;
			var scale=transform.scale;
			var centerE=this.center.elements;
			if (centerE[0]===0.0 && centerE[1]===0.0 && centerE[2]===0.0){
				Matrix4x4.createAffineTransformation(transform.position,rotation,Vector3.ONE,obbMat);
				}else {
				Vector3.multiply(this.center,scale,BoxCollider._deviationV3);
				Vector3.transformQuat(BoxCollider._deviationV3,rotation,BoxCollider._deviationV3);
				Vector3.add(transform.position,BoxCollider._deviationV3,BoxCollider._deviationV3);
				Matrix4x4.createAffineTransformation(BoxCollider._deviationV3,rotation,Vector3.ONE,obbMat);
			}
			this._transformOrientedBoundBox.transformation=obbMat;
			var extentsE=this._transformOrientedBoundBox.extents.elements;
			var sizeE=this._size.elements;
			var scaleE=scale.elements;
			extentsE[0]=sizeE[0] *0.5 *scaleE[0];
			extentsE[1]=sizeE[1] *0.5 *scaleE[1];
			extentsE[2]=sizeE[2] *0.5 *scaleE[2];
			this._needUpdate=false;
		}
	}

	/**
	*@private
	*/
	__proto._onWorldMatrixChanged=function(){
		this._needUpdate=true;
		for (var k in this._runtimeCollisonMap){
			this._runtimeCollisonTestMap[k]=true;
			this._runtimeCollisonMap[k]._runtimeCollisonTestMap[this.id]=true;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		this.isTrigger=data.isTrigger;
		this.center.fromArray(data.center);
		var siz=this.size;
		siz.fromArray(data.size);
		this.size=siz;
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		_super.prototype._added.call(this);
		this._transformOrientedBoundBox=new OrientedBoundBox(new Vector3(),new Matrix4x4());
		this._size=new Vector3();
		this.center=new Vector3();
		(this._owner).transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged);
		this._needUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._getType=function(){
		return 1;
	}

	/**
	*@inheritDoc
	*/
	__proto._collisonTo=function(other){
		switch (other._getType()){
			case 0:
				return this.boundBox.containsSphere((other).boundSphere)!==0;
				break ;
			case 1:
				return this.boundBox.containsOrientedBoundBox((other).boundBox)!==0;
				break ;
			case 2:
				return false;
				break ;
			case 3:;
				var meshCollider=other;
				if (this.boundBox.containsBoundBox(meshCollider._boundBox)!==0){
					var positions=(other).mesh._positions;
					for (var i=0,n=positions.length;i < n;i++){
						if (this.boundBox.containsPoint(positions[i])===1)
							return true
					}
					return false;
					}else {
					return false;
				}
				break ;
			default :
				throw new Error("BoxCollider:unknown collider type.");
			}
	}

	/**
	*@inheritDoc
	*/
	__proto._cloneTo=function(dest){
		var destBoxCollider=dest;
		var destSize=destBoxCollider.size;
		this.size.cloneTo(destSize);
		destBoxCollider.size=destSize;
		this.center.cloneTo(destBoxCollider.center);
	}

	/**
	*@inheritDoc
	*/
	__proto.raycast=function(ray,hitInfo,maxDistance){
		(maxDistance===void 0)&& (maxDistance=1.79e+308);
		this._updateCollider();
		var distance=this._transformOrientedBoundBox.intersectsRay(ray,hitInfo.position);
		if (distance!==-1 && distance <=maxDistance){
			hitInfo.distance=distance;
			hitInfo.sprite3D=this._owner;
			return true;
			}else {
			hitInfo.distance=-1;
			hitInfo.sprite3D=null;
			return false;
		}
	}

	/**
	*从AABB碰撞盒设置center和Size。
	*@param boundBox 碰撞盒。
	*/
	__proto.setFromBoundBox=function(boundBox){
		OrientedBoundBox.createByBoundBox(boundBox,this._transformOrientedBoundBox);
		var extents=this._transformOrientedBoundBox.extents;
		this._size=new Vector3(extents.x *2,extents.y *2,extents.z *2);
		this.center=new Vector3();
		Vector3.add(boundBox.min,boundBox.max,this.center);
		Vector3.scale(this.center,0.5,this.center);
		this._needUpdate=true;
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setFromCustomData=function(center,size){
		this.center=new Vector3(center.x,center.y,center.z);
		this._size=new Vector3(size.x,size.y,size.z);
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setPhysicsGeomertyData=function(){
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			var geometryBox=new GeometryBox(this.size,this.center,sprite3d.transform.scale);
			(sprite3d.scene).physicsSystem.addShape(sprite3d.compoundShape,geometryBox);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		_super.prototype._awake.call(this);
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics && this.center){
			this.setPhysicsGeomertyData();
		}
	}

	/**
	*获取包围盒子,只读,不允许修改。
	*@return 包围球。
	*/
	__getset(0,__proto,'boundBox',function(){
		this._updateCollider();
		return this._transformOrientedBoundBox;
	});

	/**
	*设置盒子碰撞器长宽高的一半。
	*@param 长宽高的一半。
	*/
	/**
	*获取盒子碰撞器长宽高的一半。
	*@return 长宽高的一半。
	*/
	__getset(0,__proto,'size',function(){
		return this._size;
		},function(value){
		this._size=value;
		this._needUpdate=true;
	});

	__static(BoxCollider,
	['_deviationV3',function(){return this._deviationV3=new Vector3();},'_obbCenterV3',function(){return this._obbCenterV3=new Vector3();}
	]);
	return BoxCollider;
})(Collider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/physics/CapsuleCollider.as=======97.999235/97.999235
/**
*...
*@author
*/
//class laya.d3.component.physics.CapsuleCollider extends laya.d3.component.physics.Collider
var CapsuleCollider=(function(_super){
	function CapsuleCollider(){
		/**中心点 */
		this._center=null;
		this._radius=NaN;
		this._height=NaN;
		CapsuleCollider.__super.call(this);
	}

	__class(CapsuleCollider,'laya.d3.component.physics.CapsuleCollider',_super);
	var __proto=CapsuleCollider.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		this._center=new Vector3();
		this.isTrigger=data.isTrigger;
		this._center.fromArray(data.center);
		this._radius=data.radius;
		this._height=data.height;
	}

	/**
	*@inheritDoc
	*/
	__proto._getType=function(){
		return 2;
	}

	/**
	*从AABB碰撞盒设置height,radius,center。
	*@param boundBox 碰撞盒。
	*/
	__proto.setFromBoundBox=function(boundBox){
		this._center=new Vector3();
		var min=boundBox.min;
		var max=boundBox.max;
		var mine=min.elements;
		var maxe=max.elements;
		Vector3.add(min,max,this._center);
		Vector3.scale(this._center,0.5,this._center);
		this._height=maxe[1]-mine[1];
		this._radius=Math.max(maxe[2]-mine[2],maxe[0]-mine[0])/ 2;
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setFromCustomData=function(center,radius,height){
		this.center=new Vector3(center.x,center.y,center.z);
		this.radius=radius;
		this.height=height;
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setPhysicsGeomertyData=function(){
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			var geometryCapsule=new GeometryCapsule(this.height,this.radius,this.center,sprite3d.transform.scale);
			(sprite3d.scene).physicsSystem.addShape(sprite3d.compoundShape,geometryCapsule);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		_super.prototype._awake.call(this);
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics && this.center){
			this.setPhysicsGeomertyData();
		}
	}

	__getset(0,__proto,'center',function(){
		return this._center;
		},function(value){
		this._center=value;
	});

	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		this._radius=value;
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this._height=value;
	});

	return CapsuleCollider;
})(Collider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/physics/MeshCollider.as=======97.999234/97.999234
/**
*<code>MeshCollider</code> 类用于创建网格碰撞器。
*/
//class laya.d3.component.physics.MeshCollider extends laya.d3.component.physics.Collider
var MeshCollider=(function(_super){
	function MeshCollider(){
		/**@private */
		this._transformBoundingBox=null;
		/**@private */
		this._mesh=null;
		MeshCollider.__super.call(this);
		this._transformBoundingBox=new BoundBox(new Vector3(),new Vector3());
		this._needUpdate=false;
	}

	__class(MeshCollider,'laya.d3.component.physics.MeshCollider',_super);
	var __proto=MeshCollider.prototype;
	/**
	*@private
	*/
	__proto._updateBoundBoxCollider=function(){
		if (this._needUpdate){
			var worldMat=(this._owner).transform.worldMatrix;
			var corners=this._mesh.boundingBoxCorners;
			for (var i=0;i < 8;i++)
			Vector3.transformCoordinate(corners[i],worldMat,MeshCollider._tempBoundBoxCorners[i]);
			BoundBox.createfromPoints(MeshCollider._tempBoundBoxCorners,this._transformBoundingBox);
			this._needUpdate=false;
		}
	}

	/**
	*@private
	*/
	__proto._raycastMesh=function(ray,sprite3D,outHitInfo,maxDistance){
		(maxDistance===void 0)&& (maxDistance=1.79e+308);
		var worldMatrix=sprite3D.transform.worldMatrix;
		var invertWorldMatrix=MeshCollider._tempMatrix4x40;
		worldMatrix.invert(invertWorldMatrix);
		var rayOrigin=ray.origin;
		var rayDirection=ray.direction;
		var transformRay=MeshCollider._tempRay0;
		Vector3.transformCoordinate(rayOrigin,invertWorldMatrix,transformRay.origin);
		Vector3.TransformNormal(rayDirection,invertWorldMatrix,transformRay.direction);
		var curMinDistance=Number.MAX_VALUE;
		for (var i=0,n=this._mesh.subMeshCount;i < n;i++){
			var geometry=this._mesh._getSubMesh(i);
			var vertexBuffer=geometry._vertexBuffer;
			var vertexDatas=vertexBuffer.getData();
			var indexDatas=geometry._indexBuffer.getData();
			var elementRaycastHit=MeshCollider._tempRaycastHit;
			var isHit=Picker.rayIntersectsPositionsAndIndices(transformRay,vertexDatas,vertexBuffer.vertexDeclaration,indexDatas,elementRaycastHit);
			if (isHit){
				Vector3.transformCoordinate(elementRaycastHit.position,worldMatrix,elementRaycastHit.position);
				var rayOriToPos=MeshCollider._tempVector30;
				Vector3.subtract(rayOrigin,elementRaycastHit.position,rayOriToPos);
				var distance=Vector3.scalarLength(rayOriToPos);
				if ((distance < maxDistance)&& (distance < curMinDistance)){
					elementRaycastHit.distance=distance;
					elementRaycastHit.sprite3D=sprite3D;
					var trianglePositions=elementRaycastHit.trianglePositions;
					Vector3.transformCoordinate(trianglePositions[0],worldMatrix,trianglePositions[0]);
					Vector3.transformCoordinate(trianglePositions[1],worldMatrix,trianglePositions[1]);
					Vector3.transformCoordinate(trianglePositions[2],worldMatrix,trianglePositions[2]);
					var triangleNormals=elementRaycastHit.triangleNormals;
					Vector3.transformCoordinate(triangleNormals[0],worldMatrix,triangleNormals[0]);
					Vector3.transformCoordinate(triangleNormals[1],worldMatrix,triangleNormals[1]);
					Vector3.transformCoordinate(triangleNormals[2],worldMatrix,triangleNormals[2]);
					curMinDistance=distance;
					elementRaycastHit.cloneTo(outHitInfo);
					return true;
				}
				return false;
			}
		}
		return false;
	}

	/**
	*@private
	*/
	__proto._onWorldMatrixChanged=function(){
		this._needUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		(this._owner).transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged);
		this._needUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._getType=function(){
		return 3;
	}

	/**
	*@inheritDoc
	*/
	__proto._collisonTo=function(other){
		var i=0,n=0;
		var positions=this.mesh._positions;
		switch (other._getType()){
			case 0:;
				var otherSphere=other;
				if (Collision.sphereContainsBox(otherSphere.boundSphere,this._boundBox)!==0){
					for (i=0,n=positions.length;i < n;i++){
						if (Collision.sphereContainsPoint(otherSphere.boundSphere,positions[i])===1)
							return true
					}
					return false;
					}else {
					return false;
				}
				break ;
			case 1:;
				var otherBox=other;
				if (otherBox.boundBox.containsBoundBox(this._boundBox)!==0){
					for (i=0,n=positions.length;i < n;i++){
						if (otherBox.boundBox.containsPoint(positions[i])===1)
							return true
					}
					return false;
					break ;
					}else {
					return false;
				}
			case 2:;
				var otherMesh=other;
				if (Collision.intersectsBoxAndBox(otherMesh._boundBox,this._boundBox)!==1){
					return true;
					}else {
					return false;
				}
				throw new Error("MeshCollider:unknown collider type.");
				break ;
			default :
				throw new Error("MeshCollider:unknown collider type.");
			}
	}

	/**
	*@inheritDoc
	*/
	__proto._cloneTo=function(dest){
		var destCollider=dest;
		destCollider.mesh=this._mesh;
	}

	/**
	*@inheritDoc
	*/
	__proto.raycast=function(ray,hitInfo,maxDistance){
		(maxDistance===void 0)&& (maxDistance=1.79e+308);
		if (this._mesh==null || !this._mesh.loaded)
			return false;
		var distance=Collision.intersectsRayAndBoxRD(ray,this._boundBox);
		if (distance!==-1 && distance <=maxDistance && this._raycastMesh(ray,this._owner,hitInfo,maxDistance)){
			return true;
			}else {
			hitInfo.distance=-1;
			hitInfo.sprite3D=null;
			return false;
		}
	}

	/**
	*@private 只读,不允许修改。
	*/
	__getset(0,__proto,'_boundBox',function(){
		this._updateBoundBoxCollider();
		return this._transformBoundingBox;
	});

	/**
	*设置碰撞器网格。
	*@param value 碰撞其网格。
	*/
	/**
	*获取碰撞器网格。
	*@return 碰撞其网格。
	*/
	__getset(0,__proto,'mesh',function(){
		return this._mesh;
		},function(value){
		this._mesh=value;
	});

	__static(MeshCollider,
	['_tempRay0',function(){return this._tempRay0=new Ray(new Vector3(),new Vector3());},'_tempVector30',function(){return this._tempVector30=new Vector3();},'_tempMatrix4x40',function(){return this._tempMatrix4x40=new Matrix4x4();},'_tempRaycastHit',function(){return this._tempRaycastHit=new RaycastHit();},'_tempBoundBoxCorners',function(){return this._tempBoundBoxCorners=[new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3(),new Vector3()];}
	]);
	return MeshCollider;
})(Collider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/component/physics/SphereCollider.as=======97.999233/97.999233
/**
*<code>SphereCollider</code> 类用于创建球碰撞器。
*/
//class laya.d3.component.physics.SphereCollider extends laya.d3.component.physics.Collider
var SphereCollider=(function(_super){
	function SphereCollider(){
		/**@private */
		this._originalBoundSphere=null;
		/**@private */
		this._transformBoundSphere=null;
		SphereCollider.__super.call(this);
		this._translate=new Vector3();
		this._position=new Vector3();
		this._tempM4=new Matrix4x4();
		this._tempCenter=new Vector3();
		this._needUpdate=false;
	}

	__class(SphereCollider,'laya.d3.component.physics.SphereCollider',_super);
	var __proto=SphereCollider.prototype;
	/**
	*@private
	*/
	__proto._updateCollider=function(){
		if (this._needUpdate){
			var maxScale=NaN;
			var transform=(this._owner).transform;
			var scale=transform.scale;
			if (scale.x >=scale.y && scale.x >=scale.z)
				maxScale=scale.x;
			else
			maxScale=scale.y >=scale.z ? scale.y :scale.z;
			Vector3.transformCoordinate(this._originalBoundSphere.center,transform.worldMatrix,this._transformBoundSphere.center);
			this._transformBoundSphere.radius=this._originalBoundSphere.radius *maxScale;
			this._needUpdate=false;
		}
	}

	/**
	*@private
	*/
	__proto._onWorldMatrixChanged=function(){
		this._needUpdate=true;
		for (var k in this._runtimeCollisonMap){
			this._runtimeCollisonTestMap[k]=true;
			this._runtimeCollisonMap[k]._runtimeCollisonTestMap[this.id]=true;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		this.isTrigger=data.isTrigger;
		var cen=this.center;
		cen.fromArray(data.center);
		this.center=cen;
		this.radius=data.radius;
	}

	/**
	*@inheritDoc
	*/
	__proto._added=function(){
		_super.prototype._added.call(this);
		this._originalBoundSphere=new BoundSphere(new Vector3(0,0,0),0.5);
		this._transformBoundSphere=new BoundSphere(new Vector3(0,0,0),0.5);
		(this._owner).transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged);
		this._needUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._getType=function(){
		return 0;
	}

	/**
	*@inheritDoc
	*/
	__proto._collisonTo=function(other){
		switch (other._getType()){
			case 0:
				return Collision.sphereContainsSphere(this.boundSphere,(other).boundSphere)!==0;
				break ;
			case 1:
				return (other).boundBox.containsSphere(this.boundSphere)!==0;
				break ;
			case 2:
				return false;
				break ;
			case 3:;
				var meshCollider=other;
				if (Collision.sphereContainsBox(this.boundSphere,meshCollider._boundBox)!==0){
					var positions=meshCollider.mesh._positions;
					for (var i=0,n=positions.length;i < n;i++){
						if (Collision.sphereContainsPoint(this.boundSphere,positions[i])===1)
							return true
					}
					return false;
					}else {
					return false;
				}
				break ;
			default :
				throw new Error("SphereCollider:unknown collider type.");
			}
	}

	/**
	*@inheritDoc
	*/
	__proto._cloneTo=function(dest){
		var destCollider=dest;
		destCollider.radius=this.radius;
		var destCenter=destCollider.center;
		this.center.cloneTo(destCenter);
		destCollider.center=destCenter;
	}

	/**
	*@inheritDoc
	*/
	__proto.raycast=function(ray,hitInfo,maxDistance){
		(maxDistance===void 0)&& (maxDistance=1.79e+308);
		this._updateCollider();
		var distance=this._transformBoundSphere.intersectsRayPoint(ray,hitInfo.position);
		if (distance!==-1 && distance <=maxDistance){
			hitInfo.distance=distance;
			hitInfo.sprite3D=this._owner;
			return true;
			}else {
			hitInfo.distance=-1;
			hitInfo.sprite3D=null;
			return false;
		}
	}

	/**
	*从包围球设置center和radius。
	*@param boundSphere 包围球。
	*/
	__proto.setFromBoundSphere=function(boundSphere){
		this.center=boundSphere.center.clone();
		this.radius=boundSphere.radius;
		this._needUpdate=true;
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setFromCustomData=function(center,radius){
		this.center=new Vector3(center.x,center.y,center.z);
		this.radius=radius;
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			this.setPhysicsGeomertyData();
		}
	}

	__proto.setPhysicsGeomertyData=function(){
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics){
			var geometrySphere=new GeometrySphere(this.radius,this.center,sprite3d.transform.scale);
			(sprite3d.scene).physicsSystem.addShape(sprite3d.compoundShape,geometrySphere);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._awake=function(){
		_super.prototype._awake.call(this);
		var sprite3d=this._owner;
		if ((sprite3d.scene)._enablePhysics && this._originalBoundSphere){
			this.setPhysicsGeomertyData();
		}
	}

	/**
	*设置中心点。
	*@param value 中心点。
	*/
	/**
	*获取中心点。
	*@return 中心点。
	*/
	__getset(0,__proto,'center',function(){
		return this._originalBoundSphere.center;
		},function(value){
		this._originalBoundSphere.center=value;
	});

	/**
	*设置半径。
	*@param value 半径。
	*/
	/**
	*获取半径。
	*@return 半径。
	*/
	__getset(0,__proto,'radius',function(){
		return this._originalBoundSphere.radius;
		},function(value){
		this._originalBoundSphere.radius=value;
	});

	/**
	*获取包围球,只读,不允许修改。
	*@return 包围球。
	*/
	__getset(0,__proto,'boundSphere',function(){
		this._updateCollider();
		return this._transformBoundSphere;
	});

	return SphereCollider;
})(Collider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/ShurikenParticleRender.as=======97.999224/97.999224
/**
*<code>ShurikenParticleRender</code> 类用于创建3D粒子渲染器。
*/
//class laya.d3.core.particleShuriKen.ShurikenParticleRender extends laya.d3.core.render.BaseRender
var ShurikenParticleRender=(function(_super){
	function ShurikenParticleRender(owner){
		/**@private */
		//this._defaultBoundBox=null;
		/**@private */
		//this._renderMode=0;
		/**@private */
		//this._mesh=null;
		/**拉伸广告牌模式摄像机速度缩放,暂不支持。*/
		//this.stretchedBillboardCameraSpeedScale=NaN;
		/**拉伸广告牌模式速度缩放。*/
		//this.stretchedBillboardSpeedScale=NaN;
		/**拉伸广告牌模式长度缩放。*/
		//this.stretchedBillboardLengthScale=NaN;
		this._finalGravity=new Vector3();
		this._tempRotationMatrix=new Matrix4x4();
		ShurikenParticleRender.__super.call(this,owner,52);
		this._defaultBoundBox=new BoundBox(new Vector3(),new Vector3());
		this._renderMode=-1;
		this.stretchedBillboardCameraSpeedScale=0.0;
		this.stretchedBillboardSpeedScale=0.0;
		this.stretchedBillboardLengthScale=1.0;
	}

	__class(ShurikenParticleRender,'laya.d3.core.particleShuriKen.ShurikenParticleRender',_super);
	var __proto=ShurikenParticleRender.prototype;
	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingBox=function(){
		var minE=this._boundingBox.min.elements;
		minE[0]=-Number.MAX_VALUE;
		minE[1]=-Number.MAX_VALUE;
		minE[2]=-Number.MAX_VALUE;
		var maxE=this._boundingBox.min.elements;
		maxE[0]=Number.MAX_VALUE;
		maxE[1]=Number.MAX_VALUE;
		maxE[2]=Number.MAX_VALUE;
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingSphere=function(){
		var oriBoundSphere=(this._owner).particleSystem._boundingSphere;
		var maxScale=NaN;
		var transform=this._owner.transform;
		var scaleE=transform.scale.elements;
		var scaleX=Math.abs(scaleE[0]);
		var scaleY=Math.abs(scaleE[1]);
		var scaleZ=Math.abs(scaleE[2]);
		if (scaleX >=scaleY && scaleX >=scaleZ)
			maxScale=scaleX;
		else
		maxScale=scaleY >=scaleZ ? scaleY :scaleZ;
		Vector3.transformCoordinate(oriBoundSphere.center,transform.worldMatrix,this._boundingSphere.center);
		this._boundingSphere.radius=oriBoundSphere.radius *maxScale;
	}

	/**
	*@inheritDoc
	*/
	__proto._needRender=function(boundFrustum){
		if (boundFrustum){
			if (boundFrustum.containsBoundSphere(this.boundingSphere)!==0){
				if ((this._owner).particleSystem.isAlive)
					return true;
				else
				return false;
				}else {
				return false;
			}
			}else {
			return true;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdate=function(context,transfrom){
		var particleSystem=(this._owner).particleSystem;
		var sv=this._shaderValues;
		var transform=this._owner.transform;
		switch (particleSystem.simulationSpace){
			case 0:
				break ;
			case 1:
				sv.setVector(0,transform.position);
				sv.setQuaternion(1,transform.rotation);
				break ;
			default :
				throw new Error("ShurikenParticleMaterial: SimulationSpace value is invalid.");
			}
		switch (particleSystem.scaleMode){
			case 0:;
				var scale=transform.scale;
				sv.setVector(4,scale);
				sv.setVector(5,scale);
				break ;
			case 1:;
				var localScale=transform.localScale;
				sv.setVector(4,localScale);
				sv.setVector(5,localScale);
				break ;
			case 2:
				sv.setVector(4,transform.scale);
				sv.setVector(5,Vector3.ONE);
				break ;
			}
		Vector3.scale(Physics.gravity,particleSystem.gravityModifier,this._finalGravity);
		sv.setVector(7,this._finalGravity);
		sv.setInt(11,particleSystem.simulationSpace);
		sv.setBool(8,particleSystem.threeDStartRotation);
		sv.setInt(6,particleSystem.scaleMode);
		sv.setInt(9,this.stretchedBillboardLengthScale);
		sv.setInt(10,this.stretchedBillboardSpeedScale);
		sv.setNumber(12,particleSystem._currentTime);
		if (Laya3D.debugMode)
			this._renderRenderableBoundBox();
	}

	/**
	*@inheritDoc
	*/
	__proto._destroy=function(){
		_super.prototype._destroy.call(this);
		(this._mesh)&& (this._mesh._removeReference(),this._mesh=null);
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'boundingBox',function(){
		if (!(this._owner).particleSystem.isAlive){
			return this._defaultBoundBox;
			}else {
			if (this._boundingBoxNeedChange){
				this._calculateBoundingBox();
				this._boundingBoxNeedChange=false;
			}
			return this._boundingBox;
		}
	});

	/**
	*设置渲染模式,0为BILLBOARD、1为STRETCHEDBILLBOARD、2为HORIZONTALBILLBOARD、3为VERTICALBILLBOARD、4为MESH。
	*@param value 渲染模式。
	*/
	/**
	*获取渲染模式。
	*@return 渲染模式。
	*/
	__getset(0,__proto,'renderMode',function(){
		return this._renderMode;
		},function(value){
		if (this._renderMode!==value){
			var defineDatas=this._defineDatas;
			switch (this._renderMode){
				case 0:
					defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_BILLBOARD);
					break ;
				case 1:
					defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_STRETCHEDBILLBOARD);
					break ;
				case 2:
					defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_HORIZONTALBILLBOARD);
					break ;
				case 3:
					defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_VERTICALBILLBOARD);
					break ;
				case 4:
					defineDatas.remove(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_MESH);
					break ;
				}
			this._renderMode=value;
			switch (value){
				case 0:
					defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_BILLBOARD);
					break ;
				case 1:
					defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_STRETCHEDBILLBOARD);
					break ;
				case 2:
					defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_HORIZONTALBILLBOARD);
					break ;
				case 3:
					defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_VERTICALBILLBOARD);
					break ;
				case 4:
					defineDatas.add(ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_MESH);
					break ;
				default :
					throw new Error("ShurikenParticleRender: unknown renderMode Value.");
				}
			(this._owner).particleSystem._initBufferDatas();
		}
	});

	/**
	*设置网格渲染模式所使用的Mesh,rendderMode为4时生效。
	*@param value 网格模式所使用Mesh。
	*/
	/**
	*获取网格渲染模式所使用的Mesh,rendderMode为4时生效。
	*@return 网格模式所使用Mesh。
	*/
	__getset(0,__proto,'mesh',function(){
		return this._mesh
		},function(value){
		if (this._mesh!==value){
			(this._mesh)&& (this._mesh._removeReference());
			this._mesh=value;
			(value)&& (value._addReference());
			(this._owner).particleSystem._initBufferDatas();
		}
	});

	return ShurikenParticleRender;
})(BaseRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/TrailRenderer.as=======97.999202/97.999202
/**
*...
*@author ...
*/
//class laya.d3.core.trail.TrailRenderer extends laya.d3.core.render.BaseRender
var TrailRenderer=(function(_super){
	function TrailRenderer(owner){
		this._projectionViewWorldMatrix=new Matrix4x4();
		TrailRenderer.__super.call(this,owner);
	}

	__class(TrailRenderer,'laya.d3.core.trail.TrailRenderer',_super);
	var __proto=TrailRenderer.prototype;
	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingBox=function(){
		var minE=this._boundingBox.min.elements;
		minE[0]=-Number.MAX_VALUE;
		minE[1]=-Number.MAX_VALUE;
		minE[2]=-Number.MAX_VALUE;
		var maxE=this._boundingBox.min.elements;
		maxE[0]=Number.MAX_VALUE;
		maxE[1]=Number.MAX_VALUE;
		maxE[2]=Number.MAX_VALUE;
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingSphere=function(){
		var centerE=this._boundingSphere.center.elements;
		centerE[0]=0;
		centerE[1]=0;
		centerE[2]=0;
		this._boundingSphere.radius=Number.MAX_VALUE;
	}

	/**
	*@inheritDoc
	*/
	__proto._needRender=function(boundFrustum){
		return true;
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdate=function(state,transform){
		_super.prototype._renderUpdate.call(this,state);
		(this._owner).trailFilter._update(state);
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdateWithCamera=function(context,transform){
		var projectionView=context.projectionViewMatrix;
		if (transform){
			Matrix4x4.multiply(projectionView,transform.worldMatrix,this._projectionViewWorldMatrix);
			this._shaderValues.setMatrix4x4(1,this._projectionViewWorldMatrix);
			}else {
			this._shaderValues.setMatrix4x4(1,projectionView);
		}
		if (Laya3D.debugMode)
			this._renderRenderableBoundBox();
	}

	return TrailRenderer;
})(BaseRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/Bitmap.as=======97.999182/97.999182
/**
*@private
*<code>Bitmap</code> 图片资源类。
*/
//class laya.resource.Bitmap extends laya.resource.Resource
var Bitmap=(function(_super){
	function Bitmap(){
		/**@private */
		//this._width=NaN;
		/**@private */
		//this._height=NaN;
		Bitmap.__super.call(this);
		this._width=-1;
		this._height=-1;
	}

	__class(Bitmap,'laya.resource.Bitmap',_super);
	var __proto=Bitmap.prototype;
	/**
	*@private
	*获取纹理资源。
	*/
	__proto._getSource=function(){
		throw "Bitmap: must override it.";
	}

	/**
	*获取宽度。
	*/
	__getset(0,__proto,'width',function(){
		return this._width;
	});

	/***
	*获取高度。
	*/
	__getset(0,__proto,'height',function(){
		return this._height;
	});

	return Bitmap;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/BaseMesh.as=======97.999179/97.999179
/**
*<code>BaseMesh</code> 类用于创建网格,抽象类,不允许实例。
*/
//class laya.d3.resource.models.BaseMesh extends laya.resource.Resource
var BaseMesh=(function(_super){
	function BaseMesh(){
		/**@private */
		this._boundingBox=null;
		/**@private */
		this._boundingSphere=null;
		/**@private */
		this._boundingBoxCorners=null;
		/**@private */
		this._subMeshCount=0;
		/**@private 只读,不允许修改。*/
		this._positions=null;
		BaseMesh.__super.call(this);
		this._boundingBoxCorners=__newvec(8,null);
	}

	__class(BaseMesh,'laya.d3.resource.models.BaseMesh',_super);
	var __proto=BaseMesh.prototype;
	/**
	*获取网格顶点,请重载此方法。
	*@return 网格顶点。
	*/
	__proto._getPositions=function(){
		throw new Error("未Override,请重载该属性！");
	}

	/**
	*@private
	*/
	__proto._generateBoundingObject=function(){
		this._boundingSphere=new BoundSphere(new Vector3(),0);
		BoundSphere.createfromPoints(this._positions,this._boundingSphere);
		this._boundingBox=new BoundBox(new Vector3(),new Vector3());
		BoundBox.createfromPoints(this._positions,this._boundingBox);
		this._boundingBox.getCorners(this._boundingBoxCorners);
	}

	/**
	*@private
	*/
	__proto._getSubMesh=function(index){
		throw new Error("未Override,请重载该属性！");
	}

	/**
	*获取SubMesh的个数。
	*@return SubMesh的个数。
	*/
	__getset(0,__proto,'subMeshCount',function(){
		return this._subMeshCount;
	});

	/**
	*获取AABB包围盒,禁止修改其数据。
	*@return AABB包围盒。
	*/
	__getset(0,__proto,'boundingBox',function(){
		return this._boundingBox;
	});

	/**
	*获取包围球顶点,禁止修改其数据。
	*@return 包围球。
	*/
	__getset(0,__proto,'boundingBoxCorners',function(){
		return this._boundingBoxCorners;
	});

	/**
	*获取包围球,禁止修改其数据。
	*@return 包围球。
	*/
	__getset(0,__proto,'boundingSphere',function(){
		return this._boundingSphere;
	});

	return BaseMesh;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/shader/ShaderInstance.as=======97.999160/97.999160
/**
*@private
*<code>ShaderInstance</code> 类用于实现ShaderInstance。
*/
//class laya.d3.shader.ShaderInstance extends laya.resource.Resource
var ShaderInstance=(function(_super){
	function ShaderInstance(vs,ps,attributeMap,uniformMap){
		/**@private */
		//this._attributeMap=null;
		/**@private */
		//this._uniformMap=null;
		/**@private */
		//this._vs=null;
		/**@private */
		//this._ps=null;
		/**@private */
		//this._curActTexIndex=0;
		/**@private */
		//this._vshader=null;
		/**@private */
		//this._pshader=null;
		/**@private */
		//this._program=null;
		/**@private */
		//this._shaderParamsIDs=null;
		/**@private */
		//this._attributeParamsMap=null;
		/**@private */
		//this._sceneUniformParamsMap=null;
		/**@private */
		//this._cameraUniformParamsMap=null;
		/**@private */
		//this._spriteUniformParamsMap=null;
		/**@private */
		//this._materialUniformParamsMap=null;
		/**@private */
		//this._customUniformParamsMap=null;
		/**@private */
		//this._uploadLoopCount=0;
		/**@private */
		//this._uploadMaterial=null;
		/**@private */
		//this._uploadRender=null;
		/**@private */
		//this._uploadCamera=null;
		/**@private */
		//this._uploadScene=null;
		ShaderInstance.__super.call(this);
		if (!vs || !ps)
			throw "Shader Error";
		this._vs=vs;
		this._ps=ps;
		this._attributeMap=attributeMap;
		this._uniformMap=uniformMap;
		this._create();
	}

	__class(ShaderInstance,'laya.d3.shader.ShaderInstance',_super);
	var __proto=ShaderInstance.prototype;
	/**
	*@private
	*/
	__proto._create=function(){
		var gl=LayaGL.instance;
		this._program=gl.createProgram();
		this._vshader=this._createShader(gl,this._vs,0x8B31);
		this._pshader=this._createShader(gl,this._ps,0x8B30);
		gl.attachShader(this._program,this._vshader);
		gl.attachShader(this._program,this._pshader);
		gl.linkProgram(this._program);
		if (!Render.isConchApp && Shader3D.debugMode && !gl.getProgramParameter(this._program,0x8B82))
			throw gl.getProgramInfoLog(this._program);
		var one,i=0,n=0;
		var attribNum=0;
		if (Render.isConchApp){
			attribNum=gl.getProgramParameterEx(this._vs,this._ps,"",0x8B89);
			}else {
			attribNum=gl.getProgramParameter(this._program,0x8B89);
		}
		this._attributeParamsMap=LayaGL.instance.createCommandEncoder(attribNum *4 *4+4,64,true);
		for (i=0;i < attribNum;i++){
			var attribData=null;
			if (Render.isConchApp){
				attribData=gl.getActiveAttribEx(this._vs,this._ps,"",i);
				}else {
				attribData=gl.getActiveAttrib(this._program,i);
			};
			var attName=attribData.name;
			one=new ShaderVariable();
			one.location=gl.getAttribLocation(this._program,attName);
			one.name=attName;
			one.type=attribData.type;
			if (this._attributeMap[attName] !=null){
				one.dataOffset=this._attributeMap[attName];
				this._addShaderAttribute(this._attributeParamsMap,one);
				}else {
				console.log("Shader:can't find uinform name:"+attName+" in shader file.");
			}
		};
		var sceneParms=[];
		var cameraParms=[];
		var spriteParms=[];
		var materialParms=[];
		var customParms=[];
		this._customUniformParamsMap=[];
		var nUniformNum=0;
		if (Render.isConchApp){
			nUniformNum=gl.getProgramParameterEx(this._vs,this._ps,"",0x8B86);
			}else {
			nUniformNum=gl.getProgramParameter(this._program,0x8B86);
		}
		WebGLContext.useProgram(gl,this._program);
		this._curActTexIndex=0;
		for (i=0;i < nUniformNum;i++){
			var uniformData=null;
			if (Render.isConchApp){
				uniformData=gl.getActiveUniformEx(this._vs,this._ps,"",i);
				}else {
				uniformData=gl.getActiveUniform(this._program,i);
			};
			var uniName=uniformData.name;
			one=new ShaderVariable();
			one.location=gl.getUniformLocation(this._program,uniName);
			if (uniName.indexOf('[0]')> 0){
				one.name=uniName=uniName.substr(0,uniName.length-3);
				one.isArray=true;
				}else {
				one.name=uniName;
				one.isArray=false;
			}
			one.type=uniformData.type;
			this._addShaderUnifiormFun(one);
			var uniform=this._uniformMap[uniName];
			if (uniform !=null){
				one.dataOffset=uniform[0];
				switch (uniform[1]){
					case 0:
						customParms.push(one);
						break ;
					case 1:
						materialParms.push(one);
						break ;
					case 2:
						spriteParms.push(one);
						break ;
					case 3:
						cameraParms.push(one);
						break ;
					case 4:
						sceneParms.push(one);
						break ;
					default :
						throw new Error("Shader3D: period is unkonw.");
					}
				}else {
				console.log("Shader3D:can't find uinform name:"+this._uniformMap[one.name]+" in shader file.");
			}
		}
		this._sceneUniformParamsMap=LayaGL.instance.createCommandEncoder(sceneParms.length *4 *5+4,64,true);
		for (i=0,n=sceneParms.length;i < n;i++)
		this._sceneUniformParamsMap.addShaderUniform(sceneParms[i]);
		this._cameraUniformParamsMap=LayaGL.instance.createCommandEncoder(cameraParms.length *4 *5+4,64,true);
		for (i=0,n=cameraParms.length;i < n;i++)
		this._cameraUniformParamsMap.addShaderUniform(cameraParms[i]);
		this._spriteUniformParamsMap=LayaGL.instance.createCommandEncoder(spriteParms.length *4 *5+4,64,true);
		for (i=0,n=spriteParms.length;i < n;i++)
		this._spriteUniformParamsMap.addShaderUniform(spriteParms[i]);
		this._materialUniformParamsMap=LayaGL.instance.createCommandEncoder(materialParms.length *4 *5+4,64,true);
		for (i=0,n=materialParms.length;i < n;i++)
		this._materialUniformParamsMap.addShaderUniform(materialParms[i]);
		this._customUniformParamsMap.length=customParms.length;
		for (i=0,n=customParms.length;i < n;i++){
			var custom=customParms[i];
			this._customUniformParamsMap[custom.dataOffset]=custom;
		}
		if (Render.isConchApp){
			this._shaderParamsIDs=new Int32Array(5);
			LayaGL.createArrayBufferRef(this._shaderParamsIDs,0,true);
			this._shaderParamsIDs[0]=this._attributeParamsMap.getPtrID();
			this._shaderParamsIDs[1]=this._sceneUniformParamsMap.getPtrID();
			this._shaderParamsIDs[2]=this._cameraUniformParamsMap.getPtrID();
			this._shaderParamsIDs[3]=this._spriteUniformParamsMap.getPtrID();
			this._shaderParamsIDs[4]=this._materialUniformParamsMap.getPtrID();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		LayaGL.instance.deleteShader(this._vshader);
		LayaGL.instance.deleteShader(this._pshader);
		LayaGL.instance.deleteProgram(this._program);
		this._vshader=this._pshader=this._program=null;
		this._setGPUMemory(0);
		this._curActTexIndex=0;
	}

	/**
	*@private
	*/
	__proto._addShaderAttribute=function(attribureMap,one){
		one.caller=this;
		one.fun=this._attribute;
		attribureMap.addShaderAttribute(one);
	}

	/**
	*@private
	*/
	__proto._addShaderUnifiormFun=function(one){
		var gl=LayaGL.instance;
		one.caller=this;
		var isArray=one.isArray;
		switch (one.type){
			case 0x8B56:
				one.fun=this._uniform1i;
				one.uploadedValue=new Array(1);
				break ;
			case 0x1404:
				one.fun=isArray ? this._uniform1iv :this._uniform1i;
				one.uploadedValue=new Array(1);
				break ;
			case 0x1406:
				one.fun=isArray ? this._uniform1fv :this._uniform1f;
				one.uploadedValue=new Array(1);
				break ;
			case 0x8B50:
				one.fun=isArray ? this._uniform_vec2v :this._uniform_vec2;
				one.uploadedValue=new Array(2);
				break ;
			case 0x8B51:
				one.fun=isArray ? this._uniform_vec3v :this._uniform_vec3;
				one.uploadedValue=new Array(3);
				break ;
			case 0x8B52:
				one.fun=isArray ? this._uniform_vec4v :this._uniform_vec4;
				one.uploadedValue=new Array(4);
				break ;
			case 0x8B5A:
				one.fun=this._uniformMatrix2fv;
				break ;
			case 0x8B5B:
				one.fun=this._uniformMatrix3fv;
				break ;
			case 0x8B5C:
				one.fun=isArray ? this._uniformMatrix4fv :this._uniformMatrix4f;
				break ;
			case 0x8B5E:
				gl.uniform1i(one.location,this._curActTexIndex);
				one.textureID=WebGLContext._glTextureIDs[this._curActTexIndex++];
				one.fun=this._uniform_sampler2D;
				break ;
			case 0x8b5f:
				gl.uniform1i(one.location,this._curActTexIndex);
				one.textureID=WebGLContext._glTextureIDs[this._curActTexIndex++];
				one.fun=this._uniform_sampler3D;
				break ;
			case 0x8B60:
				gl.uniform1i(one.location,this._curActTexIndex);
				one.textureID=WebGLContext._glTextureIDs[this._curActTexIndex++];
				one.fun=this._uniform_samplerCube;
				break ;
			default :
				throw new Error("compile shader err!");
				break ;
			}
	}

	/**
	*@private
	*/
	__proto._createShader=function(gl,str,type){
		var shader=gl.createShader(type);
		gl.shaderSource(shader,str);
		gl.compileShader(shader);
		if (Shader3D.debugMode && !gl.getShaderParameter(shader,0x8B81))
			throw gl.getShaderInfoLog(shader);
		return shader;
	}

	/**
	*@private
	*/
	__proto._attribute=function(one,value){
		var gl=LayaGL.instance;
		var bindedAttributeBuffer=Buffer._bindedAtributeBuffer;
		var bindedAttributeDeclaration=Buffer._bindedAttributeDeclaration;
		var location=one.location;
		var verBuf=Buffer._bindedVertexBuffer;
		(bindedAttributeBuffer[location])|| (gl.enableVertexAttribArray(location));
		if (bindedAttributeBuffer[location]!==verBuf || bindedAttributeDeclaration[location]!==value){
			gl.vertexAttribPointer(location,value[0],value[1],value[2],value[3],value[4]);
			bindedAttributeBuffer[location]=verBuf;
			bindedAttributeDeclaration[location]=value;
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform1f=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value){
			LayaGL.instance.uniform1f(one.location,uploadedValue[0]=value);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform1fv=function(one,value){
		if (value.length < 4){
			var uploadedValue=one.uploadedValue;
			if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
				LayaGL.instance.uniform1fv(one.location,value);
				uploadedValue[0]=value[0];
				uploadedValue[1]=value[1];
				uploadedValue[2]=value[2];
				uploadedValue[3]=value[3];
				return 1;
			}
			return 0;
			}else {
			LayaGL.instance.uniform1fv(one.location,value);
			return 1;
		}
	}

	/**
	*@private
	*/
	__proto._uniform_vec2=function(one,v){
		var value=v.elements;
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){
			LayaGL.instance.uniform2f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_vec2v=function(one,value){
		if (value.length < 2){
			var uploadedValue=one.uploadedValue;
			if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
				LayaGL.instance.uniform2fv(one.location,value);
				uploadedValue[0]=value[0];
				uploadedValue[1]=value[1];
				uploadedValue[2]=value[2];
				uploadedValue[3]=value[3];
				return 1;
			}
			return 0;
			}else {
			LayaGL.instance.uniform2fv(one.location,value);
			return 1;
		}
	}

	/**
	*@private
	*/
	__proto._uniform_vec3=function(one,v){
		var value=v.elements;
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){
			LayaGL.instance.uniform3f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_vec3v=function(one,v){
		LayaGL.instance.uniform3fv(one.location,v);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform_vec4=function(one,v){
		var value=v.elements;
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
			LayaGL.instance.uniform4f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_vec4v=function(one,v){
		LayaGL.instance.uniform4fv(one.location,v);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniformMatrix2fv=function(one,value){
		LayaGL.instance.uniformMatrix2fv(one.location,false,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniformMatrix3fv=function(one,value){
		LayaGL.instance.uniformMatrix3fv(one.location,false,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniformMatrix4f=function(one,m){
		var value=m.elements;
		LayaGL.instance.uniformMatrix4fv(one.location,false,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniformMatrix4fv=function(one,m){
		LayaGL.instance.uniformMatrix4fv(one.location,false,m);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform1i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value){
			LayaGL.instance.uniform1i(one.location,uploadedValue[0]=value);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform1iv=function(one,value){
		LayaGL.instance.uniform1iv(one.location,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform_ivec2=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){
			LayaGL.instance.uniform2i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_ivec2v=function(one,value){
		LayaGL.instance.uniform2iv(one.location,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform_vec3i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){
			LayaGL.instance.uniform3i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_vec3vi=function(one,value){
		LayaGL.instance.uniform3iv(one.location,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform_vec4i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
			LayaGL.instance.uniform4i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);
			return 1;
		}
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_vec4vi=function(one,value){
		LayaGL.instance.uniform4iv(one.location,value);
		return 1;
	}

	/**
	*@private
	*/
	__proto._uniform_sampler2D=function(one,texture){
		var value=texture._getSource()|| texture.defaulteTexture._getSource();
		var gl=LayaGL.instance;
		WebGLContext.activeTexture(gl,one.textureID);
		WebGLContext.bindTexture(gl,0x0DE1,value);
		return 0;
	}

	__proto._uniform_sampler3D=function(one,texture){
		var value=texture._getSource()|| texture.defaulteTexture._getSource();
		var gl=LayaGL.instance;
		WebGLContext.activeTexture(gl,one.textureID);
		WebGLContext.bindTexture(gl,0x806f,value);
		return 0;
	}

	/**
	*@private
	*/
	__proto._uniform_samplerCube=function(one,texture){
		var value=texture._getSource()|| texture.defaulteTexture._getSource();
		var gl=LayaGL.instance;
		WebGLContext.activeTexture(gl,one.textureID);
		WebGLContext.bindTexture(gl,0x8513,value);
		return 0;
	}

	/**
	*@private
	*/
	__proto.bind=function(){
		return WebGLContext.useProgram(LayaGL.instance,this._program);
	}

	/**
	*@private
	*/
	__proto.uploadAttributes=function(shaderDatas){
		Stat.shaderCall+=LayaGLRunner.uploadVertexBufferAttributes(LayaGL.instance,this._attributeParamsMap,shaderDatas._data);
	}

	/**
	*@private
	*/
	__proto.uploadMultiAttributes=function(multiData){
		Stat.shaderCall+=LayaGLRunner.uploadMultiVertexBufferAttributes(LayaGL.instance,this._attributeParamsMap,multiData);
	}

	/**
	*@private
	*/
	__proto.uploadUniforms=function(shaderUniform,shaderDatas,uploadUnTexture){
		Stat.shaderCall+=LayaGLRunner.uploadShaderUniforms(LayaGL.instance,shaderUniform,shaderDatas._data,uploadUnTexture);
	}

	/**
	*@private
	*/
	__proto.uploadCustomUniform=function(index,data){
		Stat.shaderCall+=LayaGLRunner.uploadCustomUniform(LayaGL.instance,this._customUniformParamsMap,index,data);
	}

	/**
	*@private
	*[NATIVE]
	*/
	__proto._uniformMatrix2fvForNative=function(one,value){
		LayaGL.instance.uniformMatrix2fvEx(one.location,false,value);
		return 1;
	}

	/**
	*@private
	*[NATIVE]
	*/
	__proto._uniformMatrix3fvForNative=function(one,value){
		LayaGL.instance.uniformMatrix3fvEx(one.location,false,value);
		return 1;
	}

	/**
	*@private
	*[NATIVE]
	*/
	__proto._uniformMatrix4fvForNative=function(one,m){
		LayaGL.instance.uniformMatrix4fvEx(one.location,false,m);
		return 1;
	}

	/**
	*@private
	*[NATIVE]
	*/
	__proto.uploadShaderParamForNative=function(attrValue,sceneValue,cameraValue,spriteValue,materialValue){
		Stat.shaderCall+=LayaGL.instance.uploadShaderParamForNative(this._shaderParamsIDs,attrValue,sceneValue,cameraValue,spriteValue,materialValue);
	}

	return ShaderInstance;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/runtime/ConchSpriteAdpt.as=======97.999151/97.999151
/**
*...
*@author ww
*/
//class laya.runtime.ConchSpriteAdpt extends laya.display.Node
var ConchSpriteAdpt=(function(_super){
	function ConchSpriteAdpt(){
		this._drawSimpleImageData=null;
		this._dataf32=null;
		this._datai32=null;
		/**@private */
		this._x=0;
		/**@private */
		this._y=0;
		/**@private */
		this._renderType=0;
		ConchSpriteAdpt.__super.call(this);
	}

	__class(ConchSpriteAdpt,'laya.runtime.ConchSpriteAdpt',_super);
	var __proto=ConchSpriteAdpt.prototype;
	__proto.createData=function(){
		var nSize=53 *4;
		this.data=new ParamData(nSize,false);
		this._datai32=this.data._int32Data;
		this._dataf32=this.data._float32Data;
		this._datai32[4]=-2;
		this._datai32[21]=0xFFFFFFFF;
		this._dataf32[7]=0;
		this._dataf32[8]=0;
		this._dataf32[9]=1;
		this._dataf32[10]=1;
		this._dataf32[15]=1;
		this._dataf32[15+1]=0;
		this._dataf32[15+2]=0;
		this._dataf32[15+3]=1;
		this._dataf32[15+4]=0;
		this._dataf32[15+5]=0;
		this._datai32[23]=-1;
		this._datai32[24]=-1;
		this._datai32[26]=-1;
		this._datai32[27]=0;
		this._datai32[27+1]=0;
		this._datai32[27+2]=1000000;
		this._datai32[27+3]=1000000;
	}

	__proto._createTransform=function(){
		return MatrixConch.create(new Float32Array(6));
	}

	//return MatrixConch.create(new Float32Array(_dataf32.buffer,SpriteConst.POSMATRIX*4,6));
	__proto._setTransform=function(value){
		var f32=this.data._float32Data;
		f32[14]=0;
		f32[15]=value.a;
		f32[15+1]=value.b;
		f32[15+2]=value.c;
		f32[15+3]=value.d;
		f32[15+4]=value.tx;
		f32[15+5]=value.ty;
	}

	__proto._setGraphics=function(value){
		this._datai32[22]=value._commandEncoder.getPtrID();
	}

	__proto._setCacheAs=function(value){
		this._dataf32[SpriteConst.POSCACHE]=value=="bitmap"?2:(value=="normal"?1:0);
	}

	__proto._setX=function(value){
		this._x=this._dataf32[5]=value;
		this._renderType |=0x02
		this._setRenderType(this._renderType);
		this._dataf32[14]=1.0;
	}

	__proto._setY=function(value){
		this._y=this._dataf32[6]=value;
		this._renderType |=0x02
		this._setRenderType(this._renderType);
		this._dataf32[14]=1.0;
	}

	__proto._setPivotX=function(value){
		this._renderType |=0x02
		this._dataf32[7]=value;
		this._dataf32[14]=1.0;
	}

	__proto._getPivotX=function(){
		return this._dataf32[7];
	}

	__proto._setPivotY=function(value){
		this._renderType |=0x02
		this._dataf32[8]=value;
		this._dataf32[14]=1.0;
	}

	__proto._getPivotY=function(){
		return this._dataf32[8];
	}

	__proto._setAlpha=function(value){
		var style=this.getStyle();
		style.alpha=value;
		value=value > 1 ? 1 :value;
		value=value < 0 ? 0 :value;
		var nColor=this._datai32[21];
		var nAlpha=nColor >> 24;
		nAlpha=value *255;
		nColor=(nColor & 0xffffff)| nAlpha<<24;
		this._datai32[21]=nColor;
		if (value!==1)
			this._renderType |=0x01;
		else
		this._renderType &=~0x01;
		this._setRenderType(this._renderType);
		this.parentRepaint();
	}

	__proto._setRenderType=function(type){
		this._datai32[0]=type;
		LayaGLTemplate.GLS[type] || LayaGLTemplate.createByRenderType(type);
	}

	__proto.parentRepaint=function(){}
	__proto._getAlpha=function(){
		return (this._datai32[21]>>>24)/255;
	}

	__proto._setScaleX=function(value){
		this._style.scaleX=this._dataf32[9]=value;
		this._dataf32[14]=1.0;
	}

	__proto._setScaleY=function(value){
		this._style.scaleY=this._dataf32[10]=value;
		this._dataf32[14]=1.0;
	}

	__proto._setSkewX=function(value){
		this._style.skewX=this._dataf32[11]=value;
		this._dataf32[14]=1.0;
	}

	__proto._setSkewY=function(value){
		this._style.skewY=this._dataf32[12]=value;
		this._dataf32[14]=1.0;
	}

	__proto._setRotation=function(value){
		this._style.rotation=this._dataf32[13]=value;
		this._dataf32[14]=1.0;
	}

	__proto._setTextureEx=function(value,isloaded){
		var _fb=null;
		var _i32b=null;
		if (!this._drawSimpleImageData){
			this._drawSimpleImageData=new ParamData(29 *4,true);
			_fb=this._drawSimpleImageData._float32Data;
			_i32b=this._drawSimpleImageData._int32Data;
			_i32b[0]=3;
			_i32b[1]=0x84C0;
			_i32b[2]=isloaded?value.bitmap._glTexture:0;
			_i32b[3]=1;
			_i32b[4]=24*4;
			_fb[5]=0;_fb[6]=0;_fb[7]=0;_fb[8]=0;_i32b[9]=0xffffffff;_i32b[10]=0xffffffff;
			_fb[11]=0;_fb[12]=0;_fb[13]=1;_fb[14]=0;_i32b[15]=0xffffffff;_i32b[16]=0xffffffff;
			_fb[17]=0;_fb[18]=0;_fb[19]=1;_fb[20]=1;_i32b[21]=0xffffffff;_i32b[22]=0xffffffff;
			_fb[23]=0;_fb[24]=0;_fb[25]=0;_fb[26]=1;_i32b[27]=0xffffffff;_i32b[28]=0xffffffff;
		}
		_fb=this._drawSimpleImageData._float32Data;
		_i32b=this._drawSimpleImageData._int32Data;
		_i32b[2]=isloaded?value.bitmap._glTexture:0;
		var w=isloaded?value.bitmap.width:0;
		var h=isloaded?value.bitmap.height:0;
		_fb[11]=_fb[17]=w;
		_fb[18]=_fb[24]=h;
		var nPtrID=this._drawSimpleImageData.getPtrID();
		this._datai32[24]=nPtrID;
		LayaGL.syncBufferToRenderThread(this._drawSimpleImageData);
		this._datai32[23]=LayaNative2D._SIMPLE_TEXTURE_CMDENCODER_.getPtrID();
	}

	__proto._setTexture=function(value){
		if (!value)return;
		if (value.loaded){
			this._setTextureEx(value,true);
		}
		else{
			this._setTextureEx(value,false);
			value.on("loaded",this,this._setTextureEx,[value,true]);
		}
	}

	__proto._setCustomRender=function(){
		this._customRenderCmd=LayaGL.instance.createCommandEncoder(128,64,true);
		this._datai32[26]=this._customRenderCmd.getPtrID();
	}

	__proto._setScrollRect=function(value){
		this._dataf32[27]=0;
		this._dataf32[27+1]=0;
		this._dataf32[27+2]=value.width;
		this._dataf32[27+3]=value.height;
		this._dataf32[31]=-value.x;
		this._dataf32[31+1]=-value.y;
	}

	__proto._setColorFilter=function(value){
		if (!value){
			}else{
			var colorFilter=value;
			this._dataf32.set(colorFilter._mat,33);
			this._dataf32.set(colorFilter._alpha,49);
		}
	}

	__proto._adjustTransform=function(){
		var m=this._transform || (this._transform=this._createTransform());
		m._bTransform=true;
		window.conch.calcMatrixFromScaleSkewRotation(this.data._data["_ptrID"],14*4,15*4,5*4,6*4,7*4,
		8*4,9*4,10*4,11*4,12*4,13*4);
		var f32=this.data._float32Data;
		m.a=f32[15];
		m.b=f32[15+1];
		m.c=f32[15+2];
		m.d=f32[15+3];
		m.tx=0;
		m.ty=0;
		return m;
	}

	ConchSpriteAdpt.createMatrix=function(a,b,c,d,tx,ty,nums){
		(a===void 0)&& (a=1);
		(b===void 0)&& (b=0);
		(c===void 0)&& (c=0);
		(d===void 0)&& (d=1);
		(tx===void 0)&& (tx=0);
		(ty===void 0)&& (ty=0);
		return new MatrixConch(a,b,c,d,tx,ty,nums);
	}

	ConchSpriteAdpt.init=function(){
		ConchCmdReplace.__init__();
		ConchGraphicsAdpt.__init__();
		var spP=Sprite["prototype"];
		var mP=ConchSpriteAdpt["prototype"];
		var funs=[
		"_createTransform",
		"_setTransform",
		"_setGraphics",
		"_setCacheAs",
		"_setX",
		"_setY",
		"_setPivotX",
		"_getPivotX",
		"_setPivotY",
		"_getPivotY",
		"_setAlpha",
		"_getAlpha",
		"_setScaleX",
		"_setScaleY",
		"_setSkewX",
		"_setSkewY",
		"_setRotation",
		"_adjustTransform",
		"_setRenderType",
		"_setTexture",
		"_setTextureEx",
		"_setCustomRender",
		"_setScrollRect",
		"_setColorFilter"];
		var i=0,len=0;
		len=funs.length;
		var tFunName;
		for (i=0;i < len;i++){
			tFunName=funs[i];
			spP[tFunName]=mP[tFunName];
		}
		spP["createGLBuffer"]=mP["createData"];
		Matrix._createFun=ConchSpriteAdpt.createMatrix;
	}

	return ConchSpriteAdpt;
})(Node)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainHeightData.as=======97.999150/97.999150
/**
*<code>TerrainHeightData</code> 类用于描述地形高度信息。
*/
//class laya.d3.terrain.TerrainHeightData extends laya.resource.Resource
var TerrainHeightData=(function(_super){
	function TerrainHeightData(){
		this._terrainHeightData=null;
		this._width=0;
		this._height=0;
		this._bitType=0;
		this._value=NaN;
		TerrainHeightData.__super.call(this);
	}

	__class(TerrainHeightData,'laya.d3.terrain.TerrainHeightData',_super);
	var __proto=TerrainHeightData.prototype;
	/**
	*异步回调
	*/
	__proto._onAsynLoaded=function(data,params){
		this._width=params[0];
		this._height=params[1];
		this._bitType=params[2];
		this._value=params[3];
		var buffer;
		var ratio=NaN;
		if (this._bitType==8){
			buffer=new Uint8Array(data);
			ratio=1.0 / 255.0;
		}
		else if (this._bitType==16){
			buffer=new Int16Array(data);
			ratio=1.0 / 32766.0;
		}
		this._terrainHeightData=new Float32Array(this._height *this._width);
		for (var i=0,n=this._height *this._width;i < n;i++){
			this._terrainHeightData[i]=(buffer[i] *ratio *this._value)/2;
		}
	}

	TerrainHeightData.load=function(url,widht,height,bitType,value){
		return Laya.loader.create(url,null,null,TerrainHeightData,[widht,height,bitType,value],1,false);
	}

	return TerrainHeightData;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainRes.as=======97.999147/97.999147
/**
*<code>TerrainRes</code> 类用于描述地形信息。
*/
//class laya.d3.terrain.TerrainRes extends laya.resource.Resource
var TerrainRes=(function(_super){
	function TerrainRes(){
		this._version=NaN;
		this._cameraCoordinateInverse=false;
		this._gridSize=NaN;
		this._chunkNumX=0;
		this._chunkNumZ=0;
		this._heightDataX=0;
		this._heightDataZ=0;
		this._heightDataBitType=0;
		this._heightDataValue=NaN;
		this._heightDataUrl=null;
		this._detailTextureInfos=null;
		this._chunkInfos=null;
		this._heightData=null;
		this._materialInfo=null;
		this._alphaMaps=null;
		this._normalMaps=null;
		TerrainRes.__super.call(this);
	}

	__class(TerrainRes,'laya.d3.terrain.TerrainRes',_super);
	var __proto=TerrainRes.prototype;
	__proto.parseData=function(data){
		var json=data[0];
		var resouMap=data[1];
		this._version=json.version;
		if (this._version==1.0){
			this._cameraCoordinateInverse=json.cameraCoordinateInverse;
			this._gridSize=json.gridSize;
			this._chunkNumX=json.chunkNumX;
			this._chunkNumZ=json.chunkNumZ;
			var heightData=json.heightData;
			this._heightDataX=heightData.numX;
			this._heightDataZ=heightData.numZ;
			this._heightDataBitType=heightData.bitType;
			this._heightDataValue=heightData.value;
			this._heightDataUrl=resouMap[heightData.url];
			this._materialInfo=new MaterialInfo();
			if (json.material){
				var ambient=json.material.ambient;
				var diffuse=json.material.diffuse;
				var specular=json.material.specular;
				this._materialInfo.ambientColor=new Vector3(ambient[0],ambient[1],ambient[2]);
				this._materialInfo.diffuseColor=new Vector3(diffuse[0],diffuse[1],diffuse[2]);
				this._materialInfo.specularColor=new Vector4(specular[0],specular[1],specular[2],specular[3]);
			};
			var detailTextures=json.detailTexture;
			this._detailTextureInfos=__newvec(detailTextures.length);
			for (var i=0;i < detailTextures.length;i++){
				var detail=detailTextures[i];
				var info=new DetailTextureInfo();
				info.diffuseTexture=resouMap[detail.diffuse];
				info.normalTexture=detail.normal ? resouMap[detail.normal] :null;
				if (detail.scale){
					info.scale=new Vector2(detail.scale[0],detail.scale[1]);
					}else {
					info.scale=new Vector2(1,1);
				}
				if (detail.offset){
					info.offset=new Vector2(detail.offset[0],detail.offset[1]);
					}else {
					info.offset=new Vector2(0,0);
				}
				this._detailTextureInfos[i]=info;
			};
			var alphaMaps=json.alphaMap;
			this._alphaMaps=__newvec(alphaMaps.length);
			for (i=0;i < this._alphaMaps.length;i++){
				this._alphaMaps[i]=json.alphaMap[i];
			};
			var normalMaps=json.normalMap;
			this._normalMaps=__newvec(normalMaps.length);
			for (i=0;i < this._normalMaps.length;i++){
				this._normalMaps[i]=json.normalMap[i];
			};
			var jchunks=json.chunkInfo;
			if (this._chunkNumX *this._chunkNumZ !=jchunks.length){
				alert("terrain data error");
				return false;
			}
			this._chunkInfos=__newvec(jchunks.length);
			for (i=0;i < jchunks.length;i++){
				var jchunk=jchunks[i];
				var chunkinfo=new ChunkInfo();
				var nAlphaMapNum=jchunk.alphaMap.length;
				var nDetailIDNum=jchunk.detailID.length;
				if (nAlphaMapNum !=nDetailIDNum){
					alert("terrain chunk data error");
					return false;
				}
				chunkinfo.alphaMap=__newvec(nAlphaMapNum);
				chunkinfo.detailID=__newvec(nDetailIDNum);
				chunkinfo.normalMap=resouMap[this._normalMaps[jchunk.normalMap]];
				for (var j=0;j < nAlphaMapNum;j++){
					chunkinfo.alphaMap[j]=resouMap[this._alphaMaps[jchunk.alphaMap[j]]];
					var jid=jchunk.detailID[j];
					var nIDNum=jid.length;
					chunkinfo.detailID[j]=new Uint8Array(nIDNum);
					for (var k=0;k < nIDNum;k++){
						chunkinfo.detailID[j][k]=jid[k];
					}
				}
				this._chunkInfos[i]=chunkinfo;
			}
			this._heightData=Loader.getRes(this._heightDataUrl);
			this.onLoadTerrainComplete(this._heightData);
		}
		return true;
	}

	__proto.onLoadTerrainComplete=function(heightData){}
	/**
	*异步回调
	*/
	__proto._onAsynLoaded=function(data,params){
		this.parseData(data);
	}

	TerrainRes.load=function(url){
		return Laya.loader.create(url,null,null,TerrainRes,null,1,false);
	}

	return TerrainRes;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/canvasmesh/SimpleSkinMeshCanvas.as=======97.999135/97.999135
/**
*@private
*简化mesh绘制，多顶点mesh改为四顶点mesh，只绘制矩形不绘制三角形
*/
//class laya.ani.bone.canvasmesh.SimpleSkinMeshCanvas extends laya.ani.bone.canvasmesh.SkinMeshCanvas
var SimpleSkinMeshCanvas=(function(_super){
	function SimpleSkinMeshCanvas(){
		/**
		*当前mesh数据是否可用
		*/
		this.cacheOK=false;
		/**
		*当前渲染数据是否可用
		*/
		this.cacheCmdOK=false;
		/**
		*transform参数缓存
		*/
		this.transformCmds=[];
		/**
		*drawImage参数缓存
		*/
		this.drawCmds=[]
		SimpleSkinMeshCanvas.__super.call(this);
		this.tempMesh=new MeshData();
	}

	__class(SimpleSkinMeshCanvas,'laya.ani.bone.canvasmesh.SimpleSkinMeshCanvas',_super);
	var __proto=SimpleSkinMeshCanvas.prototype;
	__proto.init2=function(texture,ps,verticles,uvs){
		_super.prototype.init2.call(this,texture,ps,verticles,uvs);
		this.cacheOK=false;
		this.cacheCmdOK=false;
		this.transformCmds.length=6;
		this.drawCmds.length=9;
	}

	__proto.renderToContext=function(context){
		this.context=context;
		if (this.mesh){
			if (this.mesh.uvs.length <=8){
				if (this.mode==0){
					this._renderWithIndexes(this.mesh);
				}
				else {
					this._renderNoIndexes(this.mesh);
				}
				return;
			}
			if (!this.cacheOK){
				this.tempMesh.texture=this.mesh.texture;
				this.tempMesh.uvs=this.mesh.texture.uv;
				this.tempMesh.vertices=MeshTools.solveMesh(this.mesh,this.tempMesh.vertices);
				this.cacheOK=true;
			}
			if (this.mode==0){
				this._renderWithIndexes(this.tempMesh);
			}
			else {
				this._renderNoIndexes(this.tempMesh);
			}
		}
	}

	__proto._renderWithIndexes=function(mesh){
		if(this.cacheCmdOK){
			this.renderByCache(mesh);
			return;
		};
		var indexes=mesh.indexes;
		var i=0,len=indexes.length;
		if (len > 1)
			len=1;
		for (i=0;i < len;i+=3){
			var index0=indexes[i] *2;
			var index1=indexes[i+1] *2;
			var index2=indexes[i+2] *2;
			this._renderDrawTriangle(mesh,index0,index1,index2);
		}
		this.cacheCmdOK=true;
	}

	__proto._renderDrawTriangle=function(mesh,index0,index1,index2){
		var context=this.context;
		var uvs=mesh.uvs;
		var vertices=mesh.vertices;
		var texture=mesh.texture;
		var source=texture.bitmap;
		var textureSource=source.source;
		var textureWidth=texture.width;
		var textureHeight=texture.height;
		var sourceWidth=source.width;
		var sourceHeight=source.height;
		var u0=NaN;
		var u1=NaN;
		var u2=NaN;
		var v0=NaN;
		var v1=NaN;
		var v2=NaN;
		if (mesh.useUvTransform){
			var ut=mesh.uvTransform;
			u0=((uvs[index0] *ut.a)+(uvs[index0+1] *ut.c)+ut.tx)*sourceWidth;
			u1=((uvs[index1] *ut.a)+(uvs[index1+1] *ut.c)+ut.tx)*sourceWidth;
			u2=((uvs[index2] *ut.a)+(uvs[index2+1] *ut.c)+ut.tx)*sourceWidth;
			v0=((uvs[index0] *ut.b)+(uvs[index0+1] *ut.d)+ut.ty)*sourceHeight;
			v1=((uvs[index1] *ut.b)+(uvs[index1+1] *ut.d)+ut.ty)*sourceHeight;
			v2=((uvs[index2] *ut.b)+(uvs[index2+1] *ut.d)+ut.ty)*sourceHeight;
		}
		else {
			u0=uvs[index0] *sourceWidth;
			u1=uvs[index1] *sourceWidth;
			u2=uvs[index2] *sourceWidth;
			v0=uvs[index0+1] *sourceHeight;
			v1=uvs[index1+1] *sourceHeight;
			v2=uvs[index2+1] *sourceHeight;
		};
		var x0=vertices[index0];
		var x1=vertices[index1];
		var x2=vertices[index2];
		var y0=vertices[index0+1];
		var y1=vertices[index1+1];
		var y2=vertices[index2+1];
		var delta=(u0 *v1)+(v0 *u2)+(u1 *v2)-(v1 *u2)-(v0 *u1)-(u0 *v2);
		var dDelta=1 / delta;
		var deltaA=(x0 *v1)+(v0 *x2)+(x1 *v2)-(v1 *x2)-(v0 *x1)-(x0 *v2);
		var deltaB=(u0 *x1)+(x0 *u2)+(u1 *x2)-(x1 *u2)-(x0 *u1)-(u0 *x2);
		var deltaC=(u0 *v1 *x2)+(v0 *x1 *u2)+(x0 *u1 *v2)-(x0 *v1 *u2)-(v0 *u1 *x2)-(u0 *x1 *v2);
		var deltaD=(y0 *v1)+(v0 *y2)+(y1 *v2)-(v1 *y2)-(v0 *y1)-(y0 *v2);
		var deltaE=(u0 *y1)+(y0 *u2)+(u1 *y2)-(y1 *u2)-(y0 *u1)-(u0 *y2);
		var deltaF=(u0 *v1 *y2)+(v0 *y1 *u2)+(y0 *u1 *v2)-(y0 *v1 *u2)-(v0 *u1 *y2)-(u0 *y1 *v2);
		this.transformCmds[0]=deltaA *dDelta;
		this.transformCmds[1]=deltaD *dDelta;
		this.transformCmds[2]=deltaB *dDelta;
		this.transformCmds[3]=deltaE *dDelta;
		this.transformCmds[4]=deltaC *dDelta;
		this.transformCmds[5]=deltaF *dDelta;
		this.drawCmds[0]=textureSource;
		this.drawCmds[1]=texture.uv[0] *sourceWidth;
		this.drawCmds[2]=texture.uv[1] *sourceHeight;
		this.drawCmds[3]=textureWidth;
		this.drawCmds[4]=textureHeight;
		this.drawCmds[5]=texture.uv[0] *sourceWidth;
		this.drawCmds[6]=texture.uv[1] *sourceHeight;
		this.drawCmds[7]=textureWidth;
		this.drawCmds[8]=textureHeight;
		context.save();
		if (this.transform){
			var mt=this.transform;
			context.transform(mt.a,mt.b,mt.c,mt.d,mt.tx,mt.ty);
		}
		context.transform.apply(context,this.transformCmds);
		context.drawImage.apply(context,this.drawCmds);
		context.restore();
	}

	/**
	*绘制缓存的命令
	*@param mesh
	*
	*/
	__proto.renderByCache=function(mesh){
		var context=this.context;
		context.save();
		if (this.transform){
			var mt=this.transform;
			context.transform(mt.a,mt.b,mt.c,mt.d,mt.tx,mt.ty);
		}
		context.transform.apply(context,this.transformCmds);
		context.drawImage.apply(context,this.drawCmds);
		context.restore();
	}

	return SimpleSkinMeshCanvas;
})(SkinMeshCanvas)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainRender.as=======97.999063/97.999063
/**
*<code>MeshRender</code> 类用于网格渲染器。
*/
//class laya.d3.terrain.TerrainRender extends laya.d3.core.render.BaseRender
var TerrainRender=(function(_super){
	function TerrainRender(owner){
		/**@private */
		this._terrainSprite3DOwner=null;
		/**@private */
		this._projectionViewWorldMatrix=null;
		TerrainRender.__super.call(this,owner);
		this._terrainSprite3DOwner=owner;
		this._projectionViewWorldMatrix=new Matrix4x4();
	}

	__class(TerrainRender,'laya.d3.terrain.TerrainRender',_super);
	var __proto=TerrainRender.prototype;
	__proto._calculateBoundingSphere=function(){
		var terrainFilter=this._terrainSprite3DOwner.terrainFilter;
		if (terrainFilter==null){
			this._boundingSphere.toDefault();
			}else {
			var meshBoundingSphere=terrainFilter._boundingSphere;
			var maxScale=NaN;
			var transform=this._terrainSprite3DOwner.transform;
			var scale=transform.scale;
			if (scale.x >=scale.y && scale.x >=scale.z)
				maxScale=scale.x;
			else
			maxScale=scale.y >=scale.z ? scale.y :scale.z;
			Vector3.transformCoordinate(meshBoundingSphere.center,transform.worldMatrix,this._boundingSphere.center);
			this._boundingSphere.radius=meshBoundingSphere.radius *maxScale;
			terrainFilter.calcLeafBoudingSphere(transform.worldMatrix,maxScale);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._needRender=function(boundFrustum){
		if (boundFrustum)
			return boundFrustum.containsBoundSphere(this.boundingSphere)!==0;
		else
		return true;
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingBox=function(){
		var terrainFilter=this._terrainSprite3DOwner.terrainFilter;
		if (terrainFilter==null){
			this._boundingBox.toDefault();
			}else {
			var worldMat=this._terrainSprite3DOwner.transform.worldMatrix;
			var corners=terrainFilter._boundingBoxCorners;
			for (var i=0;i < 8;i++)
			Vector3.transformCoordinate(corners[i],worldMat,BaseRender._tempBoundBoxCorners[i]);
			BoundBox.createfromPoints(BaseRender._tempBoundBoxCorners,this._boundingBox);
			terrainFilter.calcLeafBoudingBox(worldMat);
		}
	}

	/**
	*@private
	*/
	__proto._renderUpdate=function(context,transform){
		var projectionView=context.projectionViewMatrix;
		var sv=this._shaderValues;
		var worldMat=transform.worldMatrix;
		sv.setMatrix4x4(0,worldMat);
		Matrix4x4.multiply(projectionView,worldMat,this._projectionViewWorldMatrix);
		sv.setMatrix4x4(1,this._projectionViewWorldMatrix);
	}

	/**
	*@private
	*/
	__proto._destroy=function(){
		_super.prototype._destroy.call(this);
		this._terrainSprite3DOwner=null;
	}

	return TerrainRender;
})(BaseRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/BaseShader.as=======97.998900/97.998900
/**
*...
*@author ...
*/
//class laya.webgl.shader.BaseShader extends laya.resource.Resource
var BaseShader=(function(_super){
	//ǰ󶨵shader
	function BaseShader(){
		BaseShader.__super.call(this);
	}

	__class(BaseShader,'laya.webgl.shader.BaseShader',_super);
	BaseShader.activeShader=null;
	BaseShader.bindShader=null;
	return BaseShader;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/CharPageTexture.as=======97.998779/97.998779
//class laya.webgl.resource.CharPageTexture extends laya.resource.Resource
var CharPageTexture=(function(_super){
	function CharPageTexture(mgr){
		//假装自己是一个Texture对象
		this.texture=null;
		this._source=null;
		//格子的使用状态。使用的为1
		this._used=null;
		this._startFindPos=0;
		//维护一个可能为空的位置，避免每次从头找
		this._mgr=null;
		this.charMaps=[];
		//public var charMap:*={};//本页保存的文字信息
		this._score=0;
		//本帧使用的文字的个数
		this._scoreTick=0;
		//_score是哪一帧计算的
		this.__destroyed=false;
		CharPageTexture.__super.call(this);
		this._mgr=mgr;
		this.texture=new CharInternalTexture(this);
		this._used=new Uint8Array(mgr._gridNum);
		this.lock=true;
	}

	__class(CharPageTexture,'laya.webgl.resource.CharPageTexture',_super);
	var __proto=CharPageTexture.prototype;
	/**
	*找一个空余的格子。只操作格子相关变量
	*@return
	*/
	__proto.findAGrid=function(){
		var gridNum=this._mgr._gridNum;
		for (var i=this._startFindPos;i < gridNum;i++){
			if (this._used[i]==0){
				this._startFindPos=i+1;
				this._used[i]=1;
				return i;
			}
		}
		return-1;
	}

	__proto.removeGrid=function(pos){
		this._used[pos]=0;
		if (pos < this._startFindPos)
			this._startFindPos=pos;
	}

	/**
	*把tm之前使用的都去掉。
	*@param tm
	*@return
	*/
	__proto.removeOld=function(tm){
		var num=0;
		var charMap=null;
		for (var i=0,sz=this.charMaps.length;i < sz;i++){
			charMap=this.charMaps[i];
			if (!charMap)continue ;
			for (var m in charMap){
				var ci=charMap[m];
				if (ci.touchTick < tm){
					this.removeGrid(ci.pos);
					console.log('remove char '+m);
					delete charMap[m];
					num++;
				}
			}
		}
		return num;
	}

	__proto.recreateResource=function(){
		if (this._source)
			return;
		var gl=Render.isConchApp?LayaGL.instance.getDefaultCommandEncoder():WebGL.mainContext;
		var glTex=this._source=gl.createTexture();
		this.texture.bitmap._glTexture=this._source;
		WebGLContext.bindTexture(gl,0x0DE1,glTex);
		gl.texImage2D(0x0DE1,0,0x1908,this._mgr._textureWidth,this._mgr._textureWidth,0,0x1908,0x1401,null);
		gl.texParameteri(0x0DE1,0x2801,0x2601);
		gl.texParameteri(0x0DE1,0x2800,0x2601);
		gl.texParameteri(0x0DE1,0x2802,0x812F);
		gl.texParameteri(0x0DE1,0x2803,0x812F);
	}

	/**
	*
	*@param data
	*@param x 拷贝位置。
	*@param y
	*/
	__proto.addChar=function(data,x,y){
		!this._source && this.recreateResource();
		var gl=Render.isConchApp?LayaGL.instance.getDefaultCommandEncoder():WebGL.mainContext;
		WebGLContext.bindTexture(gl,0x0DE1,this._source);
		!Render.isConchApp && gl.pixelStorei(0x9241,true);
		var dt=data.data;
		if (data.data instanceof Uint8ClampedArray)dt=new Uint8Array(dt.buffer);
		gl.texSubImage2D(0x0DE1,0,x,y,data.width,data.height,0x1908,0x1401,dt);
		!Render.isConchApp && gl.pixelStorei(0x9241,false);
	}

	__proto.destroy=function(){
		console.log('destroy CharPageTexture');
		this.__destroyed=true;
		var gl=Render.isConchApp?LayaGL.instance.getDefaultCommandEncoder():WebGL.mainContext;
		this._source && gl.deleteTexture(this._source);
	}

	return CharPageTexture;
})(Resource)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/enginehook/LoaderHook.as=======97.998750/97.998750
/**
*...
*@author ww
*/
//class laya.debug.tools.enginehook.LoaderHook extends laya.net.LoaderManager
var LoaderHook=(function(_super){
	function LoaderHook(){
		LoaderHook.__super.call(this);
	}

	__class(LoaderHook,'laya.debug.tools.enginehook.LoaderHook',_super);
	var __proto=LoaderHook.prototype;
	__proto.checkUrls=function(url){
		var tarUrl;
		if ((typeof url=='string')){
			tarUrl=url;
			}else{
			tarUrl=url.url;
		}
		if (LoaderHook.preFails[tarUrl]){
			if (LoaderHook.enableFailDebugger){
				debugger;
			}
		}
	}

	__proto.chekUrlList=function(urls){
		var i=0,len=0;
		len=urls.length;
		for (i=0;i < len;i++){
			this.checkUrls(urls[i]);
		}
	}

	__proto.load=function(url,complete,progress,type,priority,cache,group,ignoreCache){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		if ((url instanceof Array)){
			this.chekUrlList(url);
			}else{
			this.checkUrls(url);
		}
		return _super.prototype.load.call(this,url,complete,progress,type,priority,cache,group,ignoreCache);
	}

	LoaderHook.init=function(){
		if (LoaderHook.isInited)return;
		LoaderHook.isInited=true;
		Laya.loader=new LoaderHook();
		Laya.loader.on("error",null,LoaderHook.onFail);
		LoaderHook.preFails=LocalStorage.getJSON("LoadFailItems");
		if (!LoaderHook.preFails)LoaderHook.preFails={};
	}

	LoaderHook.onFail=function(failFile){
		laya.debug.view.nodeInfo.views.OutPutView.I.dTrace("LoadFail:"+failFile);
		LoaderHook.nowFails[failFile]=true;
		LocalStorage.setJSON("LoadFailItems",LoaderHook.nowFails);
	}

	LoaderHook.resetFails=function(){
		LoaderHook.nowFails={};
		LocalStorage.setJSON("LoadFailItems",LoaderHook.nowFails);
	}

	LoaderHook.preFails={};
	LoaderHook.nowFails={};
	LoaderHook.enableFailDebugger=true;
	LoaderHook.FailSign="LoadFailItems";
	LoaderHook.isInited=false;
	return LoaderHook;
})(LoaderManager)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/buff/BuffPlugin.as=======97.998690/97.998690
/**
*buff宿主
*@author wulongbin
*
*/
//class laya.game.client.buff.BuffPlugin extends laya.libs.plugin.Plugin
var BuffPlugin=(function(_super){
	function BuffPlugin(){
		this.character=null;
		this._isRunning=false;
		this.timer=null;
		BuffPlugin.__super.call(this);
		this.buffs=new Array;
		this._listenBuffClassName=new ArrayByKey;
	}

	__class(BuffPlugin,'laya.game.client.buff.BuffPlugin',_super);
	var __proto=BuffPlugin.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='buffPlugin';
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this.timer=this.character.scene.timer;
		this.isRunning=true;
	}

	/**
	*监听指定类型的buff创建
	*@param className
	*@param buff
	*
	*/
	__proto.listenClassName=function(className,buff){
		this._listenBuffClassName.push(className,buff);
	}

	/**
	*取消监听
	*@param className
	*@param buff
	*
	*/
	__proto.cancleClassName=function(className,buff){
		this._listenBuffClassName.remove(className,buff);
	}

	/**
	*能否创建新buff
	*@param arr
	*@param data
	*@return
	*
	*/
	__proto.canCreate=function(arr,data){
		var i=0;
		var len=arr.length;
		for(;i<len;i++){
			if(!arr[i].canCreate(data)){
				return false;
			}
		}
		return true;
	}

	__proto.createBuffByID=function(id,custom){
		this.createBuff(Sheet.getByID("Buff",String(id)),custom);
	}

	__proto.removeBuffByID=function(id){}
	/**
	*获得buff
	*@param param 获得类型 className or id
	*@param type 获得值 name or id
	*@return buff
	*/
	__proto.getBuff=function(param,value){
		for (var i=0;i < this.buffs.length;++i){
			if (this.buffs[i].configData && this.buffs[i].configData[param]==value){
				return this.buffs[i];
			}
		}
		return null;
	}

	/**
	*根据buff名称获取buff
	*@param strName buff所属类名称
	*@return buff
	*/
	__proto.getBuffByName=function(strName){
		for (var i=0;i < this.buffs.length;++i){
			if (this.buffs[i].configData && this.buffs[i].configData.className==strName){
				return this.buffs[i];
			}
		}
		return null;
	}

	/**
	*根据buffid获得buff
	*@param id buffid
	*@return buff
	*/
	__proto.getBuffById=function(id){
		for (var i=0;i < this.buffs.length;++i){
			if (this.buffs[i].configData && this.buffs[i].configData.id==id){
				return this.buffs[i];
			}
		}
		return null;
	}

	/**
	*创建buff
	*@param data
	*
	*/
	__proto.createBuff=function(data,custom){
		var arr=this._listenBuffClassName.getArray(data.className);
		if(!this.canCreate(arr,data))return;
		var buff=CycleFactory.createObject(data.className);
		buff.init(this,data,custom);
		this._addBuff(buff);
	}

	/**
	*添加buff
	*@param buff
	*
	*/
	__proto._addBuff=function(buff){
		this.buffs.push(buff);
		buff.start();
	}

	/**
	*移除buff
	*@param buff
	*
	*/
	__proto._removeBuff=function(buff){
		var index=this.buffs.indexOf(buff);
		if(index>=0){
			this.buffs.splice(index,1);
			buff.over();
		}
	}

	__proto.onUpdate=function(){
		var i=this.buffs.length-1;
		for(;i>=0;i--){
			if(this.buffs[i].checkIsOver()){
				this._removeBuff(this.buffs[i]);
			}
		}
	}

	/**
	*启动
	*@param value
	*
	*/
	__getset(0,__proto,'isRunning',function(){
		return this._isRunning;
		},function(value){
		this._isRunning=value;
		if(this._isRunning){
			this.timer.loop(1000,this,this.onUpdate);
		}
		else{
			this.timer.clear(this,this.onUpdate);
		}
	});

	return BuffPlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/BasePath.as=======97.998674/97.998674
/**
*路径基类
*@author wulongbin
*
*/
//class laya.game.client.path.BasePath extends laya.libs.plugin.Plugin
var BasePath=(function(_super){
	function BasePath(){
		this.timer=null;
		this.scene=null;
		this.gameObj=null;
		BasePath.__super.call(this);
	}

	__class(BasePath,'laya.game.client.path.BasePath',_super);
	var __proto=BasePath.prototype;
	Laya.imps(__proto,{"laya.game.client.path.IPath":true})
	__proto.resetProperty=function(){
		this._bindProperty='path';
	}

	__proto.onInit=function(){
		this.gameObj=(this.owner);
		this.scene=this.gameObj.scene;
		this.timer=this.scene.timer;
	}

	__proto.onLoop=function(){}
	__proto.lockTarget=function(target){}
	__proto.lockTargetPos=function(pos){}
	return BasePath;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/BindPosPlugin.as=======97.998668/97.998668
//class laya.game.client.plugins.BindPosPlugin extends laya.libs.plugin.Plugin
var BindPosPlugin=(function(_super){
	function BindPosPlugin(){
		this.self=null;
		this.target=null;
		this.radius=NaN;
		this.offangle=NaN;
		this.offx=NaN;
		this.offy=NaN;
		this.setFaceAngle=false;
		BindPosPlugin.__super.call(this);
	}

	__class(BindPosPlugin,'laya.game.client.plugins.BindPosPlugin',_super);
	var __proto=BindPosPlugin.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='_bindpos_';
	}

	__proto.onInit=function(){
		this.self=this.owner;
	}

	__proto.onDestruct=function(){
		this.self.scene.timer.clear(this,this.onLoop);
		this.self=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.bindPos=function(target,radius,offangle,offx,offy,setFaceAngle){
		(offangle===void 0)&& (offangle=0);
		(offx===void 0)&& (offx=0);
		(offy===void 0)&& (offy=0);
		(setFaceAngle===void 0)&& (setFaceAngle=true);
		this.target=target;
		this.radius=radius;
		this.offangle=offangle;
		this.offx=offx;
		this.offy=offy;
		this.setFaceAngle=setFaceAngle;
		this.self.scene.timer.frameLoop(1,this,this.onLoop);
	}

	__proto.onLoop=function(){
		var angle=this.target.faceAngle+this.offangle;
		var _radian=angle*MathUtils.PI1_180;
		this.self.pos.setValue(
		this.target.x+(this.radius*Math.cos(_radian)),
		this.target.y+(this.radius*Math.sin(_radian)));
		if(this.setFaceAngle){
			this.self.faceAngle=angle;
		}
	}

	return BindPosPlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/ActionController.as=======97.998667/97.998667
//class laya.game.client.plugins.character.ActionController extends laya.libs.plugin.Plugin
var ActionController=(function(_super){
	function ActionController(){
		this.action=null;
		this.loopsCount=NaN;
		this.speed=1;
		this.actionData=null;
		this.character=null;
		this._actionCheck=null;
		this.actionSheet=null;
		this._actionSheet=null;
		this.state=null;
		this.actionId=null;
		this._curScript=null;
		ActionController.__super.call(this);
	}

	__class(ActionController,'laya.game.client.plugins.character.ActionController',_super);
	var __proto=ActionController.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.IActionCheck":true})
	__proto.resetProperty=function(){
		this._bindProperty='actionController';
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this.actionCheck=this;
		this.action='';
		this.loopsCount=0;
		this.character.on('ActionComplete',this,this.onPlayComplete);
		this._actionSheet=Sheet.get(this.actionSheet);
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.character.off('ActionComplete',this,this.onPlayComplete);
		this.curScript=null;
	}

	__proto.playActionById=function(actionId){
		var data=this._actionSheet.getByID(actionId);
		if(!data)return false;
		if(this._actionCheck.checkAction(data)){
			this.playAction(data);
			return true;
		}
		else{
			return false;
		}
	}

	__proto.playAction=function(data){
		this.actionId=data.id;
		this.actionData=data;
		this.action=data.action;
		this.loopsCount=data.loops;
		this.speed=data.speed?data.speed:1;
		this.state=data.state;
		if(this._actionCheck!=this){
			this._actionCheck.playAction(data);
		}
		if(data.beginScript){
			this.playScript(data.beginScript);
		}
		this.event();
	}

	__proto.playScript=function(scriptID){
		this.curScript=null;
		if(scriptID){
			this.curScript=ScriptManager.instance.createScript(scriptID);
			this.curScript.isRecoveryContext=true;
			this.curScript.run(this.createScriptContext(this.character));
		}
		else{
			this.curScript=null;
		}
	}

	/**
	*创建脚本上下文
	*@param target
	*@param from
	*@return
	*
	*/
	__proto.createScriptContext=function(target){
		var scriptContext=CycleFactory.createObject2(BaseScriptContext);
		scriptContext.setTarget(target);
		return scriptContext;
	}

	__proto.checkAction=function(data){
		return true;
	}

	// }
	__proto.onPlayComplete=function(){
		this.actionData && this.playActionById(this.actionData.next);
	}

	__getset(0,__proto,'actionCheck',function(){
		return this._actionCheck;
		},function(value){
		this._actionCheck=value||this;
	});

	__getset(0,__proto,'curScript',function(){
		return this._curScript;
		},function(value){
		if(this._curScript){
			this._curScript.stop();
			this._curScript.recovery();
			this._curScript=null;
		}
		this._curScript=value;
	});

	return ActionController;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/Avatar2D.as=======97.998664/97.998664
/**
*...
*@author Laya
*/
//class laya.game.client.plugins.character.avatar.Avatar2D extends laya.libs.plugin.Plugin
var Avatar2D=(function(_super){
	function Avatar2D(){
		/**动画播放器*/
		this._ani=null;
		/**动画名称*/
		this._curAnimaName=null;
		/**是否运行*/
		this._isRunning=true;
		this._avatarData=null;
		this._target=null;
		/**当前动画播放次数*/
		this._playCount=0;
		this._startFrame=0;
		this._isLoad=false;
		this.avatarFile=null;
		this._actionProxy
		Avatar2D.__super.call(this);
		this._ani=new Animation();
		this._ani.on("stop",this,this.stop);
		this._ani.on("complete",this,this.onComplete);
	}

	__class(Avatar2D,'laya.game.client.plugins.character.avatar.Avatar2D',_super);
	var __proto=Avatar2D.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.IAvatar":true})
	__proto.resetProperty=function(){
		this._bindProperty='avatar';
	}

	__proto.onInit=function(){
		this._target=this.owner;
		this._actionProxy=this._target.actionController;
		this.listen(this._target.actionController,this.onActionChg);
		this.listen(this._target.angle,this.onAngleChg);
		this._curAnimaName="";
		this._isLoad=false;
		this._startFrame=0;
		this._target.node.addChild(this._ani);
		if(this.avatarFile){
			this.load(this.avatarFile);
		}
	}

	/**
	*加载资源
	*@param url
	*
	*/
	__proto.load=function(url){
		this._ani.loadAnimation(url,Handler.create(this,this.onLoad));
	}

	/**
	*销毁
	*
	*/
	__proto.onDestruct=function(){
		this._ani.stop();
		this._ani.removeSelf();
		this._target=null;
		_super.prototype.onDestruct.call(this);
	}

	/**
	*加载完成
	*
	*/
	__proto.onLoad=function(){
		this._isLoad=true;
		this.onActionChg();
	}

	/**
	*播放
	*
	*/
	__proto.play=function(){
		this._playCount=0;
		this._isRunning=true;
		this.update();
	}

	/**
	*暂停
	*
	*/
	__proto.stop=function(){
		this._isRunning=false;
		this._startFrame=this._ani.index;
		this._ani.stop();
	}

	__proto.onActionChg=function(){
		this.play();
	}

	__proto.onAngleChg=function(){
		this.update();
	}

	/**更新视图*/
	__proto.update=function(){
		if(!this._isRunning||!this._isLoad ||!this._actionProxy.action){
			return;
		};
		var adaper=Avatar2DUtil.getDirectionAdaper(this._actionProxy.actionData['directions']);
		var angle=this._target.angle.x;
		var dir=adaper.angle2Direct(angle);
		var aniName=adaper.getAnimaName(this._actionProxy.action,dir);
		this._ani.scaleX=adaper.needMirror(angle)?-1:1;
		if(this._curAnimaName==aniName){
			return;
		}
		this._curAnimaName=aniName;
		this._ani.play(this._startFrame,true,aniName);
	}

	__proto.onComplete=function(){
		if(this._actionProxy.loopsCount > 0 &&++this._playCount >=this._actionProxy.loopsCount)
			this.owner.event('ActionComplete');
	}

	/**是否运行*/
	__getset(0,__proto,'isRunning',function(){
		return this._isRunning;
	});

	/**动画播放器*/
	__getset(0,__proto,'ani',function(){
		return this._ani;
	});

	Avatar2D.AVATAR_STOP="stop";
	return Avatar2D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/AvatarImage.as=======97.998661/97.998661
//class laya.game.client.plugins.character.avatar.AvatarImage extends laya.libs.plugin.Plugin
var AvatarImage=(function(_super){
	function AvatarImage(){
		this._target=null;
		this._image=null;
		this._avatarData=null;
		this._actionProxy=null;
		AvatarImage.__super.call(this);
		this._image=new Image();
	}

	__class(AvatarImage,'laya.game.client.plugins.character.avatar.AvatarImage',_super);
	var __proto=AvatarImage.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='';
	}

	__proto.onInit=function(){
		this._target=this.owner;
		this._image.anchorX=0.5;
		this._image.anchorY=1;
		this._actionProxy=this._target.actionController;
		this._avatarData=Sheet.getByID("Avatar",this.param);
		if(!this._avatarData){
			throw "Avatar2D 缺少配置:"+this.param;
		}
		this._image.skin=this._avatarData.file;
		this._target.node.addChild(this._image);
	}

	return AvatarImage;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/CharacterExtend.as=======97.998653/97.998653
//class laya.game.client.plugins.character.CharacterExtend extends laya.libs.plugin.Plugin
var CharacterExtend=(function(_super){
	function CharacterExtend(){
		this.character=null;
		this.node=new Sprite;
		CharacterExtend.__super.call(this);
	}

	__class(CharacterExtend,'laya.game.client.plugins.character.CharacterExtend',_super);
	var __proto=CharacterExtend.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.ICharacterExtend":true})
	__proto.resetProperty=function(){
		this._bindProperty='extend';
	}

	__proto.onInit=function(){
		this.character=this.owner;
		this.character.isLoop=true;
		this.node.pos(this.character.pos.x,this.character.pos.y);
		this.listen(this.character.scale,this.onScale);
		this.character.scene.timer.callLater(this,this.onInitAction);
	}

	__proto.onInitAction=function(){
		this.character.playActionById('1000');
	}

	__proto.onDestruct=function(){
		this.character.isLoop=false;
	}

	__proto.createNode=function(){
		this.node.scaleX=this.node.scaleY=1;
		this.node.visible=true;
		this.node.alpha=1;
		return this.node;
	}

	__proto.onScale=function(){
		this.node.scaleX=this.character.scale.x;
		this.node.scaleY=this.character.scale.y;
	}

	__proto.onLoop=function(){
		this.node.pos(this.character.pos.x,this.character.pos.y);
		this.node.zOrder=this.character.pos.y;
	}

	__proto.canPlaySkill=function(configId){
		return true;
	}

	__proto.onDead=function(from){}
	__proto.onBorn=function(){}
	__proto.moveTo=function(targetPos,func){}
	__proto.stopMove=function(){}
	__proto.onMoveStop=function(){}
	__proto.offsetPos=function(pos){
		return true;
	}

	__proto.updatePos=function(pos){
		return true;
	}

	__getset(0,__proto,'isMove',function(){
		return false;
	});

	return CharacterExtend;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/MoveCtrl2D.as=======97.998645/97.998645
//class laya.game.client.plugins.character.MoveCtrl2D extends laya.libs.plugin.Plugin
var MoveCtrl2D=(function(_super){
	function MoveCtrl2D(){
		MoveCtrl2D.__super.call(this);
	}

	__class(MoveCtrl2D,'laya.game.client.plugins.character.MoveCtrl2D',_super);
	var __proto=MoveCtrl2D.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.IMove":true})
	__proto.resetProperty=function(){
		this._bindProperty='moveController';
	}

	__proto.moveTo=function(path,callBack){}
	__proto.stopMove=function(b){
		(b===void 0)&& (b=true);
	}

	__getset(0,__proto,'isMove',function(){
		return false;
		},function(value){
	});

	return MoveCtrl2D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/ShapePlugin.as=======97.998644/97.998644
//class laya.game.client.plugins.character.ShapePlugin extends laya.libs.plugin.Plugin
var ShapePlugin=(function(_super){
	function ShapePlugin(){
		this.shape=null;
		this.type=null;
		this.size=null;
		this.gameObj=null;
		ShapePlugin.__super.call(this);
		if(GameSystem.is3D){
			this['onLoop']=this.onLoop3D;
		}
	}

	__class(ShapePlugin,'laya.game.client.plugins.character.ShapePlugin',_super);
	var __proto=ShapePlugin.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.IGameObjectShape":true})
	__proto.resetProperty=function(){
		this._bindProperty='shape';
	}

	__proto.onInit=function(){
		this.gameObj=this.owner;
		var sizeArr=SheetUtil$1.decode2ArrayInt(this.size);
		this.shape=CSystem.createShape(this.type,sizeArr);
		this.gameObj.scene.timer.frameLoop(1,this,this.onLoop);
	}

	__proto.onLoop=function(){
		this.shape.pos(this.gameObj.x,this.gameObj.y);
		this.shape.rotation=this.gameObj.faceAngle;
	}

	__proto.onLoop3D=function(){
		this.shape.pos(this.gameObj.z,this.gameObj.x);
		this.shape.rotation=this.gameObj.faceAngle;
	}

	__proto.getShape=function(){
		return this.shape;
	}

	__proto.onDestruct=function(){
		this.gameObj.scene.timer.clear(this,this.onLoop);
		CycleFactory.recoveryObject(this.shape);
		this.shape=null;
		_super.prototype.onDestruct.call(this);
	}

	return ShapePlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/Collision2D.as=======97.998643/97.998643
//class laya.game.client.plugins.collision.Collision2D extends laya.libs.plugin.Plugin
var Collision2D=(function(_super){
	function Collision2D(){
		this.x=NaN;
		this.y=NaN;
		this.width=NaN;
		this.height=NaN;
		/**攻击盒子*/
		this.attackBox=null;
		/**被攻击盒子*/
		this.beAttackBox=null;
		/**碰撞组，不同的碰撞组会进行碰撞*/
		this._group=0;
		/**目标碰撞组*/
		this.targetGroup=[];
		/**宿主*/
		this._owner=null;
		/**碰撞管理器*/
		this._collisionManager=null;
		/**是否可以攻击*/
		this._enableAttack=true;
		/**是否可以被攻击*/
		this._enableBeAttack=true;
		Collision2D.__super.call(this);
	}

	__class(Collision2D,'laya.game.client.plugins.collision.Collision2D',_super);
	var __proto=Collision2D.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='_collision_';
	}

	__proto.onInit=function(){
		this._owner=this.owner;
		this._owner.scale.on(this,this.onScale);
		this._collisionManager=this._owner.scene.collisionManager;
		var initData=JSON.parse(this.param);
		for (var pKey in initData){
			if(this.hasOwnProperty(pKey)){
				this[pKey]=initData[pKey];
			}
		}
		this._collisionManager.addObject(this);
	}

	__proto.onScale=function(){
		this.attackBox && this.attackBox.scale(this._owner.scale.x,this._owner.scale.y);
		this.beAttackBox && this.beAttackBox.scale(this._owner.scale.x,this._owner.scale.y);
	}

	__proto.onConstruct=function(){
		_super.prototype.onConstruct.call(this);
		this.group=0;
	}

	/**插件被解除注册时触发*/
	__proto.onDestruct=function(){
		this.group=0;
		this._collisionManager.removeObject(this);
	}

	/**
	*更新攻击盒子当前位置
	*/
	__proto.updatePos=function(){
		this.attackBox.x=this._owner.pos.x-this.attackBox.anchorX;
		this.attackBox.y=this._owner.pos.y-this.attackBox.anchorY;
		if(this._enableAttack){
			this._collisionManager.detect(this,this.targetGroup);
		}
	}

	__proto.beAttackDetect=function(collision){
		if(!this._enableBeAttack){
			return false;
		}
		this.beAttackBox.x=this._owner.pos.x-this.beAttackBox.anchorX;
		this.beAttackBox.y=this._owner.pos.y-this.beAttackBox.anchorY;
		return this.beAttackBox && this.beAttackBox.intersects(collision.attackBox);
	}

	/**
	*碰撞开始
	*@param object 碰到的物体
	*/
	__proto.onCollisionBegin=function(object){
		this.owner.event("onCollisionBegin",[this.owner,object.owner]);
	}

	/**
	*碰撞结束
	*@param object 碰到的物体
	*/
	__proto.onCollisionEnd=function(object){}
	__getset(0,__proto,'attackInfo',null,function(value){
		console.log("attackInfo = "+value+" id = "+this._owner.id);this.attackBox=this.attackBox|| new CollisionRect();
		var res=value.split(",");
		this.attackBox.width=parseFloat(res[2]);
		this.attackBox.height=parseFloat(res[3]);
		this.attackBox.anchorXP=parseFloat(res[0]);
		this.attackBox.anchorYP=parseFloat(res[1]);
		this.listen(this._owner.pos,this.updatePos);
	});

	__getset(0,__proto,'beAttackInfo',null,function(value){
		console.log("beAttackInfo = "+value+" id = "+this._owner.id);this.beAttackBox=this.beAttackBox|| new CollisionRect();
		var res=value.split(",");
		this.beAttackBox.width=parseFloat(res[2]);
		this.beAttackBox.height=parseFloat(res[3]);
		this.beAttackBox.anchorXP=parseFloat(res[0]);
		this.beAttackBox.anchorYP=parseFloat(res[1]);
	});

	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		this._group=value;
		this._collisionManager && this._collisionManager.addObject(this);
	});

	__getset(0,__proto,'enableAttack',function(){
		return this._enableAttack;
		},function(value){
		this._enableAttack=value;
	});

	__getset(0,__proto,'enableBeAttack',function(){
		return this._enableBeAttack;
		},function(value){
		this._enableBeAttack=value;
	});

	__getset(0,__proto,'enable',null,function(value){
		this._enableBeAttack=value;
		this._enableAttack=value;
	});

	return Collision2D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/CollisionManager.as=======97.998641/97.998641
//class laya.game.client.plugins.collision.CollisionManager extends laya.libs.plugin.Plugin
var CollisionManager$1=(function(_super){
	function CollisionManager(){
		// private static var _instance:CollisionManager;
		this._collisionGroup=null;
		this._debug=false;
		this._debugdraw=null;
		this._scene=null;
		CollisionManager.__super.call(this);
		this._collisionGroup=[];
	}

	__class(CollisionManager,'laya.game.client.plugins.collision.CollisionManager',_super,'CollisionManager$1');
	var __proto=CollisionManager.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.collision.IcollisionManager":true})
	//
	__proto.resetProperty=function(){
		this._bindProperty='collisionManager';
	}

	__proto.onInit=function(){
		this.clear();
		this._scene=this.owner;
		this.listen(this._scene.debug,this.onDebugChange);
	}

	__proto.onDestruct=function(){
		this.debug=false;
		this._scene=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.onDebugChange=function(){
		this.debug=this._scene.debug.value;
	}

	__proto.createDebugDraw=function(){
		var debugDrow=new CollisionDraw;
		this._scene.addToLayer(debugDrow,'centerLayer');
		return debugDrow;
	}

	__proto.updateDebugDraw=function(){
		if(this._debug){
			this._debugdraw || (this._debugdraw=this.createDebugDraw());
			this._debugdraw.show();
		}
		else{
			this._debugdraw && this._debugdraw.hide();
		}
	}

	/**
	*添加碰撞物体对象
	*@param object
	*@return
	*/
	__proto.addObject=function(object){
		if(object.group==0)return;this._collisionGroup[object.group]=this._collisionGroup[object.group]|| [];
		this._collisionGroup[object.group].push(object);
	}

	/**
	*移除碰撞对象
	*@param object
	*@return
	*/
	__proto.removeObject=function(object){
		var arr=this._collisionGroup[object.group];
		if(!arr)return;
		for(var i=0,len=arr.length;i<len;i++){
			if(arr[i]==object){
				arr.splice(i,1);
				break ;
			}
		}
		if(this._collisionGroup[object.group].length==0)
			this._collisionGroup.splice(object.group,1);
	}

	/**
	*清楚所有信息
	*/
	__proto.clear=function(){
		this._collisionGroup=[];
	}

	/**
	*当前对象与目标碰撞组中的对象进行检测
	*@param _object 检测对象
	*@param _targetGroup 目标碰撞组的数组
	*/
	__proto.detect=function(_object,_targetGroup){
		if(_targetGroup.length<1)
			return;
		for(var i=0,len=_targetGroup.length;i<len;++i){
			CollisionManager._detect(_object,this._collisionGroup[_targetGroup[i]]);
		}
	}

	__proto._debugPaint=function(){
		this._debugdraw.start();
		for(var i=0,len=this._collisionGroup.length;i<len;++i){
			var _group=this._collisionGroup[i];
			for(var j=0,lenj=_group.length;j<lenj;++j){
				var _obj=_group[j];
				this._debugdraw.draw(_group[j]);
			}
		}
		this._debugdraw.end();
	}

	__getset(0,__proto,'debug',null,function(b){
		if(this._debug==b)return;
		this._debug=b;
		if(b){
			this._scene.timer.frameLoop(1,this,this._debugPaint);
			}else{
			this._scene.timer.clear(this,this._debugPaint);
		}
		this.updateDebugDraw();
	});

	CollisionManager._detect=function(_object,_group){
		if(!_group)
			return;
		for(var i=0,len=_group.length;i<len;++i){
			if(_group[i].beAttackDetect(_object)){
				_object.onCollisionBegin(_group[i]);
			}
		}
	}

	return CollisionManager;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/WalkableManager.as=======97.998636/97.998636
//class laya.game.client.plugins.collision.WalkableManager extends laya.libs.plugin.Plugin
var WalkableManager=(function(_super){
	function WalkableManager(){
		WalkableManager.__super.call(this);
		this.rect=new Collision2D();
		this.rect.x=1415;
		this.rect.y=640;
		this.rect.width=2700;
		this.rect.height=2700;
	}

	__class(WalkableManager,'laya.game.client.plugins.collision.WalkableManager',_super);
	var __proto=WalkableManager.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.collision.IWalkableManager":true})
	/**onwer 初始化完成后回调*/
	__proto.onInit=function(){}
	__proto.enableWalk=function(x,y){
		return x > this.rect.x && x < this.rect.x+this.rect.width && y > this.rect.y && y < this.rect.y+this.rect.height;
	}

	__proto.enableWalkX=function(value){
		return value > this.rect.x && value < this.rect.x+this.rect.width;
	}

	__proto.enableWalkY=function(value){
		return value > this.rect.y && value < this.rect.y+this.rect.height;
	}

	return WalkableManager;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/WalkCollision2D.as=======97.998635/97.998635
//class laya.game.client.plugins.collision.WalkCollision2D extends laya.libs.plugin.Plugin
var WalkCollision2D=(function(_super){
	function WalkCollision2D(){
		/**中线点的x坐标*/
		this.anchorX=NaN;
		/**中线点的y坐标*/
		this.anchorY=NaN;
		/**碰撞和子的宽*/
		this.width=NaN;
		/**碰撞和子的高*/
		this.height=NaN;
		/**返回可以行走的坐标*/
		this.movePoint=null;
		/***/
		this._owner=null;
		WalkCollision2D.__super.call(this);
	}

	__class(WalkCollision2D,'laya.game.client.plugins.collision.WalkCollision2D',_super);
	var __proto=WalkCollision2D.prototype;
	__proto.onInit=function(){
		var initData=JSON.parse(this.param);
		for (var pKey in initData){
			if(this.hasOwnProperty(pKey)){
				this[pKey]=initData[pKey];
			}
		}
		this._owner=this.owner;
		this.movePoint=new Point();
	}

	/**插件被解除注册时触发*/
	__proto.onDestruct=function(){}
	/**
	*判断能否移动（先加了一个场景的矩形框来实现）
	*@return
	*@param faceAngle
	*@param speed
	*/
	__proto.getMovePoint=function(faceAngle,speed){
		var radius=faceAngle/180*Math.PI;
		var dis=speed*this._owner.scene.timer.delta*0.001;
		var deltaX=dis*Math.cos(radius);
		var deltaY=dis*Math.sin(radius);
		var x=this._owner.pos.x+deltaX;
		var y=this._owner.pos.y+deltaY;
		if(!this._owner.scene.walkableManager.enableWalkX(x)){
			x=this._owner.pos.x;
		}
		if(!this._owner.scene.walkableManager.enableWalkY(y)){
			y=this._owner.pos.y;
		}
		this.movePoint.setTo(x,y);
		return this.movePoint;
	}

	/**
	*当前 Rectangle 对象的水平位置 anchorX 和垂直位置 anchorY 以及高度 width 和宽度 height 以逗号连接成的字符串。
	*/
	__proto.toString=function(){
		return this.anchorX+","+this.anchorY+","+this.width+","+this.height;
	}

	return WalkCollision2D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/RoleMessage.as=======97.998630/97.998630
//class laya.game.client.plugins.RoleMessage extends laya.libs.plugin.Plugin
var RoleMessage=(function(_super){
	function RoleMessage(){
		this.character=null;
		RoleMessage.__super.call(this);
	}

	__class(RoleMessage,'laya.game.client.plugins.RoleMessage',_super);
	var __proto=RoleMessage.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='roleMessage';
	}

	/**初始化*/
	__proto.onInit=function(){
		this.character=this.owner;
	}

	/**
	*释放
	*/
	__proto.onRelease=function(){
		_super.prototype.onRelease.call(this);
	}

	return RoleMessage;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/Camera2D.as=======97.998629/97.998629
//class laya.game.client.plugins.scene.Camera2D extends laya.libs.plugin.Plugin
var Camera2D=(function(_super){
	function Camera2D(){
		this.target=null;
		this.scene=null;
		this.centerLayer=null;
		this.viewportRect=new Rectangle;
		Camera2D.__super.call(this);
	}

	__class(Camera2D,'laya.game.client.plugins.scene.Camera2D',_super);
	var __proto=Camera2D.prototype;
	Laya.imps(__proto,{"laya.game.client.scene.ICamera":true})
	__proto.resetProperty=function(){
		this._bindProperty='camera';
	}

	/**onwer 初始化完成后回调*/
	__proto.onInit=function(){
		this.scene=this.owner;
		this.centerLayer=this.scene.getLayer('centerLayer');
		this.viewportRect.setTo(0,0,Laya.stage.width,Laya.stage.height);
	}

	/**插件被解除注册时触发*/
	__proto.onDestruct=function(){
		this.scene=null;
		this.centerLayer=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.bindTarget=function(c,cameraOffset,isBindLocalCoord){
		(isBindLocalCoord===void 0)&& (isBindLocalCoord=false);
		this.target=c;
	}

	__proto.onLoop=function(){
		if(!this.target)return;
		this.viewportRect.x=this.target.x-this.viewportRect.width*0.5;
		this.viewportRect.y=this.target.y-this.viewportRect.height*0.5;
		if(this.centerLayer){
			this.centerLayer.x=-this.viewportRect.x;
			this.centerLayer.y=-this.viewportRect.y;
		}
	}

	// trace("rect.x = "+rect.x+"  rect.y = "+rect.y);
	__proto.globalToScreen=function(from,to){}
	__proto.shake=function(duration,cycleTime,offx,offy,offz){
		(offz===void 0)&& (offz=0);
	}

	__proto.shakeByType=function(amplitude,duration,cycleTime,type){}
	return Camera2D;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/SeedPlugin.as=======97.998624/97.998624
/**
*种怪插件
*@author wulongbin
*
*/
//class laya.game.client.plugins.SeedPlugin extends laya.libs.plugin.Plugin
var SeedPlugin=(function(_super){
	function SeedPlugin(){
		this.monsterMaxNum=6;
		this.scene=null;
		this.target=null;
		this.configId=NaN;
		this.maxCount=2;
		SeedPlugin.__super.call(this);
	}

	__class(SeedPlugin,'laya.game.client.plugins.SeedPlugin',_super);
	var __proto=SeedPlugin.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='seed';
	}

	__proto.onInit=function(){
		this.target=this.owner;
		this.scene=this.target.scene;
		this.scene.timer.loop(500,this,this.checkMonster);
	}

	__proto.onDestruct=function(){
		this.scene.timer.clear(this,this.checkMonster);
		_super.prototype.onDestruct.call(this);
	}

	__proto.createMonster=function(){
		var angle=2*Math.PI*Math.random();
		var dis=5*Math.random();
		var createParam=this.scene.getGameObjParam()
		.clear()
		.setConfig(this.configId,"Character")
		.rangePos(this.target,dis,angle);
		this.target.createMonster(createParam);
	}

	__proto.checkMonster=function(){
		for(var i=this.target.monsters.length;i<this.monsterMaxNum;i++){
			this.createMonster();
		}
	}

	return SeedPlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/SkillPlugin.as=======97.998623/97.998623
//class laya.game.client.plugins.SkillPlugin extends laya.libs.plugin.Plugin
var SkillPlugin=(function(_super){
	function SkillPlugin(){
		this.self=null;
		this.skill=null;
		SkillPlugin.__super.call(this);
	}

	__class(SkillPlugin,'laya.game.client.plugins.SkillPlugin',_super);
	var __proto=SkillPlugin.prototype;
	__proto.resetProperty=function(){
		this._bindProperty='_skill_';
	}

	__proto.onInit=function(){
		this.self=this.owner;
		this.owner.on(Event.TRIGGER_ENTER,this,this.onCollisionBegin);
	}

	__proto.setSkill=function(_skill){
		this.skill=_skill;
	}

	__proto.onDestruct=function(){
		this.owner.off(Event.TRIGGER_ENTER,this,this.onCollisionBegin);
		this.self.off('ActionComplete',this,this.onEnd);
		this.self.node.visible=true;
		this.skill=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.onCollisionBegin=function(self,other){
		this.skill.capture(other,this.owner);
	}

	__proto.onEnd=function(){
		this.self.node.visible=false;
		this.self.avatar.stop();
		this.skill.removeGameObj(this.self);
	}

	return SkillPlugin;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/StateMachine.as=======97.998622/97.998622
/**
*状态机
*reference Javascript State Machine Library
*https://github.com/jakesgordon/javascript-state-machine
*/
//class laya.game.client.plugins.StateMachine extends laya.libs.plugin.Plugin
var StateMachine$1=(function(_super){
	function StateMachine(){
		this.current='none';
		this.terminal=null;
		this.transition=null;
		this.from=null;
		this.to=null;
		this._callMap=null;
		this._eventMap=null;
		this._stateMap=null;
		this._owner=null;
		this._currentEvent=null;
		StateMachine.__super.call(this);
	}

	__class(StateMachine,'laya.game.client.plugins.StateMachine',_super,'StateMachine$1');
	var __proto=StateMachine.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.character.interfaces.IStateMachine":true,"laya.game.client.plugins.IActionCheck":true})
	__proto.onInit=function(){
		this.current='none';
		this._callMap={};
		this._eventMap={};
		this._stateMap={};
		this._owner=this.owner;
	}

	// _owner.actionController.actionCheck=this;
	__proto.checkAction=function(data){
		return this.can(data.state);
	}

	__proto.playAction=function(data){
		this.run(data.state);
	}

	__proto.resetProperty=function(){
		this._bindProperty='stateMachine';
	}

	__proto.onDestruct=function(){
		this._callMap=null;
		this._eventMap=null;
		this._stateMap=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.initStateMachine=function(initState){
		this.callback('after',Handler.create(this,this.onEventAfter));
		var events=[];
		var fsmTableData=Sheet.get("FSM");
		for(var i=0,len=fsmTableData.length;i<len;++i){
			var fsmData=fsmTableData [i];
			if(!fsmData)continue ;
			events.push({event:fsmData.event,from:fsmData.from.split(","),to:fsmData.to});
			if(!StateMachine.stateDefine[fsmData.event]){
				StateMachine.stateDefine[fsmData.event]=fsmData;
			}
		}
		this.create(initState,events);
	}

	__proto.onEventAfter=function(m){}
	/**
	*创建一个状态机
	*@param initState 初始状态
	*@param events 事件集合
	*@param terminal 全局结束状态
	*@return 返回状态机实例
	*/
	__proto.create=function(initState,events,callbacks,terminal){
		this.terminal=terminal;
		if (initState)this.add('startup','none',initState);
		if (events){
			for (var i=0,n=events.length;i < n;i++){
				this.add(events[i].event || events[i].name,events[i].from,events[i].to);
			}
		}
		if (callbacks){
			for (var name in callbacks){
				if (callbacks.hasOwnProperty(name))
					this.callback(name,callbacks[name]);
			}
		}
		if (initState)this.run('startup');
		return this;
	}

	/**
	*当前状态是否是制定参数的状态
	*@param state 字符串或者数组
	*/
	__proto.contain=function(state){
		return ((state instanceof Array))? (state.indexOf(this.current)>=0):(this.current===state);
	}

	/**
	*当前状态下，是否能执行指定行为
	*@param event 行为
	*/
	__proto.can=function(event){
		return !(this.transition!=null)&& (this._eventMap[event][this.current] || this._eventMap[event][StateMachine.WILDCARD]);
	}

	/**
	*当前状态下，是否不能执行指定行为
	*@param event 行为
	*/
	__proto.cannot=function(event){
		return !this.can(event);
	}

	/**
	*返回当前状态下，所有关联的事件
	*/
	__proto.transitions=function(){
		return this._stateMap[this.current];
	}

	/**
	*返回当前状态是否结束
	*/
	__proto.isFinished=function(){
		return this.contain(this.terminal);
	}

	/**
	*添加行为状态对应表
	*@param event 行为
	*@param from 开始状态
	*@param to 结束状态
	*/
	__proto.add=function(event,from,to){
		var arr=(from instanceof Array)? from :[from];
		this._eventMap[event] || (this._eventMap[event]={});
		for (var i=0,n=arr.length;i < n;i++){
			var state=arr[i];
			this._stateMap[state] || (this._stateMap[state]=[]);
			this._stateMap[state].push(event);
			this._eventMap[event][state]=to || state;
		}
	}

	/**
	*注册回调事件
	*@param event 回调事件名称
	*@param handler 回调函数
	*/
	__proto.callback=function(event,handler){
		handler.once=false;
		this._callMap[event]=handler;
	}

	/**
	*执行预先定义好的行为
	*@param event 行为名称
	*@return 返回执行行为的结果 0:失败，1:成功 100:在beforeEvent内被取消 101.异步等待
	*/
	__proto.run=function(event){
		var map=this._eventMap[event];
		if (!map)return 0;
		var from=this.current;
		var to=map[from] || map[StateMachine.WILDCARD] || from;
		if (this.transition!=null){
			return this._error(event,from,to,"event "+event+" inappropriate because previous transition did not complete");
		}
		if (this.cannot(event)){
			return this._error(event,from,to,"event "+event+" inappropriate in current state "+this.current);
		}
		this._currentEvent=event;
		this.from=from;
		this.to=to;
		if (false===this._callEvent('before',event)){
			return 0;
		}
		if (from===to){
			this._callEvent('after',event);
			return 1;
		}
		this.transition=this._doTransition;
		var leave=this._callEvent('leave',from);
		if (leave===false){
			this.transition=null;
			return 2;
			}else if (StateMachine.ASYNC===leave){
			return 4;
			}else {
			if (this.transition!=null)return this.transition();
			else return 1;
		}
	}

	__proto._doTransition=function(){
		this.transition=null;
		this.current=this.to;
		this._callEvent('enter',this.to);
		this._callEvent('change',this.from);
		this._callEvent('after',this._currentEvent);
		return 1;
	}

	__proto._callEvent=function(type,name){
		if (this._callMap[type+name])return this._callMap[type+name].runWith(this);
		if (this._callMap[type])return this._callMap[type].runWith(this);
		return true;
	}

	__proto._error=function(event,from,to,msg){
		StateMachine.traceEnabled && console.log("state:",msg);
		return 0;
	}

	__getset(0,__proto,'currentState',function(){
		return this.current;
	});

	StateMachine.RUN_CANCELLED=0;
	StateMachine.RUN_SUCCEEDED=1;
	StateMachine.RUN_NOTRANSITION=2;
	StateMachine.RUN_PENDING=4;
	StateMachine.traceEnabled=false;
	StateMachine.WILDCARD='*';
	StateMachine.ASYNC="async";
	StateMachine.Event_Before='before';
	StateMachine.Event_After='after';
	StateMachine.Event_Leave='leave';
	StateMachine.Event_EnterTo='enter';
	StateMachine.Event_ChangeFrom='change';
	StateMachine.stateDefine={};
	return StateMachine;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/Scene2DExtend.as=======97.998617/97.998617
/**
*2D场景扩展接口
*@author wulongbin
*
*/
//class laya.game.client.scene.Scene2DExtend extends laya.libs.plugin.Plugin
var Scene2DExtend=(function(_super){
	function Scene2DExtend(){
		this.scene=null;
		Scene2DExtend.__super.call(this);
	}

	__class(Scene2DExtend,'laya.game.client.scene.Scene2DExtend',_super);
	var __proto=Scene2DExtend.prototype;
	Laya.imps(__proto,{"laya.game.client.scene.ISceneExtend":true})
	__proto.resetProperty=function(){
		this._bindProperty='extend';
	}

	__proto.onReady=function(complete){
		this.scene=this.owner;
		Laya.loader.load([{url:this.scene.src,type:"atlas"}],complete);
	}

	__proto.onInit=function(){}
	__proto.onComplete=function(){
		if(this.scene.node.onCreated){
			this.scene.node.onCreated(this.scene);
		}
	}

	__proto.addToLayer=function(target,layer){layer=layer||'objLayer';
		this.scene.node[layer].addChild(target);
	}

	__proto.getLayer=function(layer){
		return this.scene.node[layer];
	}

	__proto.onRemoveGameObj=function(gameObj){}
	__proto.createNode=function(){
		var node=CycleFactory.createObject(this.scene.param);
		return node;
	}

	__proto.onCreateGameObj=function(gameObj,param){
		gameObj.pos.setValue(param.x,param.y);
	}

	__proto.onLoop=function(){}
	return Scene2DExtend;
})(Plugin)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/SkillWithEvent.as=======97.998581/97.998581
//class laya.game.client.skill.SkillWithEvent extends laya.game.client.skill.Skill
var SkillWithEvent=(function(_super){
	function SkillWithEvent(){
		SkillWithEvent.__super.call(this);
	}

	__class(SkillWithEvent,'laya.game.client.skill.SkillWithEvent',_super);
	var __proto=SkillWithEvent.prototype;
	__proto.doPlayerSkill=function(){
		(this.caster.avatar).getScript().skill=this;
		this.caster.playActionById(this.skillData.action);
		this.caster.actionController.on(this,this.complete);
	}

	__proto.complete=function(){
		(this.caster.avatar).getScript().skill=null;
		this.caster.actionController.off(this,this.complete);
		this.caster.event('SkillPlayEnd');
		this.caster.scene.timer.callLater(this,this.destoryMe);
	}

	__proto.onDestruct=function(){
		this.caster.actionController.off(this,this.complete);
		_super.prototype.onDestruct.call(this);
	}

	return SkillWithEvent;
})(Skill)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/h5audio/AudioSoundChannel.as=======97.998436/97.998436
/**
*@private
*audio标签播放声音的音轨控制
*/
//class laya.media.h5audio.AudioSoundChannel extends laya.media.SoundChannel
var AudioSoundChannel=(function(_super){
	function AudioSoundChannel(audio){
		/**
		*播放用的audio标签
		*/
		this._audio=null;
		this._onEnd=null;
		this._resumePlay=null;
		AudioSoundChannel.__super.call(this);
		this._onEnd=Utils.bind(this.__onEnd,this);
		this._resumePlay=Utils.bind(this.__resumePlay,this);
		audio.addEventListener("ended",this._onEnd);
		this._audio=audio;
	}

	__class(AudioSoundChannel,'laya.media.h5audio.AudioSoundChannel',_super);
	var __proto=AudioSoundChannel.prototype;
	__proto.__onEnd=function(){
		if (this.loops===1){
			if (this.completeHandler){
				Laya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);
				this.completeHandler=null;
			}
			this.stop();
			this.event("complete");
			return;
		}
		if (this.loops > 0){
			this.loops--;
		}
		this.play();
	}

	__proto.__resumePlay=function(){
		if (this._audio)this._audio.removeEventListener("canplay",this._resumePlay);
		try {
			this._audio.currentTime=this.startTime;
			Browser.container.appendChild(this._audio);
			this._audio.play();
			}catch (e){
			this.event("error");
		}
	}

	/**
	*播放
	*/
	__proto.play=function(){
		this.isStopped=false;
		try {
			this._audio.playbackRate=SoundManager.playbackRate;
			this._audio.currentTime=this.startTime;
			}catch (e){
			this._audio.addEventListener("canplay",this._resumePlay);
			return;
		}
		SoundManager.addChannel(this);
		Browser.container.appendChild(this._audio);
		if ("play" in this._audio)this._audio.play();
	}

	/**
	*停止播放
	*/
	__proto.stop=function(){
		this.isStopped=true;
		SoundManager.removeChannel(this);
		this.completeHandler=null;
		if (!this._audio)return;
		if (Render.isConchApp){
			this._audio.stop();
		}
		if ("pause" in this._audio)this._audio.pause();
		this._audio.removeEventListener("ended",this._onEnd);
		this._audio.removeEventListener("canplay",this._resumePlay);
		if (!Browser.onIE)Pool.recover("audio:"+this.url,this._audio);
		Browser.removeElement(this._audio);
		this._audio=null;
	}

	__proto.pause=function(){
		this.isStopped=true;
		SoundManager.removeChannel(this);
		if ("pause" in this._audio)this._audio.pause();
	}

	__proto.resume=function(){
		if (!this._audio)return;
		this.isStopped=false;
		SoundManager.addChannel(this);
		if ("play" in this._audio)this._audio.play();
	}

	/**
	*当前播放到的位置
	*/
	__getset(0,__proto,'position',function(){
		if (!this._audio)return 0;
		return this._audio.currentTime;
	});

	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		if (!this._audio)return 0;
		return this._audio.duration;
	});

	/**
	*设置音量
	*/
	/**
	*获取音量
	*/
	__getset(0,__proto,'volume',function(){
		if (!this._audio)return 1;
		return this._audio.volume;
		},function(v){
		if (!this._audio)return;
		this._audio.volume=v;
	});

	return AudioSoundChannel;
})(SoundChannel)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/media/webaudio/WebAudioSoundChannel.as=======97.998430/97.998430
/**
*@private
*web audio api方式播放声音的音轨控制
*/
//class laya.media.webaudio.WebAudioSoundChannel extends laya.media.SoundChannel
var WebAudioSoundChannel=(function(_super){
	function WebAudioSoundChannel(){
		/**
		*声音原始文件数据
		*/
		this.audioBuffer=null;
		/**
		*gain节点
		*/
		this.gain=null;
		/**
		*播放用的数据
		*/
		this.bufferSource=null;
		/**
		*当前时间
		*/
		this._currentTime=0;
		/**
		*当前音量
		*/
		this._volume=1;
		/**
		*播放开始时的时间戳
		*/
		this._startTime=0;
		this._pauseTime=0;
		this._onPlayEnd=null;
		WebAudioSoundChannel.__super.call(this);
		this.context=WebAudioSound.ctx;
		this._onPlayEnd=Utils.bind(this.__onPlayEnd,this);
		if (this.context["createGain"]){
			this.gain=this.context["createGain"]();
			}else {
			this.gain=this.context["createGainNode"]();
		}
	}

	__class(WebAudioSoundChannel,'laya.media.webaudio.WebAudioSoundChannel',_super);
	var __proto=WebAudioSoundChannel.prototype;
	/**
	*播放声音
	*/
	__proto.play=function(){
		SoundManager.addChannel(this);
		this.isStopped=false;
		this._clearBufferSource();
		if (!this.audioBuffer)return;
		var context=this.context;
		var gain=this.gain;
		var bufferSource=context.createBufferSource();
		this.bufferSource=bufferSource;
		bufferSource.buffer=this.audioBuffer;
		bufferSource.connect(gain);
		if (gain)gain.disconnect();
		gain.connect(context.destination);
		bufferSource.onended=this._onPlayEnd;
		if (this.startTime >=this.duration)this.startTime=0;
		this._startTime=Browser.now();
		this.gain.gain.value=this._volume;
		if (this.loops==0){
			bufferSource.loop=true;
		}
		bufferSource.playbackRate.value=SoundManager.playbackRate;
		bufferSource.start(0,this.startTime);
		this._currentTime=0;
	}

	__proto.__onPlayEnd=function(){
		if (this.loops===1){
			if (this.completeHandler){
				Laya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);
				this.completeHandler=null;
			}
			this.stop();
			this.event("complete");
			return;
		}
		if (this.loops > 0){
			this.loops--;
		}
		this.play();
	}

	__proto._clearBufferSource=function(){
		if (this.bufferSource){
			var sourceNode=this.bufferSource;
			if (sourceNode.stop){
				sourceNode.stop(0);
				}else {
				sourceNode.noteOff(0);
			}
			sourceNode.disconnect(0);
			sourceNode.onended=null;
			if (!WebAudioSoundChannel._tryCleanFailed)this._tryClearBuffer(sourceNode);
			this.bufferSource=null;
		}
	}

	__proto._tryClearBuffer=function(sourceNode){
		if (!Browser.onIOS){
			WebAudioSoundChannel._tryCleanFailed=true;
			return;
		}
		try {
			sourceNode.buffer=WebAudioSound._miniBuffer;
			}catch (e){
			WebAudioSoundChannel._tryCleanFailed=true;
		}
	}

	/**
	*停止播放
	*/
	__proto.stop=function(){
		this._clearBufferSource();
		this.audioBuffer=null;
		if (this.gain)this.gain.disconnect();
		this.isStopped=true;
		SoundManager.removeChannel(this);
		this.completeHandler=null;
	}

	__proto.pause=function(){
		if (!this.isStopped){
			this._pauseTime=this.position;
		}
		this._clearBufferSource();
		if (this.gain)this.gain.disconnect();
		this.isStopped=true;
		SoundManager.removeChannel(this);
	}

	__proto.resume=function(){
		this.startTime=this._pauseTime;
		this.play();
	}

	/**
	*获取当前播放位置
	*/
	__getset(0,__proto,'position',function(){
		if (this.bufferSource){
			return (Browser.now()-this._startTime)/ 1000+this.startTime;
		}
		return 0;
	});

	__getset(0,__proto,'duration',function(){
		if (this.audioBuffer){
			return this.audioBuffer.duration;
		}
		return 0;
	});

	/**
	*设置音量
	*/
	/**
	*获取音量
	*/
	__getset(0,__proto,'volume',function(){
		return this._volume;
		},function(v){
		if (this.isStopped)return;
		this._volume=v;
		this.gain.gain.value=v;
	});

	WebAudioSoundChannel._tryCleanFailed=false;
	return WebAudioSoundChannel;
})(SoundChannel)


	//file:///H:/work/sniper/layaLib/src/laya/libs/path/FlyPath.as=======97.997931/97.997931
/**
*抛物飞行路径，实现了基于目标点的抛物线运动，同时可设置运行时是否旋转
*/
//class laya.libs.path.FlyPath extends laya.libs.path.PathBase
var FlyPath=(function(_super){
	function FlyPath(){
		/**重力参数*/
		this.g=0.005;
		/**运动过程中，是否同时旋转*/
		this.enableRotation=false;
		this._limitTime=NaN;
		this._flyTime=NaN;
		this._target=null;
		FlyPath.__super.call(this);
		this._startV=new Point();
		this._startPos=new Point();
		this._targetPos=new Point();
	}

	__class(FlyPath,'laya.libs.path.FlyPath',_super);
	var __proto=FlyPath.prototype;
	/**
	*根据指定的速度或者时间，抛物线飞行某个点
	*@param target 目标对象
	*@param x 距离x
	*@param y 距离y
	*@param speed 飞行速度，speed和time参数二选一
	*@param time 飞行时间，speed和time参数二选一
	*/
	__proto.moveTo=function(target,x,y,speed,time){
		(time===void 0)&& (time=-1);
		this._target=target;
		this._target.scaleX=1;
		if (x==0)x=1;
		this._startV.setTo(x,y);
		if (time==-1)time=this._startV.distance(0,0)/ speed;
		this._startPos.setTo(target.x,target.y);
		this._targetPos.setTo(target.x+x,target.y+y);
		this._startV.y=(y-0.5 *this.g *time *time)/ time;
		this._startV.x=this._startV.x / time;
		this._flyTime=0;
		this._limitTime=time;
	}

	/**
	*根据指定的角度，抛物线飞行一段距离
	*@param target 目标对象
	*@param radian 方向弧度
	*@param speed 飞行速度
	*@param len 飞行距离
	*/
	__proto.moveBy=function(target,radian,speed,len){
		this.moveTo(target,len *Math.cos(radian),len *Math.sin(radian),speed,len / speed);
	}

	/**
	*根据指定初始点和目标点，在指定的时间内，抛物线飞行过去
	*@param target 目标对象
	*@param x 起始坐标x
	*@param y 起始坐标y
	*@param eX 目标x
	*@param eY 目标y
	*@param time 飞行时间
	*@param offTime 时间偏移
	*/
	__proto.moveBy2=function(target,x,y,eX,eY,time,offTime){
		(offTime===void 0)&& (offTime=0);
		target.pos(x,y);
		this.moveTo(target,eX-x,eY-y,100,time);
		this._flyTime=offTime;
	}

	__proto.getPosByTime=function(time){
		FlyPath._pos.x=this._startV.x *time+this._startPos.x;
		FlyPath._pos.y=0.5 *this.g *time *time+this._startV.y *time+this._startPos.y;
		return FlyPath._pos;
	}

	__proto.getRadian=function(time){
		var dxy=(this.g *time+this._startV.y)/ this._startV.x;
		var radian=Math.atan(dxy)*57.29577951308232;
		if (this._startV.x < 0)radian+=180;
		return radian;
	}

	__proto.update=function(){
		if (!this.delta)return;
		this._flyTime+=this.delta;
		if (this._flyTime >=this._limitTime){
			this.getPosByTime(this._limitTime);
			this._target.pos(FlyPath._pos.x,FlyPath._pos.y);
			if (this.enableRotation){
				this._target.rotation=this.getRadian(this._limitTime);
			}
			this.complete();
			return;
			}else {
			this.getPosByTime(this._flyTime);
			if (this.enableRotation){
				this._target.rotation=this.getRadian(this._flyTime);
			}
			this._target.pos(FlyPath._pos.x,FlyPath._pos.y);
		}
	}

	FlyPath.TransRate=57.29577951308232;
	__static(FlyPath,
	['_pos',function(){return this._pos=new Point();}
	]);
	return FlyPath;
})(PathBase)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/EClip.as=======97.997812/97.997812
/**
*...
*@author zyh
*/
//class laya.libs.ui.EClip extends laya.libs.ui.ESprite
var EClip=(function(_super){
	function EClip(){
		/**@private */
		this._sources=null;
		/**@private */
		this._bitmap=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._clipX=1;
		/**@private */
		this._clipY=1;
		/**@private */
		this._clipWidth=0;
		/**@private */
		this._clipHeight=0;
		/**@private */
		this._index=0;
		/**@private */
		this._clipChanged=false;
		/**@private */
		this._group=null;
		EClip.__super.call(this);
	}

	__class(EClip,'laya.libs.ui.EClip',_super);
	var __proto=EClip.prototype;
	__proto.onPaint=function(ctx){
		ctx.drawTexture(this._bitmap,this._x,this._y,this._width,this._height,this._tx,this._ty);
		return this.isFinish;
	}

	/**
	*@private
	*改变切片的资源、切片的大小。
	*/
	__proto.changeClip=function(){
		this._clipChanged=false;
		if (!this._skin)return;
		var img=Loader.getRes(this._skin);
		if (img){
			this.loadComplete(this._skin,img);
			}else {
			Laya.loader.load(this._skin,Handler.create(this,this.loadComplete,[this._skin]));
		}
	}

	/**
	*@private
	*加载切片图片资源完成函数。
	*@param url 资源地址。
	*@param img 纹理。
	*/
	__proto.loadComplete=function(url,img){
		if (url===this._skin && img){
			var w=this._clipWidth || Math.ceil(img.sourceWidth / this._clipX);
			var h=this._clipHeight || Math.ceil(img.sourceHeight / this._clipY);
			var key=this._skin+w+h;
			var clips=WeakObject.I.get(key);
			if (clips)this._sources=clips;
			else {
				this._sources=[];
				for (var i=0;i < this._clipY;i++){
					for (var j=0;j < this._clipX;j++){
						this._sources.push(Texture.createFromTexture(img,w *j,h *i,w,h));
					}
				}
				WeakObject.I.set(key,this._sources);
			}
			this.index=this._index;
		}
	}

	/**@private */
	__proto._setClipChanged=function(){
		if (!this._clipChanged){
			this._clipChanged=true;
			this.callLater(this.changeClip);
		}
	}

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				this._setClipChanged()
				}else {
				this._bitmap=null;
			}
		}
	});

	/**
	*源数据。
	*/
	__getset(0,__proto,'sources',function(){
		return this._sources;
		},function(value){
		this._sources=value;
		this.index=this._index;
	});

	/**X轴（横向）切片数量。*/
	__getset(0,__proto,'clipX',function(){
		return this._clipX;
		},function(value){
		this._clipX=value || 1;
		this._setClipChanged()
	});

	/**Y轴(竖向)切片数量。*/
	__getset(0,__proto,'clipY',function(){
		return this._clipY;
		},function(value){
		this._clipY=value || 1;
		this._setClipChanged()
	});

	/**
	*横向分割时每个切片的宽度，与 <code>clipX</code> 同时设置时优先级高于 <code>clipX</code> 。
	*/
	__getset(0,__proto,'clipWidth',function(){
		return this._clipWidth;
		},function(value){
		this._clipWidth=value;
		this._setClipChanged()
	});

	/**
	*资源分组。
	*/
	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		if (value && this._skin)Loader.setGroup(this._skin,value);
		this._group=value;
	});

	/**
	*竖向分割时每个切片的高度，与 <code>clipY</code> 同时设置时优先级高于 <code>clipY</code> 。
	*/
	__getset(0,__proto,'clipHeight',function(){
		return this._clipHeight;
		},function(value){
		this._clipHeight=value;
		this._setClipChanged()
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(ESprite,this,'width',value);
		this._bitmap.width=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(ESprite,this,'height',value);
		this._bitmap.height=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.height;
	});

	/**
	*当前帧索引。
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		this._index=value;
		this._bitmap && this._sources && (this._bitmap=this._sources[value]);
	});

	/**
	*<code>AutoBitmap</code> 位图实例。
	*/
	__getset(0,__proto,'bitmap',function(){
		return this._bitmap;
	});

	return EClip;
})(ESprite)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/EImage.as=======97.997809/97.997809
/**
*...
*@author
*/
//class laya.libs.ui.EImage extends laya.libs.ui.ESprite
var EImage=(function(_super){
	function EImage(){
		this._skin=null;
		this._source=null;
		EImage.__super.call(this);
	}

	__class(EImage,'laya.libs.ui.EImage',_super);
	var __proto=EImage.prototype;
	__proto.bindPath=function(path){}
	//path.setTarget(this);
	__proto.onPaint=function(ctx){
		this._source && ctx.drawTexture(this._source,this._x,this._y,this._width,this._height,this._tx,this._ty);
		return this.isFinish
	}

	/**
	*@private
	*设置皮肤资源。
	*/
	__proto.setSource=function(url,img){
		if (url===this._skin && img){
			this.source=img
		}
	}

	__getset(0,__proto,'source',function(){
		return this._source;
		},function(value){
		this._source=value;
	});

	/**
	*<p>对象的皮肤地址，以字符串表示。</p>
	*<p>如果资源未加载，则先加载资源，加载完成后应用于此对象。</p>
	*<b>注意：</b>资源加载完成后，会自动缓存至资源库中。
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				var source=Loader.getRes(value);
				if (source){
					this.source=source;
				}else Laya.loader.load(this._skin,Handler.create(this,this.setSource,[this._skin]),null,"image");
				}else {
				this.source=null;
			}
		}
	});

	return EImage;
})(ESprite)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/EText.as=======97.997807/97.997807
//class laya.libs.ui.EText extends laya.libs.ui.ESprite
var EText=(function(_super){
	function EText(){
		this._value=null;
		this.color='#FFFFFF';
		this.fontSize=20;
		this.scaleTimer=150;
		this.key='';
		EText.__super.call(this);
	}

	__class(EText,'laya.libs.ui.EText',_super);
	var __proto=EText.prototype;
	/**
	*更新显示
	*@param ctx
	*@return
	*/
	__proto.onPaint=function(ctx){
		if(!this.isFinish){
			ctx.scale(this.scaleX,this.scaleY);
			ctx.globalAlpha=this.alpha;
			ctx.fillText(this._value,EText.isCenter?this.x / this.scaleX:this.x,EText.isCenter?this.y / this.scaleY:this.y,this.fontSize+"px Arial Bold",this.color,"center");
			ctx.scale(1/this.scaleX,1/this.scaleY);
			ctx.globalAlpha=1;
		}
		return this.isFinish
	}

	/**
	*设置显示内容
	*/
	__getset(0,__proto,'value',null,function(v){
		this._value=v;
	});

	EText.isCenter=true;
	return EText;
})(ESprite)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CCircle.as=======97.997746/97.997746
/**
*圆形
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.shape.CCircle extends laya.game.libs.collision2D.shape.CShape
var CCircle=(function(_super){
	function CCircle(){
		this.radius=NaN;
		CCircle.__super.call(this);
	}

	__class(CCircle,'laya.game.libs.collision2D.shape.CCircle',_super);
	var __proto=CCircle.prototype;
	__proto.size=function(r){
		this.radius=r;
	}

	return CCircle;
})(CShape)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CFan.as=======97.997744/97.997744
/**
*扇形
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.shape.CFan extends laya.game.libs.collision2D.shape.CShape
var CFan=(function(_super){
	function CFan(){
		this.fanAngle=NaN;
		this._halfFanAngle=NaN;
		this.minRadius=NaN;
		this.maxRadius=NaN;
		CFan.__super.call(this);
	}

	__class(CFan,'laya.game.libs.collision2D.shape.CFan',_super);
	var __proto=CFan.prototype;
	/**
	*
	*@param fanAngle
	*@param radius
	*
	*/
	__proto.size=function(fanAngle,maxRadius,minRadius){
		(minRadius===void 0)&& (minRadius=0);
		this.fanAngle=fanAngle;
		this._halfFanAngle=fanAngle>>1;
		this.maxRadius=maxRadius;
		this.minRadius=minRadius;
	}

	return CFan;
})(CShape)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CPoint.as=======97.997743/97.997743
//class laya.game.libs.collision2D.shape.CPoint extends laya.game.libs.collision2D.shape.CShape
var CPoint=(function(_super){
	function CPoint(){
		CPoint.__super.call(this);
	}

	__class(CPoint,'laya.game.libs.collision2D.shape.CPoint',_super);
	return CPoint;
})(CShape)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CRect.as=======97.997742/97.997742
/**
*矩形
*@author wulongbin
*
*/
//class laya.game.libs.collision2D.shape.CRect extends laya.game.libs.collision2D.shape.CShape
var CRect=(function(_super){
	function CRect(){
		this.width=NaN;
		this.height=NaN;
		this._halfWidth=NaN;
		this._halfHeight=NaN;
		CRect.__super.call(this);
	}

	__class(CRect,'laya.game.libs.collision2D.shape.CRect',_super);
	var __proto=CRect.prototype;
	__proto.size=function(w,h){
		this.width=w;
		this.height=h;
		this._halfWidth=w>>1;
		this._halfHeight=h>>1;
	}

	return CRect;
})(CShape)


	//file:///H:/work/sniper/framework/code/common/laya/game/libs/collision2D/shape/CShapes.as=======97.997741/97.997741
//class laya.game.libs.collision2D.shape.CShapes extends laya.game.libs.collision2D.shape.CShape
var CShapes=(function(_super){
	function CShapes(){
		this.children=new Array;
		CShapes.__super.call(this);
	}

	__class(CShapes,'laya.game.libs.collision2D.shape.CShapes',_super);
	var __proto=CShapes.prototype;
	Laya.imps(__proto,{"laya.game.libs.collision2D.shape.IShapes":true})
	__proto.__addShape=function(c){
		this.children.push(c);
		c.parent=this;
	}

	__proto.__removeShape=function(c){
		var index=this.children.indexOf(c);
		if(index>=0){
			c.parent=null;
			this.children.splice(index,1);
		}
	}

	__proto.onDestruct=function(){
		var len=this.children.length;
		for(var i=0;i<len;i++){
			this.children[i].recovery();
		}
		this.children.length=0;
		laya.libs.recover.BaseRecovery.prototype.onDestruct.call(this);
	}

	return CShapes;
})(CShape)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/scene/GameSearchResult.as=======97.997699/97.997699
//class laya.game.client.plugins.scene.GameSearchResult extends laya.libs.group.SearchResult
var GameSearchResult=(function(_super){
	function GameSearchResult(){
		GameSearchResult.__super.call(this);
	}

	__class(GameSearchResult,'laya.game.client.plugins.scene.GameSearchResult',_super);
	var __proto=GameSearchResult.prototype;
	/**
	*根据距离过滤
	*@param pos 当前位置
	*@param distance 距离
	*@param distanceType 距离计算方式 （枚举：DistanceUtils）
	*@param needsort 是否按由近及远排序
	*@return
	*
	*/
	__proto.filterByDistance=function(pos,distance,distanceType,needSort){
		(needSort===void 0)&& (needSort=false);
		var tempArr=this.array;
		var result=OnceTool.getArray();
		var len=tempArr.length;
		var func=DistanceUtils[distanceType];
		for(var i=0;i<len;i++){
			var target=tempArr [i];
			var tempDis=func(target.pos.value,pos);
			if(tempDis < distance && !(target).isDead){
				result.push(target);
				target.temp=tempDis;
			}
		}
		if(needSort){
			result.sortOn('temp');
		}
		OnceTool.recoveryArray(tempArr);
		this.array=result;
		return this;
	}

	__proto.filterByCollider=function(c1){
		var tempArr=this.array;
		var result=OnceTool.getArray();
		var len=tempArr.length;
		for(var i=0;i<len;i++){
			var target=tempArr [i];
			if(target.shape){
				var c2=target.shape.getShape();
				var c=CSystem.checkCollide(c1,c2);
				if(c){
					result.push(target);
					c.recovery();
				}
			}
		}
		OnceTool.recoveryArray(tempArr);
		this.array=result;
		return this;
	}

	return GameSearchResult;
})(SearchResult)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/collision/DistanceCollision.as=======97.997506/97.997506
/**
*距离检测碰撞
*@author wulongbin
*
*/
//class laya.game.client.skill.collision.DistanceCollision extends laya.game.client.skill.collision.SkillCollision
var DistanceCollision=(function(_super){
	function DistanceCollision(){
		this.range=NaN;
		this.distanceType=null;
		this._isTween=false;
		DistanceCollision.__super.call(this);
	}

	__class(DistanceCollision,'laya.game.client.skill.collision.DistanceCollision',_super);
	var __proto=DistanceCollision.prototype;
	__proto.doParam=function(param){
		this.range=param.range;
		this.distanceType=param.distanceType;
		this._isTween=false;
	}

	__proto.onLoop=function(){
		_super.prototype.onLoop.call(this);
		var result=this.groupManager.searchSkillGroup(this.from).filterByDistance(this.pos,this.range,this.distanceType);
		var arr=result.array;
		var len=arr.length;
		for(var i=0;i<len;i++){
			this.capture(arr[i]);
		}
		result.recovery();
	}

	__proto.tween=function(time){
		this._isTween=true;
		this.from.scene.tweenManager.to(this,{range:this.range},time,null,Handler.create(this,this.tweenEnd));
	}

	__proto.tweenEnd=function(){
		this._isTween=false;
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		if(this._isTween){
			this.from.scene.tweenManager.clearAll(this);
			this._isTween=false;
		}
	}

	return DistanceCollision;
})(SkillCollision)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/skill/collision/ShapeCollision.as=======97.997504/97.997504
//class laya.game.client.skill.collision.ShapeCollision extends laya.game.client.skill.collision.SkillCollision
var ShapeCollision=(function(_super){
	function ShapeCollision(){
		this.shape=null;
		ShapeCollision.__super.call(this);
	}

	__class(ShapeCollision,'laya.game.client.skill.collision.ShapeCollision',_super);
	var __proto=ShapeCollision.prototype;
	__proto.doParam=function(param){
		this.shape=CSystem.createShape(param.type,param.size);
	}

	__proto.onLoop=function(){
		_super.prototype.onLoop.call(this);
		if(GameSystem.is3D){
			this.shape.pos(this.pos.z,this.pos.x);
		}
		else{
			this.shape.pos(this.pos.x,this.pos.y);
		}
		this.shape.rotation=this.from.faceAngle;
		var result=(this.groupManager.searchSkillGroup(this.from)).filterByCollider(this.shape);
		var arr=result.array;
		var len=arr.length;
		for(var i=0;i<len;i++){
			this.capture(arr[i]);
		}
		result.recovery();
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.shape.recovery();
		this.shape=null;
	}

	return ShapeCollision;
})(SkillCollision)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/value/TextSV.as=======97.997296/97.997296
//class laya.webgl.shader.d2.value.TextSV extends laya.webgl.shader.d2.value.TextureSV
var TextSV=(function(_super){
	function TextSV(args){
		TextSV.__super.call(this,0x40);
		this.defines.add(0x40);
	}

	__class(TextSV,'laya.webgl.shader.d2.value.TextSV',_super);
	var __proto=TextSV.prototype;
	__proto.release=function(){
		TextSV.pool[TextSV._length++]=this;
		this.clear();
	}

	__proto.clear=function(){
		_super.prototype.clear.call(this);
	}

	TextSV.create=function(){
		if (TextSV._length)return TextSV.pool[--TextSV._length];
		else return new TextSV(null);
	}

	TextSV.pool=[];
	TextSV._length=0;
	return TextSV;
})(TextureSV)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/EightMirrorDirAdapter.as=======97.996514/97.996514
/**
*avatar2D 五方向适配
*@author wulongbin
*
*/
//class laya.game.client.plugins.character.avatar.EightMirrorDirAdapter extends laya.game.client.plugins.character.avatar.EightDirectionAdapter
var EightMirrorDirAdapter=(function(_super){
	function EightMirrorDirAdapter(){
		EightMirrorDirAdapter.__super.call(this);
		this.useMirror=true;
		this.table[5]=this.table[3];
		this.table[6]=this.table[2];
		this.table[7]=this.table[1];
	}

	__class(EightMirrorDirAdapter,'laya.game.client.plugins.character.avatar.EightMirrorDirAdapter',_super);
	return EightMirrorDirAdapter;
})(EightDirectionAdapter)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/FourMirrorDirAdapter.as=======97.996510/97.996510
//class laya.game.client.plugins.character.avatar.FourMirrorDirAdapter extends laya.game.client.plugins.character.avatar.FourDirectionAdapter
var FourMirrorDirAdapter=(function(_super){
	function FourMirrorDirAdapter(){
		FourMirrorDirAdapter.__super.call(this);
		this.useMirror=true;
		this.table[3]=this.table[1];
	}

	__class(FourMirrorDirAdapter,'laya.game.client.plugins.character.avatar.FourMirrorDirAdapter',_super);
	return FourMirrorDirAdapter;
})(FourDirectionAdapter)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/avatar/TwoMirrorDirAdapter.as=======97.996506/97.996506
//class laya.game.client.plugins.character.avatar.TwoMirrorDirAdapter extends laya.game.client.plugins.character.avatar.OneDirectionAdapter
var TwoMirrorDirAdapter=(function(_super){
	function TwoMirrorDirAdapter(autoDir,useActionName){
		(autoDir===void 0)&& (autoDir=5);
		(useActionName===void 0)&& (useActionName=true);
		TwoMirrorDirAdapter.__super.call(this,true,autoDir,useActionName);
	}

	__class(TwoMirrorDirAdapter,'laya.game.client.plugins.character.avatar.TwoMirrorDirAdapter',_super);
	return TwoMirrorDirAdapter;
})(OneDirectionAdapter)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/UIComponent.as=======96.999818/96.999818
/**
*<code>Component</code> 是ui控件类的基类。
*<p>生命周期：preinitialize > createChildren > initialize > 组件构造函数</p>
*/
//class laya.ui.UIComponent extends laya.display.Sprite
var UIComponent=(function(_super){
	function UIComponent(){
		this._comXml=null;
		/**@private 控件的元数据。 */
		this._dataSource=null;
		/**@private 鼠标悬停提示 */
		this._toolTip=null;
		/**@private 标签 */
		this._tag=null;
		/**@private 禁用 */
		this._disabled=false;
		/**@private 变灰*/
		this._gray=false;
		/**
		*是否启用相对布局
		*/
		this.layoutEnabled=true;
		UIComponent.__super.call(this);
		this._layout=LayoutStyle.EMPTY;
		this.preinitialize();
		this.createChildren();
		this.initialize();
	}

	__class(UIComponent,'laya.ui.UIComponent',_super);
	var __proto=UIComponent.prototype;
	Laya.imps(__proto,{"laya.ui.IComponent":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._dataSource=this._layout=null;
		this._tag=null;
		this._toolTip=null;
	}

	/**
	*<p>预初始化。</p>
	*@internal 子类可在此函数内设置、修改属性默认值
	*/
	__proto.preinitialize=function(){}
	/**
	*<p>创建并添加控件子节点。</p>
	*@internal 子类可在此函数内创建并添加子节点。
	*/
	__proto.createChildren=function(){}
	/**
	*<p>控件初始化。</p>
	*@internal 在此子对象已被创建，可以对子对象进行修改。
	*/
	__proto.initialize=function(){}
	/**
	*<p>延迟运行指定的函数。</p>
	*<p>在控件被显示在屏幕之前调用，一般用于延迟计算数据。</p>
	*@param method 要执行的函数的名称。例如，functionName。
	*@param args 传递给 <code>method</code> 函数的可选参数列表。
	*
	*@see #runCallLater()
	*/
	__proto.callLater=function(method,args){
		Laya.timer.callLater(this,method,args);
	}

	/**
	*<p>如果有需要延迟调用的函数（通过 <code>callLater</code> 函数设置），则立即执行延迟调用函数。</p>
	*@param method 要执行的函数名称。例如，functionName。
	*@see #callLater()
	*/
	__proto.runCallLater=function(method){
		Laya.timer.runCallLater(this,method);
	}

	/**
	*<p>立即执行影响宽高度量的延迟调用函数。</p>
	*@internal <p>使用 <code>runCallLater</code> 函数，立即执行影响宽高度量的延迟运行函数(使用 <code>callLater</code> 设置延迟执行函数)。</p>
	*@see #callLater()
	*@see #runCallLater()
	*/
	__proto.commitMeasure=function(){}
	/**
	*<p>重新调整对象的大小。</p>
	*/
	__proto.changeSize=function(){
		this.event("resize");
	}

	/**
	*@private
	*<p>获取对象的布局样式。</p>
	*/
	__proto.getLayout=function(){
		this._layout===LayoutStyle.EMPTY && (this._layout=new LayoutStyle());
		return this._layout;
	}

	/**
	*@private
	*<p>指定对象是否可使用布局。</p>
	*<p>如果值为true,则此对象可以使用布局样式，否则不使用布局样式。</p>
	*@param value 一个 Boolean 值，指定对象是否可使用布局。
	*/
	__proto._setLayoutEnabled=function(value){
		if (this._layout && this._layout.enable !=value){
			this._layout.enable=value;
			this.on("added",this,this.onAdded);
			this.on("removed",this,this.onRemoved);
			if (this.parent){
				this.onAdded();
			}
		}
	}

	/**
	*对象从显示列表移除的事件侦听处理函数。
	*/
	__proto.onRemoved=function(){
		this.parent.off("resize",this,this.onCompResize);
	}

	/**
	*对象被添加到显示列表的事件侦听处理函数。
	*/
	__proto.onAdded=function(){
		this.parent.on("resize",this,this.onCompResize);
		this.resetLayoutX();
		this.resetLayoutY();
	}

	/**
	*父容器的 <code>Event.RESIZE</code> 事件侦听处理函数。
	*/
	__proto.onCompResize=function(){
		if (this._layout && this._layout.enable){
			this.resetLayoutX();
			this.resetLayoutY();
		}
		this.event("resize");
	}

	/**
	*<p>重置对象的 <code>X</code> 轴（水平方向）布局。</p>
	*/
	__proto.resetLayoutX=function(){
		var layout=this._layout;
		if (!isNaN(layout.anchorX))this.pivotX=layout.anchorX *this.width;
		if (!this.layoutEnabled)return;
		var parent=this.parent;
		if (parent){
			if (!isNaN(layout.centerX)){
				this.x=Math.round((parent.width-this.displayWidth)*0.5+layout.centerX+this.pivotX *this.scaleX);
				}else if (!isNaN(layout.left)){
				this.x=Math.round(layout.left+this.pivotX *this.scaleX);
				if (!isNaN(layout.right)){
					this.width=(parent._width-layout.left-layout.right)/ (this.scaleX || 0.01);
				}
				}else if (!isNaN(layout.right)){
				this.x=Math.round(parent.width-this.displayWidth-layout.right+this.pivotX *this.scaleX);
			}
		}
	}

	/**
	*<p>重置对象的 <code>Y</code> 轴（垂直方向）布局。</p>
	*/
	__proto.resetLayoutY=function(){
		var layout=this._layout;
		if (!isNaN(layout.anchorY))this.pivotY=layout.anchorY *this.height;
		if (!this.layoutEnabled)return;
		var parent=this.parent;
		if (parent){
			if (!isNaN(layout.centerY)){
				this.y=Math.round((parent.height-this.displayHeight)*0.5+layout.centerY+this.pivotY *this.scaleY);
				}else if (!isNaN(layout.top)){
				this.y=Math.round(layout.top+this.pivotY *this.scaleY);
				if (!isNaN(layout.bottom)){
					this.height=(parent._height-layout.top-layout.bottom)/ (this.scaleY || 0.01);
				}
				}else if (!isNaN(layout.bottom)){
				this.y=Math.round(parent.height-this.displayHeight-layout.bottom+this.pivotY *this.scaleY);
			}
		}
	}

	/**
	*对象的 <code>Event.MOUSE_OVER</code> 事件侦听处理函数。
	*/
	__proto.onMouseOver=function(e){
		Laya.stage.event("showtip",this._toolTip);
	}

	/**
	*对象的 <code>Event.MOUSE_OUT</code> 事件侦听处理函数。
	*/
	__proto.onMouseOut=function(e){
		Laya.stage.event("hidetip",this._toolTip);
	}

	/**
	*<p>对象的显示宽度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'displayWidth',function(){
		return this.width *this.scaleX;
	});

	/**
	*<p>表示显示对象的宽度，以像素为单位。</p>
	*<p><b>注：</b>当值为0时，宽度为自适应大小。</p>
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		return this.measureWidth;
		},function(value){
		if (this._width !=value){
			this._width=value;
			this.callLater(this.changeSize);
			if (this._layout.enable && (!isNaN(this._layout.centerX)|| !isNaN(this._layout.right)|| !isNaN(this._layout.anchorX)))this.resetLayoutX();
		}
	});

	/**
	*<p>显示对象的实际显示区域宽度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'measureWidth',function(){
		var max=0;
		this.commitMeasure();
		for (var i=this.numChildren-1;i >-1;i--){
			var comp=this.getChildAt(i);
			if (comp._visible){
				max=Math.max(comp._x+comp.width *comp.scaleX,max);
			}
		}
		return max;
	});

	/**
	*<p>对象的显示高度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'displayHeight',function(){
		return this.height *this.scaleY;
	});

	/**
	*<p>表示显示对象的高度，以像素为单位。</p>
	*<p><b>注：</b>当值为0时，高度为自适应大小。</p>
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		return this.measureHeight;
		},function(value){
		if (this._height !=value){
			this._height=value;
			this.callLater(this.changeSize);
			if (this._layout.enable && (!isNaN(this._layout.centerY)|| !isNaN(this._layout.bottom)|| !isNaN(this._layout.anchorY)))this.resetLayoutY();
		}
	});

	/**
	*<p>数据赋值，通过对UI赋值来控制UI显示逻辑。</p>
	*<p>简单赋值会更改组件的默认属性，使用大括号可以指定组件的任意属性进行赋值。</p>
	*@example
	//默认属性赋值
	dataSource={label1:"改变了label",checkbox1:true};//(更改了label1的text属性值，更改checkbox1的selected属性)。
	//任意属性赋值
	dataSource={label2:{text:"改变了label",size:14},checkbox2:{selected:true,x:10}};
	*/
	__getset(0,__proto,'dataSource',function(){
		return this._dataSource;
		},function(value){
		this._dataSource=value;
		for (var prop in this._dataSource){
			if (this.hasOwnProperty(prop)&& !((typeof (this[prop])=='function'))){
				this[prop]=this._dataSource[prop];
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleY',_super.prototype._$get_scaleY,function(value){
		if (Laya.superGet(Sprite,this,'scaleY')!=value){
			Laya.superSet(Sprite,this,'scaleY',value);
			this.callLater(this.changeSize);
			this._layout.enable && this.resetLayoutY();
		}
	});

	/**
	*<p>显示对象的实际显示区域高度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'measureHeight',function(){
		var max=0;
		this.commitMeasure();
		for (var i=this.numChildren-1;i >-1;i--){
			var comp=this.getChildAt(i);
			if (comp._visible){
				max=Math.max(comp._y+comp.height *comp.scaleY,max);
			}
		}
		return max;
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleX',_super.prototype._$get_scaleX,function(value){
		if (Laya.superGet(Sprite,this,'scaleX')!=value){
			Laya.superSet(Sprite,this,'scaleX',value);
			this.callLater(this.changeSize);
			this._layout.enable && this.resetLayoutX();
		}
	});

	/**
	*<p>从组件顶边到其内容区域顶边之间的垂直距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'top',function(){
		return this._layout.top;
		},function(value){
		if (value !=this._layout.top){
			this.getLayout().top=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>从组件底边到其内容区域底边之间的垂直距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'bottom',function(){
		return this._layout.bottom;
		},function(value){
		if (value !=this._layout.bottom){
			this.getLayout().bottom=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>从组件左边到其内容区域左边之间的水平距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'left',function(){
		return this._layout.left;
		},function(value){
		if (value !=this._layout.left){
			this.getLayout().left=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>从组件右边到其内容区域右边之间的水平距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'right',function(){
		return this._layout.right;
		},function(value){
		if (value !=this._layout.right){
			this.getLayout().right=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>在父容器中，此对象的水平方向中轴线与父容器的水平方向中心线的距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'centerX',function(){
		return this._layout.centerX;
		},function(value){
		if (value !=this._layout.centerX){
			this.getLayout().centerX=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>在父容器中，此对象的垂直方向中轴线与父容器的垂直方向中心线的距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'centerY',function(){
		return this._layout.centerY;
		},function(value){
		if (value !=this._layout.centerY){
			this.getLayout().centerY=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**X轴锚点，值为0-1*/
	__getset(0,__proto,'anchorX',function(){
		return this._layout.anchorX;
		},function(value){
		if (value !=this._layout.anchorX){
			this.getLayout().anchorX=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**Y轴锚点，值为0-1*/
	__getset(0,__proto,'anchorY',function(){
		return this._layout.anchorY;
		},function(value){
		if (value !=this._layout.anchorY){
			this.getLayout().anchorY=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>对象的标签。</p>
	*@internal 冗余字段，可以用来储存数据。
	*/
	__getset(0,__proto,'tag',function(){
		return this._tag;
		},function(value){
		this._tag=value;
	});

	/**
	*<p>鼠标悬停提示。</p>
	*<p>可以赋值为文本 <code>String</code> 或函数 <code>Handler</code> ，用来实现自定义样式的鼠标提示和参数携带等。</p>
	*@example
	*private var _testTips:TestTipsUI=new TestTipsUI();
	*private function testTips():void {
		//简单鼠标提示
		*btn2.toolTip="这里是鼠标提示&lt;b&gt;粗体&lt;/b&gt;&lt;br&gt;换行";
		//自定义的鼠标提示
		*btn1.toolTip=showTips1;
		//带参数的自定义鼠标提示
		*clip.toolTip=new Handler(this,showTips2,["clip"]);
		*}
	*private function showTips1():void {
		*_testTips.label.text="这里是按钮["+btn1.label+"]";
		*tip.addChild(_testTips);
		*}
	*private function showTips2(name:String):void {
		*_testTips.label.text="这里是"+name;
		*tip.addChild(_testTips);
		*}
	*/
	__getset(0,__proto,'toolTip',function(){
		return this._toolTip;
		},function(value){
		if (this._toolTip !=value){
			this._toolTip=value;
			if (value !=null){
				this.on("mouseover",this,this.onMouseOver);
				this.on("mouseout",this,this.onMouseOut);
				}else {
				this.off("mouseover",this,this.onMouseOver);
				this.off("mouseout",this,this.onMouseOut);
			}
		}
	});

	/**
	*XML 数据。
	*/
	__getset(0,__proto,'comXml',function(){
		return this._comXml;
		},function(value){
		this._comXml=value;
	});

	/**是否变灰。*/
	__getset(0,__proto,'gray',function(){
		return this._gray;
		},function(value){
		if (value!==this._gray){
			this._gray=value;
			UIUtils.gray(this,value);
		}
	});

	/**是否禁用页面，设置为true后，会变灰并且禁用鼠标。*/
	__getset(0,__proto,'disabled',function(){
		return this._disabled;
		},function(value){
		if (value!==this._disabled){
			this.gray=this._disabled=value;
			this.mouseEnabled=!value;
		}
	});

	return UIComponent;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/src/PageManager.as=======96.999789/96.999789
//class PageManager extends laya.display.Sprite
var PageManager=(function(_super){
	function PageManager(){
		/**加载页面实例**/
		this.loading=null;
		/**大厅页面实例**/
		this.hall=null;
		/**匹配页面**/
		this.match=null;
		/**对战vs页面**/
		this.vs=null;
		/**自己的昵称**/
		this.myNickName="";
		/**自己的userId**/
		this.myUserId="";
		/**自己的头像地址**/
		this.myHeadUrl="";
		/**存放房间信息**/
		this.roomMsg=[];
		/**蓝方杀人数：确认MVP**/
		this.blueScore=0;
		/**红方杀人数：确认MVP**/
		this.redScore=0;
		/**自己的爆头次数**/
		this.baotouNum=0;
		/**自己的死亡次数**/
		this.deadNum=0;
		/**自己的杀人数**/
		this.killNum=0;
		/**結算頁面**/
		this.victory=null;
		this.isFreeMatch=false;
		PageManager.__super.call(this);
	}

	__class(PageManager,'PageManager',_super);
	var __proto=PageManager.prototype;
	__proto.init=function(){
		EventCenter.on(GameEvent.PAGE_LOADING,this,this.onLoading);
		EventCenter.on(GameEvent.PAGE_HALL,this,this.onHall);
		EventCenter.on(GameEvent.PAGE_MATCH,this,this.onMatch);
		EventCenter.on(GameEvent.PAGE_VS,this,this.onVS);
		EventCenter.on(GameEvent.PAGE_BAG,this,this.onBag);
		EventCenter.on(GameEvent.ROOM_MSG_CHANGE,this,this.onRoomMsgChange);
		EventCenter.on(GameEvent.VS_PRO_CHANGE,this,this.onVsProChange);
		EventCenter.on(GameEvent.PAGE_VICTORY,this,this.onVictory);
	}

	//结算页面
	__proto.onVictory=function(){
		this.victory=new VictoryView();
		Laya.stage.addChild(this.victory);
	}

	__proto.onVsProChange=function(msg){
		if(Laya.stage.contains(this.vs)){
			this.vs.updatePro(msg);
		}
	}

	/**
	*房间信息改变
	*/
	__proto.onRoomMsgChange=function(msg){
		this.roomMsg=msg;
		if(this.match){
			this.match.updateMsg();
		}
	}

	__proto.onBag=function(){
		var bagView=new BagView$1();
		Laya.stage.addChild(bagView);
	}

	/**
	*跳转VS界面
	*/
	__proto.onVS=function(){
		this.vs=new VsView();
		Laya.stage.addChild(this.vs);
	}

	/**
	*跳转匹配页面
	*/
	__proto.onMatch=function(roomId){
		if(this.hall){
			this.hall.dispo();
		}
		this.match=new MatchView();
		Laya.stage.addChild(this.match);
	}

	/**
	*跳转Hall页面
	*/
	__proto.onHall=function(){
		this.hall=new HallView();
		Laya.stage.addChild(this.hall);
	}

	/**
	*跳转Loading页面
	*/
	__proto.onLoading=function(data){
		this.loading=new LoadingView();
		Laya.stage.addChild(this.loading);
	}

	PageManager.I=function(){
		return PageManager._Instance=PageManager._Instance||new PageManager();
	}

	__static(PageManager,
	['_Instance',function(){return this._Instance=new PageManager;}
	]);
	return PageManager;
})(Sprite)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/Scene3DNode.as=======96.999736/96.999736
//class laya.game.client.scene.Scene3DNode extends laya.d3.core.scene.Scene3D
var Scene3DNode=(function(_super){
	function Scene3DNode(){
		this.gameObjects=null;
		this.customProps=null;
		Scene3DNode.__super.call(this);
	}

	__class(Scene3DNode,'laya.game.client.scene.Scene3DNode',_super);
	var __proto=Scene3DNode.prototype;
	__proto._onAsynLoaded=function(data,params){
		var json=data[0];
		this.gameObjects=json.customProps.gameObjects;
		this.customProps=json.customProps;
		_super.prototype._onAsynLoaded.call(this,data,params);
	}

	return Scene3DNode;
})(Scene3D)


	//file:///H:/work/sniper/sniper/client/src/view/battle/ui/CustomHeadUI.as=======96.999725/96.999725
//class view.battle.ui.CustomHeadUI extends laya.display.Sprite
var CustomHeadUI=(function(_super){
	function CustomHeadUI(){
		this._hpBarOffsetX=0;
		this._hpBarOffsetY=0;
		this._LevelTextOffsetX=0;
		this._LevelTextOffsetY=0;
		this._hpImage=null;
		this._hpBgImage='';
		this._hpProgress=0;
		this._hpWidth=0;
		this._name='';
		this.headBG=null;
		this._offsetX=NaN;
		this._offsetY=NaN;
		this._levelNum='';
		this.levelFontSize=20;
		this.levelFontColor="#ffffff";
		this._childArr=[];
		this._scaleX=1;
		this._scaleY=1;
		CustomHeadUI.__super.call(this);
		this.hpTexture=CycleFactory.createObject('EProgressBar');
		this.headPosition=new Vector3();
	}

	__class(CustomHeadUI,'view.battle.ui.CustomHeadUI',_super);
	var __proto=CustomHeadUI.prototype;
	__proto.init=function(){
		var _$this=this;
		CustomHeadUI._allHeadUI.push(this);
		Laya.loader.load([this._hpImage,this._hpBgImage],Handler.create(this,function(){
			_$this.hpTexture.enableTween=true;
			_$this.hpTexture.bar=_$this._hpImage;
			_$this.hpTexture.bg=_$this._hpBgImage;
		}));
	}

	__proto.removeSelf=function(){
		laya.display.Node.prototype.removeSelf.call(this);
		CustomHeadUI._allHeadUI.splice(CustomHeadUI._allHeadUI.indexOf(this),1);;
	}

	/**
	*头顶信息相对于角色位置的偏移
	*@param x
	*@param y
	*/
	__proto.setOffset=function(x,y){
		this._offsetX=x;
		this._offsetY=y;
		this.hpTexture.offset(x,y);
	}

	__proto.setHPBarOffset=function(x,y){
		this._hpBarOffsetX=x;
		this._hpBarOffsetY=y;
	}

	__proto.setLevelTextOffset=function(x,y){
		this._LevelTextOffsetX=x;
		this._LevelTextOffsetY=y;
	}

	__proto.appChild=function(c){
		this._childArr.push(c);
		return this._childArr.length-1;
	}

	__proto.unChild=function(c){
		var i=this._childArr.indexOf(c);
		if (i !=-1)
			(this._childArr.splice(i,1)[0]).recovery();
	}

	__proto.unChildAt=function(index){
		(this._childArr.splice(index,1)[0]).recovery();;
	}

	__proto.customRender=function(ctx,x,y){
		return;
		this.hpTexture && this.hpTexture.onPaint(ctx);
		this._name && ctx.fillText(this._name,x+this._scaleX *this.width / 2,y,this.levelFontSize+"px Arial",this.levelFontColor,"center");
		if (this._childArr.length){
			var c;
			for (var i=0 in this._childArr){
				c=this._childArr[i];
				c.onPaint(ctx);
			}
		}
	}

	__proto.pos=function(x,y,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		this.hpTexture.pos(x+this._hpBarOffsetX,y+this._hpBarOffsetY);
		if (this._childArr.length){
			var c;
			for (var i=0 in this._childArr){
				c=this._childArr[i];
				c.pos(x,y);
			}
		}
		return _super.prototype.pos.call(this,x+this._offsetX*this._scaleX,y+this._offsetY*this._scaleX);
	}

	__proto.setScale=function(_scaleX,_scaleY){
		this._scaleX=_scaleX;
		this._scaleY=_scaleY;
		this.hpTexture.setScale(_scaleX,_scaleY);
	}

	__getset(0,__proto,'level',null,function(value){
		this._levelNum=""
	});

	//String(value);
	__getset(0,__proto,'hpImage',null,function(value){
		this._hpImage=value;
	});

	__getset(0,__proto,'hpBgImage',null,function(value){
		this._hpBgImage=value;
	});

	__getset(0,__proto,'hpProgress',null,function(value){
		this.hpTexture.value=value;
	});

	__getset(0,__proto,'userName',null,function(value){
		this._name=value;
	});

	CustomHeadUI.onLoop=function(camera){
		var ui;
		for (var i=0,len=CustomHeadUI._allHeadUI.length;i < len;++i){
			ui=CustomHeadUI._allHeadUI[i];
			camera.globalToScreen(ui.headPosition,OnceTool.tempVector3);
			ui.pos(OnceTool.tempVector3.x / Laya.stage.clientScaleX,OnceTool.tempVector3.y / Laya.stage.clientScaleY);
		}
	}

	CustomHeadUI._allHeadUI=[];
	return CustomHeadUI;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/src/view/battle/ui/CustomPaintSprite.as=======96.999724/96.999724
//class view.battle.ui.CustomPaintSprite extends laya.display.Sprite
var CustomPaintSprite=(function(_super){
	function CustomPaintSprite(){
		this._targets=[];
		this._objects={};
		CustomPaintSprite.__super.call(this);
	}

	__class(CustomPaintSprite,'view.battle.ui.CustomPaintSprite',_super);
	var __proto=CustomPaintSprite.prototype;
	__proto.removeTarget=function(t){
		var i=this._targets.indexOf(t);
		if(i>=0){
			this._targets.splice(i,1);
			t.recovery();
		}
	}

	/**
	*设置显示文字，并根据指定的弧度，抛物线飞行一段距离
	*@param value 显示内容
	*@param x 初始位置x
	*@param y 初始位置y
	*@param radian 方向弧度
	*@param speed 飞行速度
	*@param len 飞行距离
	*/
	__proto.showHurtText=function(value,x,y,radian,speed,len){
		var target=CycleFactory.createObject('EText');
		target.pos(x,y);
		target.value=value;
		this._targets.push(target);
		PathUtil.setParabolaMove(target,radian,speed,len,0.005,Handler.create(this,this.removeTarget,[target]));
	}

	/**
	*设置显示文字，根据移动位置、缩放比例、缩放时间和缓动函数，缩放并移动函数
	*@param value 显示内容
	*@param type 设置-1内容可重叠显示，非-1不可重叠显示
	*@param x 初始位置x
	*@param y 初始位置y
	*@param dx 目标位置x
	*@param dy 目标位置y
	*@param color 文字颜色
	*@param size 文字大小
	*@param scaleTimer 缩放时间
	*@param timer 从初始点到目标点时间
	*@param scaleX 缩放参数x
	*@param scaleY 缩放参数y
	*@param alpha 透明度
	*@param ease 缓动函数
	*/
	__proto.showHurtText2=function(value,type,x,y,width,height,dx,dy,color,size,scaleTimer,timer,scaleX,scaleY,alpha,delay,ease){
		(scaleTimer===void 0)&& (scaleTimer=150);
		(timer===void 0)&& (timer=500);
		(scaleX===void 0)&& (scaleX=1.6);
		(scaleY===void 0)&& (scaleY=1.6);
		(alpha===void 0)&& (alpha=0);
		(delay===void 0)&& (delay=0);
		var target;
		if (type==-1){
			target=CycleFactory.createObject('EText');
			this._targets.push(target);
			}else{
			var key=type+','+Math.floor(x)+','+Math.floor(y);
			target=this._objects[key];
			if(!target){
				target=CycleFactory.createObject('EText');
				target.key=key;
				this._objects[key]=target;
				this._targets.push(target);
			}
		}
		target.color=color;
		target.fontSize=size;
		target.width=width;
		target.height=height;
		target.pos(x,y);
		target.value=value;
		target.alpha=1;
		var h=Handler.create(this,this.removeTarget,[target]);
		PathUtil.setTweenParam(target,x,y,dx,dy,h,scaleX,scaleY,scaleTimer,alpha,timer,delay,ease);
	}

	/**
	*设置显示图片，并根据指定的坐标，根据贝塞尔曲线飞行
	*@param texture 需要显示的纹理
	*@param width 需要显示的纹理宽
	*@param height 需要显示的纹理高
	*@param pList 控制点[x0,y0,x1,y1...]
	*@param inSertCount 每次曲线的插值数量
	*/
	__proto.showHurtImage=function(texture,type,width,height,pList,inSertCount){
		var target=this._targets[type];
		if(!target){
			target=CycleFactory.createObject('BezierImage');
			target.texture=texture;
			this._targets[type]=target;
		}
		target.pos(this.x,this.y);
		target.size(width,height);
		target.setParam(pList,inSertCount);
	}

	__proto.showItem=function(itemID,type,x,y,width,height){
		var texture=Laya.loader.getRes('Item/equip.png');
		var shadow=Laya.loader.getRes('shadow/uishadow.png');
		var name="道具";
		var target=this._targets[type];
		if (!target){
			target=CycleFactory.createObject('DropImage');
			target.texture=texture;
			target.shadow=shadow;
			target.name=name;
			target.init();
			this._targets[type]=target;
		}
		target.pos(x,y);
		target.size(width,height);
	}

	__proto.showParabolaMove=function(value,skin,sheet,x,y,radian,speed,len,g){
		(g===void 0)&& (g=0.005);
		var target=CycleFactory.createObject('EFontClip');
		target.pos(x,y);
		target.skin=skin;
		target.sheet=sheet;
		target.value=value;
		this._targets.push(target);
		PathUtil.setParabolaMove(target,radian,speed,len,g,Handler.create(this,this.removeTarget,[target]));
	}

	__proto.showFontClip=function(value,skin,sheet,x,y,dx,dy,scaleTimer,timer,scaleX,scaleY,alpha,delay,ease){
		(scaleTimer===void 0)&& (scaleTimer=150);
		(timer===void 0)&& (timer=500);
		(scaleX===void 0)&& (scaleX=1.6);
		(scaleY===void 0)&& (scaleY=1.6);
		(alpha===void 0)&& (alpha=0);
		(delay===void 0)&& (delay=0);
		var target=CycleFactory.createObject('EFontClip');
		target.skin=skin;
		target.sheet=sheet;
		target.value=value;
		target.spaceX=-10;
		this._targets.push(target);
		target.pos(x,y);
		PathUtil.setTweenParam(target,x,y,dx,dy,Handler.create(this,this.removeTarget,[target]),scaleX,scaleY,scaleTimer,alpha,timer,delay,ease);
	}

	/**
	*遍历渲染所有显示对象
	*@param context
	*@param x
	*@param y
	*/
	__proto.customRender=function(context,x,y){
		var isFinish=false;
		if (this._targets.length){
			var target;
			var len=this._targets.length;
			for (var i=0;i <len;i++){
				target=this._targets[i];
				if (!target)
					continue ;
				isFinish=target.onPaint(context);
			}
		}
	}

	return CustomPaintSprite;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/src/view/page/CD.as=======96.999710/96.999710
/**
*...
*@author guo
*/
//class CD extends laya.display.Sprite
var CD=(function(_super){
	function CD(cdPath,cdBg,time){
		this.texturePath="";
		this.cdTexture=null;
		this.sp=null;
		this.rr=0;
		this.cmd=null;
		this.verts=null;
		this.uvs=null;
		this.indices=null;
		this.segNum=5;
		//分成几段
		this.spX=0;
		this.spY=0;
		this._text=null;
		this.CDTime=0;
		//s為單位
		this.unit=30/10;
		//1s=10 60帧算 6帧/1个单位
		this._index=0;
		this._unitAngle=0;
		this._imgBg=null;
		this._cdBg=null;
		CD.__super.call(this);
		this.CDTime=Math.floor((time/1000)*10)/10;
		this._unitAngle=360/(this.CDTime*30);
		this.texturePath=cdPath;
		this._cdBg=cdBg;
	}

	__class(CD,'CD',_super);
	var __proto=CD.prototype;
	__proto.initCircle=function(){
		this.verts=new Float32Array((this.segNum+1)*2+2);
		this.uvs=new Float32Array((this.segNum+1)*2+2);
		this.indices=new Uint16Array(this.segNum *3);
		var idx=0;
		for (var i=0;i < this.segNum;i++){
			this.indices[idx++]=0;
			this.indices[idx++]=i+1;
			this.indices[idx++]=i+2;
		}
	}

	__proto.drawPlay=function(){
		this.cdTexture=Laya.loader.getRes(this.texturePath);
		this.init();
		Laya.timer.frameLoop(1,this,this.animate);
	}

	/**
	*@param tex
	*@param cx 圆心位置。
	*@param cy
	*@param radius
	*@param segNum 分段数，越大越平滑。
	*/
	__proto.genCircle=function(tex,cx,cy,radius,segNum,startAng,endAng,verts,uvs){
		var dang=(endAng-startAng)*Math.PI/180 / segNum;
		var cang=startAng*Math.PI/180;
		verts[0]=cx;
		verts[1]=cy;
		uvs[0]=cx / tex.width;
		uvs[1]=cy / tex.height;
		var idx=2;
		for (var i=0;i <=segNum;i++){
			var px=radius *Math.cos(cang)+cx;
			var py=radius *Math.sin(cang)+cy;
			verts[idx]=px;
			verts[idx+1]=py;
			uvs[idx]=px / tex.width;
			uvs[idx+1]=py / tex.height;
			cang+=dang;
			idx+=2;
		}
	}

	__proto.init=function(){
		this.sp=new Sprite();
		this.sp.pivotX=50;
		this.sp.pivotY=50;
		this.sp.rotation=-90;
		this._imgBg=new Image();
		this._imgBg.skin=this._cdBg;
		this._imgBg.size(80,80);
		this._imgBg.pos(this.sp.x-50,this.sp.y-40);
		this.addChild(this._imgBg);
		this.addChild(this.sp);
		this._text=new Text();
		if(this.CDTime%1==0)this._text.text=this.CDTime+".0";
		else this._text.text=this.CDTime+"";
		this._text.color="#FFFFFF";
		this._text.fontSize=40;
		this._text.bold=true;
		this._text.pos(this.sp.x-45,this.sp.y-20);
		this.addChild(this._text);
		this.initCircle();
		this.genCircle(this.cdTexture,50,50,70,this.segNum,0,360,this.verts,this.uvs);
		this.cmd=this.sp.graphics.drawTriangles(this.cdTexture,0,0,this.verts,this.uvs,this.indices,new Matrix(),0.8);
		this.sp.scrollRect=new Rectangle(2,10,460,100);
	}

	__proto.animate=function(){
		this._index++;
		if(this._index%this.unit==0){
			this.CDTime-=0.1;
			var time=parseInt(this.CDTime*10+"")/10;
			if(time==1)this._text.text=parseInt(this.CDTime*10+"")/10+".0";
			else this._text.text=time+"";
			if(this.CDTime<=0){
				Laya.timer.clear(this,this.animate);
				this.sp.graphics.clear();
				this.sp.removeChildren();
				this.sp.removeSelf();
				this.removeChildren();
				this.removeSelf();
			}
		}
		this.rr+=this._unitAngle;
		if (this.rr >=360)this.rr=0;
		this.genCircle(this.cdTexture,50,50,70,this.segNum,360,this.rr,this.verts,this.uvs);
	}

	return CD;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/Skeleton.as=======96.999675/96.999675
/**
*骨骼动画由<code>Templet</code>，<code>AnimationPlayer</code>，<code>Skeleton</code>三部分组成。
*/
//class laya.ani.bone.Skeleton extends laya.display.Sprite
var Skeleton=(function(_super){
	function Skeleton(templet,aniMode){
		this._templet=null;
		/**@private */
		this._player=null;
		/**@private */
		this._curOriginalData=null;
		//当前骨骼的偏移数据
		this._boneMatrixArray=[];
		//当前骨骼动画的最终结果数据
		this._lastTime=0;
		//上次的帧时间
		this._currAniName=null;
		this._currAniIndex=-1;
		this._pause=true;
		/**@private */
		this._aniClipIndex=-1;
		/**@private */
		this._clipIndex=-1;
		this._skinIndex=0;
		this._skinName="default";
		this._aniMode=0;
		//当前动画自己的缓冲区
		this._graphicsCache=null;
		this._boneSlotDic=null;
		this._bindBoneBoneSlotDic=null;
		this._boneSlotArray=null;
		this._index=-1;
		this._total=-1;
		this._indexControl=false;
		//加载路径
		this._aniPath=null;
		this._texturePath=null;
		this._complete=null;
		this._loadAniMode=0;
		this._yReverseMatrix=null;
		this._ikArr=null;
		this._tfArr=null;
		this._pathDic=null;
		this._rootBone=null;
		/**@private */
		this._boneList=null;
		/**@private */
		this._aniSectionDic=null;
		this._eventIndex=0;
		this._drawOrderIndex=0;
		this._drawOrder=null;
		this._lastAniClipIndex=-1;
		this._lastUpdateAniClipIndex=-1;
		Skeleton.__super.call(this);
		(aniMode===void 0)&& (aniMode=0);
		if (templet)this.init(templet,aniMode);
	}

	__class(Skeleton,'laya.ani.bone.Skeleton',_super);
	var __proto=Skeleton.prototype;
	/**
	*初始化动画
	*@param templet 模板
	*@param aniMode 动画模式
	*<table border=1>
	*<tr><th>模式</th><th>描述</th></tr>
	*<tr>
	*<td>0</td> <td>使用模板缓冲的数据，模板缓冲的数据，不允许修改（内存开销小，计算开销小，不支持换装）</td>
	*</tr>
	*<tr>
	*<td>1</td> <td>使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装）</td>
	*</tr>
	*<tr>
	*<td>2</td> <td>使用动态方式，去实时去画（内存开销小，计算开销大，支持换装,不建议使用）</td>
	*</tr>
	*</table>
	*/
	__proto.init=function(templet,aniMode){
		(aniMode===void 0)&& (aniMode=0);
		var i=0,n=0;
		if (aniMode==1){
			this._graphicsCache=[];
			for (i=0,n=templet.getAnimationCount();i < n;i++){
				this._graphicsCache.push([]);
			}
		}
		this._yReverseMatrix=templet.yReverseMatrix;
		this._aniMode=aniMode;
		this._templet=templet;
		this._player=new AnimationPlayer();
		this._player.cacheFrameRate=templet.rate;
		this._player.templet=templet;
		this._player.play();
		this._parseSrcBoneMatrix();
		this._boneList=templet.mBoneArr;
		this._rootBone=templet.mRootBone;
		this._aniSectionDic=templet.aniSectionDic;
		if (templet.ikArr.length > 0){
			this._ikArr=[];
			for (i=0,n=templet.ikArr.length;i < n;i++){
				this._ikArr.push(new IkConstraint(templet.ikArr[i],this._boneList));
			}
		}
		if (templet.pathArr.length > 0){
			var tPathData;
			var tPathConstraint;
			if (this._pathDic==null)this._pathDic={};
			var tBoneSlot;
			for (i=0,n=templet.pathArr.length;i < n;i++){
				tPathData=templet.pathArr[i];
				tPathConstraint=new PathConstraint(tPathData,this._boneList);
				tBoneSlot=this._boneSlotDic[tPathData.name];
				if (tBoneSlot){
					tPathConstraint=new PathConstraint(tPathData,this._boneList);
					tPathConstraint.target=tBoneSlot;
				}
				this._pathDic[tPathData.name]=tPathConstraint;
			}
		}
		if (templet.tfArr.length > 0){
			this._tfArr=[];
			for (i=0,n=templet.tfArr.length;i < n;i++){
				this._tfArr.push(new TfConstraint(templet.tfArr[i],this._boneList));
			}
		}
		if (templet.skinDataArray.length > 0){
			var tSkinData=this._templet.skinDataArray[this._skinIndex];
			this._skinName=tSkinData.name;
		}
		this._player.on("played",this,this._onPlay);
		this._player.on("stopped",this,this._onStop);
		this._player.on("paused",this,this._onPause);
	}

	/**
	*通过加载直接创建动画
	*@param path 要加载的动画文件路径
	*@param complete 加载完成的回调函数
	*@param aniMode 与<code>Skeleton.init</code>的<code>aniMode</code>作用一致
	*/
	__proto.load=function(path,complete,aniMode){
		(aniMode===void 0)&& (aniMode=0);
		this._aniPath=path;
		this._complete=complete;
		this._loadAniMode=aniMode;
		Laya.loader.load([{url:path,type:"arraybuffer"}],Handler.create(this,this._onLoaded));
	}

	/**
	*加载完成
	*/
	__proto._onLoaded=function(){
		var arraybuffer=Loader.getRes(this._aniPath);
		if (arraybuffer==null)return;
		if (Templet.TEMPLET_DICTIONARY==null){
			Templet.TEMPLET_DICTIONARY={};
		};
		var tFactory;
		tFactory=Templet.TEMPLET_DICTIONARY[this._aniPath];
		if (tFactory){
			if (tFactory.isParseFail){
				this._parseFail();
				}else{
				if (tFactory.isParserComplete){
					this._parseComplete();
					}else{
					tFactory.on("complete",this,this._parseComplete);
					tFactory.on("error",this,this._parseFail);
				}
			}
			}else {
			tFactory=new Templet();
			tFactory.url=this._aniPath;
			Templet.TEMPLET_DICTIONARY[this._aniPath]=tFactory;
			tFactory.on("complete",this,this._parseComplete);
			tFactory.on("error",this,this._parseFail);
			tFactory.isParserComplete=false;
			tFactory.parseData(null,arraybuffer);
		}
	}

	/**
	*解析完成
	*/
	__proto._parseComplete=function(){
		var tTemple=Templet.TEMPLET_DICTIONARY[this._aniPath];
		if (tTemple){
			this.init(tTemple,this._loadAniMode);
			this.play(0,true);
		}
		this._complete && this._complete.runWith(this);
	}

	/**
	*解析失败
	*/
	__proto._parseFail=function(){
		console.log("[Error]:"+this._aniPath+"解析失败");
	}

	/**
	*传递PLAY事件
	*/
	__proto._onPlay=function(){
		this.event("played");
	}

	/**
	*传递STOP事件
	*/
	__proto._onStop=function(){
		var tEventData;
		var tEventAniArr=this._templet.eventAniArr;
		var tEventArr=tEventAniArr[this._aniClipIndex];
		if (tEventArr && this._eventIndex < tEventArr.length){
			for (;this._eventIndex < tEventArr.length;this._eventIndex++){
				tEventData=tEventArr[this._eventIndex];
				if (tEventData.time >=this._player.playStart && tEventData.time <=this._player.playEnd){
					this.event("label",tEventData);
				}
			}
		}
		this._eventIndex=0;
		this._drawOrder=null;
		this.event("stopped");
	}

	/**
	*传递PAUSE事件
	*/
	__proto._onPause=function(){
		this.event("paused");
	}

	/**
	*创建骨骼的矩阵，保存每次计算的最终结果
	*/
	__proto._parseSrcBoneMatrix=function(){
		var i=0,n=0;
		n=this._templet.srcBoneMatrixArr.length;
		for (i=0;i < n;i++){
			this._boneMatrixArray.push(new Matrix());
		}
		if (this._aniMode==0){
			this._boneSlotDic=this._templet.boneSlotDic;
			this._bindBoneBoneSlotDic=this._templet.bindBoneBoneSlotDic;
			this._boneSlotArray=this._templet.boneSlotArray;
			}else {
			if (this._boneSlotDic==null)this._boneSlotDic={};
			if (this._bindBoneBoneSlotDic==null)this._bindBoneBoneSlotDic={};
			if (this._boneSlotArray==null)this._boneSlotArray=[];
			var tArr=this._templet.boneSlotArray;
			var tBS;
			var tBSArr;
			for (i=0,n=tArr.length;i < n;i++){
				tBS=tArr[i];
				tBSArr=this._bindBoneBoneSlotDic[tBS.parent];
				if (tBSArr==null){
					this._bindBoneBoneSlotDic[tBS.parent]=tBSArr=[];
				}
				this._boneSlotDic[tBS.name]=tBS=tBS.copy();
				tBSArr.push(tBS);
				this._boneSlotArray.push(tBS);
			}
		}
	}

	__proto._emitMissedEvents=function(startTime,endTime,startIndex){
		(startIndex===void 0)&& (startIndex=0);
		var tEventAniArr=this._templet.eventAniArr;
		var tEventArr=tEventAniArr[this._player.currentAnimationClipIndex];
		if (tEventArr){
			var i=0,len=0;
			var tEventData;
			len=tEventArr.length;
			for (i=startIndex;i < len;i++){
				tEventData=tEventArr[i];
				if (tEventData.time >=this._player.playStart && tEventData.time <=this._player.playEnd){
					this.event("label",tEventData);
				}
			}
		}
	}

	/**
	*更新动画
	*@param autoKey true为正常更新，false为index手动更新
	*/
	__proto._update=function(autoKey){
		(autoKey===void 0)&& (autoKey=true);
		if (this._pause)return;
		if (autoKey && this._indexControl){
			return;
		};
		var tCurrTime=Laya.timer.currTimer;
		var preIndex=this._player.currentKeyframeIndex;
		var dTime=tCurrTime-this._lastTime;
		if (autoKey){
			this._player._update(dTime);
			}else{
			preIndex=-1;
		}
		this._lastTime=tCurrTime;
		if (!this._player)return;
		this._index=this._clipIndex=this._player.currentKeyframeIndex;
		if (this._index < 0)return;
		if (dTime>0&&this._clipIndex==preIndex&&this._lastUpdateAniClipIndex==this._aniClipIndex){
			return;
		}
		this._lastUpdateAniClipIndex=this._aniClipIndex;
		if (preIndex > this._clipIndex&&this._eventIndex!=0){
			this._emitMissedEvents(this._player.playStart,this._player.playEnd,this._eventIndex);
			this._eventIndex=0;
		};
		var tEventData;
		var tEventAniArr=this._templet.eventAniArr;
		var tEventArr=tEventAniArr[this._aniClipIndex];
		if (tEventArr && this._eventIndex < tEventArr.length){
			tEventData=tEventArr[this._eventIndex];
			if (tEventData.time >=this._player.playStart && tEventData.time <=this._player.playEnd){
				if (this._player.currentPlayTime >=tEventData.time){
					this.event("label",tEventData);
					this._eventIndex++;
				}
				}else {
				this._eventIndex++;
			}
		};
		var tGraphics;
		if (this._aniMode==0){
			tGraphics=this._templet.getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex);
			if (tGraphics){
				if (this.graphics !=tGraphics){
					this.graphics=tGraphics;
				}
				return;
				}else{
			}
			}else if (this._aniMode==1){
			tGraphics=this._getGrahicsDataWithCache(this._aniClipIndex,this._clipIndex);
			if (tGraphics){
				if (this.graphics !=tGraphics){
					this.graphics=tGraphics;
				}
				return;
				}else{
			}
		}
		this._createGraphics();
	}

	/**
	*@private
	*创建grahics图像
	*/
	__proto._createGraphics=function(_clipIndex){
		(_clipIndex===void 0)&& (_clipIndex=-1);
		if (_clipIndex==-1)_clipIndex=this._clipIndex;
		var curTime=_clipIndex *this._player.cacheFrameRateInterval;
		var tDrawOrderData;
		var tDrawOrderAniArr=this._templet.drawOrderAniArr;
		var tDrawOrderArr=tDrawOrderAniArr[this._aniClipIndex];
		if (tDrawOrderArr && tDrawOrderArr.length > 0){
			this._drawOrderIndex=0;
			tDrawOrderData=tDrawOrderArr[this._drawOrderIndex];
			while (curTime >=tDrawOrderData.time){
				this._drawOrder=tDrawOrderData.drawOrder;
				this._drawOrderIndex++;
				if (this._drawOrderIndex >=tDrawOrderArr.length){
					break ;
				}
				tDrawOrderData=tDrawOrderArr[this._drawOrderIndex];
			}
		};
		var tGraphics;
		if (this._aniMode==0 || this._aniMode==1){
			this.graphics=new GraphicsAni();
			}else {
			if ((this.graphics instanceof laya.ani.GraphicsAni )){
				this.graphics.clear(true);
				}else {
				this.graphics=new GraphicsAni();
			}
		}
		tGraphics=this.graphics;
		var bones=this._templet.getNodes(this._aniClipIndex);
		this._templet.getOriginalData(this._aniClipIndex,this._curOriginalData,this._player._fullFrames[this._aniClipIndex],_clipIndex,curTime);
		var tSectionArr=this._aniSectionDic[this._aniClipIndex];
		var tParentMatrix;
		var tStartIndex=0;
		var i=0,j=0,k=0,n=0;
		var tDBBoneSlot;
		var tDBBoneSlotArr;
		var tParentTransform;
		var tSrcBone;
		var tResultTransform;
		var boneCount=this._templet.srcBoneMatrixArr.length;
		for (i=0,n=tSectionArr[0];i < boneCount;i++){
			tSrcBone=this._boneList[i];
			tParentTransform=this._templet.srcBoneMatrixArr[i];
			tResultTransform=tSrcBone.resultTransform;
			tResultTransform.scX=tParentTransform.scX *this._curOriginalData[tStartIndex++];
			tResultTransform.skX=tParentTransform.skX+this._curOriginalData[tStartIndex++];
			tResultTransform.skY=tParentTransform.skY+this._curOriginalData[tStartIndex++];
			tResultTransform.scY=tParentTransform.scY *this._curOriginalData[tStartIndex++];
			tResultTransform.x=tParentTransform.x+this._curOriginalData[tStartIndex++];
			tResultTransform.y=tParentTransform.y+this._curOriginalData[tStartIndex++];
			if (this._templet.tMatrixDataLen===8){
				tResultTransform.skewX=tParentTransform.skewX+this._curOriginalData[tStartIndex++];
				tResultTransform.skewY=tParentTransform.skewY+this._curOriginalData[tStartIndex++];
			}
		};
		var tSlotDic={};
		var tSlotAlphaDic={};
		var tBoneData;
		for (n+=tSectionArr[1];i < n;i++){
			tBoneData=bones[i];
			tSlotDic[tBoneData.name]=this._curOriginalData[tStartIndex++];
			tSlotAlphaDic[tBoneData.name]=this._curOriginalData[tStartIndex++];
			tStartIndex+=4;
		};
		var tBendDirectionDic={};
		var tMixDic={};
		for (n+=tSectionArr[2];i < n;i++){
			tBoneData=bones[i];
			tBendDirectionDic[tBoneData.name]=this._curOriginalData[tStartIndex++];
			tMixDic[tBoneData.name]=this._curOriginalData[tStartIndex++];
			tStartIndex+=4;
		}
		if (this._pathDic){
			var tPathConstraint;
			for (n+=tSectionArr[3];i < n;i++){
				tBoneData=bones[i];
				tPathConstraint=this._pathDic[tBoneData.name];
				if (tPathConstraint){
					var tByte=new Byte(tBoneData.extenData);
					switch(tByte.getByte()){
						case 1:
							tPathConstraint.position=this._curOriginalData[tStartIndex++];
							break ;
						case 2:
							tPathConstraint.spacing=this._curOriginalData[tStartIndex++];
							break ;
						case 3:
							tPathConstraint.rotateMix=this._curOriginalData[tStartIndex++];
							tPathConstraint.translateMix=this._curOriginalData[tStartIndex++];
							break ;
						}
				}
			}
		}
		if (this._yReverseMatrix){
			this._rootBone.update(this._yReverseMatrix);
			}else {
			this._rootBone.update(Matrix.TEMP.identity());
		}
		if (this._ikArr){
			var tIkConstraint;
			for (i=0,n=this._ikArr.length;i < n;i++){
				tIkConstraint=this._ikArr[i];
				if (tBendDirectionDic.hasOwnProperty(tIkConstraint.name)){
					tIkConstraint.bendDirection=tBendDirectionDic[tIkConstraint.name];
				}
				if (tMixDic.hasOwnProperty(tIkConstraint.name)){
					tIkConstraint.mix=tMixDic[tIkConstraint.name]
				}
				tIkConstraint.apply();
			}
		}
		if (this._pathDic){
			for (var tPathStr in this._pathDic){
				tPathConstraint=this._pathDic[tPathStr];
				tPathConstraint.apply(this._boneList,tGraphics);
			}
		}
		if (this._tfArr){
			var tTfConstraint;
			for (i=0,k=this._tfArr.length;i < k;i++){
				tTfConstraint=this._tfArr[i];
				tTfConstraint.apply();
			}
		}
		for (i=0,k=this._boneList.length;i < k;i++){
			tSrcBone=this._boneList[i];
			tDBBoneSlotArr=this._bindBoneBoneSlotDic[tSrcBone.name];
			tSrcBone.resultMatrix.copyTo(this._boneMatrixArray[i]);
			if (tDBBoneSlotArr){
				for (j=0,n=tDBBoneSlotArr.length;j < n;j++){
					tDBBoneSlot=tDBBoneSlotArr[j];
					if (tDBBoneSlot){
						tDBBoneSlot.setParentMatrix(tSrcBone.resultMatrix);
					}
				}
			}
		};
		var tDeformDic={};
		var tDeformAniArr=this._templet.deformAniArr;
		var tDeformAniData;
		var tDeformSlotData;
		var tDeformSlotDisplayData;
		if (tDeformAniArr && tDeformAniArr.length > 0){
			if (this._lastAniClipIndex !=this._aniClipIndex){
				this._lastAniClipIndex=this._aniClipIndex;
				for (i=0,n=this._boneSlotArray.length;i < n;i++){
					tDBBoneSlot=this._boneSlotArray[i];
					tDBBoneSlot.deformData=null;
				}
			};
			var tSkinDeformAni=tDeformAniArr[this._aniClipIndex];
			tDeformAniData=(tSkinDeformAni["default"]);
			this._setDeform(tDeformAniData,tDeformDic,this._boneSlotArray,curTime);
			var tSkin;
			for (tSkin in tSkinDeformAni){
				if (tSkin!="default"&&tSkin!=this._skinName){
					tDeformAniData=tSkinDeformAni [tSkin];
					this._setDeform(tDeformAniData,tDeformDic,this._boneSlotArray,curTime);
				}
			}
			if (this._skinName !="default"){
				tDeformAniData=(tSkinDeformAni[this._skinName]);
				this._setDeform(tDeformAniData,tDeformDic,this._boneSlotArray,curTime);
			}
		};
		var tSlotData2;
		var tSlotData3;
		var tObject;
		if (this._drawOrder){
			for (i=0,n=this._drawOrder.length;i < n;i++){
				tDBBoneSlot=this._boneSlotArray[this._drawOrder[i]];
				tSlotData2=tSlotDic[tDBBoneSlot.name];
				tSlotData3=tSlotAlphaDic[tDBBoneSlot.name];
				if (isNaN(tSlotData3))tSlotData3=1;
				if (tSlotData3 < 0.01)continue ;
				if (tSlotData3!=1){
					tGraphics.save();
					tGraphics.alpha(tSlotData3);
				}
				if (!isNaN(tSlotData2)&&tSlotData2!=-2){
					if (this._templet.attachmentNames){
						tDBBoneSlot.showDisplayByName(this._templet.attachmentNames[tSlotData2]);
						}else {
						tDBBoneSlot.showDisplayByIndex(tSlotData2);
					}
				}
				if (tDeformDic[this._drawOrder[i]]){
					tObject=tDeformDic[this._drawOrder[i]];
					if (tDBBoneSlot.currDisplayData && tObject[tDBBoneSlot.currDisplayData.attachmentName]){
						tDBBoneSlot.deformData=tObject[tDBBoneSlot.currDisplayData.attachmentName];
						}else {
						tDBBoneSlot.deformData=null;
					}
					}else {
					tDBBoneSlot.deformData=null;
				}
				tDBBoneSlot.draw(tGraphics,this._boneMatrixArray,this._aniMode==2,tSlotData3);
				if (tSlotData3!=1){
					tGraphics.restore();
				}
			}
			}else {
			for (i=0,n=this._boneSlotArray.length;i < n;i++){
				tDBBoneSlot=this._boneSlotArray[i];
				tSlotData2=tSlotDic[tDBBoneSlot.name];
				tSlotData3=tSlotAlphaDic[tDBBoneSlot.name];
				if (isNaN(tSlotData3))tSlotData3=1;
				if (tSlotData3 < 0.01)continue ;
				if (tSlotData3!=1){
					tGraphics.save();
					tGraphics.alpha(tSlotData3);
				}
				if (!isNaN(tSlotData2)&&tSlotData2!=-2){
					if (this._templet.attachmentNames){
						tDBBoneSlot.showDisplayByName(this._templet.attachmentNames[tSlotData2]);
						}else {
						tDBBoneSlot.showDisplayByIndex(tSlotData2);
					}
				}
				if (tDeformDic[i]){
					tObject=tDeformDic[i];
					if (tDBBoneSlot.currDisplayData && tObject[tDBBoneSlot.currDisplayData.attachmentName]){
						tDBBoneSlot.deformData=tObject[tDBBoneSlot.currDisplayData.attachmentName];
						}else {
						tDBBoneSlot.deformData=null;
					}
					}else {
					tDBBoneSlot.deformData=null;
				}
				tDBBoneSlot.draw(tGraphics,this._boneMatrixArray,this._aniMode==2,tSlotData3);
				if (tSlotData3!=1){
					tGraphics.restore();
				}
			}
		}
		if (this._aniMode==0){
			this._templet.setGrahicsDataWithCache(this._aniClipIndex,_clipIndex,tGraphics);
			this._checkIsAllParsed(this._aniClipIndex);
			}else if (this._aniMode==1){
			this._setGrahicsDataWithCache(this._aniClipIndex,_clipIndex,tGraphics);
		}
	}

	__proto._checkIsAllParsed=function(_aniClipIndex){
		var i=0,len=0;
		len=Math.floor(0.01+this._templet.getAniDuration(this._player.currentAnimationClipIndex)/ 1000 *this._player.cacheFrameRate);
		for (i=0;i < len;i++){
			if (!this._templet.getGrahicsDataWithCache(_aniClipIndex,i))return;
		}
		if (!this._templet.getGrahicsDataWithCache(_aniClipIndex,len)){
			this._createGraphics(len);
			return;
		}
		this._templet.deleteAniData(_aniClipIndex);
	}

	/**
	*设置deform数据
	*@param tDeformAniData
	*@param tDeformDic
	*@param _boneSlotArray
	*@param curTime
	*/
	__proto._setDeform=function(tDeformAniData,tDeformDic,_boneSlotArray,curTime){
		if (!tDeformAniData)return;
		var tDeformSlotData;
		var tDeformSlotDisplayData;
		var tDBBoneSlot;
		var i=0,n=0,j=0;
		if (tDeformAniData){
			for (i=0,n=tDeformAniData.deformSlotDataList.length;i < n;i++){
				tDeformSlotData=tDeformAniData.deformSlotDataList[i];
				for (j=0;j < tDeformSlotData.deformSlotDisplayList.length;j++){
					tDeformSlotDisplayData=tDeformSlotData.deformSlotDisplayList[j];
					tDBBoneSlot=_boneSlotArray[tDeformSlotDisplayData.slotIndex];
					tDeformSlotDisplayData.apply(curTime,tDBBoneSlot);
					if (!tDeformDic[tDeformSlotDisplayData.slotIndex]){
						tDeformDic[tDeformSlotDisplayData.slotIndex]={};
					}
					tDeformDic[tDeformSlotDisplayData.slotIndex][tDeformSlotDisplayData.attachment]=tDeformSlotDisplayData.deformData;
				}
			}
		}
	}

	/**
	*得到当前动画的数量
	*@return 当前动画的数量
	*/
	__proto.getAnimNum=function(){
		return this._templet.getAnimationCount();
	}

	/**
	*得到指定动画的名字
	*@param index 动画的索引
	*/
	__proto.getAniNameByIndex=function(index){
		return this._templet.getAniNameByIndex(index);
	}

	/**
	*通过名字得到插槽的引用
	*@param name 动画的名字
	*@return 插槽的引用
	*/
	__proto.getSlotByName=function(name){
		return this._boneSlotDic[name];
	}

	/**
	*通过名字显示一套皮肤
	*@param name 皮肤的名字
	*@param freshSlotIndex 是否将插槽纹理重置到初始化状态
	*/
	__proto.showSkinByName=function(name,freshSlotIndex){
		(freshSlotIndex===void 0)&& (freshSlotIndex=true);
		this.showSkinByIndex(this._templet.getSkinIndexByName(name),freshSlotIndex);
	}

	/**
	*通过索引显示一套皮肤
	*@param skinIndex 皮肤索引
	*@param freshSlotIndex 是否将插槽纹理重置到初始化状态
	*/
	__proto.showSkinByIndex=function(skinIndex,freshSlotIndex){
		(freshSlotIndex===void 0)&& (freshSlotIndex=true);
		for (var i=0;i < this._boneSlotArray.length;i++){
			(this._boneSlotArray [i]).showSlotData(null,freshSlotIndex);
		}
		if (this._templet.showSkinByIndex(this._boneSlotDic,skinIndex,freshSlotIndex)){
			var tSkinData=this._templet.skinDataArray[skinIndex];
			this._skinIndex=skinIndex;
			this._skinName=tSkinData.name;
		}
		this._clearCache();
	}

	/**
	*设置某插槽的皮肤
	*@param slotName 插槽名称
	*@param index 插糟皮肤的索引
	*/
	__proto.showSlotSkinByIndex=function(slotName,index){
		if (this._aniMode==0)return;
		var tBoneSlot=this.getSlotByName(slotName);
		if (tBoneSlot){
			tBoneSlot.showDisplayByIndex(index);
		}
		this._clearCache();
	}

	/**
	*设置某插槽的皮肤
	*@param slotName 插槽名称
	*@param name 皮肤名称
	*/
	__proto.showSlotSkinByName=function(slotName,name){
		if (this._aniMode==0)return;
		var tBoneSlot=this.getSlotByName(slotName);
		if (tBoneSlot){
			tBoneSlot.showDisplayByName(name);
		}
		this._clearCache();
	}

	/**
	*替换插槽贴图名
	*@param slotName 插槽名称
	*@param oldName 要替换的贴图名
	*@param newName 替换后的贴图名
	*/
	__proto.replaceSlotSkinName=function(slotName,oldName,newName){
		if (this._aniMode==0)return;
		var tBoneSlot=this.getSlotByName(slotName);
		if (tBoneSlot){
			tBoneSlot.replaceDisplayByName(oldName,newName);
		}
		this._clearCache();
	}

	/**
	*替换插槽的贴图索引
	*@param slotName 插槽名称
	*@param oldIndex 要替换的索引
	*@param newIndex 替换后的索引
	*/
	__proto.replaceSlotSkinByIndex=function(slotName,oldIndex,newIndex){
		if (this._aniMode==0)return;
		var tBoneSlot=this.getSlotByName(slotName);
		if (tBoneSlot){
			tBoneSlot.replaceDisplayByIndex(oldIndex,newIndex);
		}
		this._clearCache();
	}

	/**
	*设置自定义皮肤
	*@param name 插糟的名字
	*@param texture 自定义的纹理
	*/
	__proto.setSlotSkin=function(slotName,texture){
		if (this._aniMode==0)return;
		var tBoneSlot=this.getSlotByName(slotName);
		if (tBoneSlot){
			tBoneSlot.replaceSkin(texture);
		}
		this._clearCache();
	}

	/**
	*换装的时候，需要清一下缓冲区
	*/
	__proto._clearCache=function(){
		if (this._aniMode==1){
			for (var i=0,n=this._graphicsCache.length;i < n;i++){
				this._graphicsCache[i].length=0;
			}
		}
	}

	/**
	*播放动画
	*
	*@param nameOrIndex 动画名字或者索引
	*@param loop 是否循环播放
	*@param force false,如果要播的动画跟上一个相同就不生效,true,强制生效
	*@param start 起始时间
	*@param end 结束时间
	*@param freshSkin 是否刷新皮肤数据
	*/
	__proto.play=function(nameOrIndex,loop,force,start,end,freshSkin){
		(force===void 0)&& (force=true);
		(start===void 0)&& (start=0);
		(end===void 0)&& (end=0);
		(freshSkin===void 0)&& (freshSkin=true);
		this._indexControl=false;
		var index=-1;
		var duration=NaN;
		if (loop){
			duration=2147483647;
			}else {
			duration=0;
		}
		if ((typeof nameOrIndex=='string')){
			for (var i=0,n=this._templet.getAnimationCount();i < n;i++){
				var animation=this._templet.getAnimation(i);
				if (animation && nameOrIndex==animation.name){
					index=i;
					break ;
				}
			}
			}else {
			index=nameOrIndex;
		}
		if (index >-1 && index < this.getAnimNum()){
			this._aniClipIndex=index;
			if (force || this._pause || this._currAniIndex !=index){
				this._currAniIndex=index;
				this._curOriginalData=new Float32Array(this._templet.getTotalkeyframesLength(index));
				this._drawOrder=null;
				this._eventIndex=0;
				this._player.play(index,this._player.playbackRate,duration,start,end);
				if(freshSkin)
					this._templet.showSkinByIndex(this._boneSlotDic,this._skinIndex);
				if (this._pause){
					this._pause=false;
					this._lastTime=Browser.now();
					Laya.stage.frameLoop(1,this,this._update,null,true);
				}
				this._update();
			}
		}
	}

	/**
	*停止动画
	*/
	__proto.stop=function(){
		if (!this._pause){
			this._pause=true;
			if (this._player){
				this._player.stop(true);
			}
			Laya.timer.clear(this,this._update);
		}
	}

	/**
	*设置动画播放速率
	*@param value 1为标准速率
	*/
	__proto.playbackRate=function(value){
		if (this._player){
			this._player.playbackRate=value;
		}
	}

	/**
	*暂停动画的播放
	*/
	__proto.paused=function(){
		if (!this._pause){
			this._pause=true;
			if (this._player){
				this._player.paused=true;
			}
			Laya.timer.clear(this,this._update);
		}
	}

	/**
	*恢复动画的播放
	*/
	__proto.resume=function(){
		this._indexControl=false;
		if (this._pause){
			this._pause=false;
			if (this._player){
				this._player.paused=false;
			}
			this._lastTime=Browser.now();
			Laya.stage.frameLoop(1,this,this._update,null,true);
		}
	}

	/**
	*@private
	*得到缓冲数据
	*@param aniIndex
	*@param frameIndex
	*@return
	*/
	__proto._getGrahicsDataWithCache=function(aniIndex,frameIndex){
		return this._graphicsCache[aniIndex][frameIndex];
	}

	/**
	*@private
	*保存缓冲grahpics
	*@param aniIndex
	*@param frameIndex
	*@param graphics
	*/
	__proto._setGrahicsDataWithCache=function(aniIndex,frameIndex,graphics){
		this._graphicsCache[aniIndex][frameIndex]=graphics;
	}

	/**
	*销毁当前动画
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._templet=null;
		if(this._player)this._player.offAll();
		this._player=null;
		this._curOriginalData=null;
		this._boneMatrixArray.length=0;
		this._lastTime=0;
		Laya.timer.clear(this,this._update);
	}

	/**
	*设置动画路径
	*/
	/**
	*得到资源的URL
	*/
	__getset(0,__proto,'url',function(){
		return this._aniPath;
		},function(path){
		this.load(path);
	});

	/**
	*@private
	*设置帧索引
	*/
	/**
	*@private
	*得到帧索引
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		if (this.player){
			this._index=value;
			this._player.currentTime=this._index *1000 / this._player.cacheFrameRate;
			this._indexControl=true;
			this._update(false);
		}
	});

	/**
	*得到总帧数据
	*/
	__getset(0,__proto,'total',function(){
		if (this._templet && this._player){
			this._total=Math.floor(this._templet.getAniDuration(this._player.currentAnimationClipIndex)/ 1000 *this._player.cacheFrameRate);
			}else {
			this._total=-1;
		}
		return this._total;
	});

	/**
	*得到播放器的引用
	*/
	__getset(0,__proto,'player',function(){
		return this._player;
	});

	Skeleton.useSimpleMeshInCanvas=false;
	return Skeleton;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/src/extend/GameActionScript.as=======96.999646/96.999646
//class extend.GameActionScript extends laya.game.client.plugins.character.avatar.BaseActionScript
var GameActionScript=(function(_super){
	function GameActionScript(){
		GameActionScript.__super.call(this);
	}

	__class(GameActionScript,'extend.GameActionScript',_super);
	var __proto=GameActionScript.prototype;
	__proto.collision=function(range,time,type){
		if(this.skill){
			SkillManager.instance.createSkillCollision(this.skill,this.target,type,{range:range,distanceType:'xz'},100000).life(time);
		}
	}

	return GameActionScript;
})(BaseActionScript)


	//file:///H:/work/sniper/sniper/client/src/extend/GSkillExtend.as=======96.999630/96.999630
//class extend.GSkillExtend extends laya.game.client.skill.SkillExtend
var GSkillExtend=(function(_super){
	function GSkillExtend(){
		GSkillExtend.__super.call(this);
	}

	__class(GSkillExtend,'extend.GSkillExtend',_super);
	var __proto=GSkillExtend.prototype;
	__proto.ready=function(){
		CycleFactory.registerClass2(GSkill);
	}

	__proto.doPlaySkill=function(caster,param){
		var att=caster.extendData.attribute;
		var config=Sheet.getByID('SkillData',att.skillID2LevelID(param.configID));
		param.setOther(config);
	}

	__proto.canImpact=function(skill,to,from){
		var toC=to;
		return !toC.isDead;
	}

	/**
	*伤害计算
	*@param skill
	*@param target
	*@param from
	*
	*/
	__proto.skillImpact=function(skill,target,from){
		var config=skill.extendData;
		var isPVE=true;
		var beAttackAtt=target.extendData['attribute'];
		var caster=skill.caster;
		var attackAtt=caster.extendData['attribute'];
		var dodgeRate=0.0015*(beAttackAtt.dodge+100)/(attackAtt.hit+100)+0.00001*beAttackAtt.dodge+(0*attackAtt.hit)-0.01;
		dodgeRate=beAttackAtt.defaultDodgeRate+Math.min(dodgeRate,0.25);
		if(Math.random()<dodgeRate){
			(target.extend).onHurtState(caster,"闪避");
			return;
		};
		var criticalRate=0.0017*(attackAtt.critical+100)/(beAttackAtt.resilience+100)+0.000023*attackAtt.critical+(0*beAttackAtt.resilience)-0.0022;
		criticalRate=attackAtt.defaultCriticalRate+Math.min(criticalRate,0.4);
		var damage=attackAtt.atk*config.skill_power/100+config.skill_plus;
		var criticalMultiple=2;
		var battlePower=1;
		var shake=0;
		if(caster.isHero && Math.random()<criticalRate){
			GameSystem.scene.camera.shake(200,5,0,0.5,0);
			shake=1;
			damage*=criticalMultiple;
		}
		damage*=battlePower;
		var playerExtend;
		if((target).isHero){
			damage /=GameSystem.petArr.length+1;
			playerExtend=(target.extend);
			playerExtend.onHurt(caster,damage,shake);
			var len=GameSystem.petArr.length;
			for(var i=0;i<len;i++){
				var c=(GameSystem.petArr [i]);
				if (!c.isDead){
					playerExtend=c.extend;
					playerExtend.onHurt(caster,damage,shake);
				}
			}
		}
		else{
			playerExtend=(target.extend);
			playerExtend.onHurt(caster,damage,shake);
		};
		var ex=caster.extend;
		ex.causeHurt && ex.causeHurt(target,damage,shake);
	}

	// }
	__proto.createScriptContext=function(){
		return CycleFactory.createObject2(GSkillScriptContext);
	}

	return GSkillExtend;
})(SkillExtend)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/Avatar3DExtend.as=======96.999624/96.999624
/**
*avater扩展，1.拥有闪光刀影
*@author rpw
*/
//class extend.plugin.Avatar3DExtend extends laya.game.client.plugins.character.avatar.Avatar3D
var Avatar3DExtend=(function(_super){
	function Avatar3DExtend(){
		this.rightHand=new Sprite3D();
		this._yawRotatePoint=new Sprite3D();
		this._pitchRotatePoint=new Sprite3D();
		this._initAngle=new Vector3();
		this.aimDirection=new Vector3();
		Avatar3DExtend.__super.call(this);
	}

	__class(Avatar3DExtend,'extend.plugin.Avatar3DExtend',_super);
	var __proto=Avatar3DExtend.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.character.on('moveController',this,this.onMoveEvent);
		this.character.on("onAim",this,this.onAim);
		this.addAttachmentBySprite("sniper_right_hand","Bip001 R Hand",this.rightHand);
	}

	__proto.getRightHand=function(){
		return this.rightHand;
	}

	__proto.onLoaded=function(sprite3D){
		_super.prototype.onLoaded.call(this,sprite3D);
		if((this.character).isSelf){
			this._yawRotatePoint.transform.position=new Vector3(0,1.8,0);
			this.character.node.addChild(this._yawRotatePoint);
			this._pitchRotatePoint.transform.translate(new Vector3(-0.5,0,0));
			this._yawRotatePoint.addChild(this._pitchRotatePoint);
			(this.character.scene.camera).setBindTarget(this._yawRotatePoint,this._pitchRotatePoint);
		}
	}

	__proto.initAngle=function(x,y,z){
		this._initAngle.x=x;
		this._initAngle.y=y-90;
		this._initAngle.z=z;
		this._yawRotatePoint.transform.rotationEuler=new Vector3(x,y,z);
		this._pitchRotatePoint.transform.localRotationEuler=new Vector3(-20,0,0);
	}

	__proto.onActionChg=function(){
		if(!this.meshBody)return;
		if(!this._animator)return;
		if(!this._actionCtrl.action)return;
		this.playCount=this._actionCtrl.loopsCount;
		this._animator.speed=this._actionCtrl.speed ? this._actionCtrl.speed:1;
		this._animator.crossFade(this._actionCtrl.action,0.05,0);
		this._animator.crossFade(this._actionCtrl.action,0.05,1);
		if(this.hasParentAnimator){
			this._animatorClip=this.parentAnimator.getClip(this._actionCtrl.action);
			if(this._animatorClip){
				this.offData=this.parentAnimator.getOffData(this._actionCtrl.action)[0];
				this.lastFrameIndex=this._animator.currentFrameIndex;
				this.character.scene.timer.frameLoop(1,this,this.onAnimaUpdate);
			}
			else{
				this.character.scene.timer.clear(this,this.onAnimaUpdate);
			}
		}
		else{
			this.character.scene.timer.clear(this,this.onAnimaUpdate);
		}
	}

	__proto.onActionComplete=function(){
		if(--this.playCount > 0){
			this._animator.crossFade(this._actionCtrl.action,0.05,0);
			this._animator.crossFade(this._actionCtrl.action,0.05,1);
		}
		else{
			this._animator.speed=1;
			this.character.event('ActionComplete');
		}
	}

	__proto.onMoveEvent=function(){}
	__proto.getAnimaScriptClass=function(){
		return GameActionScript;
	}

	__proto.chgRightHandPart=function(model,callback){
		var _$this=this;
		var curGun=(this.character).curGun;
		if(curGun && curGun.model){
			curGun.model.removeSelf();
		}
		Sprite3DUtil.load(model,Handler.create(this,function(child){
			_$this.rightHand.addChild(child);
			callback && callback.runWith(child);
		}));
	}

	/**移除当前拿的枪*/
	__proto.removeGun=function(){
		var curGun=(this.character).curGun;
		if(curGun && curGun.model){
			curGun.model.removeSelf();
		}
	}

	/**
	*角色旋转
	*/
	__proto.onRotation=function(){
		this.character.node.getChildAt(0).transform.rotationEuler=this.character.angle.value.clone();
	}

	/**
	*回调事件
	*@param isAim
	*/
	__proto.onAim=function(isAim){
		if(isAim){
			this.turnToAim();
			}else{
			this.resetAngle();
		}
	}

	/**
	*重置角色角度
	*/
	__proto.resetAngle=function(){
		this.character.angle.setValue(this._initAngle.x,this._initAngle.y,this._initAngle.z);
	}

	__proto.turnToAim=function(offsetAngle){
		(offsetAngle===void 0)&& (offsetAngle=0);
		if(offsetAngle==0){
			Vector3.subtract((this.character).cameraTarget,this.character.node.transform.position,OnceTool.tempVector3);
			var angle=Math.atan2(OnceTool.tempVector3.x,OnceTool.tempVector3.z);
			this.character.angle.y=angle;
			}else{
			var roleQuaternion=this._yawRotatePoint.transform.rotation.clone();
			roleQuaternion.getYawPitchRoll(OnceTool.tempVector3);
			this.character.angle.y=OnceTool.tempVector3.x+offsetAngle;
		}
	}

	/**
	*操作摄像机
	*/
	__proto.rotateCamera=function(pitch,yaw){
		if(yaw){
			this._yawRotatePoint.transform.rotation.getYawPitchRoll(OnceTool.vector3_1);
			var dest=OnceTool.vector3_1.x*MathUtils.PI180_I+yaw;
			if(Camera3DExtend.cameraLeft*Camera3DExtend.cameraRight>0){
				dest=(dest+360)%360;
			}
			if(yaw>0 && dest>Camera3DExtend.cameraLeft||
				yaw<0 && dest<Camera3DExtend.cameraRight){
				return;
			}
			OnceTool.tempVector3.toDefault();
			OnceTool.tempVector3.y=yaw*MathUtils.PI1_180;
			var transform;
			if((this.character).isAim){
				transform=(this.character.node).transform;
				}else{
				transform=this._yawRotatePoint.transform;
			}
			transform.rotate(OnceTool.tempVector3);
		}
		if(pitch){
			OnceTool.tempVector3.toDefault();
			OnceTool.tempVector3.x=pitch*MathUtils.PI1_180;
			this._pitchRotatePoint.transform.rotate(OnceTool.tempVector3);
		}
	}

	/**
	*获取当前摄像机绑点旋转的YPR值
	*@return
	*/
	__proto.getCameraYPR=function(out){
		this._yawRotatePoint.transform.rotation.getYawPitchRoll(out);
	}

	/**
	*获取当前摄像机俯仰角的绑点YPR值
	*@param out
	*/
	__proto.getCameraPitchYPR=function(out){
		this._pitchRotatePoint.transform.rotation.getYawPitchRoll(out);
	}

	return Avatar3DExtend;
})(Avatar3D)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/GameAI.as=======96.999616/96.999616
//class extend.plugin.GameAI extends laya.game.client.plugins.character.ai.AI
var GameAI=(function(_super){
	function GameAI(){
		this._currentIndex=1;
		GameAI.__super.call(this);
	}

	__class(GameAI,'extend.plugin.GameAI',_super);
	var __proto=GameAI.prototype;
	__proto.canPlaySKill=function(skillId){
		return (this.character.extendData.attribute).canPlaySkill(skillId);
	}

	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		var events=[];
		events.push({event:'idle',from:['run','attack'],to:'idle'});
		events.push({event:'run',from:['idle'],to:'run'});
		events.push({event:'attack',from:['idle','run','attack'],to:'attack'});
		this.stateMachine=StateMachine.create('idle',events);
	}

	__proto.getNearEnemy=function(){
		var dis=1000;
		var selfPos=this.character.pos.value;
		var tar=null;
		var tempDis=NaN;
		var result=this._groupManager.searchSkillGroup(this.character).filterByDistance(this.character.pos.value,this.enemyDistance,'xz');
		var arr=result.array;
		for (var i=0;i < arr.length;++i){
			tempDis=DistanceUtils.xz(arr[i].pos.value,selfPos);
			if (tempDis < dis){
				dis=tempDis;
				tar=arr[i];
			}
		}
		result.recovery();
		return tar;
	}

	__proto.checkStarFight=function(dis){
		return false;
	}

	__proto.checkTarget=function(){
		var selfPos=this.character.pos.value;
		var result=this._groupManager.searchSkillGroup(this.character).filterByDistance(selfPos,this.enemyDistance,'xz');
		var find=false;
		for (var i=0;i < result.array.length;++i){
			var dis=DistanceUtils.xz(result.array[i].pos.value,selfPos);
			if (this.checkStarFight(dis)){
				find=true;
				break ;
			}
		}
		result.recovery();
		return find;
	}

	/**
	*朝某个对象进行设计
	*@param obj
	*/
	__proto.fireTo=function(obj){
		if(this.stateMachine.can("attack")){
			var self=this.character;
			var targetPos=obj.node.transform.position;
			self.isAim=true;
			this.character.playActionById('1000');
			this.character.scene.timer.loop(200,this,this.beginFire,[obj]);
		}
	}

	// (character.node.getChildAt(0).transform as Transform3D).lookAt(obj.node.transform.position,Vector3.Up);
	__proto.stopFire=function(){
		var ch=this.character;
		ch.isAim=false;
		ch.fire(false);
		ch.scene.timer.clear(this,this.beginFire);
	}

	__proto.beginFire=function(obj){
		var self=this.character;
		if(!self.actionController){
			return;
		}
		if (self.actionController.actionId=='1015'){
			if (self.curGun && self.curGun.gunState()!=0){
				this.stopFire();
				return;
			}
		};
		var targetPos=obj.node.transform.position;
		Vector3.subtract(obj.node.transform.position,this.character.node.transform.position,OnceTool.tempVector3);
		var angle=Math.atan2(OnceTool.tempVector3.x,OnceTool.tempVector3.z);
		this.character.angle.y=angle;
		self.cameraTarget.x=targetPos.x+Math.random()*2;
		self.cameraTarget.y=targetPos.y+2+Math.random()*-0.5;
		self.cameraTarget.z=targetPos.z+Math.random()*2;
		self.fire(true);
	}

	__proto.moveRandom=function(callback){
		var selfGroup=this.character.groupID;
		var posArray=selfGroup==11 ?(GameSystem.scene).redPos :(GameSystem.scene).bluePos;
		this._currentIndex=this.getRandomIndex(posArray.length);
		var pos=posArray[this._currentIndex];
		(this.character).sniperMoveCtrl.moveTo(pos,callback);
	}

	__proto.getRandomIndex=function(max){
		if(this._currentIndex !=0 && this._currentIndex !=max-1){
			return Math.random()>0.5?this._currentIndex+1:this._currentIndex-1;
		}
		if(this._currentIndex==0){
			return this._currentIndex+1;
			}else if(this._currentIndex==max-1){
			return this._currentIndex-1;
		}
		return this._currentIndex;
	}

	GameAI.STATE_IDLE="idle";
	GameAI.STATE_RUN="run";
	GameAI.STATE_ATTACK="attack";
	return GameAI;
})(AI)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/GameSceneExtend.as=======96.999610/96.999610
//class extend.plugin.GameSceneExtend extends laya.game.client.scene.Scene3DExtend
var GameSceneExtend=(function(_super){
	function GameSceneExtend(){
		/**
		*当前的种怪器
		*/
		this._currentSeed=null;
		/**
		*201711223 因为新加入的 箱子种怪器
		*所以 临时加入 这个 计数 让2个种怪器 都 clear后 再执行 下一MoveNext的逻辑
		*/
		this._seedClearCount=0;
		this._config=null;
		this._isSceneLoaded=false;
		this._isBoss=true;
		this._createNewAreaCompleter=null;
		GameSceneExtend.__super.call(this);
	}

	__class(GameSceneExtend,'extend.plugin.GameSceneExtend',_super);
	var __proto=GameSceneExtend.prototype;
	__proto.onResourceLoaded=function(complete){
		this._isSceneLoaded=true;
		var plane=(this.sceneNode.getChildByName("Sniper_maps").getChildByName("Terrain"));
		(plane.meshRender.sharedMaterial).enableLighting=false;
		var meshCollider=plane.addComponent(BoxCollider);
		meshCollider.setFromBoundBox(plane.meshFilter.sharedMesh.boundingBox);
		complete.run();
	}

	__proto.onReady=function(complete){
		var _$this=this;
		this.scene=this.owner;
		this.sceneNode=Laya.loader.create(this.scene.src,null,null,Scene3DNodeExtend);
		if (this.sceneNode.loaded && this._isSceneLoaded){
			complete.run();
		}
		else {
			if (this.sceneNode.loaded)
				this.onResourceLoaded(complete);
			this.sceneNode.once("hierarchyloaded",this,function(){
				_$this.onResourceLoaded(complete);
				_$this.sceneNode.removeSelf();
			});
		}
		this._config=this.scene.extendData['config'];
	}

	__proto.onComplete=function(){
		_super.prototype.onComplete.call(this);
		this.scene.timer.callLater(this,this.initMap);
	}

	__proto.onDestruct=function(){
		this.sceneNode.removeSelf();
		Laya.loader.clearRes(this.scene.src);
		this._isSceneLoaded=false;
		this._currentSeed=null;
		this._seedClearCount=0;
		this._createNewAreaCompleter=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.onDead=function(role){
		if (role.type !="BOSS"){
			BProgressBar.getInstance().setProgress(2);
		}
	}

	__proto.onLoop=function(){
		CustomHeadUI.onLoop(this.scene.camera);
	}

	// */
	__proto.initMap=function(){}
	// scene.timer.once(1000,this,_onClear);
	__proto._onClear=function(){
		console.log("all npc dead _onClear");
	}

	/**
	*种怪器 生成怪物
	*每生成一个怪物 都会触发这里
	*/
	__proto.onCreateMonster=function(monster){}
	/**
	*创建种怪器
	*/
	__proto.createSeed=function(configID){
		(configID===void 0)&& (configID=2000);
		var createGameParam=this.scene.getGameObjParam();
		var pos=(this.scene).bluePos[1];
		createGameParam.clear()
		.setConfig(configID,'Seed')
		.setPos(pos.x,0,pos.z);
		return this.scene.createGameObject(createGameParam);
	}

	return GameSceneExtend;
})(Scene3DExtend)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/GCharacterExtend.as=======96.999606/96.999606
//class extend.plugin.GCharacterExtend extends laya.game.client.plugins.character.CharacterExtend3D
var GCharacterExtend=(function(_super){
	function GCharacterExtend(){
		this.attributeData=null;
		this._recoverHpData=0;
		//每毫秒的回血量
		this._recoverHp=false;
		this._updateDelta=0;
		this._curtomHeadBar=null;
		//当前身处哪个区域数据
		this.mapData=null;
		this.POINT_MAX=8;
		this.index=-1;
		this._camera=null;
		this.mesh=null;
		this._shadowFile="res/effect/LayaScene_model/Plane.lh";
		this.onShadowLoadedHd=null;
		this._shadowSprite=null;
		this.beAttackHandler={};
		GCharacterExtend.__super.call(this);
		this.vec3Forward=new Vector3();
		this.vec3Follow=new Vector3();
		this.qua=new Quaternion();
		this.onShadowLoadedHd=new Handler(this,this.onShadowLoaded);
	}

	__class(GCharacterExtend,'extend.plugin.GCharacterExtend',_super);
	var __proto=GCharacterExtend.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.roleHeight=this.character.height;
		this._camera=this.character.scene.camera;
		this.attributeData=new Attribute();
		this.attributeData=this.character.extendData['attribute'];
		Sprite3DUtil.load(this._shadowFile,this.onShadowLoadedHd);
		this.beAttackHandler["Body"]=this.onBodyDamage.bind(this);
		this.beAttackHandler["Head"]=this.onHeadDamage.bind(this);
		this.beAttackHandler["Helmet_1"]=this.onHeadDamage.bind(this);
		this.character.stateMachine.initStateMachine("squat");
		this.character.actionController.actionCheck=this.character.stateMachine;
	}

	__proto.onRotation=function(){
		(this.character.avatar).onRotation();
	}

	__proto.onShadowLoaded=function(sprite3D){
		this._shadowSprite=sprite3D;
		this._shadowSprite.transform.scale=new Vector3(2,1,2);
		this._shadowSprite.transform.translate(new Vector3(0,0.01,0));
		this.character.node.addChild(this._shadowSprite);
	}

	__proto.onHurt=function(from,value,type){
		(type===void 0)&& (type=1);
		value=Math.floor(value);
		if(!this.character.isHero){
			this.showHurtText(from,""+value,type);
		}
		this.attributeData.hp-=value;
		BattleCount.I.setCurrentRoleHP(this.character,this.attributeData.hp);
		if(this._curtomHeadBar)this._curtomHeadBar.hpProgress=this.attributeData.hp/this.attributeData.maxHp;
		if(this.attributeData.hp<=0){
			this.character.dead();
		}
	}

	__proto.onDestruct=function(){
		if(this._curtomHeadBar){
			this._curtomHeadBar.removeSelf();
			Pool.recover("HPBar",this._curtomHeadBar);
		}
		Tween.clearAll(this);
		this.mesh=null;
		if(this._shadowSprite){
			Sprite3DUtil.recovery(this._shadowSprite);
			Laya.loader.clearRes(this._shadowFile);
			this._shadowSprite=null;
		}
		else{
			Sprite3DUtil.clear(this._shadowFile,this.onShadowLoadedHd);
		}
		_super.prototype.onDestruct.call(this);
	}

	__proto.onLevelUp=function(value){
		if(this._curtomHeadBar)this._curtomHeadBar.level=value;
	}

	__proto.onHurtState=function(from,value){
		var x=300;
		var y=600;
		var scaleTimer=200;
		var timer=1000;
		var delay=50;
		this._camera.globalToScreen(this.owner.pos.value,OnceTool.vector3_1);
		this._camera.globalToScreen(from.pos.value,OnceTool.vector3_2);
		var offsetX=OnceTool.vector3_2.x-OnceTool.vector3_1.x>0 ?-50 :50;
		SniperRoom.customPaintText2.showFontClip(value,'battle/ui/sb.png','闪避',Math.random()*30+x-60,y-200-Math.random()*50,offsetX,-100,scaleTimer,timer,1.6,1.6,0,delay);
	}

	__proto.createHeadBar=function(name){
		this._curtomHeadBar=Pool.getItemByClass("HPBar",CustomHeadUI);
		this._curtomHeadBar.customRenderEnable=true;
		this._curtomHeadBar.hpImage="battle/ui/bar3$bar.png";
		this._curtomHeadBar.hpBgImage="battle/ui/djball.png";
		this.attributeData.name=name;
		this._curtomHeadBar.level=this.attributeData.level?this.attributeData.level:1;
		this._curtomHeadBar.userName=name;
		this._curtomHeadBar.init();
		this._curtomHeadBar.width=100;
		this._curtomHeadBar.height=50;
		this._curtomHeadBar.setHPBarOffset(0,20);
		this._curtomHeadBar.setOffset(-this._curtomHeadBar.width/2,-25);
		this._curtomHeadBar.hpProgress=1;
		SniperRoom.battleUIView.addChild(this._curtomHeadBar);
	}

	__proto.onPosition=function(){
		_super.prototype.onPosition.call(this);
		if(this._curtomHeadBar){
			var distance=Vector3.distance(GameSystem.hero.pos.value,this.character.pos.value);
			var _scale=1-distance/80;
			this.character.pos.value.cloneTo(this._curtomHeadBar.headPosition);
			this._curtomHeadBar.headPosition.y+=this.roleHeight;
			this._curtomHeadBar.setScale(_scale,_scale);
		}
		if(!this.character.scene || !this.character.scene.timer)return;
		this._updateDelta+=this.character.scene.timer.delta;
		if(this._updateDelta >=500 && this._recoverHp){
			this.attributeData.hp=Math.min(this.attributeData.hp+this._recoverHpData*this._updateDelta,this.attributeData.maxHp);
			if(this._curtomHeadBar)this._curtomHeadBar.hpProgress=this.attributeData.hp/this.attributeData.maxHp;
			this._updateDelta=0;
		}
	}

	__proto.onLoop=function(){}
	//}
	__proto.recoverHp=function(enable){
		this._recoverHp=enable;
		this._updateDelta=0;
	}

	__proto.showFlyImage=function(count,type){
		this._camera.globalToScreen(this.character.pos.value,OnceTool.tempVector3);
		var t;
		var ex=NaN;
		var ey=NaN;
		switch (type){
			case 1:
				ex=25;
				ey=25;
				t=Laya.loader.getRes('res/battle/1.png');
				break ;
			case 2:
				ex=575;
				ey=20;
				t=Laya.loader.getRes('res/battle/0.png');
				break ;
			}
		OnceTool.tempVector3.x=OnceTool.tempVector3.x/Laya.stage.clientScaleX;
		OnceTool.tempVector3.y=OnceTool.tempVector3.y/Laya.stage.clientScaleY;
		var x=NaN;
		var y=NaN;
		var tx=NaN;
		var ty=NaN;
		for (var i=0;i < count;i++){
			x=Math.random()*100+OnceTool.tempVector3.x;
			y=Math.random()*100+(OnceTool.tempVector3.y-50);
			tx=Math.random()*1000+(OnceTool.tempVector3.x-500);
			ty=Math.random()*200+OnceTool.tempVector3.y+100;
			SniperRoom.customPaintImage.showHurtImage(t,type,40,40,[Math.floor(x),Math.floor(y),tx,ty,ex,ey],Math.random()*70+10);
		}
	}

	__proto.showExp=function(value){
		this._camera.globalToScreen(this.character.pos.value,OnceTool.tempVector3);
		var x=OnceTool.tempVector3.x/Laya.stage.clientScaleX;
		var y=OnceTool.tempVector3.y/Laya.stage.clientScaleY;
		var imageRes='battle/ui/exp.png';
		SniperRoom.customPaintText2.showFontClip(value,imageRes,'+0123456789',x,y,100,0,0,300,1,1,0,500,null);
	}

	// Sniper.customPaintText2.showHurtText2(value,-1,x,y,20,20,100,0,'#e4be27',50,0,1000,1,1,0,200,null);
	__proto.showHurtText=function(from,value,type){
		var scaleTimer=150;
		var timer=100;
		var delay=50;
		if(type==1){
			timer=800;
		}
		this.character.pos.value.cloneTo(OnceTool.vector3_1);
		OnceTool.vector3_1.y+=this.roleHeight;
		this._camera.globalToScreen(OnceTool.vector3_1,OnceTool.vector3_2);
		var x=OnceTool.vector3_2.x / Laya.stage.clientScaleX;
		var y=OnceTool.vector3_2.y / Laya.stage.clientScaleY;
		var imageRes='battle/ui/gree.png';
		if(from.type=="PET"){
			imageRes='battle/ui/blu.png';
			var angle=Math.random()-0.5<0?-5:-175;
			this._camera.globalToScreen(this.owner.pos.value,OnceTool.vector3_1);
			this._camera.globalToScreen(from.pos.value,OnceTool.vector3_2);
			var offsetX=OnceTool.vector3_2.x-OnceTool.vector3_1.x>0 ?-50 :50;
			SniperRoom.customPaintText2.showFontClip(value,imageRes,'0123456789',Math.random()*30+x-60,y-100-Math.random()*50,offsetX,-50,scaleTimer,timer,1.6,1.6,0,delay,null);
			return;
		}
		else if(from.type=="MONSTER"){
			imageRes='battle/ui/red.png';
		}
		else if(from.type=="ROLE" && type==1){
			imageRes='battle/ui/blu.png';
		}
		SniperRoom.customPaintText2.showFontClip(value,imageRes,'0123456789',Math.random()*30+x-60,y-50-Math.random()*50,0,-50,scaleTimer,timer,1.6,1.6,0,delay,null);
	}

	/**
	*人物移动每一针都通过高度图 判断位置是否可以 去
	*@param posOffset
	*@return
	*
	*/
	__proto.offsetPos=function(posOffset){
		var currPos=this.character.pos.value;
		OnceTool.tempVector3.x=currPos.x+posOffset.x;
		OnceTool.tempVector3.y=currPos.y+posOffset.y;
		OnceTool.tempVector3.z=currPos.z+posOffset.z;
		this.character.pos.setValue(OnceTool.tempVector3.x,OnceTool.tempVector3.y,OnceTool.tempVector3.z);
		return true;
	}

	__proto.updatePos=function(pos){
		if(!this.character.scene.finderExtend.canArrive(pos)){
			return false;
		}
		this.character.pos.setValue(pos.x,pos.y,pos.z);
		return true;
	}

	__proto.createCD=function(){
		var cd=CycleFactory.createObject2(CD$1);
		cd.bind(GameSystem.getServerTime(),0);
		return cd;
	}

	__proto.onDead=function(from){
		_super.prototype.onDead.call(this,from);
		(this.character).isAim=false;
		this.character.playActionById('1002');
	}

	// effect.onInit(character.scene.node,character.pos.value);
	__proto.getVal=function(index){
		var val=0;
		if (index==0)
			return 0;
		if (index % 2==1){
			val=(index / 2)+1;
		}
		else{
			val=(index / 2);
		}
		return val;
	}

	__proto.beAttack=function(hit,part){
		if(!part){
			return;
		};
		var partName=part.sprite3D.name;
		var httAttribute=(hit.extend).attributeData;
		var hp=httAttribute.atk-this.attributeData.defence;
		if(!this.beAttackHandler[partName]){
			partName="Body";
		};
		var damage=this.beAttackHandler[partName](hit);
		this.onHurt(hit,damage);
		if(this.attributeData.hp <=0){
			BattleCount.I.addRecord(hit,this.character,partName);
		}
	}

	__proto.onBorn=function(){
		var selfGroup=this.character.groupID;
		var posArray=selfGroup==11 ?(GameSystem.scene).redPos :(GameSystem.scene).bluePos;
		var rand=MathUtils.randomInt(posArray.length);
		var pos=posArray[rand];
		this.character.pos.setValue(pos.x,pos.y,pos.z);
		BattleCount.I.setCurrentRoleHP(this.character,this.attributeData.maxHp);
		if(this._curtomHeadBar)this._curtomHeadBar.hpProgress=this.attributeData.hp/this.attributeData.maxHp;
	}

	/**
	*被手雷炸
	*
	*/
	__proto.onAntitank=function(from){
		this.onHurt(from.owner,this.attributeData.maxHp*0.5);
		if(this.attributeData.hp <=0){
			BattleCount.I.addRecord(from.owner,this.character,"grenade");
		}
	}

	/**
	*击中头部
	*@param hit
	*/
	__proto.onHeadDamage=function(hit){
		var ang=Vector3.dot(this.character.node.transform.forward,hit.pos.value);
		return this.attributeData.maxHp*0.3;
	}

	/**
	*击中身体
	*@param hit
	*/
	__proto.onBodyDamage=function(hit){
		var ang=Vector3.dot(this.character.node.transform.forward,hit.pos.value);
		return (hit).curGun.propertyData.damage;
	}

	/**
	*换枪结束
	*/
	__proto.onAfterGunChange=function(){
		if(this.character.curGun.gunData.type=="1"){
			if(this.character.stateMachine.currentState=="stand"){
				this.character.isAim=true;
			}
		}
	}

	/**
	*开始换枪
	*/
	__proto.onBeginGunChange=function(callback){
		if(this.character.stateMachine.currentState=="squat"){
			this.character.playActionById('1016');
			}else if(this.character.stateMachine.currentState=="stand"){
			this.character.playActionById('1017');
		}
		GameSoundManager.instance.playSound("1020");
		this.character.once('ActionComplete',this,function(){
			callback.run();
		});
	}

	return GCharacterExtend;
})(CharacterExtend3D)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/MoveCtrl3DExtend.as=======96.999598/96.999598
/**
*...
*@author rpw
*/
//class extend.plugin.MoveCtrl3DExtend extends laya.game.client.plugins.character.MoveCtrl3D
var MoveCtrl3DExtend=(function(_super){
	function MoveCtrl3DExtend(){
		this._initMovePoint=new MovePoint;
		this._$3_lastPoint=new Vector3;
		MoveCtrl3DExtend.__super.call(this);
	}

	__class(MoveCtrl3DExtend,'extend.plugin.MoveCtrl3DExtend',_super);
	var __proto=MoveCtrl3DExtend.prototype;
	__proto.update=function(){
		_super.prototype.update.call(this);
	}

	__proto.moveTo=function(path,callback){
		if ((path instanceof Array)){
			if (path.length==1){
				this.character.isFindingPath=false;
			}
			if (this._$3_lastPoint.x==path[0].point.x && this._$3_lastPoint.z==path[0].point.z){
				(this.character.extend).mapData=path[0].data;
				path.shift();
				if(path.length !=0){
					this.moveTo(path,callback);
				}
				else{
					this.stopMove();
				}
				return;
			}
		}
		this.clear();
		if (this.character.speed <=0){
			console.log('character.speed值为0，不能移动');
			return;
		};
		var target=new MovePoint();
		if ((path instanceof Array)){
			this._pathArray=path.concat();
			target=this._pathArray[0];
		}
		else if ((path instanceof extend.scene.MovePoint )){
			target=path;
			this._pathArray=null;
			_super.prototype.moveTo.call(this,target.point,callback);
		}
		else if ((path instanceof laya.d3.math.Vector3 )){
			target.point=path;
		}
		else{
			return;
		}
		this.initFindPos.x=this.character.pos.x;
		this.initFindPos.y=this.character.pos.y;
		this.initFindPos.z=this.character.pos.z;
		this._initMovePoint.point=this.initFindPos;
		this._initMovePoint.data=(this.character.extend).mapData;
		this._path=this.character.scene.finderExtend.find(this._initMovePoint ,target);
		if (this._path && this._path.length >0){
			this._callbackFunction=callback;
			this._currentPathStep=0;
			this._lastStep=this._path.length-1;
			this.calcSpeed();
			this.isMove=true;
		}
	}

	/*计算owner的速度矢量*/
	__proto.calcSpeed=function(){
		var targetPos=this._path[this._currentPathStep];
		this._pathTarget.x=targetPos.point.x+this._excursionX;
		this._pathTarget.y=targetPos.point.y;
		this._pathTarget.z=targetPos.point.z+this._excursionZ;
		this._derectVec.x=this._pathTarget.x-this.character.pos.x;
		this._derectVec.y=this._pathTarget.y-this.character.pos.y;
		this._derectVec.z=this._pathTarget.z-this.character.pos.z;
		this._derectVec.x=this._derectVec.x.toFixed(3);
		this._derectVec.y=this._derectVec.y.toFixed(3);
		this._derectVec.z=this._derectVec.z.toFixed(3);
		Vector3.normalize(this._derectVec,this.speedVec);
		Vector3.scale(this.speedVec,this.character.speed ,this.speedVec);
	}

	__proto.calcOwnerAngleBySpeed=function(disX,disZ){
		if (!this.isMove)
			return;
		var v=Math.atan2(disX,disZ);
		if (v==0)
			return;
		if (v < 0)
			v=Math.PI *2+v;
		Tween.to(this.character.angle,{y:v },100);
	}

	/*根据运动到某个点下 检测速度*/
	__proto.checkSpeed=function(){
		if (this._currentPathStep >=this._path.length)
			return;
		try{
			var targetPos=this._path[this._currentPathStep];
			}catch (e){
			debugger;
		}
		this._pathTarget.x=targetPos.point.x+this._excursionX;
		this._pathTarget.y=targetPos.point.y;
		this._pathTarget.z=targetPos.point.z+this._excursionZ;
		if (this.checkArrived(this._pathTarget)){
			(this.character.extend).mapData=targetPos.data;
			if (this._currentPathStep==this._lastStep){
				this._currentPathStep=0;
				this.speedVec.x=0;
				this.speedVec.y=0;
				this.speedVec.z=0;
				if (this._pathArray){
					this._pathArray.shift();
					if (this._pathArray.length !=0){
						this._$3_lastPoint=this._pathTarget;
						(this.character.extend).mapData=this._pathArray[0].data;
						this.moveTo(this._pathArray,this._callbackFunction);
						return;
					}
				}
				this.stopMove();
			}
			else{
				this._currentPathStep++;
				this.calcSpeed();
			}
		}
	}

	return MoveCtrl3DExtend;
})(MoveCtrl3D)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/Character.as=======96.999586/96.999586
/**
*...
*@author Laya
*/
//class laya.game.client.object.Character extends laya.game.client.object.GameObject
var Character=(function(_super){
	function Character(){
		/**扩展插件*/
		this.extend=null;
		/**显示插件*/
		this.avatar=null;
		/**动作播放器*/
		this.actionController=null;
		/**buff系统*/
		this.buffPlugin=null;
		/**移动控制器*/
		this.moveController=null;
		this._speed=NaN;
		/**交互信息*/
		this.interactions=null;
		/**扩展数据*/
		this.extendData=null;
		/**是否是主角*/
		this.isHero=false;
		/**是否死亡*/
		this.isDead=false;
		/**AI状态*/
		this.aiState=null;
		/**AI插件*/
		this.ai=null;
		/**身高*/
		this.height=NaN;
		/**角色类型*/
		this.type=null;
		/**是否在寻路过程中**/
		this.isFindingPath=false;
		this.stateMachine=null;
		Character.__super.call(this);
		this.skills=new Array;
		this.aiState=new NumberProxy;
		this.aiState.bindTarget(this,'aiState');
	}

	__class(Character,'laya.game.client.object.Character',_super);
	var __proto=Character.prototype;
	__proto.onConstruct=function(){
		laya.libs.plugin.PluginBoard.prototype.onConstruct.call(this);
		this.isDead=false;
		this.speed=0;
		this.height=0;
		this.aiState.reset();
	}

	/**准备阶段*/
	__proto.onReady=function(){
		if (!this.extend){
			throw '必须指定 extend 插件！';
		}
		if(!this.moveController){
			throw '必须指定 moveController 插件！';
		}
		if(!this.avatar){
			throw '必须指定 avatar 插件！';
		}
		if(!this.actionController){
			throw '必须指定 actionController 插件！';
		}this.node=this.node|| this.extend.createNode();
	}

	__proto.init=function(param){
		_super.prototype.init.call(this,param);
		this.extendData=param.extendData;
	}

	__proto.onInit=function(){
		this.playActionById('1012');
	}

	__proto.onDestruct=function(){
		this.isFindingPath=false;
		this._stopAllSkill();
		_super.prototype.onDestruct.call(this);
	}

	/**
	*调用定时器执行函数
	*/
	__proto.onLoop=function(){
		this.extend.onLoop();
	}

	/**
	*移动到目标点
	*@param target
	*@param func
	*/
	__proto.moveTo=function(target,func){
		this.moveController.moveTo(target,func);
	}

	/**
	*移动
	*@param target
	*@param func
	*/
	__proto.movePath=function(target,func){
		this.isFindingPath=true;
		this.moveController.moveTo(target,Handler.create(this,function(){
			if(func)
				func.run();
		}));
	}

	/**
	*通过动作表的ID来播放动作
	*@param id
	*@return
	*/
	__proto.playActionById=function(id){
		return this.actionController.playActionById(id);
	}

	/**
	*停止位移
	*/
	__proto.stopMove=function(b){
		(b===void 0)&& (b=true);
		this.moveController.stopMove(b);
	}

	__proto.addBuff=function(id,param){
		if(!this.buffPlugin)throw "需要添加buff插件";
		this.buffPlugin.createBuffByID(id,param);
	}

	__proto.removeBuff=function(id){
		if(!this.buffPlugin)throw "需要添加buff插件";
		this.buffPlugin.removeBuffByID(id);
	}

	/**
	*触发死亡
	*/
	__proto.dead=function(from){
		this.isDead=true;
		this.stopMove();
		this.extend.onDead(from);
		this._stopAllSkill();
	}

	__proto._addSkill=function(skill){
		this.skills.push(skill);
	}

	__proto.send=function(msg){
		MessageCenter.I.send(msg);
	}

	__proto._removeSkill=function(skill){
		var index=this.skills.indexOf(skill);
		this.skills.splice(index,1);
	}

	__proto._stopAllSkill=function(){
		for(var i=this.skills.length-1;i>=0;i--){
			this.skills[i].destoryMe();
		}
		this.skills.length=0;
	}

	__getset(0,__proto,'isMove',function(){
		return this.moveController.isMove;
	});

	/**
	*@private
	*/
	/**速度*/
	__getset(0,__proto,'speed',function(){
		return this._speed;
		},function(value){
		this._speed=value;
	});

	Character.Property_ActionController='actionController';
	Character.Property_Extend='extend';
	Character.Property_Avatar='avatar';
	Character.Property_AI='ai';
	Character.Property_MoveController='moveController';
	Character.Property_RoleMessage='roleMessage';
	Character.Property_BuffPlugin='buffPlugin';
	Character.Property_StateMachine='stateMachine';
	return Character;
})(GameObject)


	//file:///H:/work/sniper/sniper/client/src/extend/SniperExtend.as=======96.999585/96.999585
//class extend.SniperExtend extends laya.game.client.system.GameExtend
var SniperExtend=(function(_super){
	function SniperExtend(){
		this._cb=null;
		this._scene=null;
		SniperExtend.__super.call(this);
	}

	__class(SniperExtend,'extend.SniperExtend',_super);
	var __proto=SniperExtend.prototype;
	__proto.ready=function(){
		_super.prototype.ready.call(this);
		CycleFactory.registerClass2(GSkillScriptContext);
		CycleFactory.registerClass2(HPBuff);
		CycleFactory.registerClass2(SniperObj);
		CycleFactory.registerClass2(SniperScene);
		CycleFactory.registerClass2(Antitank);
		CycleFactory.registerClass2(SniperMoveCtrl);
	}

	__proto.showScene=function(gameScene,cb){
		this._cb=cb;
		this._scene=gameScene;
		this._scene.once('Complete',this,this.onSceneComplete);
		GameSystem.uiLayer.visible=false;
	}

	__proto.onSceneComplete=function(){
		GameSystem.uiLayer.visible=true;
		(this._scene.camera).camera.clearFlag=1;
		this._cb.run();
		EventCenter.event(GameEvent.LOAD_SCENE_COMPLETE);
	}

	return SniperExtend;
})(GameExtend)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/scene/GameFrameScene.as=======96.999578/96.999578
/**
*帧同步场景
*@author wulongbin
*
*/
//class laya.game.client.scene.GameFrameScene extends laya.game.client.scene.GameScene
var GameFrameScene=(function(_super){
	function GameFrameScene(){
		GameFrameScene.__super.call(this);
	}

	__class(GameFrameScene,'laya.game.client.scene.GameFrameScene',_super);
	var __proto=GameFrameScene.prototype;
	__proto._initTime=function(){
		this.timer=FSGame.fsm.timer;
		this.tweenManager=FSGame.fsm.tween;
		FSGame.fsm.sceneLoop=this.onLoop.bind(this);
	}

	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		FSGame.fsm.sceneLoop=null;
	}

	__proto.onLoop=function(){
		SkillManager.instance.onLoop();
		this.camera.onLoop();
		this.extend.onLoop()
	}

	__proto.getTimer=function(){
		return FSGame.fsm.getTimer();
	}

	__getset(0,__proto,'isLoop',_super.prototype._$get_isLoop,function(value){
	});

	return GameFrameScene;
})(GameScene)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/Effect2D.as=======96.999575/96.999575
/**
*...
*@author ...
*/
//class laya.game.client.object.Effect2D extends laya.game.client.object.GameObject
var Effect2D=(function(_super){
	function Effect2D(){
		this.avatar=null;
		this.isLife=false;
		this.file=null;
		/**轨迹插件*/
		this.path=null;
		this.life=NaN;
		this.completeCallBack=null;
		this.target=null;
		Effect2D.__super.call(this);
		if(GameSystem.is3D){
			this['updatePos']=this.updatePos_3D;
		}
		else{
			this['updatePos']=this.updatePos_2D;
		}
	}

	__class(Effect2D,'laya.game.client.object.Effect2D',_super);
	var __proto=Effect2D.prototype;
	Laya.imps(__proto,{"laya.game.client.object.Ieffect":true})
	__proto.onInit=function(){
		laya.libs.plugin.PluginBoard.prototype.onInit.call(this);
		this.isLife=false;
		this.load(this.file);
		this.isLoop=true;
		if(this.life>0){
			this.setLife(this.life);
		}
	}

	__proto.onReady=function(){this.node=this.node|| this.createNode();this.avatar=this.avatar|| this.createAvatar();
		if(this.avatar){
			this.node.addChild(this.avatar);
		}
	}

	__proto.createNode=function(){
		return new Sprite;
	}

	__proto.createAvatar=function(){
		return new Animation;
	}

	__proto.clear=function(){
		(this.avatar).removeSelf();
		(this.avatar).off("complete",this,this.onComplete);
	}

	__proto.onDestruct=function(){
		if(this.completeCallBack){
			this.completeCallBack();
			this.completeCallBack=null;
		};
		var s=this.node.transform.scale;
		s.x=s.y=s.z=1;
		this.node.transform.scale=s;
		if(this.isLife){
			this.scene.timer.clear(this,this.onLifeEnd);
		}
		this.isLoop=false;
		this.clear();
		this.target=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.onLoop=function(){
		if(this.path){
			this.path.onLoop();
		}
		this.updatePos();
	}

	__proto.updatePos=function(){}
	__proto.updatePos_3D=function(){
		this.scene.camera.globalToScreen(this.pos.value,OnceTool.tempVector3);
		this.node.x=OnceTool.tempVector3.x/ Laya.stage.clientScaleX;
		this.node.y=OnceTool.tempVector3.y/ Laya.stage.clientScaleY;
	}

	__proto.updatePos_2D=function(){
		var p=this.pos.value;
		this.node.pos(p.x,p.y);
	}

	/**
	*加载模型
	*@param url
	*
	*/
	__proto.load=function(url){
		this.file=url;
		(this.avatar).loadAnimation(url,Handler.create(this,this.onLoadEnd));
	}

	/**
	*加载完成
	*
	*/
	__proto.onLoadEnd=function(){
		(this.avatar).on("complete",this,this.onComplete);
		(this.avatar).play();
	}

	__proto.onComplete=function(){
		if(this.isLife){
			return;
		}
		this.destroyMe();
	}

	/**
	*发射
	*@param type 路径类型
	*@param speed 速度
	*
	*/
	__proto.cast=function(path,param){
		this.addPluginByName(path,'',param);
	}

	/**
	*寿命
	*@param time
	*
	*/
	__proto.setLife=function(time){
		this.isLife=true;
		this.scene.timer.once(time,this,this.onLifeEnd);
	}

	__proto.onLifeEnd=function(){
		this.destroyMe();
	}

	/**
	*锁定目标
	*@param target
	*
	*/
	__proto.lockTarget=function(target){
		this.target=target;
		this.path.lockTarget(target);
	}

	/**
	*锁定目标位置
	*@param target
	*
	*/
	__proto.lockTargetPos=function(target){
		this.path.lockTargetPos(target);
	}

	__proto.dead=function(from){
		this.destroyMe();
	}

	__proto.scaleSize=function(value){
		var s=this.node.transform.scale;
		s.x=s.y=s.z=value;
		(this.node).transform.scale=s;
	}

	return Effect2D;
})(GameObject)


	//file:///H:/work/sniper/sniper/client/src/extend/skills/GSkill.as=======96.999543/96.999543
//class extend.skills.GSkill extends laya.game.client.skill.SkillWithSpcript
var GSkill=(function(_super){
	// public var config:*;
	function GSkill(){
		GSkill.__super.call(this);
	}

	__class(GSkill,'extend.skills.GSkill',_super);
	return GSkill;
})(SkillWithSpcript)


	//file:///H:/work/sniper/sniper/client/src/extend/skills/GSkillScriptContext.as=======96.999534/96.999534
//class extend.skills.GSkillScriptContext extends laya.game.client.skill.SkillScriptContext
var GSkillScriptContext=(function(_super){
	function GSkillScriptContext(){
		GSkillScriptContext.__super.call(this);
	}

	__class(GSkillScriptContext,'extend.skills.GSkillScriptContext',_super);
	var __proto=GSkillScriptContext.prototype;
	/**
	*处理 对象被攻击 模型处理
	*@param target
	*@param from
	*@param type:1击退
	*/
	__proto.doBeHit=function(target,from,type){
		(type===void 0)&& (type=1);
		var fromPos=new Vector3;
		from.pos.value.cloneTo(fromPos);
		var targetPos=new Vector3;
		target.pos.value.cloneTo(targetPos);
		var pos=this.getDirPoint(fromPos,targetPos,1);
		targetPos.x+=pos.x;
		targetPos.z+=pos.y;
		target.pos.setValue(targetPos.x,targetPos.y,targetPos.z);
		target.aiState.value=1;
	}

	/**
	*获得 方向上延伸 指定长度 后的点
	*@param hit
	*@param leng
	*
	*/
	__proto.getDirPoint=function(hit,me,leng){
		var point=new Object();
		var countX=hit.x-me.x;
		var countY=hit.z-me.z;
		var hudu=Math.atan2(countX,countY);
		var lengX=Math.abs(leng*Math.sin(hudu));
		var lengY=Math.abs(leng*Math.cos(hudu));
		if(countX>0){
			point.x=-lengX;
		}
		else if(countX<0){
			point.x=lengX;
		}
		else if(countX==0){
			point.x=0;
		}
		if(countY>0){
			point.y=-lengY;
		}
		else if(countY<0){
			point.y=lengY;
		}
		else if(countY==0){
			point.x=0;
		}
		return point;
	}

	/**
	*获取跳跃点
	*@param target
	*/
	__proto.getJumpPos=function(target){
		var fromPos=new Vector3;
		target.pos.value.cloneTo(fromPos);
		fromPos.z+=3;
		return fromPos
	}

	return GSkillScriptContext;
})(SkillScriptContext)


	//file:///H:/work/sniper/sniper/client/src/skillView/Camera3DExtend.as=======96.999438/96.999438
/**
*摄像机
*@author wulongbin
*
*/
//class skillView.Camera3DExtend extends laya.game.client.plugins.scene.Camera3D
var Camera3DExtend=(function(_super){
	function Camera3DExtend(){
		this.sniper=null;
		this._yawRotatePoint=null;
		this._pitchRotatePoint=null;
		this.targetPos=new Vector3;
		this.rotationEuler=new Vector3;
		this.rotationEuler1=new Vector3;
		Camera3DExtend.__super.call(this);
	}

	__class(Camera3DExtend,'skillView.Camera3DExtend',_super);
	var __proto=Camera3DExtend.prototype;
	__proto.bindTarget=function(c,cameraOffset,isBindLocalCoord){
		(isBindLocalCoord===void 0)&& (isBindLocalCoord=false);
		this.sniper=c;
		_super.prototype.bindTarget.call(this,c,this.sniper.cameraOffset,true);
	}

	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.camera.transform.position.toDefault();
	}

	__proto.onLoop=function(){
		if(!this._target)return;
		this.camera.fieldOfView=45/this.sniper.ratio;
	}

	/**
	*设置旋转绑点
	*@param _pitch 俯仰
	*@param _yaw 偏转
	*/
	__proto.setBindTarget=function(_yaw,_pitch){
		this._yawRotatePoint=_yaw;
		this.rotationEuler.toDefault();
		this._yawRotatePoint.transform.localRotationEuler=this.rotationEuler;
		this._pitchRotatePoint=_pitch;
		this.camera.transform.position=new Vector3(0,1.5,-4);
		this._pitchRotatePoint.addChild(this.camera);
		this.camera.transform.lookAt(this._pitchRotatePoint.transform.position,Vector3.Up);
	}

	Camera3DExtend.cameraLeft=0;
	Camera3DExtend.cameraRight=0;
	Camera3DExtend._defaultFOV=45;
	return Camera3DExtend;
})(Camera3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/comps/ArrowLine.as=======96.999378/96.999378
/**
*
*@author ww
*@version 1.0
*
*@created 2015-12-30 下午2:03:32
*/
//class laya.debug.tools.comps.ArrowLine extends laya.display.Sprite
var ArrowLine=(function(_super){
	function ArrowLine(sign){
		this.lineLen=160;
		this.arrowLen=10;
		this.sign="Y";
		this._targetChanger=null;
		this._isMoving=false;
		this.lenControl=new Rect();
		this.rotationControl=new Rect();
		this.lenChanger=ValueChanger.create(this,"lineLen");
		this.lenControlXChanger=ValueChanger.create(this.lenControl,"x");
		(sign===void 0)&& (sign="X");
		ArrowLine.__super.call(this);
		this.sign=sign;
		this.addChild(this.lenControl);
		this.addChild(this.rotationControl);
		this.lenControl.on("mousedown",this,this.controlMouseDown);
		this.drawMe();
	}

	__class(ArrowLine,'laya.debug.tools.comps.ArrowLine',_super);
	var __proto=ArrowLine.prototype;
	__proto.drawMe=function(){
		var g;
		g=this.graphics;
		g.clear();
		g.drawLine(0,0,this.lineLen,0,"#ffff00");
		g.drawLine(this.lineLen,0,this.lineLen-this.arrowLen,-this.arrowLen,"#ff0000");
		g.drawLine(this.lineLen,0,this.lineLen-this.arrowLen,this.arrowLen,"#ff0000");
		g.fillText(this.sign,50,-5,"","#ff0000","left");
		if(this._isMoving&&this._targetChanger){
			g.fillText(this._targetChanger.key+":"+this._targetChanger.value.toFixed(2),this.lineLen-15,-25,"","#ffff00","center");
		}
		this.lenControl.posTo(this.lineLen-15,0);
		this.rotationControl.posTo(this.lineLen+10,0);
		this.size(this.arrowLen,this.lineLen);
	}

	__proto.clearMoveEvents=function(){
		Laya.stage.off("mousemove",this,this.stageMouseMove);
		Laya.stage.off("mouseup",this,this.stageMouseUp);
	}

	__proto.controlMouseDown=function(e){
		this.clearMoveEvents();
		this.lenControlXChanger.record();
		this.lenChanger.record();
		if(this.targetChanger){
			this.targetChanger.record();
		}
		this._isMoving=true;
		Laya.stage.on("mousemove",this,this.stageMouseMove);
		Laya.stage.on("mouseup",this,this.stageMouseUp);
	}

	__proto.stageMouseMove=function(e){
		this.lenControlXChanger.value=this.mouseX;
		this.lenChanger.showValueByScale(this.lenControlXChanger.scaleValue);
		if(this.targetChanger){
			this.targetChanger.showValueByScale(this.lenControlXChanger.scaleValue);
		}
		this.drawMe();
	}

	__proto.stageMouseUp=function(e){
		this._isMoving=false;
		this.noticeChange();
		this.clearMoveEvents();
		this.lenControlXChanger.recover();
		this.lenChanger.recover();
		this.drawMe();
	}

	__proto.noticeChange=function(){
		var dLen=NaN;
		dLen=this.lenChanger.dValue;
		console.log("lenChange:",dLen);
	}

	__getset(0,__proto,'targetChanger',function(){
		return this._targetChanger;
		},function(changer){
		if(this._targetChanger){
			this._targetChanger.dispose();
		}
		this._targetChanger=changer;
	});

	return ArrowLine;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/comps/Axis.as=======96.999376/96.999376
/**
*
*@author ww
*@version 1.0
*
*@created 2015-12-30 下午2:37:05
*/
//class laya.debug.tools.comps.Axis extends laya.display.Sprite
var Axis=(function(_super){
	function Axis(){
		this._target=null;
		this._lenType=
		[
		["width","height"],
		["scaleX","scaleY"]];
		this._type=1;
		this.xAxis=new ArrowLine("X");
		this.yAxis=new ArrowLine("Y");
		this.controlBox=new Rect();
		this._point=new Point();
		this.oPoint=new Point();
		this.myRotationChanger=ValueChanger.create(this,"rotation");
		this.targetRotationChanger=ValueChanger.create(null,"rotation");
		this.stageMouseRotationChanger=new ValueChanger();
		Axis.__super.call(this);
		this.mouseEnabled=true;
		this.size(1,1);
		this.initMe();
		this.xAxis.rotationControl.on("mousedown",this,this.controlMouseDown);
		this.yAxis.rotationControl.on("mousedown",this,this.controlMouseDown);
		this.controlBox.on("mousedown",this,this.controlBoxMouseDown);
		this.on("dragmove",this,this.dragging);
	}

	__class(Axis,'laya.debug.tools.comps.Axis',_super);
	var __proto=Axis.prototype;
	__proto.updateChanges=function(){
		if(this._target){
			var params;
			params=this._lenType[this._type];
			this.xAxis.targetChanger=ValueChanger.create(this._target,params[0]);
			this.yAxis.targetChanger=ValueChanger.create(this._target,params[1]);
		}
	}

	__proto.switchType=function(){
		this._type++;
		this._type=this._type%this._lenType.length;
		this.type=this._type;
	}

	__proto.controlBoxMouseDown=function(e){
		this.startDrag();
	}

	__proto.dragging=function(){
		if (this._target){
			this._point.setTo(this.x,this.y);
			DisControlTool.transPoint(this.parent,this._target.parent,this._point);
			this._target.pos(this._point.x,this._point.y);
		}
	}

	__proto.initMe=function(){
		this.addChild(this.xAxis);
		this.addChild(this.yAxis);
		this.yAxis.rotation=90;
		this.addChild(this.controlBox);
		this.controlBox.posTo(0,0);
	}

	__proto.clearMoveEvents=function(){
		Laya.stage.off("mousemove",this,this.stageMouseMove);
		Laya.stage.off("mouseup",this,this.stageMouseUp);
	}

	__proto.controlMouseDown=function(e){
		this.targetRotationChanger.target=this.target;
		this.clearMoveEvents();
		this.oPoint.setTo(0,0);
		this.myRotationChanger.record();
		this.oPoint=this.localToGlobal(this.oPoint);
		this.stageMouseRotationChanger.value=this.getStageMouseRatation();
		this.stageMouseRotationChanger.record();
		this.targetRotationChanger.record();
		Laya.stage.on("mousemove",this,this.stageMouseMove);
		Laya.stage.on("mouseup",this,this.stageMouseUp);
	}

	__proto.getStageMouseRatation=function(){
		return MathUtil.getRotation(this.oPoint.x,this.oPoint.y,Laya.stage.mouseX,Laya.stage.mouseY);
	}

	__proto.stageMouseMove=function(e){
		this.stageMouseRotationChanger.value=this.getStageMouseRatation();
		var dRotation=NaN;
		dRotation=-this.stageMouseRotationChanger.dValue;
		if(this.target){
			this.targetRotationChanger.showValueByAdd(dRotation);
			}else{
			this.myRotationChanger.showValueByAdd(dRotation);
		}
	}

	__proto.stageMouseUp=function(e){
		this.noticeChange();
		this.clearMoveEvents();
	}

	__proto.noticeChange=function(){
		console.log("rotate:",-this.stageMouseRotationChanger.dValue);
	}

	__getset(0,__proto,'target',function(){
		return this._target;
		},function(tar){
		this._target=tar;
		this.updateChanges();
	});

	__getset(0,__proto,'type',function(){
		return this._type;
		},function(lenType){
		this._type=lenType;
		this.updateChanges();
	});

	return Axis;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/comps/Rect.as=======96.999375/96.999375
/**
*
*@author ww
*@version 1.0
*
*@created 2015-12-30 下午3:23:06
*/
//class laya.debug.tools.comps.Rect extends laya.display.Sprite
var Rect=(function(_super){
	function Rect(){
		this.recWidth=10;
		Rect.__super.call(this);
		this.drawMe();
	}

	__class(Rect,'laya.debug.tools.comps.Rect',_super);
	var __proto=Rect.prototype;
	__proto.drawMe=function(){
		var g;
		g=this.graphics;
		g.clear();
		g.drawRect(0,0,this.recWidth,this.recWidth,"#22ff22");
		this.size(this.recWidth,this.recWidth);
	}

	__proto.posTo=function(x,y){
		this.x=x-this.recWidth*0.5;
		this.y=y-this.recWidth*0.5;
	}

	return Rect;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Text.as=======96.999369/96.999369
/**
*<p> <code>Text</code> 类用于创建显示对象以显示文本。</p>
*<p>
*注意：如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。
*</p>
*@example
*package
*{
	*import laya.display.Text;
	*public class Text_Example
	*{
		*public function Text_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var text:Text=new Text();//创建一个 Text 类的实例对象 text 。
			*text.text="这个是一个 Text 文本示例。";
			*text.color="#008fff";//设置 text 的文本颜色。
			*text.font="Arial";//设置 text 的文本字体。
			*text.bold=true;//设置 text 的文本显示为粗体。
			*text.fontSize=30;//设置 text 的字体大小。
			*text.wordWrap=true;//设置 text 的文本自动换行。
			*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
			*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
			*text.width=300;//设置 text 的宽度。
			*text.height=200;//设置 text 的高度。
			*text.italic=true;//设置 text 的文本显示为斜体。
			*text.borderColor="#fff000";//设置 text 的文本边框颜色。
			*Laya.stage.addChild(text);//将 text 添加到显示列表。
			*}
		*}
	*}
*@example
*Text_Example();
*function Text_Example()
*{
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*onInit();
	*}
*function onInit()
*{
	*var text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。
	*text.text="这个是一个 Text 文本示例。";
	*text.color="#008fff";//设置 text 的文本颜色。
	*text.font="Arial";//设置 text 的文本字体。
	*text.bold=true;//设置 text 的文本显示为粗体。
	*text.fontSize=30;//设置 text 的字体大小。
	*text.wordWrap=true;//设置 text 的文本自动换行。
	*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
	*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
	*text.width=300;//设置 text 的宽度。
	*text.height=200;//设置 text 的高度。
	*text.italic=true;//设置 text 的文本显示为斜体。
	*text.borderColor="#fff000";//设置 text 的文本边框颜色。
	*Laya.stage.addChild(text);//将 text 添加到显示列表。
	*}
*@example
*class Text_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var text:laya.display.Text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。
		*text.text="这个是一个 Text 文本示例。";
		*text.color="#008fff";//设置 text 的文本颜色。
		*text.font="Arial";//设置 text 的文本字体。
		*text.bold=true;//设置 text 的文本显示为粗体。
		*text.fontSize=30;//设置 text 的字体大小。
		*text.wordWrap=true;//设置 text 的文本自动换行。
		*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
		*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
		*text.width=300;//设置 text 的宽度。
		*text.height=200;//设置 text 的高度。
		*text.italic=true;//设置 text 的文本显示为斜体。
		*text.borderColor="#fff000";//设置 text 的文本边框颜色。
		*Laya.stage.addChild(text);//将 text 添加到显示列表。
		*}
	*}
*/
//class laya.display.Text extends laya.display.Sprite
var Text=(function(_super){
	function Text(){
		/**@private */
		this._clipPoint=null;
		/**@private 表示文本内容字符串。*/
		this._text=null;
		/**@private 表示文本内容是否发生改变。*/
		this._isChanged=false;
		/**@private 表示文本的宽度，以像素为单位。*/
		this._textWidth=0;
		/**@private 表示文本的高度，以像素为单位。*/
		this._textHeight=0;
		/**@private 存储文字行数信息。*/
		this._lines=[];
		/**@private 保存每行宽度*/
		this._lineWidths=[];
		/**@private 文本的内容位置 X 轴信息。*/
		this._startX=NaN;
		/**@private 文本的内容位置X轴信息。 */
		this._startY=NaN;
		/**@private */
		this._words=null;
		/**@private */
		this._charSize={};
		/**@private */
		this._valign="top";
		/**@private */
		this._color="#000000";
		Text.__super.call(this);
		this._fontSize=Text.defaultFontSize;
		this._font=Text.defaultFont;
		this.overflow="visible";
		this._style=TextStyle.EMPTY;
	}

	__class(Text,'laya.display.Text',_super);
	var __proto=Text.prototype;
	/**
	*@private
	*获取样式。
	*@return 样式 Style 。
	*/
	__proto.getStyle=function(){
		this._style===TextStyle.EMPTY && (this._style=TextStyle.create());
		return this._style;
	}

	__proto._getTextStyle=function(){
		if (this._style===TextStyle.EMPTY){
			this._style=TextStyle.create();
		}
		return this._style;
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._clipPoint=null;
		this._lines=null;
		this._lineWidths=null;
		this._words=null;
		this._charSize=null;
	}

	/**
	*@private
	*@inheritDoc
	*/
	__proto._getBoundPointsM=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		var rec=Rectangle.TEMP;
		rec.setTo(0,0,this.width,this.height);
		return rec._getBoundPoints();
	}

	/**
	*@inheritDoc
	*/
	__proto.getGraphicBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		var rec=Rectangle.TEMP;
		rec.setTo(0,0,this.width,this.height);
		return rec;
	}

	/**
	*@private
	*/
	__proto._getCSSStyle=function(){
		return this._style;
	}

	/**
	*<p>根据指定的文本，从语言包中取当前语言的文本内容。并对此文本中的{i}文本进行替换。</p>
	*<p>设置Text.langPacks语言包后，即可使用lang获取里面的语言</p>
	*<p>例如：
	*<li>（1）text 的值为“我的名字”，先取到这个文本对应的当前语言版本里的值“My name”，将“My name”设置为当前文本的内容。</li>
	*<li>（2）text 的值为“恭喜你赢得{0}个钻石，{1}经验。”，arg1 的值为100，arg2 的值为200。
	*则先取到这个文本对应的当前语言版本里的值“Congratulations on your winning {0}diamonds,{1}experience.”，
	*然后将文本里的{0}、{1}，依据括号里的数字从0开始替换为 arg1、arg2 的值。
	*将替换处理后的文本“Congratulations on your winning 100 diamonds,200 experience.”设置为当前文本的内容。
	*</li>
	*</p>
	*@param text 文本内容。
	*@param ...args 文本替换参数。
	*/
	__proto.lang=function(text,arg1,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10){
		text=Text.langPacks && Text.langPacks[text] ? Text.langPacks[text] :text;
		if (arguments.length < 2){
			this._text=text;
			}else {
			for (var i=0,n=arguments.length;i < n;i++){
				text=text.replace("{"+i+"}",arguments[i+1]);
			}
			this._text=text;
		}
	}

	/**
	*@private
	*/
	__proto._getContextFont=function(){
		return (this.italic ? "italic " :"")+(this.bold ? "bold " :"")+this.fontSize+"px "+(Browser.onIPhone ? (laya.display.Text.fontFamilyMap[this.font] || this.font):this.font);
	}

	/**
	*@private
	*渲染文字。
	*@param begin 开始渲染的行索引。
	*@param visibleLineCount 渲染的行数。
	*/
	__proto._renderText=function(){
		var padding=this.padding;
		var visibleLineCount=this._lines.length;
		if (this.overflow !="visible"){
			visibleLineCount=Math.min(visibleLineCount,Math.floor((this.height-padding[0]-padding[2])/ (this.leading+this._charSize.height))+1);
		};
		var beginLine=this.scrollY / (this._charSize.height+this.leading)| 0;
		var graphics=this.graphics;
		graphics.clear(true);
		var ctxFont=this._getContextFont();
		Browser.context.font=ctxFont;
		var startX=padding[3];
		var textAlgin="left";
		var lines=this._lines;
		var lineHeight=this.leading+this._charSize.height;
		var tCurrBitmapFont=(this._style).currBitmapFont;
		if (tCurrBitmapFont){
			lineHeight=this.leading+tCurrBitmapFont.getMaxHeight();
		};
		var startY=padding[0];
		if ((!tCurrBitmapFont)&& this._width > 0 && this._textWidth <=this._width){
			if (this.align=="right"){
				textAlgin="right";
				startX=this._width-padding[1];
				}else if (this.align=="center"){
				textAlgin="center";
				startX=this._width *0.5+padding[3]-padding[1];
			}
		}
		if (this._height > 0){
			var tempVAlign=(this._textHeight > this._height)? "top" :this.valign;
			if (tempVAlign==="middle")
				startY=(this._height-visibleLineCount *lineHeight)*0.5+padding[0]-padding[2];
			else if (tempVAlign==="bottom")
			startY=this._height-visibleLineCount *lineHeight-padding[2];
		};
		var style=this._style;
		if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
			var bitmapScale=tCurrBitmapFont.fontSize / this.fontSize;
		}
		if (this._clipPoint){
			graphics.save();
			if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
				var tClipWidth=0;
				var tClipHeight=0;
				this._width ? tClipWidth=(this._width-padding[3]-padding[1]):tClipWidth=this._textWidth;
				this._height ? tClipHeight=(this._height-padding[0]-padding[2]):tClipHeight=this._textHeight;
				tClipWidth *=bitmapScale;
				tClipHeight *=bitmapScale;
				graphics.clipRect(padding[3],padding[0],tClipWidth,tClipHeight);
				}else {
				graphics.clipRect(padding[3],padding[0],this._width ? (this._width-padding[3]-padding[1]):this._textWidth,this._height ? (this._height-padding[0]-padding[2]):this._textHeight);
			}
			this.repaint();
		};
		var password=style.asPassword;
		if (("prompt" in this)&& this['prompt']==this._text)
			password=false;
		var x=0,y=0;
		var end=Math.min(this._lines.length,visibleLineCount+beginLine)|| 1;
		for (var i=beginLine;i < end;i++){
			var word=lines[i];
			var _word;
			if (password){
				var len=word.length;
				word="";
				for (var j=len;j > 0;j--){
					word+="●";
				}
			}
			x=startX-(this._clipPoint ? this._clipPoint.x :0);
			y=startY+lineHeight *i-(this._clipPoint ? this._clipPoint.y :0);
			this.underline && this._drawUnderline(textAlgin,x,y,i);
			if (tCurrBitmapFont){
				var tWidth=this.width;
				if (tCurrBitmapFont.autoScaleSize){
					tWidth=this.width *bitmapScale;
				}
				tCurrBitmapFont._drawText(word,this,x,y,this.align,tWidth);
				}else {
				if (Render.isWebGL){
					this._words || (this._words=[]);
					_word=this._words.length > (i-beginLine)? this._words[i-beginLine] :new WordText();
					_word.setText(word);
					}else {
					_word=word;
				}
				style.stroke ? graphics.fillBorderText(_word,x,y,ctxFont,this.color,style.strokeColor,style.stroke,textAlgin):graphics.fillText(_word,x,y,ctxFont,this.color,textAlgin);
			}
		}
		if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
			var tScale=1 / bitmapScale;
			this.scale(tScale,tScale);
		}
		if (this._clipPoint)graphics.restore();
		this._startX=startX;
		this._startY=startY;
	}

	/**
	*@private
	*绘制下划线
	*@param x 本行坐标
	*@param y 本行坐标
	*@param lineIndex 本行索引
	*/
	__proto._drawUnderline=function(align,x,y,lineIndex){
		var lineWidth=this._lineWidths[lineIndex];
		switch (align){
			case 'center':
				x-=lineWidth / 2;
				break ;
			case 'right':
				x-=lineWidth;
				break ;
			case 'left':
			default :
				break ;
			}
		y+=this._charSize.height;
		this._graphics.drawLine(x,y,x+lineWidth,y,this.underlineColor || this.color,1);
	}

	/**
	*<p>排版文本。</p>
	*<p>进行宽高计算，渲染、重绘文本。</p>
	*/
	__proto.typeset=function(){
		this._isChanged=false;
		if (!this._text){
			this._clipPoint=null;
			this._textWidth=this._textHeight=0;
			this.graphics.clear(true);
			return;
		}
		if (Render.isConchApp){
			window.conchTextCanvas.font=this._getContextFont();;
			}else{
			Browser.context.font=this._getContextFont();
		}
		this._lines.length=0;
		this._lineWidths.length=0;
		this._parseLines(this._text);
		this._evalTextSize();
		if (this._checkEnabledViewportOrNot())this._clipPoint || (this._clipPoint=new Point(0,0));
		else this._clipPoint=null;
		this._renderText();
	}

	/**@private */
	__proto._evalTextSize=function(){
		var nw=NaN,nh=NaN;
		nw=Math.max.apply(this,this._lineWidths);
		if ((this._style).currBitmapFont)
			nh=this._lines.length *((this._style).currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2];
		else
		nh=this._lines.length *(this._charSize.height+this.leading)+this.padding[0]+this.padding[2];
		if (nw !=this._textWidth || nh !=this._textHeight){
			this._textWidth=nw;
			this._textHeight=nh;
		}
	}

	/**@private */
	__proto._checkEnabledViewportOrNot=function(){
		return this.overflow=="scroll" && ((this._width > 0 && this._textWidth > this._width)|| (this._height > 0 && this._textHeight > this._height));
	}

	/**
	*<p>快速更改显示文本。不进行排版计算，效率较高。</p>
	*<p>如果只更改文字内容，不更改文字样式，建议使用此接口，能提高效率。</p>
	*@param text 文本内容。
	*/
	__proto.changeText=function(text){
		if (this._text!==text){
			this.lang(text+"");
			if (this._graphics && this._graphics.replaceText(this._text)){
				}else {
				this.typeset();
			}
		}
	}

	/**
	*@private
	*分析文本换行。
	*/
	__proto._parseLines=function(text){
		var needWordWrapOrTruncate=this.wordWrap || this.overflow=="hidden";
		if (needWordWrapOrTruncate){
			var wordWrapWidth=this._getWordWrapWidth();
		};
		var bitmapFont=(this._style).currBitmapFont;
		if (bitmapFont){
			this._charSize.width=bitmapFont.getMaxWidth();
			this._charSize.height=bitmapFont.getMaxHeight();
			}else {
			var measureResult=null;
			if (Render.isConchApp){
				measureResult=window.conchTextCanvas.measureText(this._testWord);
				}else {
				measureResult=Browser.context.measureText(Text._testWord);
			}
			this._charSize.width=measureResult.width;
			this._charSize.height=(measureResult.height || this.fontSize);
		};
		var lines=text.replace(/\r\n/g,"\n").split("\n");
		for (var i=0,n=lines.length;i < n;i++){
			var line=lines[i];
			if (needWordWrapOrTruncate)
				this._parseLine(line,wordWrapWidth);
			else {
				this._lineWidths.push(this._getTextWidth(line));
				this._lines.push(line);
			}
		}
	}

	/**
	*@private
	*解析行文本。
	*@param line 某行的文本。
	*@param wordWrapWidth 文本的显示宽度。
	*/
	__proto._parseLine=function(line,wordWrapWidth){
		var ctx=Browser.context;
		var lines=this._lines;
		var maybeIndex=0;
		var execResult;
		var charsWidth=NaN;
		var wordWidth=NaN;
		var startIndex=0;
		charsWidth=this._getTextWidth(line);
		if (charsWidth <=wordWrapWidth){
			lines.push(line);
			this._lineWidths.push(charsWidth);
			return;
		}
		charsWidth=this._charSize.width;
		maybeIndex=Math.floor(wordWrapWidth / charsWidth);
		(maybeIndex==0)&& (maybeIndex=1);
		charsWidth=this._getTextWidth(line.substring(0,maybeIndex));
		wordWidth=charsWidth;
		for (var j=maybeIndex,m=line.length;j < m;j++){
			charsWidth=this._getTextWidth(line.charAt(j));
			wordWidth+=charsWidth;
			if (wordWidth > wordWrapWidth){
				if (this.wordWrap){
					var newLine=line.substring(startIndex,j);
					if (newLine.charCodeAt(newLine.length-1)< 255){
						execResult=/(?:\w|-)+$/.exec(newLine);
						if (execResult){
							j=execResult.index+startIndex;
							if (execResult.index==0)j+=newLine.length;
							else newLine=line.substring(startIndex,j);
						}
					}
					lines.push(newLine);
					this._lineWidths.push(wordWidth-charsWidth);
					startIndex=j;
					if (j+maybeIndex < m){
						j+=maybeIndex;
						charsWidth=this._getTextWidth(line.substring(startIndex,j));
						wordWidth=charsWidth;
						j--;
						}else {
						lines.push(line.substring(startIndex,m));
						this._lineWidths.push(this._getTextWidth(lines[lines.length-1]));
						startIndex=-1;
						break ;
					}
					}else if (this.overflow=="hidden"){
					lines.push(line.substring(0,j));
					this._lineWidths.push(this._getTextWidth(lines[lines.length-1]));
					return;
				}
			}
		}
		if (this.wordWrap && startIndex !=-1){
			lines.push(line.substring(startIndex,m));
			this._lineWidths.push(this._getTextWidth(lines[lines.length-1]));
		}
	}

	/**@private */
	__proto._getTextWidth=function(text){
		var bitmapFont=(this._style).currBitmapFont;
		if (bitmapFont)return bitmapFont.getTextWidth(text);
		else {
			if (Render.isConchApp){
				return window.conchTextCanvas.measureText(text).width;;
			}
			else return Browser.context.measureText(text).width;
		}
	}

	/**
	*@private
	*获取换行所需的宽度。
	*/
	__proto._getWordWrapWidth=function(){
		var p=this.padding;
		var w=NaN;
		var bitmapFont=(this._style).currBitmapFont;
		if (bitmapFont && bitmapFont.autoScaleSize)w=this._width *(bitmapFont.fontSize / this.fontSize);
		else w=this._width;
		if (w <=0){
			w=this.wordWrap ? 100 :Browser.width;
		}
		w <=0 && (w=100);
		return w-p[3]-p[1];
	}

	/**
	*返回字符在本类实例的父坐标系下的坐标。
	*@param charIndex 索引位置。
	*@param out （可选）输出的Point引用。
	*@return Point 字符在本类实例的父坐标系下的坐标。如果out参数不为空，则将结果赋值给指定的Point对象，否则创建一个新的Point对象返回。建议使用Point.TEMP作为out参数，可以省去Point对象创建和垃圾回收的开销，尤其是在需要频繁执行的逻辑中，比如帧循环和MOUSE_MOVE事件回调函数里面。
	*/
	__proto.getCharPoint=function(charIndex,out){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		var len=0,lines=this._lines,startIndex=0;
		for (var i=0,n=lines.length;i < n;i++){
			len+=lines[i].length;
			if (charIndex < len){
				var line=i;
				break ;
			}
			startIndex=len;
		};
		var ctxFont=(this.italic ? "italic " :"")+(this.bold ? "bold " :"")+this.fontSize+"px "+this.font;
		Browser.context.font=ctxFont;
		var width=this._getTextWidth(this._text.substring(startIndex,charIndex));
		var point=out || new Point();
		return point.setTo(this._startX+width-(this._clipPoint ? this._clipPoint.x :0),this._startY+line *(this._charSize.height+this.leading)-(this._clipPoint ? this._clipPoint.y :0));
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		return this.textWidth+this.padding[1]+this.padding[3];
		},function(value){
		if (value !=this._width){
			Laya.superSet(Sprite,this,'width',value);
			this.isChanged=true;
		}
	});

	/**
	*表示文本的宽度，以像素为单位。
	*/
	__getset(0,__proto,'textWidth',function(){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		return this._textWidth;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		return this.textHeight+this.padding[0]+this.padding[2];
		},function(value){
		if (value !=this._height){
			Laya.superSet(Sprite,this,'height',value);
			this.isChanged=true;
		}
	});

	/**
	*表示文本的高度，以像素为单位。
	*/
	__getset(0,__proto,'textHeight',function(){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		return this._textHeight;
	});

	/**
	*<p>边距信息。</p>
	*<p>数据格式：[上边距，右边距，下边距，左边距]（边距以像素为单位）。</p>
	*/
	__getset(0,__proto,'padding',function(){
		return (this._style).padding;
		},function(value){
		this._getTextStyle().padding=value;
		this.isChanged=true;
	});

	/**
	*<p>指定文本是否为粗体字。</p>
	*<p>默认值为 false，这意味着不使用粗体字。如果值为 true，则文本为粗体字。</p>
	*/
	__getset(0,__proto,'bold',function(){
		return (this._style).bold;
		},function(value){
		this._getTextStyle().bold=value;
		this.isChanged=true;
	});

	/**当前文本的内容字符串。*/
	__getset(0,__proto,'text',function(){
		return this._text || "";
		},function(value){
		if (this._text!==value){
			this.lang(value+"");
			this.isChanged=true;
			this.event("change");
		}
	});

	/**
	*<p>表示文本的颜色值。可以通过 <code>Text.defaultColor</code> 设置默认颜色。</p>
	*<p>默认值为黑色。</p>
	*/
	__getset(0,__proto,'color',function(){
		return this._color;
		},function(value){
		if (this._color !=value){
			this._color=value;
			if (!this._isChanged && this._graphics){
				this._graphics.replaceTextColor(this.color)
				}else {
				this.isChanged=true;
			}
		}
	});

	/**
	*<p>文本的字体名称，以字符串形式表示。</p>
	*<p>默认值为："Arial"，可以通过Text.defaultFont设置默认字体。</p>
	*<p>如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。</p>
	*@see laya.display.Text#defaultFont
	*/
	__getset(0,__proto,'font',function(){
		return this._font;
		},function(value){
		if ((this._style).currBitmapFont){
			this._getTextStyle().currBitmapFont=null;
			this.scale(1,1);
		}
		if (Text._bitmapFonts && Text._bitmapFonts[value]){
			this._getTextStyle().currBitmapFont=Text._bitmapFonts[value];
		}
		this._font=value;
		this.isChanged=true;
	});

	/**
	*<p>指定文本的字体大小（以像素为单位）。</p>
	*<p>默认为20像素，可以通过 <code>Text.defaultFontSize</code> 设置默认大小。</p>
	*/
	__getset(0,__proto,'fontSize',function(){
		return this._fontSize;
		},function(value){
		this._fontSize=value;
		this.isChanged=true;
	});

	/**
	*<p>表示使用此文本格式的文本是否为斜体。</p>
	*<p>默认值为 false，这意味着不使用斜体。如果值为 true，则文本为斜体。</p>
	*/
	__getset(0,__proto,'italic',function(){
		return (this._style).italic;
		},function(value){
		this._getTextStyle().italic=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本的水平显示方式。</p>
	*<p><b>取值：</b>
	*<li>"left"： 居左对齐显示。</li>
	*<li>"center"： 居中对齐显示。</li>
	*<li>"right"： 居右对齐显示。</li>
	*</p>
	*/
	__getset(0,__proto,'align',function(){
		return (this._style).align;
		},function(value){
		this._getTextStyle().align=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本的垂直显示方式。</p>
	*<p><b>取值：</b>
	*<li>"top"： 居顶部对齐显示。</li>
	*<li>"middle"： 居中对齐显示。</li>
	*<li>"bottom"： 居底部对齐显示。</li>
	*</p>
	*/
	__getset(0,__proto,'valign',function(){
		return this._valign;
		},function(value){
		this._valign=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本是否自动换行，默认为false。</p>
	*<p>若值为true，则自动换行；否则不自动换行。</p>
	*/
	__getset(0,__proto,'wordWrap',function(){
		return (this._style).wordWrap;
		},function(value){
		this._getTextStyle().wordWrap=value;
		this.isChanged=true;
	});

	/**
	*垂直行间距（以像素为单位）。
	*/
	__getset(0,__proto,'leading',function(){
		return (this._style).leading;
		},function(value){
		this._getTextStyle().leading=value;
		this.isChanged=true;
	});

	/**
	*文本背景颜色，以字符串表示。
	*/
	__getset(0,__proto,'bgColor',function(){
		return (this._style).bgColor;
		},function(value){
		this._getTextStyle().bgColor=value;
		this._renderType |=0x80;
		this.isChanged=true;
	});

	/**
	*文本边框背景颜色，以字符串表示。
	*/
	__getset(0,__proto,'borderColor',function(){
		return (this._style).borderColor;
		},function(value){
		this._getTextStyle().borderColor=value;
		this._renderType |=0x80;
		this.isChanged=true;
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*<p>默认值0，表示不描边。</p>
	*/
	__getset(0,__proto,'stroke',function(){
		return (this._style).stroke;
		},function(value){
		this._getTextStyle().stroke=value;
		this.isChanged=true;
	});

	/**
	*<p>描边颜色，以字符串表示。</p>
	*<p>默认值为 "#000000"（黑色）;</p>
	*/
	__getset(0,__proto,'strokeColor',function(){
		return (this._style).strokeColor;
		},function(value){
		this._getTextStyle().strokeColor=value;
		this.isChanged=true;
	});

	/**
	*@private
	*一个布尔值，表示文本的属性是否有改变。若为true表示有改变。
	*/
	__getset(0,__proto,'isChanged',null,function(value){
		if (this._isChanged!==value){
			this._isChanged=value;
			value && Laya.timer.callLater(this,this.typeset);
		}
	});

	/**
	*<p>设置横向滚动量。</p>
	*<p>即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。</p>
	*/
	/**
	*获取横向滚动量。
	*/
	__getset(0,__proto,'scrollX',function(){
		if (!this._clipPoint)return 0;
		return this._clipPoint.x;
		},function(value){
		if (this.overflow !="scroll" || (this.textWidth < this._width || !this._clipPoint))return;
		value=value < this.padding[3] ? this.padding[3] :value;
		var maxScrollX=this._textWidth-this._width;
		value=value > maxScrollX ? maxScrollX :value;
		this._clipPoint.x=value;
		this._renderText();
	});

	/**
	*设置纵向滚动量（px)。即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。
	*/
	/**
	*获取纵向滚动量。
	*/
	__getset(0,__proto,'scrollY',function(){
		if (!this._clipPoint)return 0;
		return this._clipPoint.y;
		},function(value){
		if (this.overflow !="scroll" || (this.textHeight < this._height || !this._clipPoint))return;
		value=value < this.padding[0] ? this.padding[0] :value;
		var maxScrollY=this._textHeight-this._height;
		value=value > maxScrollY ? maxScrollY :value;
		this._clipPoint.y=value;
		this._renderText();
	});

	/**
	*获取横向可滚动最大值。
	*/
	__getset(0,__proto,'maxScrollX',function(){
		return (this.textWidth < this._width)? 0 :this._textWidth-this._width;
	});

	/**
	*获取纵向可滚动最大值。
	*/
	__getset(0,__proto,'maxScrollY',function(){
		return (this.textHeight < this._height)? 0 :this._textHeight-this._height;
	});

	/**返回文字行信息*/
	__getset(0,__proto,'lines',function(){
		if (this._isChanged)this.typeset();
		return this._lines;
	});

	/**下划线的颜色，为null则使用字体颜色。*/
	__getset(0,__proto,'underlineColor',function(){
		return (this._style).underlineColor;
		},function(value){
		this._getTextStyle().underlineColor=value;
		if (!this._isChanged)this._renderText();
	});

	/**是否显示下划线。*/
	__getset(0,__proto,'underline',function(){
		return (this._style).underline;
		},function(value){
		this._getTextStyle().underline=value;
	});

	Text.defaultFontStr=function(){
		return Text.defaultFontSize+"px "+Text.defaultFont;
	}

	Text.registerBitmapFont=function(name,bitmapFont){
		Text._bitmapFonts || (Text._bitmapFonts={});
		Text._bitmapFonts[name]=bitmapFont;
	}

	Text.unregisterBitmapFont=function(name,destroy){
		(destroy===void 0)&& (destroy=true);
		if (Text._bitmapFonts && Text._bitmapFonts[name]){
			var tBitmapFont=Text._bitmapFonts[name];
			if (destroy)tBitmapFont.destroy();
			delete Text._bitmapFonts[name];
		}
	}

	Text.VISIBLE="visible";
	Text.SCROLL="scroll";
	Text.HIDDEN="hidden";
	Text.defaultFontSize=12;
	Text.defaultFont="Arial";
	Text.langPacks=null;
	Text.isComplexText=false;
	Text._testWord="游";
	Text._bitmapFonts=null;
	Text.CharacterCache=true;
	__static(Text,
	['fontFamilyMap',function(){return this.fontFamilyMap={"报隶":"报隶-简","黑体":"黑体-简","楷体":"楷体-简","兰亭黑":"兰亭黑-简","隶变":"隶变-简","凌慧体":"凌慧体-简","翩翩体":"翩翩体-简","苹方":"苹方-简","手札体":"手札体-简","宋体":"宋体-简","娃娃体":"娃娃体-简","魏碑":"魏碑-简","行楷":"行楷-简","雅痞":"雅痞-简","圆体":"圆体-简"};}
	]);
	return Text;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/resizer/AutoFillRec.as=======96.999331/96.999331
/**
*自动根据大小填充自己全部区域的显示对象
*@author ww
*/
//class laya.debug.tools.resizer.AutoFillRec extends laya.display.Sprite
var AutoFillRec=(function(_super){
	function AutoFillRec(type){
		this.type=0;
		this.preX=NaN;
		this.preY=NaN;
		AutoFillRec.__super.call(this);
	}

	__class(AutoFillRec,'laya.debug.tools.resizer.AutoFillRec',_super);
	var __proto=AutoFillRec.prototype;
	__proto.changeSize=function(){
		var g=this.graphics;
		g.clear();
		g.drawRect(0,0,this.width,this.height,"#33c5f5");
	}

	__proto.record=function(){
		this.preX=this.x;
		this.preY=this.y;
	}

	__proto.getDx=function(){
		return this.x-this.preX;
	}

	__proto.getDy=function(){
		return this.y-this.preY;
	}

	//super(type);
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Sprite,this,'width',value);
		this.changeSize();
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Sprite,this,'height',value);
		this.changeSize();
	});

	return AutoFillRec;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/DebugInfoLayer.as=======96.999313/96.999313
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.DebugInfoLayer extends laya.display.Sprite
var DebugInfoLayer=(function(_super){
	function DebugInfoLayer(){
		this.nodeRecInfoLayer=null;
		this.lineLayer=null;
		this.txtLayer=null;
		this.popLayer=null;
		this.graphicLayer=null;
		this.cacheViewLayer=null;
		DebugInfoLayer.__super.call(this);
		this.nodeRecInfoLayer=new Sprite();
		this.lineLayer=new Sprite();
		this.txtLayer=new Sprite();
		this.popLayer=new Sprite();
		this.graphicLayer=new Sprite();
		this.cacheViewLayer=new Sprite();
		this.nodeRecInfoLayer.name="nodeRecInfoLayer";
		this.lineLayer.name="lineLayer";
		this.txtLayer.name="txtLayer";
		this.popLayer.name="popLayer";
		this.graphicLayer.name="graphicLayer";
		this.cacheViewLayer.name="cacheViewLayer";
		this.addChild(this.lineLayer);
		this.addChild(this.cacheViewLayer);
		this.addChild(this.nodeRecInfoLayer);
		this.addChild(this.txtLayer);
		this.addChild(this.popLayer);
		this.addChild(this.graphicLayer);
		DebugInfoLayer.I=this;
		this.zOrder=999;
		Laya.stage.on("doubleclick",this,this.setTop);
	}

	__class(DebugInfoLayer,'laya.debug.view.nodeInfo.DebugInfoLayer',_super);
	var __proto=DebugInfoLayer.prototype;
	__proto.setTop=function(){
		DisControlTool.setTop(this);
	}

	__proto.isDebugItem=function(sprite){
		return DisControlTool.isInTree(this,sprite);
	}

	DebugInfoLayer.init=function(){
		if (!DebugInfoLayer.I){
			new DebugInfoLayer();
			Laya.stage.addChild(DebugInfoLayer.I);
		}
	}

	DebugInfoLayer.I=null;
	return DebugInfoLayer;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/NodeInfoPanel.as=======96.999311/96.999311
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.NodeInfoPanel extends laya.display.Sprite
var NodeInfoPanel=(function(_super){
	function NodeInfoPanel(){
		this._stateDic={};
		this.isWorkState=false;
		NodeInfoPanel.__super.call(this);
	}

	__class(NodeInfoPanel,'laya.debug.view.nodeInfo.NodeInfoPanel',_super);
	var __proto=NodeInfoPanel.prototype;
	__proto.showDisInfo=function(node){
		this.recoverNodes();
		NodeInfosItem.showDisInfos(node);
		this.showOnly(node);
		this.isWorkState=true;
	}

	__proto.showOnly=function(node){
		if (!node)
			return;
		this.hideBrothers(node);
		this.showOnly(node.parent);
	}

	__proto.recoverNodes=function(){
		NodeInfosItem.hideAllInfos();
		var key;
		var data;
		var tTar;
		for (key in this._stateDic){
			data=this._stateDic[key];
			tTar=data["target"];
			if (tTar){
				try{
					tTar.visible=data.visible;
					}catch (e){
				}
			}
		}
		this.isWorkState=false;
	}

	__proto.hideOtherChain=function(node){
		if (!node)
			return;
		while (node){
			this.hideBrothers(node);
			node=node.parent;
		}
	}

	__proto.hideChilds=function(node){
		if (!node)
			return;
		var i=0,len=0;
		var cList;
		cList=node._children;
		len=cList.length;
		var tChild;
		for (i=0;i < len;i++){
			tChild=cList[i];
			if (tChild==NodeInfosItem.NodeInfoContainer)continue ;
			this.saveNodeInfo(tChild);
			tChild.visible=false;
		}
	}

	__proto.hideBrothers=function(node){
		if (!node)
			return;
		var p;
		p=node.parent;
		if (!p)
			return;
		var i=0,len=0;
		var cList;
		cList=p._children;
		len=cList.length;
		var tChild;
		for (i=0;i < len;i++){
			tChild=cList[i];
			if (tChild==NodeInfosItem.NodeInfoContainer)continue ;
			if (tChild !=node){
				this.saveNodeInfo(tChild);
				tChild.visible=false;
			}
		}
	}

	__proto.saveNodeInfo=function(node){
		IDTools.idObj(node);
		if(this._stateDic.hasOwnProperty(IDTools.getObjID(node)))return;
		var data;
		data={};
		data.target=node;
		data.visible=node.visible;
		this._stateDic[IDTools.getObjID(node)]=data;
	}

	__proto.recoverNodeInfo=function(node){
		IDTools.idObj(node);
		if (this._stateDic.hasOwnProperty(IDTools.getObjID(node))){
			var data;
			data=this._stateDic[IDTools.getObjID(node)];
			node["visible"]=data.visible;
		}
	}

	NodeInfoPanel.init=function(){
		if (!NodeInfoPanel.I){
			NodeInfoPanel.I=new NodeInfoPanel();
			NodeInfosItem.init();
		}
	}

	NodeInfoPanel.I=null;
	return NodeInfoPanel;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/NodeInfosItem.as=======96.999310/96.999310
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.NodeInfosItem extends laya.display.Sprite
var NodeInfosItem=(function(_super){
	function NodeInfosItem(){
		//addChild(_infoTxt);
		this._infoTxt=null;
		this._tar=null;
		NodeInfosItem.__super.call(this);
		this._infoTxt=new Text();
		this._infoTxt.color="#ff0000";
		this._infoTxt.bgColor="#00ff00";
		this._infoTxt.fontSize=12;
	}

	__class(NodeInfosItem,'laya.debug.view.nodeInfo.NodeInfosItem',_super);
	var __proto=NodeInfosItem.prototype;
	__proto.removeSelf=function(){
		this._infoTxt.removeSelf();
		return laya.display.Node.prototype.removeSelf.call(this);
	}

	__proto.showToUI=function(){
		NodeInfosItem.NodeInfoContainer.nodeRecInfoLayer.addChild(this);
		this._infoTxt.removeSelf();
		NodeInfosItem.NodeInfoContainer.txtLayer.addChild(this._infoTxt);
		this.findOkPos();
	}

	__proto.randomAPos=function(r){
		this._infoTxt.x=this.x+Laya.stage.width*Math.random();
		this._infoTxt.y=this.y+r *Math.random();
	}

	__proto.findOkPos=function(){
		var len=0;
		len=20;
		this.randomAPos(len);
		return;
		var count=0;
		count=1;
		while (!this.isPosOk()){
			count++;
			if (count >=500){
				len+=10;
				count=0;
			}
			this.randomAPos(len);
		}
	}

	__proto.isPosOk=function(){
		var tParent;
		tParent=NodeInfosItem.NodeInfoContainer.nodeRecInfoLayer;
		var i=0,len=0;
		var cList;
		cList=tParent._children;
		len=cList.length;
		var tChild;
		var mRec;
		mRec=this._infoTxt.getBounds();
		if (mRec.x < 0)return false;
		if (mRec.y < 0)return false;
		if (mRec.right > Laya.stage.width)return false;
		for (i=0;i < len;i++){
			tChild=cList[i];
			if (tChild==this._infoTxt)continue ;
			if (mRec.intersects(tChild.getBounds()))return false;
		}
		return true;
	}

	__proto.showInfo=function(node){
		this._tar=node;
		if (!node)return;
		NodeInfosItem._txts.length=0;
		var i=0,len=0;
		var tKey;
		len=NodeInfosItem.showValues.length;
		if (node.name){
			NodeInfosItem._txts.push(ClassTool.getClassName(node)+"("+node.name+")");
			}else{
			NodeInfosItem._txts.push(ClassTool.getClassName(node));
		}
		for (i=0;i < len;i++){
			tKey=NodeInfosItem.showValues[i];
			NodeInfosItem._txts.push(tKey+":"+NodeInfosItem.getNodeValue(node,tKey));
		}
		this._infoTxt.text=NodeInfosItem._txts.join("\n");
		this.graphics.clear();
		var pointList;
		pointList=node._getBoundPointsM(true);
		if(!pointList||pointList.length<1)return;
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,node.localToGlobal,node);
		pointList=GrahamScan.pointListToPlist(pointList);
		NodeInfosItem._disBoundRec=Rectangle._getWrapRec(pointList,NodeInfosItem._disBoundRec);
		this.graphics.drawRect(0,0,NodeInfosItem._disBoundRec.width,NodeInfosItem._disBoundRec.height,null,"#00ffff");
		this.pos(NodeInfosItem._disBoundRec.x,NodeInfosItem._disBoundRec.y);
	}

	__proto.fresh=function(){
		this.showInfo(this._tar);
	}

	__proto.clearMe=function(){
		this._tar=null;
	}

	__proto.recover=function(){
		Pool.recover("NodeInfosItem",this);
	}

	NodeInfosItem.init=function(){
		if (!NodeInfosItem.NodeInfoContainer){
			DebugInfoLayer.init();
			NodeInfosItem.NodeInfoContainer=DebugInfoLayer.I;
			Laya.stage.addChild(NodeInfosItem.NodeInfoContainer);
		}
	}

	NodeInfosItem.getNodeInfoByNode=function(node){
		IDTools.idObj(node);
		var key=0;
		key=IDTools.getObjID(node);
		if (!NodeInfosItem._nodeInfoDic[key]){
			NodeInfosItem._nodeInfoDic[key]=new NodeInfosItem();
		}
		return NodeInfosItem._nodeInfoDic[key];
	}

	NodeInfosItem.hideAllInfos=function(){
		var key;
		var tInfo;
		for (key in NodeInfosItem._nodeInfoDic){
			tInfo=NodeInfosItem._nodeInfoDic[key];
			tInfo.removeSelf();
		}
		NodeInfosItem.clearRelations();
	}

	NodeInfosItem.showNodeInfo=function(node){
		var nodeInfo;
		nodeInfo=NodeInfosItem.getNodeInfoByNode(node);
		nodeInfo.showInfo(node);
		nodeInfo.showToUI();
	}

	NodeInfosItem.showDisInfos=function(node){
		var _node;
		_node=node;
		if (!node)
			return;
		while (node){
			NodeInfosItem.showNodeInfo(node);
			node=node.parent;
		}
		DisControlTool.setTop(NodeInfosItem.NodeInfoContainer);
		NodeInfosItem.apdtTxtInfoPoss(_node);
		NodeInfosItem.updateRelations();
	}

	NodeInfosItem.apdtTxtInfoPoss=function(node){
		var disList;
		disList=[];
		while (node){
			disList.push(node);
			node=node.parent;
		};
		var i=0,len=0;
		var tInfo;
		var tTxt;
		len=disList.length;
		var xPos=NaN;
		xPos=Laya.stage.width-150;
		var heightLen=0;
		heightLen=100;
		node=disList[0];
		if (node){
			tInfo=NodeInfosItem.getNodeInfoByNode(node);
			if (tInfo){
				tTxt=tInfo._infoTxt;
				xPos=Laya.stage.width-tTxt.width-10;
				heightLen=tTxt.height+10;
			}
		}
		disList=disList.reverse();
		for (i=0;i < len;i++){
			node=disList[i];
			tInfo=NodeInfosItem.getNodeInfoByNode(node);
			if (tInfo){
				tTxt=tInfo._infoTxt;
				tTxt.pos(xPos,heightLen *i);
			}
		}
	}

	NodeInfosItem.clearRelations=function(){
		var g;
		g=NodeInfosItem.NodeInfoContainer.lineLayer.graphics;
		g.clear();
	}

	NodeInfosItem.updateRelations=function(){
		var g;
		g=NodeInfosItem.NodeInfoContainer.lineLayer.graphics;
		g.clear();
		var key;
		var tInfo;
		for (key in NodeInfosItem._nodeInfoDic){
			tInfo=NodeInfosItem._nodeInfoDic[key];
			if (tInfo.parent){
				g.drawLine(tInfo.x,tInfo.y,tInfo._infoTxt.x,tInfo._infoTxt.y,"#0000ff");
			}
		}
	}

	NodeInfosItem.getNodeValue=function(node,key){
		var rst;
		NodeInfosItem._nodePoint.setTo(0,0);
		switch(key){
			case "x":
				rst=node["x"]+" (g:"+node.localToGlobal(NodeInfosItem._nodePoint).x+")"
				break ;
			case "y":
				rst=node["y"]+" (g:"+node.localToGlobal(NodeInfosItem._nodePoint).y+")"
				break ;
			default :
				rst=node[key];
			}
		return rst;
	}

	NodeInfosItem.NodeInfoContainer=null;
	NodeInfosItem._nodeInfoDic={};
	NodeInfosItem._txts=[];
	__static(NodeInfosItem,
	['showValues',function(){return this.showValues=["x","y","scaleX","scaleY","width","height","visible","mouseEnabled"];},'_disBoundRec',function(){return this._disBoundRec=new Rectangle();},'_nodePoint',function(){return this._nodePoint=new Point();}
	]);
	return NodeInfosItem;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/recinfos/NodeRecInfo.as=======96.999308/96.999308
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.recinfos.NodeRecInfo extends laya.display.Sprite
var NodeRecInfo=(function(_super){
	function NodeRecInfo(){
		this.txt=null;
		this._tar=null;
		this.recColor="#00ff00";
		NodeRecInfo.__super.call(this);
		this.txt=new Text();
		this.txt.color="#ff0000";
		this.txt.bgColor="#00ff00";
		this.txt.fontSize=12;
		this.addChild(this.txt);
	}

	__class(NodeRecInfo,'laya.debug.view.nodeInfo.recinfos.NodeRecInfo',_super);
	var __proto=NodeRecInfo.prototype;
	__proto.setInfo=function(str){
		this.txt.text=str;
	}

	__proto.setTarget=function(tar){
		this._tar=tar;
	}

	__proto.showInfo=function(node){
		this._tar=node;
		if (!node)return;
		if(node.destroyed)return;
		this.graphics.clear();
		var pointList;
		pointList=node._getBoundPointsM(true);
		if(!pointList||pointList.length<1)return;
		pointList=GrahamScan.pListToPointList(pointList,true);
		WalkTools.walkArr(pointList,node.localToGlobal,node);
		pointList=GrahamScan.pointListToPlist(pointList);
		NodeRecInfo._disBoundRec=Rectangle._getWrapRec(pointList,NodeRecInfo._disBoundRec);
		this.graphics.drawRect(0,0,NodeRecInfo._disBoundRec.width,NodeRecInfo._disBoundRec.height,null,DebugConsts.RECACHE_REC_COLOR,2);
		this.pos(NodeRecInfo._disBoundRec.x,NodeRecInfo._disBoundRec.y);
	}

	__proto.fresh=function(){
		this.showInfo(this._tar);
	}

	__proto.clearMe=function(){
		this._tar=null;
	}

	__static(NodeRecInfo,
	['_disBoundRec',function(){return this._disBoundRec=new Rectangle();}
	]);
	return NodeRecInfo;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/AnimationBase.as=======96.999304/96.999304
/**
*<p>动画基类，提供了基础的动画播放控制方法和帧标签事件相关功能。</p>
*<p>可以继承此类，但不要直接实例化此类，因为有些方法需要由子类实现。</p>
*/
//class laya.display.AnimationBase extends laya.display.Sprite
var AnimationBase=(function(_super){
	function AnimationBase(){
		/**是否循环播放，调用play(...)方法时，会将此值设置为指定的参数值。*/
		this.loop=false;
		/**播放顺序类型：AnimationBase.WRAP_POSITIVE为正序播放(默认值)，AnimationBase.WRAP_REVERSE为倒序播放，AnimationBase.WRAP_PINGPONG为pingpong播放(当按指定顺序播放完结尾后，如果继续播发，则会改变播放顺序)。*/
		this.wrapMode=0;
		/**@private */
		this._index=0;
		/**@private */
		this._count=0;
		/**@private */
		this._isPlaying=false;
		/**@private */
		this._labels=null;
		/**是否是逆序播放*/
		this._isReverse=false;
		/**@private */
		this._frameRateChanged=false;
		/**@private */
		this._actionName=null;
		/**@private */
		this._controlNode=null;
		AnimationBase.__super.call(this);
		this._interval=Config.animationInterval;
		this._setBitUp(0x01);
	}

	__class(AnimationBase,'laya.display.AnimationBase',_super);
	var __proto=AnimationBase.prototype;
	/**
	*<p>开始播放动画。play(...)方法被设计为在创建实例后的任何时候都可以被调用，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否正在播放中，如果是，则进行播放。</p>
	*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>
	*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。
	*@param loop （可选）是否循环播放。
	*@param name （可选）动画名称。
	*/
	__proto.play=function(start,loop,name){
		(start===void 0)&& (start=0);
		(loop===void 0)&& (loop=true);
		(name===void 0)&& (name="");
		this._isPlaying=true;
		this._actionName=name;
		this.index=((typeof start=='string'))? this._getFrameByLabel(start):start;
		this.loop=loop;
		this._isReverse=this.wrapMode===1;
		if (this.interval > 0)this.timerLoop(this.interval,this,this._frameLoop,null,true,true);
	}

	/**@private */
	__proto._getFrameByLabel=function(label){
		for (var i=0;i < this._count;i++){
			var item=this._labels[i];
			if (item && (item).indexOf(label)>-1)return i;
		}
		return 0;
	}

	/**@private */
	__proto._frameLoop=function(){
		if (this._isReverse){
			this._index--;
			if (this._index < 0){
				if (this.loop){
					if (this.wrapMode==2){
						this._index=this._count > 0 ? 1 :0;
						this._isReverse=false;
						}else {
						this._index=this._count-1;
					}
					this.event("complete");
					}else {
					this._index=0;
					this.stop();
					this.event("complete");
					return;
				}
			}
			}else {
			this._index++;
			if (this._index >=this._count){
				if (this.loop){
					if (this.wrapMode==2){
						this._index=this._count-2 >=0 ? this._count-2 :0;
						this._isReverse=true;
						}else {
						this._index=0;
					}
					this.event("complete");
					}else {
					this._index--;
					this.stop();
					this.event("complete");
					return;
				}
			}
		}
		this.index=this._index;
	}

	/**@private */
	__proto._setControlNode=function(node){
		if (this._controlNode){
			this._controlNode.off("display",this,this._resumePlay);
			this._controlNode.off("undisplay",this,this._resumePlay);
		}
		this._controlNode=node;
		if (node && node !=this){
			node.on("display",this,this._resumePlay);
			node.on("undisplay",this,this._resumePlay);
		}
	}

	/**@private */
	__proto._setDisplay=function(value){
		_super.prototype._setDisplay.call(this,value);
		this._resumePlay();
	}

	/**@private */
	__proto._resumePlay=function(){
		if (this._isPlaying){
			if (this._controlNode.displayedInStage)this.play(this._index,this.loop,this._actionName);
			else this.clearTimer(this,this._frameLoop);
		}
	}

	/**
	*停止动画播放。
	*/
	__proto.stop=function(){
		this._isPlaying=false;
		this.clearTimer(this,this._frameLoop);
	}

	/**
	*增加一个帧标签到指定索引的帧上。当动画播放到此索引的帧时会派发Event.LABEL事件，派发事件是在完成当前帧画面更新之后。
	*@param label 帧标签名称
	*@param index 帧索引
	*/
	__proto.addLabel=function(label,index){
		if (!this._labels)this._labels={};
		if (!this._labels[index])this._labels[index]=[];
		this._labels[index].push(label);
	}

	/**
	*删除指定的帧标签。
	*@param label 帧标签名称。注意：如果为空，则删除所有帧标签！
	*/
	__proto.removeLabel=function(label){
		if (!label)this._labels=null;
		else if (this._labels){
			for (var name in this._labels){
				this._removeLabelFromList(this._labels[name],label);
			}
		}
	}

	/**@private */
	__proto._removeLabelFromList=function(list,label){
		if (!list)return;
		for (var i=list.length-1;i >=0;i--){
			if (list[i]==label){
				list.splice(i,1);
			}
		}
	}

	/**
	*将动画切换到指定帧并停在那里。
	*@param position 帧索引或帧标签
	*/
	__proto.gotoAndStop=function(position){
		this.index=((typeof position=='string'))? this._getFrameByLabel(position):position;
		this.stop();
	}

	/**
	*@private
	*显示到某帧
	*@param value 帧索引
	*/
	__proto._displayToIndex=function(value){}
	/**
	*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。
	*@return 返回对象本身
	*/
	__proto.clear=function(){
		this.stop();
		this._labels=null;
		return this;
	}

	/**
	*<p>动画播放的帧间隔时间(单位：毫秒)。默认值依赖于Config.animationInterval=50，通过Config.animationInterval可以修改默认帧间隔时间。</p>
	*<p>要想为某动画设置独立的帧间隔时间，可以使用set interval，注意：如果动画正在播放，设置后会重置帧循环定时器的起始时间为当前时间，也就是说，如果频繁设置interval，会导致动画帧更新的时间间隔会比预想的要慢，甚至不更新。</p>
	*/
	__getset(0,__proto,'interval',function(){
		return this._interval;
		},function(value){
		if (this._interval !=value){
			this._frameRateChanged=true;
			this._interval=value;
			if (this._isPlaying && value > 0){
				this.timerLoop(value,this,this._frameLoop,null,true,true);
			}
		}
	});

	/**
	*是否正在播放中。
	*/
	__getset(0,__proto,'isPlaying',function(){
		return this._isPlaying;
	});

	/**
	*动画当前帧的索引。
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		this._index=value;
		this._displayToIndex(value);
		if (this._labels && this._labels[value]){
			var tArr=this._labels[value];
			for (var i=0,len=tArr.length;i < len;i++){
				this.event("label",tArr[i]);
			}
		}
	});

	/**
	*当前动画中帧的总数。
	*/
	__getset(0,__proto,'count',function(){
		return this._count;
	});

	AnimationBase.WRAP_POSITIVE=0;
	AnimationBase.WRAP_REVERSE=1;
	AnimationBase.WRAP_PINGPONG=2;
	return AnimationBase;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/BaseCamera.as=======96.999294/96.999294
/**
*<code>BaseCamera</code> 类用于创建摄像机的父类。
*/
//class laya.d3.core.BaseCamera extends laya.d3.core.Sprite3D
var BaseCamera=(function(_super){
	function BaseCamera(nearPlane,farPlane){
		/**@private 渲染顺序。*/
		//this._renderingOrder=0;
		/**@private 近裁剪面。*/
		//this._nearPlane=NaN;
		/**@private 远裁剪面。*/
		//this._farPlane=NaN;
		/**@private 视野。*/
		//this._fieldOfView=NaN;
		/**@private 正交投影的垂直尺寸。*/
		//this._orthographicVerticalSize=NaN;
		/**@private */
		//this._skyboxMaterial=null;
		/**@private */
		//this._orthographic=false;
		/**@private 渲染目标。*/
		//this._renderTarget=null;
		/**@private 是否使用用户自定义投影矩阵，如果使用了用户投影矩阵，摄像机投影矩阵相关的参数改变则不改变投影矩阵的值，需调用ResetProjectionMatrix方法。*/
		//this._useUserProjectionMatrix=false;
		/**@private */
		//this._shaderValues=null;
		/**@private [只读] 需先调用viewport保证值正确。*/
		//this._canvasWidth=NaN;
		/**@private [只读] 需先调用viewport保证值正确。*/
		//this._canvasHeight=NaN;
		/**清楚标记。*/
		//this.clearFlag=0;
		/**摄像机的清除颜色。*/
		//this.clearColor=null;
		/**可视遮罩图层。 */
		//this.cullingMask=0;
		/**渲染时是否用遮挡剔除。 */
		//this.useOcclusionCulling=false;
		BaseCamera.__super.call(this);
		(nearPlane===void 0)&& (nearPlane=0.3);
		(farPlane===void 0)&& (farPlane=1000);
		this._shaderValues=new ShaderDatas(null,14);
		this._fieldOfView=60;
		this._useUserProjectionMatrix=false;
		this._orthographic=false;
		this._orthographicVerticalSize=10;
		this.renderingOrder=0;
		this._nearPlane=nearPlane;
		this._farPlane=farPlane;
		this.cullingMask=2147483647;
		this.clearFlag=0;
		this.useOcclusionCulling=true;
		this._calculateProjectionMatrix();
		Laya.stage.on("resize",this,this._onScreenSizeChanged);
	}

	__class(BaseCamera,'laya.d3.core.BaseCamera',_super);
	var __proto=BaseCamera.prototype;
	/**
	*通过RenderingOrder属性对摄像机机型排序。
	*/
	__proto._sortCamerasByRenderingOrder=function(){
		if (this.displayedInStage){
			var cameraPool=this.scene._cameraPool;
			var n=cameraPool.length-1;
			for (var i=0;i < n;i++){
				if (cameraPool[i].renderingOrder > cameraPool[n].renderingOrder){
					var tempCamera=cameraPool[i];
					cameraPool[i]=cameraPool[n];
					cameraPool[n]=tempCamera;
				}
			}
		}
	}

	/**
	*@private
	*/
	__proto._calculateProjectionMatrix=function(){}
	/**
	*@private
	*/
	__proto._onScreenSizeChanged=function(){
		this._calculateProjectionMatrix();
	}

	/**
	*@private
	*/
	__proto._prepareCameraToRender=function(){
		Layer._currentCameraCullingMask=this.cullingMask;
		var cameraSV=this._shaderValues;
		cameraSV.setVector(0,this.transform.position);
		cameraSV.setVector(5,this.transform.forward);
		cameraSV.setVector(6,this.transform.up);
	}

	/**
	*@private
	*/
	__proto._prepareCameraViewProject=function(vieMat,proMat,vieProNoTraSca){
		var cameraSV=this._shaderValues;
		cameraSV.setMatrix4x4(1,vieMat);
		cameraSV.setMatrix4x4(2,proMat);
		this.transform.worldMatrix.cloneTo(BaseCamera._tempMatrix4x40);
		BaseCamera._tempMatrix4x40.transpose();
		Matrix4x4.multiply(proMat,BaseCamera._tempMatrix4x40,vieProNoTraSca);
		cameraSV.setMatrix4x4(4,vieProNoTraSca);
	}

	/**
	*@private
	*/
	__proto._render=function(gl,context,scene){}
	/**
	*增加可视图层。
	*@param layer 图层。
	*/
	__proto.addLayer=function(layer){
		this.cullingMask=this.cullingMask | layer.mask;
	}

	/**
	*移除可视图层。
	*@param layer 图层。
	*/
	__proto.removeLayer=function(layer){
		this.cullingMask=this.cullingMask & ~layer.mask;
	}

	/**
	*增加所有图层。
	*/
	__proto.addAllLayers=function(){
		this.cullingMask=2147483647;
	}

	/**
	*移除所有图层。
	*/
	__proto.removeAllLayers=function(){
		this.cullingMask=0;
	}

	__proto.resetProjectionMatrix=function(){
		this._useUserProjectionMatrix=false;
		this._calculateProjectionMatrix();
	}

	/**
	*@inheritDoc
	*/
	__proto._onActive=function(){
		this._scene._addCamera(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._onInActive=function(){
		this._scene._removeCamera(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		_super.prototype._parse.call(this,data,innerResouMap);
		var color=data.clearColor;
		this.clearColor=new Vector4(color[0],color[1],color[2],color[3]);
		var skyboxMaterial=data.skyboxMaterial;
		(skyboxMaterial)&& (this._skyboxMaterial=Loader.getRes(innerResouMap[skyboxMaterial.path]));
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._skyboxMaterial._removeReference();
		this._skyboxMaterial=null;
		this.renderTarget=null;
		Laya.stage.off("resize",this,this._onScreenSizeChanged);
		_super.prototype.destroy.call(this,destroyChild);
	}

	/**
	*设置天空盒材质。
	*@param 天空盒材质。
	*/
	/**
	*获取天空盒材质。
	*@return 天空盒材质。
	*/
	__getset(0,__proto,'skyboxMaterial',function(){
		return this._skyboxMaterial;
		},function(value){
		if (this._skyboxMaterial!==value){
			(this._skyboxMaterial)&& (this._skyboxMaterial._removeReference());
			value._addReference();
			this._skyboxMaterial=value;
		}
	});

	/**
	*设置远裁面。
	*@param value 远裁面。
	*/
	/**
	*获取远裁面。
	*@return 远裁面。
	*/
	__getset(0,__proto,'farPlane',function(){
		return this._farPlane;
		},function(vaule){
		this._farPlane=vaule;
		this._calculateProjectionMatrix();
	});

	/**
	*设置渲染场景的渲染目标。
	*@param value 渲染场景的渲染目标。
	*/
	/**
	*获取渲染场景的渲染目标。
	*@return 渲染场景的渲染目标。
	*/
	__getset(0,__proto,'renderTarget',function(){
		return this._renderTarget;
		},function(value){
		this._renderTarget=value;
	});

	/**
	*设置是否正交投影矩阵。
	*@param 是否正交投影矩阵。
	*/
	/**
	*获取是否正交投影矩阵。
	*@return 是否正交投影矩阵。
	*/
	__getset(0,__proto,'orthographic',function(){
		return this._orthographic;
		},function(vaule){
		this._orthographic=vaule;
		this._calculateProjectionMatrix();
	});

	/**
	*设置视野。
	*@param value 视野。
	*/
	/**
	*获取视野。
	*@return 视野。
	*/
	__getset(0,__proto,'fieldOfView',function(){
		return this._fieldOfView;
		},function(value){
		this._fieldOfView=value;
		this._calculateProjectionMatrix();
	});

	/**
	*设置近裁面。
	*@param value 近裁面。
	*/
	/**
	*获取近裁面。
	*@return 近裁面。
	*/
	__getset(0,__proto,'nearPlane',function(){
		return this._nearPlane;
		},function(value){
		this._nearPlane=value;
		this._calculateProjectionMatrix();
	});

	/**
	*设置正交投影垂直矩阵尺寸。
	*@param 正交投影垂直矩阵尺寸。
	*/
	/**
	*获取正交投影垂直矩阵尺寸。
	*@return 正交投影垂直矩阵尺寸。
	*/
	__getset(0,__proto,'orthographicVerticalSize',function(){
		return this._orthographicVerticalSize;
		},function(vaule){
		this._orthographicVerticalSize=vaule;
		this._calculateProjectionMatrix();
	});

	__getset(0,__proto,'renderingOrder',function(){
		return this._renderingOrder;
		},function(value){
		this._renderingOrder=value;
		this._sortCamerasByRenderingOrder();
	});

	BaseCamera.CAMERAPOS=0;
	BaseCamera.VIEWMATRIX=1;
	BaseCamera.PROJECTMATRIX=2;
	BaseCamera.VPMATRIX=3;
	BaseCamera.VPMATRIX_NO_TRANSLATE=4;
	BaseCamera.CAMERADIRECTION=5;
	BaseCamera.CAMERAUP=6;
	BaseCamera.ENVIRONMENTDIFFUSE=7;
	BaseCamera.ENVIRONMENTSPECULAR=8;
	BaseCamera.SIMLODINFO=9;
	BaseCamera.DIFFUSEIRRADMATR=10;
	BaseCamera.DIFFUSEIRRADMATG=11;
	BaseCamera.DIFFUSEIRRADMATB=12;
	BaseCamera.HDREXPOSURE=13;
	BaseCamera.RENDERINGTYPE_DEFERREDLIGHTING="DEFERREDLIGHTING";
	BaseCamera.RENDERINGTYPE_FORWARDRENDERING="FORWARDRENDERING";
	BaseCamera.CLEARFLAG_SOLIDCOLOR=0;
	BaseCamera.CLEARFLAG_SKY=1;
	BaseCamera.CLEARFLAG_DEPTHONLY=2;
	BaseCamera.CLEARFLAG_NONE=3;
	__static(BaseCamera,
	['_tempMatrix4x40',function(){return this._tempMatrix4x40=new Matrix4x4();},'_invertYScaleMatrix',function(){return this._invertYScaleMatrix=new Matrix4x4(1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1);},'_invertYProjectionMatrix',function(){return this._invertYProjectionMatrix=new Matrix4x4();},'_invertYProjectionViewMatrix',function(){return this._invertYProjectionViewMatrix=new Matrix4x4();}
	]);
	return BaseCamera;
})(Sprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/light/LightSprite.as=======96.999286/96.999286
/**
*<code>LightSprite</code> 类用于创建灯光的父类。
*/
//class laya.d3.core.light.LightSprite extends laya.d3.core.Sprite3D
var LightSprite=(function(_super){
	function LightSprite(){
		/**@private */
		this._intensityColor=null;
		/**@private */
		this._intensity=NaN;
		/**@private */
		this._shadow=false;
		/**@private */
		this._shadowFarPlane=0;
		/**@private */
		this._shadowMapSize=0;
		/**@private */
		this._shadowMapCount=0;
		/**@private */
		this._shadowMapPCFType=0;
		/**@private */
		this._parallelSplitShadowMap=null;
		/**@private */
		this._lightmapBakedType=0;
		/**灯光颜色。 */
		this.color=null;
		LightSprite.__super.call(this);
		this._intensity=1.0;
		this._intensityColor=new Vector3();
		this.color=new Vector3(1.0,1.0,1.0);
		this._shadow=false;
		this._shadowFarPlane=8;
		this._shadowMapSize=512;
		this._shadowMapCount=1;
		this._shadowMapPCFType=0;
		this._lightmapBakedType=LightSprite.LIGHTMAPBAKEDTYPE_REALTIME;
	}

	__class(LightSprite,'laya.d3.core.light.LightSprite',_super);
	var __proto=LightSprite.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		_super.prototype._parse.call(this,data,innerResouMap);
		var colorData=data.color;
		this.color.fromArray(colorData);
	}

	/**
	*@inheritDoc
	*/
	__proto._onActive=function(){
		(this.lightmapBakedType!==LightSprite.LIGHTMAPBAKEDTYPE_BAKED)&& (this._scene._addLight(this));
	}

	/**
	*@inheritDoc
	*/
	__proto._onInActive=function(){
		(this.lightmapBakedType!==LightSprite.LIGHTMAPBAKEDTYPE_BAKED)&& (this._scene._removeLight(this));
	}

	/**
	*更新灯光相关渲染状态参数。
	*@param state 渲染状态参数。
	*/
	__proto._prepareToScene=function(state){
		return false;
	}

	/**
	*设置灯光烘培类型。
	*/
	/**
	*获取灯光烘培类型。
	*/
	__getset(0,__proto,'lightmapBakedType',function(){
		return this._lightmapBakedType;
		},function(value){
		if (this._lightmapBakedType!==value){
			this._lightmapBakedType=value;
			if (this._activeInHierarchy){
				if (value!==LightSprite.LIGHTMAPBAKEDTYPE_BAKED)
					this._scene._addLight(this);
				else
				this._scene._removeLight(this);
			}
		}
	});

	/**
	*设置阴影PCF类型。
	*@param value PCF类型。
	*/
	/**
	*获取阴影PCF类型。
	*@return PCF类型。
	*/
	__getset(0,__proto,'shadowPCFType',function(){
		return this._shadowMapPCFType;
		},function(value){
		this._shadowMapPCFType=value;
		(this._parallelSplitShadowMap)&& (this._parallelSplitShadowMap.setPCFType(value));
	});

	/**
	*设置灯光强度。
	*@param value 灯光强度
	*/
	/**
	*获取灯光强度。
	*@return 灯光强度
	*/
	__getset(0,__proto,'intensity',function(){
		return this._intensity;
		},function(value){
		this._intensity=value;
	});

	/**
	*设置是否产生阴影。
	*@param value 是否产生阴影。
	*/
	/**
	*获取是否产生阴影。
	*@return 是否产生阴影。
	*/
	__getset(0,__proto,'shadow',function(){
		return this._shadow;
		},function(value){
		throw new Error("LightSprite: must override it.");
	});

	/**
	*设置阴影最远范围。
	*@param value 阴影最远范围。
	*/
	/**
	*获取阴影最远范围。
	*@return 阴影最远范围。
	*/
	__getset(0,__proto,'shadowDistance',function(){
		return this._shadowFarPlane;
		},function(value){
		this._shadowFarPlane=value;
		(this._parallelSplitShadowMap)&& (this._parallelSplitShadowMap.setFarDistance(value));
	});

	/**
	*设置阴影分段数。
	*@param value 阴影分段数。
	*/
	/**
	*获取阴影分段数。
	*@return 阴影分段数。
	*/
	__getset(0,__proto,'shadowPSSMCount',function(){
		return this._shadowMapCount;
		},function(value){
		this._shadowMapCount=value;
		(this._parallelSplitShadowMap)&& (this._parallelSplitShadowMap.shadowMapCount=value);
	});

	/**
	*设置阴影贴图尺寸。
	*@param value 阴影贴图尺寸。
	*/
	/**
	*获取阴影贴图尺寸。
	*@return 阴影贴图尺寸。
	*/
	__getset(0,__proto,'shadowResolution',function(){
		return this._shadowMapSize;
		},function(value){
		this._shadowMapSize=value;
		(this._parallelSplitShadowMap)&& (this._parallelSplitShadowMap.setShadowMapTextureSize(value));
	});

	/**
	*设置灯光的漫反射颜色。
	*@param value 灯光的漫反射颜色。
	*/
	/**
	*获取灯光的漫反射颜色。
	*@return 灯光的漫反射颜色。
	*/
	__getset(0,__proto,'diffuseColor',function(){
		console.log("LightSprite: discard property,please use color property instead.");
		return this.color;
		},function(value){
		console.log("LightSprite: discard property,please use color property instead.");
		this.color=value;
	});

	LightSprite.LIGHTMAPBAKEDTYPE_REALTIME=0;
	LightSprite.LIGHTMAPBAKEDTYPE_MIXED=1;
	LightSprite.LIGHTMAPBAKEDTYPE_BAKED=2;
	return LightSprite;
})(Sprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/RenderableSprite3D.as=======96.999268/96.999268
/**
*<code>RenderableSprite3D</code> 类用于可渲染3D精灵的父类，抽象类不允许实例。
*/
//class laya.d3.core.RenderableSprite3D extends laya.d3.core.Sprite3D
var RenderableSprite3D=(function(_super){
	function RenderableSprite3D(name){
		/**@private */
		this._render=null;
		RenderableSprite3D.__super.call(this,name)
	}

	__class(RenderableSprite3D,'laya.d3.core.RenderableSprite3D',_super);
	var __proto=RenderableSprite3D.prototype;
	/**@private */
	__proto._onInActive=function(){
		this._scene._removeRenderObject(this._render);
		(this._render.castShadow)&& (this._scene._removeShadowCastRenderObject(this._render));
	}

	/**@private */
	__proto._onActive=function(){
		_super.prototype._onActive.call(this);
		this._scene._addRenderObject(this._render);
		(this._render.castShadow)&& (this._scene._addShadowCastRenderObject(this._render));
	}

	/**
	*@private
	*/
	__proto._addToInitStaticBatchManager=function(){}
	/**
	*@inheritDoc
	*/
	__proto._setBelongScene=function(scene){
		laya.display.Node.prototype._setBelongScene.call(this,scene);
		this._render._setBelongScene(scene);
	}

	/**
	*@inheritDoc
	*/
	__proto._setUnBelongScene=function(){
		this._render._defineDatas.remove(laya.d3.core.RenderableSprite3D.SAHDERDEFINE_LIGHTMAP);
		laya.display.Node.prototype._setUnBelongScene.call(this);
	}

	/**
	*@inheritDoc
	*/
	__proto._changeHierarchyAnimator=function(animator){
		if (this._hierarchyAnimator){
			var renderableSprites=this._hierarchyAnimator._renderableSprites;
			renderableSprites.splice(renderableSprites.indexOf(this),1);
		}
		if (animator)
			animator._renderableSprites.push(this);
		_super.prototype._changeHierarchyAnimator.call(this,animator);
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._render._destroy();
		this._render=null;
	}

	RenderableSprite3D.__init__=function(){
		RenderableSprite3D.SHADERDEFINE_RECEIVE_SHADOW=RenderableSprite3D.shaderDefines.registerDefine("RECEIVESHADOW");
		RenderableSprite3D.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=RenderableSprite3D.shaderDefines.registerDefine("SCALEOFFSETLIGHTINGMAPUV");
		RenderableSprite3D.SAHDERDEFINE_LIGHTMAP=RenderableSprite3D.shaderDefines.registerDefine("LIGHTMAP");
	}

	RenderableSprite3D.SHADERDEFINE_RECEIVE_SHADOW=0;
	RenderableSprite3D.SHADERDEFINE_SCALEOFFSETLIGHTINGMAPUV=0;
	RenderableSprite3D.SAHDERDEFINE_LIGHTMAP=0;
	RenderableSprite3D.LIGHTMAPSCALEOFFSET=2;
	RenderableSprite3D.LIGHTMAP=3;
	__static(RenderableSprite3D,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines();}
	]);
	return RenderableSprite3D;
})(Sprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Scene.as=======96.999253/96.999253
/**
*场景类，负责场景创建，加载，销毁等功能
*/
//class laya.display.Scene extends laya.display.Sprite
var Scene=(function(_super){
	//public var timer:Timer=Laya.renderTimer;
	function Scene(){
		Scene.__super.call(this);
		this.createChildren();
	}

	__class(Scene,'laya.display.Scene',_super);
	var __proto=Scene.prototype;
	/**
	*<p>创建并添加控件子节点。</p>
	*@internal 子类可在此函数内创建并添加子节点。
	*/
	__proto.createChildren=function(){}
	/**
	*@private
	*通过视图数据创建视图。
	*@param uiView 视图数据信息。
	*/
	__proto.createView=function(view){
		view && SceneUtils.createByData(this,view);
	}

	/**
	*@private
	*装载场景视图。用于加载模式。
	*@param path 场景地址。
	*/
	__proto.loadScene=function(path){
		var url=(/*no*/this.GameConfig.sceneRoot?/*no*/this.GameConfig.sceneRoot+"/":"")+path+".scene";
		var view=Laya.loader.getRes(url);
		if (view){
			this.createView(view);
			}else {
			Laya.loader.load(url,Handler.create(this,this.createView),null,"json");
		}
		Laya.stage.addChild(this);
	}

	Scene.load=function(url){
		Laya.loader.load(url,Handler.create(null,Scene._onSceneLoaded),null,"json");
	}

	Scene._onSceneLoaded=function(obj){
		if (obj){
			Laya.loader.resetProgress();
			var runtime=(obj.props && obj.props.runtime)? obj.props.runtime :obj.type;
			var scene=ClassUtils.getInstance(runtime);
			scene.createView(obj);
			Laya.stage.addChild(scene);
			return scene;
		}
		return null;
	}

	Scene.create=function(sceneClass){
		if (sceneClass){
			var scene=new sceneClass();
			Laya.stage.addChild(scene);
			return scene;
		}
		return null;
	}

	return Scene;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Stage.as=======96.999251/96.999251
/**
*<p> <code>Stage</code> 是舞台类，显示列表的根节点，所有显示对象都在舞台上显示。通过 Laya.stage 单例访问。</p>
*<p>Stage提供几种适配模式，不同的适配模式会产生不同的画布大小，画布越大，渲染压力越大，所以要选择合适的适配方案。</p>
*<p>Stage提供不同的帧率模式，帧率越高，渲染压力越大，越费电，合理使用帧率甚至动态更改帧率有利于改进手机耗电。</p>
*/
//class laya.display.Stage extends laya.display.Sprite
var Stage=(function(_super){
	function Stage(){
		/**当前焦点对象，此对象会影响当前键盘事件的派发主体。*/
		this.focus=null;
		/**帧率类型，支持三种模式：fast-60帧(默认)，slow-30帧，mouse-30帧（鼠标活动后会自动加速到60，鼠标不动2秒后降低为30帧，以节省消耗），sleep-1帧。*/
		this.frameRate="fast";
		/**设计宽度（初始化时设置的宽度Laya.init(width,height)）*/
		this.designWidth=0;
		/**设计高度（初始化时设置的高度Laya.init(width,height)）*/
		this.designHeight=0;
		/**画布是否发生翻转。*/
		this.canvasRotation=false;
		/**画布的旋转角度。*/
		this.canvasDegree=0;
		/**
		*<p>设置是否渲染，设置为false，可以停止渲染，画面会停留到最后一次渲染上，减少cpu消耗，此设置不影响时钟。</p>
		*<p>比如非激活状态，可以设置renderingEnabled=false以节省消耗。</p>
		**/
		this.renderingEnabled=true;
		/**是否启用屏幕适配，可以适配后，在某个时候关闭屏幕适配，防止某些操作导致的屏幕意外改变*/
		this.screenAdaptationEnabled=true;
		/**@private */
		this._screenMode="none";
		/**@private */
		this._scaleMode="noscale";
		/**@private */
		this._alignV="top";
		/**@private */
		this._alignH="left";
		/**@private */
		this._bgColor="black";
		/**@private */
		this._mouseMoveTime=0;
		/**@private */
		this._renderCount=0;
		/**@private */
		this._safariOffsetY=0;
		/**@private */
		this._frameStartTime=NaN;
		/**@private */
		this._isFocused=false;
		/**@private */
		this._isVisibility=false;
		/**@private webgl Color*/
		this._wgColor=[0,0,0,1];
		Stage.__super.call(this);
		this.offset=new Point();
		this._canvasTransform=new Matrix();
		this._previousOrientation=Browser.window.orientation;
		var _$this=this;
		this.transform=Matrix.create();
		this.mouseEnabled=true;
		this.hitTestPrior=true;
		this.autoSize=false;
		this._setBit(0x08,true);
		this._isFocused=true;
		this._isVisibility=true;
		this._activeInHierarchy=true;
		var window=Browser.window;
		var _this=this;
		window.addEventListener("focus",function(){
			_$this._isFocused=true;
			_this.event("focus");
			_this.event("focuschange");
		});
		window.addEventListener("blur",function(){
			_$this._isFocused=false;
			_this.event("blur");
			_this.event("focuschange");
			if (_this._isInputting())Input["inputElement"].target.focus=false;
		});
		var hidden="hidden",state="visibilityState",visibilityChange="visibilitychange";
		var document=window.document;
		if (typeof document.hidden!=="undefined"){
			visibilityChange="visibilitychange";
			state="visibilityState";
			}else if (typeof document.mozHidden!=="undefined"){
			visibilityChange="mozvisibilitychange";
			state="mozVisibilityState";
			}else if (typeof document.msHidden!=="undefined"){
			visibilityChange="msvisibilitychange";
			state="msVisibilityState";
			}else if (typeof document.webkitHidden!=="undefined"){
			visibilityChange="webkitvisibilitychange";
			state="webkitVisibilityState";
		}
		window.document.addEventListener(visibilityChange,visibleChangeFun);
		function visibleChangeFun (){
			if (Browser.document[state]=="hidden"){
				_$this._isVisibility=false;
				if (_this._isInputting())Input["inputElement"].target.focus=false;
				}else {
				_$this._isVisibility=true;
			}
			_$this.renderingEnabled=_$this._isVisibility;
			_this.event("visibilitychange");
		}
		window.addEventListener("resize",function(){
			var orientation=Browser.window.orientation;
			if (orientation !=null && orientation !=_$this._previousOrientation && _this._isInputting()){
				Input["inputElement"].target.focus=false;
			}
			_$this._previousOrientation=orientation;
			if (_this._isInputting())return;
			if (Browser.onSafari)
				_this._safariOffsetY=(Browser.window.__innerHeight || Browser.document.body.clientHeight || Browser.document.documentElement.clientHeight)-Browser.window.innerHeight;
			_this._resetCanvas();
		});
		window.addEventListener("orientationchange",function(e){
			_this._resetCanvas();
		});
		this.on("mousemove",this,this._onmouseMove);
		if (Browser.onMobile)this.on("mousedown",this,this._onmouseMove);
	}

	__class(Stage,'laya.display.Stage',_super);
	var __proto=Stage.prototype;
	/**
	*@private
	*在移动端输入时，输入法弹出期间不进行画布尺寸重置。
	*/
	__proto._isInputting=function(){
		return (Browser.onMobile && Input.isInputting);
	}

	/**@private */
	__proto._changeCanvasSize=function(){
		this.setScreenSize(Browser.clientWidth *Browser.pixelRatio,Browser.clientHeight *Browser.pixelRatio);
	}

	/**@private */
	__proto._resetCanvas=function(){
		if (!this.screenAdaptationEnabled)return;
		var canvas=Render._mainCanvas;
		var canvasStyle=canvas.source.style;
		canvas.size(1,1);
		Laya.timer.once(100,this,this._changeCanvasSize);
	}

	/**
	*设置屏幕大小，场景会根据屏幕大小进行适配。可以动态调用此方法，来更改游戏显示的大小。
	*@param screenWidth 屏幕宽度。
	*@param screenHeight 屏幕高度。
	*/
	__proto.setScreenSize=function(screenWidth,screenHeight){
		var rotation=false;
		if (this._screenMode!=="none"){
			var screenType=screenWidth / screenHeight < 1 ? "vertical" :"horizontal";
			rotation=screenType!==this._screenMode;
			if (rotation){
				var temp=screenHeight;
				screenHeight=screenWidth;
				screenWidth=temp;
			}
		}
		this.canvasRotation=rotation;
		var canvas=Render._mainCanvas;
		var canvasStyle=canvas.source.style;
		var mat=this._canvasTransform.identity();
		var scaleMode=this._scaleMode;
		var scaleX=screenWidth / this.designWidth;
		var scaleY=screenHeight / this.designHeight;
		var canvasWidth=this.designWidth;
		var canvasHeight=this.designHeight;
		var realWidth=screenWidth;
		var realHeight=screenHeight;
		var pixelRatio=Browser.pixelRatio;
		this._width=this.designWidth;
		this._height=this.designHeight;
		switch (scaleMode){
			case "noscale":
				scaleX=scaleY=1;
				realWidth=this.designWidth;
				realHeight=this.designHeight;
				break ;
			case "showall":
				scaleX=scaleY=Math.min(scaleX,scaleY);
				canvasWidth=realWidth=Math.round(this.designWidth *scaleX);
				canvasHeight=realHeight=Math.round(this.designHeight *scaleY);
				break ;
			case "noborder":
				scaleX=scaleY=Math.max(scaleX,scaleY);
				realWidth=Math.round(this.designWidth *scaleX);
				realHeight=Math.round(this.designHeight *scaleY);
				break ;
			case "full":
				scaleX=scaleY=1;
				this._width=canvasWidth=screenWidth;
				this._height=canvasHeight=screenHeight;
				break ;
			case "fixedwidth":
				scaleY=scaleX;
				this._height=canvasHeight=Math.round(screenHeight / scaleX);
				break ;
			case "fixedheight":
				scaleX=scaleY;
				this._width=canvasWidth=Math.round(screenWidth / scaleY);
				break ;
			case "fixedauto":
				if ((screenWidth / screenHeight)< (this.designWidth / this.designHeight)){
					scaleY=scaleX;
					this._height=canvasHeight=Math.round(screenHeight / scaleX);
					}else {
					scaleX=scaleY;
					this._width=canvasWidth=Math.round(screenWidth / scaleY);
				}
				break ;
			}
		scaleX *=this.scaleX;
		scaleY *=this.scaleY;
		if (scaleX===1 && scaleY===1){
			this.transform.identity();
			}else {
			this.transform.a=this._formatData(scaleX / (realWidth / canvasWidth));
			this.transform.d=this._formatData(scaleY / (realHeight / canvasHeight));
		}
		canvas.size(canvasWidth,canvasHeight);
		RunDriver.changeWebGLSize(canvasWidth,canvasHeight);
		mat.scale(realWidth / canvasWidth / pixelRatio,realHeight / canvasHeight / pixelRatio);
		if (this._alignH==="left")this.offset.x=0;
		else if (this._alignH==="right")this.offset.x=screenWidth-realWidth;
		else this.offset.x=(screenWidth-realWidth)*0.5 / pixelRatio;
		if (this._alignV==="top")this.offset.y=0;
		else if (this._alignV==="bottom")this.offset.y=screenHeight-realHeight;
		else this.offset.y=(screenHeight-realHeight)*0.5 / pixelRatio;
		this.offset.x=Math.round(this.offset.x);
		this.offset.y=Math.round(this.offset.y);
		mat.translate(this.offset.x,this.offset.y);
		if (this._safariOffsetY)mat.translate(0,this._safariOffsetY);
		this.canvasDegree=0;
		if (rotation){
			if (this._screenMode==="horizontal"){
				mat.rotate(Math.PI / 2);
				mat.translate(screenHeight / pixelRatio,0);
				this.canvasDegree=90;
				}else {
				mat.rotate(-Math.PI / 2);
				mat.translate(0,screenWidth / pixelRatio);
				this.canvasDegree=-90;
			}
		}
		mat.a=this._formatData(mat.a);
		mat.d=this._formatData(mat.d);
		mat.tx=this._formatData(mat.tx);
		mat.ty=this._formatData(mat.ty);
		canvasStyle.transformOrigin=canvasStyle.webkitTransformOrigin=canvasStyle.msTransformOrigin=canvasStyle.mozTransformOrigin=canvasStyle.oTransformOrigin="0px 0px 0px";
		canvasStyle.transform=canvasStyle.webkitTransform=canvasStyle.msTransform=canvasStyle.mozTransform=canvasStyle.oTransform="matrix("+mat.toString()+")";
		if (this._safariOffsetY)mat.translate(0,-this._safariOffsetY);
		mat.translate(parseInt(canvasStyle.left)|| 0,parseInt(canvasStyle.top)|| 0);
		this.visible=true;
		this._repaint |=0x02;
		this.event("resize");
	}

	/**@private */
	__proto._formatData=function(value){
		if (Math.abs(value)< 0.000001)return 0;
		if (Math.abs(1-value)< 0.001)return value > 0 ? 1 :-1;
		return value;
	}

	/**@inheritDoc */
	__proto.getMousePoint=function(){
		return Point.TEMP.setTo(this.mouseX,this.mouseY);
	}

	/**@inheritDoc */
	__proto.repaint=function(type){
		(type===void 0)&& (type=0x02);
		this._repaint |=type;
	}

	/**@inheritDoc */
	__proto.repaintForNative=function(type){
		(type===void 0)&& (type=0x02);
		this.data._int32Data[3] |=type;
	}

	/**@inheritDoc */
	__proto.parentRepaint=function(type){
		(type===void 0)&& (type=0x02);
	}

	/**@private */
	__proto._loop=function(){
		this.render(Render._context,0,0);
		return true;
	}

	/**@private */
	__proto._onmouseMove=function(e){
		this._mouseMoveTime=Browser.now();
	}

	/**
	*<p>获得距当前帧开始后，过了多少时间，单位为毫秒。</p>
	*<p>可以用来判断函数内时间消耗，通过合理控制每帧函数处理消耗时长，避免一帧做事情太多，对复杂计算分帧处理，能有效降低帧率波动。</p>
	*/
	__proto.getTimeFromFrameStart=function(){
		return Browser.now()-this._frameStartTime;
	}

	/**@inheritDoc */
	__proto.render=function(context,x,y){
		if (this.frameRate==="sleep"){
			var now=Browser.now();
			if (now-this._frameStartTime >=1000)this._frameStartTime=now;
			else return;
		}
		this._renderCount++;
		if (!this._visible){
			if (this._renderCount % 5===0){
				Stat.loopCount++;
				Laya.startTimer._update();
				Laya.physicsTimer._update();
				MouseManager.instance.runEvent();
				Laya.timer._update();
				Laya.updateTimer._update();
				Laya.lateTimer._update();
				Laya.renderTimer._update();
			}
			return;
		}
		this._frameStartTime=Browser.now();
		var frameMode=this.frameRate==="mouse" ? (((this._frameStartTime-this._mouseMoveTime)< 2000)? "fast" :"slow"):this.frameRate;
		var isFastMode=(frameMode!=="slow");
		var isDoubleLoop=(this._renderCount % 2===0);
		Stat.renderSlow=!isFastMode;
		Stat.mesh2DNum=0;
		if (isFastMode || isDoubleLoop){
			Stat.loopCount++;
			Laya.startTimer._update();
			Laya.physicsTimer._update();
			MouseManager.instance.runEvent();
			Laya.timer._update();
			Laya.updateTimer._update();
			Laya.lateTimer._update();
			Laya.renderTimer._update();
			if (Render.isWebGL && this.renderingEnabled){
				context.clear();
				_super.prototype.render.call(this,context,x,y);
			}
		}
		if (this.renderingEnabled && (isFastMode || !isDoubleLoop)){
			if (Render.isWebGL){
				RunDriver.clear(this._bgColor);
				context.flush();
				VectorGraphManager.instance && VectorGraphManager.getInstance().endDispose();
				}else {
				RunDriver.clear(this._bgColor);
				_super.prototype.render.call(this,context,x,y);
				Render.isConchApp && context.commit();
			}
		}
	}

	/**@private */
	__proto._requestFullscreen=function(){
		var element=Browser.document.documentElement;
		if (element.requestFullscreen){
			element.requestFullscreen();
			}else if (element.mozRequestFullScreen){
			element.mozRequestFullScreen();
			}else if (element.webkitRequestFullscreen){
			element.webkitRequestFullscreen();
			}else if (element.msRequestFullscreen){
			element.msRequestFullscreen();
		}
	}

	/**@private */
	__proto._fullScreenChanged=function(){
		Laya.stage.event("fullscreenchange");
	}

	/**退出全屏模式*/
	__proto.exitFullscreen=function(){
		var document=Browser.document;
		if (document.exitFullscreen){
			document.exitFullscreen();
			}else if (document.mozCancelFullScreen){
			document.mozCancelFullScreen();
			}else if (document.webkitExitFullscreen){
			document.webkitExitFullscreen();
		}
	}

	/**当前视窗由缩放模式导致的 Y 轴缩放系数。*/
	__getset(0,__proto,'clientScaleY',function(){
		return this._transform ? this._transform.getScaleY():1;
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		this.designWidth=value;
		Laya.superSet(Sprite,this,'width',value);
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**
	*舞台是否获得焦点。
	*/
	__getset(0,__proto,'isFocused',function(){
		return this._isFocused;
	});

	/**
	*<p>水平对齐方式。默认值为"left"。</p>
	*<p><ul>取值范围：
	*<li>"left" ：居左对齐；</li>
	*<li>"center" ：居中对齐；</li>
	*<li>"right" ：居右对齐；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'alignH',function(){
		return this._alignH;
		},function(value){
		this._alignH=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		this.designHeight=value;
		Laya.superSet(Sprite,this,'height',value);
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	__getset(0,__proto,'transform',function(){
		if (this._tfChanged)this._adjustTransform();
		return this._transform=this._transform|| this._createTransform();
	},_super.prototype._$set_transform);

	/**
	*舞台是否处于可见状态(是否进入后台)。
	*/
	__getset(0,__proto,'isVisibility',function(){
		return this._isVisibility;
	});

	/**
	*<p>缩放模式。默认值为 "noscale"。</p>
	*<p><ul>取值范围：
	*<li>"noscale" ：不缩放；</li>
	*<li>"exactfit" ：全屏不等比缩放；</li>
	*<li>"showall" ：最小比例缩放；</li>
	*<li>"noborder" ：最大比例缩放；</li>
	*<li>"full" ：不缩放，stage的宽高等于屏幕宽高；</li>
	*<li>"fixedwidth" ：宽度不变，高度根据屏幕比缩放；</li>
	*<li>"fixedheight" ：高度不变，宽度根据屏幕比缩放；</li>
	*<li>"fixedauto" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'scaleMode',function(){
		return this._scaleMode;
		},function(value){
		this._scaleMode=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**
	*<p>垂直对齐方式。默认值为"top"。</p>
	*<p><ul>取值范围：
	*<li>"top" ：居顶部对齐；</li>
	*<li>"middle" ：居中对齐；</li>
	*<li>"bottom" ：居底部对齐；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'alignV',function(){
		return this._alignV;
		},function(value){
		this._alignV=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**舞台的背景颜色，默认为黑色，null为透明。*/
	__getset(0,__proto,'bgColor',function(){
		return this._bgColor;
		},function(value){
		this._bgColor=value;
		if (Render.isWebGL){
			if (value)
				this._wgColor=Color$1.create(value).arrColor;
			else
			this._wgColor=null;
		}
		if (value){
			Render.canvas.style.background=value;
			}else {
			Render.canvas.style.background="none";
		}
	});

	/**鼠标在 Stage 上的 X 轴坐标。*/
	__getset(0,__proto,'mouseX',function(){
		return Math.round(MouseManager.instance.mouseX / this.clientScaleX);
	});

	/**鼠标在 Stage 上的 Y 轴坐标。*/
	__getset(0,__proto,'mouseY',function(){
		return Math.round(MouseManager.instance.mouseY / this.clientScaleY);
	});

	/**当前视窗由缩放模式导致的 X 轴缩放系数。*/
	__getset(0,__proto,'clientScaleX',function(){
		return this._transform ? this._transform.getScaleX():1;
	});

	/**
	*<p>场景布局类型。</p>
	*<p><ul>取值范围：
	*<li>"none" ：不更改屏幕</li>
	*<li>"horizontal" ：自动横屏</li>
	*<li>"vertical" ：自动竖屏</li>
	*</ul></p>
	*/
	__getset(0,__proto,'screenMode',function(){
		return this._screenMode;
		},function(value){
		this._screenMode=value;
	});

	__getset(0,__proto,'visible',_super.prototype._$get_visible,function(value){
		if (this.visible!==value){
			Laya.superSet(Sprite,this,'visible',value);
			var style=Render._mainCanvas.source.style;
			style.visibility=value ? "visible" :"hidden";
		}
	});

	/**
	*<p>是否开启全屏，用户点击后进入全屏。</p>
	*<p>兼容性提示：部分浏览器不允许点击进入全屏，比如Iphone等。</p>
	*/
	__getset(0,__proto,'fullScreenEnabled',null,function(value){
		var document=Browser.document;
		var canvas=Render.canvas;
		if (value){
			canvas.addEventListener('mousedown',this._requestFullscreen);
			canvas.addEventListener('touchstart',this._requestFullscreen);
			document.addEventListener("fullscreenchange",this._fullScreenChanged);
			document.addEventListener("mozfullscreenchange",this._fullScreenChanged);
			document.addEventListener("webkitfullscreenchange",this._fullScreenChanged);
			document.addEventListener("msfullscreenchange",this._fullScreenChanged);
			}else {
			canvas.removeEventListener('mousedown',this._requestFullscreen);
			canvas.removeEventListener('touchstart',this._requestFullscreen);
			document.removeEventListener("fullscreenchange",this._fullScreenChanged);
			document.removeEventListener("mozfullscreenchange",this._fullScreenChanged);
			document.removeEventListener("webkitfullscreenchange",this._fullScreenChanged);
			document.removeEventListener("msfullscreenchange",this._fullScreenChanged);
		}
	});

	Stage.SCALE_NOSCALE="noscale";
	Stage.SCALE_EXACTFIT="exactfit";
	Stage.SCALE_SHOWALL="showall";
	Stage.SCALE_NOBORDER="noborder";
	Stage.SCALE_FULL="full";
	Stage.SCALE_FIXED_WIDTH="fixedwidth";
	Stage.SCALE_FIXED_HEIGHT="fixedheight";
	Stage.SCALE_FIXED_AUTO="fixedauto";
	Stage.ALIGN_LEFT="left";
	Stage.ALIGN_RIGHT="right";
	Stage.ALIGN_CENTER="center";
	Stage.ALIGN_TOP="top";
	Stage.ALIGN_MIDDLE="middle";
	Stage.ALIGN_BOTTOM="bottom";
	Stage.SCREEN_NONE="none";
	Stage.SCREEN_HORIZONTAL="horizontal";
	Stage.SCREEN_VERTICAL="vertical";
	Stage.FRAME_FAST="fast";
	Stage.FRAME_SLOW="slow";
	Stage.FRAME_MOUSE="mouse";
	Stage.FRAME_SLEEP="sleep";
	return Stage;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/DialogManager.as=======96.999128/96.999128
/**
*<code>DialogManager</code> 对话框管理容器，所有的对话框都在该容器内，并且受管理器管理。
*任意对话框打开和关闭，都会出发管理类的open和close事件
*可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭，点击窗口是否切换层次等
*通过设置对话框的zOrder属性，可以更改弹出的层次
*/
//class laya.ui.DialogManager extends laya.display.Sprite
var DialogManager=(function(_super){
	function DialogManager(){
		/**锁屏层*/
		this.lockLayer=null;
		/**@private 全局默认弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null*/
		this.popupEffect=function(dialog){
			dialog.scale(1,1);
			Tween.from(dialog,{x:Laya.stage.width / 2,y:Laya.stage.height / 2,scaleX:0,scaleY:0},300,Ease.backOut,Handler.create(this,this.doOpen,[dialog]));
		}
		/**@private 全局默认关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null*/
		this.closeEffect=function(dialog,type){
			Tween.to(dialog,{x:Laya.stage.width / 2,y:Laya.stage.height / 2,scaleX:0,scaleY:0},300,Ease.strongOut,Handler.create(this,this.doClose,[dialog,type]));
		}
		DialogManager.__super.call(this);
		this.maskLayer=new Sprite();
		this.popupEffectHandler=new Handler(this,this.popupEffect);
		this.closeEffectHandler=new Handler(this,this.closeEffect);
		this.mouseEnabled=this.maskLayer.mouseEnabled=true;
		this.zOrder=1000;
		Laya.stage.addChild(this);
		Laya.stage.on("resize",this,this._onResize);
		if (UIConfig.closeDialogOnSide)this.maskLayer.on("click",this,this._closeOnSide);
		this._onResize(null);
	}

	__class(DialogManager,'laya.ui.DialogManager',_super);
	var __proto=DialogManager.prototype;
	__proto._closeOnSide=function(){
		var dialog=this.getChildAt(this.numChildren-1);
		if ((dialog instanceof laya.ui.Dialog ))dialog.close("side");
	}

	/**设置锁定界面，如果为空则什么都不显示*/
	__proto.setLockView=function(value){
		if (!this.lockLayer){
			this.lockLayer=new Box();
			this.lockLayer.mouseEnabled=true;
			this.lockLayer.size(Laya.stage.width,Laya.stage.height);
		}
		this.lockLayer.removeChildren();
		if (value){
			value.centerX=value.centerY=0;
			this.lockLayer.addChild(value);
		}
	}

	/**@private */
	__proto._onResize=function(e){
		var width=this.maskLayer.width=Laya.stage.width;
		var height=this.maskLayer.height=Laya.stage.height;
		if (this.lockLayer)this.lockLayer.size(width,height);
		this.maskLayer.graphics.clear(true);
		this.maskLayer.graphics.drawRect(0,0,width,height,UIConfig.popupBgColor);
		this.maskLayer.alpha=UIConfig.popupBgAlpha;
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item.popupCenter)this._centerDialog(item);
		}
	}

	__proto._centerDialog=function(dialog){
		dialog.x=Math.round(((Laya.stage.width-dialog.width)>> 1)+dialog.pivotX);
		dialog.y=Math.round(((Laya.stage.height-dialog.height)>> 1)+dialog.pivotY);
	}

	/**
	*显示对话框(非模式窗口类型)。
	*@param dialog 需要显示的对象框 <code>Dialog</code> 实例。
	*@param closeOther 是否关闭其它对话框，若值为ture，则关闭其它的对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.open=function(dialog,closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=false);
		if (closeOther)this._closeAll();
		if (dialog.popupCenter)this._centerDialog(dialog);
		this.addChild(dialog);
		if (dialog.isModal || this._getBit(0x02))/*no*/this.timer.callLater(this,this._checkMask);
		if (showEffect && dialog.popupEffect !=null)dialog.popupEffect.runWith(dialog);
		else this.doOpen(dialog);
		this.event("open");
	}

	/**
	*执行打开对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*/
	__proto.doOpen=function(dialog){
		dialog.onOpened();
	}

	/**
	*锁定所有层，显示加载条信息，防止双击
	*/
	__proto.lock=function(value){
		if (this.lockLayer){
			if (value)this.addChild(this.lockLayer);
			else this.lockLayer.removeSelf();
		}
	}

	/**
	*关闭对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*@param showEffect 是否显示弹出效果
	*/
	__proto.close=function(dialog,type,showEffect){
		(showEffect===void 0)&& (showEffect=false);
		if (showEffect && dialog.closeEffect !=null)dialog.closeEffect.runWith([dialog,type]);
		else this.doClose(dialog,type);
		this.event("close");
	}

	/**
	*执行关闭对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*/
	__proto.doClose=function(dialog,type){
		dialog.removeSelf();
		dialog.isModal && this._checkMask();
		dialog.closeHandler && dialog.closeHandler.runWith(type);
		dialog.onClosed(type);
	}

	/**
	*关闭所有的对话框。
	*/
	__proto.closeAll=function(){
		this._closeAll();
		this.event("close");
	}

	/**@private */
	__proto._closeAll=function(){
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.close !=null){
				this.doClose(item);
			}
		}
	}

	/**
	*根据组获取所有对话框
	*@param group 组名称
	*@return 对话框数组
	*/
	__proto.getDialogsByGroup=function(group){
		var arr=[];
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.group===group){
				arr.push(item);
			}
		}
		return arr;
	}

	/**
	*根据组关闭所有弹出框
	*@param group 需要关闭的组名称
	*@return 需要关闭的对话框数组
	*/
	__proto.closeByGroup=function(group){
		var arr=[];
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.group===group){
				item.close();
				arr.push(item);
			}
		}
		return arr;
	}

	/**@private 发生层次改变后，重新检查遮罩层是否正确*/
	__proto._checkMask=function(){
		this.maskLayer.removeSelf();
		for (var i=this.numChildren-1;i >-1;i--){
			var dialog=this.getChildAt(i);
			if (dialog && dialog.isModal){
				this.addChildAt(this.maskLayer,i);
				return;
			}
		}
	}

	return DialogManager;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ani/bone/Templet.as=======96.999121/96.999121
/**
*动画模板类
*/
//class laya.ani.bone.Templet extends laya.ani.AnimationTemplet
var Templet=(function(_super){
	function Templet(){
		this._mainTexture=null;
		this._textureJson=null;
		this._graphicsCache=[];
		/**存放原始骨骼信息 */
		this.srcBoneMatrixArr=[];
		/**IK数据 */
		this.ikArr=[];
		/**transform数据 */
		this.tfArr=[];
		/**path数据 */
		this.pathArr=[];
		/**存放插槽数据的字典 */
		this.boneSlotDic={};
		/**绑定插槽数据的字典 */
		this.bindBoneBoneSlotDic={};
		/**存放插糟数据的数组 */
		this.boneSlotArray=[];
		/**皮肤数据 */
		this.skinDataArray=[];
		/**皮肤的字典数据 */
		this.skinDic={};
		/**存放纹理数据 */
		this.subTextureDic={};
		/**是否解析失败 */
		this.isParseFail=false;
		/**反转矩阵，有些骨骼动画要反转才能显示 */
		this.yReverseMatrix=null;
		/**渲染顺序动画数据 */
		this.drawOrderAniArr=[];
		/**事件动画数据 */
		this.eventAniArr=[];
		/**@private 索引对应的名称 */
		this.attachmentNames=null;
		/**顶点动画数据 */
		this.deformAniArr=[];
		this._isDestroyed=false;
		this._rate=30;
		this.isParserComplete=false;
		this.aniSectionDic={};
		this._skBufferUrl=null;
		this._textureDic={};
		this._loadList=null;
		this._path=null;
		/**@private */
		this.tMatrixDataLen=0;
		this.mRootBone=null;
		Templet.__super.call(this);
		this.skinSlotDisplayDataArr=[];
		this.mBoneArr=[];
	}

	__class(Templet,'laya.ani.bone.Templet',_super);
	var __proto=Templet.prototype;
	__proto.loadAni=function(url){
		this._skBufferUrl=url;
		Laya.loader.load(url,Handler.create(this,this.onComplete),null,"arraybuffer");
	}

	__proto.onComplete=function(content){
		if (this._isDestroyed){
			this.destroy();
			return;
		};
		var tSkBuffer=Loader.getRes(this._skBufferUrl);
		if (!tSkBuffer){
			this.event("error","load failed:"+this._skBufferUrl);
			return;
		}
		this._path=this._skBufferUrl.slice(0,this._skBufferUrl.lastIndexOf("/"))+"/";
		this.parseData(null,tSkBuffer);
	}

	/**
	*解析骨骼动画数据
	*@param texture 骨骼动画用到的纹理
	*@param skeletonData 骨骼动画信息及纹理分块信息
	*@param playbackRate 缓冲的帧率数据（会根据帧率去分帧）
	*/
	__proto.parseData=function(texture,skeletonData,playbackRate){
		(playbackRate===void 0)&& (playbackRate=30);
		if(!this._path&&this.url)this._path=this.url.slice(0,this.url.lastIndexOf("/"))+"/";
		this._mainTexture=texture;
		if (this._mainTexture){
			if (Render.isWebGL && texture.bitmap){
				texture.bitmap.enableMerageInAtlas=false;
			}
		}
		this._rate=playbackRate;
		this.parse(skeletonData);
	}

	/**
	*创建动画
	*0,使用模板缓冲的数据，模板缓冲的数据，不允许修改 （内存开销小，计算开销小，不支持换装）
	*1,使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装）
	*2,使用动态方式，去实时去画 （内存开销小，计算开销大，支持换装,不建议使用）
	*@param aniMode 0 动画模式，0:不支持换装,1,2支持换装
	*@return
	*/
	__proto.buildArmature=function(aniMode){
		(aniMode===void 0)&& (aniMode=0);
		return new Skeleton(this,aniMode);
	}

	/**
	*@private
	*解析动画
	*@param data 解析的二进制数据
	*@param playbackRate 帧率
	*/
	__proto.parse=function(data){
		_super.prototype.parse.call(this,data);
		this._loaded=true;
		this.event("loaded",this);
		if (this._aniVersion !=Templet.LAYA_ANIMATION_VISION){
			console.log("[Error] 版本不一致，请使用IDE版本配套的重新导出"+this._aniVersion+"->"+Templet.LAYA_ANIMATION_VISION);
			this._loaded=false;
		}
		if (this.loaded){
			if (this._mainTexture){
				this._parsePublicExtData();
				}else {
				this._parseTexturePath();
			}
			}else {
			this.event("error",this);
			this.isParseFail=true;
		}
	}

	__proto._parseTexturePath=function(){
		if (this._isDestroyed){
			this.destroy();
			return;
		};
		var i=0;
		this._loadList=[];
		var tByte=new Byte(this.getPublicExtData());
		var tX=0,tY=0,tWidth=0,tHeight=0;
		var tFrameX=0,tFrameY=0,tFrameWidth=0,tFrameHeight=0;
		var tTempleData=0;
		var tTextureLen=tByte.getInt32();
		var tTextureName=tByte.readUTFString();
		var tTextureNameArr=tTextureName.split("\n");
		var tTexture;
		var tSrcTexturePath;
		for (i=0;i < tTextureLen;i++){
			tSrcTexturePath=this._path+tTextureNameArr[i *2];
			tTextureName=tTextureNameArr[i *2+1];
			tX=tByte.getFloat32();
			tY=tByte.getFloat32();
			tWidth=tByte.getFloat32();
			tHeight=tByte.getFloat32();
			tTempleData=tByte.getFloat32();
			tFrameX=isNaN(tTempleData)? 0 :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameY=isNaN(tTempleData)? 0 :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameWidth=isNaN(tTempleData)? tWidth :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameHeight=isNaN(tTempleData)? tHeight :tTempleData;
			if (this._loadList.indexOf(tSrcTexturePath)==-1){
				this._loadList.push(tSrcTexturePath);
			}
		}
		Laya.loader.load(this._loadList,Handler.create(this,this._textureComplete));
	}

	/**
	*纹理加载完成
	*/
	__proto._textureComplete=function(){
		var tTexture;
		var tTextureName;
		for (var i=0,n=this._loadList.length;i < n;i++){
			tTextureName=this._loadList[i];
			tTexture=this._textureDic[tTextureName]=Loader.getRes(tTextureName);
			if (Render.isWebGL && tTexture && tTexture.bitmap){
				tTexture.bitmap.enableMerageInAtlas=false;
			}
		}
		this._parsePublicExtData();
	}

	/**
	*解析自定义数据
	*/
	__proto._parsePublicExtData=function(){
		var i=0,j=0,k=0,l=0,n=0;
		for (i=0,n=this.getAnimationCount();i < n;i++){
			this._graphicsCache.push([]);
		};
		var isSpine=false;
		isSpine=this._aniClassName !="Dragon";
		var tByte=new Byte(this.getPublicExtData());
		var tX=0,tY=0,tWidth=0,tHeight=0;
		var tFrameX=0,tFrameY=0,tFrameWidth=0,tFrameHeight=0;
		var tTempleData=0;
		var tTextureLen=tByte.getInt32();
		var tTextureName=tByte.readUTFString();
		var tTextureNameArr=tTextureName.split("\n");
		var tTexture;
		var tSrcTexturePath;
		for (i=0;i < tTextureLen;i++){
			tTexture=this._mainTexture;
			tSrcTexturePath=this._path+tTextureNameArr[i *2];
			tTextureName=tTextureNameArr[i *2+1];
			if (this._mainTexture==null){
				tTexture=this._textureDic[tSrcTexturePath];
			}
			if (!tTexture){
				this.event("error",this);
				this.isParseFail=true;
				return;
			}
			tX=tByte.getFloat32();
			tY=tByte.getFloat32();
			tWidth=tByte.getFloat32();
			tHeight=tByte.getFloat32();
			tTempleData=tByte.getFloat32();
			tFrameX=isNaN(tTempleData)? 0 :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameY=isNaN(tTempleData)? 0 :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameWidth=isNaN(tTempleData)? tWidth :tTempleData;
			tTempleData=tByte.getFloat32();
			tFrameHeight=isNaN(tTempleData)? tHeight :tTempleData;
			this.subTextureDic[tTextureName]=Texture.create(tTexture,tX,tY,tWidth,tHeight,-tFrameX,-tFrameY,tFrameWidth,tFrameHeight);
		}
		this._mainTexture=tTexture;
		var tAniCount=tByte.getUint16();
		var tSectionArr;
		for (i=0;i < tAniCount;i++){
			tSectionArr=[];
			tSectionArr.push(tByte.getUint16());
			tSectionArr.push(tByte.getUint16());
			tSectionArr.push(tByte.getUint16());
			tSectionArr.push(tByte.getUint16());
			this.aniSectionDic[i]=tSectionArr;
		};
		var tBone;
		var tParentBone;
		var tName;
		var tParentName;
		var tBoneLen=tByte.getInt16();
		var tBoneDic={};
		var tRootBone;
		for (i=0;i < tBoneLen;i++){
			tBone=new Bone();
			if (i==0){
				tRootBone=tBone;
				}else {
				tBone.root=tRootBone;
			}
			tBone.d=isSpine?-1:1;
			tName=tByte.readUTFString();
			tParentName=tByte.readUTFString();
			tBone.length=tByte.getFloat32();
			if (tByte.getByte()==1){
				tBone.inheritRotation=false;
			}
			if (tByte.getByte()==1){
				tBone.inheritScale=false;
			}
			tBone.name=tName;
			if (tParentName){
				tParentBone=tBoneDic[tParentName];
				if (tParentBone){
					tParentBone.addChild(tBone);
					}else {
					this.mRootBone=tBone;
				}
			}
			tBoneDic[tName]=tBone;
			this.mBoneArr.push(tBone);
		}
		this.tMatrixDataLen=tByte.getUint16();
		var tLen=tByte.getUint16();
		var parentIndex=0;
		var boneLength=Math.floor(tLen / this.tMatrixDataLen);
		var tResultTransform;
		var tMatrixArray=this.srcBoneMatrixArr;
		for (i=0;i < boneLength;i++){
			tResultTransform=new Transform();
			tResultTransform.scX=tByte.getFloat32();
			tResultTransform.skX=tByte.getFloat32();
			tResultTransform.skY=tByte.getFloat32();
			tResultTransform.scY=tByte.getFloat32();
			tResultTransform.x=tByte.getFloat32();
			tResultTransform.y=tByte.getFloat32();
			if (this.tMatrixDataLen===8){
				tResultTransform.skewX=tByte.getFloat32();
				tResultTransform.skewY=tByte.getFloat32();
			}
			tMatrixArray.push(tResultTransform);
			tBone=this.mBoneArr[i];
			tBone.transform=tResultTransform;
		};
		var tIkConstraintData;
		var tIkLen=tByte.getUint16();
		var tIkBoneLen=0;
		for (i=0;i < tIkLen;i++){
			tIkConstraintData=new IkConstraintData();
			tIkBoneLen=tByte.getUint16();
			for (j=0;j < tIkBoneLen;j++){
				tIkConstraintData.boneNames.push(tByte.readUTFString());
				tIkConstraintData.boneIndexs.push(tByte.getInt16());
			}
			tIkConstraintData.name=tByte.readUTFString();
			tIkConstraintData.targetBoneName=tByte.readUTFString();
			tIkConstraintData.targetBoneIndex=tByte.getInt16();
			tIkConstraintData.bendDirection=tByte.getFloat32();
			tIkConstraintData.mix=tByte.getFloat32();
			tIkConstraintData.isSpine=isSpine;
			this.ikArr.push(tIkConstraintData);
		};
		var tTfConstraintData;
		var tTfLen=tByte.getUint16();
		var tTfBoneLen=0;
		for (i=0;i < tTfLen;i++){
			tTfConstraintData=new TfConstraintData();
			tTfBoneLen=tByte.getUint16();
			for (j=0;j < tTfBoneLen;j++){
				tTfConstraintData.boneIndexs.push(tByte.getInt16());
			}
			tTfConstraintData.name=tByte.getUTFString();
			tTfConstraintData.targetIndex=tByte.getInt16();
			tTfConstraintData.rotateMix=tByte.getFloat32();
			tTfConstraintData.translateMix=tByte.getFloat32();
			tTfConstraintData.scaleMix=tByte.getFloat32();
			tTfConstraintData.shearMix=tByte.getFloat32();
			tTfConstraintData.offsetRotation=tByte.getFloat32();
			tTfConstraintData.offsetX=tByte.getFloat32();
			tTfConstraintData.offsetY=tByte.getFloat32();
			tTfConstraintData.offsetScaleX=tByte.getFloat32();
			tTfConstraintData.offsetScaleY=tByte.getFloat32();
			tTfConstraintData.offsetShearY=tByte.getFloat32();
			this.tfArr.push(tTfConstraintData);
		};
		var tPathConstraintData;
		var tPathLen=tByte.getUint16();
		var tPathBoneLen=0;
		for (i=0;i < tPathLen;i++){
			tPathConstraintData=new PathConstraintData();
			tPathConstraintData.name=tByte.readUTFString();
			tPathBoneLen=tByte.getUint16();
			for (j=0;j < tPathBoneLen;j++){
				tPathConstraintData.bones.push(tByte.getInt16());
			}
			tPathConstraintData.target=tByte.readUTFString();
			tPathConstraintData.positionMode=tByte.readUTFString();
			tPathConstraintData.spacingMode=tByte.readUTFString();
			tPathConstraintData.rotateMode=tByte.readUTFString();
			tPathConstraintData.offsetRotation=tByte.getFloat32();
			tPathConstraintData.position=tByte.getFloat32();
			tPathConstraintData.spacing=tByte.getFloat32();
			tPathConstraintData.rotateMix=tByte.getFloat32();
			tPathConstraintData.translateMix=tByte.getFloat32();
			this.pathArr.push(tPathConstraintData);
		};
		var tDeformSlotLen=0;
		var tDeformSlotDisplayLen=0;
		var tDSlotIndex=0;
		var tDAttachment;
		var tDeformTimeLen=0;
		var tDTime=NaN;
		var tDeformVecticesLen=0;
		var tDeformAniData;
		var tDeformSlotData;
		var tDeformSlotDisplayData;
		var tDeformVectices;
		var tDeformAniLen=tByte.getInt16();
		for (i=0;i < tDeformAniLen;i++){
			var tDeformSkinLen=tByte.getUint8();
			var tSkinDic={};
			this.deformAniArr.push(tSkinDic);
			for (var f=0;f < tDeformSkinLen;f++){
				tDeformAniData=new DeformAniData();
				tDeformAniData.skinName=tByte.getUTFString();
				tSkinDic[tDeformAniData.skinName]=tDeformAniData;
				tDeformSlotLen=tByte.getInt16();
				for (j=0;j < tDeformSlotLen;j++){
					tDeformSlotData=new DeformSlotData();
					tDeformAniData.deformSlotDataList.push(tDeformSlotData);
					tDeformSlotDisplayLen=tByte.getInt16();
					for (k=0;k < tDeformSlotDisplayLen;k++){
						tDeformSlotDisplayData=new DeformSlotDisplayData();
						tDeformSlotData.deformSlotDisplayList.push(tDeformSlotDisplayData);
						tDeformSlotDisplayData.slotIndex=tDSlotIndex=tByte.getInt16();
						tDeformSlotDisplayData.attachment=tDAttachment=tByte.getUTFString();
						tDeformTimeLen=tByte.getInt16();
						for (l=0;l < tDeformTimeLen;l++){
							if (tByte.getByte()==1){
								tDeformSlotDisplayData.tweenKeyList.push(true);
								}else {
								tDeformSlotDisplayData.tweenKeyList.push(false);
							}
							tDTime=tByte.getFloat32();
							tDeformSlotDisplayData.timeList.push(tDTime);
							tDeformVectices=[];
							tDeformSlotDisplayData.vectices.push(tDeformVectices);
							tDeformVecticesLen=tByte.getInt16();
							for (n=0;n < tDeformVecticesLen;n++){
								tDeformVectices.push(tByte.getFloat32());
							}
						}
					}
				}
			}
		};
		var tDrawOrderArr;
		var tDrawOrderAniLen=tByte.getInt16();
		var tDrawOrderLen=0;
		var tDrawOrderData;
		var tDoLen=0;
		for (i=0;i < tDrawOrderAniLen;i++){
			tDrawOrderLen=tByte.getInt16();
			tDrawOrderArr=[];
			for (j=0;j < tDrawOrderLen;j++){
				tDrawOrderData=new DrawOrderData();
				tDrawOrderData.time=tByte.getFloat32();
				tDoLen=tByte.getInt16();
				for (k=0;k < tDoLen;k++){
					tDrawOrderData.drawOrder.push(tByte.getInt16());
				}
				tDrawOrderArr.push(tDrawOrderData);
			}
			this.drawOrderAniArr.push(tDrawOrderArr);
		};
		var tEventArr;
		var tEventAniLen=tByte.getInt16();
		var tEventLen=0;
		var tEventData;
		for (i=0;i < tEventAniLen;i++){
			tEventLen=tByte.getInt16();
			tEventArr=[];
			for (j=0;j < tEventLen;j++){
				tEventData=new EventData();
				tEventData.name=tByte.getUTFString();
				tEventData.intValue=tByte.getInt32();
				tEventData.floatValue=tByte.getFloat32();
				tEventData.stringValue=tByte.getUTFString();
				tEventData.time=tByte.getFloat32();
				tEventArr.push(tEventData);
			}
			this.eventAniArr.push(tEventArr);
		};
		var tAttachmentLen=tByte.getInt16();
		if (tAttachmentLen > 0){
			this.attachmentNames=[];
			for (i=0;i < tAttachmentLen;i++){
				this.attachmentNames.push(tByte.getUTFString());
			}
		};
		var tBoneSlotLen=tByte.getInt16();
		var tDBBoneSlot;
		var tDBBoneSlotArr;
		for (i=0;i < tBoneSlotLen;i++){
			tDBBoneSlot=new BoneSlot();
			tDBBoneSlot.name=tByte.readUTFString();
			tDBBoneSlot.parent=tByte.readUTFString();
			tDBBoneSlot.attachmentName=tByte.readUTFString();
			tDBBoneSlot.srcDisplayIndex=tDBBoneSlot.displayIndex=tByte.getInt16();
			tDBBoneSlot.templet=this;
			this.boneSlotDic[tDBBoneSlot.name]=tDBBoneSlot;
			tDBBoneSlotArr=this.bindBoneBoneSlotDic[tDBBoneSlot.parent];
			if (tDBBoneSlotArr==null){
				this.bindBoneBoneSlotDic[tDBBoneSlot.parent]=tDBBoneSlotArr=[];
			}
			tDBBoneSlotArr.push(tDBBoneSlot);
			this.boneSlotArray.push(tDBBoneSlot);
		};
		var tNameString=tByte.readUTFString();
		var tNameArray=tNameString.split("\n");
		var tNameStartIndex=0;
		var tSkinDataLen=tByte.getUint8();
		var tSkinData,tSlotData,tDisplayData;
		var tSlotDataLen=0,tDisplayDataLen=0;
		var tUvLen=0,tWeightLen=0,tTriangleLen=0,tVerticeLen=0,tLengthLen=0;
		for (i=0;i < tSkinDataLen;i++){
			tSkinData=new SkinData();
			tSkinData.name=tNameArray[tNameStartIndex++];
			tSlotDataLen=tByte.getUint8();
			for (j=0;j < tSlotDataLen;j++){
				tSlotData=new SlotData();
				tSlotData.name=tNameArray[tNameStartIndex++];
				tDBBoneSlot=this.boneSlotDic[tSlotData.name];
				tDisplayDataLen=tByte.getUint8();
				for (k=0;k < tDisplayDataLen;k++){
					tDisplayData=new SkinSlotDisplayData();
					this.skinSlotDisplayDataArr.push(tDisplayData);
					tDisplayData.name=tNameArray[tNameStartIndex++];
					tDisplayData.attachmentName=tNameArray[tNameStartIndex++];
					tDisplayData.transform=new Transform();
					tDisplayData.transform.scX=tByte.getFloat32();
					tDisplayData.transform.skX=tByte.getFloat32();
					tDisplayData.transform.skY=tByte.getFloat32();
					tDisplayData.transform.scY=tByte.getFloat32();
					tDisplayData.transform.x=tByte.getFloat32();
					tDisplayData.transform.y=tByte.getFloat32();
					tSlotData.displayArr.push(tDisplayData);
					tDisplayData.width=tByte.getFloat32();
					tDisplayData.height=tByte.getFloat32();
					tDisplayData.type=tByte.getUint8();
					tDisplayData.verLen=tByte.getUint16();
					tBoneLen=tByte.getUint16();
					if (tBoneLen > 0){
						tDisplayData.bones=[];
						for (l=0;l < tBoneLen;l++){
							var tBoneId=tByte.getUint16();
							tDisplayData.bones.push(tBoneId);
						}
					}
					tUvLen=tByte.getUint16();
					if (tUvLen > 0){
						tDisplayData.uvs=[];
						for (l=0;l < tUvLen;l++){
							tDisplayData.uvs.push(tByte.getFloat32());
						}
					}
					tWeightLen=tByte.getUint16();
					if (tWeightLen > 0){
						tDisplayData.weights=[];
						for (l=0;l < tWeightLen;l++){
							tDisplayData.weights.push(tByte.getFloat32());
						}
					}
					tTriangleLen=tByte.getUint16();
					if (tTriangleLen > 0){
						tDisplayData.triangles=[];
						for (l=0;l < tTriangleLen;l++){
							tDisplayData.triangles.push(tByte.getUint16());
						}
					}
					tVerticeLen=tByte.getUint16();
					if (tVerticeLen > 0){
						tDisplayData.vertices=[];
						for (l=0;l < tVerticeLen;l++){
							tDisplayData.vertices.push(tByte.getFloat32());
						}
					}
					tLengthLen=tByte.getUint16();
					if (tLengthLen > 0){
						tDisplayData.lengths=[];
						for (l=0;l < tLengthLen;l++){
							tDisplayData.lengths.push(tByte.getFloat32());
						}
					}
				}
				tSkinData.slotArr.push(tSlotData);
			}
			this.skinDic[tSkinData.name]=tSkinData;
			this.skinDataArray.push(tSkinData);
		};
		var tReverse=tByte.getUint8();
		if (tReverse==1){
			this.yReverseMatrix=new Matrix(1,0,0,-1,0,0);
			if (tRootBone){
				tRootBone.setTempMatrix(this.yReverseMatrix);
			}
			}else {
			if (tRootBone){
				tRootBone.setTempMatrix(new Matrix());
			}
		}
		this.showSkinByIndex(this.boneSlotDic,0);
		this.isParserComplete=true;
		this.event("complete",this);
	}

	/**
	*得到指定的纹理
	*@param name 纹理的名字
	*@return
	*/
	__proto.getTexture=function(name){
		var tTexture=this.subTextureDic[name];
		if (tTexture==null){
			return this._mainTexture;
		}
		return tTexture;
	}

	/**
	*@private
	*显示指定的皮肤
	*@param boneSlotDic 插糟字典的引用
	*@param skinIndex 皮肤的索引
	*@param freshDisplayIndex 是否重置插槽纹理
	*/
	__proto.showSkinByIndex=function(boneSlotDic,skinIndex,freshDisplayIndex){
		(freshDisplayIndex===void 0)&& (freshDisplayIndex=true);
		if (skinIndex < 0 && skinIndex >=this.skinDataArray.length)return false;
		var i=0,n=0;
		var tBoneSlot;
		var tSlotData;
		var tSkinData=this.skinDataArray[skinIndex];
		if (tSkinData){
			for (i=0,n=tSkinData.slotArr.length;i < n;i++){
				tSlotData=tSkinData.slotArr[i];
				if (tSlotData){
					tBoneSlot=boneSlotDic[tSlotData.name];
					if (tBoneSlot){
						tBoneSlot.showSlotData(tSlotData,freshDisplayIndex);
						if (freshDisplayIndex&&tBoneSlot.attachmentName !="undefined" && tBoneSlot.attachmentName !="null"){
							tBoneSlot.showDisplayByName(tBoneSlot.attachmentName);
							}else {
							tBoneSlot.showDisplayByIndex(tBoneSlot.displayIndex);
						}
					}
				}
			}
			return true;
		}
		return false;
	}

	/**
	*通过皮肤名字得到皮肤索引
	*@param skinName 皮肤名称
	*@return
	*/
	__proto.getSkinIndexByName=function(skinName){
		var tSkinData;
		for (var i=0,n=this.skinDataArray.length;i < n;i++){
			tSkinData=this.skinDataArray[i];
			if (tSkinData.name==skinName){
				return i;
			}
		}
		return-1;
	}

	/**
	*@private
	*得到缓冲数据
	*@param aniIndex 动画索引
	*@param frameIndex 帧索引
	*@return
	*/
	__proto.getGrahicsDataWithCache=function(aniIndex,frameIndex){
		return this._graphicsCache[aniIndex][frameIndex];
	}

	/**
	*@private
	*保存缓冲grahpics
	*@param aniIndex 动画索引
	*@param frameIndex 帧索引
	*@param graphics 要保存的数据
	*/
	__proto.setGrahicsDataWithCache=function(aniIndex,frameIndex,graphics){
		this._graphicsCache[aniIndex][frameIndex]=graphics;
	}

	__proto.deleteAniData=function(aniIndex){
		if (this._anis[aniIndex]){
			var tAniDataO=this._anis[aniIndex];
			tAniDataO.bone3DMap=null;
			tAniDataO.nodes=null;
		}
	}

	/**
	*释放纹理
	*/
	__proto.destroy=function(){
		this._isDestroyed=true;
		var tTexture;
		for(var $each_tTexture in this.subTextureDic){
			tTexture=this.subTextureDic[$each_tTexture];
			if(tTexture)
				tTexture.destroy();
		}
		var $each_tTexture;
		for($each_tTexture in this._textureDic){
			tTexture=this._textureDic[$each_tTexture];
			if(tTexture)
				tTexture.destroy();
		};
		var tSkinSlotDisplayData;
		for (var i=0,n=this.skinSlotDisplayDataArr.length;i < n;i++){
			tSkinSlotDisplayData=this.skinSlotDisplayDataArr[i];
			tSkinSlotDisplayData.destory();
		}
		this.skinSlotDisplayDataArr.length=0;
		if (this.url){
			delete Templet.TEMPLET_DICTIONARY[this.url];
		}
		laya.resource.Resource.prototype.destroy.call(this);
	}

	/**
	*通过索引得动画名称
	*@param index
	*@return
	*/
	__proto.getAniNameByIndex=function(index){
		var tAni=this.getAnimation(index);
		if (tAni)return tAni.name;
		return null;
	}

	__getset(0,__proto,'rate',function(){
		return this._rate;
		},function(v){
		this._rate=v;
	});

	Templet.LAYA_ANIMATION_VISION="LAYAANIMATION:1.6.0";
	Templet.TEMPLET_DICTIONARY=null;
	return Templet;
})(AnimationTemplet)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/Terrain.as=======96.999083/96.999083
/**
*<code>Terrain</code> 类用于创建地块。
*/
//class laya.d3.terrain.Terrain extends laya.d3.core.Sprite3D
var Terrain=(function(_super){
	function Terrain(terrainRes){
		this._terrainRes=null;
		this._lightmapScaleOffset=null;
		Terrain.__super.call(this);
		this._lightmapScaleOffset=new Vector4(1,1,0,0);
		if (terrainRes){
			this._terrainRes=terrainRes;
			if (terrainRes.loaded)
				this.buildTerrain(terrainRes);
			else
			terrainRes.once("loaded",this,this.buildTerrain);
		}
	}

	__class(Terrain,'laya.d3.terrain.Terrain',_super);
	var __proto=Terrain.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		_super.prototype._parse.call(this,data,innerResouMap);
		this.terrainRes=Loader.getRes(innerResouMap[data.dataPath]);
		var lightmapIndex=data.lightmapIndex;
		if (lightmapIndex !=null)
			this.setLightmapIndex(lightmapIndex);
		var lightmapScaleOffsetArray=data.lightmapScaleOffset;
		if (lightmapScaleOffsetArray)
			this.setLightmapScaleOffset(new Vector4(lightmapScaleOffsetArray[0],lightmapScaleOffsetArray[1],lightmapScaleOffsetArray[2],lightmapScaleOffsetArray[3]));
	}

	__proto.setLightmapIndex=function(value){
		for (var i=0;i < this._children.length;i++){
			var terrainChunk=this._children[i];
			terrainChunk.terrainRender.lightmapIndex=value;
		}
	}

	__proto.setLightmapScaleOffset=function(value){
		if (!value)return;
		value.cloneTo(this._lightmapScaleOffset);
		for (var i=0;i < this._children.length;i++){
			var terrainChunk=this._children[i];
			terrainChunk.terrainRender.lightmapScaleOffset=this._lightmapScaleOffset;
		}
	}

	__proto.disableLight=function(){
		for (var i=0,n=this._children.length;i < n;i++){
			var terrainChunk=this._children[i];
			for (var j=0,m=terrainChunk._render.sharedMaterials.length;j < m;j++){
				var terrainMaterial=terrainChunk._render.sharedMaterials [j];
				terrainMaterial.disableLight();
			}
		}
	}

	__proto.buildTerrain=function(terrainRes){
		var chunkNumX=terrainRes._chunkNumX;
		var chunkNumZ=terrainRes._chunkNumZ;
		var heightData=terrainRes._heightData;
		var n=0;
		for (var i=0;i < chunkNumZ;i++){
			for (var j=0;j < chunkNumX;j++){
				var terrainChunk=new TerrainChunk(j,i,terrainRes._gridSize,heightData._terrainHeightData,heightData._width,heightData._height,terrainRes._cameraCoordinateInverse);
				var chunkInfo=terrainRes._chunkInfos[n++];
				for (var k=0;k < chunkInfo.alphaMap.length;k++){
					var nNum=chunkInfo.detailID[k].length;
					var sDetialTextureUrl1=(nNum > 0)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][0]].diffuseTexture :null;
					var sDetialTextureUrl2=(nNum > 1)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][1]].diffuseTexture :null;
					var sDetialTextureUrl3=(nNum > 2)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][2]].diffuseTexture :null;
					var sDetialTextureUrl4=(nNum > 3)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][3]].diffuseTexture :null;
					var detialScale1=(nNum > 0)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][0]].scale :null;
					var detialScale2=(nNum > 1)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][1]].scale :null;
					var detialScale3=(nNum > 2)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][2]].scale :null;
					var detialScale4=(nNum > 3)? terrainRes._detailTextureInfos[chunkInfo.detailID[k][3]].scale :null;
					terrainChunk.buildRenderElementAndMaterial(nNum,chunkInfo.normalMap,chunkInfo.alphaMap[k],sDetialTextureUrl1,sDetialTextureUrl2,sDetialTextureUrl3,sDetialTextureUrl4,terrainRes._materialInfo.ambientColor,terrainRes._materialInfo.diffuseColor,terrainRes._materialInfo.specularColor,detialScale1 ? detialScale1.x :1,detialScale1 ? detialScale1.y :1,detialScale2 ? detialScale2.x :1,detialScale2 ? detialScale2.y :1,detialScale3 ? detialScale3.x :1,detialScale3 ? detialScale3.y :1,detialScale4 ? detialScale4.x :1,detialScale4 ? detialScale4.y :1);
				}
				terrainChunk.terrainRender.receiveShadow=true;
				terrainChunk.terrainRender.lightmapScaleOffset=this._lightmapScaleOffset;
				this.addChild(terrainChunk);
			}
		}
	}

	/**
	*获取地形X轴长度。
	*@return 地形X轴长度。
	*/
	__proto.width=function(){
		return this._terrainRes._chunkNumX *TerrainLeaf.CHUNK_GRID_NUM *this._terrainRes._gridSize;
	}

	/**
	*获取地形Z轴长度。
	*@return 地形Z轴长度。
	*/
	__proto.depth=function(){
		return this._terrainRes._chunkNumZ *TerrainLeaf.CHUNK_GRID_NUM *this._terrainRes._gridSize;
	}

	/**
	*获取地形高度。
	*@param x X轴坐标。
	*@param z Z轴坐标。
	*/
	__proto.getHeightXZ=function(x,z){
		if (!this._terrainRes || !this._terrainRes.loaded)
			return NaN;
		x-=this.transform.position.x;
		z-=this.transform.position.z;
		if (!Terrain.__VECTOR3__){
			Terrain.__VECTOR3__=new Vector3();
		}
		Terrain.__VECTOR3__.elements[0]=x;
		Terrain.__VECTOR3__.elements[1]=0;
		Terrain.__VECTOR3__.elements[2]=z;
		Vector3.transformV3ToV3(Terrain.__VECTOR3__,TerrainLeaf.__ADAPT_MATRIX_INV__,Terrain.__VECTOR3__);
		x=Terrain.__VECTOR3__.elements[0];
		z=Terrain.__VECTOR3__.elements[2];
		if (x < 0 || x > this.width()|| z < 0 || z > this.depth())
			return NaN;
		var gridSize=this._terrainRes._gridSize;
		var nIndexX=parseInt(""+x / gridSize);
		var nIndexZ=parseInt(""+z / gridSize);
		var offsetX=x-nIndexX *gridSize;
		var offsetZ=z-nIndexZ *gridSize;
		var h1=NaN;
		var h2=NaN;
		var h3=NaN;
		var u=NaN;
		var v=NaN;
		var heightData=this._terrainRes._heightData;
		if (offsetX+offsetZ > gridSize){
			h1=heightData._terrainHeightData[(nIndexZ+1-1)*heightData._width+nIndexX+1];
			h2=heightData._terrainHeightData[(nIndexZ+1-1)*heightData._width+nIndexX];
			h3=heightData._terrainHeightData[(nIndexZ-1)*heightData._width+nIndexX+1];
			u=(gridSize-offsetX)/ gridSize;
			v=(gridSize-offsetZ)/ gridSize;
			return h1+(h2-h1)*u+(h3-h1)*v;
			}else {
			h1=heightData._terrainHeightData[Math.max(0.0,nIndexZ-1)*heightData._width+nIndexX];
			h2=heightData._terrainHeightData[Math.min(heightData._width *heightData._height-1,(nIndexZ+1-1)*heightData._width+nIndexX)];
			h3=heightData._terrainHeightData[Math.min(heightData._width *heightData._height-1,Math.max(0.0,nIndexZ-1)*heightData._width+nIndexX+1)];
			u=offsetX / gridSize;
			v=offsetZ / gridSize;
			return h1+(h2-h1)*v+(h3-h1)*u;
		}
	}

	__getset(0,__proto,'terrainRes',null,function(value){
		if (value){
			this._terrainRes=value;
			if (value.loaded)
				this.buildTerrain(value);
			else
			value.once("loaded",this,this.buildTerrain);
		}
	});

	Terrain.load=function(url){
		return Laya.loader.create(url,null,null,Terrain,null,1,false);
	}

	Terrain.RENDER_LINE_MODEL=false;
	Terrain.LOD_TOLERANCE_VALUE=4;
	Terrain.LOD_DISTANCE_FACTOR=2.0;
	Terrain.__VECTOR3__=null;
	return Terrain;
})(Sprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/BlinnPhongMaterial.as=======96.998997/96.998997
/**
*<code>BlinnPhongMaterial</code> 类用于实现Blinn-Phong材质。
*/
//class laya.d3.core.material.BlinnPhongMaterial extends laya.d3.core.material.BaseMaterial
var BlinnPhongMaterial=(function(_super){
	function BlinnPhongMaterial(){
		/**@private */
		//this._albedoColor=null;
		/**@private */
		//this._albedoIntensity=NaN;
		/**@private */
		//this._enableLighting=false;
		/**@private */
		//this._enableReflection=false;
		BlinnPhongMaterial.__super.call(this,12);
		this.setShaderName("BLINNPHONG");
		this._albedoIntensity=1.0;
		this._albedoColor=new Vector4(1.0,1.0,1.0,1.0);
		var sv=this._shaderValues;
		sv.setVector(5,new Vector4(1.0,1.0,1.0,1.0));
		sv.setVector(6,new Vector3(1.0,1.0,1.0));
		sv.setNumber(7,0.078125);
		sv.setNumber(0,0.5);
		sv.setVector(8,new Vector4(1.0,1.0,0.0,0.0));
		sv.setVector(9,new Vector3(0.5,0.5,0.5));
		this._enableLighting=true;
		this._enableReflection=false;
		this.renderMode=0;
	}

	__class(BlinnPhongMaterial,'laya.d3.core.material.BlinnPhongMaterial',_super);
	var __proto=BlinnPhongMaterial.prototype;
	/**
	*禁用雾化。
	*/
	__proto.disableFog=function(){
		this._disablePublicDefineDatas.add(Shader3D.SHADERDEFINE_FOG);
	}

	/**
	*@inheritDoc
	*/
	__proto.cloneTo=function(destObject){
		_super.prototype.cloneTo.call(this,destObject);
		var destMaterial=destObject;
		destMaterial._enableLighting=this._enableLighting;
		destMaterial._enableReflection=this._enableReflection;
		destMaterial._albedoIntensity=this._albedoIntensity;
		this._albedoColor.cloneTo(destMaterial._albedoColor);
	}

	/**
	*设置渲染模式。
	*@return 渲染模式。
	*/
	__getset(0,__proto,'renderMode',null,function(value){
		var renderState=this.getRenderState();
		switch (value){
			case 0:
				this.alphaTest=false;
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				renderState.depthTest=0x0201;
				this._defineDatas.remove(BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 1:
				this.renderQueue=2450;
				this.alphaTest=true;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				renderState.depthTest=0x0201;
				this._defineDatas.remove(BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 2:
				this.renderQueue=3000;
				this.alphaTest=false;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				renderState.depthTest=0x0201;
				this._defineDatas.remove(BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 3:
				this.renderQueue=3000;
				this.alphaTest=false;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				renderState.depthTest=0x0201;
				this._defineDatas.add(BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			default :
				throw new Error("Material:renderMode value error.");
			}
	});

	/**
	*设置法线贴图。
	*@param value 法线贴图。
	*/
	/**
	*获取法线贴图。
	*@return 法线贴图。
	*/
	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_NORMALMAP);
		else
		this._defineDatas.remove(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_NORMALMAP);
		this._shaderValues.setTexture(2,value);
	});

	/**
	*获取纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	/**
	*获取纹理平铺和偏移。
	*@return 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',function(){
		return this._shaderValues.getVector(8);
		},function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(8,value);
	});

	/**
	*设置高光颜色。
	*@param value 高光颜色。
	*/
	/**
	*获取高光颜色。
	*@return 高光颜色。
	*/
	__getset(0,__proto,'specularColor',function(){
		return this._shaderValues.getVector(6);
		},function(value){
		this._shaderValues.setVector(6,value);
	});

	/**
	*设置反照率颜色。
	*@param value 反照率颜色。
	*/
	/**
	*获取反照率颜色。
	*@return 反照率颜色。
	*/
	__getset(0,__proto,'albedoColor',function(){
		return this._albedoColor;
		},function(value){
		var finalAlbedo=this._shaderValues.getVector(5);
		Vector4.scale(value,this._albedoIntensity,finalAlbedo);
		this._albedoColor=value;
		this._shaderValues.setVector(5,finalAlbedo);
	});

	/**
	*设置反照率强度。
	*@param value 反照率强度。
	*/
	/**
	*获取反照率强度。
	*@return 反照率强度。
	*/
	__getset(0,__proto,'albedoIntensity',function(){
		return this._albedoIntensity;
		},function(value){
		if (this._albedoIntensity!==value){
			var finalAlbedo=this._shaderValues.getVector(5);
			Vector4.scale(this._albedoColor,value,finalAlbedo);
			this._albedoIntensity=value;
			this._shaderValues.setVector(5,finalAlbedo);
		}
	});

	/**
	*设置高光贴图，高光强度则从该贴图RGB值中获取,如果该值为空则从漫反射贴图的Alpha通道获取。
	*@param value 高光贴图。
	*/
	/**
	*获取高光贴图。
	*@return 高光贴图。
	*/
	__getset(0,__proto,'specularTexture',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_SPECULARMAP);
		else
		this._defineDatas.remove(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_SPECULARMAP);
		this._shaderValues.setTexture(3,value);
	});

	/**
	*设置反照率贴图。
	*@param value 反照率贴图。
	*/
	/**
	*获取反照率贴图。
	*@return 反照率贴图。
	*/
	__getset(0,__proto,'albedoTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_DIFFUSEMAP);
		else
		this._defineDatas.remove(laya.d3.core.material.BlinnPhongMaterial.SHADERDEFINE_DIFFUSEMAP);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*设置高光强度,范围为0到1。
	*@param value 高光强度。
	*/
	/**
	*获取高光强度,范围为0到1。
	*@return 高光强度。
	*/
	__getset(0,__proto,'shininess',function(){
		return this._shaderValues.getNumber(7);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(7,value);
	});

	/**
	*设置是否启用光照。
	*@param value 是否启用光照。
	*/
	/**
	*获取是否启用光照。
	*@return 是否启用光照。
	*/
	__getset(0,__proto,'enableLighting',function(){
		return this._enableLighting;
		},function(value){
		if (this._enableLighting!==value){
			if (value)
				this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			else
			this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			this._enableLighting=value;
		}
	});

	/**
	*设置是否启用光照。
	*@param value 是否启用光照。
	*/
	/**
	*获取是否启用光照。
	*@return 是否启用光照。
	*/
	__getset(0,__proto,'enableReflection',function(){
		return this._enableReflection;
		},function(value){
		if (this._enableReflection!==value){
			if (value)
				this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_REFLECTMAP);
			else
			this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_REFLECTMAP);
			this._enableReflection=value;
		}
	});

	/**
	*设置反射颜色。
	*@param value 反射颜色。
	*/
	/**
	*获取反射颜色。
	*@return 反射颜色。
	*/
	__getset(0,__proto,'reflectionColor',function(){
		return this._shaderValues.getVector(9);
		},function(value){
		this._shaderValues.setVector(9,value);
	});

	BlinnPhongMaterial.__init__=function(){
		BlinnPhongMaterial.SHADERDEFINE_DIFFUSEMAP=BlinnPhongMaterial.shaderDefines.registerDefine("DIFFUSEMAP");
		BlinnPhongMaterial.SHADERDEFINE_NORMALMAP=BlinnPhongMaterial.shaderDefines.registerDefine("NORMALMAP");
		BlinnPhongMaterial.SHADERDEFINE_SPECULARMAP=BlinnPhongMaterial.shaderDefines.registerDefine("SPECULARMAP");
		BlinnPhongMaterial.SHADERDEFINE_TILINGOFFSET=BlinnPhongMaterial.shaderDefines.registerDefine("TILINGOFFSET");
		BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG=BlinnPhongMaterial.shaderDefines.registerDefine("ADDTIVEFOG");
	}

	BlinnPhongMaterial.load=function(url){
		return Laya.loader.create(url,null,null,BlinnPhongMaterial);
	}

	BlinnPhongMaterial.SPECULARSOURCE_DIFFUSEMAPALPHA=0;
	BlinnPhongMaterial.SPECULARSOURCE_SPECULARMAP=0;
	BlinnPhongMaterial.RENDERMODE_OPAQUE=0;
	BlinnPhongMaterial.RENDERMODE_CUTOUT=1;
	BlinnPhongMaterial.RENDERMODE_TRANSPARENT=2;
	BlinnPhongMaterial.RENDERMODE_ADDTIVE=3;
	BlinnPhongMaterial.SHADERDEFINE_DIFFUSEMAP=0;
	BlinnPhongMaterial.SHADERDEFINE_NORMALMAP=0;
	BlinnPhongMaterial.SHADERDEFINE_SPECULARMAP=0;
	BlinnPhongMaterial.SHADERDEFINE_TILINGOFFSET=0;
	BlinnPhongMaterial.SHADERDEFINE_ADDTIVEFOG=0;
	BlinnPhongMaterial.ALBEDOTEXTURE=1;
	BlinnPhongMaterial.NORMALTEXTURE=2;
	BlinnPhongMaterial.SPECULARTEXTURE=3;
	BlinnPhongMaterial.EMISSIVETEXTURE=4;
	BlinnPhongMaterial.ALBEDOCOLOR=5;
	BlinnPhongMaterial.MATERIALSPECULAR=6;
	BlinnPhongMaterial.SHININESS=7;
	BlinnPhongMaterial.TILINGOFFSET=8;
	BlinnPhongMaterial.REFLECTIONCOLOR=9;
	__static(BlinnPhongMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new BlinnPhongMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return BlinnPhongMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/ExtendTerrainMaterial.as=======96.998996/96.998996
/**
*...
*@author ...
*/
//class laya.d3.core.material.ExtendTerrainMaterial extends laya.d3.core.material.BaseMaterial
var ExtendTerrainMaterial=(function(_super){
	function ExtendTerrainMaterial(){
		/**@private */
		this._enableLighting=true;
		ExtendTerrainMaterial.__super.call(this,14+1);
		this.setShaderName("ExtendTerrain",15);
		this.renderMode=1;
	}

	__class(ExtendTerrainMaterial,'laya.d3.core.material.ExtendTerrainMaterial',_super);
	var __proto=ExtendTerrainMaterial.prototype;
	__proto._setDetailNum=function(value){
		switch (value){
			case 1:
				this._defineDatas.add(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);
				break ;
			case 2:
				this._defineDatas.add(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);
				break ;
			case 3:
				this._defineDatas.add(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);
				break ;
			case 4:
				this._defineDatas.add(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);
				break ;
			case 5:
				this._defineDatas.add(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				break ;
			}
	}

	__getset(0,__proto,'diffuseScaleOffset2',null,function(scaleOffset2){
		this._shaderValues.setVector(7,scaleOffset2);
	});

	/**
	*设置splatAlpha贴图。
	*@param value splatAlpha贴图。
	*/
	/**
	*获取splatAlpha贴图。
	*@return splatAlpha贴图。
	*/
	__getset(0,__proto,'splatAlphaTexture',function(){
		return this._shaderValues.getTexture(0);
		},function(value){
		this._shaderValues.setTexture(0,value);
	});

	__getset(0,__proto,'diffuseScaleOffset3',null,function(scaleOffset3){
		this._shaderValues.setVector(8,scaleOffset3);
	});

	/**
	*设置第一层贴图。
	*@param value 第一层贴图。
	*/
	__getset(0,__proto,'diffuseTexture1',null,function(value){
		this._shaderValues.setTexture(1,value);
		this._setDetailNum(1);
	});

	/**
	*设置渲染模式。
	*@return 渲染模式。
	*/
	__getset(0,__proto,'renderMode',null,function(value){
		var renderState=this.getRenderState();
		switch (value){
			case 1:
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				renderState.depthTest=0x0201;
				break ;
			case 2:
				this.renderQueue=2000;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				renderState.depthTest=0x0203;
				break ;
			default :
				throw new Error("ExtendTerrainMaterial:renderMode value error.");
			}
	});

	/**
	*设置第二层贴图。
	*@param value 第二层贴图。
	*/
	/**
	*获取第二层贴图。
	*@return 第二层贴图。
	*/
	__getset(0,__proto,'diffuseTexture2',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		this._shaderValues.setTexture(2,value);
		this._setDetailNum(2);
	});

	__getset(0,__proto,'diffuseScaleOffset1',null,function(scaleOffset1){
		this._shaderValues.setVector(6,scaleOffset1);
	});

	/**
	*设置第三层贴图。
	*@param value 第三层贴图。
	*/
	/**
	*获取第三层贴图。
	*@return 第三层贴图。
	*/
	__getset(0,__proto,'diffuseTexture3',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		this._shaderValues.setTexture(3,value);
		this._setDetailNum(3);
	});

	/**
	*设置第四层贴图。
	*@param value 第四层贴图。
	*/
	/**
	*获取第四层贴图。
	*@return 第四层贴图。
	*/
	__getset(0,__proto,'diffuseTexture4',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		this._shaderValues.setTexture(4,value);
		this._setDetailNum(4);
	});

	/**
	*设置第五层贴图。
	*@param value 第五层贴图。
	*/
	/**
	*获取第五层贴图。
	*@return 第五层贴图。
	*/
	__getset(0,__proto,'diffuseTexture5',function(){
		return this._shaderValues.getTexture(5);
		},function(value){
		this._shaderValues.setTexture(5,value);
		this._setDetailNum(5);
	});

	__getset(0,__proto,'diffuseScaleOffset4',null,function(scaleOffset4){
		this._shaderValues.setVector(9,scaleOffset4);
	});

	__getset(0,__proto,'diffuseScaleOffset5',null,function(scaleOffset5){
		this._shaderValues.setVector(10,scaleOffset5);
	});

	/**
	*设置反射率颜色。
	*@param value 反射率颜色。
	*/
	/**
	*获取反射率颜色。
	*@return 反射率颜色。
	*/
	__getset(0,__proto,'albedo',function(){
		return this._shaderValues.getVector(14);
		},function(value){
		this._shaderValues.setVector(14,value);
	});

	/**
	*设置环境光颜色。
	*@param value 环境光颜色
	*/
	/**
	*获取环境光颜色。
	*@return 环境光颜色。
	*/
	__getset(0,__proto,'ambientColor',function(){
		return this._shaderValues.getVector(11);
		},function(value){
		this._shaderValues.setVector(11,value);
	});

	/**
	*设置漫反射颜色。
	*@param value 漫反射颜色。
	*/
	/**
	*获取漫反射颜色。
	*@return 漫反射颜色。
	*/
	__getset(0,__proto,'diffuseColor',function(){
		return this._shaderValues.getVector(12);
		},function(value){
		this._shaderValues.setVector(12,value);
	});

	/**
	*设置高光颜色。
	*@param value 高光颜色。
	*/
	/**
	*获取高光颜色。
	*@return 高光颜色。
	*/
	__getset(0,__proto,'specularColor',function(){
		return this._shaderValues.getVector(13);
		},function(value){
		this._shaderValues.setVector(13,value);
	});

	/**
	*设置是否启用光照。
	*@param value 是否启用光照。
	*/
	/**
	*获取是否启用光照。
	*@return 是否启用光照。
	*/
	__getset(0,__proto,'enableLighting',function(){
		return this._enableLighting;
		},function(value){
		if (this._enableLighting!==value){
			if (value)
				this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			else
			this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			this._enableLighting=value;
		}
	});

	ExtendTerrainMaterial.__init__=function(){
		ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1=ExtendTerrainMaterial.shaderDefines.registerDefine("ExtendTerrain_DETAIL_NUM1");
		ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2=ExtendTerrainMaterial.shaderDefines.registerDefine("ExtendTerrain_DETAIL_NUM2");
		ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3=ExtendTerrainMaterial.shaderDefines.registerDefine("ExtendTerrain_DETAIL_NUM3");
		ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4=ExtendTerrainMaterial.shaderDefines.registerDefine("ExtendTerrain_DETAIL_NUM4");
		ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5=ExtendTerrainMaterial.shaderDefines.registerDefine("ExtendTerrain_DETAIL_NUM5");
	}

	ExtendTerrainMaterial.RENDERMODE_OPAQUE=1;
	ExtendTerrainMaterial.RENDERMODE_TRANSPARENT=2;
	ExtendTerrainMaterial.SPLATALPHATEXTURE=0;
	ExtendTerrainMaterial.DIFFUSETEXTURE1=1;
	ExtendTerrainMaterial.DIFFUSETEXTURE2=2;
	ExtendTerrainMaterial.DIFFUSETEXTURE3=3;
	ExtendTerrainMaterial.DIFFUSETEXTURE4=4;
	ExtendTerrainMaterial.DIFFUSETEXTURE5=5;
	ExtendTerrainMaterial.DIFFUSESCALEOFFSET1=6;
	ExtendTerrainMaterial.DIFFUSESCALEOFFSET2=7;
	ExtendTerrainMaterial.DIFFUSESCALEOFFSET3=8;
	ExtendTerrainMaterial.DIFFUSESCALEOFFSET4=9;
	ExtendTerrainMaterial.DIFFUSESCALEOFFSET5=10;
	ExtendTerrainMaterial.MATERIALAMBIENT=11;
	ExtendTerrainMaterial.MATERIALDIFFUSE=12;
	ExtendTerrainMaterial.MATERIALSPECULAR=13;
	ExtendTerrainMaterial.MATERIALALBEDO=14;
	ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM1=0;
	ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM2=0;
	ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM3=0;
	ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM4=0;
	ExtendTerrainMaterial.SHADERDEFINE_DETAIL_NUM5=0;
	__static(ExtendTerrainMaterial,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return ExtendTerrainMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/PBRMaterial.as=======96.998995/96.998995
//class laya.d3.core.material.PBRMaterial extends laya.d3.core.material.BaseMaterial
var PBRMaterial=(function(_super){
	function PBRMaterial(){
		/**@private */
		this._transformUV=null;
		PBRMaterial.__super.call(this,15);
		if (!laya.d3.core.material.PBRMaterial.pbrlutTex){
			var lutdt=Browser.window['__pbrlutdata'];
			if (!lutdt){
				alert('no pbr lutdata, need pbrlut.js');
				throw 'no pbr lutdata, need pbrlut.js';
			};
			var luttex=DataTexture2D.create((new Uint32Array(lutdt)).buffer,256,256,0x2600,0x2600,false);
			laya.d3.core.material.PBRMaterial.pbrlutTex=luttex;
		}
		this._shaderValues.setTexture(4,laya.d3.core.material.PBRMaterial.pbrlutTex);
		this.setShaderName("PBR");
		this._shaderValues.setNumber(0,0.5);
		this.use_groundtruth=false;
	}

	__class(PBRMaterial,'laya.d3.core.material.PBRMaterial',_super);
	var __proto=PBRMaterial.prototype;
	/**
	*禁用灯光。
	*/
	__proto.disableLight=function(){
		this._defineDatas.add(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
	}

	/**
	*禁用雾化。
	*/
	__proto.disableFog=function(){
		this._defineDatas.add(Shader3D.SHADERDEFINE_FOG);
	}

	/**
	*vdc算法产生的序列。这个比random要均匀一些。
	*/
	__proto.radicalInverse_VdC=function(bits){
		var tmpUint=new Uint32Array(1);
		return (function(bits){
			bits=(bits << 16)| (bits >>> 16);
			bits=((bits & 0x55555555)<< 1)| ((bits & 0xAAAAAAAA)>>> 1);
			bits=((bits & 0x33333333)<< 2)| ((bits & 0xCCCCCCCC)>>> 2);
			bits=((bits & 0x0F0F0F0F)<< 4)| ((bits & 0xF0F0F0F0)>>> 4);
			bits=((bits & 0x00FF00FF)<< 8)| ((bits & 0xFF00FF00)>>> 8);
			tmpUint[0]=bits;
			return tmpUint[0] *2.3283064365386963e-10;
		})(bits);
	}

	/**
	*
	*/
	__proto.createHammersleyTex=function(w,h){
		var ret=new Uint8Array(w *h *4);
		var ri=0;
		var ci=0;
		for (ci=0;ci < w *h;ci++){
			var v=this.radicalInverse_VdC(ci);
			ret[ri++]=v *255;
			ret[ri++]=0;
			ret[ri++]=0;
			ret[ri++]=255;
		}
		return ret;
	}

	/**
	*设置法线贴图。
	*@param value 法线贴图。
	*/
	/**
	*获取法线贴图。
	*@return 法线贴图。
	*/
	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		this._shaderValues.setTexture(2,value);
	});

	__getset(0,__proto,'has_tangent',null,function(v){
		this._defineDatas.add(PBRMaterial.SHADERDEFINE_HAS_TANGENT);
	});

	/**
	*设置粗糙度的值，0为特别光滑，1为特别粗糙。
	*@param value 粗糙度。
	*/
	/**
	*获取粗糙度的值，0为特别光滑，1为特别粗糙。
	*@return 粗糙度的值。
	*/
	__getset(0,__proto,'roughness',function(){
		return this._shaderValues.getNumber(6);
		},function(value){
		this._shaderValues.setNumber(6,value);
		this._defineDatas.add(PBRMaterial.SHADERDEFINE_FIX_ROUGHNESS);
	});

	__getset(0,__proto,'metaless',function(){
		return this._shaderValues.getNumber(7);
		},function(v){
		this._shaderValues.setNumber(7,v);
		this._defineDatas.add(PBRMaterial.SHADERDEFINE_FIX_METALESS);
	});

	/**
	*设置PBRLUT贴图。
	*@param value PBRLUT贴图。
	*/
	/**
	*获取PBRLUT贴图。
	*@return PBRLUT贴图。
	*/
	__getset(0,__proto,'pbrlutTexture',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		this._shaderValues.setTexture(4,value);
	});

	__getset(0,__proto,'use_groundtruth',null,function(v){
		if (v){
			this._defineDatas.add(PBRMaterial.SHADERDEFINE_USE_GROUNDTRUTH);
			if (!laya.d3.core.material.PBRMaterial.HammersleyNoiseTex){
				var texdata=this.createHammersleyTex(32,32);
				laya.d3.core.material.PBRMaterial.HammersleyNoiseTex=DataTexture2D.create(texdata.buffer,32,32,0x2600,0x2600,false);
			}
			this._shaderValues.setTexture(15,PBRMaterial.HammersleyNoiseTex);
			}else {
			laya.d3.core.material.PBRMaterial.HammersleyNoiseTex=null;
			this._defineDatas.remove(PBRMaterial.SHADERDEFINE_USE_GROUNDTRUTH);
		}
	});

	/**
	*设置UV变换。
	*@param value UV变换。
	*/
	/**
	*获取UV变换。
	*@return UV变换。
	*/
	__getset(0,__proto,'transformUV',function(){
		return this._transformUV;
		},function(value){
		this._transformUV=value;
		this._shaderValues.setMatrix4x4(8,value.matrix);
	});

	/**
	*设置漫反射贴图。
	*@param value 漫反射贴图。
	*/
	/**
	*获取漫反射贴图。
	*@return 漫反射贴图。
	*/
	__getset(0,__proto,'diffuseTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		this._shaderValues.setTexture(1,value);
	});

	__getset(0,__proto,'renderMode',null,function(value){
		var renderState=this.getRenderState();
		switch (value){
			case 1:
				renderState.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				this.alphaTest=false;
				break ;
			case 2:
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=0;
				renderState.blend=0;
				this.alphaTest=false;
				break ;
			case 3:
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				this.renderQueue=2450;
				break ;
			case 13:
				this.renderQueue=3000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				break ;
			default :
				throw new Error("PBRMaterial:renderMode value error.");
			}
	});

	/**
	*设置pbr信息贴图。
	*@param value pbr信息贴图。
	*/
	/**
	*获取pbr信息贴图。
	*@return pbr信息贴图。
	*/
	__getset(0,__proto,'pbrInfoTexture',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		this._shaderValues.setTexture(3,value);
		this._defineDatas.add(PBRMaterial.SHADERDEFINE_HAS_PBRINFO);
	});

	__getset(0,__proto,'testClipZ',null,function(v){
		this._defineDatas.add(PBRMaterial.SHADERDEFINE_TEST_CLIPZ);
	});

	PBRMaterial.__init__=function(){
		PBRMaterial.SHADERDEFINE_FIX_METALESS=PBRMaterial.shaderDefines.registerDefine("FIX_METALESS");
		PBRMaterial.SHADERDEFINE_FIX_ROUGHNESS=PBRMaterial.shaderDefines.registerDefine("FIX_ROUGHNESS");
		PBRMaterial.SHADERDEFINE_HAS_TANGENT=PBRMaterial.shaderDefines.registerDefine("HAS_TANGENT");
		PBRMaterial.SHADERDEFINE_HAS_PBRINFO=PBRMaterial.shaderDefines.registerDefine("HAS_PBRINFO");
		PBRMaterial.SHADERDEFINE_USE_GROUNDTRUTH=PBRMaterial.shaderDefines.registerDefine("USE_GROUNDTRUTH");
		PBRMaterial.SHADERDEFINE_TEST_CLIPZ=PBRMaterial.shaderDefines.registerDefine("CLIPZ");
	}

	PBRMaterial.load=function(url){
		return Laya.loader.create(url,null,null,PBRMaterial);
	}

	PBRMaterial.DIFFUSETEXTURE=1;
	PBRMaterial.NORMALTEXTURE=2;
	PBRMaterial.PBRINFOTEXTURE=3;
	PBRMaterial.PBRLUTTEXTURE=4;
	PBRMaterial.UVANIAGE=5;
	PBRMaterial.MATERIALROUGHNESS=6;
	PBRMaterial.MATERIALMETALESS=7;
	PBRMaterial.UVMATRIX=8;
	PBRMaterial.UVAGE=9;
	PBRMaterial.AOOBJPOS=14;
	PBRMaterial.HSNOISETEXTURE=15;
	PBRMaterial.SHADERDEFINE_FIX_ROUGHNESS=0;
	PBRMaterial.SHADERDEFINE_FIX_METALESS=0;
	PBRMaterial.SHADERDEFINE_HAS_TANGENT=0;
	PBRMaterial.SHADERDEFINE_TEST_CLIPZ=0;
	PBRMaterial.SHADERDEFINE_HAS_PBRINFO=0;
	PBRMaterial.SHADERDEFINE_USE_GROUNDTRUTH=0;
	PBRMaterial.RENDERMODE_OPAQUE=1;
	PBRMaterial.RENDERMODE_OPAQUEDOUBLEFACE=2;
	PBRMaterial.RENDERMODE_CUTOUT=3;
	PBRMaterial.RENDERMODE_CUTOUTDOUBLEFACE=4;
	PBRMaterial.RENDERMODE_TRANSPARENT=13;
	PBRMaterial.pbrlutTex=null;
	PBRMaterial.HammersleyNoiseTex=null;
	__static(PBRMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new PBRMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return PBRMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/PBRSpecularMaterial.as=======96.998994/96.998994
/**
*...
*@author WuTaiLang
*/
//class laya.d3.core.material.PBRSpecularMaterial extends laya.d3.core.material.BaseMaterial
var PBRSpecularMaterial=(function(_super){
	function PBRSpecularMaterial(){
		PBRSpecularMaterial.__super.call(this,19);
		this.setShaderName("PBRSpecular");
		this._shaderValues.setVector(7,new Vector4(1.0,1.0,1.0,1.0));
		this._shaderValues.setVector(9,new Vector4(0.0,0.0,0.0,0.0));
		this._shaderValues.setVector(8,new Vector4(0.2,0.2,0.2,0.2));
		this._shaderValues.setNumber(10,0.5);
		this._shaderValues.setNumber(11,1.0);
		this._shaderValues.setNumber(12,0);
		this._shaderValues.setNumber(13,1.0);
		this._shaderValues.setNumber(14,1.0);
		this._shaderValues.setNumber(15,0.001);
		this._shaderValues.setBool(16,false);
		this._shaderValues.setNumber(0,0.5);
	}

	__class(PBRSpecularMaterial,'laya.d3.core.material.PBRSpecularMaterial',_super);
	var __proto=PBRSpecularMaterial.prototype;
	/**
	*设置漫反射颜色。
	*@param value 漫反射颜色。
	*/
	/**
	*获取漫反射颜色。
	*@return 漫反射颜色。
	*/
	__getset(0,__proto,'albedoColor',function(){
		return this._shaderValues.getVector(7);
		},function(value){
		this._shaderValues.setVector(7,value);
	});

	/**
	*设置高光贴图。
	*@param value 高光贴图。
	*/
	/**
	*获取高光贴图。
	*@return 高光贴图。
	*/
	__getset(0,__proto,'specularTexture',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_SPECULARTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_SPECULARTEXTURE);
		this._shaderValues.setTexture(2,value);
	});

	/**
	*设置漫反射贴图。
	*@param value 漫反射贴图。
	*/
	/**
	*获取漫反射贴图。
	*@return 漫反射贴图。
	*/
	__getset(0,__proto,'albedoTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*设置遮挡贴图。
	*@param value 遮挡贴图。
	*/
	/**
	*获取遮挡贴图。
	*@return 遮挡贴图。
	*/
	__getset(0,__proto,'occlusionTexture',function(){
		return this._shaderValues.getTexture(5);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_OCCLUSIONTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_OCCLUSIONTEXTURE);
		this._shaderValues.setTexture(5,value);
	});

	/**
	*设置法线贴图。
	*@param value 法线贴图。
	*/
	/**
	*获取法线贴图。
	*@return 法线贴图。
	*/
	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_NORMALTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_NORMALTEXTURE);
		this._shaderValues.setTexture(3,value);
	});

	/**
	*设置视差贴图。
	*@param value 视察贴图。
	*/
	/**
	*获取视差贴图。
	*@return 视察贴图。
	*/
	__getset(0,__proto,'parallaxTexture',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_PARALLAXTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_PARALLAXTEXTURE);
		this._shaderValues.setTexture(4,value);
	});

	/**
	*设置放射颜色。
	*@param value 放射颜色。
	*/
	/**
	*获取放射颜色。
	*@return 放射颜色。
	*/
	__getset(0,__proto,'emissionColor',function(){
		return this._shaderValues.getVector(9);
		},function(value){
		this._shaderValues.setVector(9,value);
	});

	/**
	*设置法线贴图缩放系数。
	*@param value 法线贴图缩放系数。
	*/
	/**
	*获取法线贴图缩放系数。
	*@return 法线贴图缩放系数。
	*/
	__getset(0,__proto,'normalTextureScale',function(){
		return this._shaderValues.getNumber(14);
		},function(value){
		this._shaderValues.setNumber(14,value);
	});

	/**
	*设置视差贴图缩放系数。
	*@param value 视差缩放系数。
	*/
	/**
	*获取视差贴图缩放系数。
	*@return 视差缩放系数。
	*/
	__getset(0,__proto,'parallaxTextureScale',function(){
		return this._shaderValues.getNumber(15);
		},function(value){
		value=Math.max(0.005,Math.min(0.08,value));
		this._shaderValues.setNumber(15,value);
	});

	/**
	*设置遮挡贴图强度。
	*@param value 遮挡贴图强度,范围为0到1。
	*/
	/**
	*获取遮挡贴图强度。
	*@return 遮挡贴图强度,范围为0到1。
	*/
	__getset(0,__proto,'occlusionTextureStrength',function(){
		return this._shaderValues.getNumber(13);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(13,value);
	});

	/**
	*设置高光颜色。
	*@param value 高光颜色。
	*/
	/**
	*获取高光颜色。
	*@return 高光颜色。
	*/
	__getset(0,__proto,'specularColor',function(){
		return this._shaderValues.getVector(8);
		},function(value){
		this._shaderValues.setVector(8,value);
	});

	/**
	*设置光滑度。
	*@param value 光滑度,范围为0到1。
	*/
	/**
	*获取光滑度。
	*@return 光滑度,范围为0到1。
	*/
	__getset(0,__proto,'smoothness',function(){
		return this._shaderValues.getNumber(10);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(10,value);
	});

	/**
	*设置光滑度缩放系数。
	*@param value 光滑度缩放系数,范围为0到1。
	*/
	/**
	*获取光滑度缩放系数。
	*@return 光滑度缩放系数,范围为0到1。
	*/
	__getset(0,__proto,'smoothnessTextureScale',function(){
		return this._shaderValues.getNumber(11);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(11,value);
	});

	/**
	*设置光滑度数据源。
	*@param value 光滑滑度数据源,0或1。
	*/
	/**
	*获取光滑度数据源
	*@return 光滑滑度数据源,0或1。
	*/
	__getset(0,__proto,'smoothnessSource',function(){
		return this._shaderValues.getNumber(12);
		},function(value){
		if (value==1)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA);
		else {
			this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA);
			value=0;
		}
		this._shaderValues.setNumber(12,value);
	});

	/**
	*设置是否激活放射属性。
	*@param value 是否激活放射属性
	*/
	/**
	*获取是否激活放射属性。
	*@return 是否激活放射属性。
	*/
	__getset(0,__proto,'enableEmission',function(){
		return this._shaderValues.getBool(16);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_EMISSION);
		else {
			this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_EMISSION);
		}
		this._shaderValues.setBool(16,value);
	});

	/**
	*设置放射贴图。
	*@param value 放射贴图。
	*/
	/**
	*获取放射贴图。
	*@return 放射贴图。
	*/
	__getset(0,__proto,'emissionTexture',function(){
		return this._shaderValues.getTexture(6);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_EMISSIONTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_EMISSIONTEXTURE);
		this._shaderValues.setTexture(6,value);
	});

	/**
	*设置是否开启反射。
	*@param value 是否开启反射。
	*/
	/**
	*获取是否开启反射。
	*@return 是否开启反射。
	*/
	__getset(0,__proto,'enableReflection',function(){
		return this._shaderValues.getBool(17);
		},function(value){
		this._shaderValues.setBool(17,true);
		if (value)
			this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_REFLECTMAP);
		else
		this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_REFLECTMAP);
	});

	/**
	*获取纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',null,function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.material.PBRSpecularMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(18,value);
	});

	PBRSpecularMaterial.__init__=function(){
		PBRSpecularMaterial.SHADERDEFINE_DIFFUSETEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("DIFFUSETEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_SPECULARTEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("SPECULARTEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA=PBRSpecularMaterial.shaderDefines.registerDefine("SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA");
		PBRSpecularMaterial.SHADERDEFINE_NORMALTEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("NORMALTEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_PARALLAXTEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("PARALLAXTEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_OCCLUSIONTEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("OCCLUSIONTEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_EMISSION=PBRSpecularMaterial.shaderDefines.registerDefine("EMISSION");
		PBRSpecularMaterial.SHADERDEFINE_EMISSIONTEXTURE=PBRSpecularMaterial.shaderDefines.registerDefine("EMISSIONTEXTURE");
		PBRSpecularMaterial.SHADERDEFINE_TILINGOFFSET=PBRSpecularMaterial.shaderDefines.registerDefine("TILINGOFFSET");
	}

	PBRSpecularMaterial.SmoothnessSource_MetallicGlossTexture_Alpha=0;
	PBRSpecularMaterial.SmoothnessSource_DiffuseTexture_Alpha=1;
	PBRSpecularMaterial.SHADERDEFINE_DIFFUSETEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_NORMALTEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA=0;
	PBRSpecularMaterial.SHADERDEFINE_SPECULARTEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_OCCLUSIONTEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_PARALLAXTEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_EMISSION=0;
	PBRSpecularMaterial.SHADERDEFINE_EMISSIONTEXTURE=0;
	PBRSpecularMaterial.SHADERDEFINE_TILINGOFFSET=0;
	PBRSpecularMaterial.DIFFUSETEXTURE=1;
	PBRSpecularMaterial.SPECULARTEXTURE=2;
	PBRSpecularMaterial.NORMALTEXTURE=3;
	PBRSpecularMaterial.PARALLAXTEXTURE=4;
	PBRSpecularMaterial.OCCLUSIONTEXTURE=5;
	PBRSpecularMaterial.EMISSIONTEXTURE=6;
	PBRSpecularMaterial.DIFFUSECOLOR=7;
	PBRSpecularMaterial.SPECULARCOLOR=8;
	PBRSpecularMaterial.EMISSIONCOLOR=9;
	PBRSpecularMaterial.SMOOTHNESS=10;
	PBRSpecularMaterial.SMOOTHNESSSCALE=11;
	PBRSpecularMaterial.SMOOTHNESSSOURCE=12;
	PBRSpecularMaterial.OCCLUSIONSTRENGTH=13;
	PBRSpecularMaterial.NORMALSCALE=14;
	PBRSpecularMaterial.PARALLAXSCALE=15;
	PBRSpecularMaterial.ENABLEEMISSION=16;
	PBRSpecularMaterial.ENABLEREFLECT=17;
	PBRSpecularMaterial.TILINGOFFSET=18;
	__static(PBRSpecularMaterial,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return PBRSpecularMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/PBRStandardMaterial.as=======96.998993/96.998993
/**
*...
*@author WuTaiLang
*/
//class laya.d3.core.material.PBRStandardMaterial extends laya.d3.core.material.BaseMaterial
var PBRStandardMaterial=(function(_super){
	function PBRStandardMaterial(){
		PBRStandardMaterial.__super.call(this,19);
		this.setShaderName("PBRStandard");
		this._shaderValues.setVector(7,new Vector4(1.0,1.0,1.0,1.0));
		this._shaderValues.setVector(8,new Vector4(0.0,0.0,0.0,0.0));
		this._shaderValues.setNumber(9,0.0);
		this._shaderValues.setNumber(10,0.5);
		this._shaderValues.setNumber(11,1.0);
		this._shaderValues.setNumber(12,0);
		this._shaderValues.setNumber(13,1.0);
		this._shaderValues.setNumber(14,1.0);
		this._shaderValues.setNumber(15,0.001);
		this._shaderValues.setBool(16,false);
		this._shaderValues.setBool(17,true);
		this._shaderValues.setNumber(0,0.5);
		this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_REFLECTMAP);
	}

	__class(PBRStandardMaterial,'laya.d3.core.material.PBRStandardMaterial',_super);
	var __proto=PBRStandardMaterial.prototype;
	/**
	*设置漫反射颜色。
	*@param value 漫反射颜色。
	*/
	/**
	*获取漫反射颜色。
	*@return 漫反射颜色。
	*/
	__getset(0,__proto,'albedoColor',function(){
		return this._shaderValues.getVector(7);
		},function(value){
		this._shaderValues.setVector(7,value);
	});

	/**
	*设置漫反射贴图。
	*@param value 漫反射贴图。
	*/
	/**
	*获取漫反射贴图。
	*@return 漫反射贴图。
	*/
	__getset(0,__proto,'albedoTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*设置是否激活放射属性。
	*@param value 是否激活放射属性
	*/
	/**
	*获取是否激活放射属性。
	*@return 是否激活放射属性。
	*/
	__getset(0,__proto,'enableEmission',function(){
		return this._shaderValues.getBool(16);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_EMISSION);
		else {
			this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_EMISSION);
		}
		this._shaderValues.setBool(16,value);
	});

	/**
	*设置金属光滑度贴图。
	*@param value 金属光滑度贴图。
	*/
	/**
	*获取金属光滑度贴图。
	*@return 金属光滑度贴图。
	*/
	__getset(0,__proto,'metallicGlossTexture',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_METALLICGLOSSTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_METALLICGLOSSTEXTURE);
		this._shaderValues.setTexture(2,value);
	});

	/**
	*设置遮挡贴图。
	*@param value 遮挡贴图。
	*/
	/**
	*获取遮挡贴图。
	*@return 遮挡贴图。
	*/
	__getset(0,__proto,'occlusionTexture',function(){
		return this._shaderValues.getTexture(5);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_OCCLUSIONTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_OCCLUSIONTEXTURE);
		this._shaderValues.setTexture(5,value);
	});

	/**
	*设置法线贴图。
	*@param value 法线贴图。
	*/
	/**
	*获取法线贴图。
	*@return 法线贴图。
	*/
	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_NORMALTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_NORMALTEXTURE);
		this._shaderValues.setTexture(3,value);
	});

	/**
	*设置视差贴图。
	*@param value 视察贴图。
	*/
	/**
	*获取视差贴图。
	*@return 视察贴图。
	*/
	__getset(0,__proto,'parallaxTexture',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_PARALLAXTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_PARALLAXTEXTURE);
		this._shaderValues.setTexture(4,value);
	});

	/**
	*设置放射颜色。
	*@param value 放射颜色。
	*/
	/**
	*获取放射颜色。
	*@return 放射颜色。
	*/
	__getset(0,__proto,'emissionColor',function(){
		return this._shaderValues.getVector(8);
		},function(value){
		this._shaderValues.setVector(8,value);
	});

	/**
	*设置法线贴图缩放系数。
	*@param value 法线贴图缩放系数。
	*/
	/**
	*获取法线贴图缩放系数。
	*@return 法线贴图缩放系数。
	*/
	__getset(0,__proto,'normalTextureScale',function(){
		return this._shaderValues.getNumber(14);
		},function(value){
		this._shaderValues.setNumber(14,value);
	});

	/**
	*设置视差贴图缩放系数。
	*@param value 视差缩放系数。
	*/
	/**
	*获取视差贴图缩放系数。
	*@return 视差缩放系数。
	*/
	__getset(0,__proto,'parallaxTextureScale',function(){
		return this._shaderValues.getNumber(15);
		},function(value){
		value=Math.max(0.005,Math.min(0.08,value));
		this._shaderValues.setNumber(15,value);
	});

	/**
	*设置遮挡贴图强度。
	*@param value 遮挡贴图强度,范围为0到1。
	*/
	/**
	*获取遮挡贴图强度。
	*@return 遮挡贴图强度,范围为0到1。
	*/
	__getset(0,__proto,'occlusionTextureStrength',function(){
		return this._shaderValues.getNumber(13);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(13,value);
	});

	/**
	*设置金属度。
	*@param value 金属度,范围为0到1。
	*/
	/**
	*获取金属度。
	*@return 金属度,范围为0到1。
	*/
	__getset(0,__proto,'metallic',function(){
		return this._shaderValues.getNumber(9);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(9,value);
	});

	/**
	*设置光滑度。
	*@param value 光滑度,范围为0到1。
	*/
	/**
	*获取光滑度。
	*@return 光滑度,范围为0到1。
	*/
	__getset(0,__proto,'smoothness',function(){
		return this._shaderValues.getNumber(10);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(10,value);
	});

	/**
	*设置光滑度缩放系数。
	*@param value 光滑度缩放系数,范围为0到1。
	*/
	/**
	*获取光滑度缩放系数。
	*@return 光滑度缩放系数,范围为0到1。
	*/
	__getset(0,__proto,'smoothnessTextureScale',function(){
		return this._shaderValues.getNumber(11);
		},function(value){
		value=Math.max(0.0,Math.min(1.0,value));
		this._shaderValues.setNumber(11,value);
	});

	/**
	*设置光滑度数据源。
	*@param value 光滑滑度数据源,0或1。
	*/
	/**
	*获取光滑度数据源
	*@return 光滑滑度数据源,0或1。
	*/
	__getset(0,__proto,'smoothnessSource',function(){
		return this._shaderValues.getNumber(12);
		},function(value){
		if (value==1)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA);
		else {
			this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA);
			value=0;
		}
		this._shaderValues.setNumber(12,value);
	});

	/**
	*设置放射贴图。
	*@param value 放射贴图。
	*/
	/**
	*获取放射贴图。
	*@return 放射贴图。
	*/
	__getset(0,__proto,'emissionTexture',function(){
		return this._shaderValues.getTexture(6);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_EMISSIONTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_EMISSIONTEXTURE);
		this._shaderValues.setTexture(6,value);
	});

	/**
	*设置是否开启反射。
	*@param value 是否开启反射。
	*/
	/**
	*获取是否开启反射。
	*@return 是否开启反射。
	*/
	__getset(0,__proto,'enableReflection',function(){
		return this._shaderValues.getBool(17);
		},function(value){
		this._shaderValues.setBool(17,true);
		if (value)
			this._disablePublicDefineDatas.remove(Scene3D.SHADERDEFINE_REFLECTMAP);
		else
		this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_REFLECTMAP);
	});

	/**
	*获取纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',null,function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.material.PBRStandardMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(18,value);
	});

	PBRStandardMaterial.__init__=function(){
		PBRStandardMaterial.SHADERDEFINE_DIFFUSETEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("DIFFUSETEXTURE");
		PBRStandardMaterial.SHADERDEFINE_METALLICGLOSSTEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("METALLICGLOSSTEXTURE");
		PBRStandardMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA=PBRStandardMaterial.shaderDefines.registerDefine("SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA");
		PBRStandardMaterial.SHADERDEFINE_NORMALTEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("NORMALTEXTURE");
		PBRStandardMaterial.SHADERDEFINE_PARALLAXTEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("PARALLAXTEXTURE");
		PBRStandardMaterial.SHADERDEFINE_OCCLUSIONTEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("OCCLUSIONTEXTURE");
		PBRStandardMaterial.SHADERDEFINE_EMISSION=PBRStandardMaterial.shaderDefines.registerDefine("EMISSION");
		PBRStandardMaterial.SHADERDEFINE_EMISSIONTEXTURE=PBRStandardMaterial.shaderDefines.registerDefine("EMISSIONTEXTURE");
		PBRStandardMaterial.SHADERDEFINE_REFLECTMAP=PBRStandardMaterial.shaderDefines.registerDefine("REFLECTMAP");
		PBRStandardMaterial.SHADERDEFINE_TILINGOFFSET=PBRStandardMaterial.shaderDefines.registerDefine("TILINGOFFSET");
	}

	PBRStandardMaterial.SmoothnessSource_MetallicGlossTexture_Alpha=0;
	PBRStandardMaterial.SmoothnessSource_DiffuseTexture_Alpha=1;
	PBRStandardMaterial.SHADERDEFINE_DIFFUSETEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_NORMALTEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_SMOOTHNESSSOURCE_DIFFUSETEXTURE_ALPHA=0;
	PBRStandardMaterial.SHADERDEFINE_METALLICGLOSSTEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_OCCLUSIONTEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_PARALLAXTEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_EMISSION=0;
	PBRStandardMaterial.SHADERDEFINE_EMISSIONTEXTURE=0;
	PBRStandardMaterial.SHADERDEFINE_REFLECTMAP=0;
	PBRStandardMaterial.SHADERDEFINE_TILINGOFFSET=0;
	PBRStandardMaterial.DIFFUSETEXTURE=1;
	PBRStandardMaterial.METALLICGLOSSTEXTURE=2;
	PBRStandardMaterial.NORMALTEXTURE=3;
	PBRStandardMaterial.PARALLAXTEXTURE=4;
	PBRStandardMaterial.OCCLUSIONTEXTURE=5;
	PBRStandardMaterial.EMISSIONTEXTURE=6;
	PBRStandardMaterial.DIFFUSECOLOR=7;
	PBRStandardMaterial.EMISSIONCOLOR=8;
	PBRStandardMaterial.METALLIC=9;
	PBRStandardMaterial.SMOOTHNESS=10;
	PBRStandardMaterial.SMOOTHNESSSCALE=11;
	PBRStandardMaterial.SMOOTHNESSSOURCE=12;
	PBRStandardMaterial.OCCLUSIONSTRENGTH=13;
	PBRStandardMaterial.NORMALSCALE=14;
	PBRStandardMaterial.PARALLAXSCALE=15;
	PBRStandardMaterial.ENABLEEMISSION=16;
	PBRStandardMaterial.ENABLEREFLECT=17;
	PBRStandardMaterial.TILINGOFFSET=18;
	__static(PBRStandardMaterial,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return PBRStandardMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/SkyBoxMaterial.as=======96.998991/96.998991
/**
*<code>SkyBoxMaterial</code> 类用于实现SkyBoxMaterial材质。
*/
//class laya.d3.core.material.SkyBoxMaterial extends laya.d3.core.material.BaseMaterial
var SkyBoxMaterial=(function(_super){
	/**
	*创建一个 <code>SkyBoxMaterial</code> 实例。
	*/
	function SkyBoxMaterial(){
		SkyBoxMaterial.__super.call(this,5);
		this.setShaderName("SkyBox");
	}

	__class(SkyBoxMaterial,'laya.d3.core.material.SkyBoxMaterial',_super);
	var __proto=SkyBoxMaterial.prototype;
	/**
	*设置颜色。
	*@param value 颜色。
	*/
	/**
	*获取颜色。
	*@return 颜色。
	*/
	__getset(0,__proto,'tintColor',function(){
		return this._shaderValues.getVector(1);
		},function(value){
		this._shaderValues.setVector(1,value);
	});

	/**
	*设置曝光强度。
	*@param value 曝光强度。
	*/
	/**
	*获取曝光强度。
	*@return 曝光强度。
	*/
	__getset(0,__proto,'exposure',function(){
		return this._shaderValues.getNumber(2);
		},function(value){
		this._shaderValues.setNumber(2,value);
	});

	/**
	*设置曝光强度。
	*@param value 曝光强度。
	*/
	/**
	*获取曝光强度。
	*@return 曝光强度。
	*/
	__getset(0,__proto,'rotation',function(){
		return this._shaderValues.getNumber(3);
		},function(value){
		this._shaderValues.setNumber(3,value);
	});

	/**
	*设置天空盒纹理。
	*/
	/**
	*获取天空盒纹理。
	*/
	__getset(0,__proto,'textureCube',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		return this._shaderValues.setTexture(4,value);
	});

	SkyBoxMaterial.load=function(url){
		return Laya.loader.create(url,null,null,SkyBoxMaterial);
	}

	SkyBoxMaterial.TINTCOLOR=1;
	SkyBoxMaterial.EXPOSURE=2;
	SkyBoxMaterial.ROTATION=3;
	SkyBoxMaterial.TEXTURECUBE=4;
	__static(SkyBoxMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new SkyBoxMaterial();}
	]);
	return SkyBoxMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/TerrainMaterial.as=======96.998990/96.998990
/**
*...
*@author ...
*/
//class laya.d3.core.material.TerrainMaterial extends laya.d3.core.material.BaseMaterial
var TerrainMaterial=(function(_super){
	function TerrainMaterial(){
		this._diffuseScale1=null;
		this._diffuseScale2=null;
		this._diffuseScale3=null;
		this._diffuseScale4=null;
		TerrainMaterial.__super.call(this,13);
		this.setShaderName("Terrain");
		this.renderMode=1;
		this._diffuseScale1=new Vector2();
		this._diffuseScale2=new Vector2();
		this._diffuseScale3=new Vector2();
		this._diffuseScale4=new Vector2();
		this.ambientColor=new Vector3(0.6,0.6,0.6);
		this.diffuseColor=new Vector3(1.0,1.0,1.0);
		this.specularColor=new Vector4(0.2,0.2,0.2,32.0);
	}

	__class(TerrainMaterial,'laya.d3.core.material.TerrainMaterial',_super);
	var __proto=TerrainMaterial.prototype;
	__proto.setDiffuseScale1=function(x,y){
		this._diffuseScale1.x=x;
		this._diffuseScale1.y=y;
		this._shaderValues.setVector(6,this._diffuseScale1);
	}

	__proto.setDiffuseScale2=function(x,y){
		this._diffuseScale2.x=x;
		this._diffuseScale2.y=y;
		this._shaderValues.setVector(7,this._diffuseScale2);
	}

	__proto.setDiffuseScale3=function(x,y){
		this._diffuseScale3.x=x;
		this._diffuseScale3.y=y;
		this._shaderValues.setVector(8,this._diffuseScale3);
	}

	__proto.setDiffuseScale4=function(x,y){
		this._diffuseScale4.x=x;
		this._diffuseScale4.y=y;
		this._shaderValues.setVector(9,this._diffuseScale4);
	}

	__proto.setDetailNum=function(value){
		switch (value){
			case 1:
				this._defineDatas.add(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				break ;
			case 2:
				this._defineDatas.add(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				break ;
			case 3:
				this._defineDatas.add(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				break ;
			case 4:
				this._defineDatas.add(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM4);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM1);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM2);
				this._defineDatas.remove(laya.d3.core.material.TerrainMaterial.SHADERDEFINE_DETAIL_NUM3);
				break ;
			}
	}

	__proto.disableLight=function(){
		this._disablePublicDefineDatas.add(Scene3D.SHADERDEFINE_POINTLIGHT | Scene3D.SHADERDEFINE_SPOTLIGHT | Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
	}

	/**
	*@inheritDoc
	*/
	__proto.setShaderName=function(name){
		_super.prototype.setShaderName.call(this,name);
	}

	/**
	*设置渲染模式。
	*@return 渲染模式。
	*/
	__getset(0,__proto,'renderMode',null,function(value){
		var renderState=this.getRenderState();
		switch (value){
			case 1:
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				renderState.depthTest=0x0201;
				break ;
			case 2:
				this.renderQueue=2000;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				renderState.depthTest=0x0203;
				break ;
			default :
				throw new Error("TerrainMaterial:renderMode value error.");
			}
	});

	/**
	*设置第二层贴图。
	*@param value 第二层贴图。
	*/
	/**
	*获取第二层贴图。
	*@return 第二层贴图。
	*/
	__getset(0,__proto,'diffuseTexture2',function(){
		return this._shaderValues.getTexture(3);
		},function(value){
		this._shaderValues.setTexture(3,value);
	});

	__getset(0,__proto,'ambientColor',function(){
		return this._shaderValues.getVector(10);
		},function(value){
		this._shaderValues.setVector(10,value);
	});

	/**
	*设置第四层贴图。
	*@param value 第四层贴图。
	*/
	/**
	*获取第四层贴图。
	*@return 第四层贴图。
	*/
	__getset(0,__proto,'diffuseTexture4',function(){
		return this._shaderValues.getTexture(5);
		},function(value){
		this._shaderValues.setTexture(5,value);
	});

	__getset(0,__proto,'diffuseColor',function(){
		return this._shaderValues.getVector(11);
		},function(value){
		this._shaderValues.setVector(11,value);
	});

	/**
	*设置第一层贴图。
	*@param value 第一层贴图。
	*/
	/**
	*获取第一层贴图。
	*@return 第一层贴图。
	*/
	__getset(0,__proto,'diffuseTexture1',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		this._shaderValues.setTexture(2,value);
	});

	__getset(0,__proto,'specularColor',function(){
		return this._shaderValues.getVector(12);
		},function(value){
		this._shaderValues.setVector(12,value);
	});

	/**
	*设置第三层贴图。
	*@param value 第三层贴图。
	*/
	/**
	*获取第三层贴图。
	*@return 第三层贴图。
	*/
	__getset(0,__proto,'diffuseTexture3',function(){
		return this._shaderValues.getTexture(4);
		},function(value){
		this._shaderValues.setTexture(4,value);
	});

	/**
	*设置splatAlpha贴图。
	*@param value splatAlpha贴图。
	*/
	/**
	*获取splatAlpha贴图。
	*@return splatAlpha贴图。
	*/
	__getset(0,__proto,'splatAlphaTexture',function(){
		return this._shaderValues.getTexture(0);
		},function(value){
		this._shaderValues.setTexture(0,value);
	});

	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		this._shaderValues.setTexture(1,value);
	});

	TerrainMaterial.__init__=function(){
		TerrainMaterial.SHADERDEFINE_DETAIL_NUM1=TerrainMaterial.shaderDefines.registerDefine("DETAIL_NUM1");
		TerrainMaterial.SHADERDEFINE_DETAIL_NUM2=TerrainMaterial.shaderDefines.registerDefine("DETAIL_NUM2");
		TerrainMaterial.SHADERDEFINE_DETAIL_NUM4=TerrainMaterial.shaderDefines.registerDefine("DETAIL_NUM4");
		TerrainMaterial.SHADERDEFINE_DETAIL_NUM3=TerrainMaterial.shaderDefines.registerDefine("DETAIL_NUM3");
	}

	TerrainMaterial.load=function(url){
		return Laya.loader.create(url,null,null,TerrainMaterial);
	}

	TerrainMaterial.RENDERMODE_OPAQUE=1;
	TerrainMaterial.RENDERMODE_TRANSPARENT=2;
	TerrainMaterial.SPLATALPHATEXTURE=0;
	TerrainMaterial.NORMALTEXTURE=1;
	TerrainMaterial.DIFFUSETEXTURE1=2;
	TerrainMaterial.DIFFUSETEXTURE2=3;
	TerrainMaterial.DIFFUSETEXTURE3=4;
	TerrainMaterial.DIFFUSETEXTURE4=5;
	TerrainMaterial.DIFFUSESCALE1=6;
	TerrainMaterial.DIFFUSESCALE2=7;
	TerrainMaterial.DIFFUSESCALE3=8;
	TerrainMaterial.DIFFUSESCALE4=9;
	TerrainMaterial.MATERIALAMBIENT=10;
	TerrainMaterial.MATERIALDIFFUSE=11;
	TerrainMaterial.MATERIALSPECULAR=12;
	TerrainMaterial.SHADERDEFINE_DETAIL_NUM1=0;
	TerrainMaterial.SHADERDEFINE_DETAIL_NUM2=0;
	TerrainMaterial.SHADERDEFINE_DETAIL_NUM3=0;
	TerrainMaterial.SHADERDEFINE_DETAIL_NUM4=0;
	__static(TerrainMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new TerrainMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return TerrainMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/UnlitMaterial.as=======96.998989/96.998989
//class laya.d3.core.material.UnlitMaterial extends laya.d3.core.material.BaseMaterial
var UnlitMaterial=(function(_super){
	function UnlitMaterial(){
		UnlitMaterial.__super.call(this,3);
		this.setShaderName("Unlit");
		this._shaderValues.setVector(new Vector4(1.0,1.0,1.0,1.0));
	}

	__class(UnlitMaterial,'laya.d3.core.material.UnlitMaterial',_super);
	var __proto=UnlitMaterial.prototype;
	/**
	*设置反照率颜色。
	*@param value 反照率颜色。
	*/
	/**
	*获取反照率颜色。
	*@return 反照率颜色。
	*/
	__getset(0,__proto,'albedoColor',function(){
		return this._shaderValues.getVector(2);
		},function(value){
		this._shaderValues.setVector(2,value);
	});

	/**
	*设置反照率贴图。
	*@param value 反照率贴图。
	*/
	/**
	*获取反照率贴图。
	*@return 反照率贴图。
	*/
	__getset(0,__proto,'albedoTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*获取纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	/**
	*获取纹理平铺和偏移。
	*@return 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',function(){
		return this._shaderValues.getVector(3);
		},function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.material.UnlitMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.material.UnlitMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.material.UnlitMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(3,value);
	});

	UnlitMaterial.__init__=function(){
		UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE=UnlitMaterial.shaderDefines.registerDefine("ALBEDOTEXTURE");
		UnlitMaterial.SHADERDEFINE_TILINGOFFSET=UnlitMaterial.shaderDefines.registerDefine("TILINGOFFSET");
	}

	UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE=0;
	UnlitMaterial.SHADERDEFINE_TILINGOFFSET=0;
	UnlitMaterial.ALBEDOTEXTURE=1;
	UnlitMaterial.ALBEDOCOLOR=2;
	UnlitMaterial.TILINGOFFSET=3;
	__static(UnlitMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new UnlitMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return UnlitMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/material/WaterPrimaryMaterial.as=======96.998988/96.998988
/**
*...
*@author
*/
//class laya.d3.core.material.WaterPrimaryMaterial extends laya.d3.core.material.BaseMaterial
var WaterPrimaryMaterial=(function(_super){
	function WaterPrimaryMaterial(){
		WaterPrimaryMaterial.__super.call(this,5);
		this.setShaderName("WaterPrimary");
		this._shaderValues.setVector(0,new Vector4(0.172 ,0.463 ,0.435 ,0));
		this._shaderValues.setNumber(3,0.15);
		this._shaderValues.setVector(4,new Vector4(19,9,-16,-7));
	}

	__class(WaterPrimaryMaterial,'laya.d3.core.material.WaterPrimaryMaterial',_super);
	var __proto=WaterPrimaryMaterial.prototype;
	/**
	*设置波动速率。
	*@param value 波动速率。
	*/
	/**
	*获取波动速率。
	*@return 波动速率。
	*/
	__getset(0,__proto,'waveSpeed',function(){
		return this._shaderValues.getVector(4);
		},function(value){
		this._shaderValues.setVector(4,value);
	});

	/**
	*设置地平线颜色。
	*@param value 地平线颜色。
	*/
	/**
	*获取地平线颜色。
	*@return 地平线颜色。
	*/
	__getset(0,__proto,'horizonColor',function(){
		return this._shaderValues.getVector(0);
		},function(value){
		this._shaderValues.setVector(0,value);
	});

	/**
	*设置主贴图。
	*@param value 主贴图。
	*/
	/**
	*获取主贴图。
	*@return 主贴图。
	*/
	__getset(0,__proto,'mainTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.WaterPrimaryMaterial.SHADERDEFINE_MAINTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.WaterPrimaryMaterial.SHADERDEFINE_MAINTEXTURE);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*设置法线贴图。
	*@param value 法线贴图。
	*/
	/**
	*获取法线贴图。
	*@return 法线贴图。
	*/
	__getset(0,__proto,'normalTexture',function(){
		return this._shaderValues.getTexture(2);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.material.WaterPrimaryMaterial.SHADERDEFINE_NORMALTEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.material.WaterPrimaryMaterial.SHADERDEFINE_NORMALTEXTURE);
		this._shaderValues.setTexture(2,value);
	});

	/**
	*设置波动缩放系数。
	*@param value 波动缩放系数。
	*/
	/**
	*获取波动缩放系数。
	*@return 波动缩放系数。
	*/
	__getset(0,__proto,'waveScale',function(){
		return this._shaderValues.getNumber(3);
		},function(value){
		this._shaderValues.setNumber(3,value);
	});

	WaterPrimaryMaterial.__init__=function(){
		WaterPrimaryMaterial.SHADERDEFINE_MAINTEXTURE=WaterPrimaryMaterial.shaderDefines.registerDefine("MAINTEXTURE");
		WaterPrimaryMaterial.SHADERDEFINE_NORMALTEXTURE=WaterPrimaryMaterial.shaderDefines.registerDefine("NORMALTEXTURE");
	}

	WaterPrimaryMaterial.HORIZONCOLOR=0;
	WaterPrimaryMaterial.MAINTEXTURE=1;
	WaterPrimaryMaterial.NORMALTEXTURE=2;
	WaterPrimaryMaterial.WAVESCALE=3;
	WaterPrimaryMaterial.WAVESPEED=4;
	WaterPrimaryMaterial.SHADERDEFINE_MAINTEXTURE=0;
	WaterPrimaryMaterial.SHADERDEFINE_NORMALTEXTURE=0;
	__static(WaterPrimaryMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new WaterPrimaryMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return WaterPrimaryMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/ShurikenParticleMaterial.as=======96.998955/96.998955
/**
*...
*@author ...
*/
//class laya.d3.core.particleShuriKen.ShurikenParticleMaterial extends laya.d3.core.material.BaseMaterial
var ShurikenParticleMaterial=(function(_super){
	function ShurikenParticleMaterial(){
		ShurikenParticleMaterial.__super.call(this,4);
		this.setShaderName("PARTICLESHURIKEN");
		this.renderMode=6;
	}

	__class(ShurikenParticleMaterial,'laya.d3.core.particleShuriKen.ShurikenParticleMaterial',_super);
	var __proto=ShurikenParticleMaterial.prototype;
	/**
	*设置渲染模式。
	*@return 渲染模式。
	*/
	__getset(0,__proto,'renderMode',null,function(value){
		var renderState=this.getRenderState();
		switch (value){
			case 1:
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 2:
				this.renderQueue=2000;
				renderState.depthWrite=true;
				renderState.cull=0;
				renderState.blend=0;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 3:
				this.renderQueue=BaseMaterial.SHADERDEFINE_ALPHATEST;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=0;
				this.alphaTest=true;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 4:
				this.renderQueue=2450;
				renderState.depthWrite=true;
				renderState.cull=0;
				renderState.blend=0;
				this.alphaTest=true;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 13:
				this.renderQueue=3000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 14:
				this.renderQueue=3000;
				renderState.depthWrite=true;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 15:
				this.renderQueue=3000;
				renderState.depthWrite=true;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 16:
				this.renderQueue=3000;
				renderState.depthWrite=true;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 5:
				this.renderQueue=3000;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 6:
				this.renderQueue=3000;
				renderState.depthWrite=false;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 7:
				this.renderQueue=3000;
				renderState.depthWrite=false;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 8:
				this.renderQueue=3000;
				renderState.depthWrite=false;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 9:
				this.renderQueue=3000;
				renderState.depthTest=RenderQueue.DEPTHTEST_LESS;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 10:
				this.renderQueue=3000;
				renderState.depthTest=0x0201;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=0x0303;
				this.alphaTest=false;
				this._defineDatas.remove(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 11:
				this.renderQueue=3000;
				renderState.depthTest=0x0201;
				renderState.cull=2;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			case 12:
				this.renderQueue=3000;
				renderState.depthTest=RenderQueue.DEPTHTEST_LESS;
				renderState.cull=0;
				renderState.blend=1;
				renderState.srcBlend=0x0302;
				renderState.dstBlend=1;
				this.alphaTest=false;
				this._defineDatas.add(ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG);
				break ;
			default :
				throw new Error("Material:renderMode value error.");
			}
	});

	/**
	*设置颜色。
	*@param value 颜色。
	*/
	/**
	*获取颜色。
	*@return 颜色。
	*/
	__getset(0,__proto,'tintColor',function(){
		return this._shaderValues.getVector(2);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_TINTCOLOR);
		else
		this._defineDatas.remove(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_TINTCOLOR);
		this._shaderValues.setVector(2,value);
	});

	/**
	*获取纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	/**
	*获取纹理平铺和偏移。
	*@return 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',function(){
		return this._shaderValues.getVector(3);
		},function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(3,value);
	});

	/**
	*设置漫反射贴图。
	*@param value 漫反射贴图。
	*/
	/**
	*获取漫反射贴图。
	*@return 漫反射贴图。
	*/
	__getset(0,__proto,'diffuseTexture',function(){
		return this._shaderValues.getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_DIFFUSEMAP);
		else
		this._defineDatas.remove(laya.d3.core.particleShuriKen.ShurikenParticleMaterial.SHADERDEFINE_DIFFUSEMAP);
		this._shaderValues.setTexture(1,value);
	});

	ShurikenParticleMaterial.__init__=function(){
		ShurikenParticleMaterial.SHADERDEFINE_DIFFUSEMAP=ShurikenParticleMaterial.shaderDefines.registerDefine("DIFFUSEMAP");
		ShurikenParticleMaterial.SHADERDEFINE_TINTCOLOR=ShurikenParticleMaterial.shaderDefines.registerDefine("TINTCOLOR");
		ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG=ShurikenParticleMaterial.shaderDefines.registerDefine("ADDTIVEFOG");
		ShurikenParticleMaterial.SHADERDEFINE_TILINGOFFSET=ShurikenParticleMaterial.shaderDefines.registerDefine("TILINGOFFSET");
	}

	ShurikenParticleMaterial.load=function(url){
		return Laya.loader.create(url,null,null,ShurikenParticleMaterial);
	}

	ShurikenParticleMaterial.RENDERMODE_OPAQUE=1;
	ShurikenParticleMaterial.RENDERMODE_OPAQUEDOUBLEFACE=2;
	ShurikenParticleMaterial.RENDERMODE_CUTOUT=3;
	ShurikenParticleMaterial.RENDERMODE_CUTOUTDOUBLEFACE=4;
	ShurikenParticleMaterial.RENDERMODE_TRANSPARENT=13;
	ShurikenParticleMaterial.RENDERMODE_TRANSPARENTDOUBLEFACE=14;
	ShurikenParticleMaterial.RENDERMODE_ADDTIVE=15;
	ShurikenParticleMaterial.RENDERMODE_ADDTIVEDOUBLEFACE=16;
	ShurikenParticleMaterial.RENDERMODE_DEPTHREAD_TRANSPARENT=5;
	ShurikenParticleMaterial.RENDERMODE_DEPTHREAD_TRANSPARENTDOUBLEFACE=6;
	ShurikenParticleMaterial.RENDERMODE_DEPTHREAD_ADDTIVE=7;
	ShurikenParticleMaterial.RENDERMODE_DEPTHREAD_ADDTIVEDOUBLEFACE=8;
	ShurikenParticleMaterial.RENDERMODE_NONDEPTH_TRANSPARENT=9;
	ShurikenParticleMaterial.RENDERMODE_NONDEPTH_TRANSPARENTDOUBLEFACE=10;
	ShurikenParticleMaterial.RENDERMODE_NONDEPTH_ADDTIVE=11;
	ShurikenParticleMaterial.RENDERMODE_NONDEPTH_ADDTIVEDOUBLEFACE=12;
	ShurikenParticleMaterial.SHADERDEFINE_DIFFUSEMAP=0;
	ShurikenParticleMaterial.SHADERDEFINE_TINTCOLOR=0;
	ShurikenParticleMaterial.SHADERDEFINE_TILINGOFFSET=0;
	ShurikenParticleMaterial.SHADERDEFINE_ADDTIVEFOG=0;
	ShurikenParticleMaterial.DIFFUSETEXTURE=1;
	ShurikenParticleMaterial.TINTCOLOR=2;
	ShurikenParticleMaterial.TILINGOFFSET=3;
	__static(ShurikenParticleMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new ShurikenParticleMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return ShurikenParticleMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/TrailMaterial.as=======96.998934/96.998934
/**
*...
*@author ...
*/
//class laya.d3.core.trail.TrailMaterial extends laya.d3.core.material.BaseMaterial
var TrailMaterial=(function(_super){
	function TrailMaterial(){
		TrailMaterial.__super.call(this);
		this.setShaderName("Trail");
		this._shaderValues.setVector(2,new Vector4(1.0,1.0,1.0,1.0));
	}

	__class(TrailMaterial,'laya.d3.core.trail.TrailMaterial',_super);
	var __proto=TrailMaterial.prototype;
	/**
	*设置颜色。
	*@param value 颜色。
	*/
	/**
	*获取颜色。
	*@return 颜色。
	*/
	__getset(0,__proto,'tintColor',function(){
		return this._shaderValues.getVector(2);
		},function(value){
		this._shaderValues.setVector(2,value);
	});

	/**
	*设置贴图。
	*@param value 贴图。
	*/
	/**
	*获取贴图。
	*@return 贴图。
	*/
	__getset(0,__proto,'diffuseTexture',function(){
		return this._shaderValues._getTexture(1);
		},function(value){
		if (value)
			this._defineDatas.add(laya.d3.core.trail.TrailMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		else
		this._defineDatas.remove(laya.d3.core.trail.TrailMaterial.SHADERDEFINE_DIFFUSETEXTURE);
		this._shaderValues.setTexture(1,value);
	});

	/**
	*设置纹理平铺和偏移。
	*@param value 纹理平铺和偏移。
	*/
	/**
	*获取纹理平铺和偏移。
	*@return 纹理平铺和偏移。
	*/
	__getset(0,__proto,'tilingOffset',function(){
		return this._shaderValues.getVector(3);
		},function(value){
		if (value){
			var valueE=value.elements;
			if (valueE[0] !=1 || valueE[1] !=1 || valueE[2] !=0 || valueE[3] !=0)
				this._defineDatas.add(laya.d3.core.trail.TrailMaterial.SHADERDEFINE_TILINGOFFSET);
			else
			this._defineDatas.remove(laya.d3.core.trail.TrailMaterial.SHADERDEFINE_TILINGOFFSET);
			}else {
			this._defineDatas.remove(laya.d3.core.trail.TrailMaterial.SHADERDEFINE_TILINGOFFSET);
		}
		this._shaderValues.setVector(3,value);
	});

	TrailMaterial.__init__=function(){
		TrailMaterial.SHADERDEFINE_DIFFUSETEXTURE=TrailMaterial.shaderDefines.registerDefine("DIFFUSETEXTURE");
		TrailMaterial.SHADERDEFINE_TILINGOFFSET=TrailMaterial.shaderDefines.registerDefine("TILINGOFFSET");
	}

	TrailMaterial.load=function(url){
		return Laya.loader.create(url,null,null,TrailMaterial);
	}

	TrailMaterial.SHADERDEFINE_DIFFUSETEXTURE=0;
	TrailMaterial.SHADERDEFINE_TILINGOFFSET=0;
	TrailMaterial.DIFFUSETEXTURE=1;
	TrailMaterial.TINTCOLOR=2;
	TrailMaterial.TILINGOFFSET=3;
	__static(TrailMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new TrailMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return TrailMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/layaLib/src/laya/libs/rocker/RockerSprite.as=======96.998929/96.998929
//class laya.libs.rocker.RockerSprite extends laya.display.Sprite
var RockerSprite=(function(_super){
	function RockerSprite(rocker){
		this._rocker=null;
		RockerSprite.__super.call(this);
		this._rocker=rocker;
	}

	__class(RockerSprite,'laya.libs.rocker.RockerSprite',_super);
	var __proto=RockerSprite.prototype;
	/**@inheritDoc */
	__proto.pos=function(x,y,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		_super.prototype.pos.call(this,x,y,speedMode);
		this._rocker.updateFixedTouchArea();
		return this;
	}

	/**@inheritDoc */
	__proto.scale=function(scaleX,scaleY,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		_super.prototype.scale.call(this,scaleX,scaleY,speedMode);
		this._rocker.updateFixedTouchArea();
		return this;
	}

	/**@inheritDoc */
	__getset(0,__proto,'x',_super.prototype._$get_x,function(value){
		Laya.superSet(Sprite,this,'x',value);
		this._rocker.updateFixedTouchArea();
	});

	/**@inheritDoc */
	__getset(0,__proto,'y',_super.prototype._$get_y,function(value){
		Laya.superSet(Sprite,this,'y',value);
		this._rocker.updateFixedTouchArea();
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleX',_super.prototype._$get_scaleX,function(value){
		Laya.superSet(Sprite,this,'scaleX',value);
		this._rocker.updateFixedTouchArea();
	});

	/**@inheritDoc */
	__getset(0,__proto,'transform',_super.prototype._$get_transform,function(value){
		Laya.superSet(Sprite,this,'transform',value);
		this._rocker.updateFixedTouchArea();
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleY',_super.prototype._$get_scaleY,function(value){
		Laya.superSet(Sprite,this,'scaleY',value);
		this._rocker.updateFixedTouchArea();
	});

	return RockerSprite;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/extension/lineRender/LineMaterial.as=======96.998925/96.998925
/**
*...
*@author
*/
//class laya.d3.extension.lineRender.LineMaterial extends laya.d3.core.material.BaseMaterial
var LineMaterial=(function(_super){
	function LineMaterial(){
		LineMaterial.__super.call(this);
		this.setShaderName("LineShader");
	}

	__class(LineMaterial,'laya.d3.extension.lineRender.LineMaterial',_super);
	LineMaterial.__init__=function(){}
	LineMaterial.initShader=function(){
		var attributeMap={
			'a_Position':0,
			'a_Color':1,
			'a_Texcoord0':2};
		var uniformMap={
			'u_MvpMatrix':[1,2],
			'u_WorldMat':[0,2]};
		var vs="attribute vec4 a_Position;\nattribute vec2 a_Texcoord0;\nattribute vec4 a_Color;\n\nuniform mat4 u_MvpMatrix;\nuniform mat4 u_WorldMat;\n\nvarying vec2 v_Texcoord0;\nvarying vec4 v_Color;\n\nvoid main()\n{\n	v_Texcoord0 = a_Texcoord0;\n	v_Color = a_Color;\n	\n	gl_Position = u_MvpMatrix * a_Position;\n	\n}";
		var ps="#ifdef FSHIGHPRECISION\n	precision highp float;\n#else\n	precision mediump float;\n#endif\n\nvarying vec2 v_Texcoord0;\nvarying vec4 v_Color;\n\nvoid main()\n{\n	\n	gl_FragColor = v_Color;\n}\n\n";
		var lineShaderCompile3D=Shader3D.add("LineShader",attributeMap,uniformMap);
		lineShaderCompile3D._addShaderPass(vs,ps);
	}

	__static(LineMaterial,
	['defaultMaterial',function(){return this.defaultMaterial=new LineMaterial();},'shaderDefines',function(){return this.shaderDefines=new ShaderDefines(BaseMaterial.shaderDefines);}
	]);
	return LineMaterial;
})(BaseMaterial)


	//file:///H:/work/sniper/layaLib/src/tutorial/ui/CustomPaintSprite.as=======96.998900/96.998900
//class tutorial.ui.CustomPaintSprite extends laya.display.Sprite
var CustomPaintSprite$1=(function(_super){
	function CustomPaintSprite(){
		this._targets=[];
		this._objects={};
		CustomPaintSprite.__super.call(this);
		this.customRenderEnable=true;
	}

	__class(CustomPaintSprite,'tutorial.ui.CustomPaintSprite',_super,'CustomPaintSprite$1');
	var __proto=CustomPaintSprite.prototype;
	__proto.removeTarget=function(t){
		var i=this._targets.indexOf(t);
		if(i>=0){
			this._targets.splice(i,1);
			t.recovery();
		}
	}

	/**
	*显示文本
	*@param value 显示内容
	*@param type 设置-1内容可重叠显示，非-1不可重叠显示
	*@param x 初始位置x
	*@param y 初始位置y
	*@param color 文字颜色
	*@param size 文字大小
	*/
	__proto.showText=function(value,type,x,y,width,height,color,size){
		var target;
		if (type==-1){
			target=CycleFactory.createObject('EText');
			this._targets.push(target);
		}
		else{
			var key=type+','+Math.floor(x)+','+Math.floor(y);
			target=this._objects[key];
			if (!target){
				target=CycleFactory.createObject('EText');
				target.key=key;
				this._objects[key]=target;
				this._targets.push(target);
			}
		}
		target.color=color;
		target.fontSize=size;
		target.width=width;
		target.height=height;
		target.pos(x,y);
		target.value=value;
		target.alpha=1;
	}

	/**
	*显示一个进度条
	*@param bg 进度条背景
	*@param bar 进度条
	*@param value 进度条当前值 0-1
	*@param enableTween 是否开启缓动
	*/
	__proto.showProgressBar=function(bg,bar,x,y,value,enableTween){
		(value===void 0)&& (value=0.5);
		(enableTween===void 0)&& (enableTween=false);
		var target=CycleFactory.createObject('EProgressBar');
		target.bg=bg;
		target.bar=bar;
		target.enableTween=enableTween;
		target.value=value;
		target.pos(x,y);
		this._targets.push(target);
	}

	/**
	*设置显示图片，并根据指定的坐标，根据贝塞尔曲线飞行
	*@param texture 需要显示的纹理
	*@param width 需要显示的纹理宽
	*@param height 需要显示的纹理高
	*@param pList 控制点[x0,y0,x1,y1...]
	*@param inSertCount 每次曲线的插值数量
	*/
	__proto.showBezierImage=function(texture,type,width,height,pList,inSertCount){
		var target=this._targets[type];
		if (!target){
			target=CycleFactory.createObject('BezierImage');
			target.texture=texture;
			this._targets[type]=target;
		}
		target.pos(this.x,this.y);
		target.size(width,height);
		target.setParam(pList,inSertCount);
	}

	/**
	*显示一个位图字体抛物线飞行
	*@param value 位图字体值
	*@param skin 位图字体皮肤
	*@param sheet 位图字体内容
	*/
	__proto.showParabolaMove=function(value,skin,sheet,x,y,radian,speed,len,g){
		(g===void 0)&& (g=0.005);
		var target=CycleFactory.createObject('EFontClip');
		target.pos(x,y);
		target.skin=skin;
		target.sheet=sheet;
		target.value=value;
		this._targets.push(target);
		PathUtil.setParabolaMove(target,radian,speed,len,g,Handler.create(this,this.removeTarget,[target]));
	}

	/**
	*显示一个位图字体缩放并位移
	*@param value 位图字体值
	*@param skin 位图字体皮肤
	*@param sheet 位图字体内容
	*/
	__proto.showFontClip=function(value,skin,sheet,x,y,dx,dy,scaleTimer,timer,scaleX,scaleY,alpha,delay,ease){
		(scaleTimer===void 0)&& (scaleTimer=150);
		(timer===void 0)&& (timer=500);
		(scaleX===void 0)&& (scaleX=1.6);
		(scaleY===void 0)&& (scaleY=1.6);
		(alpha===void 0)&& (alpha=0);
		(delay===void 0)&& (delay=0);
		var target=CycleFactory.createObject('EFontClip');
		target.skin=skin;
		target.sheet=sheet;
		target.value=value;
		this._targets.push(target);
		target.pos(x,y);
		PathUtil.setTweenParam(target,x,y,dx,dy,Handler.create(this,this.removeTarget,[target]),scaleX,scaleY,scaleTimer,alpha,timer,delay,ease);
	}

	/**
	*遍历渲染所有显示对象
	*@param context
	*@param x
	*@param y
	*/
	__proto.customRender=function(context,x,y){
		this._renderType |=RenderSprite.CUSTOM;
		var isFinish=false;
		var len=this._targets.length;
		if (len){
			var target;
			for (var i=0;i < len;i++){
				target=this._targets[i];
				isFinish=target.onPaint(context.ctx);
			}
		}
	}

	return CustomPaintSprite;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/SkinnedMeshRender.as=======96.998847/96.998847
/**
*<code>SkinMeshRender</code> 类用于蒙皮渲染器。
*/
//class laya.d3.core.SkinnedMeshRender extends laya.d3.core.MeshRender
var SkinnedMeshRender=(function(_super){
	function SkinnedMeshRender(owner,shaderDataSize){
		/**@private */
		//this._cacheAvatar=null;
		/**@private */
		//this._cacheMesh=null;
		/**@private */
		//this._cacheAnimationNode=null;
		/**@private */
		//this._skinnedData=null;
		/**@private */
		//this._skinnedDataLoopMarks=null;
		/**@private */
		//this._localBoundingBoxCorners=null;
		/**@private */
		//this._localBoundBox=null;
		/**@private */
		//this._cacheAnimator=null;
		/**@private */
		//this._rootBone=null;
		/**用于裁剪的包围球。 */
		//this.localBoundSphere=null;
		/**@private [NATIVE]*/
		//this._cacheAnimationNodeIndices=null;
		SkinnedMeshRender.__super.call(this,owner,shaderDataSize);
		this._owner.transform.off("worldmatrixneedchanged",this,this._onWorldMatNeedChange);
		this._skinnedDataLoopMarks=[];
		this._cacheAnimationNode=[];
		this._localBoundingBoxCorners=__newvec(8,null);
		(this._owner).meshFilter.on("meshchanged",this,this._$3__onMeshChanged);
	}

	__class(SkinnedMeshRender,'laya.d3.core.SkinnedMeshRender',_super);
	var __proto=SkinnedMeshRender.prototype;
	/**
	*@private
	*/
	__proto._getCacheAnimationNodes=function(){
		var meshBoneNames=this._cacheMesh._boneNames;
		var bindPoseIndices=this._cacheMesh._bindPoseIndices;
		var innerBindPoseCount=bindPoseIndices.length;
		if (Render.isConchApp){
			this._cacheAnimationNodeIndices=new Uint16Array(innerBindPoseCount);
			var nodeMapC=this._cacheAnimator._avatarNodeMap;
			for (var i=0;i < innerBindPoseCount;i++){
				var nodeC=nodeMapC[meshBoneNames[bindPoseIndices[i]]];
				this._cacheAnimationNodeIndices[i]=nodeC._worldMatrixIndex;
			}
			}else {
			this._cacheAnimationNode.length=innerBindPoseCount;
			var nodeMap=this._cacheAnimator._avatarNodeMap;
			for (var i=0;i < innerBindPoseCount;i++){
				var node=nodeMap[meshBoneNames[bindPoseIndices[i]]];
				this._cacheAnimationNode[i]=node;
			}
		}
	}

	/**
	*@private
	*/
	__proto._offComputeBoneIndexToMeshEvent=function(avatar,mesh){
		if (avatar.loaded){
			if (!mesh.loaded)
				mesh.off("loaded",this,this._getCacheAnimationNodes);
			}else {
			avatar.off("loaded",this,this._computeBoneIndexToMeshWithAsyncMesh);
		}
	}

	/**
	*@private
	*/
	__proto._computeBoneIndexToMeshWithAsyncAvatar=function(){
		if (this._cacheAvatar.loaded)
			this._computeBoneIndexToMeshWithAsyncMesh();
		else
		this._cacheAvatar.once("loaded",this,this._computeBoneIndexToMeshWithAsyncMesh);
	}

	/**
	*@private
	*/
	__proto._computeBoneIndexToMeshWithAsyncMesh=function(){
		if (this._cacheMesh.loaded)
			this._getCacheAnimationNodes();
		else
		this._cacheMesh.on("loaded",this,this._getCacheAnimationNodes);
	}

	/**
	*@private
	*/
	__proto._$3__onMeshChanged=function(meshFilter,lastMesh,mesh){
		this._cacheMesh=mesh;
		(lastMesh && !lastMesh.loaded)&& (mesh.off("loaded",this,this._onMeshLoaded));
		if (mesh.loaded)
			this._onMeshLoaded(mesh);
		else
		mesh.on("loaded",this,this._onMeshLoaded);
		if (this._cacheAvatar){
			(lastMesh)&& (this._offComputeBoneIndexToMeshEvent(this._cacheAvatar,lastMesh));
			(mesh)&& (this._computeBoneIndexToMeshWithAsyncAvatar());
		}
	}

	/**
	*@private
	*/
	__proto._onMeshLoaded=function(mesh){
		var subMeshCount=mesh.subMeshCount;
		this._skinnedData=__newvec(subMeshCount);
		this._skinnedDataLoopMarks.length=mesh._bindPoseIndices.length;
		for (var i=0;i < subMeshCount;i++){
			var subBoneIndices=mesh._getSubMesh(i)._boneIndicesList;
			var subCount=subBoneIndices.length;
			var subData=this._skinnedData[i]=__newvec(subCount);
			for (var j=0;j < subCount;j++)
			subData[j]=new Float32Array(subBoneIndices[j].length *16);
		}
	}

	/**
	*@private
	*/
	__proto._computeSkinnedData=function(){
		if (this._cacheMesh && this._cacheMesh.loaded && this._cacheAvatar && this._cacheAvatar.loaded){
			var bindPoses=this._cacheMesh._inverseBindPoses;
			var bindPoseInices=this._cacheMesh._bindPoseIndices;
			var pathMarks=this._cacheMesh._skinDataPathMarks;
			for (var i=0,n=this._cacheMesh.subMeshCount;i < n;i++){
				var subBoneIndices=this._cacheMesh._getSubMesh(i)._boneIndicesList;
				var subData=this._skinnedData[i];
				for (var j=0,m=subBoneIndices.length;j < m;j++){
					var boneIndices=subBoneIndices[j];
					if (Render.isConchApp)
						this._computeSubSkinnedDataNative(this._cacheAnimator._animationNodeWorldMatrixs,this._cacheAnimationNodeIndices,this._cacheMesh._inverseBindPosesBuffer,boneIndices,bindPoseInices,subData[j]);
					else
					this._computeSubSkinnedData(bindPoses,boneIndices,bindPoseInices,subData[j],pathMarks);
				}
				(this._renderElements [i]).skinnedDatas=subData;
			}
		}
	}

	/**
	*@private
	*/
	__proto._computeSubSkinnedData=function(bindPoses,boneIndices,bindPoseInices,data,pathMarks){
		for (var k=0,q=boneIndices.length;k < q;k++){
			var index=boneIndices[k];
			if (this._skinnedDataLoopMarks[index]===Stat.loopCount){
				var p=pathMarks[index];
				var preData=this._skinnedData[p[0]][p[1]];
				var srcIndex=p[2] *16;
				var dstIndex=k *16;
				for (var d=0;d < 16;d++)
				data[dstIndex+d]=preData[srcIndex+d];
				}else {
				Utils3D._mulMatrixArray(this._cacheAnimationNode[index].transform.getWorldMatrix(),bindPoses[bindPoseInices[index]],data,k *16);
				this._skinnedDataLoopMarks[index]=Stat.loopCount;
			}
		}
	}

	/**
	*@private
	*/
	__proto._setCacheAnimator=function(animator){
		this._cacheAnimator=animator;
	}

	/**
	*@private
	*/
	__proto._setRootBone=function(name){
		this._rootBone=name;
	}

	/**
	*@private
	*/
	__proto._setCacheAvatar=function(value){
		if (this._cacheAvatar!==value){
			if (this._cacheMesh){
				(this._cacheAvatar)&& (this._offComputeBoneIndexToMeshEvent(this._cacheAvatar,this._cacheMesh));
				this._cacheAvatar=value;
				if (value){
					this._defineDatas.add(SkinnedMeshSprite3D.SHADERDEFINE_BONE);
					this._computeBoneIndexToMeshWithAsyncAvatar();
				}
				}else {
				this._cacheAvatar=value;
			}
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingBox=function(){
		if (this._cacheAnimator){
			var rootBone=this._cacheAnimator._avatarNodeMap[this._rootBone];
			if (rootBone==null || this._localBoundBox==null)
				this._boundingBox.toDefault();
			else
			this._calculateBoundBoxByInitCorners(this._localBoundingBoxCorners);
			}else {
			_super.prototype._calculateBoundingBox.call(this);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateBoundingSphere=function(){
		if (this._cacheAnimator){
			var rootBone=this._cacheAnimator._avatarNodeMap[this._rootBone];
			if (rootBone==null || this.localBoundSphere==null)
				this._boundingSphere.toDefault();
			else
			this._calculateBoundingSphereByInitSphere(this.localBoundSphere);
			}else {
			_super.prototype._calculateBoundingSphere.call(this);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._updateOctreeNode=function(){
		var treeNode=this._treeNode;
		if (treeNode){
			treeNode.updateObject(this);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdate=function(context,transform){
		if (this._cacheAnimator){
			this._computeSkinnedData();
			var aniOwnerTransParent=(this._cacheAnimator.owner)._transform.parent;
			var worldMat=aniOwnerTransParent ? aniOwnerTransParent.worldMatrix :Matrix4x4.DEFAULT;
			this._shaderValues.setMatrix4x4(0,worldMat);
			}else {
			this._shaderValues.setMatrix4x4(0,transform.worldMatrix);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._renderUpdateWithCamera=function(context,transform){
		var projectionView=context.projectionViewMatrix;
		if (this._cacheAnimator){
			var aniOwnerTransParent=(this._cacheAnimator.owner)._transform.parent;
			var worldMat=aniOwnerTransParent ? aniOwnerTransParent.worldMatrix :Matrix4x4.DEFAULT;
			Matrix4x4.multiply(projectionView,worldMat,this._projectionViewWorldMatrix);
			}else {
			Matrix4x4.multiply(projectionView,transform.worldMatrix,this._projectionViewWorldMatrix);
		}
		this._shaderValues.setMatrix4x4(1,this._projectionViewWorldMatrix);
		if (Laya3D.debugMode)
			this._renderRenderableBoundBox();
	}

	/**
	*@private [NATIVE]
	*/
	__proto._computeSubSkinnedDataNative=function(worldMatrixs,cacheAnimationNodeIndices,inverseBindPosesBuffer,boneIndices,bindPoseInices,data){
		LayaGL.instance.computeSubSkinnedDataNative(worldMatrixs,cacheAnimationNodeIndices,inverseBindPosesBuffer,boneIndices,bindPoseInices,data);
	}

	/**
	*设置包围球。
	*@param value
	*/
	/**
	*获取包围球。
	*@return 包围球。
	*/
	__getset(0,__proto,'localBoundBox',function(){
		return this._localBoundBox;
		},function(value){
		this._localBoundBox=value;
		value.getCorners(this._localBoundingBoxCorners);
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'boundingSphere',function(){
		this._calculateBoundingSphere();
		return this._boundingSphere;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'boundingBox',function(){
		this._calculateBoundingBox();
		return this._boundingBox;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'boundingBoxCenter',function(){
		var boundBox=this.boundingBox;
		Vector3.add(boundBox.min,boundBox.max,this._boundingBoxCenter);
		Vector3.scale(this._boundingBoxCenter,0.5,this._boundingBoxCenter);
		return this._boundingBoxCenter;
	});

	return SkinnedMeshRender;
})(MeshRender)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/IndexBuffer3D.as=======96.998829/96.998829
/**
*<code>IndexBuffer3D</code> 类用于创建索引缓冲。
*/
//class laya.d3.graphics.IndexBuffer3D extends laya.webgl.utils.Buffer
var IndexBuffer3D=(function(_super){
	function IndexBuffer3D(indexType,indexCount,bufferUsage,canRead){
		/**@private */
		this._indexType=null;
		/**@private */
		this._indexTypeByteCount=0;
		/**@private */
		this._indexCount=0;
		/**@private */
		this._canRead=false;
		(bufferUsage===void 0)&& (bufferUsage=0x88E4);
		(canRead===void 0)&& (canRead=false);
		IndexBuffer3D.__super.call(this);
		this._indexType=indexType;
		this._indexCount=indexCount;
		this._bufferUsage=bufferUsage;
		this._bufferType=0x8893;
		this._canRead=canRead;
		var byteLength=0;
		if (indexType=="ushort")
			this._indexTypeByteCount=2;
		else if (indexType=="ubyte")
		this._indexTypeByteCount=1;
		else
		throw new Error("unidentification index type.");
		byteLength=this._indexTypeByteCount *indexCount;
		this._byteLength=byteLength;
		this.bind();
		LayaGL.instance.bufferData(this._bufferType,byteLength,this._bufferUsage);
		if (canRead){
			if (indexType=="ushort")
				this._buffer=new Uint16Array(indexCount);
			else if (indexType=="ubyte")
			this._buffer=new Uint8Array(indexCount);
			this._setGPUMemory(byteLength *2);
			}else {
			this._setGPUMemory(byteLength);
		}
		this._activeResource();
	}

	__class(IndexBuffer3D,'laya.d3.graphics.IndexBuffer3D',_super);
	var __proto=IndexBuffer3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto.bind=function(){
		if (Buffer._bindedIndexBuffer!==this._glBuffer){
			LayaGL.instance.bindBuffer(0x8893,this._glBuffer);
			Buffer._bindedIndexBuffer=this._glBuffer;
			return true;
			}else {
			return false;
		}
	}

	/**
	*设置数据。
	*@param data 索引数据。
	*@param bufferOffset 索引缓冲中的偏移。
	*@param dataStartIndex 索引数据的偏移。
	*@param dataCount 索引数据的数量。
	*/
	__proto.setData=function(data,bufferOffset,dataStartIndex,dataCount){
		(bufferOffset===void 0)&& (bufferOffset=0);
		(dataStartIndex===void 0)&& (dataStartIndex=0);
		(dataCount===void 0)&& (dataCount=4294967295);
		var byteCount=0;
		if (this._indexType=="ushort"){
			byteCount=2;
			if (dataStartIndex!==0 || dataCount!==4294967295)
				data=new Uint16Array(data.buffer,dataStartIndex *byteCount,dataCount);
			}else if (this._indexType=="ubyte"){
			byteCount=1;
			if (dataStartIndex!==0 || dataCount!==4294967295)
				data=new Uint8Array(data.buffer,dataStartIndex *byteCount,dataCount);
		}
		this.bind();
		LayaGL.instance.bufferSubData(this._bufferType,bufferOffset *byteCount,data);
		if (this._canRead){
			if (bufferOffset!==0 || dataStartIndex!==0 || dataCount!==4294967295){
				var maxLength=this._buffer.length-bufferOffset;
				if (dataCount > maxLength)
					dataCount=maxLength;
				for (var i=0;i < dataCount;i++)
				this._buffer[bufferOffset+i]=data[i];
				}else {
				this._buffer=data;
			}
		}
	}

	/**
	*获取索引数据。
	*@return 索引数据。
	*/
	__proto.getData=function(){
		if (this._canRead)
			return this._buffer;
		else
		throw new Error("Can't read data from VertexBuffer with only write flag!");
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		_super.prototype._disposeResource.call(this);
		this._buffer=null;
		this._setGPUMemory(0);
	}

	/**
	*获取索引类型。
	*@return 索引类型。
	*/
	__getset(0,__proto,'indexType',function(){
		return this._indexType;
	});

	/**
	*获取索引类型字节数量。
	*@return 索引类型字节数量。
	*/
	__getset(0,__proto,'indexTypeByteCount',function(){
		return this._indexTypeByteCount;
	});

	/**
	*获取索引个数。
	*@return 索引个数。
	*/
	__getset(0,__proto,'indexCount',function(){
		return this._indexCount;
	});

	/**
	*获取是否可读。
	*@return 是否可读。
	*/
	__getset(0,__proto,'canRead',function(){
		return this._canRead;
	});

	IndexBuffer3D.INDEXTYPE_UBYTE="ubyte";
	IndexBuffer3D.INDEXTYPE_USHORT="ushort";
	IndexBuffer3D.create=function(indexType,indexCount,bufferUsage,canRead){
		(bufferUsage===void 0)&& (bufferUsage=0x88E4);
		(canRead===void 0)&& (canRead=false);
		return new IndexBuffer3D(indexType,indexCount,bufferUsage,canRead);
	}

	return IndexBuffer3D;
})(Buffer)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/collision/CollisionDraw.as=======96.998797/96.998797
//class laya.game.client.plugins.collision.CollisionDraw extends laya.display.Sprite
var CollisionDraw=(function(_super){
	function CollisionDraw(){
		this.drawGreenLineColor='#00ff00';
		this.drawRedLineColor='#ff0000';
		CollisionDraw.__super.call(this);
	}

	__class(CollisionDraw,'laya.game.client.plugins.collision.CollisionDraw',_super);
	var __proto=CollisionDraw.prototype;
	Laya.imps(__proto,{"laya.game.client.plugins.collision.IcollisionDraw":true})
	__proto.start=function(){
		this.graphics.clear(true);
	}

	__proto.draw=function(obj){
		obj.attackBox && this.drawRect(obj.attackBox,this.drawRedLineColor);
		obj.beAttackBox && this.drawRect(obj.beAttackBox,this.drawGreenLineColor);
	}

	__proto.drawRect=function(obj,color){
		var left=obj.x;
		var top=obj.y;
		var right=obj.x+obj.width;
		var bottom=obj.y+obj.height;
		this.graphics.drawLine(left,top,right,top,color);
		this.graphics.drawLine(right,top,right,bottom,color);
		this.graphics.drawLine(right,bottom,left,bottom,color);
		this.graphics.drawLine(left,bottom,left,top,color);
	}

	__proto.end=function(){}
	__proto.hide=function(){
		this.visible=false;
	}

	__proto.show=function(){
		this.visible=true;
	}

	return CollisionDraw;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/graphics/VertexBuffer3D.as=======96.998778/96.998778
/**
*<code>VertexBuffer3D</code> 类用于创建顶点缓冲。
*/
//class laya.d3.graphics.VertexBuffer3D extends laya.webgl.utils.Buffer
var VertexBuffer3D=(function(_super){
	function VertexBuffer3D(byteLength,bufferUsage,canRead){
		/**@private */
		this._vertexCount=0;
		/**@private */
		this._canRead=false;
		/**@private */
		this._vertexDeclaration=null;
		(canRead===void 0)&& (canRead=false);
		VertexBuffer3D.__super.call(this);
		this._vertexCount=-1;
		this._bufferUsage=bufferUsage;
		this._bufferType=0x8892;
		this._canRead=canRead;
		this._byteLength=byteLength;
		this._setGPUMemory(byteLength);
		this.bind();
		LayaGL.instance.bufferData(this._bufferType,this._byteLength,this._bufferUsage);
		canRead && (this._buffer=new Float32Array(this._byteLength / 4));
		this._activeResource();
	}

	__class(VertexBuffer3D,'laya.d3.graphics.VertexBuffer3D',_super);
	var __proto=VertexBuffer3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto.bind=function(){
		if (Buffer._bindedVertexBuffer!==this._glBuffer){
			LayaGL.instance.bindBuffer(0x8892,this._glBuffer);
			Buffer._bindedVertexBuffer=this._glBuffer;
			return true;
			}else {
			return false;
		}
	}

	/**
	*设置数据。
	*@param data 顶点数据。
	*@param bufferOffset 顶点缓冲中的偏移。
	*@param dataStartIndex 顶点数据的偏移。
	*@param dataCount 顶点数据的数量。
	*/
	__proto.setData=function(data,bufferOffset,dataStartIndex,dataCount){
		(bufferOffset===void 0)&& (bufferOffset=0);
		(dataStartIndex===void 0)&& (dataStartIndex=0);
		(dataCount===void 0)&& (dataCount=4294967295);
		if (dataStartIndex!==0 || dataCount!==4294967295)
			data=new Float32Array(data.buffer,dataStartIndex *4,dataCount);
		this.bind();
		LayaGL.instance.bufferSubData(this._bufferType,bufferOffset *4,data);
		if (this._canRead){
			if (bufferOffset!==0 || dataStartIndex!==0 || dataCount!==4294967295){
				var maxLength=this._buffer.length-bufferOffset;
				if (dataCount > maxLength)
					dataCount=maxLength;
				for (var i=0;i < dataCount;i++)
				this._buffer[bufferOffset+i]=data[i];
				}else {
				this._buffer=data;
			}
		}
	}

	/**
	*获取顶点数据。
	*@return 顶点数据。
	*/
	__proto.getData=function(){
		if (this._canRead)
			return this._buffer;
		else
		throw new Error("Can't read data from VertexBuffer with only write flag!");
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		_super.prototype._disposeResource.call(this);
		this._buffer=null;
		this._vertexDeclaration=null;
		this._setGPUMemory(0);
	}

	/**
	*获取顶点声明。
	*/
	/**
	*获取顶点声明。
	*/
	__getset(0,__proto,'vertexDeclaration',function(){
		return this._vertexDeclaration;
		},function(value){
		if (this._vertexDeclaration!==value){
			this._vertexDeclaration=value;
			this._vertexCount=value ? this._byteLength / value.vertexStride :-1;
		}
	});

	/**
	*获取顶点个数。
	*@return 顶点个数。
	*/
	__getset(0,__proto,'vertexCount',function(){
		return this._vertexCount;
	});

	/**
	*获取是否可读。
	*@return 是否可读。
	*/
	__getset(0,__proto,'canRead',function(){
		return this._canRead;
	});

	return VertexBuffer3D;
})(Buffer)


	//file:///H:/work/sniper/WLBLaya/src/game/dream/gameUI/WgameUI.as=======96.998713/96.998713
//class game.dream.gameUI.WgameUI extends laya.display.Sprite
var WgameUI=(function(_super){
	function WgameUI(){
		this._tipClassType=null;
		this._enabledUI=true;
		this._width=1;
		this._height=1;
		this._left=NaN;
		this._right=NaN;
		this._top=NaN;
		this._bottom=NaN;
		this._centerX=NaN;
		this._centerY=NaN;
		this._tipData=null;
		WgameUI.__super.call(this);
		this.init();
	}

	__class(WgameUI,'game.dream.gameUI.WgameUI',_super);
	var __proto=WgameUI.prototype;
	Laya.imps(__proto,{"game.dream.gameUI.IgameUI":true,"wlb.dream.displays.IdisplayContainer":true})
	__proto.drawNow=function(){
		this.layoutNow();
	}

	/**
	*
	*@private
	*
	*/
	__proto.addDisplay=function(child){
		this.addChild(child);
	}

	__proto.addDisplayAt=function(child,index){
		this.addChildAt(child,index);
	}

	__proto.getDisplayAt=function(index){
		return this.getChildAt(index);
	}

	__proto.getDisplayIndex=function(child){
		return this.getChildIndex(child);
	}

	__proto.removeDisplay=function(child){
		this.removeChild(child);
	}

	__proto.removeDisplayAt=function(index){
		this.removeChildAt(index);
	}

	__proto.addToParent=function(parent){
		parent.addDisplay(this);
	}

	__proto.addAtParent=function(parent,index){
		parent.addDisplayAt(this,index);
	}

	__proto.init=function(){
		this.initUIBody();
		this.initLogic();
		this.initUIFoot();
	}

	__proto.initUIBody=function(){}
	__proto.initLogic=function(){
		this.on("added",this,this.addedHd);
	}

	__proto.initUIFoot=function(){}
	__proto.addedHd=function(){
		this.off("added",this,this.addedHd);
		this.on("removed",this,this.removedHd);
		this.parent.on("resize",this,this.resetLayoutHd);
		this.layoutAsyn();
	}

	__proto.removedHd=function(){
		this.on("added",this,this.addedHd);
		this.off("removed",this,this.removedHd);
		this.parent.off("resize",this,this.resetLayoutHd);
	}

	__proto.resetLayoutHd=function(event){
		this.layoutAsyn();
	}

	__proto.size=function(w,h){
		if(this._width==w&&this._height==h)return this;
		this._width=w;
		this._height=h;
		this.drawAsyn();
		this.event("resize",this);
		return this;
	}

	__proto.drawAsyn=function(){
		WasynManager.instance.callLater(this,this.drawNow);
	}

	__proto.layoutAsyn=function(){
		WasynManager.instance.callLater(this,this.layoutNow);
	}

	__proto.layoutNow=function(){
		if(this.parent==null)return;
		var tempW=this._width;
		var tempH=this._height;
		var parentW=NaN;
		var parentH=NaN;
		if((this.parent instanceof laya.display.Stage )){
			parentW=this.stage.designWidth;
			parentH=this.stage.designHeight
		}
		else{
			parentW=(this.parent).width;
			parentH=(this.parent).height;
		}
		if(isNaN(this._left)){
			if(!isNaN(this._right)){
				this.x=parentW-this._width-this.right;
			}
			else if(!isNaN(this._centerX)){
				this.x=(parentW-this._width)*0.5+this._centerX;
			}
		}
		else{
			this.x=this._left;
			if(!isNaN(this._right)){
				tempW=parentW-this._right-this._left;
			}
		}
		if(isNaN(this._top)){
			if(!isNaN(this._bottom)){
				this.y=parentH-this._height-this.bottom;
			}
			else
			if(!isNaN(this._centerY)){
				this.y=(parentH-this._height)*0.5+this._centerY;
			}
		}
		else{
			this.y=this._top;
			if(!isNaN(this._bottom)){
				tempH=parentH-this._top-this._bottom;
			}
		}
		this.size(Math.max(1,tempW),Math.max(1,tempH));
	}

	__proto.clearLayout=function(){
		this._left=this._right=this._top=this._bottom=this._centerY=this._centerX=NaN;
	}

	__proto.setLayout=function(left,right,top,bottom){
		(left===void 0)&& (left=NaN);
		(right===void 0)&& (right=NaN);
		(top===void 0)&& (top=NaN);
		(bottom===void 0)&& (bottom=NaN);
		this._left=left;
		this._right=right;
		this._bottom=bottom;
		this._top=top;
		this.layoutAsyn();
	}

	__proto.getUIByName=function(name){
		return this[name];
	}

	__getset(0,__proto,'top',function(){
		return this._top;
		},function(value){
		this._top=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'centerX',function(){
		return this._centerX;
		},function(value){
		this._centerX=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'editContainer',function(){
		return this;
	});

	__getset(0,__proto,'tipData',function(){
		return this._tipData;
		},function(value){
		this._tipData=value;
	});

	__getset(0,__proto,'tipClassType',function(){
		return this._tipClassType;
		},function(type){
		if(this._tipClassType){
			WtipManager.instance.removeTip(this);
		}
		this._tipClassType=type;
		if(this._tipClassType){
			if((typeof this._tipClassType=='string'))
				WtipManager.instance.addTip(this,this._tipClassType);
			else if(Laya.__isClass(this._tipClassType)){
				WtipManager.instance.addTipByClass(this,this._tipClassType);
			}
			this._tipClassType=null;
		}
	});

	__getset(0,__proto,'left',function(){
		return this._left;
		},function(value){
		this._left=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'enabledUI',function(){
		return this._enabledUI;
		},function(value){
		this._enabledUI=value;
		this.mouseEnabled=this._enabledUI;
	});

	__getset(0,__proto,'childIndex',function(){
		if(this.parent)return this.parent.getChildIndex(this);
		return-1;
	});

	__getset(0,__proto,'numDisplay',function(){
		return this.numChildren;
	});

	__getset(0,__proto,'right',function(){
		return this._right;
		},function(value){
		this._right=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'bottom',function(){
		return this._bottom;
		},function(value){
		this._bottom=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'centerY',function(){
		return this._centerY;
		},function(value){
		this._centerY=value;
		this.layoutAsyn();
	});

	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this.size(value,this._height);
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this.size(this._width,value);
	});

	__getset(0,__proto,'superWidth',function(){
		return Laya.superGet(Sprite,this,'width');
		},function(value){
		Laya.superSet(Sprite,this,'width',value);
	});

	__getset(0,__proto,'superHeight',function(){
		return Laya.superGet(Sprite,this,'height');
		},function(value){
		Laya.superSet(Sprite,this,'height',value);
	});

	__getset(0,__proto,'injectIDs',function(){
		return null;
	});

	return WgameUI;
})(Sprite)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/Wsprite.as=======96.998671/96.998671
/**
*显示对象基类
*@author wulongbin
*
*/
//class wlb.dream.displays.Wsprite extends laya.display.Sprite
var Wsprite=(function(_super){
	function Wsprite(){
		Wsprite.__super.call(this);
	}

	__class(Wsprite,'wlb.dream.displays.Wsprite',_super);
	var __proto=Wsprite.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.IdisplayContainer":true})
	/**
	*
	*@private
	*
	*/
	__proto.addDisplay=function(child){
		this.addChild(child);
	}

	__proto.addDisplayAt=function(child,index){
		this.addChildAt(child,index);
	}

	__proto.getDisplayAt=function(index){
		return this.getChildAt(index);
	}

	__proto.getDisplayIndex=function(child){
		return this.getChildIndex(child);
	}

	__proto.removeDisplay=function(child){
		this.removeChild(child);
	}

	__proto.removeDisplayAt=function(index){
		this.removeChildAt(index);
	}

	__proto.addToParent=function(parent){
		parent.addDisplay(this);
	}

	__proto.addAtParent=function(parent,index){
		parent.addDisplayAt(this,index);
	}

	__getset(0,__proto,'childIndex',function(){
		if(this.parent)return this.parent.getChildIndex(this);
		return-1;
	});

	__getset(0,__proto,'numDisplay',function(){
		return this.numChildren;
	});

	return Wsprite;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/BaseTexture.as=======96.998657/96.998657
/**
*<code>BaseTexture</code> 纹理的父类，抽象类，不允许实例。
*/
//class laya.webgl.resource.BaseTexture extends laya.resource.Bitmap
var BaseTexture=(function(_super){
	function BaseTexture(format,mipMap){
		/**@private */
		//this._readyed=false;
		/**@private */
		//this._glTextureType=0;
		/**@private */
		//this._glTexture=null;
		/**@private */
		//this._format=0;
		/**@private */
		//this._mipmap=false;
		/**@private */
		//this._wrapModeU=0;
		/**@private */
		//this._wrapModeV=0;
		/**@private */
		//this._filterMode=0;
		/**@private */
		//this._anisoLevel=0;
		BaseTexture.__super.call(this);
		this._wrapModeU=0;
		this._wrapModeV=0;
		this._filterMode=1;
		this._readyed=false;
		this._width=-1;
		this._height=-1;
		this._format=format;
		this._mipmap=mipMap;
		this._anisoLevel=1;
		this._glTexture=LayaGL.instance.createTexture();
	}

	__class(BaseTexture,'laya.webgl.resource.BaseTexture',_super);
	var __proto=BaseTexture.prototype;
	/**
	*@private
	*/
	__proto._isPot=function(size){
		return (size & (size-1))===0;
	}

	/**
	*@private
	*/
	__proto._getGLFormat=function(){
		var glFormat=0;
		switch (this._format){
			case 0:
				glFormat=0x1907;
				break ;
			case 1:
				glFormat=0x1908;
				break ;
			default :
				throw "BaseTexture: unkonw texture format.";
			}
		return glFormat;
	}

	/**
	*@private
	*/
	__proto._setFilterMode=function(value){
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		switch (value){
			case 0:
				if (this._mipmap && this._isPot(this._width)&& this._isPot(this._height))
					gl.texParameteri(this._glTextureType,0x2801,0x2700);
				else
				gl.texParameteri(this._glTextureType,0x2801,0x2600);
				gl.texParameteri(this._glTextureType,0x2800,0x2600);
				break ;
			case 1:
				if (this._mipmap && this._isPot(this._width)&& this._isPot(this._height))
					gl.texParameteri(this._glTextureType,0x2801,0x2701);
				else
				gl.texParameteri(this._glTextureType,0x2801,0x2601);
				gl.texParameteri(this._glTextureType,0x2800,0x2601);
				break ;
			case 2:
				if (this._mipmap && this._isPot(this._width)&& this._isPot(this._height))
					gl.texParameteri(this._glTextureType,0x2801,0x2703);
				else
				gl.texParameteri(this._glTextureType,0x2801,0x2601);
				gl.texParameteri(this._glTextureType,0x2800,0x2601);
				break ;
			default :
				throw new Error("BaseTexture:unknown filterMode value.");
			}
	}

	/**
	*@private
	*/
	__proto._setWarpMode=function(orientation,mode){
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		if (this._isPot(this._width)&& this._isPot(this._height)){
			switch (mode){
				case 0:
					gl.texParameteri(this._glTextureType,orientation,0x2901);
					break ;
				case 1:
					gl.texParameteri(this._glTextureType,orientation,0x812F);
					break ;
				}
			}else {
			gl.texParameteri(this._glTextureType,orientation,0x812F);
		}
	}

	/**
	*@private
	*/
	__proto._setAnisotropy=function(value){
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var anisotropic=WebGLContext.extTextureFilterAnisotropic;
		if (anisotropic){
			value=Math.min(gl.getParameter(anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT),value);
			gl.texParameterf(this._glTextureType,anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,value);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		if (params && (typeof params=='object')){
			var format=params.format;
			(format!==undefined)&& (this._format=format);
			var mipmap=params.mipmap;
			(mipmap!==undefined)&& (this.mipmap=mipmap);
			var wrapModeU=params.warpModeU;
			(wrapModeU!==undefined)&& (this.wrapModeU=wrapModeU);
			var wrapModeV=params.warpModeV;
			(wrapModeV!==undefined)&& (this.wrapModeV=wrapModeV);
			var filterMode=params.filterMode;
			(filterMode!==undefined)&& (this.filterMode=filterMode);
			var anisoLevel=params.anisoLevel;
			(anisoLevel!==undefined)&& (this.anisoLevel=anisoLevel);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		if (this._glTexture){
			LayaGL.instance.deleteTexture(this._glTexture);
			this._glTexture=null;
			this._setGPUMemory(0);
		}
	}

	/**
	*获取纹理资源。
	*/
	__proto._getSource=function(){
		if (this._readyed)
			return this._glTexture;
		else
		return null;
	}

	/**
	*@private [NATIVE] 临时使用,后期删除。
	*/
	__proto._getGLFormatForNative=function(){
		return 0x1908;
	}

	/**
	*设置纹理横向循环模式。
	*/
	/**
	*获取纹理横向循环模式。
	*/
	__getset(0,__proto,'wrapModeU',function(){
		return this._wrapModeU;
		},function(value){
		if (this._wrapModeU!==value){
			this._wrapModeU=value;
			(this._width!==-1)&& (this._setWarpMode(0x2802,value));
		}
	});

	/**
	*是否使用mipLevel
	*/
	__getset(0,__proto,'mipmap',function(){
		return this._mipmap;
	});

	/**
	*纹理格式
	*/
	__getset(0,__proto,'format',function(){
		return this._format;
	});

	/**
	*设置纹理纵向循环模式。
	*/
	/**
	*获取纹理纵向循环模式。
	*/
	__getset(0,__proto,'wrapModeV',function(){
		return this._wrapModeV;
		},function(value){
		if (this._wrapModeV!==value){
			this._wrapModeV=value;
			(this._height!==-1)&& (this._setWarpMode(0x2803,value));
		}
	});

	/**
	*获取默认纹理资源。
	*/
	__getset(0,__proto,'defaulteTexture',function(){
		throw "BaseTexture:must override it."
	});

	/**
	*缩小过滤器
	*/
	/**
	*缩小过滤器
	*/
	__getset(0,__proto,'filterMode',function(){
		return this._filterMode;
		},function(value){
		if (value!==this._filterMode){
			this._filterMode=value;
			((this._width!==-1)&& (this._height!==-1))&& (this._setFilterMode(value));
		}
	});

	/**
	*各向异性等级
	*/
	/**
	*各向异性等级
	*/
	__getset(0,__proto,'anisoLevel',function(){
		return this._anisoLevel;
		},function(value){
		if (value!==this._anisoLevel){
			this._anisoLevel=Math.max(1,Math.min(16,value));
			((this._width!==-1)&& (this._height!==-1))&& (this._setAnisotropy(value));
		}
	});

	BaseTexture.WARPMODE_REPEAT=0;
	BaseTexture.WARPMODE_CLAMP=1;
	BaseTexture.FILTERMODE_POINT=0;
	BaseTexture.FILTERMODE_BILINEAR=1;
	BaseTexture.FILTERMODE_TRILINEAR=2;
	BaseTexture.FORMAT_RGB_8_8_8=0;
	BaseTexture.FORMAT_RGBA_8_8_8_8=1;
	BaseTexture.FORMAT_DEPTH_16=0;
	BaseTexture.FORMAT_STENCIL_8=1;
	BaseTexture.FORMAT_DEPTHSTENCIL_16_8=2;
	BaseTexture.FORMAT_DEPTHSTENCIL_NONE=3;
	return BaseTexture;
})(Bitmap)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/PrimitiveMesh.as=======96.998648/96.998648
/**
*<code>PrimitiveMesh</code> 类用于创建简单网格。
*/
//class laya.d3.resource.models.PrimitiveMesh extends laya.d3.resource.models.BaseMesh
var PrimitiveMesh=(function(_super){
	function PrimitiveMesh(){
		/**@private */
		//this._primitveGeometry=null;
		PrimitiveMesh.__super.call(this);
		this._subMeshCount=1;
		this._primitveGeometry=new primitiveGeometry();
	}

	__class(PrimitiveMesh,'laya.d3.resource.models.PrimitiveMesh',_super);
	var __proto=PrimitiveMesh.prototype;
	/**
	*获取网格顶点
	*@return 网格顶点。
	*/
	__proto._getPositions=function(){
		var vertexBuffer=this._primitveGeometry._vertexBuffer;
		var vertices=[];
		var positionElement;
		var vertexElements=vertexBuffer.vertexDeclaration.vertexElements;
		var j=0;
		for (j=0;j < vertexElements.length;j++){
			var vertexElement=vertexElements[j];
			if (vertexElement.elementFormat==="vector3" && vertexElement.elementUsage===0){
				positionElement=vertexElement;
				break ;
			}
		};
		var verticesData=vertexBuffer.getData();
		for (j=0;j < verticesData.length;j+=vertexBuffer.vertexDeclaration.vertexStride / 4){
			var ofset=j+positionElement.offset / 4;
			var position=new Vector3(verticesData[ofset+0],verticesData[ofset+1],verticesData[ofset+2]);
			vertices.push(position);
		}
		return vertices;
	}

	/**
	*@private
	*/
	__proto._getSubMesh=function(index){
		return (index===0)? this._primitveGeometry :null;
	}

	/**
	*设置几何体数据。
	*@param vertexDeclaration 顶点声明。
	*@param vertices 顶点数据。
	*@param indices 多音数据。
	*/
	__proto.setData=function(vertexDeclaration,vertices,indices){
		(this.released)|| (this.releaseResource());
		var vertexBuffer=new VertexBuffer3D(vertices.length *4,0x88E4,true);
		vertexBuffer.vertexDeclaration=vertexDeclaration;
		vertexBuffer.setData(vertices);
		this._primitveGeometry._setVertexBuffer(vertexBuffer);
		var indexBuffer=new IndexBuffer3D("ushort",indices.length,0x88E4,true);
		indexBuffer.setData(indices);
		this._primitveGeometry._indexBuffer=indexBuffer;
		this._setGPUMemory((vertexBuffer._byteLength+indexBuffer._byteLength)*2);
		this._activeResource();
		this._positions=this._getPositions();
		this._generateBoundingObject();
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		this._primitveGeometry.dispose();
		this._setGPUMemory(0);
	}

	return PrimitiveMesh;
})(BaseMesh)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/Mesh.as=======96.998645/96.998645
/**
*<code>Mesh</code> 类用于创建文件网格数据模板。
*/
//class laya.d3.resource.models.Mesh extends laya.d3.resource.models.BaseMesh
var Mesh=(function(_super){
	function Mesh(){
		/**@private */
		this._subMeshes=null;
		/**@private */
		this._vertexBuffers=null;
		/**@private */
		this._indexBuffer=null;
		/**@private */
		this._boneNames=null;
		/**@private */
		this._inverseBindPoses=null;
		/**@private */
		this._inverseBindPosesBuffer=null;
		/**@private */
		this._bindPoseIndices=null;
		/**@private */
		this._skinDataPathMarks=null;
		/**@private */
		this._vertexCount=0;
		Mesh.__super.call(this);
		this._subMeshes=[];
		this._vertexBuffers=[];
		this._skinDataPathMarks=[];
	}

	__class(Mesh,'laya.d3.resource.models.Mesh',_super);
	var __proto=Mesh.prototype;
	/**
	*获取网格顶点，并产生数据
	*@return 网格顶点。
	*/
	__proto._getPositions=function(){
		var vertices=[];
		var i=0,j=0,vertexBuffer,positionElement,vertexElements,vertexElement,ofset=0,verticesData;
		var vertexBufferCount=this._vertexBuffers.length;
		for (i=0;i < vertexBufferCount;i++){
			vertexBuffer=this._vertexBuffers[i];
			vertexElements=vertexBuffer.vertexDeclaration.vertexElements;
			for (j=0;j < vertexElements.length;j++){
				vertexElement=vertexElements[j];
				if (vertexElement.elementFormat==="vector3" && vertexElement.elementUsage===0){
					positionElement=vertexElement;
					break ;
				}
			}
			verticesData=vertexBuffer.getData();
			for (j=0;j < verticesData.length;j+=vertexBuffer.vertexDeclaration.vertexStride / 4){
				ofset=j+positionElement.offset / 4;
				vertices.push(new Vector3(verticesData[ofset+0],verticesData[ofset+1],verticesData[ofset+2]));
			}
		}
		return vertices;
	}

	/**
	*@private
	*/
	__proto._setSubMeshes=function(subMeshes){
		this._subMeshes=subMeshes
		this._subMeshCount=subMeshes.length;
		for (var i=0;i < this._subMeshCount;i++)
		subMeshes[i]._indexInMesh=i;
		this._positions=this._getPositions();
		this._generateBoundingObject();
	}

	/**
	*@private
	*/
	__proto._onAsynLoaded=function(data,params){
		var bufferData=data[0];
		var textureMap=data[1];
		MeshReader.read(bufferData,this,this._subMeshes,textureMap);
	}

	/**
	*@inheritDoc
	*/
	__proto._getSubMesh=function(index){
		return this._subMeshes[index];
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		for (var i=0;i < this._subMeshes.length;i++)
		this._subMeshes[i].dispose();
		this._subMeshes=null;
		this._vertexBuffers=null;
		this._indexBuffer.destroy();
		this._indexBuffer=null;
		this._boneNames=null;
		this._inverseBindPoses=null;
	}

	/**
	*获取网格的全局默认绑定动作逆矩阵。
	*@return 网格的全局默认绑定动作逆矩阵。
	*/
	__getset(0,__proto,'inverseAbsoluteBindPoses',function(){
		return this._inverseBindPoses;
	});

	/**
	*获取顶点个数
	*/
	__getset(0,__proto,'vertexCount',function(){
		return this._vertexCount;
	});

	Mesh.load=function(url){
		return Laya.loader.create(url,null,null,Mesh);
	}

	return Mesh;
})(BaseMesh)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/SceneItem.as=======96.998578/96.998578
/**
*场景中掉落的item
*@author zhanghj
*/
//class laya.game.client.object.SceneItem extends laya.game.client.object.GameObject
var SceneItem=(function(_super){
	function SceneItem(){
		this.avatar=null;
		this.itemName=null;
		this.itemNum=null;
		this.itemNameColor=null;
		this.itemRes=null;
		this.onLoadedHd=null;
		this.itemPos=null;
		this.itemScene=null;
		this.tar=null;
		this.position=null;
		this.offSetY=NaN;
		this.font=null;
		this.fontSize=0;
		this.nameOffset=null;
		this.effectId=0;
		this.flyTime=0;
		this.offSetTime=0;
		this.destroyTime=0;
		this.eff=null;
		this.pos2=new Vector2();
		this.label=new Label();
		SceneItem.__super.call(this);
		this.onReady();
		this.onLoadedHd=new Handler(this,this.onLoaded);
	}

	__class(SceneItem,'laya.game.client.object.SceneItem',_super);
	var __proto=SceneItem.prototype;
	__proto.onReady=function(){
		if (!this.node)
			this.node=new Sprite3D();
	}

	/**
	*销毁
	*b 是否创建特效
	*/
	__proto.destroy=function(b){
		(b===void 0)&& (b=false);
		Laya.timer.clear(this,this.onSetPosition);
		this.node.removeChild(this.avatar);
		this.avatar=null;
		Laya.stage.removeChild(this.label);
		this.label.destroy();
		if(!b)
			this.createEffect();
	}

	/**
	*初始化物品信息
	*@param att 属性对象
	*/
	__proto.setAttrbuite=function(att){
		this.itemName=att.itemName;
		this.itemNum=att.itemNum;
		this.itemRes=att.itemRes;
		this.itemNameColor=att.itemNameColor;
		this.itemScene=att.scene;
		this.itemPos=att.pos;
		this.offSetY=att.offSetY;
		this.tar=att.target;
		this.font=att.font;
		this.fontSize=att.fontSize;
		this.nameOffset=att.nameOffset;
		this.effectId=att.effectId;
		this.flyTime=att.flyTime;
		this.offSetTime=att.offSetTime;
		this.destroyTime=att.destroyTime;
		this.position=this.itemPos;
		this.itemPos.y+=this.offSetY;
		this.tar.on(this.tar.pos,this.onSetPosition);
	}

	/**
	*创建物品
	*@param name 名称
	*@param num 数量
	*@param nameColor 颜色
	*@param res 模型资源路径
	*/
	__proto.createItem=function(){
		Sprite3DUtil.load(this.itemRes,Handler.create(this,this.onLoaded));
	}

	/**
	*加载成功回调
	*@param sprite3D 模型
	*/
	__proto.onLoaded=function(sprite3D){
		this.avatar=sprite3D;
		this.node.addChild(sprite3D);
		this.avatar.transform.position=this.itemPos;
		this.avatar.active=true;
		this.scene.camera.globalToScreen(this.avatar.transform.position,this.pos2);
		this.label.font=this.font;
		this.label.text=this.itemName+"X"+this.itemNum;
		this.label.fontSize=this.fontSize;
		this.label.color=this.itemNameColor;
		Laya.stage.addChild(this.label);
		this.label.x=this.pos2.x+this.nameOffset.x;
		this.label.y=this.pos2.y+this.nameOffset.y;
		Laya.timer.once(this.destroyTime,this,this.destroy);
		this.createAnimator();
	}

	/**
	*创建飞行特效
	*/
	__proto.createEffect=function(){
		var _$this=this;
		this.eff=StaticEffect3D.createStaticEffect3D(this.effectId);
		this.eff.onInit(this.node,this.itemPos);
		Tween.to(this.eff,{x:this.tar.pos.x,y:(this.tar.pos.y+this.tar.height*0.3),z:this.tar.pos.z },this.flyTime,Ease.quartIn,Handler.create(this,function(){
			_$this.eff.recovery();
		}));
	}

	/**
	*创建初始位移动画
	*/
	__proto.createAnimator=function(){
		Laya.timer.frameLoop(1,this,this.onSetPosition);
		Tween.to(this.position,{y:this.itemPos.y-this.offSetY },this.offSetTime,Ease.bounceOut,Handler.create(this,function(){
		}));
	}

	/**
	*侦听位置改变赋值
	*/
	__proto.onSetPosition=function(){
		if (!this.avatar)
			return;
		this.avatar.transform.position=this.position;
		this.scene.camera.globalToScreen(this.position,this.pos2);
		this.label.x=(this.pos2.x+this.nameOffset.x)/ Laya.stage.clientScaleX;
		this.label.y=(this.pos2.y+this.nameOffset.y)/ Laya.stage.clientScaleY;
	}

	return SceneItem;
})(GameObject)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/Seed.as=======96.998575/96.998575
/**
*种怪器
*@author wulongbin
*
*/
//class laya.game.client.object.Seed extends laya.game.client.object.GameObject
var Seed=(function(_super){
	function Seed(){
		this.monsters=[];
		this.seed=null;
		Seed.__super.call(this);
	}

	__class(Seed,'laya.game.client.object.Seed',_super);
	var __proto=Seed.prototype;
	__proto.onReady=function(){}
	// addPluginByJson(plugins);
	__proto.onDestruct=function(){
		_super.prototype.onDestruct.call(this);
		this.monsters=[];
	}

	__proto.createMonster=function(param){
		var monster=this.scene.createGameObject(param);
		monster.on('Dead',this,this.onMonsterDead);
		monster.angle.y=360*Math.random();
		this.monsters.push(monster);
		this.event('Seed_CreateMonster',monster);
	}

	__proto.onMonsterDead=function(obj){
		obj.off('Dead',this,this.onMonsterDead);
		var vIndex=this.monsters.indexOf(obj);
		if(vIndex==-1)return;
		this.monsters.splice(vIndex,1);
		if (this.monsters.length==0){
			this.scene.timer.once(300,this,this.eventClear);
		}
	}

	__proto.eventClear=function(){
		this.event('Seed_Clear');
		console.log("Seed_Clear:"+'Seed_Clear');
	}

	/**
	*清理怪
	*
	*/
	__proto.clearMonster=function(){
		var i=0;
		var len=this.monsters.length;
		for (;i < len;i++){
			(this.monsters [i]).destroyMe();
		}
		this.monsters.length=0;
	}

	Seed.Seed_Clear='Seed_Clear';
	Seed.Seed_CreateMonster='Seed_CreateMonster';
	Seed.Property_Seed='seed';
	return Seed;
})(GameObject)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/Shape.as=======96.998551/96.998551
//class wlb.dream.displays.Shape extends laya.display.Sprite
var Shape=(function(_super){
	function Shape(){
		Shape.__super.call(this);
		this.mouseEnabled=false;
	}

	__class(Shape,'wlb.dream.displays.Shape',_super);
	return Shape;
})(Sprite)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/plugins/character/CharacterSprite3D.as=======96.998469/96.998469
//class laya.game.client.plugins.character.CharacterSprite3D extends laya.d3.core.Sprite3D
var CharacterSprite3D=(function(_super){
	function CharacterSprite3D(name){
		this.owner=null;
		CharacterSprite3D.__super.call(this,name);
	}

	__class(CharacterSprite3D,'laya.game.client.plugins.character.CharacterSprite3D',_super);
	return CharacterSprite3D;
})(Sprite3D)


	//file:///H:/work/sniper/Platform/src/test/RoomView.as=======96.998459/96.998459
//class test.RoomView extends laya.display.Sprite
var RoomView=(function(_super){
	function RoomView(){
		this.matchButton=null;
		this.createRoomButton=null;
		this.joinRoom=null;
		this.showResult=null;
		this.roomIdInput=null;
		this.gotoGame=null;
		this.broadcast=null;
		this.userName=null;
		this.leave=null;
		this.sendToServer=null;
		this.syncopt=null;
		this.getItemSp=null;
		this.setItemSP=null;
		this.getData=null;
		this.setData=null;
		this.getRank=null;
		this.setRank=null;
		RoomView.__super.call(this);
		this.initView();
	}

	__class(RoomView,'test.RoomView',_super);
	var __proto=RoomView.prototype;
	__proto.initView=function(){
		this.getRank=new Sprite();
		this.initSprite(100,30,150,50,"getRank",this.getRank,Laya.stage);
		this.setRank=new Sprite();
		this.initSprite(350,30,150,50,"setRank",this.setRank,Laya.stage);
		this.matchButton=new Sprite();
		this.initSprite(100,100,150,50,"match",this.matchButton,Laya.stage);
		this.createRoomButton=new Sprite();
		this.initSprite(350,100,150,50,"createRoom",this.createRoomButton,Laya.stage);
		this.joinRoom=new Sprite();
		this.initSprite(550,100,150,50,"joinRoom",this.joinRoom,Laya.stage);
		this.gotoGame=new Sprite();
		this.initSprite(750,100,150,50,"gotoGame",this.gotoGame,Laya.stage);
		this.getItemSp=new Sprite();
		this.initSprite(100,175,150,50,"getItem",this.getItemSp,Laya.stage);
		this.setItemSP=new Sprite();
		this.initSprite(350,175,150,50,"setItem",this.setItemSP,Laya.stage);
		this.broadcast=new Sprite();
		this.initSprite(100,250,150,50,"broadcast",this.broadcast,Laya.stage);
		this.leave=new Sprite();
		this.initSprite(350,250,150,50,"leave",this.leave,Laya.stage);
		this.sendToServer=new Sprite();
		this.initSprite(550,250,150,50,"sendtoScript",this.sendToServer,Laya.stage);
		this.syncopt=new Sprite();
		this.initSprite(750,250,150,50,"syncopt",this.syncopt,Laya.stage);
		this.getData=new Sprite();
		this.initSprite(750,175,150,50,"getData",this.getData,Laya.stage);
		this.setData=new Sprite();
		this.initSprite(550,175,150,50,"setData",this.setData,Laya.stage);
		this.showResult=new Text();
		this.showResult.fontSize=40;
		this.showResult.pos(10,300);
		this.showResult.color="#ff0000";
		this.roomIdInput=new Input();
		this.roomIdInput.pos(200,500);
		this.roomIdInput.size(350,100);
		this.roomIdInput.bold=true;
		this.roomIdInput.bgColor="#666666";
		this.roomIdInput.color="#ffffff";
		this.roomIdInput.fontSize=20;
		this.userName=new Text();
		this.userName.pos(10,10);
		this.userName.size(200,50);
		this.userName.color="#ff0000";
		this.userName.fontSize=20;
		Laya.stage.addChild(this.userName);
		Laya.stage.addChild(this.showResult);
		Laya.stage.addChild(this.roomIdInput);
	}

	__proto.goGame=function(data){
		var _$this=this;
		var logindata=data.data;
		var userSvrInfo=data.dataExt;
		this.userName.text=logindata.userId;
		this.matchButton.on("click",this,function(){
			Platform.Instance.game.match(function(e){
				_$this.showResult.text=JSON.stringify(e);
			});
		});
		this.createRoomButton.on("click",this,function(){
			FSGame.room.createRoom();
		});
		this.joinRoom.on("click",this,function(){
			Platform.Instance.game.joinRoom(_$this.roomIdInput.text,function(e){
				_$this.showResult.text=JSON.stringify(e);
			});
		});
		this.gotoGame.on("click",this,function(){
			Platform.Instance.game.gotoGame(function(s){
				_$this.showResult.text=JSON.stringify(s);
			})
		})
		this.broadcast.on("click",this,function(){
			Platform.Instance.game.broadcast({msg:new Date().getTime()},function(e){
				_$this.showResult.text=JSON.stringify(e);
			})
		});
		this.leave.on("click",this,function(){
			Platform.Instance.game.leave(1,function(e){
				_$this.showLog(e);
			})
		})
		this.sendToServer.on("click",this,function(){
			Platform.Instance.game.sendToMsg("getSomeOne","yes");
		})
		this.syncopt.on("click",this,function(){
			Platform.Instance.game.syncopt("sb","fk",function(e){
				_$this.showLog(e);
			})
		});
		this.getItemSp.on("click",this,function(){
			_$this.getItems();
		});
		this.setItemSP.on("click",this,function(){
			_$this.addItem();
		})
		this.getData.on("click",this,function(){
			Platform.Instance.game.getData(["f2","fjson"],function(e){
				_$this.showLog(e);
			})
		})
		this.setData.on("click",this,function(){
			Platform.Instance.game.updateData({f2:10,fjson:"{'name':134}"},function(e){
				_$this.showLog(e);
			});
		})
		this.getRank.on("click",this,function(){
			Platform.Instance.game.getRank(1,function(e){
				_$this.showLog(e);
			});
		})
		this.setRank.on("click",this,function(){
			Platform.Instance.game.setRank(1,100,function(e){
				_$this.showLog(e);
			});
		})
	}

	__proto.showLog=function(e){
		this.showResult.text=JSON.stringify(e);
	}

	__proto.share=function(){
		debugger;
		var a=new ShareInfo();
		a.desc="123123123";
		a.icon="";
		a.title="12312313";
		Platform.Instance.union.share(a,function(e){
			debugger
		});
	}

	__proto.initSprite=function(x,y,w,h,str,sp,parent){
		sp.graphics.drawRect(0,0,150,50,"#ffff00");
		sp.graphics.fillText(str,w/2,0,"32px Arial","#ff0000","center");
		sp.pos(x,y);
		sp.size(w,h);
		this.addChild(sp);
	}

	__proto.addItem=function(){
		var _$this=this;
		var item=new ItemInfo();
		item.lost_efficacy_time=new Date().getTime()+60000;
		item.item_static_id=1;
		item.amount=1;
		item.extend1=0;
		item.extend2=0;
		Platform.Instance.game.addItem(item,function(d){
			_$this.showLog(d);
		});
	}

	__proto.getItems=function(){
		var _$this=this;
		Platform.Instance.game.getItems(function(e){
			_$this.showLog(e);
		});
	}

	return RoomView;
})(Sprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/HTMLCanvas.as=======96.998360/96.998360
/**
*<code>HTMLCanvas</code> 是 Html Canvas 的代理类，封装了 Canvas 的属性和方法。。请不要直接使用 new HTMLCanvas！
*/
//class laya.resource.HTMLCanvas extends laya.resource.Bitmap
var HTMLCanvas=(function(_super){
	function HTMLCanvas(type){
		//this._ctx=null;
		this._is2D=false;
		//this._source=null;
		/**
		*获取 Canvas 渲染上下文。
		*@param contextID 上下文ID.
		*@param other
		*@return Canvas 渲染上下文 Context 对象。
		*/
		this.getContext=function(contextID,other){
			return _$this._ctx ? _$this._ctx :(_$this._ctx=HTMLCanvas._createContext(this));
		}
		HTMLCanvas.__super.call(this);
		var _$this=this;
		this._source=this;
		if (type==="2D" || (type==="AUTO" && !Render.isWebGL)){
			this._is2D=true;
			this._source=Browser.createElement("canvas");
			var o=this;
			o.getContext=function (contextID,other){
				if (_$this._ctx)return _$this._ctx;
				var ctx=_$this._ctx=_$this._source.getContext(contextID,other);
				if (ctx){
					ctx._canvas=o;
					ctx.size=function (w,h){
					};
				}
				return ctx;
			}
		}
		this.lock=true;
	}

	__class(HTMLCanvas,'laya.resource.HTMLCanvas',_super);
	var __proto=HTMLCanvas.prototype;
	/**
	*清空画布内容。
	*/
	__proto.clear=function(){
		this._ctx && this._ctx.clear();
	}

	/**
	*销毁。
	*/
	__proto.destroy=function(){
		this._ctx && this._ctx.destroy();
		this._ctx=null;
	}

	/**
	*释放。
	*/
	__proto.release=function(){}
	/**
	*@private
	*设置 Canvas 渲染上下文。
	*@param context Canvas 渲染上下文。
	*/
	__proto._setContext=function(context){
		this._ctx=context;
	}

	/**
	*获取内存大小。
	*@return 内存大小。
	*/
	__proto.getMemSize=function(){
		return 0;
	}

	/**
	*设置宽高。
	*@param w 宽度。
	*@param h 高度。
	*/
	__proto.size=function(w,h){
		if (this._width !=w || this._height !=h || (this._source && (this._source.width !=w || this._source.height !=h))){
			this._width=w;
			this._height=h;
			this._setGPUMemory(w *h *4);
			this._ctx && this._ctx.size(w,h);
			this._source && (this._source.height=h,this._source.width=w);
		}
	}

	__proto.getCanvas=function(){
		return this._source;
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
	});

	/**
	*Canvas 渲染上下文。
	*/
	__getset(0,__proto,'context',function(){
		return this._ctx;
	});

	/**
	*是否当作 Bitmap 对象。
	*/
	__getset(0,__proto,'asBitmap',null,function(value){
	});

	HTMLCanvas.create=function(type){
		return new HTMLCanvas(type);
	}

	HTMLCanvas.TYPE2D="2D";
	HTMLCanvas.TYPE3D="3D";
	HTMLCanvas.TYPEAUTO="AUTO";
	HTMLCanvas._createContext=null;
	return HTMLCanvas;
})(Bitmap)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/resource/HTMLImage.as=======96.998359/96.998359
/**
*@private
*<p> <code>HTMLImage</code> 用于创建 HTML Image 元素。</p>
*<p>请使用 <code>HTMLImage.create()<code>获取新实例，不要直接使用 <code>new HTMLImage<code> 。</p>
*/
//class laya.resource.HTMLImage extends laya.resource.Bitmap
var HTMLImage=(function(_super){
	function HTMLImage(){
		/**@private */
		//this._source=null;
		HTMLImage.__super.call(this);
	}

	__class(HTMLImage,'laya.resource.HTMLImage',_super);
	var __proto=HTMLImage.prototype;
	/**
	*通过图片源填充纹理,可为HTMLImageElement、HTMLCanvasElement、HTMLVideoElement、ImageBitmap、ImageData。
	*/
	__proto.setImageSource=function(source){
		var width=source.width;
		var height=source.height;
		if (width <=0 || height <=0)
			throw new Error("HTMLImage:width or height must large than 0.");
		this._width=width;
		this._height=height;
		this._source=source;
		this._setGPUMemory(width *height *4);
		this._activeResource();
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		(this._source)&& (this._source=null,this._setGPUMemory(0));
	}

	/**
	*@inheritDoc
	*/
	__proto._getSource=function(){
		return this._source;
	}

	HTMLImage.create=function(){
		return new HTMLImage();
	}

	return HTMLImage;
})(Bitmap)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/Buffer2D.as=======96.998300/96.998300
//class laya.webgl.utils.Buffer2D extends laya.webgl.utils.Buffer
var Buffer2D=(function(_super){
	function Buffer2D(){
		this._maxsize=0;
		this._upload=true;
		this._uploadSize=0;
		this._bufferSize=0;
		this._u8Array=null;
		Buffer2D.__super.call(this);
		this.lock=true;
	}

	__class(Buffer2D,'laya.webgl.utils.Buffer2D',_super);
	var __proto=Buffer2D.prototype;
	__proto.setByteLength=function(value){
		if (this._byteLength!==value){
			value <=this._bufferSize || (this._resizeBuffer(value *2+256,true));
			this._byteLength=value;
		}
	}

	/**
	*在当前的基础上需要多大空间，单位是byte
	*@param sz
	*@return 增加大小之前的写位置。单位是byte
	*/
	__proto.needSize=function(sz){
		var old=this._byteLength;
		if (sz){
			var needsz=this._byteLength+sz;
			needsz <=this._bufferSize || (this._resizeBuffer(needsz << 1,true));
			this._byteLength=needsz;
		}
		return old;
	}

	__proto._bufferData=function(){
		this._maxsize=Math.max(this._maxsize,this._byteLength);
		if (Stat.loopCount % 30==0){
			if (this._buffer.byteLength > (this._maxsize+64)){
				this._setGPUMemory(this._buffer.byteLength);
				this._buffer=this._buffer.slice(0,this._maxsize+64);
				this._bufferSize=this._buffer.byteLength;
				this._checkArrayUse();
			}
			this._maxsize=this._byteLength;
		}
		if (this._uploadSize < this._buffer.byteLength){
			this._uploadSize=this._buffer.byteLength;
			LayaGL.instance.bufferData(this._bufferType,this._uploadSize,this._bufferUsage);
			this._setGPUMemory(this._uploadSize);
		}
		LayaGL.instance.bufferSubData(this._bufferType,0,this._buffer);
	}

	__proto._bufferSubData=function(offset,dataStart,dataLength){
		(offset===void 0)&& (offset=0);
		(dataStart===void 0)&& (dataStart=0);
		(dataLength===void 0)&& (dataLength=0);
		this._maxsize=Math.max(this._maxsize,this._byteLength);
		if (Stat.loopCount % 30==0){
			if (this._buffer.byteLength > (this._maxsize+64)){
				this._setGPUMemory(this._buffer.byteLength);
				this._buffer=this._buffer.slice(0,this._maxsize+64);
				this._bufferSize=this._buffer.byteLength;
				this._checkArrayUse();
			}
			this._maxsize=this._byteLength;
		}
		if (this._uploadSize < this._buffer.byteLength){
			this._uploadSize=this._buffer.byteLength;
			LayaGL.instance.bufferData(this._bufferType,this._uploadSize,this._bufferUsage);
			this._setGPUMemory(this._uploadSize);
		}
		if (dataStart || dataLength){
			var subBuffer=this._buffer.slice(dataStart,dataLength);
			LayaGL.instance.bufferSubData(this._bufferType,offset,subBuffer);
			}else {
			LayaGL.instance.bufferSubData(this._bufferType,offset,this._buffer);
		}
	}

	/**
	*buffer重新分配了，继承类根据需要做相应的处理。
	*/
	__proto._checkArrayUse=function(){}
	/**
	*给vao使用的 _bind_upload函数。不要与已经绑定的判断是否相同
	*@return
	*/
	__proto._bind_uploadForVAO=function(){
		if (!this._upload)
			return false;
		this._upload=false;
		this._bindForVAO();
		this._bufferData();
		return true;
	}

	__proto._bind_upload=function(){
		if (!this._upload)
			return false;
		this._upload=false;
		this.bind();
		this._bufferData();
		return true;
	}

	__proto._bind_subUpload=function(offset,dataStart,dataLength){
		(offset===void 0)&& (offset=0);
		(dataStart===void 0)&& (dataStart=0);
		(dataLength===void 0)&& (dataLength=0);
		if (!this._upload)
			return false;
		this._upload=false;
		this.bind();
		this._bufferSubData(offset,dataStart,dataLength);
		return true;
	}

	/**
	*重新分配buffer大小，如果nsz比原来的小则什么都不做。
	*@param nsz buffer大小，单位是byte。
	*@param copy 是否拷贝原来的buffer的数据。
	*@return
	*/
	__proto._resizeBuffer=function(nsz,copy){
		if (nsz < this._buffer.byteLength)
			return this;
		this._setGPUMemory(nsz);
		if (copy && this._buffer && this._buffer.byteLength > 0){
			var newbuffer=new ArrayBuffer(nsz);
			var oldU8Arr=(this._u8Array && this._u8Array.buffer==this._buffer)?this._u8Array :new Uint8Array(this._buffer);
			this._u8Array=new Uint8Array(newbuffer);
			this._u8Array.set(oldU8Arr,0);
			this._buffer=newbuffer;
			}else{
			this._buffer=new ArrayBuffer(nsz);
		}
		this._checkArrayUse();
		this._upload=true;
		this._bufferSize=this._buffer.byteLength;
		return this;
	}

	__proto.append=function(data){
		this._upload=true;
		var byteLen=0,n;
		byteLen=data.byteLength;
		if ((data instanceof Uint8Array)){
			this._resizeBuffer(this._byteLength+byteLen,true);
			n=new Uint8Array(this._buffer,this._byteLength);
			}else if ((data instanceof Uint16Array)){
			this._resizeBuffer(this._byteLength+byteLen,true);
			n=new Uint16Array(this._buffer,this._byteLength);
			}else if ((data instanceof Float32Array)){
			this._resizeBuffer(this._byteLength+byteLen,true);
			n=new Float32Array(this._buffer,this._byteLength);
		}
		n.set(data,0);
		this._byteLength+=byteLen;
		this._checkArrayUse();
	}

	/**
	*附加Uint16Array的数据。数据长度是len。byte的话要*2
	*@param data
	*@param len
	*/
	__proto.appendU16Array=function(data,len){
		this._resizeBuffer(this._byteLength+len*2,true);
		var u=new Uint16Array(this._buffer,this._byteLength,len);
		for (var i=0;i < len;i++){
			u[i]=data[i];
		}
		this._byteLength+=len *2;
		this._checkArrayUse();
	}

	__proto.appendEx=function(data,type){
		this._upload=true;
		var byteLen=0,n;
		byteLen=data.byteLength;
		this._resizeBuffer(this._byteLength+byteLen,true);
		n=new type(this._buffer,this._byteLength);
		n.set(data,0);
		this._byteLength+=byteLen;
		this._checkArrayUse();
	}

	__proto.appendEx2=function(data,type,dataLen,perDataLen){
		(perDataLen===void 0)&& (perDataLen=1);
		this._upload=true;
		var byteLen=0,n;
		byteLen=dataLen*perDataLen;
		this._resizeBuffer(this._byteLength+byteLen,true);
		n=new type(this._buffer,this._byteLength);
		var i=0;
		for (i=0;i < dataLen;i++){
			n[i]=data[i];
		}
		this._byteLength+=byteLen;
		this._checkArrayUse();
	}

	__proto.getBuffer=function(){
		return this._buffer;
	}

	__proto.setNeedUpload=function(){
		this._upload=true;
	}

	__proto.getNeedUpload=function(){
		return this._upload;
	}

	__proto.upload=function(){
		var scuess=this._bind_upload();
		LayaGL.instance.bindBuffer(this._bufferType,null);
		if(this._bufferType==0x8892)Buffer._bindedVertexBuffer=null;
		if(this._bufferType==0x8893)Buffer._bindedIndexBuffer=null;
		BaseShader.activeShader=null
		return scuess;
	}

	__proto.subUpload=function(offset,dataStart,dataLength){
		(offset===void 0)&& (offset=0);
		(dataStart===void 0)&& (dataStart=0);
		(dataLength===void 0)&& (dataLength=0);
		var scuess=this._bind_subUpload();
		LayaGL.instance.bindBuffer(this._bufferType,null);
		if(this._bufferType==0x8892)Buffer._bindedVertexBuffer=null;
		if(this._bufferType==0x8893)Buffer._bindedIndexBuffer=null;
		BaseShader.activeShader=null
		return scuess;
	}

	__proto._disposeResource=function(){
		_super.prototype._disposeResource.call(this);
		this._upload=true;
		this._uploadSize=0;
	}

	/**
	*清理数据。保留ArrayBuffer
	*/
	__proto.clear=function(){
		this._byteLength=0;
		this._upload=true;
	}

	//反正常常要拷贝老的数据，所以保留这个可以提高效率
	__getset(0,__proto,'bufferLength',function(){
		return this._buffer.byteLength;
	});

	__getset(0,__proto,'byteLength',null,function(value){
		this.setByteLength(value);
	});

	Buffer2D.__int__=function(gl){
		IndexBuffer2D.QuadrangleIB=IndexBuffer2D.create(0x88E4);
		GlUtils.fillIBQuadrangle(IndexBuffer2D.QuadrangleIB,16);
	}

	Buffer2D.FLOAT32=4;
	Buffer2D.SHORT=2;
	return Buffer2D;
})(Buffer)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/Shader.as=======96.998093/96.998093
//class laya.webgl.shader.Shader extends laya.webgl.shader.BaseShader
var Shader=(function(_super){
	function Shader(vs,ps,saveName,nameMap){
		//存储预编译结果，可以通过名字获得内容,目前不支持#ifdef嵌套和条件
		this._attribInfo=null;
		this.customCompile=false;
		//this._nameMap=null;
		//shader参数别名，语义
		//this._vs=null;
		//this._ps=null;
		this._curActTexIndex=0;
		//this._reCompile=false;
		//存储一些私有变量
		this.tag={};
		//this._vshader=null;
		//this._pshader=null;
		this._program=null;
		this._params=null;
		this._paramsMap={};
		//this._id=0;
		Shader.__super.call(this);
		if ((!vs)|| (!ps))throw "Shader Error";
		if (Render.isConchApp || Render.isFlash){
			this.customCompile=true;
		}
		this._id=++Shader._count;
		this._vs=vs;
		this._ps=ps;
		this._nameMap=nameMap ? nameMap :{};
		saveName !=null && (Shader.sharders[saveName]=this);
		this.recreateResource();
		this.lock=true;
	}

	__class(Shader,'laya.webgl.shader.Shader',_super);
	var __proto=Shader.prototype;
	__proto.recreateResource=function(){
		this._compile();
		this._setGPUMemory(0);
	}

	//忽略尺寸尺寸
	__proto._disposeResource=function(){
		WebGL.mainContext.deleteShader(this._vshader);
		WebGL.mainContext.deleteShader(this._pshader);
		WebGL.mainContext.deleteProgram(this._program);
		this._vshader=this._pshader=this._program=null;
		this._params=null;
		this._paramsMap={};
		this._setGPUMemory(0);
		this._curActTexIndex=0;
	}

	__proto._compile=function(){
		if (!this._vs || !this._ps || this._params)
			return;
		this._reCompile=true;
		this._params=[];
		var result;
		if (this.customCompile)
			result=ShaderCompile.preGetParams(this._vs,this._ps);
		var gl=WebGL.mainContext;
		this._program=gl.createProgram();
		this._vshader=Shader._createShader(gl,this._vs,0x8B31);
		this._pshader=Shader._createShader(gl,this._ps,0x8B30);
		gl.attachShader(this._program,this._vshader);
		gl.attachShader(this._program,this._pshader);
		var one,i=0,j=0,n=0,location;
		var attribDescNum=this._attribInfo?this._attribInfo.length:0;
		for (i=0;i < attribDescNum;i+=2){
			gl.bindAttribLocation(this._program,this._attribInfo[i+1],this._attribInfo[i]);
		}
		gl.linkProgram(this._program);
		if (!this.customCompile && !gl.getProgramParameter(this._program,0x8B82)){
			throw gl.getProgramInfoLog(this._program);
		};
		var nUniformNum=this.customCompile ? result.uniforms.length :gl.getProgramParameter(this._program,0x8B86);
		for (i=0;i < nUniformNum;i++){
			var uniform=this.customCompile ? result.uniforms[i] :gl.getActiveUniform(this._program,i);
			location=gl.getUniformLocation(this._program,uniform.name);
			one={vartype:"uniform",glfun:null,ivartype:1,location:location,name:uniform.name,type:uniform.type,isArray:false,isSame:false,preValue:null,indexOfParams:0};
			if (one.name.indexOf('[0]')> 0){
				one.name=one.name.substr(0,one.name.length-3);
				one.isArray=true;
				one.location=gl.getUniformLocation(this._program,one.name);
			}
			this._params.push(one);
		}
		for (i=0,n=this._params.length;i < n;i++){
			one=this._params[i];
			one.indexOfParams=i;
			one.index=1;
			one.value=[one.location,null];
			one.codename=one.name;
			one.name=this._nameMap[one.codename] ? this._nameMap[one.codename] :one.codename;
			this._paramsMap[one.name]=one;
			one._this=this;
			one.uploadedValue=[];
			switch (one.type){
				case 0x1404:
					one.fun=one.isArray ? this._uniform1iv :this._uniform1i;
					break ;
				case 0x1406:
					one.fun=one.isArray ? this._uniform1fv :this._uniform1f;
					break ;
				case 0x8B50:
					one.fun=one.isArray ? this._uniform_vec2v:this._uniform_vec2;
					break ;
				case 0x8B51:
					one.fun=one.isArray ? this._uniform_vec3v:this._uniform_vec3;
					break ;
				case 0x8B52:
					one.fun=one.isArray ? this._uniform_vec4v:this._uniform_vec4;
					break ;
				case 0x8B5E:
					one.fun=this._uniform_sampler2D;
					break ;
				case 0x8B60:
					one.fun=this._uniform_samplerCube;
					break ;
				case 0x8B5C:
					one.glfun=gl.uniformMatrix4fv;
					one.fun=this._uniformMatrix4fv;
					break ;
				case 0x8B56:
					one.fun=this._uniform1i;
					break ;
				case 0x8B5A:
				case 0x8B5B:
					throw new Error("compile shader err!");
					break ;
				default :
					throw new Error("compile shader err!");
					break ;
				}
		}
	}

	/**
	*根据变量名字获得
	*@param name
	*@return
	*/
	__proto.getUniform=function(name){
		return this._paramsMap[name];
	}

	__proto._uniform1f=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value){
			WebGL.mainContext.uniform1f(one.location,uploadedValue[0]=value);
			return 1;
		}
		return 0;
	}

	__proto._uniform1fv=function(one,value){
		if (value.length < 4){
			var uploadedValue=one.uploadedValue;
			if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
				WebGL.mainContext.uniform1fv(one.location,value);
				uploadedValue[0]=value[0];
				uploadedValue[1]=value[1];
				uploadedValue[2]=value[2];
				uploadedValue[3]=value[3];
				return 1;
			}
			return 0;
			}else {
			WebGL.mainContext.uniform1fv(one.location,value);
			return 1;
		}
	}

	__proto._uniform_vec2=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){
			WebGL.mainContext.uniform2f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_vec2v=function(one,value){
		if (value.length < 2){
			var uploadedValue=one.uploadedValue;
			if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
				WebGL.mainContext.uniform2fv(one.location,value);
				uploadedValue[0]=value[0];
				uploadedValue[1]=value[1];
				uploadedValue[2]=value[2];
				uploadedValue[3]=value[3];
				return 1;
			}
			return 0;
			}else {
			WebGL.mainContext.uniform2fv(one.location,value);
			return 1;
		}
	}

	__proto._uniform_vec3=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){
			WebGL.mainContext.uniform3f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_vec3v=function(one,value){
		WebGL.mainContext.uniform3fv(one.location,value);
		return 1;
	}

	__proto._uniform_vec4=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
			WebGL.mainContext.uniform4f(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_vec4v=function(one,value){
		WebGL.mainContext.uniform4fv(one.location,value);
		return 1;
	}

	__proto._uniformMatrix2fv=function(one,value){
		WebGL.mainContext.uniformMatrix2fv(one.location,false,value);
		return 1;
	}

	__proto._uniformMatrix3fv=function(one,value){
		WebGL.mainContext.uniformMatrix3fv(one.location,false,value);
		return 1;
	}

	__proto._uniformMatrix4fv=function(one,value){
		WebGL.mainContext.uniformMatrix4fv(one.location,false,value);
		return 1;
	}

	__proto._uniform1i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value){
			WebGL.mainContext.uniform1i(one.location,uploadedValue[0]=value);
			return 1;
		}
		return 0;
	}

	__proto._uniform1iv=function(one,value){
		WebGL.mainContext.uniform1iv(one.location,value);
		return 1;
	}

	__proto._uniform_ivec2=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1]){
			WebGL.mainContext.uniform2i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_ivec2v=function(one,value){
		WebGL.mainContext.uniform2iv(one.location,value);
		return 1;
	}

	__proto._uniform_vec3i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2]){
			WebGL.mainContext.uniform3i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_vec3vi=function(one,value){
		WebGL.mainContext.uniform3iv(one.location,value);
		return 1;
	}

	__proto._uniform_vec4i=function(one,value){
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]!==value[0] || uploadedValue[1]!==value[1] || uploadedValue[2]!==value[2] || uploadedValue[3]!==value[3]){
			WebGL.mainContext.uniform4i(one.location,uploadedValue[0]=value[0],uploadedValue[1]=value[1],uploadedValue[2]=value[2],uploadedValue[3]=value[3]);
			return 1;
		}
		return 0;
	}

	__proto._uniform_vec4vi=function(one,value){
		WebGL.mainContext.uniform4iv(one.location,value);
		return 1;
	}

	__proto._uniform_sampler2D=function(one,value){
		var gl=WebGL.mainContext;
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]==null){
			uploadedValue[0]=this._curActTexIndex;
			gl.uniform1i(one.location,this._curActTexIndex);
			WebGLContext.activeTexture(gl,0x84C0+this._curActTexIndex);
			WebGLContext.bindTexture(gl,0x0DE1,value);
			this._curActTexIndex++;
			return 1;
			}else {
			WebGLContext.activeTexture(gl,0x84C0+uploadedValue[0]);
			WebGLContext.bindTexture(gl,0x0DE1,value);
			return 0;
		}
	}

	__proto._uniform_samplerCube=function(one,value){
		var gl=WebGL.mainContext;
		var uploadedValue=one.uploadedValue;
		if (uploadedValue[0]==null){
			uploadedValue[0]=this._curActTexIndex;
			gl.uniform1i(one.location,this._curActTexIndex);
			WebGLContext.activeTexture(gl,0x84C0+this._curActTexIndex);
			WebGLContext.bindTexture(gl,0x8513,value);
			this._curActTexIndex++;
			return 1;
			}else {
			WebGLContext.activeTexture(gl,0x84C0+uploadedValue[0]);
			WebGLContext.bindTexture(gl,0x8513,value);
			return 0;
		}
	}

	__proto._noSetValue=function(one){
		console.log("no....:"+one.name);
	}

	//throw new Error("upload shader err,must set value:"+one.name);
	__proto.uploadOne=function(name,value){
		WebGLContext.useProgram(WebGL.mainContext,this._program);
		var one=this._paramsMap[name];
		one.fun.call(this,one,value);
	}

	__proto.uploadTexture2D=function(value){
		Stat.shaderCall++;
		var gl=WebGL.mainContext;
		WebGLContext.activeTexture(gl,0x84C0);
		WebGLContext.bindTexture(gl,0x0DE1,value);
	}

	/**
	*提交shader到GPU
	*@param shaderValue
	*/
	__proto.upload=function(shaderValue,params){
		BaseShader.activeShader=BaseShader.bindShader=this;
		var gl=WebGL.mainContext;
		WebGLContext.useProgram(gl,this._program);
		if (this._reCompile){
			params=this._params;
			this._reCompile=false;
			}else {
			params=params || this._params;
		};
		var one,value,n=params.length,shaderCall=0;
		for (var i=0;i < n;i++){
			one=params[i];
			if ((value=shaderValue[one.name])!==null)
				shaderCall+=one.fun.call(this,one,value);
		}
		Stat.shaderCall+=shaderCall;
	}

	/**
	*按数组的定义提交
	*@param shaderValue 数组格式[name,value,...]
	*/
	__proto.uploadArray=function(shaderValue,length,_bufferUsage){
		BaseShader.activeShader=this;
		BaseShader.bindShader=this;
		WebGLContext.useProgram(WebGL.mainContext,this._program);
		var params=this._params,value;
		var one,shaderCall=0;
		for (var i=length-2;i >=0;i-=2){
			one=this._paramsMap[shaderValue[i]];
			if (!one)
				continue ;
			value=shaderValue[i+1];
			if (value !=null){
				_bufferUsage && _bufferUsage[one.name] && _bufferUsage[one.name].bind();
				shaderCall+=one.fun.call(this,one,value);
			}
		}
		Stat.shaderCall+=shaderCall;
	}

	/**
	*得到编译后的变量及相关预定义
	*@return
	*/
	__proto.getParams=function(){
		return this._params;
	}

	/**
	*设置shader里面的attribute绑定到哪个location，必须与mesh2d的对应起来，
	*这个必须在编译之前设置。
	*@param attribDesc 属性描述，格式是 [attributeName,location,attributeName,location ... ]
	*/
	__proto.setAttributesLocation=function(attribDesc){
		this._attribInfo=attribDesc;
	}

	Shader.getShader=function(name){
		return Shader.sharders[name];
	}

	Shader.create=function(vs,ps,saveName,nameMap){
		return new Shader(vs,ps,saveName,nameMap);
	}

	Shader.withCompile=function(nameID,define,shaderName,createShader){
		if (shaderName && Shader.sharders[shaderName])
			return Shader.sharders[shaderName];
		var pre=Shader._preCompileShader[0.0002 *nameID];
		if (!pre)
			throw new Error("withCompile shader err!"+nameID);
		return pre.createShader(define,shaderName,createShader);
	}

	Shader.withCompile2D=function(nameID,mainID,define,shaderName,createShader){
		if (shaderName && Shader.sharders[shaderName])
			return Shader.sharders[shaderName];
		var pre=Shader._preCompileShader[0.0002 *nameID+mainID];
		if (!pre)
			throw new Error("withCompile shader err!"+nameID+" "+mainID);
		return pre.createShader(define,shaderName,createShader);
	}

	Shader.addInclude=function(fileName,txt){
		ShaderCompile.addInclude(fileName,txt);
	}

	Shader.preCompile=function(nameID,vs,ps,nameMap){
		var id=0.0002 *nameID;
		Shader._preCompileShader[id]=new ShaderCompile(vs,ps,nameMap);
	}

	Shader.preCompile2D=function(nameID,mainID,vs,ps,nameMap){
		var id=0.0002 *nameID+mainID;
		Shader._preCompileShader[id]=new ShaderCompile(vs,ps,nameMap);
	}

	Shader._createShader=function(gl,str,type){
		var shader=gl.createShader(type);
		gl.shaderSource(shader,str);
		gl.compileShader(shader);
		if(gl.getShaderParameter(shader,gl.COMPILE_STATUS)){
			return shader;
			}else{
			console.log(gl.getShaderInfoLog(shader));
			return null;
		}
	}

	Shader._count=0;
	Shader._preCompileShader={};
	Shader.SHADERNAME2ID=0.0002;
	Shader.sharders=new Array(0x20);
	__static(Shader,
	['nameKey',function(){return this.nameKey=new StringKey();}
	]);
	return Shader;
})(BaseShader)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as=======96.997785/96.997785
//class wlb.dream.bimaps.ColorBitmap extends laya.resource.Bitmap
var ColorBitmap=(function(_super){
	function ColorBitmap(){
		this._pixels=null;
		this.repeat=true;
		this.canvas=null;
		ColorBitmap.__super.call(this);
	}

	__class(ColorBitmap,'wlb.dream.bimaps.ColorBitmap',_super);
	var __proto=ColorBitmap.prototype;
	__proto.init=function(colors,w,h){
		(w===void 0)&& (w=1);
		(h===void 0)&& (h=1);
		/*no*/this._w=w;
		/*no*/this._h=h;
		this.createPixels(colors);
	}

	__proto.createPixels=function(colors){
		this._pixels=new Uint8Array(colors);
	}

	/**
	*@private
	*/
	__proto._createWebGlTexture=function(){
		var gl=WebGL.mainContext;
		var glTex=/*no*/this._source=gl.createTexture();
		var w=/*no*/this._w;
		var h=/*no*/this._h;
		var preTarget=WebGLContext.curBindTexTarget;
		var preTexture=WebGLContext.curBindTexValue;
		WebGLContext.bindTexture(gl,0x0DE1,glTex);
		gl.texImage2D(0x0DE1,0,0x1908,w,h,0,0x1908,0x1401,this._pixels);
		var repeat=this.repeat ? 0x2901 :0x812F;
		var isPot=Arith.isPOT(w,h);
		if (isPot){
			gl.texParameteri(0x0DE1,0x2801,0x2600);
			gl.texParameteri(0x0DE1,0x2800,0x2600);
			gl.texParameteri(0x0DE1,0x2802,repeat);
			gl.texParameteri(0x0DE1,0x2803,repeat);
			}else {
			gl.texParameteri(0x0DE1,0x2801,0x2600);
			gl.texParameteri(0x0DE1,0x2800,0x2600);
			gl.texParameteri(0x0DE1,0x2802,0x812F);
			gl.texParameteri(0x0DE1,0x2803,0x812F);
		}
		(preTarget && preTexture)&& (WebGLContext.bindTexture(gl,preTarget,preTexture));
		if (isPot)
			/*no*/this.memorySize=w *h *4 *(1+1 / 3);
		else
		/*no*/this.memorySize=w *h *4;
	}

	//<br>核心算法 参考 PicTool.getCanvasPic 写的
	__proto._createCanvasTexture=function(){this.canvas=this.canvas|| new HTMLCanvas("2D");
		this.canvas.clear();
		var ctx=this.canvas.getContext("2d");
		var w=/*no*/this._w;
		var h=/*no*/this._h;
		this.canvas.size(w,h);
		var imgData=ctx.getImageData(0,0,w,h);
		var data=imgData.data;
		var arr=this._pixels;
		for (var i=0,n=arr.length;i < n;i+=4){
			if (arr[i+3]==0)continue ;
			data[i]=arr[i];
			data[i+1]=arr[i+1];
			data[i+2]=arr[i+2];
			data[i+3]=arr[i+3];
		}
		ctx.putImageData(imgData,0,0);
		this._source=this.canvas.source;
	}

	/**
	*重新创建资源，如果异步创建中被强制释放再创建，则需等待释放完成后再重新加载创建。
	*/
	__proto.recreateResource=function(){
		Render.isWebGL ? this._createWebGlTexture():this._createCanvasTexture();
		/*no*/this.completeCreate();
	}

	/**
	*销毁资源。
	*/
	__proto.detoryResource=function(){
		if (/*no*/this._source){
			Render.isWebGL ? WebGL.mainContext.deleteTexture(/*no*/this._source):/*no*/this.dispose();
			/*no*/this._source=null;
			/*no*/this.memorySize=0;
			this.canvas && this.canvas.clear();
		}
	}

	return ColorBitmap;
})(Bitmap)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/LinePath.as=======96.997525/96.997525
//class laya.game.client.path.LinePath extends laya.game.client.path.BasePath
var LinePath$1=(function(_super){
	function LinePath(){
		this.speed=NaN;
		this._speedVector=new Point;
		LinePath.__super.call(this);
	}

	__class(LinePath,'laya.game.client.path.LinePath',_super,'LinePath$1');
	var __proto=LinePath.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		MathUtils.angleToPoint(this.gameObj.faceAngle,this.speed*0.001,this._speedVector);
	}

	__proto.onLoop=function(){
		var delta=this.timer.delta;
		var pos=this.gameObj.pos;
		pos.setValue(
		pos.x+this._speedVector.x*delta,
		pos.y+this._speedVector.y*delta,
		pos.z);
	}

	return LinePath;
})(BasePath)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/LinePathXZ.as=======96.997524/96.997524
/**
*XZ平面直线路径
*@author wulongbin
*
*/
//class laya.game.client.path.LinePathXZ extends laya.game.client.path.BasePath
var LinePathXZ=(function(_super){
	function LinePathXZ(){
		this.speed=NaN;
		this._speedVector=new Point;
		LinePathXZ.__super.call(this);
	}

	__class(LinePathXZ,'laya.game.client.path.LinePathXZ',_super);
	var __proto=LinePathXZ.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		MathUtils.angleToPoint(this.gameObj.faceAngle,this.speed*0.001,this._speedVector);
	}

	__proto.lockTarget=function(target){
		var from=this.gameObj.pos.value;
		var to=(target).pos.value;
		this.gameObj.faceAngle=MathUtils.offPosToAngle(from,to);
	}

	__proto.onLoop=function(){
		var delta=this.timer.delta;
		var pos=this.gameObj.pos;
		pos.setValue(
		pos.x+this._speedVector.x*delta,
		pos.y,
		pos.z+this._speedVector.y*delta);
	}

	return LinePathXZ;
})(BasePath)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/Track3D.as=======96.997522/96.997522
/**
*追踪3D路径
*@author wulongbin
*
*/
//class laya.game.client.path.Track3D extends laya.game.client.path.BasePath
var Track3D=(function(_super){
	function Track3D(){
		/**速度*/
		this.speed=NaN;
		/**每妙最大转角*/
		this.turnAngle=NaN;
		/**搜寻范围*/
		this.range=NaN;
		this._searchTarget=null;
		this._speedVector=new Point;
		Track3D.__super.call(this);
	}

	__class(Track3D,'laya.game.client.path.Track3D',_super);
	var __proto=Track3D.prototype;
	__proto.onLoop=function(){
		if(this.isNeedSearch()){
			this._searchTarget=this.searchTarget();
		};
		var delta=this.timer.delta;
		var selfAngle=MathUtils.normalAngle(this.gameObj.faceAngle);
		if(this._searchTarget){
			var angle=Math.atan2(this._searchTarget.x-this.gameObj.x,this._searchTarget.z-this.gameObj.z)/MathUtils.PI1_180;
			angle=MathUtils.normalAngle(angle);
			var offAngle=angle-selfAngle;
			var coe=-1;
			if(offAngle>0){
				if(offAngle<180){
					coe=1;
				}
			}
			else if(offAngle<-180){
				coe=1;
			}
			selfAngle+=this.turnAngle*delta*0.001*coe;
			this.gameObj.faceAngle=selfAngle;
		};
		var radian=selfAngle*MathUtils.PI1_180;
		MathUtils.angleToPoint(selfAngle,this.speed*0.001,this._speedVector);
		var pos=this.gameObj.pos;
		pos.setValue(pos.x+this._speedVector.x*delta,pos.y,pos.z+this._speedVector.y*delta);
	}

	__proto.isNeedSearch=function(){
		return !this._searchTarget||this._searchTarget.isDead;
	}

	__proto.searchTarget=function(){
		var result=this.scene.groupManager.searchSkillGroup(this.gameObj).filterByDistance(this.gameObj.pos.value,this.range,'xz');
		var target;
		if(result.array.length>0){
			target=result.array[MathUtils.randomInt(result.array.length)];
		}
		result.recovery();
		return target;
	}

	return Track3D;
})(BasePath)


	//file:///H:/work/sniper/layaLib/src/laya/libs/ui/EFontClip.as=======96.996756/96.996756
/**
*...
*@author zyh
*/
//class laya.libs.ui.EFontClip extends laya.libs.ui.EClip
var EFontClip=(function(_super){
	function EFontClip(){
		/**数值*/
		this._valueArr=null;
		/**文字内容数组**/
		this._indexMap=null;
		/**位图字体内容**/
		this._sheet=null;
		/**@private */
		this._direction="horizontal";
		/**X方向间隙*/
		this._spaceX=0;
		/**Y方向间隙*/
		this._spaceY=0;
		/**@private 水平对齐方式*/
		this._align="center";
		/**@private 显示文字宽*/
		this._wordsW=0;
		/**@private 显示文字高*/
		this._wordsH=0;
		EFontClip.__super.call(this);
	}

	__class(EFontClip,'laya.libs.ui.EFontClip',_super);
	var __proto=EFontClip.prototype;
	__proto.onPaint=function(ctx){
		this.changeValue(ctx)
		return this.isFinish;
	}

	/**渲染数值*/
	__proto.changeValue=function(ctx){
		if (!this._sources)return;
		if (!this._valueArr)return;
		var texture;
		texture=this._sources[0];
		if (!texture)return;
		var isHorizontal=(this._direction==="horizontal");
		if (isHorizontal){
			this._wordsW=this._valueArr.length *(texture.sourceWidth *this.scaleX+this.spaceX);
			this._wordsH=texture.sourceHeight;
			}else{
			this._wordsW=texture.sourceWidth;
			this._wordsH=(texture.sourceHeight *this.scaleY+this.spaceY)*this._valueArr.length;
		};
		var dX=0;
		switch(this._align){
			case "center":
				dX=0.5 *(this._width-this._wordsW);
				break ;
			case "right":
				dX=this._width-this._wordsW;
				break ;
			default :
				dX=0;
			}
		ctx.save();
		ctx.scale(this.scaleX,this.scaleY);
		ctx.globalAlpha=this._alpha;
		for (var i=0,sz=this._valueArr.length;i < sz;i++){
			var index=this._indexMap[this._valueArr.charAt(i)];
			if (!this.sources[index])continue ;
			texture=this.sources[index];
			if (isHorizontal)
				ctx.drawTexture(texture,(this.x+dX+i *(texture.sourceWidth *this.scaleX+this.spaceX))/ this.scaleX,this.y / this.scaleY,texture.sourceWidth,texture.sourceHeight,0,0);
			else
			ctx.drawTexture(texture,this.x+dX / this.scaleX,(this.y+i *(texture.sourceHeight *this.scaleY+this.spaceY))/ this.scaleY,texture.sourceWidth,texture.sourceHeight,0,0);
		}
		ctx.restore();
	}

	__getset(0,__proto,'measureHeight',function(){
		return this._wordsH;
	});

	/**
	*设置位图字体内容，空格代表换行。比如"abc123 456"，代表第一行对应的文字为"abc123"，第二行为"456"
	*/
	__getset(0,__proto,'sheet',function(){
		return this._sheet;
		},function(value){
		value+="";
		this._sheet=value;
		var arr=value.split(" ");
		this._clipX=String(arr[0]).length;
		this.clipY=arr.length;
		this._indexMap={};
		for (var i=0;i < this._clipY;i++){
			var line=arr[i].split("");
			for (var j=0,n=line.length;j < n;j++){
				this._indexMap[line[j]]=i *this._clipX+j;
			}
		}
	});

	/**
	*布局方向。
	*<p>默认值为"horizontal"。</p>
	*<p><b>取值：</b>
	*<li>"horizontal"：表示水平布局。</li>
	*<li>"vertical"：表示垂直布局。</li>
	*</p>
	*/
	__getset(0,__proto,'direction',function(){
		return this._direction;
		},function(value){
		this._direction=value;
	});

	/**
	*设置位图字体的显示内容
	*/
	__getset(0,__proto,'value',function(){
		if (!this._valueArr)return "";
		return this._valueArr;
		},function(value){
		value+="";
		this._valueArr=value;
	});

	/**X方向文字间隙*/
	__getset(0,__proto,'spaceX',function(){
		return this._spaceX;
		},function(value){
		this._spaceX=value;
	});

	/**Y方向文字间隙*/
	__getset(0,__proto,'spaceY',function(){
		return this._spaceY;
		},function(value){
		this._spaceY=value;
	});

	/**水平对齐方式*/
	__getset(0,__proto,'align',function(){
		return this._align;
		},function(v){
		this._align=v;
	});

	__getset(0,__proto,'measureWidth',function(){
		return this._wordsW;
	});

	return EFontClip;
})(EClip)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Box.as=======95.999661/95.999661
/**
*<code>Box</code> 类是一个控件容器类。
*/
//class laya.ui.Box extends laya.ui.UIComponent
var Box=(function(_super){
	function Box(){
		Box.__super.call(this);;
	}

	__class(Box,'laya.ui.Box',_super);
	var __proto=Box.prototype;
	Laya.imps(__proto,{"laya.ui.IBox":true})
	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		for (var name in value){
			var comp=this.getChildByName(name);
			if (comp)comp.dataSource=value[name];
			else if (this.hasOwnProperty(name)&& !((typeof (this[name])=='function')))this[name]=value[name];
		}
	});

	return Box;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/src/extend/scene/Scene3DNodeExtend.as=======95.999614/95.999614
/**
*项目中对scene3D进行了桥和区域中数据解析扩展
*@author rpw
*/
//class extend.scene.Scene3DNodeExtend extends laya.game.client.scene.Scene3DNode
var Scene3DNodeExtend=(function(_super){
	function Scene3DNodeExtend(){
		/*区域在uinty定了一些区域中和桥接点节数据集合，AreaDefine对象的集合*/
		this.areaDefines=null;
		/*区域在uinty定了一些桥和区域接点节数据和桥上拐点数据集合，BridgeDefine对象的集合*/
		this.bridgeDefines=null;
		Scene3DNodeExtend.__super.call(this);
	}

	__class(Scene3DNodeExtend,'extend.scene.Scene3DNodeExtend',_super);
	var __proto=Scene3DNodeExtend.prototype;
	__proto._onAsynLoaded=function(data,params){
		var json=data[0];
		this.gameObjects=json.customProps.gameObjects;
		this.customProps=json.customProps;
		this._paraseAreaDefine(json);
		_super.prototype._onAsynLoaded.call(this,data,params);
	}

	/*解析区域设置数据*/
	__proto._paraseAreaDefine=function(sourceData){
		var tem=sourceData.customProps.areaDefine;
		if (!tem)return;
		this.areaDefines=[];
		var areaDefine;
		var data;
		for(var $each_data in tem){
			data=tem[$each_data];
			areaDefine=new AreaDefine;
			this.areaDefines.push(areaDefine);
			areaDefine.name=data.name;
			if (data.openPoint)areaDefine.openPoint=data.openPoint;
			else areaDefine.openPoint=[];
			if (data.monsterPoint)areaDefine.monsterPoint=data.monsterPoint;
			else areaDefine.monsterPoint=[];
			areaDefine.renderSprite=data.renderSprite;
		}
	}

	return Scene3DNodeExtend;
})(Scene3DNode)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/MonsterAI.as=======95.999507/95.999507
//class extend.plugin.MonsterAI extends extend.plugin.GameAI
var MonsterAI=(function(_super){
	function MonsterAI(){
		this.monsterExtend=null;
		this.dis=0;
		MonsterAI.__super.call(this);
		this.vec3Forward=new Vector3();
		this.vec3Follow=new Vector3();
		this.moveHandler=new Handler(this,this.onMoveEnd);
	}

	__class(MonsterAI,'extend.plugin.MonsterAI',_super);
	var __proto=MonsterAI.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.monsterExtend=this.character.extend;
		this.enable=true;
		this.character.on('Dead',this,this.onDead);
	}

	/**
	*死亡监听
	*/
	__proto.onDead=function(){
		this.stopFire();
	}

	__proto.trackPos=function(pos){
		this.enemyPos=pos;
		this.aiState=2;
		this.character.moveTo(pos);
	}

	__proto.selectSkill=function(){
		return this.monsterExtend.skillId;
	}

	//调代码用的 求不要删!!
	__proto.onLoop=function(){
		if(this.character.isDead){
			return;
		}
		this.dis=1+MathUtils.randomInt(4);
		laya.game.client.plugins.character.ai.AI.prototype.onLoop.call(this);
		if(this.stateMachine.can("run")){
			this.stateMachine.run("run");
			this.moveRandom(this.moveHandler);
		}
	}

	__proto.onMoveEnd=function(){
		var _$this=this;
		this.character.playActionById('1012');
		(this.character.avatar).resetAngle();
		this.fireTo(GameSystem.hero);
		Laya.timer.once(3000,this,function(){
			_$this.stopFire();
			if(_$this.stateMachine.can("idle")){
				_$this.stateMachine.run("idle");
			}
		});
	}

	__proto.startFight=function(){
		var _$this=this;
		if (this.getSkillDistance(this.selectSkill())> 4)
			this.aiState=3;
		else{
			{
				if (this.target)
					this.enemyPos=(this.target.extend).getPoint();
				this.aiState=6;
				this.character.moveTo(this.enemyPos,Handler.create(this,function(){
					_$this.aiState=3;
				}));
			}
		}
	}

	return MonsterAI;
})(GameAI)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/PlayerAI.as=======95.999503/95.999503
//class extend.plugin.PlayerAI extends extend.plugin.GameAI
var PlayerAI=(function(_super){
	function PlayerAI(){
		this.skillArr=[1001,9002,9000];
		/**
		*当前播放技能的索引
		*/
		this.currentIndex=0;
		this.bPlaySkill=true;
		this.lastTm=NaN;
		PlayerAI.__super.call(this);
	}

	__class(PlayerAI,'extend.plugin.PlayerAI',_super);
	var __proto=PlayerAI.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.enemyDistance=20;
		this.currentIndex=0;
		this.bPlaySkill=true;
		this.enable=false;
	}

	//character.on(GameObjectEvent.SkillPlayEnd,this,onSkillEnd);
	__proto.selectSkill=function(){
		if(this.currentIndex >=this.skillArr.length-1)
			this.currentIndex=0;
		else
		this.currentIndex++;
		return this.skillArr[this.currentIndex];
	}

	__proto.doAttack=function(){}
	//人物AI特殊处理
	__proto.startFight=function(){
		this.aiState=3;
		this._doAttack();
	}

	__proto.doDead=function(){
		this.aiState=1;
		this.character.isDead=true;
		this.bPlaySkill=true;
	}

	__proto.onLoop=function(){
		laya.game.client.plugins.character.ai.AI.prototype.onLoop.call(this);
	}

	__proto.doIdle=function(){
		laya.game.client.plugins.character.ai.AI.prototype.doIdle.call(this);
		this.bPlaySkill=true;
		this.character.off('SkillPlayEnd',this,this.onSkillEnd);
	}

	__proto.doFree=function(){
		laya.game.client.plugins.character.ai.AI.prototype.doFree.call(this);
		this.bPlaySkill=false;
		this.character.playActionById(1000);
		this.character.off('SkillPlayEnd',this,this.onSkillEnd);
	}

	__proto.onSkillEnd=function(){
		this.bPlaySkill=true;
		if (!this.enemy || this.enemy.isDead){
			if (this.checkTarget()){
				this._doAttack();
			}
			else{
				this.idle();
			}
		}
		else{
			this._doAttack();
		}
	}

	__proto._doAttack=function(){
		if (!this.bPlaySkill)
			return;
		if(this.lastTm==0)
			this.lastTm=this.character.scene.getTimer();
		var skillID=this.selectSkill();
		if (!this.canPlaySKill(skillID)){
			this.startFight();
			return;
		}
		if(this.character==GameSystem.hero){
			this.lastTm=this.character.scene.getTimer();
		};
		var selfPos=this.character.pos.value;
		if(this.target)
			this.enemyPos=this.target.pos.value;
		var dis=this.getSkillDistance(skillID);
		var disXZ=DistanceUtils.xz(this.enemyPos,selfPos);
		if (disXZ > dis){
			this.idle();
			return;
		}
		Vector3.subtract(this.enemyPos,selfPos,OnceTool.vector3_1);
		var ang=Math.atan2(OnceTool.vector3_1.x,OnceTool.vector3_1.z);
		this.character.angle.y=ang;
		this.character.once('SkillPlayEnd',this,this.onSkillEnd);
		this.playSkill(skillID,this.target);
		this.bPlaySkill=false;
	}

	return PlayerAI;
})(GameAI)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/MonsterExtend.as=======95.999496/95.999496
//class extend.plugin.MonsterExtend extends extend.plugin.GCharacterExtend
var MonsterExtend=(function(_super){
	function MonsterExtend(){
		this.configData=null;
		this.skillId=0;
		MonsterExtend.__super.call(this);
	}

	__class(MonsterExtend,'extend.plugin.MonsterExtend',_super);
	var __proto=MonsterExtend.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.initAttribute(1);
		this.createHeadBar("npc");
	}

	__proto.onHurt=function(from,value,type){
		(type===void 0)&& (type=1);
		_super.prototype.onHurt.call(this,from,value,type);
	}

	__proto.initAttribute=function(level){
		var propertyData=Sheet.getByID('Property',"1");
		this.attributeData.hp=this.attributeData.maxHp=propertyData.HP;
		this.attributeData.atk=propertyData.attack;
		this.attributeData.defence=propertyData.defense;
	}

	// character.speed=sData.speed;//careerData.speed;
	__proto.onBorn=function(){
		this.character.isDead=false;
		this.character.playActionById('1012');
		this.attributeData.hp=this.attributeData.maxHp;
		(this.character.ai).enable=true;
		_super.prototype.onBorn.call(this);
	}

	__proto.onDead=function(from){
		var _$this=this;
		_super.prototype.onDead.call(this,from);
		this.character.scene.timer.once(2000,this,function(){
			_$this.onBorn();
		});
	}

	return MonsterExtend;
})(GCharacterExtend)


	//file:///H:/work/sniper/sniper/client/src/extend/plugin/PlayerExtend.as=======95.999492/95.999492
//class extend.plugin.PlayerExtend extends extend.plugin.GCharacterExtend
var PlayerExtend=(function(_super){
	function PlayerExtend(){
		this._career=0;
		this.exp=0;
		this.pointLight=null;
		PlayerExtend.__super.call(this);
		this._outPos=new Vector3();
	}

	__class(PlayerExtend,'extend.plugin.PlayerExtend',_super);
	var __proto=PlayerExtend.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this._career=1;
		this.initAttribute(1);
		this.pointLight=new PointLight();
		this.pointLight.color=new Vector3(164/255.0,222/255.0,255/255.0);
		this.pointLight.transform.position=new Vector3(0,2.5,0);
		this.pointLight.attenuation=new Vector3(0,0,1);
		this.pointLight.range=5;
		this.pointLight.intensity=10;
	}

	// character.node.addChild(pointLight);
	__proto.initAttribute=function(defineId){
		this.attributeData.initByConfig(defineId)
	}

	__proto.onLoop=function(){
		_super.prototype.onLoop.call(this);
	}

	//talk && talk.setPos(OnceTool.tempVector3.x / Laya.stage.clientScaleX,OnceTool.tempVector3.y / Laya.stage.clientScaleY);
	__proto.onDestruct=function(){
		this.pointLight.removeSelf();
		this.pointLight.destroy(true);
		this.pointLight=null;
		_super.prototype.onDestruct.call(this);
	}

	__proto.onHurt=function(from,value,type){
		(type===void 0)&& (type=1);
		if(this.character.isHero){
			_super.prototype.onHurt.call(this,from,value,type?type:2);
			}else{
			_super.prototype.onHurt.call(this,from,value,type?type:0);
		}
	}

	// });
	__proto.onDead=function(from){
		var _$this=this;
		_super.prototype.onDead.call(this);
		(this.character).isMoveing=false;
		this.character.scene.timer.once(2000,this,function(){
			_$this.onBorn();
		});
	}

	__proto.onBorn=function(){
		_super.prototype.onBorn.call(this);
		this.character.isDead=false;
		this.character.playActionById('1012');
		this.attributeData.hp=this.attributeData.maxHp;
	}

	// (character as SniperObj).cameraOffset.z=0;
	__proto.onKill=function(object){
		this.exp+=20;
		this.showExp('+'+20);
		var data=Sheet.getByID("LevelUp",""+this.attributeData.level);
		if (this.exp >=data.exp){
			if (this.attributeData.level > 5)
				return;
			this.onLevelUp(++this.attributeData.level);
			this.exp-=data.exp;
		}
	}

	__proto.onLevelUp=function(level){
		var _$this=this;
		_super.prototype.onLevelUp.call(this,level);
		this.initAttribute(level);
		var eff=StaticEffect3D.createStaticEffect3D(""+3000);
		eff.onInit(this.character.node);
		Laya.timer.once(500,this,function(){
			eff=StaticEffect3D.createStaticEffect3D(""+3000);
			eff.onInit(_$this.character.node);
		});
	}

	return PlayerExtend;
})(GCharacterExtend)


	//file:///H:/work/sniper/sniper/client/src/extend/SniperObj.as=======95.999453/95.999453
//class extend.SniperObj extends laya.game.client.object.Character
var SniperObj=(function(_super){
	function SniperObj(){
		this._isAim=false;
		/**
		*枪位置垂直偏移
		*/
		this.gunOffsetY=1.2;
		/**
		*枪的长度
		*/
		this.gunLength=1;
		this._gunAngleY=0;
		/**
		*抖动角度
		*/
		this.shakeAngleY=0;
		this.shakeAngleX=0;
		/**
		*最大垂直角度
		*/
		this.gunMaxAngleY=90;
		/**
		*摄像机水平朝向
		*/
		this.cameraFaceAngle=0;
		/**m
		*倍率
		*/
		this.ratio=1;
		/**
		*当前枪
		*/
		this.curGun=null;
		/**
		*当前动作
		*/
		this.curAction=null;
		this.sniperMoveCtrl=null;
		/**
		*连杀人数
		*/
		this.multiKill=0;
		/**
		*凶手id
		*/
		this.murderId="";
		this.isSelf=false;
		this.lastGunName="";
		this.defaultSpeed=NaN;
		this._aimTween=null;
		this._shake=null;
		this._isFire=false;
		this.continueFireNum=0;
		//fixme:手雷的cd
		this.lasttm=0;
		this.cameraOffset=new Vector3(-0.5,2.0,-2);
		this.gunEndPos=new Vector3;
		this.gunDirection=new Vector3;
		this.cameraPosition=new Vector3;
		this.cameraForward=new Vector3;
		this.cameraRight=new Vector3;
		this.spareGuns=new Array;
		this.cameraTarget=new Vector3(1000,1000,1000);
		this.rightDec=new Quaternion();
		this.gunDirection2=new Vector3;
		SniperObj.__super.call(this);
	}

	__class(SniperObj,'extend.SniperObj',_super);
	var __proto=SniperObj.prototype;
	__proto.onConstruct=function(){
		_super.prototype.onConstruct.call(this);
	}

	__proto.init=function(param){
		_super.prototype.init.call(this,param);
		this.isSelf=this.id==FSGame.userID;
		this.defaultSpeed=this.speed;
	}

	__proto.changeGun=function(gun,immediate){
		var _$this=this;
		(immediate===void 0)&& (immediate=false);
		if (this.curGun){
			if (this.curGun.gunData.type=='1'){}
				}
		this.event("onChangeGun",[this.curGun,gun]);
		if (immediate){
			this.addGunModel(gun);
			}else {
			if (this.stateMachine.currentState=="stand"){
				this._aimTween=this.scene.tweenManager.to(this,{ratio:gun.propertyData.ratio},gun.propertyData.aimtime,null,Handler.create(this,this.onAimEnd));
			}
			(this.extend).onBeginGunChange(new Handler(this,function(){
				_$this.addGunModel(gun);
			}));
		}
	}

	__proto.addGunModel=function(gun){
		var name=gun.gunData.id;
		(this.avatar).chgRightHandPart(gun.gunData.model,Handler.create(this,function(model){
			gun.setModel(model);
		}));
		this.lastGunName=name;
		if (this.curGun){
			this.curGun.owner=null;
		}
		this.curGun=gun;
		if (this.curGun){
			this.curGun.owner=this;
		}
		(this.extend).onAfterGunChange();
	}

	__proto.addGun=function(gun,immediate){
		(immediate===void 0)&& (immediate=false);
		this.spareGuns.push(gun);
		if (!this.curGun){
			this.changeGun(gun,immediate);
		}
	}

	__proto.nextGun=function(){
		var len=this.spareGuns.length;
		var i=this.spareGuns.indexOf(this.curGun);
		i=(i+1)% len;
		this.changeGun(this.spareGuns[i]);
	}

	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this.sniperMoveCtrl=this.moveController;
		this.playActionById('1012');
		if ((this.avatar).isLoaded){
			this._addGun();
			}else {
			this.once(GameEvent.LOAD_AVATAR_COMPLETE,this,this._addGun);
		}
	}

	__proto._addGun=function(){
		newGun=new Gun();
		newGun.init(2000,2000);
		this.addGun(newGun,true);
		var newGun=new Gun();
		newGun.init(1000,1000);
		this.addGun(newGun);
	}

	/**
	*重置准星
	*/
	__proto.resetAim=function(){
		this.onAimEnd();
		this.ratio=1;
		this._isAim=false;
		this.speed=this.defaultSpeed;
		this.event("onAim",false);
	}

	__proto.onAimEnd=function(){
		this._aimTween && this._aimTween.clear();
		this._aimTween=null;
	}

	/**
	*wlb111
	*
	*/
	__proto.onLoop=function(){
		_super.prototype.onLoop.call(this);
		var transform=this.node.transform;
		var sprite3DPos=transform.position;
		var radius=this.shakeCameraFaceAngle *MathUtils.PI1_180;
		this.cameraForward.x=Math.sin(radius);
		this.cameraForward.z=Math.cos(radius);
		radius+=Math.PI *0.5;
		this.cameraRight.x=Math.sin(radius);
		this.cameraRight.z=Math.cos(radius);
		var forward=this.cameraForward;
		var up=Vector3.Up;
		var right=this.cameraRight;
		sprite3DPos.cloneTo(this.cameraPosition);
		var temp3=OnceTool.tempVector3;
		Vector3.scale(forward,this.cameraOffset.z,temp3);
		Vector3.add(this.cameraPosition,temp3,this.cameraPosition);
		Vector3.scale(up,this.cameraOffset.y,temp3);
		Vector3.add(this.cameraPosition,temp3,this.cameraPosition);
		Vector3.scale(right,this.cameraOffset.x,temp3);
		Vector3.add(this.cameraPosition,temp3,this.cameraPosition);
		Quaternion.createFromAxisAngle(right,this.shakeGunAngleY / 180 *Math.PI,this.rightDec);
		Vector3.transformQuat(forward,this.rightDec,this.gunDirection);
		Vector3.normalize(this.gunDirection,this.gunDirection);
		var c;
		if (this.curGun){
			c=this.curGun.getFirePosition();
		}
		if (c){
			this.gunEndPos.x=c.x;
			this.gunEndPos.y=c.y;
			this.gunEndPos.z=c.z;
		}
		else {
			this.gunEndPos.x=sprite3DPos.x+this.gunLength *this.gunDirection.x;
			this.gunEndPos.y=sprite3DPos.y+this.gunOffsetY+this.gunLength *this.gunDirection.y;
			this.gunEndPos.z=sprite3DPos.z+this.gunLength *this.gunDirection.z;
		}
		if (this.curGun){
			this.curGun.onLoop(this.scene.timer.delta);
		}
		if (this.isMove){
			if (this.actionController.actionId !='1001'){
				this.actionController.playActionById('1001');
			}
		}
		else {
			if (this.actionController.actionId=='1001'){
				this.actionController.playActionById('1012');
			}
		}
	}

	__proto.fire=function(bool){
		if (!this.curGun)return;
		if (bool && this.curGun.gunState()!=1){
			if (!this.isAim){
				this.isAim=true;
				return;
			}
			if (this._shake){
				this._shake.stop();
			}
			if (this.continueFireNum < 3){
				this.continueFireNum++;
			}
			if (this.cameraTarget.x !=1000){
				Vector3.subtract(this.cameraTarget,this.gunEndPos,this.gunDirection2);
				Vector3.normalize(this.gunDirection2,this.gunDirection2);
				this.curGun.fire(this.gunEndPos,this.gunDirection2,this.cameraTarget);
			}
			else {
				this.curGun.fire(this.gunEndPos,GameSystem.cameraRay.direction);
			}
			if (this.curGun.gunData.type=='1'){
				this._shake=Shake.shake(-this.curGun.propertyData.shakeAngle,this.curGun.propertyData.interval,1,Shake.ease2);
				this._shake.update=this.onFireShake.bind(this);
				this._shake.complete=this.onFireShakeEnd.bind(this);
			}
			else if (this.curGun.gunData.type=='2'){
				var coe=this.continueFireNum / 3;
				this.scene.tweenManager.to(this,{shakeAngleY:-coe *this.curGun.propertyData.shakeAngle},200);
				Shake.shake(0.2,500,1).update=this.onShakeAngleX.bind(this);
			}
		}
		else {
			if (this.curGun.gunData.type=='2'){
				this.scene.tweenManager.to(this,{shakeAngleY:0},200);
			}
			this.continueFireNum=0;
		}
		this._isFire=bool;
		this.event("onFire",bool);
	}

	__proto.shoulei=function(){
		var _$this=this;
		var now=Laya.timer.currTimer;
		if (now-this.lasttm < 2000){
			return;
		}
		this.isAim=false;
		(this.avatar).removeGun();
		this.lasttm=now;
		(this.avatar).turnToAim(-90);
		this.playActionById('1014');
		this.scene.timer.once(200,this,function(){
			var rightHand=(_$this.avatar).getRightHand();
			var position=rightHand.transform.position;
			var createData=_$this.scene.getGameObjParam();
			var bullet=createData.clear()
			.setConfig(2002,"Effect")
			.setPos(position.x,position.y,position.z)
			.create();
			bullet.owner=this;
			bullet.parentGroupID=_$this.groupID;
			bullet.faceAngle=_$this.cameraFaceAngle *MathUtils.PI180_I;
			bullet.cast('Parabola3D',{speed:20,upspeed:10,accspeed:-10});
			if (_$this.cameraTarget.x !=1000)
				bullet.lockTargetPos(_$this.cameraTarget);
			_$this.scene.timer.once(500,this,function(){
				_$this.addGunModel(_$this.curGun);
				(_$this.avatar).resetAngle();
			})
		});
	}

	__proto.onShakeAngleX=function(s){
		this.shakeAngleX=s.off;
	}

	__proto.onFireShakeEnd=function(){
		this._shake=null;
	}

	// }
	__proto.onFireShake=function(s){
		this.shakeAngleY=s.off;
	}

	/**
	*@private
	*/
	__proto.setGunAngleY=function(value){
		if (value > this.gunMaxAngleY){
			value=this.gunMaxAngleY;
		}
		else if (value <-this.gunMaxAngleY){
			value=-this.gunMaxAngleY;
		}
		this.gunAngleY=value;
	}

	__proto.checkShoot=function(onHit){
		this.gunEndPos.cloneTo(SniperObj.checkRay.origin);
		this.gunDirection.cloneTo(SniperObj.checkRay.direction);
		SniperObj.CheckShoot(this.scene.node,SniperObj.checkRay,100,onHit);
	}

	__proto.CheckAllShoot=function(scene,ray,rayLength,onHit){
		if (!scene){
			return;
		}
		scene.rayCastAll(ray,SniperObj._outHitAllInfo,rayLength,0);
		if (SniperObj._outHitAllInfo.length > 0){
			onHit.runWith([null,SniperObj._outHitAllInfo]);
		}
		else {
			onHit.runWith([null,null]);
		}
	}

	__proto.dead=function(from){
		_super.prototype.dead.call(this,from);
		this.resetAim();
	}

	__getset(0,__proto,'shakeCameraFaceAngle',function(){
		return this.cameraFaceAngle+this.shakeAngleX;
	});

	__getset(0,__proto,'isAim',function(){
		return this._isAim;
		},function(value){
		if (this._isAim==value)return;
		this._isAim=value;
		if (value){
			this.speed *=0.3;
			this._aimTween=this.scene.tweenManager.to(this,{ratio:this.curGun.propertyData.ratio},this.curGun.propertyData.aimtime,null,Handler.create(this,this.onAimEnd));
		}
		else {
			this.onAimEnd();
			this._aimTween=this.scene.tweenManager.to(this,{ratio:1},100,null,Handler.create(this,this.onAimEnd));
			this.speed=this.defaultSpeed;
		}
		this.event("onAim",value);
	});

	/**
	*@private
	*/
	/**
	*枪口垂直偏移角度
	*/
	__getset(0,__proto,'gunAngleY',function(){
		return this._gunAngleY;
		},function(value){
		this._gunAngleY=value;
	});

	__getset(0,__proto,'shakeGunAngleY',function(){
		return this._gunAngleY+this.shakeAngleY;
	});

	SniperObj.CheckShoot=function(scene,ray,rayLength,onHit){
		if (!scene){
			return;
		}
		scene.rayCastAll(ray,SniperObj._outHitAllInfo,rayLength,0);
		if (SniperObj._outHitAllInfo.length > 0){
			var sprite3D=SniperObj._outHitAllInfo[0].sprite3D
			while (sprite3D){
				if ((sprite3D instanceof laya.game.client.plugins.character.CharacterSprite3D )){
					onHit((sprite3D).owner,SniperObj._outHitAllInfo[0]);
					return;
				}
				sprite3D=sprite3D.parent;
			}
			onHit(null,SniperObj._outHitAllInfo[0]);
		}
		else {
			onHit(null,null);
		}
	}

	SniperObj.EVENT_AIM="onAim";
	SniperObj.EVENT_CHANGEGUN="onChangeGun";
	SniperObj.EVENT_FIRE="onFire";
	SniperObj.BIND_NAME="Bip001 R Hand";
	SniperObj._outHitAllInfo=[];
	__static(SniperObj,
	['checkRay',function(){return this.checkRay=new Ray(new Vector3,new Vector3);}
	]);
	return SniperObj;
})(Character)


	//file:///H:/work/sniper/sniper/client/src/extend/SniperScene.as=======95.999441/95.999441
//class extend.SniperScene extends laya.game.client.scene.GameFrameScene
var SniperScene=(function(_super){
	function SniperScene(){
		this.centerZ=-8;
		this.minZ=6;
		this.maxZ=26;
		this.distanceX=-26;
		this.teamRotation={};
		this.blocks={};
		this.redPos=new Array;
		this.bluePos=new Array;
		this.redCamera=new Array;
		this.blueCamera=new Array;
		SniperScene.__super.call(this);
	}

	__class(SniperScene,'extend.SniperScene',_super);
	var __proto=SniperScene.prototype;
	__proto.onComplete=function(){
		var sprite=this.node.getChildByName('positions');
		var cur=sprite.getChildByName('red');
		var i=1;
		var tempSprite3D;
		var rotate;
		while(true){
			tempSprite3D=cur.getChildByName('pos'+i);
			if(!tempSprite3D){
				break ;
			}
			this.redPos.push(tempSprite3D.transform.position.clone());
			if (this.teamRotation.red==undefined){
				this.teamRotation.red=new Vector3();
				rotate=tempSprite3D.transform.rotation;
				rotate.getYawPitchRoll(OnceTool.tempVector3);
				OnceTool.tempVector3.cloneTo(this.teamRotation.red);
			}
			i++;
		}
		this.redCamera[0]=(cur.getChildByName('camera1')).transform.position.clone();
		this.redCamera[1]=(cur.getChildByName('camera2')).transform.position.clone();
		cur=sprite.getChildByName('blue');
		i=1;
		while(true){
			tempSprite3D=cur.getChildByName('pos'+i);
			if(!tempSprite3D){
				break ;
			}
			this.bluePos.push(tempSprite3D.transform.position.clone());
			if (this.teamRotation.blue==undefined){
				this.teamRotation.blue=new Vector3();
				rotate=tempSprite3D.transform.rotation;
				rotate.getYawPitchRoll(OnceTool.tempVector3);
				OnceTool.tempVector3.cloneTo(this.teamRotation.blue);
			}
			i++;
		}
		this.blueCamera[0]=(cur.getChildByName('camera1')).transform.position.clone();
		this.blueCamera[1]=(cur.getChildByName('camera2')).transform.position.clone();
		var mapNode=this.node.getChildByName("Sniper_maps");
		var newBlock;
		cur=mapNode.getChildByName('brokenBunker');
		if(cur !=null){
			var len=cur.numChildren;
			for(i=0;i<len;i++){
				tempSprite3D=cur.getChildAt(i);
				newBlock=new SniperBlock();
				newBlock.init(tempSprite3D,tempSprite3D.name.indexOf('red')!=-1?11:12);
				this.blocks[tempSprite3D.name]=newBlock;
			}
		}
		laya.game.client.scene.GameScene.prototype.onComplete.call(this);
	}

	__proto.attackBlock=function(part){
		var block=this.blocks[part.parent.parent.name];
		if(block){
			block.removePart(part);
		}
	}

	return SniperScene;
})(GameFrameScene)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/object/Effect3D.as=======95.999431/95.999431
/**
*3D特效
*@author wulongbin
*
*/
//class laya.game.client.object.Effect3D extends laya.game.client.object.Effect2D
var Effect3D=(function(_super){
	function Effect3D(){
		this.animator=null;
		this.onLoadedHd=null;
		Effect3D.__super.call(this);
		this.onLoadedHd=new Handler(this,this.onLoaded);
	}

	__class(Effect3D,'laya.game.client.object.Effect3D',_super);
	var __proto=Effect3D.prototype;
	__proto.createNode=function(){
		return Sprite3DUtil.getSprite3D();
	}

	__proto.createAvatar=function(){
		return null;
	}

	__proto.clear=function(){
		if(this.animator){
			this.animator.off("stopped",this,this.onComplete);
		}
		else{
			Sprite3DUtil.clear(this.file,this.onLoadedHd);
		}
	}

	__proto.onDestruct=function(){
		Sprite3DUtil.recovery(this.node);
		if(this.avatar){
			Sprite3DUtil.recovery(this.avatar);
			this.avatar=null;
		}
		else{
			Sprite3DUtil.clear(this.file,this.onLoadedHd);
		}
		_super.prototype.onDestruct.call(this);
	}

	__proto.updatePos_3D=function(){
		(this.node).transform.localPosition=this.pos.value;
		this.node.transform.rotationEuler=this.angle.value;
	}

	/**
	*加载模型
	*@param url
	*
	*/
	__proto.load=function(url){
		this.file=url;
		Sprite3DUtil.load(url,this.onLoadedHd);
	}

	__proto.onLoaded=function(sprite3D){
		this.avatar=sprite3D;
		this.node.addChild(sprite3D);
		this.avatar.active=true;
	}

	return Effect3D;
})(Effect2D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Button.as=======95.998975/95.998975
/**
*<code>Button</code> 组件用来表示常用的多态按钮。 <code>Button</code> 组件可显示文本标签、图标或同时显示两者。 *
*<p>可以是单态，两态和三态，默认三态(up,over,down)。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Button</code> 实例。</caption>
*package
*{
	*import laya.ui.Button;
	*import laya.utils.Handler;
	*public class Button_Example
	*{
		*public function Button_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.clickHandler=new Handler(this,onClickButton,[button]);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*private function onClickButton(button:Button):void
		*{
			*trace("按钮button被点击了！");
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var button=new laya.ui.Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
	*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
	*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
	*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理函数。
	*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
	*}
*function onClickButton(button)
*{
	*console.log("按钮被点击了。",button);
	*}
*@example
*import Button=laya.ui.Button;
*import Handler=laya.utils.Handler;
*class Button_Example{
	*constructor()
	*{
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete()
	*{
		*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。
		*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
		*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
		*button.clickHandler=new Handler(this,this.onClickButton,[button]);//设置 button 的点击事件处理器。
		*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
		*}
	*private onClickButton(button:Button):void
	*{
		*console.log("按钮button被点击了！")
		*}
	*}
*/
//class laya.ui.Button extends laya.ui.UIComponent
var Button=(function(_super){
	function Button(skin,label){
		/**
		*指定按钮按下时是否是切换按钮的显示状态。
		*
		*@example 以下示例代码，创建了一个 <code>Button</code> 实例，并设置为切换按钮。
		*@example
		*package
		*{
			*import laya.ui.Button;
			*import laya.utils.Handler;
			*public class Button_toggle
			*{
				*public function Button_toggle()
				*{
					*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
					*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
					*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));
					*}
				*private function onLoadComplete():void
				*{
					*trace("资源加载完成！");
					*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 实例对象 button ,传入它的皮肤skin和标签label。
					*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
					*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
					*button.toggle=true;//设置 button 对象为切换按钮。
					*button.clickHandler=new Handler(this,onClickButton,[button]);//设置 button 的点击事件处理器。
					*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
					*}
				*private function onClickButton(button:Button):void
				*{
					*trace("button.selected = "+button.selected);
					*}
				*}
			*}
		*@example
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
		*function loadComplete()
		*{
			*console.log("资源加载完成！");
			*var button=new laya.ui.Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.toggle=true;//设置 button 对象为切换按钮。
			*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*function onClickButton(button)
		*{
			*console.log("button.selected = ",button.selected);
			*}
		*@example
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("button.png",null,null,null,null,null);//加载资源
		*function loadComplete(){
			*console.log("资源加载完成！");
			*var button:laya.ui.Button=new laya.ui.Button("button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.toggle=true;//设置 button 对象为切换按钮。
			*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*function onClickButton(button){
			*console.log("button.selected = ",button.selected);
			*}
		*/
		this.toggle=false;
		/**
		*@private
		*/
		this._bitmap=null;
		/**
		*@private
		*按钮上的文本。
		*/
		this._text=null;
		/**
		*@private
		*按钮文本标签描边的颜色值。
		*/
		this._strokeColors=null;
		/**
		*@private
		*按钮的状态值。
		*/
		this._state=0;
		/**
		*@private
		*表示按钮的选中状态。
		*/
		this._selected=false;
		/**
		*@private
		*按钮的皮肤资源。
		*/
		this._skin=null;
		/**
		*@private
		*指定此显示对象是否自动计算并改变大小等属性。
		*/
		this._autoSize=true;
		/**
		*@private
		*源数据。
		*/
		this._sources=null;
		/**
		*@private
		*按钮的点击事件函数。
		*/
		this._clickHandler=null;
		/**
		*@private
		*/
		this._stateChanged=false;
		Button.__super.call(this);
		this._labelColors=Styles.buttonLabelColors;
		this._stateNum=Styles.buttonStateNum;
		(label===void 0)&& (label="");
		this.skin=skin;
		this.label=label;
	}

	__class(Button,'laya.ui.Button',_super);
	var __proto=Button.prototype;
	Laya.imps(__proto,{"laya.ui.ISelect":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bitmap && this._bitmap.destroy();
		this._text && this._text.destroy(destroyChild);
		this._bitmap=null;
		this._text=null;
		this._clickHandler=null;
		this._labelColors=this._sources=this._strokeColors=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
	}

	/**@private */
	__proto.createText=function(){
		if (!this._text){
			this._text=new Text();
			this._text.overflow="hidden";
			this._text.align="center";
			this._text.valign="middle";
			this._text.width=this._width;
			this._text.height=this._height;
		}
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		if (this._mouseState!==1){
			this.mouseEnabled=true;
			this._setBit(0x04,true);
		}
		this._createListener("mouseover",this,this.onMouse,null,false,false);
		this._createListener("mouseout",this,this.onMouse,null,false,false);
		this._createListener("mousedown",this,this.onMouse,null,false,false);
		this._createListener("mouseup",this,this.onMouse,null,false,false);
		this._createListener("click",this,this.onMouse,null,false,false);
	}

	/**
	*对象的 <code>Event.MOUSE_OVER、Event.MOUSE_OUT、Event.MOUSE_DOWN、Event.MOUSE_UP、Event.CLICK</code> 事件侦听处理函数。
	*@param e Event 对象。
	*/
	__proto.onMouse=function(e){
		if (this.toggle===false && this._selected)return;
		if (e.type==="click"){
			this.toggle && (this.selected=!this._selected);
			this._clickHandler && this._clickHandler.run();
			return;
		}
		!this._selected && (this.state=Button.stateMap[e.type]);
	}

	__proto._skinLoaded=function(){
		this.callLater(this.changeClips);
		this._setStateChanged();
		this.event("loaded");
	}

	/**
	*@private
	*对象的资源切片发生改变。
	*/
	__proto.changeClips=function(){
		var img=Loader.getRes(this._skin);
		if (!img){
			console.log("lose skin",this._skin);
			return;
		};
		var width=img.sourceWidth;
		var height=img.sourceHeight / this._stateNum;
		img.$_GID || (img.$_GID=Utils.getGID());
		var key=img.$_GID+"-"+this._stateNum;
		var clips=WeakObject.I.get(key);
		if (!Utils.isOkTextureList(clips)){
			clips=null;
		}
		if (clips)this._sources=clips;
		else {
			this._sources=[];
			if (this._stateNum===1){
				this._sources.push(img);
				}else {
				for (var i=0;i < this._stateNum;i++){
					this._sources.push(Texture.createFromTexture(img,0,height *i,width,height));
				}
			}
			WeakObject.I.set(key,this._sources);
		}
		if (this._autoSize){
			this._bitmap.width=this._width || width;
			this._bitmap.height=this._height || height;
			if (this._text){
				this._text.width=this._bitmap.width;
				this._text.height=this._bitmap.height;
			}
			}else {
			this._text && (this._text.x=width);
		}
	}

	/**
	*@private
	*改变对象的状态。
	*/
	__proto.changeState=function(){
		this._stateChanged=false;
		this.runCallLater(this.changeClips);
		var index=this._state < this._stateNum ? this._state :this._stateNum-1;
		this._sources && (this._bitmap.source=this._sources[index]);
		if (this.label){
			this._text.color=this._labelColors[index];
			if (this._strokeColors)this._text.strokeColor=this._strokeColors[index];
		}
	}

	/**@private */
	__proto._setStateChanged=function(){
		if (!this._stateChanged){
			this._stateChanged=true;
			this.callLater(this.changeState);
		}
	}

	/**
	*<p>描边颜色，以字符串表示。</p>
	*默认值为 "#000000"（黑色）;
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'labelStrokeColor',function(){
		this.createText();
		return this._text.strokeColor;
		},function(value){
		this.createText();
		this._text.strokeColor=value
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureHeight',function(){
		this.runCallLater(this.changeClips);
		return this._text ? Math.max(this._bitmap.height,this._text.height):this._bitmap.height;
	});

	/**
	*<p>对象的皮肤资源地址。</p>
	*支持单态，两态和三态，用 <code>stateNum</code> 属性设置
	*<p>对象的皮肤地址，以字符串表示。</p>
	*@see #stateNum
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				if (!Loader.getRes(value)){
					Laya.loader.load(this._skin,Handler.create(this,this._skinLoaded),null,"image",1);
					}else{
					this._skinLoaded();
				}
				}else {
				this._skinLoaded();
			}
		}
	});

	/**
	*对象的状态值。
	*@see #stateMap
	*/
	__getset(0,__proto,'state',function(){
		return this._state;
		},function(value){
		if (this._state !=value){
			this._state=value;
			this._setStateChanged();
		}
	});

	/**
	*按钮文本标签 <code>Text</code> 控件。
	*/
	__getset(0,__proto,'text',function(){
		this.createText();
		return this._text;
	});

	/**
	*<p>指定对象的状态值，以数字表示。</p>
	*<p>默认值为3。此值决定皮肤资源图片的切割方式。</p>
	*<p><b>取值：</b>
	*<li>1：单态。图片不做切割，按钮的皮肤状态只有一种。</li>
	*<li>2：两态。图片将以竖直方向被等比切割为2部分，从上向下，依次为
	*弹起状态皮肤、
	*按下和经过及选中状态皮肤。</li>
	*<li>3：三态。图片将以竖直方向被等比切割为3部分，从上向下，依次为
	*弹起状态皮肤、
	*经过状态皮肤、
	*按下和选中状态皮肤</li>
	*</p>
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._stateNum;
		},function(value){
		if ((typeof value=='string')){
			value=parseInt(value);
		}
		if (this._stateNum !=value){
			this._stateNum=value < 1 ? 1 :value > 3 ? 3 :value;
			this.callLater(this.changeClips);
		}
	});

	/**
	*表示按钮各个状态下的描边颜色。
	*<p><b>格式:</b> "upColor,overColor,downColor,disableColor"。</p>
	*/
	__getset(0,__proto,'strokeColors',function(){
		return this._strokeColors ? this._strokeColors.join(","):"";
		},function(value){
		this._strokeColors=UIUtils.fillArray(Styles.buttonLabelColors,value,String);
		this._setStateChanged();
	});

	/**
	*表示按钮各个状态下的文本颜色。
	*<p><b>格式:</b> "upColor,overColor,downColor,disableColor"。</p>
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._labelColors.join(",");
		},function(value){
		this._labelColors=UIUtils.fillArray(Styles.buttonLabelColors,value,String);
		this._setStateChanged();
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureWidth',function(){
		this.runCallLater(this.changeClips);
		if (this._autoSize)return this._bitmap.width;
		this.runCallLater(this.changeState);
		return this._bitmap.width+(this._text ? this._text.width :0);
	});

	/**
	*按钮的文本内容。
	*/
	__getset(0,__proto,'label',function(){
		return this._text ? this._text.text :null;
		},function(value){
		if (!this._text && !value)return;
		this.createText();
		if (this._text.text !=value){
			value && !this._text.parent && this.addChild(this._text);
			this._text.text=(value+"").replace(/\\n/g,"\n");
			this._setStateChanged();
		}
	});

	/**
	*表示按钮的选中状态。
	*<p>如果值为true，表示该对象处于选中状态。否则该对象处于未选中状态。</p>
	*/
	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(value){
		if (this._selected !=value){
			this._selected=value;
			this.state=this._selected ? 2 :0;
			this.event("change");
		}
	});

	/**
	*表示按钮文本标签的边距。
	*<p><b>格式：</b>"上边距,右边距,下边距,左边距"。</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		this.createText();
		return this._text.padding.join(",");
		},function(value){
		this.createText();
		this._text.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*表示按钮文本标签的字体大小。
	*@see laya.display.Text.fontSize()
	*/
	__getset(0,__proto,'labelSize',function(){
		this.createText();
		return this._text.fontSize;
		},function(value){
		this.createText();
		this._text.fontSize=value
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*默认值0，表示不描边。
	*@see laya.display.Text.stroke()
	*/
	__getset(0,__proto,'labelStroke',function(){
		this.createText();
		return this._text.stroke;
		},function(value){
		this.createText();
		this._text.stroke=value
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*@see laya.display.Text.bold()
	*/
	__getset(0,__proto,'labelBold',function(){
		this.createText();
		return this._text.bold;
		},function(value){
		this.createText();
		this._text.bold=value;
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text.font()
	*/
	__getset(0,__proto,'labelFont',function(){
		this.createText();
		return this._text.font;
		},function(value){
		this.createText();
		this._text.font=value;
	});

	/**标签对齐模式，默认为居中对齐。*/
	__getset(0,__proto,'labelAlign',function(){
		this.createText()
		return this._text.align;
		},function(value){
		this.createText()
		this._text.align=value;
	});

	/**
	*对象的点击事件处理器函数（无默认参数）。
	*/
	__getset(0,__proto,'clickHandler',function(){
		return this._clickHandler;
		},function(value){
		this._clickHandler=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(UIComponent,this,'width',value);
		if (this._autoSize){
			this._bitmap.width=value;
			this._text && (this._text.width=value);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(UIComponent,this,'height',value);
		if (this._autoSize){
			this._bitmap.height=value;
			this._text && (this._text.height=value);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.label=value+"";
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**图标x,y偏移，格式：100,100*/
	__getset(0,__proto,'iconOffset',function(){
		return this._bitmap._offset ? this._bitmap._offset.join(","):null;
		},function(value){
		if (value)this._bitmap._offset=UIUtils.fillArray([1,1],value,Number);
		else this._bitmap._offset=[];
	});

	__static(Button,
	['stateMap',function(){return this.stateMap={"mouseup":0,"mouseover":1,"mousedown":2,"mouseout":0};}
	]);
	return Button;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Clip.as=======95.998973/95.998973
/**
*<p> <code>Clip</code> 类是位图切片动画。</p>
*<p> <code>Clip</code> 可将一张图片，按横向分割数量 <code>clipX</code> 、竖向分割数量 <code>clipY</code> ，
*或横向分割每个切片的宽度 <code>clipWidth</code> 、竖向分割每个切片的高度 <code>clipHeight</code> ，
*从左向右，从上到下，分割组合为一个切片动画。</p>
*Image和Clip组件是唯一支持异步加载的两个组件，比如clip.skin="abc/xxx.png"，其他UI组件均不支持异步加载。
*
*@example <caption>以下示例代码，创建了一个 <code>Clip</code> 实例。</caption>
*package
*{
	*import laya.ui.Clip;
	*public class Clip_Example
	*{
		*private var clip:Clip;
		*public function Clip_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*clip=new Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
			*clip.autoPlay=true;//设置 clip 动画自动播放。
			*clip.interval=100;//设置 clip 动画的播放时间间隔。
			*clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
			*clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
			*clip.on(Event.CLICK,this,onClick);//给 clip 添加点击事件函数侦听。
			*Laya.stage.addChild(clip);//将此 clip 对象添加到显示列表。
			*}
		*private function onClick():void
		*{
			*trace("clip 的点击事件侦听处理函数。clip.total="+clip.total);
			*if (clip.isPlaying==true)
			*{
				*clip.stop();//停止动画。
				*}else {
				*clip.play();//播放动画。
				*}
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var clip;
*Laya.loader.load("resource/ui/clip_num.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete(){
	*console.log("资源加载完成！");
	*clip=new laya.ui.Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
	*clip.autoPlay=true;//设置 clip 动画自动播放。
	*clip.interval=100;//设置 clip 动画的播放时间间隔。
	*clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
	*clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
	*clip.on(Event.CLICK,this,onClick);//给 clip 添加点击事件函数侦听。
	*Laya.stage.addChild(clip);//将此 clip 对象添加到显示列表。
	*}
*function onClick()
*{
	*console.log("clip 的点击事件侦听处理函数。");
	*if(clip.isPlaying==true)
	*{
		*clip.stop();
		*}else {
		*clip.play();
		*}
	*}
*@example
*import Clip=laya.ui.Clip;
*import Handler=laya.utils.Handler;
*class Clip_Example {
	*private clip:Clip;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*this.clip=new Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
		*this.clip.autoPlay=true;//设置 clip 动画自动播放。
		*this.clip.interval=100;//设置 clip 动画的播放时间间隔。
		*this.clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
		*this.clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
		*this.clip.on(laya.events.Event.CLICK,this,this.onClick);//给 clip 添加点击事件函数侦听。
		*Laya.stage.addChild(this.clip);//将此 clip 对象添加到显示列表。
		*}
	*private onClick():void {
		*console.log("clip 的点击事件侦听处理函数。clip.total="+this.clip.total);
		*if (this.clip.isPlaying==true){
			*this.clip.stop();//停止动画。
			*}else {
			*this.clip.play();//播放动画。
			*}
		*}
	*}
*
*/
//class laya.ui.Clip extends laya.ui.UIComponent
var Clip=(function(_super){
	function Clip(url,clipX,clipY){
		/**@private */
		this._sources=null;
		/**@private */
		this._bitmap=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._clipX=1;
		/**@private */
		this._clipY=1;
		/**@private */
		this._clipWidth=0;
		/**@private */
		this._clipHeight=0;
		/**@private */
		this._autoPlay=false;
		/**@private */
		this._interval=50;
		/**@private */
		this._complete=null;
		/**@private */
		this._isPlaying=false;
		/**@private */
		this._index=0;
		/**@private */
		this._clipChanged=false;
		/**@private */
		this._group=null;
		/**@private */
		this._toIndex=-1;
		Clip.__super.call(this);
		(clipX===void 0)&& (clipX=1);
		(clipY===void 0)&& (clipY=1);
		this._clipX=clipX;
		this._clipY=clipY;
		this.skin=url;
	}

	__class(Clip,'laya.ui.Clip',_super);
	var __proto=Clip.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,true);
		this._bitmap && this._bitmap.destroy();
		this._bitmap=null;
		this._sources=null;
	}

	/**
	*销毁对象并释放加载的皮肤资源。
	*/
	__proto.dispose=function(){
		this.destroy(true);
		Laya.loader.clearRes(this._skin);
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
	}

	/**@private */
	__proto._onDisplay=function(e){
		if (this._isPlaying){
			if (this._getBit(0x08))this.play();
			else this.stop();
			}else if (this._autoPlay){
			this.play();
		}
	}

	__proto._skinLoaded=function(){
		this._setClipChanged();
		this.event("loaded");
	}

	/**
	*@private
	*改变切片的资源、切片的大小。
	*/
	__proto.changeClip=function(){
		this._clipChanged=false;
		if (!this._skin)return;
		var img=Loader.getRes(this._skin);
		if (img){
			this.loadComplete(this._skin,img);
			}else {
			Laya.loader.load(this._skin,Handler.create(this,this.loadComplete,[this._skin]));
		}
	}

	/**
	*@private
	*加载切片图片资源完成函数。
	*@param url 资源地址。
	*@param img 纹理。
	*/
	__proto.loadComplete=function(url,img){
		if (url===this._skin && img){
			var w=this._clipWidth || Math.ceil(img.sourceWidth / this._clipX);
			var h=this._clipHeight || Math.ceil(img.sourceHeight / this._clipY);
			var key=this._skin+w+h;
			var clips=WeakObject.I.get(key);
			if (!Utils.isOkTextureList(clips)){
				clips=null;
			}
			if (clips)this._sources=clips;
			else {
				this._sources=[];
				for (var i=0;i < this._clipY;i++){
					for (var j=0;j < this._clipX;j++){
						this._sources.push(Texture.createFromTexture(img,w *j,h *i,w,h));
					}
				}
				WeakObject.I.set(key,this._sources);
			}
			this.index=this._index;
			this.event("loaded");
			this.onCompResize();
		}
	}

	/**
	*播放动画。
	*@param from 开始索引
	*@param to 结束索引，-1为不限制
	*/
	__proto.play=function(from,to){
		(from===void 0)&& (from=0);
		(to===void 0)&& (to=-1);
		this._isPlaying=true;
		this.index=from;
		this._toIndex=to;
		this._index++;
		Laya.timer.loop(this.interval,this,this._loop);
		this.on("display",this,this._onDisplay);
		this.on("undisplay",this,this._onDisplay);
	}

	/**
	*@private
	*/
	__proto._loop=function(){
		if (this._style.visible && this._sources){
			this._index++;
			if (this._toIndex >-1 && this._index >=this._toIndex)this.stop();
			else if (this._index >=this._sources.length)this._index=0;
			this.index=this._index;
		}
	}

	/**
	*停止动画。
	*/
	__proto.stop=function(){
		this._isPlaying=false;
		Laya.timer.clear(this,this._loop);
		this.event("complete");
	}

	/**@private */
	__proto._setClipChanged=function(){
		if (!this._clipChanged){
			this._clipChanged=true;
			this.callLater(this.changeClip);
		}
	}

	/**
	*表示动画播放间隔时间(以毫秒为单位)。
	*/
	__getset(0,__proto,'interval',function(){
		return this._interval;
		},function(value){
		if (this._interval !=value){
			this._interval=value;
			if (this._isPlaying)this.play();
		}
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				if(!Loader.getRes(value)){
					Laya.loader.load(this._skin,Handler.create(this,this._skinLoaded),null,"image",1);
					}else{
					this._skinLoaded();
				}
				}else {
				this._bitmap.source=null;
			}
		}
	});

	/**
	*源数据。
	*/
	__getset(0,__proto,'sources',function(){
		return this._sources;
		},function(value){
		this._sources=value;
		this.index=this._index;
		this.event("loaded");
	});

	/**X轴（横向）切片数量。*/
	__getset(0,__proto,'clipX',function(){
		return this._clipX;
		},function(value){
		this._clipX=value || 1;
		this._setClipChanged()
	});

	/**Y轴(竖向)切片数量。*/
	__getset(0,__proto,'clipY',function(){
		return this._clipY;
		},function(value){
		this._clipY=value || 1;
		this._setClipChanged()
	});

	/**
	*切片动画的总帧数。
	*/
	__getset(0,__proto,'total',function(){
		this.runCallLater(this.changeClip);
		return this._sources ? this._sources.length :0;
	});

	/**
	*横向分割时每个切片的宽度，与 <code>clipX</code> 同时设置时优先级高于 <code>clipX</code> 。
	*/
	__getset(0,__proto,'clipWidth',function(){
		return this._clipWidth;
		},function(value){
		this._clipWidth=value;
		this._setClipChanged()
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**
	*资源分组。
	*/
	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		if (value && this._skin)Loader.setGroup(this._skin,value);
		this._group=value;
	});

	/**
	*竖向分割时每个切片的高度，与 <code>clipY</code> 同时设置时优先级高于 <code>clipY</code> 。
	*/
	__getset(0,__proto,'clipHeight',function(){
		return this._clipHeight;
		},function(value){
		this._clipHeight=value;
		this._setClipChanged()
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(UIComponent,this,'width',value);
		this._bitmap.width=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(UIComponent,this,'height',value);
		this._bitmap.height=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.height;
	});

	/**
	*当前帧索引。
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		this._index=value;
		this._bitmap && this._sources && (this._bitmap.source=this._sources[value]);
		this.event("change");
	});

	/**
	*表示是否自动播放动画，若自动播放值为true,否则值为false;
	*<p>可控制切片动画的播放、停止。</p>
	*/
	__getset(0,__proto,'autoPlay',function(){
		return this._autoPlay;
		},function(value){
		if (this._autoPlay !=value){
			this._autoPlay=value;
			value ? this.play():this.stop();
		}
	});

	/**
	*表示动画的当前播放状态。
	*如果动画正在播放中，则为true，否则为flash。
	*/
	__getset(0,__proto,'isPlaying',function(){
		return this._isPlaying;
		},function(value){
		this._isPlaying=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.index=parseInt(value);
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**
	*<code>AutoBitmap</code> 位图实例。
	*/
	__getset(0,__proto,'bitmap',function(){
		return this._bitmap;
	});

	return Clip;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ColorPicker.as=======95.998972/95.998972
/**
*<code>ColorPicker</code> 组件将显示包含多个颜色样本的列表，用户可以从中选择颜色。
*
*@example <caption>以下示例代码，创建了一个 <code>ColorPicker</code> 实例。</caption>
*package
*{
	*import laya.ui.ColorPicker;
	*import laya.utils.Handler;
	*public class ColorPicker_Example
	*{
		*public function ColorPicker_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/color.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var colorPicket:ColorPicker=new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
			*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
			*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
			*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
			*colorPicket.changeHandler=new Handler(this,onChangeColor,[colorPicket]);//设置 colorPicket 的颜色改变回调函数。
			*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
			*}
		*private function onChangeColor(colorPicket:ColorPicker):void
		*{
			*trace("当前选择的颜色： "+colorPicket.selectedColor);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load("resource/ui/color.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var colorPicket=new laya.ui.ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
	*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
	*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
	*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
	*colorPicket.changeHandler=laya.utils.Handler.create(this,onChangeColor,[colorPicket],false);//设置 colorPicket 的颜色改变回调函数。
	*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
	*}
*function onChangeColor(colorPicket)
*{
	*console.log("当前选择的颜色： "+colorPicket.selectedColor);
	*}
*@example
*import ColorPicker=laya.ui.ColorPicker;
*import Handler=laya.utils.Handler;
*class ColorPicker_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/color.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*console.log("资源加载完成！");
		*var colorPicket:ColorPicker=new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
		*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
		*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
		*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
		*colorPicket.changeHandler=new Handler(this,this.onChangeColor,[colorPicket]);//设置 colorPicket 的颜色改变回调函数。
		*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
		*}
	*private onChangeColor(colorPicket:ColorPicker):void {
		*console.log("当前选择的颜色： "+colorPicket.selectedColor);
		*}
	*}
*/
//class laya.ui.ColorPicker extends laya.ui.UIComponent
var ColorPicker=(function(_super){
	function ColorPicker(){
		/**
		*当颜色发生改变时执行的函数处理器。
		*默认返回参数color：颜色值字符串。
		*/
		this.changeHandler=null;
		/**
		*@private
		*指定每个正方形的颜色小格子的宽高（以像素为单位）。
		*/
		this._gridSize=11;
		/**
		*@private
		*表示颜色样本列表面板的背景颜色值。
		*/
		this._bgColor="#ffffff";
		/**
		*@private
		*表示颜色样本列表面板的边框颜色值。
		*/
		this._borderColor="#000000";
		/**
		*@private
		*表示颜色样本列表面板选择或输入的颜色值。
		*/
		this._inputColor="#000000";
		/**
		*@private
		*表示颜色输入框的背景颜色值。
		*/
		this._inputBgColor="#efefef";
		/**
		*@private
		*表示颜色样本列表面板。
		*/
		this._colorPanel=null;
		/**
		*@private
		*表示颜色网格。
		*/
		this._colorTiles=null;
		/**
		*@private
		*表示颜色块显示对象。
		*/
		this._colorBlock=null;
		/**
		*@private
		*表示颜色输入框控件 <code>Input</code> 。
		*/
		this._colorInput=null;
		/**
		*@private
		*表示点击后显示颜色样本列表面板的按钮控件 <code>Button</code> 。
		*/
		this._colorButton=null;
		/**
		*@private
		*表示颜色值列表。
		*/
		this._colors=[];
		/**
		*@private
		*表示选择的颜色值。
		*/
		this._selectedColor="#000000";
		/**@private */
		this._panelChanged=false;
		ColorPicker.__super.call(this);
	}

	__class(ColorPicker,'laya.ui.ColorPicker',_super);
	var __proto=ColorPicker.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._colorPanel && this._colorPanel.destroy(destroyChild);
		this._colorButton && this._colorButton.destroy(destroyChild);
		this._colorPanel=null;
		this._colorTiles=null;
		this._colorBlock=null;
		this._colorInput=null;
		this._colorButton=null;
		this._colors=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._colorButton=new Button());
		this._colorPanel=new Box();
		this._colorPanel.size(230,166);
		this._colorPanel.addChild(this._colorTiles=new Sprite());
		this._colorPanel.addChild(this._colorBlock=new Sprite());
		this._colorPanel.addChild(this._colorInput=new Input());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this._colorButton.on("click",this,this.onColorButtonClick);
		this._colorBlock.pos(5,5);
		this._colorInput.pos(60,5);
		this._colorInput.size(60,20);
		this._colorInput.on("change",this,this.onColorInputChange);
		this._colorInput.on("keydown",this,this.onColorFieldKeyDown);
		this._colorTiles.pos(5,30);
		this._colorTiles.on("mousemove",this,this.onColorTilesMouseMove);
		this._colorTiles.on("click",this,this.onColorTilesClick);
		this._colorTiles.size(20 *this._gridSize,12 *this._gridSize);
		this._colorPanel.on("mousedown",this,this.onPanelMouseDown);
		this.bgColor=this._bgColor;
	}

	__proto.onPanelMouseDown=function(e){
		e.stopPropagation();
	}

	/**
	*改变颜色样本列表面板。
	*/
	__proto.changePanel=function(){
		this._panelChanged=false;
		var g=this._colorPanel.graphics;
		g.clear(true);
		g.drawRect(0,0,230,166,this._bgColor,this._borderColor);
		this.drawBlock(this._selectedColor);
		this._colorInput.borderColor=this._borderColor;
		this._colorInput.bgColor=this._inputBgColor;
		this._colorInput.color=this._inputColor;
		g=this._colorTiles.graphics;
		g.clear(true);
		var mainColors=[0x000000,0x333333,0x666666,0x999999,0xCCCCCC,0xFFFFFF,0xFF0000,0x00FF00,0x0000FF,0xFFFF00,0x00FFFF,0xFF00FF];
		for (var i=0;i < 12;i++){
			for (var j=0;j < 20;j++){
				var color=0;
				if (j===0)color=mainColors[i];
				else if (j===1)color=0x000000;
				else color=(((i *3+j / 6)% 3 << 0)+((i / 6)<< 0)*3)*0x33 << 16 | j % 6 *0x33 << 8 | (i << 0)% 6 *0x33;
				var strColor=UIUtils.toColor(color);
				this._colors.push(strColor);
				var x=j *this._gridSize;
				var y=i *this._gridSize;
				g.drawRect(x,y,this._gridSize,this._gridSize,strColor,"#000000");
			}
		}
	}

	/**
	*颜色样本列表面板的显示按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onColorButtonClick=function(e){
		if (this._colorPanel.parent)this.close();
		else this.open();
	}

	/**
	*打开颜色样本列表面板。
	*/
	__proto.open=function(){
		var p=this.localToGlobal(new Point());
		var px=p.x+this._colorPanel.width <=Laya.stage.width ? p.x :Laya.stage.width-this._colorPanel.width;
		var py=p.y+this._colorButton.height;
		py=py+this._colorPanel.height <=Laya.stage.height ? py :p.y-this._colorPanel.height;
		this._colorPanel.pos(px,py);
		this._colorPanel.zOrder=1001;
		Laya._currentStage.addChild(this._colorPanel);
		Laya.stage.on("mousedown",this,this.removeColorBox);
	}

	/**
	*关闭颜色样本列表面板。
	*/
	__proto.close=function(){
		Laya.stage.off("mousedown",this,this.removeColorBox);
		this._colorPanel.removeSelf();
	}

	/**
	*舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.removeColorBox=function(e){
		this.close();
	}

	/**
	*小格子色块的 <code>Event.KEY_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onColorFieldKeyDown=function(e){
		if (e.keyCode==13){
			if (this._colorInput.text)this.selectedColor=this._colorInput.text;
			else this.selectedColor=null;
			this.close();
			e.stopPropagation();
		}
	}

	/**
	*颜色值输入框 <code>Event.CHANGE</code> 事件侦听处理函数。
	*/
	__proto.onColorInputChange=function(e){
		if (this._colorInput.text)this.drawBlock(this._colorInput.text);
		else this.drawBlock("#FFFFFF");
	}

	/**
	*小格子色块的 <code>Event.CLICK</code> 事件侦听处理函数。
	*/
	__proto.onColorTilesClick=function(e){
		this.selectedColor=this.getColorByMouse();
		this.close();
	}

	/**
	*@private
	*小格子色块的 <code>Event.MOUSE_MOVE</code> 事件侦听处理函数。
	*/
	__proto.onColorTilesMouseMove=function(e){
		this._colorInput.focus=false;
		var color=this.getColorByMouse();
		this._colorInput.text=color;
		this.drawBlock(color);
	}

	/**
	*通过鼠标位置取对应的颜色块的颜色值。
	*/
	__proto.getColorByMouse=function(){
		var point=this._colorTiles.getMousePoint();
		var x=Math.floor(point.x / this._gridSize);
		var y=Math.floor(point.y / this._gridSize);
		return this._colors[y *20+x];
	}

	/**
	*绘制颜色块。
	*@param color 需要绘制的颜色块的颜色值。
	*/
	__proto.drawBlock=function(color){
		var g=this._colorBlock.graphics;
		g.clear(true);
		var showColor=color ? color :"#ffffff";
		g.drawRect(0,0,50,20,showColor,this._borderColor);
		color || g.drawLine(0,0,50,20,"#ff0000");
	}

	/**
	*改变颜色。
	*/
	__proto.changeColor=function(){
		var g=this.graphics;
		g.clear(true);
		var showColor=this._selectedColor || "#000000";
		g.drawRect(0,0,this._colorButton.width,this._colorButton.height,showColor);
	}

	/**@private */
	__proto._setPanelChanged=function(){
		if (!this._panelChanged){
			this._panelChanged=true;
			this.callLater(this.changePanel);
		}
	}

	/**
	*表示颜色输入框的背景颜色值。
	*/
	__getset(0,__proto,'inputBgColor',function(){
		return this._inputBgColor;
		},function(value){
		this._inputBgColor=value;
		this._setPanelChanged();
	});

	/**
	*表示选择的颜色值。
	*/
	__getset(0,__proto,'selectedColor',function(){
		return this._selectedColor;
		},function(value){
		if (this._selectedColor !=value){
			this._selectedColor=this._colorInput.text=value;
			this.drawBlock(value);
			this.changeColor();
			this.changeHandler && this.changeHandler.runWith(this._selectedColor);
			this.event("change",Event.EMPTY.setTo("change",this,this));
		}
	});

	/**
	*@copy laya.ui.Button#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._colorButton.skin;
		},function(value){
		this._colorButton.once("loaded",this,this.changeColor);
		this._colorButton.skin=value;
	});

	/**
	*表示颜色样本列表面板的背景颜色值。
	*/
	__getset(0,__proto,'bgColor',function(){
		return this._bgColor;
		},function(value){
		this._bgColor=value;
		this._setPanelChanged();
	});

	/**
	*表示颜色样本列表面板的边框颜色值。
	*/
	__getset(0,__proto,'borderColor',function(){
		return this._borderColor;
		},function(value){
		this._borderColor=value;
		this._setPanelChanged();
	});

	/**
	*表示颜色样本列表面板选择或输入的颜色值。
	*/
	__getset(0,__proto,'inputColor',function(){
		return this._inputColor;
		},function(value){
		this._inputColor=value;
		this._setPanelChanged();
	});

	return ColorPicker;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ComboBox.as=======95.998971/95.998971
/**
*<code>ComboBox</code> 组件包含一个下拉列表，用户可以从该列表中选择单个值。
*
*@example <caption>以下示例代码，创建了一个 <code>ComboBox</code> 实例。</caption>
*package
*{
	*import laya.ui.ComboBox;
	*import laya.utils.Handler;
	*public class ComboBox_Example
	*{
		*public function ComboBox_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var comboBox:ComboBox=new ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
			*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
			*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
			*comboBox.selectHandler=new Handler(this,onSelect);//设置 comboBox 选择项改变时执行的处理器。
			*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选中的项对象索引： ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete(){
	*console.log("资源加载完成！");
	*var comboBox=new laya.ui.ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
	*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
	*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
	*comboBox.selectHandler=new laya.utils.Handler(this,onSelect);//设置 comboBox 选择项改变时执行的处理器。
	*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
	*}
*function onSelect(index)
*{
	*console.log("当前选中的项对象索引： ",index);
	*}
*@example
*import ComboBox=laya.ui.ComboBox;
*import Handler=laya.utils.Handler;
*class ComboBox_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*console.log("资源加载完成！");
		*var comboBox:ComboBox=new ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
		*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
		*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
		*comboBox.selectHandler=new Handler(this,this.onSelect);//设置 comboBox 选择项改变时执行的处理器。
		*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选中的项对象索引： ",index);
		*}
	*}
*
*/
//class laya.ui.ComboBox extends laya.ui.UIComponent
var ComboBox=(function(_super){
	function ComboBox(skin,labels){
		/**@private */
		this._visibleNum=6;
		/**
		*@private
		*/
		this._button=null;
		/**
		*@private
		*/
		this._list=null;
		/**
		*@private
		*/
		this._isOpen=false;
		/**
		*@private
		*/
		this._itemSize=12;
		/**
		*@private
		*/
		this._labels=[];
		/**
		*@private
		*/
		this._selectedIndex=-1;
		/**
		*@private
		*/
		this._selectHandler=null;
		/**
		*@private
		*/
		this._itemHeight=NaN;
		/**
		*@private
		*/
		this._listHeight=NaN;
		/**
		*@private
		*/
		this._listChanged=false;
		/**
		*@private
		*/
		this._itemChanged=false;
		/**
		*@private
		*/
		this._scrollBarSkin=null;
		/**
		*@private
		*/
		this._isCustomList=false;
		/**
		*渲染项，用来显示下拉列表展示对象
		*/
		this.itemRender=null;
		ComboBox.__super.call(this);
		this._itemColors=Styles.comboBoxItemColors;
		this.skin=skin;
		this.labels=labels;
	}

	__class(ComboBox,'laya.ui.ComboBox',_super);
	var __proto=ComboBox.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._button && this._button.destroy(destroyChild);
		this._list && this._list.destroy(destroyChild);
		this._button=null;
		this._list=null;
		this._itemColors=null;
		this._labels=null;
		this._selectHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._button=new Button());
		this._button.text.align="left";
		this._button.labelPadding="0,0,0,5";
		this._button.on("mousedown",this,this.onButtonMouseDown);
	}

	__proto._createList=function(){
		this._list=new List();
		if (this._scrollBarSkin)this._list.vScrollBarSkin=this._scrollBarSkin;
		this._setListEvent(this._list);
	}

	__proto._setListEvent=function(list){
		this._list.selectEnable=true;
		this._list.on("mousedown",this,this.onListDown);
		this._list.mouseHandler=Handler.create(this,this.onlistItemMouse,null,false);
		if (this._list.scrollBar)this._list.scrollBar.on("mousedown",this,this.onScrollBarDown);
	}

	/**
	*@private
	*/
	__proto.onListDown=function(e){
		e.stopPropagation();
	}

	__proto.onScrollBarDown=function(e){
		e.stopPropagation();
	}

	__proto.onButtonMouseDown=function(e){
		this.callLater(this.switchTo,[!this._isOpen]);
	}

	/**
	*@private
	*/
	__proto.changeList=function(){
		this._listChanged=false;
		var labelWidth=this.width-2;
		var labelColor=this._itemColors[2];
		this._itemHeight=this._itemSize+6;
		this._list.itemRender=this.itemRender || {type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:labelWidth,height:this._itemHeight,fontSize:this._itemSize,color:labelColor}}]};
		this._list.repeatY=this._visibleNum;
		this._list.refresh();
	}

	/**
	*@private
	*下拉列表的鼠标事件响应函数。
	*/
	__proto.onlistItemMouse=function(e,index){
		var type=e.type;
		if (type==="mouseover" || type==="mouseout"){
			if (this._isCustomList)return;
			var box=this._list.getCell(index);
			if (!box)return;
			var label=box.getChildByName("label");
			if (label){
				if (type==="mouseover"){
					label.bgColor=this._itemColors[0];
					label.color=this._itemColors[1];
					}else {
					label.bgColor=null;
					label.color=this._itemColors[2];
				}
			}
			}else if (type==="click"){
			this.selectedIndex=index;
			this.isOpen=false;
		}
	}

	/**
	*@private
	*/
	__proto.switchTo=function(value){
		this.isOpen=value;
	}

	/**
	*更改下拉列表的打开状态。
	*/
	__proto.changeOpen=function(){
		this.isOpen=!this._isOpen;
	}

	/**
	*更改下拉列表。
	*/
	__proto.changeItem=function(){
		this._itemChanged=false;
		this._listHeight=this._labels.length > 0 ? Math.min(this._visibleNum,this._labels.length)*this._itemHeight :this._itemHeight;
		if (!this._isCustomList){
			var g=this._list.graphics;
			g.clear(true);
			g.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]);
		};
		var a=this._list.array || [];
		a.length=0;
		for (var i=0,n=this._labels.length;i < n;i++){
			a.push({label:this._labels[i]});
		}
		this._list.height=this._listHeight;
		this._list.array=a;
	}

	__proto.changeSelected=function(){
		this._button.label=this.selectedLabel;
	}

	__proto._onStageMouseWheel=function(e){
		if(!this._list||this._list.contains(e.target))return;
		this.removeList(null);
	}

	/**
	*关闭下拉列表。
	*/
	__proto.removeList=function(e){
		Laya.stage.off("mousedown",this,this.removeList);
		Laya.stage.off("mousewheel",this,this._onStageMouseWheel);
		this.isOpen=false;
	}

	/**
	*表示选择的下拉列表项的索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this._selectedIndex=value;
			if (this._labels.length > 0)this.changeSelected();
			else this.callLater(this.changeSelected);
			this.event("change",[Event.EMPTY.setTo("change",this,this)]);
			this._selectHandler && this._selectHandler.runWith(this._selectedIndex);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._button.height;
	});

	/**
	*@copy laya.ui.Button#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._button.skin;
		},function(value){
		if (this._button.skin !=value){
			this._button.skin=value;
			this._listChanged=true;
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._button.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(UIComponent,this,'width',value);
		this._button.width=this._width;
		this._itemChanged=true;
		this._listChanged=true;
	});

	/**
	*表示选择的下拉列表项的的标签。
	*/
	__getset(0,__proto,'selectedLabel',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._labels.length ? this._labels[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._labels.indexOf(value);
	});

	/**
	*标签集合字符串。
	*/
	__getset(0,__proto,'labels',function(){
		return this._labels.join(",");
		},function(value){
		if (this._labels.length > 0)this.selectedIndex=-1;
		if (value)this._labels=value.split(",");
		else this._labels.length=0;
		this._itemChanged=true;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(UIComponent,this,'height',value);
		this._button.height=this._height;
	});

	/**
	*改变下拉列表的选择项时执行的处理器(默认返回参数index:int)。
	*/
	__getset(0,__proto,'selectHandler',function(){
		return this._selectHandler;
		},function(value){
		this._selectHandler=value;
	});

	/**
	*获取或设置没有滚动条的下拉列表中可显示的最大行数。
	*/
	__getset(0,__proto,'visibleNum',function(){
		return this._visibleNum;
		},function(value){
		this._visibleNum=value;
		this._listChanged=true;
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*@see laya.display.Text#bold
	*/
	__getset(0,__proto,'labelBold',function(){
		return this._button.text.bold;
		},function(value){
		this._button.text.bold=value
	});

	/**
	*下拉列表项颜色。
	*<p><b>格式：</b>"悬停或被选中时背景颜色,悬停或被选中时标签颜色,标签颜色,边框颜色,背景颜色"</p>
	*/
	__getset(0,__proto,'itemColors',function(){
		return String(this._itemColors)
		},function(value){
		this._itemColors=UIUtils.fillArray(this._itemColors,value,String);
		this._listChanged=true;
	});

	/**
	*下拉列表项标签的字体大小。
	*/
	__getset(0,__proto,'itemSize',function(){
		return this._itemSize;
		},function(value){
		this._itemSize=value;
		this._listChanged=true;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>VScrollBar</code> 滚动条组件的引用。
	*/
	__getset(0,__proto,'scrollBar',function(){
		return this.list.scrollBar;
	});

	/**
	*表示下拉列表的打开状态。
	*/
	__getset(0,__proto,'isOpen',function(){
		return this._isOpen;
		},function(value){
		if (this._isOpen !=value){
			this._isOpen=value;
			this._button.selected=this._isOpen;
			if (this._isOpen){
				this._list || this._createList();
				this._listChanged && !this._isCustomList && this.changeList();
				this._itemChanged && this.changeItem();
				var p=this.localToGlobal(Point.TEMP.setTo(0,0));
				var py=p.y+this._button.height;
				py=py+this._listHeight <=Laya.stage.height ? py :p.y-this._listHeight;
				this._list.pos(p.x,py);
				this._list.zOrder=1001;
				Laya._currentStage.addChild(this._list);
				Laya.stage.once("mousedown",this,this.removeList);
				Laya.stage.on("mousewheel",this,this._onStageMouseWheel);
				this._list.selectedIndex=this._selectedIndex;
				}else {
				this._list && this._list.removeSelf();
			}
		}
	});

	/**
	*滚动条皮肤。
	*/
	__getset(0,__proto,'scrollBarSkin',function(){
		return this._scrollBarSkin;
		},function(value){
		this._scrollBarSkin=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._button.sizeGrid;
		},function(value){
		this._button.sizeGrid=value;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的引用。
	*/
	__getset(0,__proto,'button',function(){
		return this._button;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>List</code> 列表组件的引用。
	*/
	__getset(0,__proto,'list',function(){
		this._list || this._createList();
		return this._list;
		},function(value){
		if (value){
			value.removeSelf();
			this._isCustomList=true;
			this._list=value;
			this._setListEvent(value);
			this._itemHeight=value.getCell(0).height+value.spaceY;
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.labels=(value).join(",");
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本标签颜色。
	*<p><b>格式：</b>upColor,overColor,downColor,disableColor</p>
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._button.labelColors;
		},function(value){
		if (this._button.labelColors !=value){
			this._button.labelColors=value;
		}
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本边距。
	*<p><b>格式：</b>上边距,右边距,下边距,左边距</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		return this._button.text.padding.join(",");
		},function(value){
		this._button.text.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的标签字体大小。
	*/
	__getset(0,__proto,'labelSize',function(){
		return this._button.text.fontSize;
		},function(value){
		this._button.text.fontSize=value
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text#font
	*/
	__getset(0,__proto,'labelFont',function(){
		return this._button.text.font;
		},function(value){
		this._button.text.font=value
	});

	/**
	*表示按钮的状态值。
	*@see laya.ui.Button#stateNum
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._button.stateNum;
		},function(value){
		this._button.stateNum=value
	});

	return ComboBox;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ScrollBar.as=======95.998965/95.998965
/**
*<code>ScrollBar</code> 组件是一个滚动条组件。
*<p>当数据太多以至于显示区域无法容纳时，最终用户可以使用 <code>ScrollBar</code> 组件控制所显示的数据部分。</p>
*<p> 滚动条由四部分组成：两个箭头按钮、一个轨道和一个滑块。 </p> *
*
*@see laya.ui.VScrollBar
*@see laya.ui.HScrollBar
*/
//class laya.ui.ScrollBar extends laya.ui.UIComponent
var ScrollBar=(function(_super){
	function ScrollBar(skin){
		/**滚动衰减系数*/
		this.rollRatio=0.95;
		/**滚动变化时回调，回传value参数。*/
		this.changeHandler=null;
		/**是否缩放滑动条，默认值为true。 */
		this.scaleBar=true;
		/**一个布尔值，指定是否自动隐藏滚动条(无需滚动时)，默认值为false。*/
		this.autoHide=false;
		/**橡皮筋效果极限距离，0为没有橡皮筋效果。*/
		this.elasticDistance=0;
		/**橡皮筋回弹时间，单位为毫秒。*/
		this.elasticBackTime=500;
		/**上按钮 */
		this.upButton=null;
		/**下按钮 */
		this.downButton=null;
		/**滑条 */
		this.slider=null;
		/**@private */
		this._scrollSize=1;
		/**@private */
		this._skin=null;
		/**@private */
		this._thumbPercent=1;
		/**@private */
		this._target=null;
		/**@private */
		this._lastPoint=null;
		/**@private */
		this._lastOffset=0;
		/**@private */
		this._checkElastic=false;
		/**@private */
		this._isElastic=false;
		/**@private */
		this._value=NaN;
		/**@private */
		this._hide=false;
		/**@private */
		this._clickOnly=true;
		/**@private */
		this._offsets=null;
		ScrollBar.__super.call(this);
		this._showButtons=UIConfig.showButtons;
		this._touchScrollEnable=UIConfig.touchScrollEnable;
		this._mouseWheelEnable=UIConfig.mouseWheelEnable;
		this.skin=skin;
		this.max=1;
	}

	__class(ScrollBar,'laya.ui.ScrollBar',_super);
	var __proto=ScrollBar.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this.stopScroll();
		this.target=null;
		_super.prototype.destroy.call(this,destroyChild);
		this.upButton && this.upButton.destroy(destroyChild);
		this.downButton && this.downButton.destroy(destroyChild);
		this.slider && this.slider.destroy(destroyChild);
		this.upButton=this.downButton=null;
		this.slider=null;
		this.changeHandler=null;
		this._offsets=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this.slider=new Slider());
		this.addChild(this.upButton=new Button());
		this.addChild(this.downButton=new Button());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this.slider.showLabel=false;
		this.slider.on("change",this,this.onSliderChange);
		this.slider.setSlider(0,0,0);
		this.upButton.on("mousedown",this,this.onButtonMouseDown);
		this.downButton.on("mousedown",this,this.onButtonMouseDown);
	}

	/**
	*@private
	*滑块位置发生改变的处理函数。
	*/
	__proto.onSliderChange=function(){
		if(this._value !=this.slider.value)this.value=this.slider.value;
	}

	/**
	*@private
	*向上和向下按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onButtonMouseDown=function(e){
		var isUp=e.currentTarget===this.upButton;
		this.slide(isUp);
		Laya.timer.once(Styles.scrollBarDelayTime,this,this.startLoop,[isUp]);
		Laya.stage.once("mouseup",this,this.onStageMouseUp);
	}

	/**@private */
	__proto.startLoop=function(isUp){
		Laya.timer.frameLoop(1,this,this.slide,[isUp]);
	}

	/**@private */
	__proto.slide=function(isUp){
		if (isUp)this.value-=this._scrollSize;
		else this.value+=this._scrollSize;
	}

	/**
	*@private
	*舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onStageMouseUp=function(e){
		Laya.timer.clear(this,this.startLoop);
		Laya.timer.clear(this,this.slide);
	}

	__proto._skinLoaded=function(){
		this.slider.skin=this._skin;
		this.callLater(this.changeScrollBar);
		this.event("loaded");
	}

	/**
	*@private
	*更改对象的皮肤及位置。
	*/
	__proto.changeScrollBar=function(){
		this.upButton.visible=this._showButtons;
		this.downButton.visible=this._showButtons;
		if (this._showButtons){
			this.upButton.skin=this._skin.replace(".png","$up.png");
			this.downButton.skin=this._skin.replace(".png","$down.png");
		}
		if (this.slider.isVertical)this.slider.y=this._showButtons ? this.upButton.height :0;
		else this.slider.x=this._showButtons ? this.upButton.width :0;
		this.resetPositions();
		this.repaint();
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		_super.prototype.changeSize.call(this);
		this.repaint();
		this.resetPositions();
		this.event("change");
		this.changeHandler && this.changeHandler.runWith(this.value);
	}

	/**@private */
	__proto.resetPositions=function(){
		if (this.slider.isVertical)this.slider.height=this.height-(this._showButtons ? (this.upButton.height+this.downButton.height):0);
		else this.slider.width=this.width-(this._showButtons ? (this.upButton.width+this.downButton.width):0);
		this.resetButtonPosition();
	}

	/**@private */
	__proto.resetButtonPosition=function(){
		if (this.slider.isVertical)this.downButton.y=this.slider._y+this.slider.height;
		else this.downButton.x=this.slider._x+this.slider.width;
	}

	/**
	*设置滚动条信息。
	*@param min 滚动条最小位置值。
	*@param max 滚动条最大位置值。
	*@param value 滚动条当前位置值。
	*/
	__proto.setScroll=function(min,max,value){
		this.runCallLater(this.changeSize);
		this.slider.setSlider(min,max,value);
		this.slider.bar.visible=max > 0;
		if (!this._hide && this.autoHide)this.visible=false;
	}

	/**@private */
	__proto.onTargetMouseWheel=function(e){
		this.value-=e.delta *this._scrollSize;
		this.target=this._target;
	}

	/**@private */
	__proto.onTargetMouseDown=function(e){
		this._clickOnly=true;
		this._lastOffset=0;
		this._checkElastic=false;
		this._lastPoint || (this._lastPoint=new Point());
		this._lastPoint.setTo(Laya.stage.mouseX,Laya.stage.mouseY);
		Laya.timer.clear(this,this.tweenMove);
		Tween.clearTween(this);
		Laya.stage.once("mouseup",this,this.onStageMouseUp2);
		Laya.stage.once("mouseout",this,this.onStageMouseUp2);
		Laya.timer.frameLoop(1,this,this.loop);
	}

	/**@private */
	__proto.loop=function(){
		var mouseY=Laya.stage.mouseY;
		var mouseX=Laya.stage.mouseX;
		this._lastOffset=this.isVertical ? (mouseY-this._lastPoint.y):(mouseX-this._lastPoint.x);
		if (this._clickOnly){
			if (Math.abs(this._lastOffset *(this.isVertical ? Laya.stage._canvasTransform.getScaleY():Laya.stage._canvasTransform.getScaleX()))> 1){
				this._clickOnly=false;
				this._offsets || (this._offsets=[]);
				this._offsets.length=0;
				this._target.mouseEnabled=false;
				if (!this.hide && this.autoHide){
					this.alpha=1;
					this.visible=true;
				}
				this.event("start");
			}else return;
		}
		this._offsets.push(this._lastOffset);
		this._lastPoint.x=mouseX;
		this._lastPoint.y=mouseY;
		if (this._lastOffset===0)return;
		if (!this._checkElastic){
			if (this.elasticDistance > 0){
				if (!this._checkElastic && this._lastOffset !=0){
					if ((this._lastOffset > 0 && this._value <=this.min)|| (this._lastOffset < 0 && this._value >=this.max)){
						this._isElastic=true;
						this._checkElastic=true;
						}else {
						this._isElastic=false;
					}
				}
				}else {
				this._checkElastic=true;
			}
		}
		if (this._isElastic){
			if (this._value <=this.min){
				this.value-=this._lastOffset *Math.max(0,(1-((this.min-this._value)/ this.elasticDistance)));
				}else if (this._value >=this.max){
				this.value-=this._lastOffset *Math.max(0,(1-((this._value-this.max)/ this.elasticDistance)));
			}
			}else {
			this.value-=this._lastOffset;
		}
	}

	/**@private */
	__proto.onStageMouseUp2=function(e){
		Laya.stage.off("mouseup",this,this.onStageMouseUp2);
		Laya.stage.off("mouseout",this,this.onStageMouseUp2);
		Laya.timer.clear(this,this.loop);
		if (this._clickOnly)return;
		this._target.mouseEnabled=true;
		if (this._isElastic){
			if (this._value < this.min){
				Tween.to(this,{value:this.min},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
				}else if (this._value > this.max){
				Tween.to(this,{value:this.max},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
			}
			}else {
			if (!this._offsets)return;
			if (this._offsets.length < 1){
				this._offsets[0]=this.isVertical ? Laya.stage.mouseY-this._lastPoint.y :Laya.stage.mouseX-this._lastPoint.x;
			};
			var offset=0;
			var n=Math.min(this._offsets.length,3);
			for (var i=0;i < n;i++){
				offset+=this._offsets[this._offsets.length-1-i];
			}
			this._lastOffset=offset / n;
			offset=Math.abs(this._lastOffset);
			if (offset < 2){
				this.event("end");
				return;
			}
			if (offset > 60)this._lastOffset=this._lastOffset > 0 ? 60 :-60;
			var dis=Math.round(Math.abs(this.elasticDistance *(this._lastOffset / 240)));
			Laya.timer.frameLoop(1,this,this.tweenMove,[dis]);
		}
	}

	/**@private */
	__proto.elasticOver=function(){
		this._isElastic=false;
		if (!this.hide && this.autoHide){
			Tween.to(this,{alpha:0},500);
		}
		this.event("end");
	}

	/**@private */
	__proto.tweenMove=function(maxDistance){
		this._lastOffset *=this.rollRatio;
		var tarSpeed=NaN;
		if (maxDistance > 0){
			if (this._lastOffset > 0 && this.value <=this.min){
				this._isElastic=true;
				tarSpeed=-(this.min-maxDistance-this.value)*0.5;
				if (this._lastOffset > tarSpeed)this._lastOffset=tarSpeed;
				}else if (this._lastOffset < 0 && this.value >=this.max){
				this._isElastic=true;
				tarSpeed=-(this.max+maxDistance-this.value)*0.5;
				if (this._lastOffset < tarSpeed)this._lastOffset=tarSpeed;
			}
		}
		this.value-=this._lastOffset;
		if (Math.abs(this._lastOffset)< 1){
			Laya.timer.clear(this,this.tweenMove);
			if (this._isElastic){
				if (this._value < this.min){
					Tween.to(this,{value:this.min},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
					}else if (this._value > this.max){
					Tween.to(this,{value:this.max},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
					}else {
					this.elasticOver();
				}
				return;
			}
			this.event("end");
			if (!this.hide && this.autoHide){
				Tween.to(this,{alpha:0},500);
			}
		}
	}

	/**
	*停止滑动。
	*/
	__proto.stopScroll=function(){
		this.onStageMouseUp2(null);
		Laya.timer.clear(this,this.tweenMove);
		Tween.clearTween(this);
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		if (this.slider.isVertical)return 100;
		return this.slider.height;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (this._skin&&!Loader.getRes(this._skin)){
				Laya.loader.load([this._skin,this._skin.replace(".png","$up.png"),this._skin.replace(".png","$down.png"),this._skin.replace(".png","$bar.png")],Handler.create(this,this._skinLoaded));
				}else{
				this._skinLoaded();
			}
		}
	});

	/**
	*获取或设置表示最高滚动位置的数字。
	*/
	__getset(0,__proto,'max',function(){
		return this.slider.max;
		},function(value){
		this.slider.max=value;
	});

	/**一个布尔值，指定是否显示向上、向下按钮，默认值为true。*/
	__getset(0,__proto,'showButtons',function(){
		return this._showButtons;
		},function(value){
		this._showButtons=value;
		this.callLater(this.changeScrollBar);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		if (this.slider.isVertical)return this.slider.width;
		return 100;
	});

	/**
	*获取或设置表示最低滚动位置的数字。
	*/
	__getset(0,__proto,'min',function(){
		return this.slider.min;
		},function(value){
		this.slider.min=value;
	});

	/**
	*获取或设置表示当前滚动位置的数字。
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(v){
		if (v!==this._value){
			this._value=v;
			if (!this._isElastic){
				if (this.slider._value !=v){
					this.slider._value=v;
					this.slider.changeValue();
				}
				this._value=this.slider._value;
			}
			this.event("change");
			this.changeHandler && this.changeHandler.runWith(this._value);
		}
	});

	/**
	*一个布尔值，指示滚动条是否为垂直滚动。如果值为true，则为垂直滚动，否则为水平滚动。
	*<p>默认值为：true。</p>
	*/
	__getset(0,__proto,'isVertical',function(){
		return this.slider.isVertical;
		},function(value){
		this.slider.isVertical=value;
	});

	/**
	*<p>当前实例的 <code>Slider</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this.slider.sizeGrid;
		},function(value){
		this.slider.sizeGrid=value;
	});

	/**获取或设置一个值，该值表示按下滚动条轨道时页面滚动的增量。 */
	__getset(0,__proto,'scrollSize',function(){
		return this._scrollSize;
		},function(value){
		this._scrollSize=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**获取或设置一个值，该值表示滑条长度比例，值为：（0-1）。 */
	__getset(0,__proto,'thumbPercent',function(){
		return this._thumbPercent;
		},function(value){
		this.runCallLater(this.changeScrollBar);
		this.runCallLater(this.changeSize);
		value=value >=1 ? 0.99 :value;
		this._thumbPercent=value;
		if (this.scaleBar){
			if (this.slider.isVertical)this.slider.bar.height=Math.max(this.slider.height *value,Styles.scrollBarMinNum);
			else this.slider.bar.width=Math.max(this.slider.width *value,Styles.scrollBarMinNum);
		}
	});

	/**
	*设置滚动对象。
	*@see laya.ui.TouchScroll#target
	*/
	__getset(0,__proto,'target',function(){
		return this._target;
		},function(value){
		if (this._target){
			this._target.off("mousewheel",this,this.onTargetMouseWheel);
			this._target.off("mousedown",this,this.onTargetMouseDown);
		}
		this._target=value;
		if (value){
			this._mouseWheelEnable && this._target.on("mousewheel",this,this.onTargetMouseWheel);
			this._touchScrollEnable && this._target.on("mousedown",this,this.onTargetMouseDown);
		}
	});

	/**是否隐藏滚动条，不显示滚动条，但是可以正常滚动，默认为false。*/
	__getset(0,__proto,'hide',function(){
		return this._hide;
		},function(value){
		this._hide=value;
		this.visible=!value;
	});

	/**一个布尔值，指定是否开启触摸，默认值为true。*/
	__getset(0,__proto,'touchScrollEnable',function(){
		return this._touchScrollEnable;
		},function(value){
		this._touchScrollEnable=value;
		this.target=this._target;
	});

	/**一个布尔值，指定是否滑轮滚动，默认值为true。*/
	__getset(0,__proto,'mouseWheelEnable',function(){
		return this._mouseWheelEnable;
		},function(value){
		this._mouseWheelEnable=value;
	});

	/**
	*滚动的刻度值，滑动数值为tick的整数倍。默认值为1。
	*/
	__getset(0,__proto,'tick',function(){
		return this.slider.tick;
		},function(value){
		this.slider.tick=value;
	});

	return ScrollBar;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Slider.as=======95.998963/95.998963
/**
*使用 <code>Slider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p>滑块的当前值由滑块端点（对应于滑块的最小值和最大值）之间滑块的相对位置确定。</p>
*<p>滑块允许最小值和最大值之间特定间隔内的值。滑块还可以使用数据提示显示其当前值。</p>
*
*@see laya.ui.HSlider
*@see laya.ui.VSlider
*/
//class laya.ui.Slider extends laya.ui.UIComponent
var Slider=(function(_super){
	function Slider(skin){
		/**
		*数据变化处理器。
		*<p>默认回调参数为滑块位置属性 <code>value</code>属性值：Number 。</p>
		*/
		this.changeHandler=null;
		/**
		*一个布尔值，指示是否为垂直滚动。如果值为true，则为垂直方向，否则为水平方向。
		*<p>默认值为：true。</p>
		*@default true
		*/
		this.isVertical=true;
		/**
		*一个布尔值，指示是否显示标签。
		*@default true
		*/
		this.showLabel=true;
		/**@private */
		this._allowClickBack=false;
		/**@private */
		this._max=100;
		/**@private */
		this._min=0;
		/**@private */
		this._tick=1;
		/**@private */
		this._value=0;
		/**@private */
		this._skin=null;
		/**@private */
		this._bg=null;
		/**@private */
		this._progress=null;
		/**@private */
		this._bar=null;
		/**@private */
		this._tx=NaN;
		/**@private */
		this._ty=NaN;
		/**@private */
		this._maxMove=NaN;
		/**@private */
		this._globalSacle=null;
		Slider.__super.call(this);
		this.skin=skin;
	}

	__class(Slider,'laya.ui.Slider',_super);
	var __proto=Slider.prototype;
	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy(destroyChild);
		this._bar && this._bar.destroy(destroyChild);
		this._progress && this._progress.destroy(destroyChild);
		this._bg=null;
		this._bar=null;
		this._progress=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._bg=new Image());
		this.addChild(this._bar=new Button());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this._bar.on("mousedown",this,this.onBarMouseDown);
		this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0";
		if (this._progress)this._progress.sizeGrid=this._bar.sizeGrid;
		this.allowClickBack=true;
	}

	/**
	*@private
	*滑块的的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onBarMouseDown=function(e){
		this._globalSacle || (this._globalSacle=new Point());
		this._globalSacle.setTo(this.globalScaleX || 0.01,this.globalScaleY || 0.01);
		this._maxMove=this.isVertical ? (this.height-this._bar.height):(this.width-this._bar.width);
		this._tx=Laya.stage.mouseX;
		this._ty=Laya.stage.mouseY;
		Laya.stage.on("mousemove",this,this.mouseMove);
		Laya.stage.once("mouseup",this,this.mouseUp);
		Laya.stage.once("mouseout",this,this.mouseUp);
		this.showValueText();
	}

	/**
	*@private
	*显示标签。
	*/
	__proto.showValueText=function(){
		if (this.showLabel){
			var label=laya.ui.Slider.label;
			this.addChild(label);
			label.textField.changeText(this._value+"");
			if (this.isVertical){
				label.x=this._bar._x+20;
				label.y=(this._bar.height-label.height)*0.5+this._bar._y;
				}else {
				label.y=this._bar._y-20;
				label.x=(this._bar.width-label.width)*0.5+this._bar._x;
			}
		}
	}

	/**
	*@private
	*隐藏标签。
	*/
	__proto.hideValueText=function(){
		laya.ui.Slider.label && laya.ui.Slider.label.removeSelf();
	}

	/**
	*@private
	*/
	__proto.mouseUp=function(e){
		Laya.stage.off("mousemove",this,this.mouseMove);
		Laya.stage.off("mouseup",this,this.mouseUp);
		Laya.stage.off("mouseout",this,this.mouseUp);
		this.sendChangeEvent("changed");
		this.hideValueText();
	}

	/**
	*@private
	*/
	__proto.mouseMove=function(e){
		var oldValue=this._value;
		if (this.isVertical){
			this._bar.y+=(Laya.stage.mouseY-this._ty)/ this._globalSacle.y;
			if (this._bar._y > this._maxMove)this._bar.y=this._maxMove;
			else if (this._bar._y < 0)this._bar.y=0;
			this._value=this._bar._y / this._maxMove *(this._max-this._min)+this._min;
			if(this._progress)this._progress.height=this._bar._y+0.5*this._bar.height;
			}else {
			this._bar.x+=(Laya.stage.mouseX-this._tx)/ this._globalSacle.x;
			if (this._bar._x > this._maxMove)this._bar.x=this._maxMove;
			else if (this._bar._x < 0)this._bar.x=0;
			this._value=this._bar._x / this._maxMove *(this._max-this._min)+this._min;
			if(this._progress)this._progress.width=this._bar._x+0.5*this._bar.width;
		}
		this._tx=Laya.stage.mouseX;
		this._ty=Laya.stage.mouseY;
		var pow=Math.pow(10,(this._tick+"").length-1);
		this._value=Math.round(Math.round(this._value / this._tick)*this._tick *pow)/ pow;
		if (this._value !=oldValue){
			this.sendChangeEvent();
		}
		this.showValueText();
	}

	/**
	*@private
	*/
	__proto.sendChangeEvent=function(type){
		(type===void 0)&& (type="change");
		this.event(type);
		this.changeHandler && this.changeHandler.runWith(this._value);
	}

	__proto._skinLoaded=function(){
		this._bg.skin=this._skin;
		this._bar.skin=this._skin.replace(".png","$bar.png");
		var progressSkin=this._skin.replace(".png","$progress.png");
		if (Loader.getRes(progressSkin)){
			if (!this._progress){
				this.addChild(this._progress=new Image());
				this._progress.sizeGrid=this._bar.sizeGrid;
				this.setChildIndex(this._progress,1);
			}
			this._progress.skin=progressSkin;
		}
		this.setBarPoint();
		this.callLater(this.changeValue);
		this.event("loaded");
	}

	/**
	*@private
	*设置滑块的位置信息。
	*/
	__proto.setBarPoint=function(){
		if (this.isVertical)this._bar.x=Math.round((this._bg.width-this._bar.width)*0.5);
		else this._bar.y=Math.round((this._bg.height-this._bar.height)*0.5);
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		_super.prototype.changeSize.call(this);
		if (this.isVertical)this._bg.height=this.height;
		else this._bg.width=this.width;
		this.setBarPoint();
		this.changeValue();
	}

	/**
	*设置滑动条的信息。
	*@param min 滑块的最小值。
	*@param max 滑块的最小值。
	*@param value 滑块的当前值。
	*/
	__proto.setSlider=function(min,max,value){
		this._value=-1;
		this._min=min;
		this._max=max > min ? max :min;
		this.value=value < min ? min :value > max ? max :value;
	}

	/**
	*@private
	*改变滑块的位置值。
	*/
	__proto.changeValue=function(){
		var pow=Math.pow(10,(this._tick+"").length-1);
		this._value=Math.round(Math.round(this._value / this._tick)*this._tick *pow)/ pow;
		this._value=this._value > this._max ? this._max :this._value < this._min ? this._min :this._value;
		var num=this._max-this._min;
		if (num===0)num=1;
		if (this.isVertical){
			this._bar.y=(this._value-this._min)/ num *(this.height-this._bar.height);
			if(this._progress)this._progress.height=this._bar._y+0.5*this._bar.height;
		}
		else{
			this._bar.x=(this._value-this._min)/ num *(this.width-this._bar.width);
			if(this._progress)this._progress.width=this._bar._x+0.5*this._bar.width;
		}
	}

	/**
	*@private
	*滑动条的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onBgMouseDown=function(e){
		var point=this._bg.getMousePoint();
		if (this.isVertical)this.value=point.y / (this.height-this._bar.height)*(this._max-this._min)+this._min;
		else this.value=point.x / (this.width-this._bar.width)*(this._max-this._min)+this._min;
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return Math.max(this._bg.height,this._bar.height);
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (this._skin&&!Loader.getRes(this._skin)){
				Laya.loader.load([this._skin,this._skin.replace(".png","$bar.png")],Handler.create(this,this._skinLoaded));
				}else{
				this._skinLoaded();
			}
		}
	});

	/**
	*一个布尔值，指定是否允许通过点击滑动条改变 <code>Slider</code> 的 <code>value</code> 属性值。
	*/
	__getset(0,__proto,'allowClickBack',function(){
		return this._allowClickBack;
		},function(value){
		if (this._allowClickBack !=value){
			this._allowClickBack=value;
			if (value)this._bg.on("mousedown",this,this.onBgMouseDown);
			else this._bg.off("mousedown",this,this.onBgMouseDown);
		}
	});

	/**
	*获取或设置表示最高位置的数字。 默认值为100。
	*/
	__getset(0,__proto,'max',function(){
		return this._max;
		},function(value){
		if (this._max !=value){
			this._max=value;
			this.callLater(this.changeValue);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return Math.max(this._bg.width,this._bar.width);
	});

	/**
	*滑动的刻度值，滑动数值为tick的整数倍。默认值为1。
	*/
	__getset(0,__proto,'tick',function(){
		return this._tick;
		},function(value){
		if (this._tick !=value){
			this._tick=value;
			this.callLater(this.changeValue);
		}
	});

	/**
	*<p>当前实例的背景图（ <code>Image</code> ）和滑块按钮（ <code>Button</code> ）实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg.sizeGrid;
		},function(value){
		this._bg.sizeGrid=value;
		this._bar.sizeGrid=value;
		if (this._progress)this._progress.sizeGrid=this._bar.sizeGrid;
	});

	/**
	*获取或设置表示最低位置的数字。 默认值为0。
	*/
	__getset(0,__proto,'min',function(){
		return this._min;
		},function(value){
		if (this._min !=value){
			this._min=value;
			this.callLater(this.changeValue);
		}
	});

	/**
	*获取或设置表示当前滑块位置的数字。
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(num){
		if (this._value !=num){
			var oldValue=this._value;
			this._value=num;
			this.changeValue();
			if (this._value !=oldValue){
				this.sendChangeEvent();
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**
	*表示滑块按钮的引用。
	*/
	__getset(0,__proto,'bar',function(){
		return this._bar;
	});

	__static(Slider,
	['label',function(){return this.label=new Label();}
	]);
	return Slider;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Image.as=======95.998959/95.998959
/**
*<code>Image</code> 类是用于表示位图图像或绘制图形的显示对象。
*Image和Clip组件是唯一支持异步加载的两个组件，比如img.skin="abc/xxx.png"，其他UI组件均不支持异步加载。
*
*@example <caption>以下示例代码，创建了一个新的 <code>Image</code> 实例，设置了它的皮肤、位置信息，并添加到舞台上。</caption>
*package
*{
	*import laya.ui.Image;
	*public class Image_Example
	*{
		*public function Image_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var bg:Image=new Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
			*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
			*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
			*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
			*bg.width=150;//设置 bg 对象的宽度。
			*bg.height=250;//设置 bg 对象的高度。
			*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
			*var image:Image=new Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
			*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
			*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
			*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*onInit();
*function onInit(){
	*var bg=new laya.ui.Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
	*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
	*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
	*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
	*bg.width=150;//设置 bg 对象的宽度。
	*bg.height=250;//设置 bg 对象的高度。
	*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
	*var image=new laya.ui.Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
	*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
	*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
	*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
	*}
*@example
*class Image_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var bg:laya.ui.Image=new laya.ui.Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
		*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
		*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
		*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
		*bg.width=150;//设置 bg 对象的宽度。
		*bg.height=250;//设置 bg 对象的高度。
		*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
		*var image:laya.ui.Image=new laya.ui.Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
		*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
		*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
		*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
		*}
	*}
*@see laya.ui.AutoBitmap
*/
//class laya.ui.Image extends laya.ui.UIComponent
var Image=(function(_super){
	function Image(skin){
		/**@private */
		this._bitmap=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._group=null;
		Image.__super.call(this);
		this.skin=skin;
	}

	__class(Image,'laya.ui.Image',_super);
	var __proto=Image.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,true);
		this._bitmap && this._bitmap.destroy();
		this._bitmap=null;
	}

	/**
	*销毁对象并释放加载的皮肤资源。
	*/
	__proto.dispose=function(){
		this.destroy(true);
		Laya.loader.clearRes(this._skin);
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
		this._bitmap.autoCacheCmd=false;
	}

	/**
	*@private
	*设置皮肤资源。
	*/
	__proto.setSource=function(url,img){
		if (url===this._skin && img){
			this.source=img
			this.onCompResize();
		}
	}

	/**
	*@copy laya.ui.AutoBitmap#source
	*/
	__getset(0,__proto,'source',function(){
		return this._bitmap.source;
		},function(value){
		if (!this._bitmap)return;
		this._bitmap.source=value;
		this.event("loaded");
		this.repaint();
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='string'))this.skin=value;
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._bitmap.height;
	});

	/**
	*<p>对象的皮肤地址，以字符串表示。</p>
	*<p>如果资源未加载，则先加载资源，加载完成后应用于此对象。</p>
	*<b>注意：</b>资源加载完成后，会自动缓存至资源库中。
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				var source=Loader.getRes(value);
				if (source){
					this.source=source;
					this.onCompResize();
				}else Laya.loader.load(this._skin,Handler.create(this,this.setSource,[this._skin]),null,"image",1,true,this._group);
				}else {
				this.source=null;
			}
		}
	});

	/**
	*资源分组。
	*/
	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		if (value && this._skin)Loader.setGroup(this._skin,value);
		this._group=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"。</li></ul></p>
	*@see laya.ui.AutoBitmap#sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._bitmap.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(UIComponent,this,'width',value);
		this._bitmap.width=value==0 ? 0.0000001 :value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(UIComponent,this,'height',value);
		this._bitmap.height=value==0 ? 0.0000001 :value;
	});

	return Image;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Label.as=======95.998956/95.998956
/**
*<p> <code>Label</code> 类用于创建显示对象以显示文本。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Label</code> 实例。</caption>
*package
*{
	*import laya.ui.Label;
	*public class Label_Example
	*{
		*public function Label_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var label:Label=new Label();//创建一个 Label 类的实例对象 label 。
			*label.font="Arial";//设置 label 的字体。
			*label.bold=true;//设置 label 显示为粗体。
			*label.leading=4;//设置 label 的行间距。
			*label.wordWrap=true;//设置 label 自动换行。
			*label.padding="10,10,10,10";//设置 label 的边距。
			*label.color="#ff00ff";//设置 label 的颜色。
			*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
			*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
			*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
			*label.width=300;//设置 label 的宽度。
			*label.height=200;//设置 label 的高度。
			*Laya.stage.addChild(label);//将 label 添加到显示列表。
			*var passwordLabel:Label=new Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
			*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
			*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
			*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
			*passwordLabel.width=300;//设置 passwordLabel 的宽度。
			*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
			*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
			*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
			*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*onInit();
*function onInit(){
	*var label=new laya.ui.Label();//创建一个 Label 类的实例对象 label 。
	*label.font="Arial";//设置 label 的字体。
	*label.bold=true;//设置 label 显示为粗体。
	*label.leading=4;//设置 label 的行间距。
	*label.wordWrap=true;//设置 label 自动换行。
	*label.padding="10,10,10,10";//设置 label 的边距。
	*label.color="#ff00ff";//设置 label 的颜色。
	*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
	*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
	*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
	*label.width=300;//设置 label 的宽度。
	*label.height=200;//设置 label 的高度。
	*Laya.stage.addChild(label);//将 label 添加到显示列表。
	*var passwordLabel=new laya.ui.Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
	*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
	*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
	*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
	*passwordLabel.width=300;//设置 passwordLabel 的宽度。
	*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
	*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
	*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
	*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
	*}
*@example
*import Label=laya.ui.Label;
*class Label_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var label:Label=new Label();//创建一个 Label 类的实例对象 label 。
		*label.font="Arial";//设置 label 的字体。
		*label.bold=true;//设置 label 显示为粗体。
		*label.leading=4;//设置 label 的行间距。
		*label.wordWrap=true;//设置 label 自动换行。
		*label.padding="10,10,10,10";//设置 label 的边距。
		*label.color="#ff00ff";//设置 label 的颜色。
		*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
		*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
		*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
		*label.width=300;//设置 label 的宽度。
		*label.height=200;//设置 label 的高度。
		*Laya.stage.addChild(label);//将 label 添加到显示列表。
		*var passwordLabel:Label=new Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
		*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
		*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
		*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
		*passwordLabel.width=300;//设置 passwordLabel 的宽度。
		*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
		*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
		*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
		*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
		*}
	*}
*@see laya.display.Text
*/
//class laya.ui.Label extends laya.ui.UIComponent
var Label=(function(_super){
	function Label(text){
		/**
		*@private
		*文本 <code>Text</code> 实例。
		*/
		this._tf=null;
		Label.__super.call(this);
		(text===void 0)&& (text="");
		this.text=text;
	}

	__class(Label,'laya.ui.Label',_super);
	var __proto=Label.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._tf=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._tf=new Text());
	}

	/**@copy laya.display.Text#changeText()
	**/
	__proto.changeText=function(text){
		this._tf.changeText(text);
	}

	/**
	*<p>边距信息</p>
	*<p>"上边距，右边距，下边距 , 左边距（边距以像素为单位）"</p>
	*@see laya.display.Text.padding
	*/
	__getset(0,__proto,'padding',function(){
		return this._tf.padding.join(",");
		},function(value){
		this._tf.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*@copy laya.display.Text#bold
	*/
	__getset(0,__proto,'bold',function(){
		return this._tf.bold;
		},function(value){
		this._tf.bold=value;
	});

	/**
	*@copy laya.display.Text#align
	*/
	__getset(0,__proto,'align',function(){
		return this._tf.align;
		},function(value){
		this._tf.align=value;
	});

	/**
	*当前文本内容字符串。
	*@see laya.display.Text.text
	*/
	__getset(0,__proto,'text',function(){
		return this._tf.text;
		},function(value){
		if (this._tf.text !=value){
			if(value)
				value=UIUtils.adptString(value+"");
			this._tf.text=value;
			this.event("change");
			if (!this._width || !this._height)this.onCompResize();
		}
	});

	/**
	*@copy laya.display.Text#italic
	*/
	__getset(0,__proto,'italic',function(){
		return this._tf.italic;
		},function(value){
		this._tf.italic=value;
	});

	/**
	*@copy laya.display.Text#wordWrap
	*/
	/**
	*@copy laya.display.Text#wordWrap
	*/
	__getset(0,__proto,'wordWrap',function(){
		return this._tf.wordWrap;
		},function(value){
		this._tf.wordWrap=value;
	});

	/**
	*@copy laya.display.Text#font
	*/
	__getset(0,__proto,'font',function(){
		return this._tf.font;
		},function(value){
		this._tf.font=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.text=value+"";
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	/**
	*@copy laya.display.Text#color
	*/
	__getset(0,__proto,'color',function(){
		return this._tf.color;
		},function(value){
		this._tf.color=value;
	});

	/**
	*@copy laya.display.Text#valign
	*/
	__getset(0,__proto,'valign',function(){
		return this._tf.valign;
		},function(value){
		this._tf.valign=value;
	});

	/**
	*@copy laya.display.Text#leading
	*/
	__getset(0,__proto,'leading',function(){
		return this._tf.leading;
		},function(value){
		this._tf.leading=value;
	});

	/**
	*@copy laya.display.Text#fontSize
	*/
	__getset(0,__proto,'fontSize',function(){
		return this._tf.fontSize;
		},function(value){
		this._tf.fontSize=value;
	});

	/**
	*@copy laya.display.Text#bgColor
	*/
	__getset(0,__proto,'bgColor',function(){
		return this._tf.bgColor
		},function(value){
		this._tf.bgColor=value;
	});

	/**
	*@copy laya.display.Text#borderColor
	*/
	__getset(0,__proto,'borderColor',function(){
		return this._tf.borderColor
		},function(value){
		this._tf.borderColor=value;
	});

	/**
	*@copy laya.display.Text#stroke
	*/
	__getset(0,__proto,'stroke',function(){
		return this._tf.stroke;
		},function(value){
		this._tf.stroke=value;
	});

	/**
	*@copy laya.display.Text#strokeColor
	*/
	__getset(0,__proto,'strokeColor',function(){
		return this._tf.strokeColor;
		},function(value){
		this._tf.strokeColor=value;
	});

	/**
	*文本控件实体 <code>Text</code> 实例。
	*/
	__getset(0,__proto,'textField',function(){
		return this._tf;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureWidth',function(){
		return this._tf.width;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureHeight',function(){
		return this._tf.height;
	});

	/**
	*@inheritDoc
	*/
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',function(){
		if (this._width || this._tf.text)return Laya.superGet(UIComponent,this,'width');
		return 0;
		},function(value){
		Laya.superSet(UIComponent,this,'width',value);
		this._tf.width=value;
	});

	/**
	*@inheritDoc
	*/
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'height',function(){
		if (this._height || this._tf.text)return Laya.superGet(UIComponent,this,'height');
		return 0;
		},function(value){
		Laya.superSet(UIComponent,this,'height',value);
		this._tf.height=value;
	});

	/**
	*@copy laya.display.Text#overflow
	*/
	/**
	*@copy laya.display.Text#overflow
	*/
	__getset(0,__proto,'overflow',function(){
		return this._tf.overflow;
		},function(value){
		this._tf.overflow=value;
	});

	/**
	*@copy laya.display.Text#underline
	*/
	/**
	*@copy laya.display.Text#underline
	*/
	__getset(0,__proto,'underline',function(){
		return this._tf.underline;
		},function(value){
		this._tf.underline=value;
	});

	/**
	*@copy laya.display.Text#underlineColor
	*/
	/**
	*@copy laya.display.Text#underlineColor
	*/
	__getset(0,__proto,'underlineColor',function(){
		return this._tf.underlineColor;
		},function(value){
		this._tf.underlineColor=value;
	});

	return Label;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ProgressBar.as=======95.998952/95.998952
/**
*<code>ProgressBar</code> 组件显示内容的加载进度。
*@example <caption>以下示例代码，创建了一个新的 <code>ProgressBar</code> 实例，设置了它的皮肤、位置、宽高、网格等信息，并添加到舞台上。</caption>
*package
*{
	*import laya.ui.ProgressBar;
	*import laya.utils.Handler;
	*public class ProgressBar_Example
	*{
		*private var progressBar:ProgressBar;
		*public function ProgressBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/progress.png","resource/ui/progress$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*progressBar=new ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
			*progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
			*progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
			*progressBar.value=0.3;//设置 progressBar 的进度值。
			*progressBar.width=200;//设置 progressBar 的宽度。
			*progressBar.height=50;//设置 progressBar 的高度。
			*progressBar.sizeGrid="5,10,5,10";//设置 progressBar 的网格信息。
			*progressBar.changeHandler=new Handler(this,onChange);//设置 progressBar 的value值改变时执行的处理器。
			*Laya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。
			*Laya.timer.once(3000,this,changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
			*}
		*private function changeValue():void
		*{
			*trace("改变进度条的进度值。");
			*progressBar.value=0.6;
			*}
		*private function onChange(value:Number):void
		*{
			*trace("进度发生改变： value=" ,value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var res=["resource/ui/progress.png","resource/ui/progress$bar.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete()
*{
	*progressBar=new laya.ui.ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
	*progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
	*progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
	*progressBar.value=0.3;//设置 progressBar 的进度值。
	*progressBar.width=200;//设置 progressBar 的宽度。
	*progressBar.height=50;//设置 progressBar 的高度。
	*progressBar.sizeGrid="10,5,10,5";//设置 progressBar 的网格信息。
	*progressBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 progressBar 的value值改变时执行的处理器。
	*Laya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。
	*Laya.timer.once(3000,this,changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
	*}
*function changeValue()
*{
	*console.log("改变进度条的进度值。");
	*progressBar.value=0.6;
	*}
*function onChange(value)
*{
	*console.log("进度发生改变： value=" ,value);
	*}
*@example
*import ProgressBar=laya.ui.ProgressBar;
*import Handler=laya.utils.Handler;
*class ProgressBar_Example {
	*private progressBar:ProgressBar;
	*public ProgressBar_Example(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/progress.png","resource/ui/progress$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.progressBar=new ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
		*this.progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
		*this.progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
		*this.progressBar.value=0.3;//设置 progressBar 的进度值。
		*this.progressBar.width=200;//设置 progressBar 的宽度。
		*this.progressBar.height=50;//设置 progressBar 的高度。
		*this.progressBar.sizeGrid="5,10,5,10";//设置 progressBar 的网格信息。
		*this.progressBar.changeHandler=new Handler(this,this.onChange);//设置 progressBar 的value值改变时执行的处理器。
		*Laya.stage.addChild(this.progressBar);//将 progressBar 添加到显示列表。
		*Laya.timer.once(3000,this,this.changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
		*}
	*private changeValue():void {
		*console.log("改变进度条的进度值。");
		*this.progressBar.value=0.6;
		*}
	*private onChange(value:number):void {
		*console.log("进度发生改变： value=",value);
		*}
	*}
*/
//class laya.ui.ProgressBar extends laya.ui.UIComponent
var ProgressBar=(function(_super){
	function ProgressBar(skin){
		/**
		*当 <code>ProgressBar</code> 实例的 <code>value</code> 属性发生变化时的函数处理器。
		*<p>默认返回参数<code>value</code> 属性（进度值）。</p>
		*/
		this.changeHandler=null;
		/**@private */
		this._bg=null;
		/**@private */
		this._bar=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._value=0.5;
		ProgressBar.__super.call(this);
		this.skin=skin;
	}

	__class(ProgressBar,'laya.ui.ProgressBar',_super);
	var __proto=ProgressBar.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy(destroyChild);
		this._bar && this._bar.destroy(destroyChild);
		this._bg=this._bar=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._bg=new Image());
		this.addChild(this._bar=new Image());
		this._bar._bitmap.autoCacheCmd=false;
	}

	__proto._skinLoaded=function(){
		this._bg.skin=this._skin;
		this._bar.skin=this._skin.replace(".png","$bar.png");
		this.callLater(this.changeValue);
		this.event("loaded");
	}

	/**
	*@private
	*更改进度值的显示。
	*/
	__proto.changeValue=function(){
		if (this.sizeGrid){
			var grid=this.sizeGrid.split(",");
			var left=Number(grid[3]);
			var right=Number(grid[1]);
			var max=this.width-left-right;
			var sw=max *this._value;
			this._bar.width=left+right+sw;
			this._bar.visible=this._bar.width > left+right;
			}else {
			this._bar.width=this.width *this._value;
		}
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._bg.height;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (this._skin&&!Loader.getRes(this._skin)){
				Laya.loader.load(this._skin,Handler.create(this,this._skinLoaded),null,"image",1);
				}else{
				this._skinLoaded();
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._bg.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(UIComponent,this,'height',value);
		this._bg.height=this._height;
		this._bar.height=this._height;
	});

	/**
	*获取进度条对象。
	*/
	__getset(0,__proto,'bar',function(){
		return this._bar;
	});

	/**
	*当前的进度量。
	*<p><b>取值：</b>介于0和1之间。</p>
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(num){
		if (this._value !=num){
			num=num > 1 ? 1 :num < 0 ? 0 :num;
			this._value=num;
			this.callLater(this.changeValue);
			this.event("change");
			this.changeHandler && this.changeHandler.runWith(num);
		}
	});

	/**
	*获取背景条对象。
	*/
	__getset(0,__proto,'bg',function(){
		return this._bg;
	});

	/**
	*<p>当前 <code>ProgressBar</code> 实例的进度条背景位图（ <code>Image</code> 实例）的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg.sizeGrid;
		},function(value){
		this._bg.sizeGrid=this._bar.sizeGrid=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(UIComponent,this,'width',value);
		this._bg.width=this._width;
		this.callLater(this.changeValue);
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(UIComponent,this,'dataSource',value);
	});

	return ProgressBar;
})(UIComponent)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/Camera.as=======95.998948/95.998948
/**
*<code>Camera</code> 类用于创建摄像机。
*/
//class laya.d3.core.Camera extends laya.d3.core.BaseCamera
var Camera=(function(_super){
	function Camera(aspectRatio,nearPlane,farPlane){
		/**@private */
		//this._aspectRatio=NaN;
		/**@private */
		//this._viewport=null;
		/**@private */
		//this._normalizedViewport=null;
		/**@private */
		//this._viewMatrix=null;
		/**@private */
		//this._projectionMatrix=null;
		/**@private */
		//this._projectionViewMatrix=null;
		/**@private */
		//this._projectionViewMatrixNoTranslateScale=null;
		/**@private */
		//this._boundFrustumUpdate=false;
		/**@private */
		//this._boundFrustum=null;
		/**@private */
		//this._orientedBoundBox=null;
		/**@private [NATIVE]*/
		//this._boundFrustumBuffer=null;
		(aspectRatio===void 0)&& (aspectRatio=0);
		(nearPlane===void 0)&& (nearPlane=0.3);
		(farPlane===void 0)&& (farPlane=1000);
		this._viewMatrix=new Matrix4x4();
		this._projectionMatrix=new Matrix4x4();
		this._projectionViewMatrix=new Matrix4x4();
		this._projectionViewMatrixNoTranslateScale=new Matrix4x4();
		this._viewport=new Viewport(0,0,0,0);
		this._normalizedViewport=new Viewport(0,0,1,1);
		this._aspectRatio=aspectRatio;
		this._boundFrustumUpdate=true;
		this._boundFrustum=new BoundFrustum(Matrix4x4.DEFAULT);
		if (Render.isConchApp)
			this._boundFrustumBuffer=new Float32Array(24);
		Camera.__super.call(this,nearPlane,farPlane);
		this.transform.on("worldmatrixneedchanged",this,this._onWorldMatrixChanged);
	}

	__class(Camera,'laya.d3.core.Camera',_super);
	var __proto=Camera.prototype;
	/**
	*@private
	*/
	__proto._calculationViewport=function(normalizedViewport,width,height){
		this._viewport.x=Math.min(Math.max(normalizedViewport.x *width,0),width);
		this._viewport.y=Math.min(Math.max(normalizedViewport.y *height,0),height);
		this._viewport.width=Math.min(Math.max(normalizedViewport.width *width,0),width);
		this._viewport.height=Math.min(Math.max(normalizedViewport.height *height,0),height);
	}

	/**
	*@private
	*/
	__proto._onWorldMatrixChanged=function(){
		this._boundFrustumUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		_super.prototype._parse.call(this,data,innerResouMap);
		var viewport=data.viewport;
		this.normalizedViewport=new Viewport(viewport[0],viewport[1],viewport[2],viewport[3]);
	}

	/**
	*@inheritDoc
	*/
	__proto._calculateProjectionMatrix=function(){
		if (!this._useUserProjectionMatrix){
			if (this._orthographic){
				var halfWidth=this.orthographicVerticalSize *this.aspectRatio *0.5;
				var halfHeight=this.orthographicVerticalSize *0.5;
				Matrix4x4.createOrthoOffCenterRH(-halfWidth,halfWidth,-halfHeight,halfHeight,this.nearPlane,this.farPlane,this._projectionMatrix);
				}else {
				Matrix4x4.createPerspective(3.1416 *this.fieldOfView / 180.0,this.aspectRatio,this.nearPlane,this.farPlane,this._projectionMatrix);
			}
		}
		this._boundFrustumUpdate=true;
	}

	/**
	*@inheritDoc
	*/
	__proto._render=function(gl,context,scene){
		if (scene.parallelSplitShadowMaps[0]){
			var parallelSplitShadowMap=scene.parallelSplitShadowMaps[0];
			parallelSplitShadowMap._calcAllLightCameraInfo(this);
			scene._defineDatas.add(Scene3D.SHADERDEFINE_CAST_SHADOW);
			for (var i=0,n=parallelSplitShadowMap.shadowMapCount;i < n;i++){
				var smCamera=parallelSplitShadowMap.cameras[i];
				context.camera=smCamera;
				context.projectionViewMatrix=smCamera.projectionViewMatrix;
				var scene=context.scene;
				FrustumCulling.renderObjectCulling(smCamera.boundFrustum,scene,context,scene._castShadowRenderObjects,scene._castShadowRendersLength);
				var shadowMap=parallelSplitShadowMap.cameras[i+1].renderTarget;
				shadowMap.start();
				context.camera=smCamera;
				context.viewport=smCamera.viewport;
				smCamera._prepareCameraToRender();
				smCamera._prepareCameraViewProject(smCamera.viewMatrix,smCamera.projectionMatrix,smCamera._projectionViewMatrixNoTranslateScale);
				scene._clear(gl,context);
				var queue=scene._opaqueQueue;
				queue._render(context,false);
				shadowMap.end();
			}
			scene._defineDatas.remove(Scene3D.SHADERDEFINE_CAST_SHADOW);
		}
		context.camera=this;
		scene._preRenderScript();
		var viewMat,projectMat;
		viewMat=context.viewMatrix=this.viewMatrix;
		var renderTar=this._renderTarget;
		if (renderTar){
			renderTar.start();
			Matrix4x4.multiply(BaseCamera._invertYScaleMatrix,this._projectionMatrix,BaseCamera._invertYProjectionMatrix);
			Matrix4x4.multiply(BaseCamera._invertYScaleMatrix,this.projectionViewMatrix,BaseCamera._invertYProjectionViewMatrix);
			projectMat=context.projectionMatrix=BaseCamera._invertYProjectionMatrix;
			context.projectionViewMatrix=BaseCamera._invertYProjectionViewMatrix;
			}else {
			projectMat=context.projectionMatrix=this._projectionMatrix;
			context.projectionViewMatrix=this.projectionViewMatrix;
		}
		context.viewport=this.viewport;
		this._prepareCameraToRender();
		this._prepareCameraViewProject(viewMat,projectMat,this._projectionViewMatrixNoTranslateScale);
		scene._preCulling(context,this);
		scene._clear(gl,context);
		scene._renderScene(gl,context);
		scene._postRenderScript();
		(renderTar)&& (renderTar.end());
	}

	/**
	*计算从屏幕空间生成的射线。
	*@param point 屏幕空间的位置位置。
	*@return out 输出射线。
	*/
	__proto.viewportPointToRay=function(point,out){
		Picker.calculateCursorRay(point,this.viewport,this._projectionMatrix,this.viewMatrix,null,out);
	}

	/**
	*计算从裁切空间生成的射线。
	*@param point 裁切空间的位置。。
	*@return out 输出射线。
	*/
	__proto.normalizedViewportPointToRay=function(point,out){
		var finalPoint=Camera._tempVector20;
		var vp=this.viewport;
		var nVpPosE=point.elements;
		var vpPosE=finalPoint.elements;
		vpPosE[0]=nVpPosE[0] *vp.width;
		vpPosE[1]=nVpPosE[1] *vp.height;
		Picker.calculateCursorRay(finalPoint,this.viewport,this._projectionMatrix,this.viewMatrix,null,out);
	}

	/**
	*计算从世界空间准换三维坐标到屏幕空间。
	*@param position 世界空间的位置。
	*@return out 输出位置。
	*/
	__proto.worldToViewportPoint=function(position,out){
		Matrix4x4.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix);
		this.viewport.project(position,this._projectionViewMatrix,out);
		var outE=out.elements;
		outE[0]=outE[0] / Laya.stage.clientScaleX;
		outE[1]=outE[1] / Laya.stage.clientScaleY;
	}

	/**
	*计算从世界空间准换三维坐标到裁切空间。
	*@param position 世界空间的位置。
	*@return out 输出位置。
	*/
	__proto.worldToNormalizedViewportPoint=function(position,out){
		Matrix4x4.multiply(this._projectionMatrix,this._viewMatrix,this._projectionViewMatrix);
		this.normalizedViewport.project(position,this._projectionViewMatrix,out);
		var outE=out.elements;
		outE[0]=outE[0] / Laya.stage.clientScaleX;
		outE[1]=outE[1] / Laya.stage.clientScaleY;
	}

	/**
	*转换2D屏幕坐标系统到3D正交投影下的坐标系统，注:只有正交模型下有效。
	*@param source 源坐标。
	*@param out 输出坐标。
	*@return 是否转换成功。
	*/
	__proto.convertScreenCoordToOrthographicCoord=function(source,out){
		if (this._orthographic){
			var clientWidth=RenderContext3D.clientWidth;
			var clientHeight=RenderContext3D.clientHeight;
			var ratioX=this.orthographicVerticalSize *this.aspectRatio / clientWidth;
			var ratioY=this.orthographicVerticalSize / clientHeight;
			var sE=source.elements;
			var oE=out.elements;
			oE[0]=(-clientWidth / 2+sE[0])*ratioX;
			oE[1]=(clientHeight / 2-sE[1])*ratioY;
			oE[2]=(this.nearPlane-this.farPlane)*(sE[2]+1)/ 2-this.nearPlane;
			Vector3.transformCoordinate(out,this.transform.worldMatrix,out);
			return true;
			}else {
			return false;
		}
	}

	/**
	*获取视图投影矩阵。
	*@return 视图投影矩阵。
	*/
	__getset(0,__proto,'projectionViewMatrix',function(){
		Matrix4x4.multiply(this.projectionMatrix,this.viewMatrix,this._projectionViewMatrix);
		return this._projectionViewMatrix;
	});

	/**
	*设置横纵比。
	*@param value 横纵比。
	*/
	/**
	*获取横纵比。
	*@return 横纵比。
	*/
	__getset(0,__proto,'aspectRatio',function(){
		if (this._aspectRatio===0){
			var vp=this.viewport;
			return vp.width / vp.height;
		}
		return this._aspectRatio;
		},function(value){
		if (value < 0)
			throw new Error("Camera: the aspect ratio has to be a positive real number.");
		this._aspectRatio=value;
		this._calculateProjectionMatrix();
	});

	/**
	*获取摄像机视锥。
	*/
	__getset(0,__proto,'boundFrustum',function(){
		if (this._boundFrustumUpdate){
			this._boundFrustum.matrix=this.projectionViewMatrix;
			if (Render.isConchApp){
				var near=this._boundFrustum.near;
				var far=this._boundFrustum.far;
				var left=this._boundFrustum.left;
				var right=this._boundFrustum.right;
				var top=this._boundFrustum.top;
				var bottom=this._boundFrustum.bottom;
				var nearNE=near.normal.elements;
				var farNE=far.normal.elements;
				var leftNE=left.normal.elements;
				var rightNE=right.normal.elements;
				var topNE=top.normal.elements;
				var bottomNE=bottom.normal.elements;
				var buffer=this._boundFrustumBuffer;
				buffer[0]=nearNE[0],buffer[1]=nearNE[1],buffer[2]=nearNE[2],buffer[3]=near.distance;
				buffer[4]=farNE[0],buffer[5]=farNE[1],buffer[6]=farNE[2],buffer[7]=far.distance;
				buffer[8]=leftNE[0],buffer[9]=leftNE[1],buffer[10]=leftNE[2],buffer[11]=left.distance;
				buffer[12]=rightNE[0],buffer[13]=rightNE[1],buffer[14]=rightNE[2],buffer[15]=right.distance;
				buffer[16]=topNE[0],buffer[17]=topNE[1],buffer[18]=topNE[2],buffer[19]=top.distance;
				buffer[20]=bottomNE[0],buffer[21]=bottomNE[1],buffer[22]=bottomNE[2],buffer[23]=bottom.distance;
			}
		}
		return this._boundFrustum;
	});

	/**
	*设置屏幕空间的视口。
	*@param 屏幕空间的视口。
	*/
	/**
	*获取屏幕空间的视口。
	*@return 屏幕空间的视口。
	*/
	__getset(0,__proto,'viewport',function(){
		var width=0;
		var height=0;
		if (this._renderTarget){
			width=this._renderTarget.width;
			height=this._renderTarget.height;
			}else {
			width=RenderContext3D.clientWidth;
			height=RenderContext3D.clientHeight;
		}
		if (width!==this._canvasWidth || height!==this._canvasHeight){
			this._calculationViewport(this._normalizedViewport,width,height);
			this._canvasWidth=width;
			this._canvasHeight=height;
		}
		return this._viewport;
		},function(value){
		var width=0;
		var height=0;
		if (this._renderTarget){
			width=this._canvasWidth=this._renderTarget.width;
			height=this._canvasHeight=this._renderTarget.height;
			}else {
			width=this._canvasWidth=RenderContext3D.clientWidth;
			height=this._canvasHeight=RenderContext3D.clientHeight;
		}
		this._normalizedViewport.x=value.x / width;
		this._normalizedViewport.y=value.y / height;
		this._normalizedViewport.width=value.width / width;
		this._normalizedViewport.height=value.height / height;
		this._calculationViewport(this._normalizedViewport,width,height);
		this._calculateProjectionMatrix();
	});

	/**
	*设置裁剪空间的视口。
	*@return 裁剪空间的视口。
	*/
	/**
	*获取裁剪空间的视口。
	*@return 裁剪空间的视口。
	*/
	__getset(0,__proto,'normalizedViewport',function(){
		return this._normalizedViewport;
		},function(value){
		var width=0;
		var height=0;
		if (this._renderTarget){
			width=this._canvasWidth=this._renderTarget.width;
			height=this._canvasHeight=this._renderTarget.height;
			}else {
			width=this._canvasWidth=RenderContext3D.clientWidth;
			height=this._canvasHeight=RenderContext3D.clientHeight;
		}
		this._normalizedViewport=value;
		this._calculationViewport(value,width,height);
		this._calculateProjectionMatrix();
	});

	/**设置投影矩阵。*/
	/**获取投影矩阵。*/
	__getset(0,__proto,'projectionMatrix',function(){
		return this._projectionMatrix;
		},function(value){
		this._projectionMatrix=value;
		this._useUserProjectionMatrix=true;
	});

	/**
	*获取视图矩阵。
	*@return 视图矩阵。
	*/
	__getset(0,__proto,'viewMatrix',function(){
		this.transform.worldMatrix.invert(this._viewMatrix);
		return this._viewMatrix;
	});

	__static(Camera,
	['_tempVector20',function(){return this._tempVector20=new Vector2();}
	]);
	return Camera;
})(BaseCamera)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/light/DirectionLight.as=======95.998935/95.998935
/**
*<code>DirectionLight</code> 类用于创建平行光。
*/
//class laya.d3.core.light.DirectionLight extends laya.d3.core.light.LightSprite
var DirectionLight=(function(_super){
	function DirectionLight(){
		/**@private */
		this._direction=null;
		DirectionLight.__super.call(this);
		this._direction=new Vector3();
	}

	__class(DirectionLight,'laya.d3.core.light.DirectionLight',_super);
	var __proto=DirectionLight.prototype;
	/**
	*@private
	*/
	__proto._initShadow=function(){
		if (this._shadow){
			this._parallelSplitShadowMap=new ParallelSplitShadowMap();
			this.scene.parallelSplitShadowMaps.push(this._parallelSplitShadowMap);
			this.transform.worldMatrix.getForward(this._direction);
			Vector3.normalize(this._direction,this._direction);
			this._parallelSplitShadowMap.setInfo(this.scene,this._shadowFarPlane,this._direction,this._shadowMapSize,this._shadowMapCount,this._shadowMapPCFType);
			}else {
			var defineDatas=this._scene._defineDatas;
			var parallelSplitShadowMaps=this.scene.parallelSplitShadowMaps;
			parallelSplitShadowMaps.splice(parallelSplitShadowMaps.indexOf(this._parallelSplitShadowMap),1);
			this._parallelSplitShadowMap.disposeAllRenderTarget();
			this._parallelSplitShadowMap=null;
			defineDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM1);
			defineDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM2);
			defineDatas.remove(Scene3D.SHADERDEFINE_SHADOW_PSSM3);
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._onActive=function(){
		_super.prototype._onActive.call(this);
		this._shadow && (this._initShadow());
	}

	/**
	*@inheritDoc
	*/
	__proto._onInActive=function(){
		var shaderValue=this._scene._shaderValues;;
		this._scene._defineDatas.remove(Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
	}

	/**
	*更新平行光相关渲染状态参数。
	*@param state 渲染状态参数。
	*/
	__proto._prepareToScene=function(state){
		var scene=state.scene;
		if (scene.enableLight && this._activeInHierarchy){
			var defineDatas=scene._defineDatas;
			var shaderValue=scene._shaderValues;
			defineDatas.add(Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			Vector3.scale(this.color,this._intensity,this._intensityColor);
			shaderValue.setVector(4,this._intensityColor);
			this.transform.worldMatrix.getForward(this._direction);
			Vector3.normalize(this._direction,this._direction);
			shaderValue.setVector(3,this._direction);
			return true;
			}else {
			defineDatas.remove(Scene3D.SHADERDEFINE_DIRECTIONLIGHT);
			return false;
		}
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'shadow',_super.prototype._$get_shadow,function(value){
		if (this._shadow!==value){
			this._shadow=value;
			(this.scene)&& (this._initShadow());
		}
	});

	return DirectionLight;
})(LightSprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/light/PointLight.as=======95.998933/95.998933
/**
*<code>PointLight</code> 类用于创建点光。
*/
//class laya.d3.core.light.PointLight extends laya.d3.core.light.LightSprite
var PointLight=(function(_super){
	function PointLight(){
		/**@private */
		this._range=NaN;
		/**@private */
		this._attenuation=null;
		PointLight.__super.call(this);
		this._range=6.0;
		this._attenuation=new Vector3(0.6,0.6,0.6);
	}

	__class(PointLight,'laya.d3.core.light.PointLight',_super);
	var __proto=PointLight.prototype;
	/**
	*@inheritDoc
	*/
	__proto._onInActive=function(){
		var scene=this.scene;
		var shaderValue=scene._shaderValues;
		scene.removeShaderDefine(Scene3D.SHADERDEFINE_POINTLIGHT);
	}

	/**
	*更新点光相关渲染状态参数。
	*@param state 渲染状态参数。
	*/
	__proto._prepareToScene=function(state){
		var scene=state.scene;
		if (scene.enableLight && this._activeInHierarchy){
			var defineDatas=scene._defineDatas;
			var shaderValue=scene._shaderValues;
			defineDatas.add(Scene3D.SHADERDEFINE_POINTLIGHT);
			Vector3.scale(this.color,this._intensity,this._intensityColor);
			shaderValue.setVector(8,this._intensityColor);
			shaderValue.setVector(5,this.transform.position);
			shaderValue.setNumber(6,this.range);
			shaderValue.setVector(7,this.attenuation);
			return true;
			}else {
			scene.removeShaderDefine(Scene3D.SHADERDEFINE_POINTLIGHT);
			return false;
		}
	}

	/**
	*设置点光的范围。
	*@param value 点光的范围。
	*/
	/**
	*获取点光的范围。
	*@return 点光的范围。
	*/
	__getset(0,__proto,'range',function(){
		return this._range;
		},function(value){
		this._range=value;
	});

	/**
	*设置点光的衰减。
	*@param value 点光的衰减。
	*/
	/**
	*获取点光的衰减。
	*@return 点光的衰减。
	*/
	__getset(0,__proto,'attenuation',function(){
		return this._attenuation;
		},function(value){
		this._attenuation=value;
	});

	return PointLight;
})(LightSprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/MeshSprite3D.as=======95.998899/95.998899
/**
*<code>MeshSprite3D</code> 类用于创建网格。
*/
//class laya.d3.core.MeshSprite3D extends laya.d3.core.RenderableSprite3D
var MeshSprite3D=(function(_super){
	function MeshSprite3D(mesh,name){
		/**@private */
		//this._meshFilter=null;
		MeshSprite3D.__super.call(this,name);
		this._meshFilter=new MeshFilter(this);
		this._render=new MeshRender(this,4);
		(mesh)&& (this._meshFilter.sharedMesh=mesh);
	}

	__class(MeshSprite3D,'laya.d3.core.MeshSprite3D',_super);
	var __proto=MeshSprite3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		laya.d3.core.Sprite3D.prototype._parse.call(this,data,innerResouMap);
		var render=this.meshRender;
		var lightmapIndex=data.lightmapIndex;
		(lightmapIndex !=null)&& (render.lightmapIndex=lightmapIndex);
		var lightmapScaleOffsetArray=data.lightmapScaleOffset;
		(lightmapScaleOffsetArray)&& (render.lightmapScaleOffset=new Vector4(lightmapScaleOffsetArray[0],lightmapScaleOffsetArray[1],lightmapScaleOffsetArray[2],lightmapScaleOffsetArray[3]));
		var meshPath,mesh;
		meshPath=data.meshPath;
		if (meshPath){
			mesh=Loader.getRes(innerResouMap[meshPath]);
			this.meshFilter.sharedMesh=mesh;
		};
		var materials=data.materials;
		if (materials){
			var sharedMaterials=render.sharedMaterials;
			var materialCount=materials.length;
			sharedMaterials.length=materialCount;
			for (var i=0;i < materialCount;i++)
			sharedMaterials[i]=Loader.getRes(innerResouMap[materials[i].path]);
			render.sharedMaterials=sharedMaterials;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._addToInitStaticBatchManager=function(){
		MeshRenderStaticBatchManager.instance._addBatchSprite(this);
	}

	/**
	*@inheritDoc
	*/
	__proto.cloneTo=function(destObject){
		var meshSprite3D=destObject;
		meshSprite3D._meshFilter.sharedMesh=this._meshFilter.sharedMesh;
		var meshRender=this._render;
		var destMeshRender=meshSprite3D._render;
		destMeshRender.enable=meshRender.enable;
		destMeshRender.sharedMaterials=meshRender.sharedMaterials;
		destMeshRender._castShadow=meshRender._castShadow;
		var lightmapScaleOffset=meshRender.lightmapScaleOffset;
		lightmapScaleOffset && (destMeshRender.lightmapScaleOffset=lightmapScaleOffset.clone());
		destMeshRender.lightmapIndex=meshRender.lightmapIndex;
		destMeshRender.receiveShadow=meshRender.receiveShadow;
		destMeshRender.sortingFudge=meshRender.sortingFudge;
		laya.d3.core.Sprite3D.prototype.cloneTo.call(this,destObject);
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._meshFilter.destroy();
	}

	/**
	*获取网格过滤器。
	*@return 网格过滤器。
	*/
	__getset(0,__proto,'meshFilter',function(){
		return this._meshFilter;
	});

	/**
	*获取网格渲染器。
	*@return 网格渲染器。
	*/
	__getset(0,__proto,'meshRender',function(){
		return this._render;
	});

	MeshSprite3D.__init__=function(){
		StaticBatchManager._registerManager(MeshRenderStaticBatchManager.instance);
		DynamicBatchManager._registerManager(MeshRenderDynamicBatchManager.instance);
	}

	MeshSprite3D.load=function(url){
		return Laya.loader.create(url,null,null,MeshSprite3D);
	}

	return MeshSprite3D;
})(RenderableSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/particleShuriKen/ShuriKenParticle3D.as=======95.998872/95.998872
/**
*<code>ShuriKenParticle3D</code> 3D粒子。
*/
//class laya.d3.core.particleShuriKen.ShuriKenParticle3D extends laya.d3.core.RenderableSprite3D
var ShuriKenParticle3D=(function(_super){
	function ShuriKenParticle3D(){
		/**@private */
		//this._particleSystem=null;
		ShuriKenParticle3D.__super.call(this,null);
		this._render=new ShurikenParticleRender(this,52);
		this._particleSystem=new ShurikenParticleSystem(this);
		var elements=this._render._renderElements;
		var element=elements[0]=new RenderElement();
		element.setTransform(this._transform);
		element.render=this._render;
		element.setGeometry(this._particleSystem);
		element.material=ShurikenParticleMaterial.defaultMaterial;
	}

	__class(ShuriKenParticle3D,'laya.d3.core.particleShuriKen.ShuriKenParticle3D',_super);
	var __proto=ShuriKenParticle3D.prototype;
	/**
	*@private
	*/
	__proto._initParticleVelocity=function(gradientData){
		var gradient=new GradientDataNumber();
		var velocitysData=gradientData.velocitys;
		for (var i=0,n=velocitysData.length;i < n;i++){
			var valueData=velocitysData[i];
			gradient.add(valueData.key,valueData.value);
		}
		return gradient;
	}

	/**
	*@private
	*/
	__proto._initParticleColor=function(gradientColorData){
		var gradientColor=new GradientDataColor();
		var alphasData=gradientColorData.alphas;
		var i=0,n=0;
		for (i=0,n=alphasData.length;i < n;i++){
			var alphaData=alphasData[i];
			gradientColor.addAlpha(alphaData.key,alphaData.value);
		};
		var rgbsData=gradientColorData.rgbs;
		for (i=0,n=rgbsData.length;i < n;i++){
			var rgbData=rgbsData[i];
			var rgbValue=rgbData.value;
			gradientColor.addRGB(rgbData.key,new Vector3(rgbValue[0],rgbValue[1],rgbValue[2]));
		}
		return gradientColor;
	}

	/**
	*@private
	*/
	__proto._initParticleSize=function(gradientSizeData){
		var gradientSize=new GradientDataNumber();
		var sizesData=gradientSizeData.sizes;
		for (var i=0,n=sizesData.length;i < n;i++){
			var valueData=sizesData[i];
			gradientSize.add(valueData.key,valueData.value);
		}
		return gradientSize;
	}

	/**
	*@private
	*/
	__proto._initParticleRotation=function(gradientData){
		var gradient=new GradientDataNumber();
		var angularVelocitysData=gradientData.angularVelocitys;
		for (var i=0,n=angularVelocitysData.length;i < n;i++){
			var valueData=angularVelocitysData[i];
			gradient.add(valueData.key,valueData.value / 180.0 *Math.PI);
		}
		return gradient;
	}

	/**
	*@private
	*/
	__proto._initParticleFrame=function(overTimeFramesData){
		var overTimeFrame=new GradientDataInt();
		var framesData=overTimeFramesData.frames;
		for (var i=0,n=framesData.length;i < n;i++){
			var frameData=framesData[i];
			overTimeFrame.add(frameData.key,frameData.value);
		}
		return overTimeFrame;
	}

	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		laya.d3.core.Sprite3D.prototype._parse.call(this,data,innerResouMap);
		var anglelToRad=Math.PI / 180.0;
		var i=0,n=0;
		var particleRender=this.particleRender;
		var material;
		var materialData=data.material;
		material=Loader.getRes(innerResouMap[materialData.path]);
		particleRender.sharedMaterial=material;
		var meshPath=data.meshPath;
		(meshPath)&& (particleRender.mesh=Loader.getRes(innerResouMap[meshPath]));
		particleRender.renderMode=data.renderMode;
		particleRender.stretchedBillboardCameraSpeedScale=data.stretchedBillboardCameraSpeedScale;
		particleRender.stretchedBillboardSpeedScale=data.stretchedBillboardSpeedScale;
		particleRender.stretchedBillboardLengthScale=data.stretchedBillboardLengthScale;
		particleRender.sortingFudge=data.sortingFudge ? data.sortingFudge :0.0;
		var particleSystem=this.particleSystem;
		particleSystem.isPerformanceMode=data.isPerformanceMode;
		particleSystem.duration=data.duration;
		particleSystem.looping=data.looping;
		particleSystem.prewarm=data.prewarm;
		particleSystem.startDelayType=data.startDelayType;
		particleSystem.startDelay=data.startDelay;
		particleSystem.startDelayMin=data.startDelayMin;
		particleSystem.startDelayMax=data.startDelayMax;
		particleSystem.startLifetimeType=data.startLifetimeType;
		particleSystem.startLifetimeConstant=data.startLifetimeConstant;
		particleSystem.startLifeTimeGradient=ShuriKenParticle3D._initStartLife(data.startLifetimeGradient);
		particleSystem.startLifetimeConstantMin=data.startLifetimeConstantMin;
		particleSystem.startLifetimeConstantMax=data.startLifetimeConstantMax;
		particleSystem.startLifeTimeGradientMin=ShuriKenParticle3D._initStartLife(data.startLifetimeGradientMin);
		particleSystem.startLifeTimeGradientMax=ShuriKenParticle3D._initStartLife(data.startLifetimeGradientMax);
		particleSystem.startSpeedType=data.startSpeedType;
		particleSystem.startSpeedConstant=data.startSpeedConstant;
		particleSystem.startSpeedConstantMin=data.startSpeedConstantMin;
		particleSystem.startSpeedConstantMax=data.startSpeedConstantMax;
		particleSystem.threeDStartSize=data.threeDStartSize;
		particleSystem.startSizeType=data.startSizeType;
		particleSystem.startSizeConstant=data.startSizeConstant;
		var startSizeConstantSeparateArray=data.startSizeConstantSeparate;
		var startSizeConstantSeparateElement=particleSystem.startSizeConstantSeparate.elements;
		startSizeConstantSeparateElement[0]=startSizeConstantSeparateArray[0];
		startSizeConstantSeparateElement[1]=startSizeConstantSeparateArray[1];
		startSizeConstantSeparateElement[2]=startSizeConstantSeparateArray[2];
		particleSystem.startSizeConstantMin=data.startSizeConstantMin;
		particleSystem.startSizeConstantMax=data.startSizeConstantMax;
		var startSizeConstantMinSeparateArray=data.startSizeConstantMinSeparate;
		var startSizeConstantMinSeparateElement=particleSystem.startSizeConstantMinSeparate.elements;
		startSizeConstantMinSeparateElement[0]=startSizeConstantMinSeparateArray[0];
		startSizeConstantMinSeparateElement[1]=startSizeConstantMinSeparateArray[1];
		startSizeConstantMinSeparateElement[2]=startSizeConstantMinSeparateArray[2];
		var startSizeConstantMaxSeparateArray=data.startSizeConstantMaxSeparate;
		var startSizeConstantMaxSeparateElement=particleSystem.startSizeConstantMaxSeparate.elements;
		startSizeConstantMaxSeparateElement[0]=startSizeConstantMaxSeparateArray[0];
		startSizeConstantMaxSeparateElement[1]=startSizeConstantMaxSeparateArray[1];
		startSizeConstantMaxSeparateElement[2]=startSizeConstantMaxSeparateArray[2];
		particleSystem.threeDStartRotation=data.threeDStartRotation;
		particleSystem.startRotationType=data.startRotationType;
		particleSystem.startRotationConstant=data.startRotationConstant *anglelToRad;
		var startRotationConstantSeparateArray=data.startRotationConstantSeparate;
		var startRotationConstantSeparateElement=particleSystem.startRotationConstantSeparate.elements;
		startRotationConstantSeparateElement[0]=startRotationConstantSeparateArray[0] *anglelToRad;
		startRotationConstantSeparateElement[1]=startRotationConstantSeparateArray[1] *anglelToRad;
		startRotationConstantSeparateElement[2]=startRotationConstantSeparateArray[2] *anglelToRad;
		particleSystem.startRotationConstantMin=data.startRotationConstantMin *anglelToRad;
		particleSystem.startRotationConstantMax=data.startRotationConstantMax *anglelToRad;
		var startRotationConstantMinSeparateArray=data.startRotationConstantMinSeparate;
		var startRotationConstantMinSeparateElement=particleSystem.startRotationConstantMinSeparate.elements;
		startRotationConstantMinSeparateElement[0]=startRotationConstantMinSeparateArray[0] *anglelToRad;
		startRotationConstantMinSeparateElement[1]=startRotationConstantMinSeparateArray[1] *anglelToRad;
		startRotationConstantMinSeparateElement[2]=startRotationConstantMinSeparateArray[2] *anglelToRad;
		var startRotationConstantMaxSeparateArray=data.startRotationConstantMaxSeparate;
		var startRotationConstantMaxSeparateElement=particleSystem.startRotationConstantMaxSeparate.elements;
		startRotationConstantMaxSeparateElement[0]=startRotationConstantMaxSeparateArray[0] *anglelToRad;
		startRotationConstantMaxSeparateElement[1]=startRotationConstantMaxSeparateArray[1] *anglelToRad;
		startRotationConstantMaxSeparateElement[2]=startRotationConstantMaxSeparateArray[2] *anglelToRad;
		particleSystem.randomizeRotationDirection=data.randomizeRotationDirection;
		particleSystem.startColorType=data.startColorType;
		var startColorConstantArray=data.startColorConstant;
		var startColorConstantElement=particleSystem.startColorConstant.elements;
		startColorConstantElement[0]=startColorConstantArray[0];
		startColorConstantElement[1]=startColorConstantArray[1];
		startColorConstantElement[2]=startColorConstantArray[2];
		startColorConstantElement[3]=startColorConstantArray[3];
		var startColorConstantMinArray=data.startColorConstantMin;
		var startColorConstantMinElement=particleSystem.startColorConstantMin.elements;
		startColorConstantMinElement[0]=startColorConstantMinArray[0];
		startColorConstantMinElement[1]=startColorConstantMinArray[1];
		startColorConstantMinElement[2]=startColorConstantMinArray[2];
		startColorConstantMinElement[3]=startColorConstantMinArray[3];
		var startColorConstantMaxArray=data.startColorConstantMax;
		var startColorConstantMaxElement=particleSystem.startColorConstantMax.elements;
		startColorConstantMaxElement[0]=startColorConstantMaxArray[0];
		startColorConstantMaxElement[1]=startColorConstantMaxArray[1];
		startColorConstantMaxElement[2]=startColorConstantMaxArray[2];
		startColorConstantMaxElement[3]=startColorConstantMaxArray[3];
		particleSystem.gravityModifier=data.gravityModifier;
		particleSystem.simulationSpace=data.simulationSpace;
		particleSystem.scaleMode=data.scaleMode;
		particleSystem.playOnAwake=data.playOnAwake;
		particleSystem.maxParticles=data.maxParticles;
		var autoRandomSeed=data.autoRandomSeed;
		(autoRandomSeed !=null)&& (particleSystem.autoRandomSeed=autoRandomSeed);
		var randomSeed=data.randomSeed;
		(randomSeed !=null)&& (particleSystem.randomSeed[0]=randomSeed);
		var emissionData=data.emission;
		var emission=particleSystem.emission;
		if (emissionData){
			emission.emissionRate=emissionData.emissionRate;
			var burstsData=emissionData.bursts;
			if (burstsData)
				for (i=0,n=burstsData.length;i < n;i++){
				var brust=burstsData[i];
				emission.addBurst(new Burst(brust.time,brust.min,brust.max));
			}
			emission.enbale=emissionData.enable;
			}else {
			emission.enbale=false;
		};
		var shapeData=data.shape;
		if (shapeData){
			var shape;
			switch (shapeData.shapeType){
				case 0:;
					var sphereShape;
					shape=sphereShape=new SphereShape();
					sphereShape.radius=shapeData.sphereRadius;
					sphereShape.emitFromShell=shapeData.sphereEmitFromShell;
					sphereShape.randomDirection=shapeData.sphereRandomDirection;
					break ;
				case 1:;
					var hemiSphereShape;
					shape=hemiSphereShape=new HemisphereShape();
					hemiSphereShape.radius=shapeData.hemiSphereRadius;
					hemiSphereShape.emitFromShell=shapeData.hemiSphereEmitFromShell;
					hemiSphereShape.randomDirection=shapeData.hemiSphereRandomDirection;
					break ;
				case 2:;
					var coneShape;
					shape=coneShape=new ConeShape();
					coneShape.angle=shapeData.coneAngle *anglelToRad;
					coneShape.radius=shapeData.coneRadius;
					coneShape.length=shapeData.coneLength;
					coneShape.emitType=shapeData.coneEmitType;
					coneShape.randomDirection=shapeData.coneRandomDirection;
					break ;
				case 3:;
					var boxShape;
					shape=boxShape=new BoxShape();
					boxShape.x=shapeData.boxX;
					boxShape.y=shapeData.boxY;
					boxShape.z=shapeData.boxZ;
					boxShape.randomDirection=shapeData.boxRandomDirection;
					break ;
				case 7:;
					var circleShape;
					shape=circleShape=new CircleShape();
					circleShape.radius=shapeData.circleRadius;
					circleShape.arc=shapeData.circleArc *anglelToRad;
					circleShape.emitFromEdge=shapeData.circleEmitFromEdge;
					circleShape.randomDirection=shapeData.circleRandomDirection;
					break ;
				default :;
					var tempShape;
					shape=tempShape=new CircleShape();
					tempShape.radius=shapeData.circleRadius;
					tempShape.arc=shapeData.circleArc *anglelToRad;
					tempShape.emitFromEdge=shapeData.circleEmitFromEdge;
					tempShape.randomDirection=shapeData.circleRandomDirection;
					break ;
				}
			shape.enable=shapeData.enable;
			particleSystem.shape=shape;
		};
		var velocityOverLifetimeData=data.velocityOverLifetime;
		if (velocityOverLifetimeData){
			var velocityData=velocityOverLifetimeData.velocity;
			var velocity;
			switch (velocityData.type){
				case 0:;
					var constantData=velocityData.constant;
					velocity=GradientVelocity.createByConstant(new Vector3(constantData[0],constantData[1],constantData[2]));
					break ;
				case 1:
					velocity=GradientVelocity.createByGradient(this._initParticleVelocity(velocityData.gradientX),this._initParticleVelocity(velocityData.gradientY),this._initParticleVelocity(velocityData.gradientZ));
					break ;
				case 2:;
					var constantMinData=velocityData.constantMin;
					var constantMaxData=velocityData.constantMax;
					velocity=GradientVelocity.createByRandomTwoConstant(new Vector3(constantMinData[0],constantMinData[1],constantMinData[2]),new Vector3(constantMaxData[0],constantMaxData[1],constantMaxData[2]));
					break ;
				case 3:
					velocity=GradientVelocity.createByRandomTwoGradient(this._initParticleVelocity(velocityData.gradientXMin),this._initParticleVelocity(velocityData.gradientXMax),this._initParticleVelocity(velocityData.gradientYMin),this._initParticleVelocity(velocityData.gradientYMax),this._initParticleVelocity(velocityData.gradientZMin),this._initParticleVelocity(velocityData.gradientZMax));
					break ;
				};
			var velocityOverLifetime=new VelocityOverLifetime(velocity);
			velocityOverLifetime.space=velocityOverLifetimeData.space;
			velocityOverLifetime.enbale=velocityOverLifetimeData.enable;
			particleSystem.velocityOverLifetime=velocityOverLifetime;
		};
		var colorOverLifetimeData=data.colorOverLifetime;
		if (colorOverLifetimeData){
			var colorData=colorOverLifetimeData.color;
			var color;
			switch (colorData.type){
				case 0:;
					var constColorData=colorData.constant;
					color=GradientColor.createByConstant(new Vector4(constColorData[0],constColorData[1],constColorData[2],constColorData[3]));
					break ;
				case 1:
					color=GradientColor.createByGradient(this._initParticleColor(colorData.gradient));
					break ;
				case 2:;
					var minConstColorData=colorData.constantMin;
					var maxConstColorData=colorData.constantMax;
					color=GradientColor.createByRandomTwoConstant(new Vector4(minConstColorData[0],minConstColorData[1],minConstColorData[2],minConstColorData[3]),new Vector4(maxConstColorData[0],maxConstColorData[1],maxConstColorData[2],maxConstColorData[3]));
					break ;
				case 3:
					color=GradientColor.createByRandomTwoGradient(this._initParticleColor(colorData.gradientMin),this._initParticleColor(colorData.gradientMax));
					break ;
				};
			var colorOverLifetime=new ColorOverLifetime(color);
			colorOverLifetime.enbale=colorOverLifetimeData.enable;
			particleSystem.colorOverLifetime=colorOverLifetime;
		};
		var sizeOverLifetimeData=data.sizeOverLifetime;
		if (sizeOverLifetimeData){
			var sizeData=sizeOverLifetimeData.size;
			var size;
			switch (sizeData.type){
				case 0:
					if (sizeData.separateAxes){
						size=GradientSize.createByGradientSeparate(this._initParticleSize(sizeData.gradientX),this._initParticleSize(sizeData.gradientY),this._initParticleSize(sizeData.gradientZ));
						}else {
						size=GradientSize.createByGradient(this._initParticleSize(sizeData.gradient));
					}
					break ;
				case 1:
					if (sizeData.separateAxes){
						var constantMinSeparateData=sizeData.constantMinSeparate;
						var constantMaxSeparateData=sizeData.constantMaxSeparate;
						size=GradientSize.createByRandomTwoConstantSeparate(new Vector3(constantMinSeparateData[0],constantMinSeparateData[1],constantMinSeparateData[2]),new Vector3(constantMaxSeparateData[0],constantMaxSeparateData[1],constantMaxSeparateData[2]));
						}else {
						size=GradientSize.createByRandomTwoConstant(sizeData.constantMin,sizeData.constantMax);
					}
					break ;
				case 2:
					if (sizeData.separateAxes){
						size=GradientSize.createByRandomTwoGradientSeparate(this._initParticleSize(sizeData.gradientXMin),this._initParticleSize(sizeData.gradientYMin),this._initParticleSize(sizeData.gradientZMin),this._initParticleSize(sizeData.gradientXMax),this._initParticleSize(sizeData.gradientYMax),this._initParticleSize(sizeData.gradientZMax));
						}else {
						size=GradientSize.createByRandomTwoGradient(this._initParticleSize(sizeData.gradientMin),this._initParticleSize(sizeData.gradientMax));
					}
					break ;
				};
			var sizeOverLifetime=new SizeOverLifetime(size);
			sizeOverLifetime.enbale=sizeOverLifetimeData.enable;
			particleSystem.sizeOverLifetime=sizeOverLifetime;
		};
		var rotationOverLifetimeData=data.rotationOverLifetime;
		if (rotationOverLifetimeData){
			var angularVelocityData=rotationOverLifetimeData.angularVelocity;
			var angularVelocity;
			switch (angularVelocityData.type){
				case 0:
					if (angularVelocityData.separateAxes){
						}else {
						angularVelocity=GradientAngularVelocity.createByConstant(angularVelocityData.constant *anglelToRad);
					}
					break ;
				case 1:
					if (angularVelocityData.separateAxes){
						}else {
						angularVelocity=GradientAngularVelocity.createByGradient(this._initParticleRotation(angularVelocityData.gradient));
					}
					break ;
				case 2:
					if (angularVelocityData.separateAxes){
						var minSep=angularVelocityData.constantMinSeparate;
						var maxSep=angularVelocityData.constantMaxSeparate;
						angularVelocity=GradientAngularVelocity.createByRandomTwoConstantSeparate(new Vector3(minSep[0] *anglelToRad,minSep[1] *anglelToRad,minSep[2] *anglelToRad),new Vector3(maxSep[0] *anglelToRad,maxSep[1] *anglelToRad,maxSep[2] *anglelToRad));
						}else {
						angularVelocity=GradientAngularVelocity.createByRandomTwoConstant(angularVelocityData.constantMin *anglelToRad,angularVelocityData.constantMax *anglelToRad);
					}
					break ;
				case 3:
					if (angularVelocityData.separateAxes){
						}else {
						angularVelocity=GradientAngularVelocity.createByRandomTwoGradient(this._initParticleRotation(angularVelocityData.gradientMin),this._initParticleRotation(angularVelocityData.gradientMax));
					}
					break ;
				};
			var rotationOverLifetime=new RotationOverLifetime(angularVelocity);
			rotationOverLifetime.enbale=rotationOverLifetimeData.enable;
			particleSystem.rotationOverLifetime=rotationOverLifetime;
		};
		var textureSheetAnimationData=data.textureSheetAnimation;
		if (textureSheetAnimationData){
			var frameData=textureSheetAnimationData.frame;
			var frameOverTime;
			switch (frameData.type){
				case 0:
					frameOverTime=FrameOverTime.createByConstant(frameData.constant);
					break ;
				case 1:
					frameOverTime=FrameOverTime.createByOverTime(this._initParticleFrame(frameData.overTime));
					break ;
				case 2:
					frameOverTime=FrameOverTime.createByRandomTwoConstant(frameData.constantMin,frameData.constantMax);
					break ;
				case 3:
					frameOverTime=FrameOverTime.createByRandomTwoOverTime(this._initParticleFrame(frameData.overTimeMin),this._initParticleFrame(frameData.overTimeMax));
					break ;
				};
			var startFrameData=textureSheetAnimationData.startFrame;
			var startFrame;
			switch (startFrameData.type){
				case 0:
					startFrame=StartFrame.createByConstant(startFrameData.constant);
					break ;
				case 1:
					startFrame=StartFrame.createByRandomTwoConstant(startFrameData.constantMin,startFrameData.constantMax);
					break ;
				};
			var textureSheetAnimation=new TextureSheetAnimation(frameOverTime,startFrame);
			textureSheetAnimation.enable=textureSheetAnimationData.enable;
			var tilesData=textureSheetAnimationData.tiles;
			textureSheetAnimation.tiles=new Vector2(tilesData[0],tilesData[1]);
			textureSheetAnimation.type=textureSheetAnimationData.type;
			textureSheetAnimation.randomRow=textureSheetAnimationData.randomRow;
			var rowIndex=textureSheetAnimationData.rowIndex;
			(rowIndex!==undefined)&& (textureSheetAnimation.rowIndex=rowIndex);
			textureSheetAnimation.cycles=textureSheetAnimationData.cycles;
			particleSystem.textureSheetAnimation=textureSheetAnimation;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._activeHierarchy=function(){
		laya.display.Node.prototype._activeHierarchy.call(this);
		(this.particleSystem.playOnAwake)&& (this.particleSystem.play());
	}

	/**
	*@inheritDoc
	*/
	__proto._inActiveHierarchy=function(){
		laya.display.Node.prototype._inActiveHierarchy.call(this);
		(this.particleSystem.isAlive)&& (this.particleSystem.simulate(0,true));
	}

	/**
	*@private
	*/
	__proto.cloneTo=function(destObject){
		var destShuriKenParticle3D=destObject;
		var destParticleSystem=destShuriKenParticle3D._particleSystem;
		this._particleSystem.cloneTo(destParticleSystem);
		var destParticleRender=destShuriKenParticle3D._render;
		var particleRender=this._render;
		destParticleRender.sharedMaterials=particleRender.sharedMaterials;
		destParticleRender.enable=particleRender.enable;
		destParticleRender.renderMode=particleRender.renderMode;
		destParticleRender.mesh=particleRender.mesh;
		destParticleRender.stretchedBillboardCameraSpeedScale=particleRender.stretchedBillboardCameraSpeedScale;
		destParticleRender.stretchedBillboardSpeedScale=particleRender.stretchedBillboardSpeedScale;
		destParticleRender.stretchedBillboardLengthScale=particleRender.stretchedBillboardLengthScale;
		destParticleRender.sortingFudge=particleRender.sortingFudge;
		laya.d3.core.Sprite3D.prototype.cloneTo.call(this,destObject);
	}

	/**
	*<p>销毁此对象。</p>
	*@param destroyChild 是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._particleSystem.destroy();
		this._particleSystem=null;
	}

	/**
	*获取粒子系统。
	*@return 粒子系统。
	*/
	__getset(0,__proto,'particleSystem',function(){
		return this._particleSystem;
	});

	/**
	*获取粒子渲染器。
	*@return 粒子渲染器。
	*/
	__getset(0,__proto,'particleRender',function(){
		return this._render;
	});

	ShuriKenParticle3D.__init__=function(){
		ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_BILLBOARD=ShuriKenParticle3D.shaderDefines.registerDefine("SPHERHBILLBOARD");
		ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_STRETCHEDBILLBOARD=ShuriKenParticle3D.shaderDefines.registerDefine("STRETCHEDBILLBOARD");
		ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_HORIZONTALBILLBOARD=ShuriKenParticle3D.shaderDefines.registerDefine("HORIZONTALBILLBOARD");
		ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_VERTICALBILLBOARD=ShuriKenParticle3D.shaderDefines.registerDefine("VERTICALBILLBOARD");
		ShuriKenParticle3D.SHADERDEFINE_COLOROVERLIFETIME=ShuriKenParticle3D.shaderDefines.registerDefine("COLOROVERLIFETIME");
		ShuriKenParticle3D.SHADERDEFINE_RANDOMCOLOROVERLIFETIME=ShuriKenParticle3D.shaderDefines.registerDefine("RANDOMCOLOROVERLIFETIME");
		ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECONSTANT=ShuriKenParticle3D.shaderDefines.registerDefine("VELOCITYOVERLIFETIMECONSTANT");
		ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECURVE=ShuriKenParticle3D.shaderDefines.registerDefine("VELOCITYOVERLIFETIMECURVE");
		ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCONSTANT=ShuriKenParticle3D.shaderDefines.registerDefine("VELOCITYOVERLIFETIMERANDOMCONSTANT");
		ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCURVE=ShuriKenParticle3D.shaderDefines.registerDefine("VELOCITYOVERLIFETIMERANDOMCURVE");
		ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONCURVE=ShuriKenParticle3D.shaderDefines.registerDefine("TEXTURESHEETANIMATIONCURVE");
		ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONRANDOMCURVE=ShuriKenParticle3D.shaderDefines.registerDefine("TEXTURESHEETANIMATIONRANDOMCURVE");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIME=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIME");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMESEPERATE=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIMESEPERATE");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECONSTANT=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIMECONSTANT");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECURVE=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIMECURVE");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCONSTANTS=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIMERANDOMCURVES");
		ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCURVES=ShuriKenParticle3D.shaderDefines.registerDefine("ROTATIONOVERLIFETIMERANDOMCURVES");
		ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVE=ShuriKenParticle3D.shaderDefines.registerDefine("SIZEOVERLIFETIMECURVE");
		ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVESEPERATE=ShuriKenParticle3D.shaderDefines.registerDefine("SIZEOVERLIFETIMECURVESEPERATE");
		ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVES=ShuriKenParticle3D.shaderDefines.registerDefine("SIZEOVERLIFETIMERANDOMCURVES");
		ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVESSEPERATE=ShuriKenParticle3D.shaderDefines.registerDefine("SIZEOVERLIFETIMERANDOMCURVESSEPERATE");
		ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_MESH=ShuriKenParticle3D.shaderDefines.registerDefine("RENDERMODE_MESH");
		ShuriKenParticle3D.SHADERDEFINE_SHAPE=ShuriKenParticle3D.shaderDefines.registerDefine("SHAPE");
	}

	ShuriKenParticle3D.load=function(url){
		return Laya.loader.create(url,null,null,ShuriKenParticle3D);
	}

	ShuriKenParticle3D._initStartLife=function(gradientData){
		var gradient=new GradientDataNumber();
		var startLifetimesData=gradientData.startLifetimes;
		for (var i=0,n=startLifetimesData.length;i < n;i++){
			var valueData=startLifetimesData[i];
			gradient.add(valueData.key,valueData.value);
		}
		return gradient
	}

	ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_BILLBOARD=0;
	ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_STRETCHEDBILLBOARD=0;
	ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_HORIZONTALBILLBOARD=0;
	ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_VERTICALBILLBOARD=0;
	ShuriKenParticle3D.SHADERDEFINE_COLOROVERLIFETIME=0;
	ShuriKenParticle3D.SHADERDEFINE_RANDOMCOLOROVERLIFETIME=0;
	ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECONSTANT=0;
	ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMECURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCONSTANT=0;
	ShuriKenParticle3D.SHADERDEFINE_VELOCITYOVERLIFETIMERANDOMCURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONCURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_TEXTURESHEETANIMATIONRANDOMCURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIME=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMESEPERATE=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECONSTANT=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMECURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCONSTANTS=0;
	ShuriKenParticle3D.SHADERDEFINE_ROTATIONOVERLIFETIMERANDOMCURVES=0;
	ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVE=0;
	ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMECURVESEPERATE=0;
	ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVES=0;
	ShuriKenParticle3D.SHADERDEFINE_SIZEOVERLIFETIMERANDOMCURVESSEPERATE=0;
	ShuriKenParticle3D.SHADERDEFINE_RENDERMODE_MESH=0;
	ShuriKenParticle3D.SHADERDEFINE_SHAPE=0;
	ShuriKenParticle3D.WORLDPOSITION=0;
	ShuriKenParticle3D.WORLDROTATION=1;
	ShuriKenParticle3D.POSITIONSCALE=4;
	ShuriKenParticle3D.SIZESCALE=5;
	ShuriKenParticle3D.SCALINGMODE=6;
	ShuriKenParticle3D.GRAVITY=7;
	ShuriKenParticle3D.THREEDSTARTROTATION=8;
	ShuriKenParticle3D.STRETCHEDBILLBOARDLENGTHSCALE=9;
	ShuriKenParticle3D.STRETCHEDBILLBOARDSPEEDSCALE=10;
	ShuriKenParticle3D.SIMULATIONSPACE=11;
	ShuriKenParticle3D.CURRENTTIME=12;
	ShuriKenParticle3D.VOLVELOCITYCONST=13;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTX=14;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTY=15;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTZ=16;
	ShuriKenParticle3D.VOLVELOCITYCONSTMAX=17;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTXMAX=18;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTYMAX=19;
	ShuriKenParticle3D.VOLVELOCITYGRADIENTZMAX=20;
	ShuriKenParticle3D.VOLSPACETYPE=21;
	ShuriKenParticle3D.COLOROVERLIFEGRADIENTALPHAS=22;
	ShuriKenParticle3D.COLOROVERLIFEGRADIENTCOLORS=23;
	ShuriKenParticle3D.MAXCOLOROVERLIFEGRADIENTALPHAS=24;
	ShuriKenParticle3D.MAXCOLOROVERLIFEGRADIENTCOLORS=25;
	ShuriKenParticle3D.SOLSIZEGRADIENT=26;
	ShuriKenParticle3D.SOLSIZEGRADIENTX=27;
	ShuriKenParticle3D.SOLSIZEGRADIENTY=28;
	ShuriKenParticle3D.SOLSizeGradientZ=29;
	ShuriKenParticle3D.SOLSizeGradientMax=30;
	ShuriKenParticle3D.SOLSIZEGRADIENTXMAX=31;
	ShuriKenParticle3D.SOLSIZEGRADIENTYMAX=32;
	ShuriKenParticle3D.SOLSizeGradientZMAX=33;
	ShuriKenParticle3D.ROLANGULARVELOCITYCONST=34;
	ShuriKenParticle3D.ROLANGULARVELOCITYCONSTSEPRARATE=35;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENT=36;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTX=37;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTY=38;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTZ=39;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTW=40;
	ShuriKenParticle3D.ROLANGULARVELOCITYCONSTMAX=41;
	ShuriKenParticle3D.ROLANGULARVELOCITYCONSTMAXSEPRARATE=42;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTMAX=43;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTXMAX=44;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTYMAX=45;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTZMAX=46;
	ShuriKenParticle3D.ROLANGULARVELOCITYGRADIENTWMAX=47;
	ShuriKenParticle3D.TEXTURESHEETANIMATIONCYCLES=48;
	ShuriKenParticle3D.TEXTURESHEETANIMATIONSUBUVLENGTH=49;
	ShuriKenParticle3D.TEXTURESHEETANIMATIONGRADIENTUVS=50;
	ShuriKenParticle3D.TEXTURESHEETANIMATIONGRADIENTMAXUVS=51;
	__static(ShuriKenParticle3D,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(RenderableSprite3D.shaderDefines);}
	]);
	return ShuriKenParticle3D;
})(RenderableSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/SkinnedMeshSprite3D.as=======95.998858/95.998858
/**
*<code>SkinnedMeshSprite3D</code> 类用于创建网格。
*/
//class laya.d3.core.SkinnedMeshSprite3D extends laya.d3.core.RenderableSprite3D
var SkinnedMeshSprite3D=(function(_super){
	function SkinnedMeshSprite3D(mesh,name){
		/**@private */
		this._subMeshOffset=null;
		/**@private */
		this._meshFilter=null;
		SkinnedMeshSprite3D.__super.call(this,name);
		this._subMeshOffset=[];
		this._meshFilter=new MeshFilter(this);
		this._render=new SkinnedMeshRender(this,4);
		(mesh)&& (this._meshFilter.sharedMesh=mesh);
	}

	__class(SkinnedMeshSprite3D,'laya.d3.core.SkinnedMeshSprite3D',_super);
	var __proto=SkinnedMeshSprite3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		laya.d3.core.Sprite3D.prototype._parse.call(this,data,innerResouMap);
		var render=this.skinnedMeshRender;
		var lightmapIndex=data.lightmapIndex;
		(lightmapIndex !=null)&& (render.lightmapIndex=lightmapIndex);
		var lightmapScaleOffsetArray=data.lightmapScaleOffset;
		(lightmapScaleOffsetArray)&& (render.lightmapScaleOffset=new Vector4(lightmapScaleOffsetArray[0],lightmapScaleOffsetArray[1],lightmapScaleOffsetArray[2],lightmapScaleOffsetArray[3]));
		var meshPath,mesh;
		meshPath=data.meshPath;
		if (meshPath){
			mesh=Loader.getRes(innerResouMap[meshPath]);
			this.meshFilter.sharedMesh=mesh;
		};
		var materials=data.materials;
		if (materials){
			var sharedMaterials=render.sharedMaterials;
			var materialCount=materials.length;
			sharedMaterials.length=materialCount;
			for (var i=0;i < materialCount;i++)
			sharedMaterials[i]=Loader.getRes(innerResouMap[materials[i].path]);
			render.sharedMaterials=sharedMaterials;
		};
		var rootBone=data.rootBone;
		(rootBone)&& (render._setRootBone(rootBone));
		var boundBox=data.boundBox;
		var min=boundBox.min;
		var max=boundBox.max;
		var localBoundBox=new BoundBox(new Vector3(min[0],min[1],min[2]),new Vector3(max[0],max[1],max[2]));
		render.localBoundBox=localBoundBox;
		var boundSphere=data.boundSphere;
		if (boundSphere){
			var center=boundSphere.center;
			var localBoundSphere=new BoundSphere(new Vector3(center[0],center[1],center[2]),boundSphere.radius);
			render.localBoundSphere=localBoundSphere;
		}
	}

	/**
	*@inheritDoc
	*/
	__proto._changeHierarchyAnimator=function(animator){
		if (this._hierarchyAnimator){
			var lastSkinnedSprites=this._hierarchyAnimator._skinnedSprites;
			lastSkinnedSprites.splice(lastSkinnedSprites.indexOf(this),1);
		}
		if (animator)
			animator._skinnedSprites.push(this);
		this.skinnedMeshRender._setCacheAnimator(animator);
		_super.prototype._changeHierarchyAnimator.call(this,animator);
	}

	/**
	*@inheritDoc
	*/
	__proto._changeAnimatorAvatar=function(avatar){
		this.skinnedMeshRender._setCacheAvatar(avatar);
	}

	/**
	*@inheritDoc
	*/
	__proto.cloneTo=function(destObject){
		var meshSprite3D=destObject;
		meshSprite3D._meshFilter.sharedMesh=this._meshFilter.sharedMesh;
		var meshRender=this._render;
		var destMeshRender=meshSprite3D._render;
		destMeshRender.enable=meshRender.enable;
		destMeshRender.sharedMaterials=meshRender.sharedMaterials;
		destMeshRender._castShadow=meshRender._castShadow;
		var lightmapScaleOffset=meshRender.lightmapScaleOffset;
		lightmapScaleOffset && (destMeshRender.lightmapScaleOffset=lightmapScaleOffset.clone());
		destMeshRender.receiveShadow=meshRender.receiveShadow;
		destMeshRender.sortingFudge=meshRender.sortingFudge;
		destMeshRender._rootBone=meshRender._rootBone;
		var lbp=meshRender.localBoundSphere;
		(lbp)&& (destMeshRender.localBoundSphere=lbp.clone());
		var lbb=meshRender.localBoundBox;
		(lbb)&& (destMeshRender.localBoundBox=lbb.clone());
		laya.d3.core.Sprite3D.prototype.cloneTo.call(this,destObject);
	}

	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._meshFilter._destroy();
	}

	/**
	*获取网格过滤器。
	*@return 网格过滤器。
	*/
	__getset(0,__proto,'meshFilter',function(){
		return this._meshFilter;
	});

	/**
	*获取网格渲染器。
	*@return 网格渲染器。
	*/
	__getset(0,__proto,'skinnedMeshRender',function(){
		return this._render;
	});

	SkinnedMeshSprite3D.__init__=function(){
		SkinnedMeshSprite3D.SHADERDEFINE_BONE=SkinnedMeshSprite3D.shaderDefines.registerDefine("BONE");
	}

	SkinnedMeshSprite3D.load=function(url){
		return Laya.loader.create(url,null,null,SkinnedMeshSprite3D);
	}

	SkinnedMeshSprite3D.SHADERDEFINE_BONE=0;
	SkinnedMeshSprite3D.BONES=0;
	__static(SkinnedMeshSprite3D,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(RenderableSprite3D.shaderDefines);}
	]);
	return SkinnedMeshSprite3D;
})(RenderableSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/trail/TrailSprite3D.as=======95.998846/95.998846
/**
*...
*@author ...
*/
//class laya.d3.core.trail.TrailSprite3D extends laya.d3.core.RenderableSprite3D
var TrailSprite3D=(function(_super){
	function TrailSprite3D(){
		/**@private */
		this._geometryFilter=null;
		TrailSprite3D.__super.call(this);
		this._render=new TrailRenderer(this);
		this._geometryFilter=new TrailFilter(this);
	}

	__class(TrailSprite3D,'laya.d3.core.trail.TrailSprite3D',_super);
	var __proto=TrailSprite3D.prototype;
	/**
	*@inheritDoc
	*/
	__proto._parse=function(data,innerResouMap){
		laya.d3.core.Sprite3D.prototype._parse.call(this,data,innerResouMap);
		var render=this._render;
		var filter=this._geometryFilter;
		var i=0,j=0;
		var materials=data.materials;
		if (materials){
			var sharedMaterials=render.sharedMaterials;
			var materialCount=materials.length;
			sharedMaterials.length=materialCount;
			for (i=0;i < materialCount;i++)
			sharedMaterials[i]=Loader.getRes(innerResouMap[materials[i].path]);
			render.sharedMaterials=sharedMaterials;
		}
		filter.time=data.time;
		filter.minVertexDistance=data.minVertexDistance;
		filter.widthMultiplier=data.widthMultiplier;
		filter.textureMode=data.textureMode;
		var _widthCurve=[];
		var widthCurve=data.widthCurve;
		for (i=0,j=widthCurve.length;i < j;i++){
			var trailkeyframe=new TrailKeyFrame();
			trailkeyframe.time=widthCurve[i].time;
			trailkeyframe.inTangent=widthCurve[i].inTangent;
			trailkeyframe.outTangent=widthCurve[i].outTangent;
			trailkeyframe.value=widthCurve[i].value;
			_widthCurve.push(trailkeyframe);
		}
		filter.widthCurve=_widthCurve;
		var colorGradientNode=data.colorGradient;
		var _colorGradient=new Gradient();
		_colorGradient.mode=colorGradientNode.mode;
		var colorKeys=[];
		var colorKey;
		var _colorKeys=colorGradientNode.colorKeys;
		var _colorKey;
		for (i=0,j=_colorKeys.length;i < j;i++){
			_colorKey=_colorKeys[i];
			colorKey=new GradientColorKey(new Color(_colorKey.value[0],_colorKey.value[1],_colorKey.value[2],1.0),_colorKey.time);
			colorKeys.push(colorKey);
		};
		var alphaKeys=[];
		var alphaKey;
		var _alphaKeys=colorGradientNode.alphaKeys;
		var _alphaKey;
		for (i=0,j=_alphaKeys.length;i < j;i++){
			_alphaKey=_alphaKeys[i];
			alphaKey=new GradientAlphaKey(_alphaKey.value,_alphaKey.time);
			alphaKeys.push(alphaKey);
		}
		_colorGradient.setKeys(colorKeys,alphaKeys);
		filter.colorGradient=_colorGradient;
	}

	__proto.reset=function(){
		this.trailFilter.reset();
	}

	/**
	*@inheritDoc
	*/
	__proto.cloneTo=function(destObject){
		laya.d3.core.Sprite3D.prototype.cloneTo.call(this,destObject);
		var i=0,j=0;
		var _trailSprite3D=destObject;
		var _trailFilter=_trailSprite3D.trailFilter;
		_trailFilter.time=this.trailFilter.time;
		_trailFilter.minVertexDistance=this.trailFilter.minVertexDistance;
		_trailFilter.widthMultiplier=this.trailFilter.widthMultiplier;
		var widthCurve=this.trailFilter.widthCurve;
		var _widthCurve=[];
		for (i=0,j=widthCurve.length;i < j;i++){
			var _keyFrame=new TrailKeyFrame();
			widthCurve[i].cloneTo(_keyFrame);
			_widthCurve.push(_keyFrame);
		}
		_trailFilter.widthCurve=_widthCurve;
		var _colorGradient=new Gradient();
		this.trailFilter.colorGradient.cloneTo(_colorGradient);
		_trailFilter.colorGradient=_colorGradient;
		_trailFilter.textureMode=this.trailFilter.textureMode;
		var _trailRender=_trailSprite3D.trailRender;
		_trailRender.sharedMaterial=this.trailRender.sharedMaterial;
	}

	/**
	*<p>销毁此对象。</p>
	*@param destroyChild 是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		(this._geometryFilter).destroy();
		this._geometryFilter=null;
	}

	/**
	*获取Trail过滤器。
	*@return Trail过滤器。
	*/
	__getset(0,__proto,'trailFilter',function(){
		return this._geometryFilter;
	});

	/**
	*获取Trail渲染器。
	*@return Trail渲染器。
	*/
	__getset(0,__proto,'trailRender',function(){
		return this._render;
	});

	TrailSprite3D.__init__=function(){
		TrailSprite3D.SHADERDEFINE_GRADIENTMODE_BLEND=TrailSprite3D.shaderDefines.registerDefine("GRADIENTMODE_BLEND");
	}

	TrailSprite3D.CURTIME=3;
	TrailSprite3D.LIFETIME=4;
	TrailSprite3D.WIDTHCURVE=5;
	TrailSprite3D.WIDTHCURVEKEYLENGTH=6;
	TrailSprite3D.GRADIENTCOLORKEY=7;
	TrailSprite3D.GRADIENTALPHAKEY=8;
	TrailSprite3D.SHADERDEFINE_GRADIENTMODE_BLEND=0;
	__static(TrailSprite3D,
	['shaderDefines',function(){return this.shaderDefines=new ShaderDefines(RenderableSprite3D.shaderDefines);}
	]);
	return TrailSprite3D;
})(RenderableSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/tools/debugUI/DButton.as=======95.998763/95.998763
/**
*
*@author ww
*@version 1.0
*
*@created 2015-9-29 上午11:17:35
*/
//class laya.debug.tools.debugUI.DButton extends laya.display.Text
var DButton=(function(_super){
	function DButton(){
		DButton.__super.call(this);
		this.bgColor="#ffff00";
		this.wordWrap=false;
		this.mouseEnabled=true;
	}

	__class(DButton,'laya.debug.tools.debugUI.DButton',_super);
	return DButton;
})(Text)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Input.as=======95.998760/95.998760
/**
*<p><code>Input</code> 类用于创建显示对象以显示和输入文本。</p>
*<p>Input 类封装了原生的文本输入框，由于不同浏览器的差异，会导致此对象的默认文本的位置与用户点击输入时的文本的位置有少许的偏差。</p>
*/
//class laya.display.Input extends laya.display.Text
var Input=(function(_super){
	function Input(){
		/**@private */
		this._focus=false;
		/**@private */
		this._multiline=false;
		/**@private */
		this._editable=true;
		/**@private */
		this._restrictPattern=null;
		/**@private */
		this._type="text";
		/**@private 输入提示符。*/
		this._prompt='';
		/**@private 输入提示符颜色。*/
		this._promptColor="#A9A9A9";
		/**@private */
		this._originColor="#000000";
		/**@private */
		this._content='';
		Input.__super.call(this);
		this._maxChars=1E5;
		this._width=100;
		this._height=20;
		this.multiline=false;
		this.overflow="scroll";
		this.on("mousedown",this,this._onMouseDown);
		this.on("undisplay",this,this._onUnDisplay);
	}

	__class(Input,'laya.display.Input',_super);
	var __proto=Input.prototype;
	/**
	*设置光标位置和选取字符。
	*@param startIndex 光标起始位置。
	*@param endIndex 光标结束位置。
	*/
	__proto.setSelection=function(startIndex,endIndex){
		laya.display.Input.inputElement.selectionStart=startIndex;
		laya.display.Input.inputElement.selectionEnd=endIndex;
	}

	__proto._onUnDisplay=function(e){
		this.focus=false;
	}

	__proto._onMouseDown=function(e){
		this.focus=true;
	}

	/**
	*在输入期间，如果 Input 实例的位置改变，调用_syncInputTransform同步输入框的位置。
	*/
	__proto._syncInputTransform=function(){
		var inputElement=this.nativeInput;
		var transform=Utils.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]);
		var inputWid=this._width-this.padding[1]-this.padding[3];
		var inputHei=this._height-this.padding[0]-this.padding[2];
		if (Render.isConchApp){
			inputElement.setScale(transform.scaleX,transform.scaleY);
			inputElement.setSize(inputWid,inputHei);
			inputElement.setPos(transform.x,transform.y);
			}else {
			Input.inputContainer.style.transform=Input.inputContainer.style.webkitTransform="scale("+transform.scaleX+","+transform.scaleY+") rotate("+(Laya.stage.canvasDegree)+"deg)";
			inputElement.style.width=inputWid+'px';
			inputElement.style.height=inputHei+'px';
			Input.inputContainer.style.left=transform.x+'px';
			Input.inputContainer.style.top=transform.y+'px';
		}
	}

	/**选中当前实例的所有文本。*/
	__proto.select=function(){
		this.nativeInput.select();
	}

	__proto._setInputMethod=function(){
		Input.input.parentElement && (Input.inputContainer.removeChild(Input.input));
		Input.area.parentElement && (Input.inputContainer.removeChild(Input.area));
		Input.inputElement=(this._multiline ? Input.area :Input.input);
		Input.inputContainer.appendChild(Input.inputElement);
	}

	__proto._focusIn=function(){
		laya.display.Input.isInputting=true;
		var input=this.nativeInput;
		this._focus=true;
		var cssStyle=input.style;
		cssStyle.whiteSpace=(this.wordWrap ? "pre-wrap" :"nowrap");
		this._setPromptColor();
		input.readOnly=!this._editable;
		if (Render.isConchApp){
			input.setForbidEdit(!this._editable);
		}
		input.maxLength=this._maxChars;
		var padding=this.padding;
		input.type=this._type;
		input.value=this._content;
		input.placeholder=this._prompt;
		Laya.stage.off("keydown",this,this._onKeyDown);
		Laya.stage.on("keydown",this,this._onKeyDown);
		Laya.stage.focus=this;
		this.event("focus");
		if (Browser.onPC)input.focus();
		var temp=this._text;
		this._text=null;
		this.typeset();
		input.setColor(this._originColor);
		input.setFontSize(this.fontSize);
		input.setFontFace(Browser.onIPhone ? (Text.fontFamilyMap[this.font] || this.font):this.font);
		if (Render.isConchApp){
			input.setMultiAble && input.setMultiAble(this._multiline);
		}
		cssStyle.lineHeight=(this.leading+this.fontSize)+"px";
		cssStyle.fontStyle=(this.italic ? "italic" :"normal");
		cssStyle.fontWeight=(this.bold ? "bold" :"normal");
		cssStyle.textAlign=this.align;
		cssStyle.padding="0 0";
		this._syncInputTransform();
		if (!Render.isConchApp && Browser.onPC)
			Laya.timer.frameLoop(1,this,this._syncInputTransform);
	}

	// 设置DOM输入框提示符颜色。
	__proto._setPromptColor=function(){
		Input.promptStyleDOM=Browser.getElementById("promptStyle");
		if (!Input.promptStyleDOM){
			Input.promptStyleDOM=Browser.createElement("style");
			Input.promptStyleDOM.setAttribute("id","promptStyle");
			Browser.document.head.appendChild(Input.promptStyleDOM);
		}
		Input.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {"+"color:"+this._promptColor+"}"+"input:-moz-placeholder, textarea:-moz-placeholder {"+"color:"+this._promptColor+"}"+"input::-moz-placeholder, textarea::-moz-placeholder {"+"color:"+this._promptColor+"}"+"input:-ms-input-placeholder, textarea:-ms-input-placeholder {"+"color:"+this._promptColor+"}";
	}

	/**@private */
	__proto._focusOut=function(){
		laya.display.Input.isInputting=false;
		this._focus=false;
		this._text=null;
		this._content=this.nativeInput.value;
		if (!this._content){
			Laya.superSet(Text,this,'text',this._prompt);
			Laya.superSet(Text,this,'color',this._promptColor);
			}else {
			Laya.superSet(Text,this,'text',this._content);
			Laya.superSet(Text,this,'color',this._originColor);
		}
		Laya.stage.off("keydown",this,this._onKeyDown);
		Laya.stage.focus=null;
		this.event("blur");
		if (Render.isConchApp)this.nativeInput.blur();
		Browser.onPC && Laya.timer.clear(this,this._syncInputTransform);
	}

	/**@private */
	__proto._onKeyDown=function(e){
		if (e.keyCode===13){
			if (Browser.onMobile && !this._multiline)this.focus=false;
			this.event("enter");
		}
	}

	__proto.changeText=function(text){
		this._content=text;
		if (this._focus){
			this.nativeInput.value=text || '';
			this.event("change");
		}else
		_super.prototype.changeText.call(this,text);
	}

	/**@inheritDoc */
	__getset(0,__proto,'color',_super.prototype._$get_color,function(value){
		if (this._focus)this.nativeInput.setColor(value);
		Laya.superSet(Text,this,'color',this._content?value:this._promptColor);
		this._originColor=value;
	});

	/**表示是否是多行输入框。*/
	__getset(0,__proto,'multiline',function(){
		return this._multiline;
		},function(value){
		this._multiline=value;
		this.valign=value ? "top" :"middle";
	});

	/**
	*<p>字符数量限制，默认为10000。</p>
	*<p>设置字符数量限制时，小于等于0的值将会限制字符数量为10000。</p>
	*/
	__getset(0,__proto,'maxChars',function(){
		return this._maxChars;
		},function(value){
		if (value <=0)value=1E5;
		this._maxChars=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'text',function(){
		if (this._focus)return this.nativeInput.value;
		else return this._content || "";
		},function(value){
		Laya.superSet(Text,this,'color',this._originColor);
		value+='';
		if (this._focus){
			this.nativeInput.value=value || '';
			this.event("change");
			}else {
			if (!this._multiline)value=value.replace(/\r?\n/g,'');
			this._content=value;
			if (value)
				Laya.superSet(Text,this,'text',value);
			else {
				Laya.superSet(Text,this,'text',this._prompt);
				Laya.superSet(Text,this,'color',this.promptColor);
			}
		}
	});

	/**
	*获取对输入框的引用实例。
	*/
	__getset(0,__proto,'nativeInput',function(){
		return this._multiline ? Input.area :Input.input;
	});

	/**
	*设置输入提示符。
	*/
	__getset(0,__proto,'prompt',function(){
		return this._prompt;
		},function(value){
		if (!this._text && value)Laya.superSet(Text,this,'color',this._promptColor);
		this.promptColor=this._promptColor;
		if (this._text)Laya.superSet(Text,this,'text',(this._text==this._prompt)?value:this._text);
		else Laya.superSet(Text,this,'text',value);
		this._prompt=Text.langPacks && Text.langPacks[value] ? Text.langPacks[value] :value;
	});

	// 因此 调用focus接口是无法都在移动平台立刻弹出键盘的
	/**
	*表示焦点是否在此实例上。
	*/
	__getset(0,__proto,'focus',function(){
		return this._focus;
		},function(value){
		var input=this.nativeInput;
		if (this._focus!==value){
			if (value){
				if (input.target){
					input.target._focusOut();
					}else {
					this._setInputMethod();
				}
				input.target=this;
				this._focusIn();
				}else {
				input.target=null;
				this._focusOut();
				input.blur();
				if (Render.isConchApp)input.setPos(-10000,-10000);
				else if (Input.inputContainer.contains(input))Input.inputContainer.removeChild(input);
			}
		}
	});

	/**限制输入的字符。*/
	__getset(0,__proto,'restrict',function(){
		if (this._restrictPattern){
			return this._restrictPattern.source;
		}
		return "";
		},function(pattern){
		if (pattern){
			pattern="[^"+pattern+"]";
			if (pattern.indexOf("^^")>-1)pattern=pattern.replace("^^","");
			this._restrictPattern=new RegExp(pattern,"g");
		}else
		this._restrictPattern=null;
	});

	/**
	*是否可编辑。
	*/
	__getset(0,__proto,'editable',function(){
		return this._editable;
		},function(value){
		this._editable=value;
		if (Render.isConchApp){
			Input.input.setForbidEdit(!value);
		}
	});

	/**
	*设置输入提示符颜色。
	*/
	__getset(0,__proto,'promptColor',function(){
		return this._promptColor;
		},function(value){
		this._promptColor=value;
		if (!this._content)Laya.superSet(Text,this,'color',value);
	});

	/**
	*<p>输入框类型为Input静态常量之一。</p>
	*<ul>
	*<li>TYPE_TEXT</li>
	*<li>TYPE_PASSWORD</li>
	*<li>TYPE_EMAIL</li>
	*<li>TYPE_URL</li>
	*<li>TYPE_NUMBER</li>
	*<li>TYPE_DATE</li>
	*<li>TYPE_MONTH</li>
	*<li>TYPE_WEEK</li>
	*<li>TYPE_TIME</li>
	*<li>TYPE_DATE_TIME</li>
	*<li>TYPE_DATE_TIME_LOCAL</li>
	*</ul>
	*<p>平台兼容性参见http://www.w3school.com.cn/html5/html_5_form_input_types.asp。</p>
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
		},function(value){
		if (value==="password")this._getTextStyle().asPassword=true;
		else this._getTextStyle().asPassword=false;
		this._type=value;
	});

	Input.__init__=function(){
		Input._createInputElement();
		if (Browser.onMobile)Render.canvas.addEventListener(Input.IOS_IFRAME ? "click" :"touchend",Input._popupInputMethod);
	}

	Input._popupInputMethod=function(e){
		if (!laya.display.Input.isInputting)return;
		laya.display.Input.inputElement.focus();
	}

	Input._createInputElement=function(){
		Input._initInput(Input.area=Browser.createElement("textarea"));
		Input._initInput(Input.input=Browser.createElement("input"));
		Input.inputContainer=Browser.createElement("div");
		Input.inputContainer.style.position="absolute";
		Input.inputContainer.style.zIndex=1E5;
		Browser.container.appendChild(Input.inputContainer);
		Input.inputContainer.setPos=function (x,y){
			Input.inputContainer.style.left=x+'px';
			Input.inputContainer.style.top=y+'px';
		};
	}

	Input._initInput=function(input){
		var style=input.style;
		style.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;";
		style.resize='none';
		style.backgroundColor='transparent';
		style.border='none';
		style.outline='none';
		style.zIndex=1;
		input.addEventListener('input',Input._processInputting);
		input.addEventListener('mousemove',Input._stopEvent);
		input.addEventListener('mousedown',Input._stopEvent);
		input.addEventListener('touchmove',Input._stopEvent);
		input.setFontFace=function (fontFace){input.style.fontFamily=fontFace;};
		if(!Render.isConchApp){
			input.setColor=function (color){input.style.color=color;};
			input.setFontSize=function (fontSize){input.style.fontSize=fontSize+'px';};
		}
	}

	Input._processInputting=function(e){
		var input=laya.display.Input.inputElement.target;
		if (!input)return;
		var value=laya.display.Input.inputElement.value;
		if (input._restrictPattern){
			value=value.replace(/\u2006|\x27/g,"");
			if (input._restrictPattern.test(value)){
				value=value.replace(input._restrictPattern,"");
				laya.display.Input.inputElement.value=value;
			}
		}
		input._text=value;
		input.event("input");
	}

	Input._stopEvent=function(e){
		if (e.type=='touchmove')e.preventDefault();
		e.stopPropagation && e.stopPropagation();
	}

	Input.TYPE_TEXT="text";
	Input.TYPE_PASSWORD="password";
	Input.TYPE_EMAIL="email";
	Input.TYPE_URL="url";
	Input.TYPE_NUMBER="number";
	Input.TYPE_DATE="date";
	Input.TYPE_MONTH="month";
	Input.TYPE_WEEK="week";
	Input.TYPE_TIME="time";
	Input.TYPE_DATE_TIME="datetime";
	Input.TYPE_DATE_TIME_LOCAL="datetime-local";
	Input.TYPE_SEARCH="search";
	Input.input=null;
	Input.area=null;
	Input.inputElement=null;
	Input.inputContainer=null;
	Input.promptStyleDOM=null;
	Input.isInputting=false;
	__static(Input,
	['IOS_IFRAME',function(){return this.IOS_IFRAME=(Browser.onIOS && Browser.window.top !=Browser.window.self);}
	]);
	return Input;
})(Text)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/terrain/TerrainChunk.as=======95.998712/95.998712
/**
*<code>TerrainChunk</code> 类用于创建地块。
*/
//class laya.d3.terrain.TerrainChunk extends laya.d3.core.RenderableSprite3D
var TerrainChunk=(function(_super){
	function TerrainChunk(chunkOffsetX,chunkOffsetZ,girdSize,terrainHeightData,heightDataWidth,heightDataHeight,cameraCoordinateInverse,name){
		/**@private */
		this._terrainFilter=null;
		TerrainChunk.__super.call(this,name);
		this._terrainFilter=new TerrainFilter(this,chunkOffsetX,chunkOffsetZ,girdSize,terrainHeightData,heightDataWidth,heightDataHeight,cameraCoordinateInverse);
		this._render=new TerrainRender(this);
	}

	__class(TerrainChunk,'laya.d3.terrain.TerrainChunk',_super);
	var __proto=TerrainChunk.prototype;
	__proto.buildRenderElementAndMaterial=function(detailNum,normalMap,alphaMapUrl,detailUrl1,detailUrl2,detailUrl3,detailUrl4,ambientColor,diffuseColor,specularColor,sx1,sy1,sx2,sy2,sx3,sy3,sx4,sy4){
		(sx1===void 0)&& (sx1=1);
		(sy1===void 0)&& (sy1=1);
		(sx2===void 0)&& (sx2=1);
		(sy2===void 0)&& (sy2=1);
		(sx3===void 0)&& (sx3=1);
		(sy3===void 0)&& (sy3=1);
		(sx4===void 0)&& (sx4=1);
		(sy4===void 0)&& (sy4=1);
		var terrainMaterial=new TerrainMaterial();
		if (diffuseColor)terrainMaterial.diffuseColor=diffuseColor;
		if (ambientColor)terrainMaterial.ambientColor=ambientColor;
		if (specularColor)terrainMaterial.specularColor=specularColor;
		terrainMaterial.splatAlphaTexture=Loader.getRes(alphaMapUrl);
		terrainMaterial.normalTexture=normalMap ? Loader.getRes(normalMap):null;
		terrainMaterial.diffuseTexture1=detailUrl1 ? Loader.getRes(detailUrl1):null;
		terrainMaterial.diffuseTexture2=detailUrl2 ? Loader.getRes(detailUrl2):null;
		terrainMaterial.diffuseTexture3=detailUrl3 ? Loader.getRes(detailUrl3):null;
		terrainMaterial.diffuseTexture4=detailUrl4 ? Loader.getRes(detailUrl4):null;
		terrainMaterial.setDiffuseScale1(sx1,sy1);
		terrainMaterial.setDiffuseScale2(sx2,sy2);
		terrainMaterial.setDiffuseScale3(sx3,sy3);
		terrainMaterial.setDiffuseScale4(sx4,sy4);
		terrainMaterial.setDetailNum(detailNum);
		if (this._render._renderElements.length !=0){
			terrainMaterial.renderMode=2;
		};
		var renderElement=new RenderElement();
		renderElement.setTransform(this._transform);
		renderElement.render=this._render;
		renderElement.setGeometry(this._terrainFilter);
		this._render._renderElements.push(renderElement);
		this._render.sharedMaterial=terrainMaterial;
	}

	__proto.cloneTo=function(destObject){
		console.log("Terrain Chunk can't clone");
	}

	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this.destroyed)
			return;
		_super.prototype.destroy.call(this,destroyChild);
		this._terrainFilter.destroy();
		this._terrainFilter=null;
	}

	/**
	*获取地形过滤器。
	*@return 地形过滤器。
	*/
	__getset(0,__proto,'terrainFilter',function(){
		return this._terrainFilter;
	});

	/**
	*获取地形渲染器。
	*@return 地形渲染器。
	*/
	__getset(0,__proto,'terrainRender',function(){
		return this._render;
	});

	TerrainChunk.load=function(url){
		return Laya.loader.create(url,null,null,TerrainChunk,null,1,false);
	}

	return TerrainChunk;
})(RenderableSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/debug/view/nodeInfo/recinfos/ReCacheRecInfo.as=======95.998639/95.998639
/**
*...
*@author ww
*/
//class laya.debug.view.nodeInfo.recinfos.ReCacheRecInfo extends laya.debug.view.nodeInfo.recinfos.NodeRecInfo
var ReCacheRecInfo=(function(_super){
	function ReCacheRecInfo(){
		this.isWorking=false;
		this.count=0;
		this.mTime=0;
		ReCacheRecInfo.__super.call(this);
		this.txt.fontSize=12;
	}

	__class(ReCacheRecInfo,'laya.debug.view.nodeInfo.recinfos.ReCacheRecInfo',_super);
	var __proto=ReCacheRecInfo.prototype;
	__proto.addCount=function(time){
		(time===void 0)&& (time=0);
		this.count++;
		this.mTime+=time;
		if (!this.isWorking){
			this.working=true;
		}
	}

	__proto.updates=function(){
		if (!this._tar["displayedInStage"]){
			this.working=false;
			this.removeSelf();
		}
		this.txt.text=ClassTool.getNodeClassAndName(this._tar)+"\n"+"reCache:"+this.count+"\ntime:"+this.mTime;
		if (this.count > 0){
			this.fresh();
			Laya.timer.clear(this,this.removeSelfLater);
			}else{
			this.working=false;
			Laya.timer.once(3000,this,this.removeSelfLater);
		}
		this.count=0;
		this.mTime=0;
	}

	__proto.removeSelfLater=function(){
		this.working=false;
		this.removeSelf();
	}

	__getset(0,__proto,'working',null,function(v){
		this.isWorking=v;
		if (v){
			Laya.timer.loop(1000,this,this.updates);
			}else{
			Laya.timer.clear(this,this.updates);
		}
	});

	ReCacheRecInfo.showTime=3000;
	return ReCacheRecInfo;
})(NodeRecInfo)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Animation.as=======95.998633/95.998633
/**
*<p> <code>Animation</code> 是Graphics动画类。实现了基于Graphics的动画创建、播放、控制接口。</p>
*<p>本类使用了动画模版缓存池，它以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
*<p>动画模版缓存池，以key-value键值对存储，key可以自定义，也可以从指定的配置文件中读取，value为对应的动画模版，是一个Graphics对象数组，每个Graphics对象对应一个帧图像，动画的播放实质就是定时切换Graphics对象。</p>
*<p>使用set source、loadImages(...)、loadAtlas(...)、loadAnimation(...)方法可以创建动画模版。使用play(...)可以播放指定动画。</p>
*@example <caption>以下示例代码，创建了一个 <code>Text</code> 实例。</caption>
*package
*{
	*import laya.display.Animation;
	*import laya.net.Loader;
	*import laya.utils.Handler;
	*public class Animation_Example
	*{
		*public function Animation_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*init();//初始化
			*}
		*private function init():void
		*{
			*var animation:Animation=new Animation();//创建一个 Animation 类的实例对象 animation 。
			*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
			*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
			*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
			*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
			*animation.play();//播放动画。
			*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
			*}
		*}
	*}
*
*@example
*Animation_Example();
*function Animation_Example(){
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*init();//初始化
	*}
*function init()
*{
	*var animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。
	*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
	*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
	*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
	*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
	*animation.play();//播放动画。
	*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
	*}
*
*@example
*import Animation=laya.display.Animation;
*class Animation_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.init();
		*}
	*private init():void {
		*var animation:Animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。
		*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
		*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
		*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
		*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
		*animation.play();//播放动画。
		*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
		*}
	*}
*new Animation_Example();
*/
//class laya.display.Animation extends laya.display.AnimationBase
var Animation=(function(_super){
	function Animation(){
		/**@private */
		this._frames=null;
		/**@private */
		this._url=null;
		Animation.__super.call(this);
		this._setControlNode(this);
	}

	__class(Animation,'laya.display.Animation',_super);
	var __proto=Animation.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this.stop();
		laya.display.Sprite.prototype.destroy.call(this,destroyChild);
		this._frames=null;
		this._labels=null;
	}

	/**
	*<p>开始播放动画。会在动画模版缓存池中查找key值为name的动画模版，存在则用此动画模版初始化当前序列帧， 如果不存在，则使用当前序列帧。</p>
	*<p>play(...)方法被设计为在创建实例后的任何时候都可以被调用，调用后就处于播放状态，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否处于播放状态，如果是，则开始播放。</p>
	*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>
	*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。
	*@param loop （可选）是否循环播放。
	*@param name （可选）动画模板在动画模版缓存池中的key，也可认为是动画名称。如果name为空，则播放当前动画序列帧；如果不为空，则在动画模版缓存池中寻找key值为name的动画模版，如果存在则用此动画模版初始化当前序列帧并播放，如果不存在，则仍然播放当前动画序列帧；如果没有当前动画的帧数据，则不播放，但该实例仍然处于播放状态。
	*/
	__proto.play=function(start,loop,name){
		(start===void 0)&& (start=0);
		(loop===void 0)&& (loop=true);
		(name===void 0)&& (name="");
		if (name)this._setFramesFromCache(name,true);
		_super.prototype.play.call(this,start,loop,name);
	}

	/**@private */
	__proto._setFramesFromCache=function(name,showWarn){
		(showWarn===void 0)&& (showWarn=false);
		if (this._url)name=this._url+"#"+name;
		if (name && Animation.framesMap[name]){
			var tAniO=Animation.framesMap[name];
			if ((tAniO instanceof Array)){
				this._frames=Animation.framesMap[name];
				this._count=this._frames.length;
				}else {
				if (tAniO.nodeRoot){
					Animation.framesMap[name]=GraphicAnimation.parseAnimationByData(tAniO);
					tAniO=Animation.framesMap[name];
				}
				this._frames=tAniO.frames;
				this._count=this._frames.length;
				if (!this._frameRateChanged)this._interval=tAniO.interval;
				this._labels=this._copyLabels(tAniO.labels);
			}
			return true;
			}else {
			if (showWarn)console.log("ani not found:",name);
		}
		return false;
	}

	/**@private */
	__proto._copyLabels=function(labels){
		if (!labels)return null;
		var rst;
		rst={};
		var key;
		for (key in labels){
			rst[key]=Utils.copyArray([],labels[key]);
		}
		return rst;
	}

	/**@private */
	__proto._frameLoop=function(){
		if (this._visible && this._style.alpha > 0.01 && this._frames){
			_super.prototype._frameLoop.call(this);
		}
	}

	/**@private */
	__proto._displayToIndex=function(value){
		if (this._frames)this.graphics=this._frames[value];
	}

	/**
	*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。
	*/
	__proto.clear=function(){
		_super.prototype.clear.call(this);
		this.stop();
		this.graphics=null;
		this._frames=null;
		this._labels=null;
		return this;
	}

	/**
	*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图片集合并创建动画模版。注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：loadImages(...).loadImages(...).play(...);。</p>
	*@param urls 图片路径集合。需要创建动画模版时，会以此为数据源。参数形如：[url1,url2,url3,...]。
	*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。
	*@return 返回Animation对象本身。
	*/
	__proto.loadImages=function(urls,cacheName){
		(cacheName===void 0)&& (cacheName="");
		this._url="";
		if (!this._setFramesFromCache(cacheName)){
			this.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(urls,cacheName);
		}
		return this;
	}

	/**
	*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图集并创建动画模版。</p>
	*<p>注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：loadAtlas(...).loadAtlas(...).play(...);。</p>
	*@param url 图集路径。需要创建动画模版时，会以此为数据源。
	*@param loaded （可选）使用指定图集初始化动画完毕的回调。
	*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。
	*@return 返回动画本身。
	*/
	__proto.loadAtlas=function(url,loaded,cacheName){
		(cacheName===void 0)&& (cacheName="");
		this._url="";
		var _this=this;
		if (!_this._setFramesFromCache(cacheName)){
			function onLoaded (loadUrl){
				if (url===loadUrl){
					_this.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(url,cacheName);
					if (loaded)loaded.run();
				}
			}
			if (Loader.getAtlas(url))onLoaded(url);
			else Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,"atlas");
		}
		return this;
	}

	/**
	*<p>加载并解析由LayaAir IDE制作的动画文件，此文件中可能包含多个动画。默认帧率为在IDE中设计的帧率，如果调用过set interval，则使用此帧间隔对应的帧率。加载后创建动画模版，并缓存到动画模版缓存池，key "url#动画名称" 对应相应动画名称的动画模板，key "url#" 对应动画模版集合的默认动画模版。</p>
	*<p>注意：如果调用本方法前，还没有预加载动画使用的图集，请将atlas参数指定为对应的图集路径，否则会导致动画创建失败。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：loadAnimation(...).loadAnimation(...).play(...);。</p>
	*@param url 动画文件路径。可由LayaAir IDE创建并发布。
	*@param loaded （可选）使用指定动画资源初始化动画完毕的回调。
	*@param atlas （可选）动画用到的图集地址（可选）。
	*@return 返回动画本身。
	*/
	__proto.loadAnimation=function(url,loaded,atlas){
		this._url=url;
		var _this=this;
		if (!this._actionName)this._actionName="";
		if (!_this._setFramesFromCache("")){
			if (!atlas || Loader.getAtlas(atlas)){
				this._loadAnimationData(url,loaded,atlas);
				}else {
				Laya.loader.load(atlas,Handler.create(this,this._loadAnimationData,[url,loaded,atlas]),null,"atlas")
			}
			}else {
			_this._setFramesFromCache(this._actionName,true);
			if (loaded)loaded.run();
		}
		return this;
	}

	/**@private */
	__proto._loadAnimationData=function(url,loaded,atlas){
		var _$this=this;
		if (atlas && !Loader.getAtlas(atlas)){
			console.warn("atlas load fail:"+atlas);
			return;
		};
		var _this=this;
		function onLoaded (loadUrl){
			if (!Loader.getRes(loadUrl))return;
			if (url===loadUrl){
				var tAniO;
				if (!Animation.framesMap[url+"#"]){
					var aniData=GraphicAnimation.parseAnimationData(Loader.getRes(url));
					if (!aniData)return;
					var aniList=aniData.animationList;
					var i=0,len=aniList.length;
					var defaultO;
					for (i=0;i < len;i++){
						tAniO=aniList[i];
						Animation.framesMap[url+"#"+tAniO.name]=tAniO;
						if (!defaultO)defaultO=tAniO;
					}
					if (defaultO){
						Animation.framesMap[url+"#"]=defaultO;
						_this._setFramesFromCache(_$this._actionName,true);
						_$this.index=0;
					}
					_$this._resumePlay();
					}else {
					_this._setFramesFromCache(_$this._actionName,true);
					_$this.index=0;
					_$this._resumePlay();
				}
				if (loaded)loaded.run();
			}
		}
		if (Loader.getRes(url))onLoaded(url);
		else Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,"json");
		Loader.clearRes(url);
	}

	/**
	*当前动画的帧图像数组。本类中，每个帧图像是一个Graphics对象，而动画播放就是定时切换Graphics对象的过程。
	*/
	__getset(0,__proto,'frames',function(){
		return this._frames;
		},function(value){
		this._frames=value;
		if (value){
			this._count=value.length;
			if (this._actionName)this._setFramesFromCache(this._actionName,true);
			this.index=this._index;
		}
	});

	/**
	*是否自动播放，默认为false。如果设置为true，则动画被创建并添加到舞台后自动播放。
	*/
	__getset(0,__proto,'autoPlay',null,function(value){
		if (value)this.play();
		else this.stop();
	});

	/**
	*<p>动画数据源。</p>
	*<p>类型如下：<br/>
	*1. LayaAir IDE动画文件路径：使用此类型需要预加载所需的图集资源，否则会创建失败，如果不想预加载或者需要创建完毕的回调，请使用loadAnimation(...)方法；<br/>
	*2. 图集路径：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存或者创建完毕的回调，请使用loadAtlas(...)方法；<br/>
	*3. 图片路径集合：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存，请使用loadImages(...)方法。</p>
	*@param value 数据源。比如：图集："xx/a1.atlas"；图片集合："a1.png,a2.png,a3.png"；LayaAir IDE动画"xx/a1.ani"。
	*/
	__getset(0,__proto,'source',null,function(value){
		if (value.indexOf(".ani")>-1)this.loadAnimation(value);
		else if (value.indexOf(".json")>-1 || value.indexOf("als")>-1 || value.indexOf("atlas")>-1)this.loadAtlas(value);
		else this.loadImages(value.split(","));
	});

	/**
	*设置自动播放的动画名称，在LayaAir IDE中可以创建的多个动画组成的动画集合，选择其中一个动画名称进行播放。
	*/
	__getset(0,__proto,'autoAnimation',null,function(value){
		this.play(0,true,value);
	});

	Animation.createFrames=function(url,name){
		var arr;
		if ((typeof url=='string')){
			var atlas=Loader.getAtlas(url);
			if (atlas && atlas.length){
				arr=[];
				for (var i=0,n=atlas.length;i < n;i++){
					var g=new Graphics();
					g.drawImage(Loader.getRes(atlas[i]),0,0);
					arr.push(g);
				}
			}
			}else if ((url instanceof Array)){
			arr=[];
			for (i=0,n=url.length;i < n;i++){
				g=new Graphics();
				g.loadImage(url[i],0,0);
				arr.push(g);
			}
		}
		if (name)Animation.framesMap[name]=arr;
		return arr;
	}

	Animation.clearCache=function(key){
		var cache=Animation.framesMap;
		var val;
		var key2=key+"#";
		for (val in cache){
			if (val===key || val.indexOf(key2)===0){
				delete Animation.framesMap[val];
			}
		}
	}

	Animation.framesMap={};
	return Animation;
})(AnimationBase)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/FrameAnimation.as=======95.998583/95.998583
/**
*节点关键帧动画播放类。解析播放IDE内制作的节点动画。
*/
//class laya.display.FrameAnimation extends laya.display.AnimationBase
var FrameAnimation=(function(_super){
	function FrameAnimation(){
		/**@private id对象表*/
		this._targetDic=null;
		/**@private 动画数据*/
		this._animationData=null;
		/**@private */
		this._usedFrames=null;
		FrameAnimation.__super.call(this);
		if (FrameAnimation._sortIndexFun===null){
			FrameAnimation._sortIndexFun=MathUtil.sortByKey("index",false,true);
		}
	}

	__class(FrameAnimation,'laya.display.FrameAnimation',_super);
	var __proto=FrameAnimation.prototype;
	/**
	*@private
	*初始化动画数据
	*@param targetDic 节点ID索引
	*@param animationData 动画数据
	*/
	__proto._setUp=function(targetDic,animationData){
		this._targetDic=targetDic;
		this._animationData=animationData;
		this.interval=1000 / animationData.frameRate;
		if (animationData.parsed){
			this._count=animationData.count;
			this._labels=animationData.labels;
			this._usedFrames=animationData.animationNewFrames;
			}else {
			this._usedFrames=[];
			this._calculateDatas();
			animationData.parsed=true;
			animationData.labels=this._labels;
			animationData.count=this._count;
			animationData.animationNewFrames=this._usedFrames;
		}
	}

	/**@inheritDoc */
	__proto.clear=function(){
		_super.prototype.clear.call(this);
		this._targetDic=null;
		this._animationData=null;
		return this;
	}

	/**@inheritDoc */
	__proto._displayToIndex=function(value){
		if (!this._animationData)return;
		if (value < 0)value=0;
		if (value > this._count)value=this._count;
		var nodes=this._animationData.nodes,i=0,len=nodes.length;
		for (i=0;i < len;i++){
			this._displayNodeToFrame(nodes[i],value);
		}
	}

	/**
	*@private
	*将节点设置到某一帧的状态
	*@param node 节点ID
	*@param frame
	*@param targetDic 节点表
	*/
	__proto._displayNodeToFrame=function(node,frame,targetDic){
		if (!targetDic)targetDic=this._targetDic;
		var target=targetDic[node.target];
		if (!target){
			return;
		};
		var frames=node.frames,key,propFrames,value;
		var keys=node.keys,i=0,len=keys.length;
		for (i=0;i < len;i++){
			key=keys[i];
			propFrames=frames[key];
			if (propFrames.length > frame){
				value=propFrames[frame];
				}else {
				value=propFrames[propFrames.length-1];
			}
			target[key]=value;
		}
	}

	/**
	*@private
	*计算帧数据
	*/
	__proto._calculateDatas=function(){
		if (!this._animationData)return;
		var nodes=this._animationData.nodes,i=0,len=nodes.length,tNode;
		this._count=0;
		for (i=0;i < len;i++){
			tNode=nodes[i];
			this._calculateKeyFrames(tNode);
		}
		this._count+=1;
	}

	/**
	*@private
	*计算某个节点的帧数据
	*/
	__proto._calculateKeyFrames=function(node){
		var keyFrames=node.keyframes,key,tKeyFrames,target=node.target;
		if (!node.frames)node.frames={};
		if (!node.keys)node.keys=[];
		else node.keys.length=0;
		if (!node.initValues)node.initValues={};
		for (key in keyFrames){
			tKeyFrames=keyFrames[key];
			if (!node.frames[key]){
				node.frames[key]=[];
			}
			if (this._targetDic && this._targetDic[target]){
				node.initValues[key]=this._targetDic[target][key];
			}
			tKeyFrames.sort(FrameAnimation._sortIndexFun);
			node.keys.push(key);
			this._calculateNodePropFrames(tKeyFrames,node.frames[key],key,target);
		}
	}

	/**
	*重置节点，使节点恢复到动画之前的状态，方便其他动画控制
	*/
	__proto.resetNodes=function(){
		if (!this._targetDic)return;
		if (!this._animationData)return;
		var nodes=this._animationData.nodes,i=0,len=nodes.length;
		var tNode;
		var initValues;
		for (i=0;i < len;i++){
			tNode=nodes[i];
			initValues=tNode.initValues;
			if (!initValues)continue ;
			var target=this._targetDic[tNode.target];
			if (!target)continue ;
			var key;
			for (key in initValues){
				target[key]=initValues[key];
			}
		}
	}

	/**
	*@private
	*计算节点某个属性的帧数据
	*/
	__proto._calculateNodePropFrames=function(keyframes,frames,key,target){
		var i=0,len=keyframes.length-1;
		frames.length=keyframes[len].index+1;
		for (i=0;i < len;i++){
			this._dealKeyFrame(keyframes[i]);
			this._calculateFrameValues(keyframes[i],keyframes[i+1],frames);
		}
		if (len==0){
			frames[0]=keyframes[0].value;
			if (this._usedFrames)this._usedFrames[keyframes[0].index]=true;
		}
		this._dealKeyFrame(keyframes[i]);
	}

	/**
	*@private
	*/
	__proto._dealKeyFrame=function(keyFrame){
		if (keyFrame.label && keyFrame.label !="")this.addLabel(keyFrame.label,keyFrame.index);
	}

	/**
	*@private
	*计算两个关键帧直接的帧数据
	*/
	__proto._calculateFrameValues=function(startFrame,endFrame,result){
		var i=0,easeFun;
		var start=startFrame.index,end=endFrame.index;
		var startValue=startFrame.value;
		var dValue=endFrame.value-startFrame.value;
		var dLen=end-start;
		var frames=this._usedFrames;
		if (end > this._count)this._count=end;
		if (startFrame.tween){
			easeFun=Ease[startFrame.tweenMethod];
			if (easeFun==null)easeFun=Ease.linearNone;
			for (i=start;i < end;i++){
				result[i]=easeFun(i-start,startValue,dValue,dLen);
				if (frames)frames[i]=true;
			}
			}else {
			for (i=start;i < end;i++){
				result[i]=startValue;
			}
		}
		if (frames){
			frames[startFrame.index]=true;
			frames[endFrame.index]=true;
		}
		result[endFrame.index]=endFrame.value;
	}

	FrameAnimation._sortIndexFun=null;
	return FrameAnimation;
})(AnimationBase)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/DataTexture2D.as=======95.998133/95.998133
//class laya.d3.resource.DataTexture2D extends laya.webgl.resource.BaseTexture
var DataTexture2D=(function(_super){
	function DataTexture2D(){
		this.simLodInfo=null;
		/**@private Imagedata */
		this._buffer=null;
		this._mipmaps=null;
		/**@private 异步加载锁*/
		this._recreateLock=false;
		/**@private 异步加载完成后是否需要释放（有可能在恢复过程中,再次被释放，用此变量做标记）*/
		this._needReleaseAgain=false;
		DataTexture2D.__super.call(this);
		this._glTextureType=0x0DE1;
	}

	__class(DataTexture2D,'laya.d3.resource.DataTexture2D',_super);
	var __proto=DataTexture2D.prototype;
	__proto.genDebugMipmaps=function(){
		var ret=[];
		ret.push(new Uint8Array((new Uint32Array(512 *256)).fill(0xff0000ff).buffer));
		ret.push(new Uint8Array((new Uint32Array(256 *128)).fill(0xff0080ff).buffer));
		ret.push(new Uint8Array((new Uint32Array(128 *64)).fill(0xff00ffff).buffer));
		ret.push(new Uint8Array((new Uint32Array(64 *32)).fill(0xff00ff00).buffer));
		ret.push(new Uint8Array((new Uint32Array(32 *16)).fill(0xff804000).buffer));
		ret.push(new Uint8Array((new Uint32Array(16 *8)).fill(0xffff0000).buffer));
		ret.push(new Uint8Array((new Uint32Array(8 *4)).fill(0xffff0080).buffer));
		ret.push(new Uint8Array((new Uint32Array(4 *2)).fill(0x0).buffer));
		ret.push(new Uint8Array((new Uint32Array(2 *1)).fill(0xff808080).buffer));
		ret.push(new Uint8Array((new Uint32Array(1 *1)).fill(0xffffffff).buffer));
		return ret;
	}

	/**
	*@private
	*/
	__proto._onTextureLoaded=function(buff){}
	/**
	*@private
	*/
	__proto._createWebGlTexture=function(){
		if (!this._buffer && !this._mipmaps)
			throw "create GLTextur err:no data";
		var gl=LayaGL.instance;
		gl.getExtension("EXT_shader_texture_lod");
		var w=this._width;
		var h=this._height;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		if (this._mipmaps){
			if (laya.d3.resource.DataTexture2D.lodasatlas){
				var infoi=0;
				gl.texImage2D(this._glTextureType,0,0x1908,this._width,this._height,0,0x1908,0x1401,null);
				for (var i=0;i < this._mipmaps.length;i++){
					if (this._mipmaps[i].byteLength !=cw *ch *4){
						throw "mipmap size error  level:"+i;
					}
					gl.texSubImage2D(this._glTextureType,0,DataTexture2D.simLodRect[infoi++],DataTexture2D.simLodRect[infoi++],DataTexture2D.simLodRect[infoi++],DataTexture2D.simLodRect[infoi++],0x1908,0x1401,new Uint8Array(this._mipmaps[i]));
				}
				this.minFifter=0x2601;
				this.magFifter=0x2601;
				}else {
				var cw=this._width;
				var ch=this._height;
				infoi=0;
				gl.texImage2D(this._glTextureType,0,0x1908,this._width,this._height,0,0x1908,0x1401,null);
				for (i=0;i < this._mipmaps.length;i++){
					if (this._mipmaps[i].byteLength !=cw *ch *4){
						throw "mipmap size error  level:"+i;
					}
					gl.texImage2D(this._glTextureType,i,0x1908,cw,ch,0,0x1908,0x1401,new Uint8Array(this._mipmaps[i]));
					cw /=2;
					ch /=2;
					if (cw < 1)cw=1;
					if (ch < 1)ch=1;
					this.minFifter=0x2703;
					this.magFifter=0x2601;
				}
			}
			this.mipmap=false;
			}else {
			gl.texImage2D(this._glTextureType,0,0x1908,w,h,0,0x1908,0x1401,new Uint8Array(this._buffer));
		};
		var minFifter=this._minFifter;
		var magFifter=this._magFifter;
		var repeat=this._repeat ? 0x2901 :0x812F;
		var isPot=Arith.isPOT(w,h);
		if (isPot){
			if (this._mipmap || this._mipmaps)
				(minFifter!==-1)|| (minFifter=0x2703);
			else
			(minFifter!==-1)|| (minFifter=0x2601);
			(magFifter!==-1)|| (magFifter=0x2601);
			gl.texParameteri(this._glTextureType,0x2801,minFifter);
			gl.texParameteri(this._glTextureType,0x2800,magFifter);
			gl.texParameteri(this._glTextureType,0x2802,repeat);
			if (this._mipmaps)
				gl.texParameteri(this._glTextureType,0x2803,0x812F);
			else
			gl.texParameteri(this._glTextureType,0x2803,repeat);
			this._mipmap && gl.generateMipmap(this._glTextureType);
			}else {
			throw "data texture must be POT";
		}
		if (this.src && this.src.length > 0)
			this._buffer=null;
		if (isPot)
			this._setGPUMemory(w *h *4 *(1+1 / 3));
		else
		this._setGPUMemory(w *h *4);
		this._recreateLock=false;
	}

	/**
	*@private
	*/
	__proto._onAsynLoaded=function(data,params){
		var imgdata;
		if (params){
			imgdata=params[0].call(this,data);
		}
		if (imgdata){
			this._width=imgdata.width;
			this._height=imgdata.height;
			this._buffer=imgdata.data;
		}
	}

	/**
	*返回图片像素。
	*@return 图片像素。
	*/
	__proto.getPixels=function(){
		return new Uint8Array(this._buffer);
	}

	/**
	*销毁资源。
	*/
	__proto._disposeResource=function(){
		if (this._recreateLock){
			this._needReleaseAgain=true;
		}
		if (this._glTexture){
			LayaGL.instance.deleteTexture(this._glTexture);
			this._glTexture=null;
			this._buffer=null;
			this._setGPUMemory(0);
		}
	}

	DataTexture2D.create=function(data,w,h,magfilter,minfilter,mipmap){
		(magfilter===void 0)&& (magfilter=0x2601);
		(minfilter===void 0)&& (minfilter=0x2601);
		(mipmap===void 0)&& (mipmap=true);
		if (!data || data.byteLength < (w *h *4))
			throw 'DataTexture2D create error';
		var ret=new DataTexture2D();
		ret._buffer=data;
		ret._width=w;
		ret._height=h;
		ret._mipmap=mipmap;
		ret._magFifter=magfilter;
		ret._minFifter=minfilter;
		if (ret._conchTexture){
			alert('怎么给runtime传递datatexture数据');
		}else
		ret.activeResource();
		return ret;
	}

	DataTexture2D.load=function(url,w,h,magfilter,minfilter){
		(w===void 0)&& (w=0);
		(h===void 0)&& (h=0);
		(magfilter===void 0)&& (magfilter=0x2601);
		(minfilter===void 0)&& (minfilter=0x2601);
		var extension=Utils.getFileExtension(url);
		if (extension==='mipmaps'){
			var ret=Laya.loader.create(url,null,null,DataTexture2D,[function(data){
				this._mipmaps=[];
				var szinfo=new Uint32Array(data);
				this._width=szinfo[0];
				var validw=512;
				if (laya.d3.resource.DataTexture2D.lodasatlas){
					this._width *=2;
					validw=1024;
				}
				if (this._width !=validw){
					console.error("现在只支持512x256的环境贴图。当前的是"+szinfo[0]);
					throw "现在只支持512x256的环境贴图。当前的是"+szinfo[0];
				}
				this._height=szinfo[1];
				var curw=laya.d3.resource.DataTexture2D.lodasatlas ? this._width / 2 :this._width;
				var curh=this._height;
				var cursz=8;
				while (true){
					var curbufsz=curw *curh *4;
					if (cursz+curbufsz > data.byteLength){
						throw "load mipmaps data size error ";
					};
					var tbuf=new Uint8Array(data,cursz,curbufsz);
					this._mipmaps.push(tbuf);
					cursz+=curbufsz;
					if (curw==1 && curh==1){
						break ;
					}
					curw /=2;
					curh /=2;
					if (curw < 1)curw=1;
					if (curh < 1)curh=1;
				}
				return null;
			}]);
			if (laya.d3.resource.DataTexture2D.lodasatlas){
				ret.simLodInfo=new Float32Array(40);
				for (var i=0;i < ret.simLodInfo.length;){
					ret.simLodInfo[i]=(DataTexture2D.simLodRect[i]+0.5)/ 1024;
					i++;
					ret.simLodInfo[i]=(DataTexture2D.simLodRect[i]+0.5)/ 256;
					i++;
					ret.simLodInfo[i]=Math.max(DataTexture2D.simLodRect[i]-1,0.1)/ 1024;
					i++;
					ret.simLodInfo[i]=Math.max(DataTexture2D.simLodRect[i]-1.5,0.1)/ 256;
					i++;
				}
			}
			return ret;
			}else if (typeof(w)=='number'){
			return Laya.loader.create(url,null,null,DataTexture2D,[function(data){
				this._width=w;
				this._height=h;
				this._buffer=data;
				return null;
			}]);
			}else if (typeof(w)=='function'){
			return Laya.loader.create(url,null,null,DataTexture2D,[w]);
			}else {
			throw new Error("unknown params.");
		}
	}

	DataTexture2D.lodasatlas=false;
	__static(DataTexture2D,
	['simLodRect',function(){return this.simLodRect=new Uint32Array([
		0,0,512,256,512,0,256,128,512+256,0,128,64,512+256+128,0,64,32,512+256+128+64,0,32,16,512+256+128+64+32,0,16,8,512+256+128+64+32+16,0,8,4,512+256+128+64+32+16+8,0,4,2,512+256+128+64+32+16+8+4,0,2,1,512+256+128+64+32+16+8+4+2,0,1,1]);}
	]);
	return DataTexture2D;
})(BaseTexture)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/RenderTexture.as=======95.998116/95.998116
/**
*<code>RenderTexture</code> 类用于创建渲染目标。
*/
//class laya.d3.resource.RenderTexture extends laya.webgl.resource.BaseTexture
var RenderTexture=(function(_super){
	function RenderTexture(width,height,format,depthStencilFormat){
		/**@private */
		//this._frameBuffer=null;
		/**@private */
		//this._depthStencilBuffer=null;
		/**@private */
		//this._depthStencilFormat=0;
		(format===void 0)&& (format=0);
		(depthStencilFormat===void 0)&& (depthStencilFormat=0);
		RenderTexture.__super.call(this,format,false);
		this._glTextureType=0x0DE1;
		this._width=width;
		this._height=height;
		this._depthStencilFormat=depthStencilFormat;
		this._create(width,height);
	}

	__class(RenderTexture,'laya.d3.resource.RenderTexture',_super);
	var __proto=RenderTexture.prototype;
	/**
	*@private
	*/
	__proto._create=function(width,height){
		var gl=LayaGL.instance;
		this._frameBuffer=gl.createFramebuffer();
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		gl.texImage2D(this._glTextureType,0,glFormat,width,height,0,glFormat,0x1401,null);
		this._setGPUMemory(width *height *4);
		gl.bindFramebuffer(0x8D40,this._frameBuffer);
		gl.framebufferTexture2D(0x8D40,0x8CE0,0x0DE1,this._glTexture,0);
		if (this._depthStencilFormat!==3){
			this._depthStencilBuffer=gl.createRenderbuffer();
			gl.bindRenderbuffer(0x8D41,this._depthStencilBuffer);
			switch (this._depthStencilFormat){
				case 0:
					gl.renderbufferStorage(0x8D41,0x81A5,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x8D00,0x8D41,this._depthStencilBuffer);
					break ;
				case 1:
					gl.renderbufferStorage(0x8D41,0x8D48,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x8D20,0x8D41,this._depthStencilBuffer);
					break ;
				case 2:
					gl.renderbufferStorage(0x8D41,0x84F9,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x821A,0x8D41,this._depthStencilBuffer);
					break ;
				default :
					throw "RenderTexture: unkonw depth format.";
				}
		}
		gl.bindFramebuffer(0x8D40,null);
		gl.bindRenderbuffer(0x8D41,null);
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._setAnisotropy(this._anisoLevel);
		this._readyed=true;
		this._activeResource();
	}

	/**
	*生成mipMap。
	*/
	__proto.generateMipmap=function(){
		if (this._isPot(this.width)&& this._isPot(this.height)){
			this._mipmap=true;
			LayaGL.instance.generateMipmap(this._glTextureType);
			this._setFilterMode(this._filterMode);
			this._setGPUMemory(this.width *this.height *4 *(1+1 / 3));
			}else {
			this._mipmap=false;
			this._setGPUMemory(this.width *this.height *4 *(1+1 / 3));
		}
	}

	/**
	*开始绑定。
	*/
	__proto.start=function(){
		LayaGL.instance.bindFramebuffer(0x8D40,this._frameBuffer);
		RenderTexture._currentActive=this;
		this._readyed=false;
	}

	/**
	*结束绑定。
	*/
	__proto.end=function(){
		LayaGL.instance.bindFramebuffer(0x8D40,null);
		RenderTexture._currentActive=null;
		this._readyed=true;
	}

	/**
	*获得像素数据。
	*@param x X像素坐标。
	*@param y Y像素坐标。
	*@param width 宽度。
	*@param height 高度。
	*@return 像素数据。
	*/
	__proto.getData=function(x,y,width,height){
		var gl=LayaGL.instance;
		gl.bindFramebuffer(0x8D40,this._frameBuffer);
		var canRead=(gl.checkFramebufferStatus(0x8D40)===0x8CD5);
		if (!canRead){
			gl.bindFramebuffer(0x8D40,null);
			return null;
		};
		var pixels=new Uint8Array(this._width *this._height *4);
		var glFormat=this._getGLFormat();
		gl.readPixels(x,y,width,height,glFormat,0x1401,pixels);
		gl.bindFramebuffer(0x8D40,null);
		return pixels;
	}

	/**
	*@inheritDoc
	*/
	__proto.disposeResource=function(){
		if (this._frameBuffer){
			var gl=LayaGL.instance;
			gl.deleteTexture(this._glTexture);
			gl.deleteFramebuffer(this._frameBuffer);
			gl.deleteRenderbuffer(this._depthStencilBuffer);
			this._glTexture=null;
			this._frameBuffer=null;
			this._depthStencilBuffer=null;
			this._setGPUMemory(0);
		}
	}

	/**
	*获取深度格式。
	*@return 深度格式。
	*/
	__getset(0,__proto,'depthStencilFormat',function(){
		return this._depthStencilFormat;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'defaulteTexture',function(){
		return Texture2D.grayTexture;
	});

	/**
	*获取当前激活的Rendertexture
	*/
	__getset(1,RenderTexture,'currentActive',function(){
		return RenderTexture._currentActive;
	},laya.webgl.resource.BaseTexture._$SET_currentActive);

	RenderTexture._currentActive=null;
	return RenderTexture;
})(BaseTexture)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/TextureCube.as=======95.998115/95.998115
/**
*<code>TextureCube</code> 类用于生成立方体纹理。
*/
//class laya.d3.resource.TextureCube extends laya.webgl.resource.BaseTexture
var TextureCube=(function(_super){
	function TextureCube(format,mipmap){
		/**@private */
		//this._premultiplyAlpha=0;
		(format===void 0)&& (format=0);
		(mipmap===void 0)&& (mipmap=false);
		TextureCube.__super.call(this,format,mipmap);
		this._glTextureType=0x8513;
	}

	__class(TextureCube,'laya.d3.resource.TextureCube',_super);
	var __proto=TextureCube.prototype;
	/**
	*通过六张图片源填充纹理。
	*@param 图片源数组。
	*/
	__proto.setSixSideImageSources=function(source,premultiplyAlpha){
		(premultiplyAlpha===void 0)&& (premultiplyAlpha=false);
		var width=0;
		var height=0;
		for (var i=0;i < 6;i++){
			var nextWidth=source[i].width;
			var nextHeight=source[i].height;
			if (i > 0){
				if (width!==nextWidth)
					throw "TextureCube: each side image's width and height must same.";
			}
			width=nextWidth;
			height=nextHeight;
			if (width!==height)
				throw "TextureCube: each side image's width and height must same.";
		}
		this._width=width;
		this._height=height;
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		if (!Render.isConchApp){
			(premultiplyAlpha)&& (gl.pixelStorei(0x9241,true));
			gl.texImage2D(0x8519,0,glFormat,glFormat,0x1401,source[0]);
			gl.texImage2D(0x851A,0,glFormat,glFormat,0x1401,source[1]);
			gl.texImage2D(0x8515,0,glFormat,glFormat,0x1401,source[2]);
			gl.texImage2D(0x8516,0,glFormat,glFormat,0x1401,source[3]);
			gl.texImage2D(0x8517,0,glFormat,glFormat,0x1401,source[4]);
			gl.texImage2D(0x8518,0,glFormat,glFormat,0x1401,source[5]);
			(premultiplyAlpha)&& (gl.pixelStorei(0x9241,false));
		}
		else{
			if (premultiplyAlpha==true){
				for (var i=0;i < 6;i++){
					source[i].setPremultiplyAlpha(premultiplyAlpha);
				}
			}
			gl.texImage2D(0x8519,0,0x1908,0x1908,0x1401,source[0]);
			gl.texImage2D(0x851A,0,0x1908,0x1908,0x1401,source[1]);
			gl.texImage2D(0x8515,0,0x1908,0x1908,0x1401,source[2]);
			gl.texImage2D(0x8516,0,0x1908,0x1908,0x1401,source[3]);
			gl.texImage2D(0x8517,0,0x1908,0x1908,0x1401,source[4]);
			gl.texImage2D(0x8518,0,0x1908,0x1908,0x1401,source[5]);
		}
		if (this._mipmap && this._isPot(width)&& this._isPot(height)){
			gl.generateMipmap(this._glTextureType);
			this._setGPUMemory(width *height *4 *(1+1 / 3)*6);
			}else {
			this._setGPUMemory(width *height *4 *6);
		}
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._readyed=true;
		this._activeResource();
	}

	/**
	*通过六张图片源填充纹理。
	*@param 图片源数组。
	*/
	__proto.setSixSidePixels=function(width,height,pixels){
		if (width <=0 || height <=0)
			throw new Error("TextureCube:width or height must large than 0.");
		if (!pixels)
			throw new Error("TextureCube:pixels can't be null.");
		this._width=width;
		this._height=height;
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		gl.texImage2D(0x8519,0,glFormat,width,height,0,glFormat,0x1401,pixels[0]);
		gl.texImage2D(0x851A,0,glFormat,width,height,0,glFormat,0x1401,pixels[1]);
		gl.texImage2D(0x8515,0,glFormat,width,height,0,glFormat,0x1401,pixels[2]);
		gl.texImage2D(0x8516,0,glFormat,width,height,0,glFormat,0x1401,pixels[3]);
		gl.texImage2D(0x8517,0,glFormat,width,height,0,glFormat,0x1401,pixels[4]);
		gl.texImage2D(0x8518,0,glFormat,width,height,0,glFormat,0x1401,pixels[5]);
		if (this._mipmap && this._isPot(width)&& this._isPot(height)){
			gl.generateMipmap(this._glTextureType);
			this._setGPUMemory(width *height *4 *(1+1 / 3)*6);
			}else {
			this._setGPUMemory(width *height *4 *6);
		}
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._readyed=true;
		this._activeResource();
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		_super.prototype._onAsynLoaded.call(this,data,params);
		this.setSixSideImageSources(data);
	}

	/**
	*@inheritDoc
	*/
	__proto._recoverResource=function(){}
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'defaulteTexture',function(){
		return TextureCube.grayTexture;
	});

	TextureCube.__init__=function(){
		var pixels=new Uint8Array(3);
		pixels[0]=128;
		pixels[1]=128;
		pixels[2]=128;
		TextureCube.grayTexture=new TextureCube(0,false);
		TextureCube.grayTexture.setSixSidePixels(1,1,[pixels,pixels,pixels,pixels,pixels,pixels]);
		TextureCube.grayTexture.lock=true;
	}

	TextureCube.load=function(url){
		return Laya.loader.create(url,null,null,TextureCube);
	}

	TextureCube.grayTexture=null;
	return TextureCube;
})(BaseTexture)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/resource/models/SphereMesh.as=======95.998109/95.998109
/**
*<code>Sphere</code> 类用于创建球体。
*/
//class laya.d3.resource.models.SphereMesh extends laya.d3.resource.models.PrimitiveMesh
var SphereMesh=(function(_super){
	function SphereMesh(radius,stacks,slices){
		/**@private */
		this._radius=NaN;
		/**@private */
		this._slices=0;
		/**@private */
		this._stacks=0;
		(radius===void 0)&& (radius=0.5);
		(stacks===void 0)&& (stacks=32);
		(slices===void 0)&& (slices=32);
		SphereMesh.__super.call(this);
		this._radius=radius;
		this._stacks=stacks;
		this._slices=slices;
		this._create();
	}

	__class(SphereMesh,'laya.d3.resource.models.SphereMesh',_super);
	var __proto=SphereMesh.prototype;
	/**
	*@private
	*/
	__proto._create=function(){
		var vertexCount=(this._stacks+1)*(this._slices+1);
		var indexCount=(3 *this._stacks *(this._slices+1))*2;
		var indices=new Uint16Array(indexCount);
		var vertexDeclaration=VertexPositionNormalTexture.vertexDeclaration;
		var vertexFloatStride=vertexDeclaration.vertexStride / 4;
		var vertices=new Float32Array(vertexCount *vertexFloatStride);
		var stackAngle=Math.PI / this._stacks;
		var sliceAngle=(Math.PI *2.0)/ this._slices;
		var vertexIndex=0;
		var vertexCount=0;
		var indexCount=0;
		for (var stack=0;stack < (this._stacks+1);stack++){
			var r=Math.sin(stack *stackAngle);
			var y=Math.cos(stack *stackAngle);
			for (var slice=0;slice < (this._slices+1);slice++){
				var x=r *Math.sin(slice *sliceAngle+Math.PI *1 / 2);
				var z=r *Math.cos(slice *sliceAngle+Math.PI *1 / 2);
				vertices[vertexCount+0]=x *this._radius;
				vertices[vertexCount+1]=y *this._radius;
				vertices[vertexCount+2]=z *this._radius;
				vertices[vertexCount+3]=x;
				vertices[vertexCount+4]=y;
				vertices[vertexCount+5]=z;
				vertices[vertexCount+6]=slice / this._slices;
				vertices[vertexCount+7]=stack / this._stacks;
				vertexCount+=vertexFloatStride;
				if (stack !=(this._stacks-1)){
					indices[indexCount++]=vertexIndex+(this._slices+1);
					indices[indexCount++]=vertexIndex;
					indices[indexCount++]=vertexIndex+1;
					indices[indexCount++]=vertexIndex+(this._slices);
					indices[indexCount++]=vertexIndex;
					indices[indexCount++]=vertexIndex+(this._slices+1);
					vertexIndex++;
				}
			}
		}
		this.setData(vertexDeclaration,vertices,indices);
	}

	/**
	*设置半径（改变此属性会重新生成顶点和索引）
	*@param value 半径
	*/
	/**
	*返回半径
	*@return 半径
	*/
	__getset(0,__proto,'radius',function(){
		return this._radius;
		},function(value){
		if (this._radius!==value){
			this._radius=value;
			this.releaseResource();
			this._create();
		}
	});

	/**
	*设置宽度分段（改变此属性会重新生成顶点和索引）
	*@param value 宽度分段
	*/
	/**
	*获取宽度分段
	*@return 宽度分段
	*/
	__getset(0,__proto,'slices',function(){
		return this._slices;
		},function(value){
		if (this._slices!==value){
			this._slices=value;
			this.releaseResource();
			this._create();
		}
	});

	/**
	*设置高度分段（改变此属性会重新生成顶点和索引）
	*@param value高度分段
	*/
	/**
	*获取高度分段
	*@return 高度分段
	*/
	__getset(0,__proto,'stacks',function(){
		return this._stacks;
		},function(value){
		if (this._stacks!==value){
			this._stacks=value;
			this.releaseResource();
			this._create();
		}
	});

	return SphereMesh;
})(PrimitiveMesh)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/WtextField.as=======95.997950/95.997950
/**
*文本组件
*@author wulongbin
*
*/
//class wlb.dream.displays.coms.WtextField extends laya.display.Text
var WtextField=(function(_super){
	function WtextField(){
		WtextField.__super.call(this);
	}

	__class(WtextField,'wlb.dream.displays.coms.WtextField',_super);
	var __proto=WtextField.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.IdisplayObject":true})
	__proto.addToParent=function(parent){
		parent.addDisplay(this);
	}

	__proto.addAtParent=function(parent,index){
		parent.addDisplayAt(this,index);
	}

	__proto.setTextFormat=function(f){
		this.font=f.font;
		this.fontSize=f.fontSize;
		if(f.color==null)throw 'AAAA';
		this.color=f.color;
	}

	__getset(0,__proto,'childIndex',function(){
		if(this.parent)return this.parent.getChildIndex(this);
		return-1;
	});

	__getset(0,__proto,'text',_super.prototype._$get_text,function(value){
		if(this._text==value)return;
		Laya.superSet(Text,this,'text',value);
	});

	return WtextField;
})(Text)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/RenderTexture2D.as=======95.997724/95.997724
/**
*<code>RenderTexture</code> 类用于创建渲染目标。
*/
//class laya.webgl.resource.RenderTexture2D extends laya.webgl.resource.BaseTexture
var RenderTexture2D=(function(_super){
	function RenderTexture2D(width,height,format,depthStencilFormat){
		//this._lastRT=null;
		//this._lastWidth=NaN;
		//this._lastHeight=NaN;
		/**@private */
		//this._frameBuffer=null;
		/**@private */
		//this._depthStencilBuffer=null;
		/**@private */
		//this._depthStencilFormat=0;
		this._mgrKey=0;
		(format===void 0)&& (format=0);
		(depthStencilFormat===void 0)&& (depthStencilFormat=0);
		RenderTexture2D.__super.call(this,format,false);
		this._glTextureType=0x0DE1;
		this._width=width;
		this._height=height;
		this._depthStencilFormat=depthStencilFormat;
		this._create(width,height);
	}

	__class(RenderTexture2D,'laya.webgl.resource.RenderTexture2D',_super);
	var __proto=RenderTexture2D.prototype;
	/**
	*@private
	*/
	__proto._create=function(width,height){
		var gl=LayaGL.instance;
		this._frameBuffer=gl.createFramebuffer();
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		gl.texImage2D(this._glTextureType,0,glFormat,width,height,0,glFormat,0x1401,null);
		this._setGPUMemory(width *height *4);
		gl.bindFramebuffer(0x8D40,this._frameBuffer);
		gl.framebufferTexture2D(0x8D40,0x8CE0,0x0DE1,this._glTexture,0);
		if (this._depthStencilFormat!==3){
			this._depthStencilBuffer=gl.createRenderbuffer();
			gl.bindRenderbuffer(0x8D41,this._depthStencilBuffer);
			switch (this._depthStencilFormat){
				case 0:
					gl.renderbufferStorage(0x8D41,0x81A5,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x8D00,0x8D41,this._depthStencilBuffer);
					break ;
				case 1:
					gl.renderbufferStorage(0x8D41,0x8D48,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x8D20,0x8D41,this._depthStencilBuffer);
					break ;
				case 2:
					gl.renderbufferStorage(0x8D41,0x84F9,width,height);
					gl.framebufferRenderbuffer(0x8D40,0x821A,0x8D41,this._depthStencilBuffer);
					break ;
				default :
					console.log("RenderTexture: unkonw depth format.");
				}
		}
		gl.bindFramebuffer(0x8D40,null);
		gl.bindRenderbuffer(0x8D41,null);
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._setAnisotropy(this._anisoLevel);
		this._readyed=true;
		this._activeResource();
	}

	/**
	*生成mipMap。
	*/
	__proto.generateMipmap=function(){
		if (this._isPot(this.width)&& this._isPot(this.height)){
			this._mipmap=true;
			LayaGL.instance.generateMipmap(this._glTextureType);
			this._setFilterMode(this._filterMode);
			this._setGPUMemory(this.width *this.height *4 *(1+1 / 3));
			}else {
			this._mipmap=false;
			this._setGPUMemory(this.width *this.height *4);
		}
	}

	/**
	*开始绑定。
	*/
	__proto.start=function(){
		var gl=LayaGL.instance;
		LayaGL.instance.bindFramebuffer(0x8D40,this._frameBuffer);
		RenderTexture2D._currentActive=this;
		this._readyed=true;
		gl.viewport(0,0,this._width,this._height);
		this._lastWidth=RenderState2D.width;
		this._lastHeight=RenderState2D.height;
		RenderState2D.width=this._width;
		RenderState2D.height=this._height;
		BaseShader.activeShader=null;
	}

	/**
	*结束绑定。
	*/
	__proto.end=function(){
		LayaGL.instance.bindFramebuffer(0x8D40,null);
		RenderTexture2D._currentActive=null;
		this._readyed=true;
	}

	/**
	*恢复上一次的RenderTarge.由于使用自己保存的，所以如果被外面打断了的话，会出错。
	*/
	__proto.restore=function(){
		var gl=LayaGL.instance;
		if (this._lastRT !=RenderTexture2D._currentActive){
			LayaGL.instance.bindFramebuffer(0x8D40,this._lastRT?this._lastRT._frameBuffer:null);
			RenderTexture2D._currentActive=this._lastRT;
		}
		this._readyed=true;
		gl.viewport(0,0,this._lastWidth,this._lastHeight);
		RenderState2D.width=this._lastWidth;
		RenderState2D.height=this._lastHeight;
		BaseShader.activeShader=null;
	}

	// gl.viewport(0,0,Laya.stage.width,Laya.stage.height);
	__proto.clear=function(r,g,b,a){
		(r===void 0)&& (r=0.0);
		(g===void 0)&& (g=0.0);
		(b===void 0)&& (b=0.0);
		(a===void 0)&& (a=1.0);
		var gl=LayaGL.instance;
		gl.clearColor(r,g,b,a);
		var clearFlag=0x00004000;
		switch (this._depthStencilFormat){
			case 0x81A5:
				clearFlag |=0x00000100;
				break ;
			case 0x8D48:
				clearFlag |=0x00000400;
				break ;
			case 0x84F9:
				clearFlag |=0x00000100;
				clearFlag |=0x00000400
				break ;
			}
		gl.clear(clearFlag);
	}

	/**
	*获得像素数据。
	*@param x X像素坐标。
	*@param y Y像素坐标。
	*@param width 宽度。
	*@param height 高度。
	*@return 像素数据。
	*/
	__proto.getData=function(x,y,width,height){
		var gl=LayaGL.instance;
		gl.bindFramebuffer(0x8D40,this._frameBuffer);
		var canRead=(gl.checkFramebufferStatus(0x8D40)===0x8CD5);
		if (!canRead){
			gl.bindFramebuffer(0x8D40,null);
			return null;
		};
		var pixels=new Uint8Array(this._width *this._height *4);
		var glFormat=this._getGLFormat();
		gl.readPixels(x,y,width,height,glFormat,0x1401,pixels);
		gl.bindFramebuffer(0x8D40,null);
		return pixels;
	}

	/**
	*@inheritDoc
	*/
	__proto._disposeResource=function(){
		if (this._frameBuffer){
			var gl=LayaGL.instance;
			gl.deleteTexture(this._glTexture);
			gl.deleteFramebuffer(this._frameBuffer);
			gl.deleteRenderbuffer(this._depthStencilBuffer);
			this._glTexture=null;
			this._frameBuffer=null;
			this._depthStencilBuffer=null;
			this._setGPUMemory(0);
		}
	}

	/**
	*获取深度格式。
	*@return 深度格式。
	*/
	__getset(0,__proto,'depthStencilFormat',function(){
		return this._depthStencilFormat;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'defaulteTexture',function(){
		return Texture2D.grayTexture;
	});

	/**
	*获取当前激活的Rendertexture
	*/
	__getset(1,RenderTexture2D,'currentActive',function(){
		return RenderTexture2D._currentActive;
	},laya.webgl.resource.BaseTexture._$SET_currentActive);

	RenderTexture2D.pushRT=function(){
		RenderTexture2D.rtStack.push({rt:RenderTexture2D._currentActive,w:RenderState2D.width,h:RenderState2D.height});
	}

	RenderTexture2D.popRT=function(){
		var gl=LayaGL.instance;
		var top=RenderTexture2D.rtStack.pop();
		if (top){
			if (RenderTexture2D._currentActive !=top.rt){
				LayaGL.instance.bindFramebuffer(0x8D40,top.rt?top.rt._frameBuffer:null);
				RenderTexture2D._currentActive=top.rt;
			}
			gl.viewport(0,0,top.w,top.h);
			RenderState2D.width=top.w;
			RenderState2D.height=top.h;
		}
	}

	RenderTexture2D._currentActive=null;
	RenderTexture2D.rtStack=[];
	__static(RenderTexture2D,
	['defuv',function(){return this.defuv=[0,0,1,0,1,1,0,1];},'flipyuv',function(){return this.flipyuv=[0,1,1,1,1,0,0,0];}
	]);
	return RenderTexture2D;
})(BaseTexture)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/resource/Texture2D.as=======95.997723/95.997723
/**
*<code>Texture2D</code> 类用于生成2D纹理。
*/
//class laya.webgl.resource.Texture2D extends laya.webgl.resource.BaseTexture
var Texture2D=(function(_super){
	function Texture2D(format,mipmap,canRead){
		/**@private */
		//this._canRead=false;
		/**@private */
		//this._pixels=null;
		(format===void 0)&& (format=1);
		(mipmap===void 0)&& (mipmap=true);
		(canRead===void 0)&& (canRead=false);
		Texture2D.__super.call(this,format,mipmap);
		this._glTextureType=0x0DE1;
		this._canRead=canRead;
	}

	__class(Texture2D,'laya.webgl.resource.Texture2D',_super);
	var __proto=Texture2D.prototype;
	/**
	*通过图片源填充纹理,可为HTMLImageElement、HTMLCanvasElement、HTMLVideoElement、ImageBitmap、ImageData。
	*/
	__proto.setImageSource=function(source,premultiplyAlpha){
		(premultiplyAlpha===void 0)&& (premultiplyAlpha=false);
		var width=source.width;
		var height=source.height;
		if (width <=0 || height <=0)
			throw new Error("Texture2D:width or height must large than 0.");
		this._width=width;
		this._height=height;
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		if (Render.isConchApp){
			source.setPremultiplyAlpha(premultiplyAlpha);
			gl.texImage2D(this._glTextureType,0,0x1908,0x1908,0x1401,source);
			}else {
			(premultiplyAlpha)&& (gl.pixelStorei(0x9241,true));
			gl.texImage2D(this._glTextureType,0,glFormat,glFormat,0x1401,source);
			(premultiplyAlpha)&& (gl.pixelStorei(0x9241,false));
		}
		if (this._mipmap && this._isPot(width)&& this._isPot(height)){
			gl.generateMipmap(this._glTextureType);
			this._setGPUMemory(width *height *4 *(1+1 / 3));
			}else {
			this._setGPUMemory(width *height *4);
		}
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._setAnisotropy(this._anisoLevel);
		if (this._canRead){
			Browser.canvas.size(width,height);
			Browser.canvas.clear();
			Browser.context.drawImage(source,0,0,width,height);
			this._pixels=new Uint8Array(Browser.context.getImageData(0,0,width,height).data.buffer);
		}
		this._readyed=true;
		this._activeResource();
	}

	/**
	*通过像素填充纹理。
	*@param width 像素宽。
	*@param height 像素高。
	*@param pixels 像素。
	*/
	__proto.setPixels=function(width,height,pixels){
		if (width <=0 || height <=0)
			throw new Error("Texture2D:width or height must large than 0.");
		if (!pixels)
			throw new Error("Texture2D:pixels can't be null.");
		this._width=width;
		this._height=height;
		var gl=LayaGL.instance;
		WebGLContext.bindTexture(gl,this._glTextureType,this._glTexture);
		var glFormat=this._getGLFormat();
		gl.texImage2D(this._glTextureType,0,glFormat,width,height,0,glFormat,0x1401,pixels);
		if (this._mipmap && this._isPot(width)&& this._isPot(height)){
			gl.generateMipmap(this._glTextureType);
			this._setGPUMemory(width *height *4 *(1+1 / 3));
			}else {
			this._setGPUMemory(width *height *4);
		}
		this._setWarpMode(0x2802,this._wrapModeU);
		this._setWarpMode(0x2803,this._wrapModeV);
		this._setFilterMode(this._filterMode);
		this._setAnisotropy(this._anisoLevel);
		if (this._canRead)
			this._pixels=pixels;
		this._readyed=true;
		this._activeResource();
	}

	/**
	*@inheritDoc
	*/
	__proto._onAsynLoaded=function(data,params){
		if (params&& (typeof params=='object')){
			var canRead=params.canRead;
			(canRead!==undefined)&& (this._canRead=canRead);
		}
		_super.prototype._onAsynLoaded.call(this,data,params);
		this.setImageSource(data);
	}

	/**
	*@inheritDoc
	*/
	__proto._recoverResource=function(){}
	/**
	*返回图片像素。
	*@return 图片像素。
	*/
	__proto.getPixels=function(){
		if (this._canRead)
			return this._pixels;
		else
		throw new Error("Texture2D: must set texture canRead is true.");
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'defaulteTexture',function(){
		return laya.webgl.resource.Texture2D.grayTexture;
	});

	Texture2D.__init__=function(){
		var pixels=new Uint8Array(3);
		pixels[0]=128;
		pixels[1]=128;
		pixels[2]=128;
		Texture2D.grayTexture=new Texture2D(0,false,false);
		Texture2D.grayTexture.setPixels(1,1,pixels);
		Texture2D.grayTexture.lock=true;
	}

	Texture2D.load=function(url){
		return Laya.loader.create(url,null,null,Texture2D);
	}

	Texture2D.grayTexture=null;
	return Texture2D;
})(BaseTexture)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Kcomponent.as=======95.997448/95.997448
//class org.coms.components.Kcomponent extends game.dream.gameUI.WgameUI
var Kcomponent=(function(_super){
	function Kcomponent(parent,xpos,ypos){
		this._tag=-1;
		this._enabled=true;
		Kcomponent.__super.call(this);
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		this.initCom();
		this.move(xpos,ypos);
		if(parent !=null){
			parent.addChild(this);
		}
	}

	__class(Kcomponent,'org.coms.components.Kcomponent',_super);
	var __proto=Kcomponent.prototype;
	/**
	*Initilizes the component.
	*/
	__proto.initCom=function(){
		this.addChildren();
		this.drawAsyn();
	}

	/**
	*Overriden in subclasses to create child display objects.
	*/
	__proto.addChildren=function(){}
	/**
	*Moves the component to the specified position.
	*@param xpos the x position to move the component
	*@param ypos the y position to move the component
	*/
	__proto.move=function(xpos,ypos){
		this.x=Math.round(xpos);
		this.y=Math.round(ypos);
	}

	/**
	*Sets/gets in integer that can identify the component.
	*/
	__getset(0,__proto,'tag',function(){
		return this._tag;
		},function(value){
		this._tag=value;
	});

	/**
	*Sets/gets whether this component is enabled or not.
	*/
	__getset(0,__proto,'enabled',function(){
		return this._enabled;
		},function(value){
		this._enabled=value;
		this.mouseEnabled=this._enabled;
		this.alpha=this._enabled ? 1.0 :0.5;
	});

	return Kcomponent;
})(WgameUI)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Ktriangle.as=======95.997367/95.997367
//class org.coms.components.Ktriangle extends wlb.dream.displays.Wsprite
var Ktriangle=(function(_super){
	function Ktriangle(){
		Ktriangle.__super.call(this);
		this.size(20,20);
	}

	__class(Ktriangle,'org.coms.components.Ktriangle',_super);
	var __proto=Ktriangle.prototype;
	__proto.size=function(width,height){
		var halfW=width*0.5;
		var halfH=height*0.5;
		this.pivotX=halfW;
		this.pivotY=this.pivotX;
		var color='#000000';
		this.graphics.drawRect(0,0,width,height,color);
		color=(Kstyle.ICON_COLOR);
		this.graphics.drawLines(0,0,[this.pivotX+5,this.pivotY-3,this.pivotX,this.pivotY+4,this.pivotX-5,this.pivotY-3],color,2);
		return laya.display.Sprite.prototype.size.call(this,width,height);
	}

	return Ktriangle;
})(Wsprite)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/Wpanel.as=======95.997358/95.997358
/**
*面板基类
*@author wulongbin
*
*/
//class wlb.dream.displays.Wpanel extends wlb.dream.displays.Wsprite
var Wpanel=(function(_super){
	function Wpanel(){
		this._width=1;
		this._height=1;
		Wpanel.__super.call(this);
	}

	__class(Wpanel,'wlb.dream.displays.Wpanel',_super);
	var __proto=Wpanel.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.Ipanel":true})
	__proto.size=function(w,h){
		if(this._width==w&&this._height==h)return this;
		this._width=w;
		this._height=h;
		this.drawAsyn();
		return this;
	}

	__proto.drawAsyn=function(){
		WasynManager.instance.callLater(this,this.drawNow);
	}

	__proto.drawNow=function(){}
	__proto.show=function(parent){}
	__proto.hide=function(){}
	__getset(0,__proto,'width',function(){
		return this._width;
		},function(value){
		this.size(value,this._height);
	});

	__getset(0,__proto,'height',function(){
		return this._height;
		},function(value){
		this.size(this._width,value);
	});

	__getset(0,__proto,'editContainer',function(){
		return this;
	});

	__getset(0,__proto,'isShow',function(){
		return this.parent!=null;
	});

	__getset(0,__proto,'injectIDs',function(){
		return null;
	});

	return Wpanel;
})(Wsprite)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WdragXY.as=======95.997338/95.997338
/**
*拖拽XY图标
*@author wulongbin
*
*/
//class tool.dream.displays.WdragXY extends wlb.dream.displays.Wsprite
var WdragXY=(function(_super){
	function WdragXY(){
		this.parentProxy=null;
		this.updateXY=null;
		this._tempThisX=NaN;
		this._tempThisY=NaN;
		WdragXY.__super.call(this);
		this.graphics.drawCircle(0,0,8,'#ff0000');
		this.graphics.drawLine(-5,0,5,0,'#00ff00',1);
		this.graphics.drawLine(0,-5,0,5,'#00ff00',1);
		this.on("added",this,this.onAddToStage);
		this.on("removed",this,this.onRemoveFromStage);
		this['mouseDownDragBtnHd']=this.mouseDownDragBtnHd.bind(this);
		this['mouseMoveDragBtnHd']=this.mouseMoveDragBtnHd.bind(this);
	}

	__class(WdragXY,'tool.dream.displays.WdragXY',_super);
	var __proto=WdragXY.prototype;
	__proto.onAddToStage=function(event){
		WmouseDownUpEvent.listenerKeyByDisplay(this,this.parentProxy || this.parent,this.mouseDownDragBtnHd,null,this.mouseMoveDragBtnHd);
	}

	__proto.onRemoveFromStage=function(event){
		WmouseDownUpEvent.removeListener(this);
	}

	__proto.mouseMoveDragBtnHd=function(e){
		var offPoint=e.offForParent;
		this.x=this._tempThisX+offPoint.x;
		this.y=this._tempThisY+offPoint.y;
		if(this.updateXY !=null){
			this.updateXY();
		}
	}

	__proto.mouseDownDragBtnHd=function(event){
		this._tempThisX=this.x;
		this._tempThisY=this.y;
	}

	return WdragXY;
})(Wsprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/IndexBuffer2D.as=======95.997329/95.997329
//class laya.webgl.utils.IndexBuffer2D extends laya.webgl.utils.Buffer2D
var IndexBuffer2D=(function(_super){
	function IndexBuffer2D(bufferUsage){
		this._uint16Array=null;
		(bufferUsage===void 0)&& (bufferUsage=0x88E4);
		IndexBuffer2D.__super.call(this);
		this._bufferUsage=bufferUsage;
		this._bufferType=0x8893;
		this._buffer=new ArrayBuffer(8);
	}

	__class(IndexBuffer2D,'laya.webgl.utils.IndexBuffer2D',_super);
	var __proto=IndexBuffer2D.prototype;
	__proto._checkArrayUse=function(){
		this._uint16Array && (this._uint16Array=new Uint16Array(this._buffer));
	}

	__proto.getUint16Array=function(){
		return this._uint16Array || (this._uint16Array=new Uint16Array(this._buffer));
	}

	__proto.destory=function(){
		this._uint16Array=null;
		this._buffer=null;
	}

	IndexBuffer2D.QuadrangleIB=null;
	IndexBuffer2D.create=function(bufferUsage){
		(bufferUsage===void 0)&& (bufferUsage=0x88E4);
		return new IndexBuffer2D(bufferUsage);
	}

	return IndexBuffer2D;
})(Buffer2D)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/managers/WcopyPaste.as=======95.997327/95.997327
//class tool.dream.managers.WcopyPaste extends wlb.dream.displays.Wsprite
var WcopyPaste=(function(_super){
	function WcopyPaste(){
		this._label=null;
		WcopyPaste.__super.call(this);
		this.mouseEnabled=false;
		this.on("added",this,this.onAdd);
		this.on("removed",this,this.onRemove);
		this._label=new WtextField();
		this._label.autoSize="left";
		this._label.mouseEnabled=false;
		this._label.setTextFormat(TextFormat.once('',14,'#ffffff'));
		this.addChild(this._label);
	}

	__class(WcopyPaste,'tool.dream.managers.WcopyPaste',_super);
	var __proto=WcopyPaste.prototype;
	__proto.onRemove=function(event){
		WasynManager.instance.clearFrameLoop(this,this.frame);
	}

	__proto.onAdd=function(event){
		WasynManager.instance.frameLoop(this,this.frame);
	}

	__proto.frame=function(){
		this._label.pos(this.mouseX,this.mouseY-20);
	}

	__getset(0,__proto,'value',null,function(v){
		this._label.text="黏贴值："+String(v);
	});

	return WcopyPaste;
})(Wsprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/utils/VertexBuffer2D.as=======95.997321/95.997321
//class laya.webgl.utils.VertexBuffer2D extends laya.webgl.utils.Buffer2D
var VertexBuffer2D=(function(_super){
	function VertexBuffer2D(vertexStride,bufferUsage){
		this._floatArray32=null;
		this._uint32Array=null;
		this._vertexStride=0;
		VertexBuffer2D.__super.call(this);
		this._vertexStride=vertexStride;
		this._bufferUsage=bufferUsage;
		this._bufferType=0x8892;
		this._buffer=new ArrayBuffer(8);
		this._floatArray32=new Float32Array(this._buffer);
		this._uint32Array=new Uint32Array(this._buffer);
	}

	__class(VertexBuffer2D,'laya.webgl.utils.VertexBuffer2D',_super);
	var __proto=VertexBuffer2D.prototype;
	__proto.getFloat32Array=function(){
		return this._floatArray32;
	}

	/**
	*在当前位置插入float数组。
	*@param data
	*@param pos
	*/
	__proto.appendArray=function(data){
		var oldoff=this._byteLength >> 2;
		this.setByteLength(this._byteLength+data.length *4);
		var vbdata=this.getFloat32Array();
		vbdata.set(data,oldoff);
		this._upload=true;
	}

	__proto._checkArrayUse=function(){
		this._floatArray32 && (this._floatArray32=new Float32Array(this._buffer));
		this._uint32Array && (this._uint32Array=new Uint32Array(this._buffer));
	}

	__proto._disposeResource=function(){
		_super.prototype._disposeResource.call(this);
		if (!Render.isConchApp){
			var enableAtributes=Buffer._bindedAtributeBuffer;
			for (var i=0;i < 10;i++){
				WebGL.mainContext.disableVertexAttribArray(i);
				enableAtributes[i]=null;
			}
		}
	}

	//只删除buffer，不disableVertexAttribArray
	__proto.deleteBuffer=function(){
		_super.prototype._disposeResource.call(this);
	}

	__proto.destroy=function(){
		laya.resource.Resource.prototype.destroy.call(this);
		this._byteLength=0;
		this._upload=true;
		this._buffer=null;
		this._floatArray32=null;
	}

	__getset(0,__proto,'vertexStride',function(){
		return this._vertexStride;
	});

	VertexBuffer2D.create=function(vertexStride,bufferUsage){
		(bufferUsage===void 0)&& (bufferUsage=0x88E8);
		return new VertexBuffer2D(vertexStride,bufferUsage);
	}

	return VertexBuffer2D;
})(Buffer2D)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/popMngers/Wmodal.as=======95.997228/95.997228
/**
*默认模态背景基类
*@author wulongbin
*
*/
//class wlb.dream.popMngers.Wmodal extends wlb.dream.displays.Wsprite
var Wmodal=(function(_super){
	function Wmodal(){
		this.bgColor="#a0a0a0";
		Wmodal.__super.call(this);
		this.initMode();
		this.cacheAsBitmap=true;
		this.alpha=0.5;
	}

	__class(Wmodal,'wlb.dream.popMngers.Wmodal',_super);
	var __proto=Wmodal.prototype;
	__proto.initMode=function(){}
	__proto.size=function(w,h){
		this.graphics.clear();
		this.graphics.drawRect(0,0,w,h,this.bgColor);
		return laya.display.Sprite.prototype.size.call(this,w,h);
	}

	__proto.addAtParent=function(parent,index){
		if(index!=this.childIndex)
			_super.prototype.addAtParent.call(this,parent,index);
	}

	return Wmodal;
})(Wsprite)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/webgl/shader/d2/Shader2X.as=======95.997155/95.997155
//class laya.webgl.shader.d2.Shader2X extends laya.webgl.shader.Shader
var Shader2X=(function(_super){
	function Shader2X(vs,ps,saveName,nameMap){
		this._params2dQuick2=null;
		Shader2X.__super.call(this,vs,ps,saveName,nameMap);
	}

	__class(Shader2X,'laya.webgl.shader.d2.Shader2X',_super);
	var __proto=Shader2X.prototype;
	__proto._disposeResource=function(){
		_super.prototype._disposeResource.call(this);
		this._params2dQuick2=null;
	}

	__proto.upload2dQuick2=function(shaderValue){
		this.upload(shaderValue,this._params2dQuick2 || this._make2dQuick2());
	}

	//去掉size的所有的uniform
	__proto._make2dQuick2=function(){
		if (!this._params2dQuick2){
			this._params2dQuick2=[];
			var params=this._params,one;
			for (var i=0,n=params.length;i < n;i++){
				one=params[i];
				if (one.name!=="size")this._params2dQuick2.push(one);
			}
		}
		return this._params2dQuick2;
	}

	Shader2X.create=function(vs,ps,saveName,nameMap){
		return new Shader2X(vs,ps,saveName,nameMap);
	}

	return Shader2X;
})(Shader)


	//file:///H:/work/sniper/framework/code/client/laya/game/client/path/Parabola3D.as=======95.996373/95.996373
/**
*抛物线3D
*@author wulongbin
*
*/
//class laya.game.client.path.Parabola3D extends laya.game.client.path.LinePathXZ
var Parabola3D=(function(_super){
	function Parabola3D(){
		/**
		*垂直速度
		*/
		this.upspeed=NaN;
		/**
		*重力加速度
		*/
		this.accspeed=NaN;
		/**
		*当前垂直速度
		*/
		this._curUpSpeed=NaN;
		/**
		*重力加速度（毫秒）
		*/
		this._accSpeedm=NaN;
		Parabola3D.__super.call(this);
	}

	__class(Parabola3D,'laya.game.client.path.Parabola3D',_super);
	var __proto=Parabola3D.prototype;
	__proto.onInit=function(){
		_super.prototype.onInit.call(this);
		this._curUpSpeed=this.upspeed;
		this._accSpeedm=this.accspeed*0.001;
	}

	__proto.lockTarget=function(target){
		_super.prototype.lockTarget.call(this,target);
		this.lockTargetPos((target).pos.value);
	}

	__proto.lockTargetPos=function(pos){
		var from=this.gameObj.pos.value;
		var to=pos;
		var length=Vector3.distance(from,to);
		var time=length/this.speed;
		this._curUpSpeed=-this.accspeed*time/2;
	}

	__proto.onLoop=function(){
		var delta=this.timer.delta;
		var pos=this.gameObj.pos;
		this._curUpSpeed+=this._accSpeedm*delta;
		pos.setValue(
		pos.x+this._speedVector.x*delta,
		pos.y+this._curUpSpeed*delta*0.001,
		pos.z+this._speedVector.y*delta);
	}

	return Parabola3D;
})(LinePathXZ)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/View.as=======94.999505/94.999505
/**
*<code>View</code> 是一个视图类。
*@internal <p><code>View</code></p>
*/
//class laya.ui.View extends laya.ui.Box
var View=(function(_super){
	function View(){
		/**@private */
		this._watchMap={};
		View.__super.call(this);
	}

	__class(View,'laya.ui.View',_super);
	var __proto=View.prototype;
	/**
	*<p>销毁此对象。</p>
	*@param destroyChild 是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._watchMap=null;
		laya.ui.UIComponent.prototype.destroy.call(this,destroyChild);
	}

	/**@private */
	__proto.changeData=function(key){
		var arr=this._watchMap[key];
		if (!arr)return;
		for (var i=0,n=arr.length;i < n;i++){
			var watcher=arr[i];
			watcher.exe(this);
		}
	}

	/**
	*@private
	*通过视图数据创建视图。
	*@param uiView 视图数据信息。
	*/
	__proto.createView=function(view){
		view && SceneUtils.createByData(this,view);
	}

	/**
	*@private 兼容老的
	*装载UI视图。用于加载模式。
	*@param path UI资源地址。
	*/
	__proto.loadUI=function(path){
		var uiView=View.uiMap[path];
		uiView && this.createView(uiView);
	}

	/**
	*@private
	*装载场景视图。用于加载模式。
	*@param path 场景地址。
	*/
	__proto.loadScene=function(path){
		var url=(/*no*/this.GameConfig.sceneRoot?/*no*/this.GameConfig.sceneRoot+"/":"")+path+".scene";
		var view=Laya.loader.getRes(url)|| View.uiMap[path];
		if (view){
			this.createView(view);
			}else {
			Laya.loader.load(url,Handler.create(this,this.createView),null,"json");
		}
		Laya.stage.addChild(this);
	}

	View.regComponent=function(key,compClass){
		ClassUtils.regClass(key,compClass);
	}

	View.regViewRuntime=function(key,compClass){
		ClassUtils.regClass(key,compClass);
	}

	View.regUI=function(url,json){
		Laya.loader.cacheRes(url,json);
	}

	View.uiMap={};
	View.__init$=function(){
		ClassUtils.regShortClassName([ViewStack,Button,TextArea,ColorPicker,Box,Button,CheckBox,Clip,ComboBox,UIComponent,HScrollBar,HSlider,Image,Label,List,Panel,ProgressBar,Radio,RadioGroup,ScrollBar,Slider,Tab,TextInput,View,VScrollBar,VSlider,Tree,HBox,VBox,Sprite,Animation,Text,FontClip]);
	}

	return View;
})(Box)


	//file:///H:/work/sniper/sniper/client/src/extend/weapons/Antitank.as=======94.999288/94.999288
/**
*手雷
*@author wulongbin
*
*/
//class extend.weapons.Antitank extends laya.game.client.object.Effect3D
var Antitank=(function(_super){
	function Antitank(){
		this.owner=null;
		Antitank.__super.call(this);
	}

	__class(Antitank,'extend.weapons.Antitank',_super);
	var __proto=Antitank.prototype;
	__proto.onLoop=function(){
		laya.game.client.object.Effect2D.prototype.onLoop.call(this);
		if(this.pos.y<0){
			var createData=this.scene.getGameObjParam();
			var bullet=createData.clear()
			.setConfig(5002,"Effect")
			.setPos(this.pos.x,0,this.pos.z)
			.create();
			var result=this.scene.groupManager.searchSkillGroup(this);
			result.filterByDistance(this.pos.value,4,'xz');
			var len=result.array.length;
			for(var i=0;i<len;i++){
				var sniperOBj=result.array[i];
				(sniperOBj.extend).onAntitank(this);
			}
			GameSoundManager.instance.playSound("1003");
			this.destroyMe();
		}
	}

	return Antitank;
})(Effect3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/LayoutBox.as=======94.998810/94.998810
/**
*<code>LayoutBox</code> 是一个布局容器类。
*/
//class laya.ui.LayoutBox extends laya.ui.Box
var LayoutBox=(function(_super){
	function LayoutBox(){
		/**@private */
		this._space=0;
		/**@private */
		this._align="none";
		/**@private */
		this._itemChanged=false;
		LayoutBox.__super.call(this);
	}

	__class(LayoutBox,'laya.ui.LayoutBox',_super);
	var __proto=LayoutBox.prototype;
	/**@inheritDoc */
	__proto.addChild=function(child){
		child.on("resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.addChild.call(this,child);
	}

	__proto.onResize=function(e){
		this._setItemChanged();
	}

	/**@inheritDoc */
	__proto.addChildAt=function(child,index){
		child.on("resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.addChildAt.call(this,child,index);
	}

	/**@inheritDoc */
	__proto.removeChild=function(child){
		child.off("resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.removeChild.call(this,child);
	}

	/**@inheritDoc */
	__proto.removeChildAt=function(index){
		this.getChildAt(index).off("resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.removeChildAt.call(this,index);
	}

	/**刷新。*/
	__proto.refresh=function(){
		this._setItemChanged();
	}

	/**
	*改变子对象的布局。
	*/
	__proto.changeItems=function(){
		this._itemChanged=false;
	}

	/**
	*排序项目列表。可通过重写改变默认排序规则。
	*@param items 项目列表。
	*/
	__proto.sortItem=function(items){
		if (items)items.sort(function(a,b){return a.y-b.y;});
	}

	__proto._setItemChanged=function(){
		if (!this._itemChanged){
			this._itemChanged=true;
			this.callLater(this.changeItems);
		}
	}

	/**子对象的间隔。*/
	__getset(0,__proto,'space',function(){
		return this._space;
		},function(value){
		this._space=value;
		this._setItemChanged();
	});

	/**子对象对齐方式。*/
	__getset(0,__proto,'align',function(){
		return this._align;
		},function(value){
		this._align=value;
		this._setItemChanged();
	});

	return LayoutBox;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/List.as=======94.998797/94.998797
/**
*<code>List</code> 控件可显示项目列表。默认为垂直方向列表。可通过UI编辑器自定义列表。
*
*@example <caption>以下示例代码，创建了一个 <code>List</code> 实例。</caption>
*package
*{
	*import laya.ui.List;
	*import laya.utils.Handler;
	*public class List_Example
	*{
		*public function List_Example()
		*{
			*Laya.init(640,800,"false");//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*var arr:Array=[];//创建一个数组，用于存贮列表的数据信息。
			*for (var i:int=0;i &lt;20;i++)
			*{
				*arr.push({label:"item"+i});
				*}
			*var list:List=new List();//创建一个 List 类的实例对象 list 。
			*list.itemRender=Item;//设置 list 的单元格渲染器。
			*list.repeatX=1;//设置 list 的水平方向单元格数量。
			*list.repeatY=10;//设置 list 的垂直方向单元格数量。
			*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
			*list.array=arr;//设置 list 的列表数据源。
			*list.pos(100,100);//设置 list 的位置。
			*list.selectEnable=true;//设置 list 可选。
			*list.selectHandler=new Handler(this,onSelect);//设置 list 改变选择项执行的处理器。
			*Laya.stage.addChild(list);//将 list 添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的项目索引： index= ",index);
			*}
		*}
	*}
*import laya.ui.Box;
*import laya.ui.Label;
*class Item extends Box
*{
	*public function Item()
	*{
		*graphics.drawRect(0,0,100,20,null,"#ff0000");
		*var label:Label=new Label();
		*label.text="100000";
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);
		*addChild(label);
		*}
	*}
*@example
*(function (_super){
	*function Item(){
		*Item.__super.call(this);//初始化父类
		*this.graphics.drawRect(0,0,100,20,"#ff0000");
		*var label=new laya.ui.Label();//创建一个 Label 类的实例对象 label 。
		*label.text="100000";//设置 label 的文本内容。
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);//设置 label 的宽度、高度。
		*this.addChild(label);//将 label 添加到显示列表。
		*};
	*Laya.class(Item,"mypackage.listExample.Item",_super);//注册类 Item 。
	*})(laya.ui.Box);
*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"];
*Laya.loader.load(res,new laya.utils.Handler(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var arr=[];//创建一个数组，用于存贮列表的数据信息。
	*for (var i=0;i &lt;20;i++){
		*arr.push({label:"item"+i});
		*}
	*var list=new laya.ui.List();//创建一个 List 类的实例对象 list 。
	*list.itemRender=mypackage.listExample.Item;//设置 list 的单元格渲染器。
	*list.repeatX=1;//设置 list 的水平方向单元格数量。
	*list.repeatY=10;//设置 list 的垂直方向单元格数量。
	*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
	*list.array=arr;//设置 list 的列表数据源。
	*list.pos(100,100);//设置 list 的位置。
	*list.selectEnable=true;//设置 list 可选。
	*list.selectHandler=new laya.utils.Handler(this,onSelect);//设置 list 改变选择项执行的处理器。
	*Laya.stage.addChild(list);//将 list 添加到显示列表。
	*}
*function onSelect(index)
*{
	*console.log("当前选择的项目索引： index= ",index);
	*}
*
*@example
*import List=laya.ui.List;
*import Handler=laya.utils.Handler;
*public class List_Example {
	*public List_Example(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*var arr=[];//创建一个数组，用于存贮列表的数据信息。
		*for (var i:number=0;i &lt;20;i++)
		*{
			*arr.push({label:"item"+i });
			*}
		*var list:List=new List();//创建一个 List 类的实例对象 list 。
		*list.itemRender=Item;//设置 list 的单元格渲染器。
		*list.repeatX=1;//设置 list 的水平方向单元格数量。
		*list.repeatY=10;//设置 list 的垂直方向单元格数量。
		*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
		*list.array=arr;//设置 list 的列表数据源。
		*list.pos(100,100);//设置 list 的位置。
		*list.selectEnable=true;//设置 list 可选。
		*list.selectHandler=new Handler(this,this.onSelect);//设置 list 改变选择项执行的处理器。
		*Laya.stage.addChild(list);//将 list 添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的项目索引： index= ",index);
		*}
	*}
*import Box=laya.ui.Box;
*import Label=laya.ui.Label;
*class Item extends Box {
	*constructor(){
		*this.graphics.drawRect(0,0,100,20,null,"#ff0000");
		*var label:Label=new Label();
		*label.text="100000";
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);
		*this.addChild(label);
		*}
	*}
*/
//class laya.ui.List extends laya.ui.Box
var List=(function(_super){
	function List(){
		/**改变 <code>List</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。*/
		this.selectHandler=null;
		/**单元格渲染处理器(默认返回参数cell:Box,index:int)。*/
		this.renderHandler=null;
		/**单元格鼠标事件处理器(默认返回参数e:Event,index:int)。*/
		this.mouseHandler=null;
		/**指定是否可以选择，若值为true则可以选择，否则不可以选择。 @default false*/
		this.selectEnable=false;
		/**最大分页数。*/
		this.totalPage=0;
		/**@private */
		this._$componentType="List";
		/**@private */
		this._content=null;
		/**@private */
		this._scrollBar=null;
		/**@private */
		this._itemRender=null;
		/**@private */
		this._repeatX=0;
		/**@private */
		this._repeatY=0;
		/**@private */
		this._repeatX2=0;
		/**@private */
		this._repeatY2=0;
		/**@private */
		this._spaceX=0;
		/**@private */
		this._spaceY=0;
		/**@private */
		this._array=null;
		/**@private */
		this._startIndex=0;
		/**@private */
		this._selectedIndex=-1;
		/**@private */
		this._page=0;
		/**@private */
		this._isVertical=true;
		/**@private */
		this._cellSize=20;
		/**@private */
		this._cellOffset=0;
		/**@private */
		this._isMoved=false;
		/**是否缓存内容，如果数据源较少，并且list内无动画，设置此属性为true能大大提高性能 */
		this.cacheContent=false;
		/**@private */
		this._createdLine=0;
		/**@private */
		this._cellChanged=false;
		/**@private */
		this._usedCache=null;
		List.__super.call(this);
		this._cells=[];
		this._offset=new Point();
	}

	__class(List,'laya.ui.List',_super);
	var __proto=List.prototype;
	Laya.imps(__proto,{"laya.ui.IRender":true,"laya.ui.IItem":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._content && this._content.destroy(destroyChild);
		this._scrollBar && this._scrollBar.destroy(destroyChild);
		laya.ui.UIComponent.prototype.destroy.call(this,destroyChild);
		this._content=null;
		this._scrollBar=null;
		this._itemRender=null;
		this._cells=null;
		this._array=null;
		this.selectHandler=this.renderHandler=this.mouseHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._content=new Box());
	}

	__proto.onScrollStart=function(){
		this._usedCache || (this._usedCache=Laya.superGet(Box,this,'cacheAs'));
		Laya.superSet(Box,this,'cacheAs',"none");
		this._scrollBar.once("end",this,this.onScrollEnd);
	}

	__proto.onScrollEnd=function(){
		Laya.superSet(Box,this,'cacheAs',this._usedCache);
	}

	__proto._removePreScrollBar=function(){
		var preNode=this.removeChildByName("scrollBar");
		if (preNode)preNode.destroy(true);
	}

	/**
	*@private
	*更改单元格的信息。
	*@internal 在此销毁、创建单元格，并设置单元格的位置等属性。相当于此列表内容发送改变时调用此函数。
	*/
	__proto.changeCells=function(){
		this._cellChanged=false;
		if (this._itemRender){
			this.scrollBar=this.getChildByName("scrollBar");
			var cell=this._getOneCell();
			var cellWidth=(cell.width+this._spaceX)|| 1;
			var cellHeight=(cell.height+this._spaceY)|| 1;
			if (this._width > 0)this._repeatX2=this._isVertical ? Math.round(this._width / cellWidth):Math.ceil(this._width / cellWidth);
			if (this._height > 0)this._repeatY2=this._isVertical ? Math.ceil(this._height / cellHeight):Math.round(this._height / cellHeight);
			var listWidth=this._width ? this._width :(cellWidth *this.repeatX-this._spaceX);
			var listHeight=this._height ? this._height :(cellHeight *this.repeatY-this._spaceY);
			this._cellSize=this._isVertical ? cellHeight :cellWidth;
			this._cellOffset=this._isVertical ? (cellHeight *Math.max(this._repeatY2,this._repeatY)-listHeight-this._spaceY):(cellWidth *Math.max(this._repeatX2,this._repeatX)-listWidth-this._spaceX);
			if (this._isVertical && this.vScrollBarSkin)this._scrollBar.height=listHeight;
			else if (!this._isVertical && this.hScrollBarSkin)this._scrollBar.width=listWidth;
			this.setContentSize(listWidth,listHeight);
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			var numY=(this._isVertical ? this.repeatY :this.repeatX)+(this._scrollBar ? 1 :0);
			this._createItems(0,numX,numY);
			this._createdLine=numY;
			if (this._array){
				this.array=this._array;
				this.runCallLater(this.renderItems);
			}
		}
	}

	__proto._getOneCell=function(){
		if (this._cells.length===0){
			var item=this.createItem();
			this._offset.setTo(item._x,item._y);
			if (this.cacheContent)return item;
			this._cells.push(item);
		}
		return this._cells[0];
	}

	__proto._createItems=function(startY,numX,numY){
		var box=this._content;
		var cell=this._getOneCell();
		var cellWidth=cell.width+this._spaceX;
		var cellHeight=cell.height+this._spaceY;
		if (this.cacheContent){
			var cacheBox=new Box();
			cacheBox.cacheAsBitmap=true;
			cacheBox.pos((this._isVertical ? 0 :startY)*cellWidth,(this._isVertical ? startY :0)*cellHeight);
			this._content.addChild(cacheBox);
			box=cacheBox;
			}else {
			var arr=[];
			for (var i=this._cells.length-1;i >-1;i--){
				var item=this._cells[i];
				item.removeSelf();
				arr.push(item);
			}
			this._cells.length=0;
		}
		for (var k=startY;k < numY;k++){
			for (var l=0;l < numX;l++){
				if (arr && arr.length){
					cell=arr.pop();
					}else {
					cell=this.createItem();
				}
				cell.x=(this._isVertical ? l :k)*cellWidth-box._x;
				cell.y=(this._isVertical ? k :l)*cellHeight-box._y;
				cell.name="item"+(k *numX+l);
				box.addChild(cell);
				this.addCell(cell);
			}
		}
	}

	__proto.createItem=function(){
		var arr=[];
		if ((typeof this._itemRender=='function')){
			var box=new this._itemRender();
			}else {
			box=SceneUtils.createComp(this._itemRender,null,null,arr)
		}
		if (arr.length==0 && box._watchMap){
			var watchMap=box._watchMap;
			for (var name in watchMap){
				var a=watchMap[name];
				for (var i=0;i < a.length;i++){
					var watcher=a[i];
					arr.push(watcher.comp,watcher.prop,watcher.value)
				}
			}
		}
		if (arr.length)box["_$bindData"]=arr;
		return box;
	}

	/**
	*@private
	*添加单元格。
	*@param cell 需要添加的单元格对象。
	*/
	__proto.addCell=function(cell){
		cell.on("click",this,this.onCellMouse);
		cell.on("rightclick",this,this.onCellMouse);
		cell.on("mouseover",this,this.onCellMouse);
		cell.on("mouseout",this,this.onCellMouse);
		cell.on("mousedown",this,this.onCellMouse);
		cell.on("mouseup",this,this.onCellMouse);
		this._cells.push(cell);
	}

	__proto._afterInited=function(){
		this.initItems();
	}

	/**
	*初始化单元格信息。
	*/
	__proto.initItems=function(){
		if (!this._itemRender && this.getChildByName("item0")!=null){
			this.repeatX=1;
			var count=0;
			count=0;
			for (var i=0;i < 10000;i++){
				var cell=this.getChildByName("item"+i);
				if (cell){
					this.addCell(cell);
					count++;
					continue ;
				}
				break ;
			}
			this.repeatY=count;
		}
	}

	/**
	*设置可视区域大小。
	*<p>以（0，0，width参数，height参数）组成的矩形区域为可视区域。</p>
	*@param width 可视区域宽度。
	*@param height 可视区域高度。
	*/
	__proto.setContentSize=function(width,height){
		this._content.width=width;
		this._content.height=height;
		if (this._scrollBar||this._offset.x!=0||this._offset.y!=0){
			this._content._style.scrollRect || (this._content.scrollRect=Rectangle.create());
			this._content._style.scrollRect.setTo(-this._offset.x,-this._offset.y,width,height);
			this._content.scrollRect=this._content.scrollRect;
		}
		this.event("resize");
	}

	/**
	*@private
	*单元格的鼠标事件侦听处理函数。
	*/
	__proto.onCellMouse=function(e){
		if (e.type==="mousedown")this._isMoved=false;
		var cell=e.currentTarget;
		var index=this._startIndex+this._cells.indexOf(cell);
		if (index < 0)return;
		if (e.type==="click" || e.type==="rightclick"){
			if (this.selectEnable && !this._isMoved)this.selectedIndex=index;
			else this.changeCellState(cell,true,0);
			}else if ((e.type==="mouseover" || e.type==="mouseout")&& this._selectedIndex!==index){
			this.changeCellState(cell,e.type==="mouseover",0);
		}
		this.mouseHandler && this.mouseHandler.runWith([e,index]);
	}

	/**
	*@private
	*改变单元格的可视状态。
	*@param cell 单元格对象。
	*@param visable 是否显示。
	*@param index 单元格的属性 <code>index</code> 值。
	*/
	__proto.changeCellState=function(cell,visible,index){
		var selectBox=cell.getChildByName("selectBox");
		if (selectBox){
			this.selectEnable=true;
			selectBox.visible=visible;
			selectBox.index=index;
		}
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		laya.ui.UIComponent.prototype.changeSize.call(this);
		this.setContentSize(this.width,this.height);
		if (this._scrollBar)this.callLater(this.onScrollBarChange);
	}

	/**
	*@private
	*滚动条的 <code>Event.CHANGE</code> 事件侦听处理函数。
	*/
	__proto.onScrollBarChange=function(e){
		this.runCallLater(this.changeCells);
		var scrollValue=this._scrollBar.value;
		var lineX=(this._isVertical ? this.repeatX :this.repeatY);
		var lineY=(this._isVertical ? this.repeatY :this.repeatX);
		var scrollLine=Math.floor(scrollValue / this._cellSize);
		if (!this.cacheContent){
			var index=scrollLine *lineX;
			var num=0;
			if (index > this._startIndex){
				num=index-this._startIndex;
				var down=true;
				var toIndex=this._startIndex+lineX *(lineY+1);
				this._isMoved=true;
				}else if (index < this._startIndex){
				num=this._startIndex-index;
				down=false;
				toIndex=this._startIndex-1;
				this._isMoved=true;
			}
			for (var i=0;i < num;i++){
				if (down){
					var cell=this._cells.shift();
					this._cells[this._cells.length]=cell;
					var cellIndex=toIndex+i;
					}else {
					cell=this._cells.pop();
					this._cells.unshift(cell);
					cellIndex=toIndex-i;
				};
				var pos=Math.floor(cellIndex / lineX)*this._cellSize;
				this._isVertical ? cell.y=pos :cell.x=pos;
				this.renderItem(cell,cellIndex);
			}
			this._startIndex=index;
			this.changeSelectStatus();
			}else {
			num=(lineY+1);
			if (this._createdLine-scrollLine < num){
				this._createItems(this._createdLine,lineX,this._createdLine+num);
				this.renderItems(this._createdLine *lineX,0);
				this._createdLine+=num;
			}
		};
		var r=this._content._style.scrollRect;
		if (this._isVertical){
			r.y=scrollValue-this._offset.y;
			r.x=-this._offset.x;
			}else {
			r.y=-this._offset.y;
			r.x=scrollValue-this._offset.x;
		}
		this._content.scrollRect=r;
	}

	__proto.posCell=function(cell,cellIndex){
		if (!this._scrollBar)return;
		var lineX=(this._isVertical ? this.repeatX :this.repeatY);
		var lineY=(this._isVertical ? this.repeatY :this.repeatX);
		var pos=Math.floor(cellIndex / lineX)*this._cellSize;
		this._isVertical ? cell._y=pos :cell.x=pos;
	}

	/**
	*@private
	*改变单元格的选择状态。
	*/
	__proto.changeSelectStatus=function(){
		for (var i=0,n=this._cells.length;i < n;i++){
			this.changeCellState(this._cells[i],this._selectedIndex===this._startIndex+i,1);
		}
	}

	/**
	*@private
	*渲染单元格列表。
	*/
	__proto.renderItems=function(from,to){
		(from===void 0)&& (from=0);
		(to===void 0)&& (to=0);
		for (var i=from,n=to || this._cells.length;i < n;i++){
			this.renderItem(this._cells[i],this._startIndex+i);
		}
		this.changeSelectStatus();
	}

	/**
	*渲染一个单元格。
	*@param cell 需要渲染的单元格对象。
	*@param index 单元格索引。
	*/
	__proto.renderItem=function(cell,index){
		if (this._array && index >=0 && index < this._array.length){
			cell.visible=true;
			if (cell._$bindData){
				cell._dataSource=this._array[index];
				this._bindData(cell,this._array[index]);
			}else cell.dataSource=this._array[index];
			if (!this.cacheContent){
				this.posCell(cell,index);
			}
			if (this.hasListener("render"))this.event("render",[cell,index]);
			if (this.renderHandler)this.renderHandler.runWith([cell,index]);
			}else {
			cell.visible=false;
			cell.dataSource=null;
		}
	}

	__proto._bindData=function(cell,data){
		var arr=cell._$bindData;
		for (var i=0,n=arr.length;i < n;i++){
			var ele=arr[i++];
			var prop=arr[i++];
			var value=arr[i];
			var fun=UIUtils.getBindFun(value);
			ele[prop]=fun.call(this,data);
		}
	}

	/**
	*刷新列表数据源。
	*/
	__proto.refresh=function(){
		this.array=this._array;
	}

	/**
	*获取单元格数据源。
	*@param index 单元格索引。
	*/
	__proto.getItem=function(index){
		if (index >-1 && index < this._array.length){
			return this._array[index];
		}
		return null;
	}

	/**
	*修改单元格数据源。
	*@param index 单元格索引。
	*@param source 单元格数据源。
	*/
	__proto.changeItem=function(index,source){
		if (index >-1 && index < this._array.length){
			this._array[index]=source;
			if (index >=this._startIndex && index < this._startIndex+this._cells.length){
				this.renderItem(this.getCell(index),index);
			}
		}
	}

	/**
	*设置单元格数据源。
	*@param index 单元格索引。
	*@param source 单元格数据源。
	*/
	__proto.setItem=function(index,source){
		this.changeItem(index,source);
	}

	/**
	*添加单元格数据源。
	*@param souce 数据源。
	*/
	__proto.addItem=function(souce){
		this._array.push(souce);
		this.array=this._array;
	}

	/**
	*添加单元格数据源到对应的数据索引处。
	*@param souce 单元格数据源。
	*@param index 索引。
	*/
	__proto.addItemAt=function(souce,index){
		this._array.splice(index,0,souce);
		this.array=this._array;
	}

	/**
	*通过数据源索引删除单元格数据源。
	*@param index 需要删除的数据源索引值。
	*/
	__proto.deleteItem=function(index){
		this._array.splice(index,1);
		this.array=this._array;
	}

	/**
	*通过可视单元格索引，获取单元格。
	*@param index 可视单元格索引。
	*@return 单元格对象。
	*/
	__proto.getCell=function(index){
		this.runCallLater(this.changeCells);
		if (index >-1 && this._cells){
			return this._cells[(index-this._startIndex)% this._cells.length];
		}
		return null;
	}

	/**
	*<p>滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>
	*@param index 单元格在数据列表中的索引。
	*/
	__proto.scrollTo=function(index){
		if (this._scrollBar){
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			this._scrollBar.value=Math.floor(index / numX)*this._cellSize;
			}else {
			this.startIndex=index;
		}
	}

	/**
	*<p>缓动滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>
	*@param index 单元格在数据列表中的索引。
	*@param time 缓动时间。
	*@param complete 缓动结束回掉
	*/
	__proto.tweenTo=function(index,time,complete){
		(time===void 0)&& (time=200);
		if (this._scrollBar){
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			Tween.to(this._scrollBar,{value:Math.floor(index / numX)*this._cellSize},time,null,complete,0,true);
			}else {
			this.startIndex=index;
			if (complete)complete.run();
		}
	}

	/**@private */
	__proto._setCellChanged=function(){
		if (!this._cellChanged){
			this._cellChanged=true;
			this.callLater(this.changeCells);
		}
	}

	__proto.commitMeasure=function(){
		this.runCallLater(this.changeCells);
	}

	/**@inheritDoc */
	__getset(0,__proto,'cacheAs',_super.prototype._$get_cacheAs,function(value){
		Laya.superSet(Box,this,'cacheAs',value);
		if (this._scrollBar){
			this._usedCache=null;
			if (value!=="none")this._scrollBar.on("start",this,this.onScrollStart);
			else this._scrollBar.off("start",this,this.onScrollStart);
		}
	});

	/**
	*获取对 <code>List</code> 组件所包含的内容容器 <code>Box</code> 组件的引用。
	*/
	__getset(0,__proto,'content',function(){
		return this._content;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		if (value !=this._height){
			Laya.superSet(Box,this,'height',value);
			this._setCellChanged();
		}
	});

	/**
	*单元格渲染器。
	*<p><b>取值：</b>
	*<ol>
	*<li>单元格类对象。</li>
	*<li> UI 的 JSON 描述。</li>
	*</ol></p>
	*/
	__getset(0,__proto,'itemRender',function(){
		return this._itemRender;
		},function(value){
		if (this._itemRender !=value){
			this._itemRender=value;
			for (var i=this._cells.length-1;i >-1;i--){
				this._cells[i].destroy();
			}
			this._cells.length=0;
			this._setCellChanged();
		}
	});

	/**
	*垂直方向滚动条皮肤。
	*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._scrollBar ? this._scrollBar.skin :null;
		},function(value){
		this._removePreScrollBar();
		var scrollBar=new VScrollBar();
		scrollBar.name="scrollBar";
		scrollBar.right=0;
		if (value && value !=" ")
			scrollBar.skin=value;
		this.scrollBar=scrollBar;
		this.addChild(scrollBar);
		this._setCellChanged();
	});

	/**
	*列表的当前页码。
	*/
	__getset(0,__proto,'page',function(){
		return this._page;
		},function(value){
		this._page=value
		if (this._array){
			this._page=value > 0 ? value :0;
			this._page=this._page < this.totalPage ? this._page :this.totalPage-1;
			this.startIndex=this._page *this.repeatX *this.repeatY;
		}
	});

	/**
	*水平方向滚动条皮肤。
	*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._scrollBar ? this._scrollBar.skin :null;
		},function(value){
		this._removePreScrollBar();
		var scrollBar=new HScrollBar();
		scrollBar.name="scrollBar";
		scrollBar.bottom=0;
		if (value && value !=" ")
			scrollBar.skin=value;
		this.scrollBar=scrollBar;
		this.addChild(scrollBar);
		this._setCellChanged();
	});

	/**
	*水平方向显示的单元格数量。
	*/
	__getset(0,__proto,'repeatX',function(){
		return this._repeatX > 0 ? this._repeatX :this._repeatX2 > 0 ? this._repeatX2 :1;
		},function(value){
		this._repeatX=value;
		this._setCellChanged();
	});

	/**
	*获取对 <code>List</code> 组件所包含的滚动条 <code>ScrollBar</code> 组件的引用。
	*/
	__getset(0,__proto,'scrollBar',function(){
		return this._scrollBar;
		},function(value){
		if (this._scrollBar !=value){
			this._scrollBar=value;
			if (value){
				this._isVertical=this._scrollBar.isVertical;
				this.addChild(this._scrollBar);
				this._scrollBar.on("change",this,this.onScrollBarChange);
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		if (value !=this._width){
			Laya.superSet(Box,this,'width',value);
			this._setCellChanged();
		}
	});

	/**
	*垂直方向显示的单元格数量。
	*/
	__getset(0,__proto,'repeatY',function(){
		return this._repeatY > 0 ? this._repeatY :this._repeatY2 > 0 ? this._repeatY2 :1;
		},function(value){
		this._repeatY=value;
		this._setCellChanged();
	});

	/**
	*水平方向显示的单元格之间的间距（以像素为单位）。
	*/
	__getset(0,__proto,'spaceX',function(){
		return this._spaceX;
		},function(value){
		this._spaceX=value;
		this._setCellChanged();
	});

	/**
	*垂直方向显示的单元格之间的间距（以像素为单位）。
	*/
	__getset(0,__proto,'spaceY',function(){
		return this._spaceY;
		},function(value){
		this._spaceY=value;
		this._setCellChanged();
	});

	/**
	*表示当前选择的项索引。selectedIndex值更改会引起list重新渲染
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this._selectedIndex=value;
			this.changeSelectStatus();
			this.event("change");
			this.selectHandler && this.selectHandler.runWith(value);
			this.startIndex=this._startIndex;
		}
	});

	/**
	*当前选中的单元格数据源。
	*/
	__getset(0,__proto,'selectedItem',function(){
		return this._selectedIndex !=-1 ? this._array[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._array.indexOf(value);
	});

	/**
	*列表的数据总个数。
	*/
	__getset(0,__proto,'length',function(){
		return this._array ? this._array.length :0;
	});

	/**
	*获取或设置当前选择的单元格对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this.getCell(this._selectedIndex);
		},function(value){
		this.selectedIndex=this._startIndex+this._cells.indexOf(value);
	});

	/**
	*当前显示的单元格列表的开始索引。
	*/
	__getset(0,__proto,'startIndex',function(){
		return this._startIndex;
		},function(value){
		this._startIndex=value > 0 ? value :0;
		this.callLater(this.renderItems);
	});

	/**
	*列表数据源。
	*/
	__getset(0,__proto,'array',function(){
		return this._array;
		},function(value){
		this.runCallLater(this.changeCells);
		this._array=value || [];
		var length=this._array.length;
		this.totalPage=Math.ceil(length / (this.repeatX *this.repeatY));
		this._selectedIndex=this._selectedIndex < length ? this._selectedIndex :length-1;
		this.startIndex=this._startIndex;
		if (this._scrollBar){
			this._scrollBar.stopScroll();
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			var numY=this._isVertical ? this.repeatY :this.repeatX;
			var lineCount=Math.ceil(length / numX);
			var total=this._cellOffset > 0 ? this.totalPage+1 :this.totalPage;
			if (total > 1){
				this._scrollBar.scrollSize=this._cellSize;
				this._scrollBar.thumbPercent=numY / lineCount;
				this._scrollBar.setScroll(0,(lineCount-numY)*this._cellSize+this._cellOffset,this._scrollBar.value);
				this._scrollBar.target=this._content;
				}else {
				this._scrollBar.setScroll(0,0,0);
				this._scrollBar.target=this._content;
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.array=value
		else Laya.superSet(Box,this,'dataSource',value);
	});

	/**
	*单元格集合。
	*/
	__getset(0,__proto,'cells',function(){
		this.runCallLater(this.changeCells);
		return this._cells;
	});

	return List;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Panel.as=======94.998796/94.998796
/**
*<code>Panel</code> 是一个面板容器类。
*/
//class laya.ui.Panel extends laya.ui.Box
var Panel=(function(_super){
	function Panel(){
		/**@private */
		this._content=null;
		/**@private */
		this._vScrollBar=null;
		/**@private */
		this._hScrollBar=null;
		/**@private */
		this._scrollChanged=false;
		/**@private */
		this._usedCache=null;
		Panel.__super.call(this);
		this.width=this.height=100;
	}

	__class(Panel,'laya.ui.Panel',_super);
	var __proto=Panel.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.UIComponent.prototype.destroy.call(this,destroyChild);
		this._content && this._content.destroy(destroyChild);
		this._vScrollBar && this._vScrollBar.destroy(destroyChild);
		this._hScrollBar && this._hScrollBar.destroy(destroyChild);
		this._vScrollBar=null;
		this._hScrollBar=null;
		this._content=null;
	}

	/**@inheritDoc */
	__proto.destroyChildren=function(){
		this._content.destroyChildren();
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		laya.display.Node.prototype.addChild.call(this,this._content=new Box());
	}

	/**@inheritDoc */
	__proto.addChild=function(child){
		child.on("resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.addChild(child);
	}

	/**
	*@private
	*子对象的 <code>Event.RESIZE</code> 事件侦听处理函数。
	*/
	__proto.onResize=function(){
		this._setScrollChanged();
	}

	/**@inheritDoc */
	__proto.addChildAt=function(child,index){
		child.on("resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.addChildAt(child,index);
	}

	/**@inheritDoc */
	__proto.removeChild=function(child){
		child.off("resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.removeChild(child);
	}

	/**@inheritDoc */
	__proto.removeChildAt=function(index){
		this.getChildAt(index).off("resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.removeChildAt(index);
	}

	/**@inheritDoc */
	__proto.removeChildren=function(beginIndex,endIndex){
		(beginIndex===void 0)&& (beginIndex=0);
		(endIndex===void 0)&& (endIndex=0x7fffffff);
		for (var i=this._content.numChildren-1;i >-1;i--){
			this._content.removeChildAt(i);
		}
		this._setScrollChanged();
		return this;
	}

	/**@inheritDoc */
	__proto.getChildAt=function(index){
		return this._content.getChildAt(index);
	}

	/**@inheritDoc */
	__proto.getChildByName=function(name){
		return this._content.getChildByName(name);
	}

	/**@inheritDoc */
	__proto.getChildIndex=function(child){
		return this._content.getChildIndex(child);
	}

	/**@private */
	__proto.changeScroll=function(){
		this._scrollChanged=false;
		var contentW=this.contentWidth || 1;
		var contentH=this.contentHeight || 1;
		var vscroll=this._vScrollBar;
		var hscroll=this._hScrollBar;
		var vShow=vscroll && contentH > this._height;
		var hShow=hscroll && contentW > this._width;
		var showWidth=vShow ? this._width-vscroll.width :this._width;
		var showHeight=hShow ? this._height-hscroll.height :this._height;
		if (vscroll){
			vscroll.x=this._width-vscroll.width;
			vscroll.y=0;
			vscroll.height=this._height-(hShow ? hscroll.height :0);
			vscroll.scrollSize=Math.max(this._height *0.033,1);
			vscroll.thumbPercent=showHeight / contentH;
			vscroll.setScroll(0,contentH-showHeight,vscroll.value);
		}
		if (hscroll){
			hscroll.x=0;
			hscroll.y=this._height-hscroll.height;
			hscroll.width=this._width-(vShow ? vscroll.width :0);
			hscroll.scrollSize=Math.max(this._width *0.033,1);
			hscroll.thumbPercent=showWidth / contentW;
			hscroll.setScroll(0,contentW-showWidth,hscroll.value);
		}
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		laya.ui.UIComponent.prototype.changeSize.call(this);
		this.setContentSize(this._width,this._height);
	}

	/**
	*@private
	*设置内容的宽度、高度（以像素为单位）。
	*@param width 宽度。
	*@param height 高度。
	*/
	__proto.setContentSize=function(width,height){
		var content=this._content;
		content.width=width;
		content.height=height;
		content._style.scrollRect || (content.scrollRect=Rectangle.create());
		content._style.scrollRect.setTo(0,0,width,height);
		content.scrollRect=content.scrollRect;
	}

	/**
	*@private
	*滚动条的<code><code>Event.MOUSE_DOWN</code>事件侦听处理函数。</code>事件侦听处理函数。
	*@param scrollBar 滚动条对象。
	*@param e Event 对象。
	*/
	__proto.onScrollBarChange=function(scrollBar){
		var rect=this._content._style.scrollRect;
		if (rect){
			var start=Math.round(scrollBar.value);
			scrollBar.isVertical ? rect.y=start :rect.x=start;
			this._content.scrollRect=rect;
		}
	}

	/**
	*<p>滚动内容容器至设定的垂直、水平方向滚动条位置。</p>
	*@param x 水平方向滚动条属性value值。滚动条位置数字。
	*@param y 垂直方向滚动条属性value值。滚动条位置数字。
	*/
	__proto.scrollTo=function(x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		if (this.vScrollBar)this.vScrollBar.value=y;
		if (this.hScrollBar)this.hScrollBar.value=x;
	}

	/**
	*刷新滚动内容。
	*/
	__proto.refresh=function(){
		this.changeScroll();
	}

	__proto.onScrollStart=function(){
		this._usedCache || (this._usedCache=Laya.superGet(Box,this,'cacheAs'));
		Laya.superSet(Box,this,'cacheAs',"none");
		this._hScrollBar && this._hScrollBar.once("end",this,this.onScrollEnd);
		this._vScrollBar && this._vScrollBar.once("end",this,this.onScrollEnd);
	}

	__proto.onScrollEnd=function(){
		Laya.superSet(Box,this,'cacheAs',this._usedCache);
	}

	/**@private */
	__proto._setScrollChanged=function(){
		if (!this._scrollChanged){
			this._scrollChanged=true;
			this.callLater(this.changeScroll);
		}
	}

	/**@inheritDoc */
	__getset(0,__proto,'numChildren',function(){
		return this._content.numChildren;
	});

	/**
	*水平方向滚动条皮肤。
	*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._hScrollBar ? this._hScrollBar.skin :null;
		},function(value){
		if (this._hScrollBar==null){
			laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new HScrollBar());
			this._hScrollBar.on("change",this,this.onScrollBarChange,[this._hScrollBar]);
			this._hScrollBar.target=this._content;
			this._setScrollChanged();
		}
		this._hScrollBar.skin=value;
	});

	/**
	*@private
	*获取内容宽度（以像素为单位）。
	*/
	__getset(0,__proto,'contentWidth',function(){
		var max=0;
		for (var i=this._content.numChildren-1;i >-1;i--){
			var comp=this._content.getChildAt(i);
			max=Math.max(comp._x+comp.width *comp.scaleX,max);
		}
		return max;
	});

	/**
	*@private
	*获取内容高度（以像素为单位）。
	*/
	__getset(0,__proto,'contentHeight',function(){
		var max=0;
		for (var i=this._content.numChildren-1;i >-1;i--){
			var comp=this._content.getChildAt(i);
			max=Math.max(comp._y+comp.height *comp.scaleY,max);
		}
		return max;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Box,this,'width',value);
		this._setScrollChanged();
	});

	/**
	*水平方向滚动条对象。
	*/
	__getset(0,__proto,'hScrollBar',function(){
		return this._hScrollBar;
	});

	/**
	*获取内容容器对象。
	*/
	__getset(0,__proto,'content',function(){
		return this._content;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Box,this,'height',value);
		this._setScrollChanged();
	});

	/**
	*垂直方向滚动条皮肤。
	*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._vScrollBar ? this._vScrollBar.skin :null;
		},function(value){
		if (this._vScrollBar==null){
			laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new VScrollBar());
			this._vScrollBar.on("change",this,this.onScrollBarChange,[this._vScrollBar]);
			this._vScrollBar.target=this._content;
			this._setScrollChanged();
		}
		this._vScrollBar.skin=value;
	});

	/**
	*垂直方向滚动条对象。
	*/
	__getset(0,__proto,'vScrollBar',function(){
		return this._vScrollBar;
	});

	/**@inheritDoc */
	__getset(0,__proto,'cacheAs',_super.prototype._$get_cacheAs,function(value){
		Laya.superSet(Box,this,'cacheAs',value);
		this._usedCache=null;
		if (value!=="none"){
			this._hScrollBar && this._hScrollBar.on("start",this,this.onScrollStart);
			this._vScrollBar && this._vScrollBar.on("start",this,this.onScrollStart);
			}else {
			this._hScrollBar && this._hScrollBar.off("start",this,this.onScrollStart);
			this._vScrollBar && this._vScrollBar.off("start",this,this.onScrollStart);
		}
	});

	return Panel;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/UIGroup.as=======94.998792/94.998792
/**
*<code>Group</code> 是一个可以自动布局的项集合控件。
*<p> <code>Group</code> 的默认项对象为 <code>Button</code> 类实例。
*<code>Group</code> 是 <code>Tab</code> 和 <code>RadioGroup</code> 的基类。</p>
*/
//class laya.ui.UIGroup extends laya.ui.Box
var UIGroup=(function(_super){
	function UIGroup(labels,skin){
		/**
		*改变 <code>Group</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。
		*/
		this.selectHandler=null;
		/**@private */
		this._items=null;
		/**@private */
		this._selectedIndex=-1;
		/**@private */
		this._skin=null;
		/**@private */
		this._direction="horizontal";
		/**@private */
		this._space=0;
		/**@private */
		this._labels=null;
		/**@private */
		this._labelColors=null;
		/**@private */
		this._labelFont=null;
		/**@private */
		this._labelStrokeColor=null;
		/**@private */
		this._strokeColors=null;
		/**@private */
		this._labelStroke=NaN;
		/**@private */
		this._labelSize=0;
		/**@private */
		this._labelBold=false;
		/**@private */
		this._labelPadding=null;
		/**@private */
		this._labelAlign=null;
		/**@private */
		this._stateNum=0;
		/**@private */
		this._labelChanged=false;
		UIGroup.__super.call(this);
		this.skin=skin;
		this.labels=labels;
	}

	__class(UIGroup,'laya.ui.UIGroup',_super);
	var __proto=UIGroup.prototype;
	Laya.imps(__proto,{"laya.ui.IItem":true})
	/**@inheritDoc */
	__proto.preinitialize=function(){
		this.mouseEnabled=true;
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.UIComponent.prototype.destroy.call(this,destroyChild);
		this._items && (this._items.length=0);
		this._items=null;
		this.selectHandler=null;
	}

	/**
	*添加一个项对象，返回此项对象的索引id。
	*
	*@param item 需要添加的项对象。
	*@param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。
	*@return
	*/
	__proto.addItem=function(item,autoLayOut){
		(autoLayOut===void 0)&& (autoLayOut=true);
		var display=item;
		var index=this._items.length;
		display.name="item"+index;
		this.addChild(display);
		this.initItems();
		if (autoLayOut && index > 0){
			var preItem=this._items [index-1];
			if (this._direction=="horizontal"){
				display.x=preItem._x+preItem.width+this._space;
				}else {
				display.y=preItem._y+preItem.height+this._space;
			}
			}else {
			if (autoLayOut){
				display.x=0;
				display.y=0;
			}
		}
		return index;
	}

	/**
	*删除一个项对象。
	*@param item 需要删除的项对象。
	*@param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。
	*/
	__proto.delItem=function(item,autoLayOut){
		(autoLayOut===void 0)&& (autoLayOut=true);
		var index=this._items.indexOf(item);
		if (index !=-1){
			var display=item;
			this.removeChild(display);
			for (var i=index+1,n=this._items.length;i < n;i++){
				var child=this._items [i];
				child.name="item"+(i-1);
				if (autoLayOut){
					if (this._direction=="horizontal"){
						child.x-=display.width+this._space;
						}else {
						child.y-=display.height+this._space;
					}
				}
			}
			this.initItems();
			if (this._selectedIndex >-1){
				var newIndex=0;
				newIndex=this._selectedIndex < this._items.length ? this._selectedIndex :(this._selectedIndex-1);
				this._selectedIndex=-1;
				this.selectedIndex=newIndex;
			}
		}
	}

	__proto._afterInited=function(){
		this.initItems();
	}

	/**
	*初始化项对象们。
	*/
	__proto.initItems=function(){
		this._items || (this._items=[]);
		this._items.length=0;
		for (var i=0;i < 10000;i++){
			var item=this.getChildByName("item"+i);
			if (item==null)break ;
			this._items.push(item);
			item.selected=(i===this._selectedIndex);
			item.clickHandler=Handler.create(this,this.itemClick,[i],false);
		}
	}

	/**
	*@private
	*项对象的点击事件侦听处理函数。
	*@param index 项索引。
	*/
	__proto.itemClick=function(index){
		this.selectedIndex=index;
	}

	/**
	*@private
	*通过对象的索引设置项对象的 <code>selected</code> 属性值。
	*@param index 需要设置的项对象的索引。
	*@param selected 表示项对象的选中状态。
	*/
	__proto.setSelect=function(index,selected){
		if (this._items && index >-1 && index < this._items.length)this._items[index].selected=selected;
	}

	__proto._skinLoaded=function(){
		this._setLabelChanged();
		this.event("loaded");
	}

	/**
	*@private
	*创建一个项显示对象。
	*@param skin 项对象的皮肤。
	*@param label 项对象标签。
	*/
	__proto.createItem=function(skin,label){
		return null;
	}

	/**
	*@private
	*更改项对象的属性值。
	*/
	__proto.changeLabels=function(){
		this._labelChanged=false;
		if (this._items){
			var left=0
			for (var i=0,n=this._items.length;i < n;i++){
				var btn=this._items [i];
				this._skin && (btn.skin=this._skin);
				this._labelColors && (btn.labelColors=this._labelColors);
				this._labelSize && (btn.labelSize=this._labelSize);
				this._labelStroke && (btn.labelStroke=this._labelStroke);
				this._labelStrokeColor && (btn.labelStrokeColor=this._labelStrokeColor);
				this._strokeColors && (btn.strokeColors=this._strokeColors);
				this._labelBold && (btn.labelBold=this._labelBold);
				this._labelPadding && (btn.labelPadding=this._labelPadding);
				this._labelAlign && (btn.labelAlign=this._labelAlign);
				this._stateNum && (btn.stateNum=this._stateNum);
				this._labelFont && (btn.labelFont=this._labelFont);
				if (this._direction==="horizontal"){
					btn.y=0;
					btn.x=left;
					left+=btn.width+this._space;
					}else {
					btn.x=0;
					btn.y=left;
					left+=btn.height+this._space;
				}
			}
		}
		this.changeSize();
	}

	/**@inheritDoc */
	__proto.commitMeasure=function(){
		this.runCallLater(this.changeLabels);
	}

	/**@private */
	__proto._setLabelChanged=function(){
		if (!this._labelChanged){
			this._labelChanged=true;
			this.callLater(this.changeLabels);
		}
	}

	/**
	*<p>描边颜色，以字符串表示。</p>
	*默认值为 "#000000"（黑色）;
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'labelStrokeColor',function(){
		return this._labelStrokeColor;
		},function(value){
		if (this._labelStrokeColor !=value){
			this._labelStrokeColor=value;
			this._setLabelChanged();
		}
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (this._skin&&!Loader.getRes(this._skin)){
				Laya.loader.load(this._skin,Handler.create(this,this._skinLoaded),null,"image",1);
				}else{
				this._skinLoaded();
			}
		}
	});

	/**
	*表示当前选择的项索引。默认值为-1。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this.setSelect(this._selectedIndex,false);
			this._selectedIndex=value;
			this.setSelect(value,true);
			this.event("change");
			this.selectHandler && this.selectHandler.runWith(this._selectedIndex);
		}
	});

	/**
	*标签集合字符串。以逗号做分割，如"item0,item1,item2,item3,item4,item5"。
	*/
	__getset(0,__proto,'labels',function(){
		return this._labels;
		},function(value){
		if (this._labels !=value){
			this._labels=value;
			this.removeChildren();
			this._setLabelChanged();
			if (this._labels){
				var a=this._labels.split(",");
				for (var i=0,n=a.length;i < n;i++){
					var item=this.createItem(this._skin,a[i]);
					item.name="item"+i;
					this.addChild(item);
				}
			}
			this.initItems();
		}
	});

	/**
	*<p>表示各个状态下的描边颜色。</p>
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'strokeColors',function(){
		return this._strokeColors;
		},function(value){
		if (this._strokeColors !=value){
			this._strokeColors=value;
			this._setLabelChanged();
		}
	});

	/**
	*@copy laya.ui.Button#labelColors()
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._labelColors;
		},function(value){
		if (this._labelColors !=value){
			this._labelColors=value;
			this._setLabelChanged();
		}
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*默认值0，表示不描边。
	*@see laya.display.Text.stroke()
	*/
	__getset(0,__proto,'labelStroke',function(){
		return this._labelStroke;
		},function(value){
		if (this._labelStroke !=value){
			this._labelStroke=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的字体大小。
	*/
	__getset(0,__proto,'labelSize',function(){
		return this._labelSize;
		},function(value){
		if (this._labelSize !=value){
			this._labelSize=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮的状态值，以数字表示，默认为3态。
	*@see laya.ui.Button#stateNum
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._stateNum;
		},function(value){
		if (this._stateNum !=value){
			this._stateNum=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*/
	__getset(0,__proto,'labelBold',function(){
		return this._labelBold;
		},function(value){
		if (this._labelBold !=value){
			this._labelBold=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text.font()
	*/
	__getset(0,__proto,'labelFont',function(){
		return this._labelFont;
		},function(value){
		if (this._labelFont !=value){
			this._labelFont=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的边距。
	*<p><b>格式：</b>"上边距,右边距,下边距,左边距"。</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		return this._labelPadding;
		},function(value){
		if (this._labelPadding !=value){
			this._labelPadding=value;
			this._setLabelChanged();
		}
	});

	/**
	*布局方向。
	*<p>默认值为"horizontal"。</p>
	*<p><b>取值：</b>
	*<li>"horizontal"：表示水平布局。</li>
	*<li>"vertical"：表示垂直布局。</li>
	*</p>
	*/
	__getset(0,__proto,'direction',function(){
		return this._direction;
		},function(value){
		this._direction=value;
		this._setLabelChanged();
	});

	/**
	*项对象们之间的间隔（以像素为单位）。
	*/
	__getset(0,__proto,'space',function(){
		return this._space;
		},function(value){
		this._space=value;
		this._setLabelChanged();
	});

	/**
	*项对象们的存放数组。
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
	});

	/**
	*获取或设置当前选择的项对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._items.indexOf(value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.labels=(value).join(",");
		else Laya.superSet(Box,this,'dataSource',value);
	});

	return UIGroup;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Tree.as=======94.998786/94.998786
/**
*<code>Tree</code> 控件使用户可以查看排列为可扩展树的层次结构数据。
*
*@example
*package
*{
	*import laya.ui.Tree;
	*import laya.utils.Browser;
	*import laya.utils.Handler;
	*public class Tree_Example
	*{
		*public function Tree_Example()
		*{
			*Laya.init(640,800);
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder.png","resource/ui/clip_tree_arrow.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*var xmlString:String;//创建一个xml字符串，用于存储树结构数据。
			*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
			*var domParser:*=new Browser.window.DOMParser();//创建一个DOMParser实例domParser。
			*var xml:*=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
			*var tree:Tree=new Tree();//创建一个 Tree 类的实例对象 tree 。
			*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
			*tree.itemRender=Item;//设置 tree 的项渲染器。
			*tree.xml=xml;//设置 tree 的树结构数据。
			*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
			*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
			*tree.width=200;//设置 tree 的宽度。
			*tree.height=100;//设置 tree 的高度。
			*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
			*}
		*}
	*}
*import laya.ui.Box;
*import laya.ui.Clip;
*import laya.ui.Label;
*class Item extends Box
*{
	*public function Item()
	*{
		*this.name="render";
		*this.right=0;
		*this.left=0;
		*var selectBox:Clip=new Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*addChild(selectBox);
		*var folder:Clip=new Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";
		*folder.x=14;
		*folder.y=4;
		*addChild(folder);
		*var label:Label=new Label("treeItem");
		*label.name="label";
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*addChild(label);
		*var arrow:Clip=new Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";
		*arrow.x=0;
		*arrow.y=5;
		*addChild(arrow);
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder.png","resource/ui/clip_tree_arrow.png"];
*Laya.loader.load(res,new laya.utils.Handler(this,onLoadComplete));
*function onLoadComplete(){
	*var xmlString;//创建一个xml字符串，用于存储树结构数据。
	*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
	*var domParser=new laya.utils.Browser.window.DOMParser();//创建一个DOMParser实例domParser。
	*var xml=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
	*var tree=new laya.ui.Tree();//创建一个 Tree 类的实例对象 tree 。
	*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
	*tree.itemRender=mypackage.treeExample.Item;//设置 tree 的项渲染器。
	*tree.xml=xml;//设置 tree 的树结构数据。
	*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
	*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
	*tree.width=200;//设置 tree 的宽度。
	*tree.height=100;//设置 tree 的高度。
	*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
	*}
*(function (_super){
	*function Item(){
		*Item.__super.call(this);//初始化父类。
		*this.right=0;
		*this.left=0;
		*var selectBox=new laya.ui.Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";//设置 selectBox 的name 为“selectBox”时，将被识别为树结构的项的背景。2帧：悬停时背景、选中时背景。
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*this.addChild(selectBox);//需要使用this.访问父类的属性或方法。
		*var folder=new laya.ui.Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";//设置 folder 的name 为“folder”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。
		*folder.x=14;
		*folder.y=4;
		*this.addChild(folder);
		*var label=new laya.ui.Label("treeItem");
		*label.name="label";//设置 label 的name 为“label”时，此值将用于树结构数据赋值。
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*this.addChild(label);
		*var arrow=new laya.ui.Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";//设置 arrow 的name 为“arrow”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。
		*arrow.x=0;
		*arrow.y=5;
		*this.addChild(arrow);
		*};
	*Laya.class(Item,"mypackage.treeExample.Item",_super);//注册类 Item 。
	*})(laya.ui.Box);
*@example
*import Tree=laya.ui.Tree;
*import Browser=laya.utils.Browser;
*import Handler=laya.utils.Handler;
*class Tree_Example {
	*constructor(){
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder * . * png","resource/ui/clip_tree_arrow.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*var xmlString:String;//创建一个xml字符串，用于存储树结构数据。
		*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc  * label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
		*var domParser:any=new Browser.window.DOMParser();//创建一个DOMParser实例domParser。
		*var xml:any=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
		*var tree:Tree=new Tree();//创建一个 Tree 类的实例对象 tree 。
		*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
		*tree.itemRender=Item;//设置 tree 的项渲染器。
		*tree.xml=xml;//设置 tree 的树结构数据。
		*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
		*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
		*tree.width=200;//设置 tree 的宽度。
		*tree.height=100;//设置 tree 的高度。
		*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
		*}
	*}
*import Box=laya.ui.Box;
*import Clip=laya.ui.Clip;
*import Label=laya.ui.Label;
*class Item extends Box {
	*constructor(){
		*super();
		*this.name="render";
		*this.right=0;
		*this.left=0;
		*var selectBox:Clip=new Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*this.addChild(selectBox);
		*var folder:Clip=new Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";
		*folder.x=14;
		*folder.y=4;
		*this.addChild(folder);
		*var label:Label=new Label("treeItem");
		*label.name="label";
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*this.addChild(label);
		*var arrow:Clip=new Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";
		*arrow.x=0;
		*arrow.y=5;
		*this.addChild(arrow);
		*}
	*}
*/
//class laya.ui.Tree extends laya.ui.Box
var Tree=(function(_super){
	function Tree(){
		/**@private */
		this._list=null;
		/**@private */
		this._source=null;
		/**@private */
		this._renderHandler=null;
		/**@private */
		this._spaceLeft=10;
		/**@private */
		this._spaceBottom=0;
		/**@private */
		this._keepStatus=true;
		Tree.__super.call(this);
		this.width=this.height=200;
	}

	__class(Tree,'laya.ui.Tree',_super);
	var __proto=Tree.prototype;
	Laya.imps(__proto,{"laya.ui.IRender":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.UIComponent.prototype.destroy.call(this,destroyChild);
		this._list && this._list.destroy(destroyChild);
		this._list=null;
		this._source=null;
		this._renderHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._list=new List());
		this._list.renderHandler=Handler.create(this,this.renderItem,null,false);
		this._list.repeatX=1;
		this._list.on("change",this,this.onListChange);
	}

	/**
	*@private
	*此对象包含的<code>List</code>实例的<code>Event.CHANGE</code>事件侦听处理函数。
	*/
	__proto.onListChange=function(e){
		this.event("change");
	}

	/**
	*@private
	*获取数据源集合。
	*/
	__proto.getArray=function(){
		var arr=[];
		var item;
		for(var $each_item in this._source){
			item=this._source[$each_item];
			if (this.getParentOpenStatus(item)){
				item.x=this._spaceLeft *this.getDepth(item);
				arr.push(item);
			}
		}
		return arr;
	}

	/**
	*@private
	*获取项对象的深度。
	*/
	__proto.getDepth=function(item,num){
		(num===void 0)&& (num=0);
		if (item.nodeParent==null)return num;
		else return this.getDepth(item.nodeParent,num+1);
	}

	/**
	*@private
	*获取项对象的上一级的打开状态。
	*/
	__proto.getParentOpenStatus=function(item){
		var parent=item.nodeParent;
		if (parent==null){
			return true;
			}else {
			if (parent.isOpen){
				if (parent.nodeParent !=null)return this.getParentOpenStatus(parent);
				else return true;
				}else {
				return false;
			}
		}
	}

	/**
	*@private
	*渲染一个项对象。
	*@param cell 一个项对象。
	*@param index 项的索引。
	*/
	__proto.renderItem=function(cell,index){
		var item=cell.dataSource;
		if (item){
			cell.left=item.x;
			var arrow=cell.getChildByName("arrow");
			if (arrow){
				if (item.hasChild){
					arrow.visible=true;
					arrow.index=item.isOpen ? 1 :0;
					arrow.tag=index;
					arrow.off("click",this,this.onArrowClick);
					arrow.on("click",this,this.onArrowClick);
					}else {
					arrow.visible=false;
				}
			};
			var folder=cell.getChildByName("folder");
			if (folder){
				if (folder.clipY==2){
					folder.index=item.isDirectory ? 0 :1;
					}else {
					folder.index=item.isDirectory ? item.isOpen ? 1 :0 :2;
				}
			}
			this._renderHandler && this._renderHandler.runWith([cell,index]);
		}
	}

	/**
	*@private
	*/
	__proto.onArrowClick=function(e){
		var arrow=e.currentTarget;
		var index=arrow.tag;
		this._list.array[index].isOpen=!this._list.array[index].isOpen;
		this.event("open");
		this._list.array=this.getArray();
	}

	/**
	*设置指定项索引的项对象的打开状态。
	*@param index 项索引。
	*@param isOpen 是否处于打开状态。
	*/
	__proto.setItemState=function(index,isOpen){
		if (!this._list.array[index])return;
		this._list.array[index].isOpen=isOpen;
		this._list.array=this.getArray();
	}

	/**
	*刷新项列表。
	*/
	__proto.fresh=function(){
		this._list.array=this.getArray();
		this.repaint();
	}

	/**
	*@private
	*解析并处理XML类型的数据源。
	*/
	__proto.parseXml=function(xml,source,nodeParent,isRoot){
		var obj;
		var list=xml.childNodes;
		var childCount=list.length;
		if (!isRoot){
			obj={};
			var list2=xml.attributes;
			var attrs;
			for(var $each_attrs in list2){
				attrs=list2[$each_attrs];
				var prop=attrs.nodeName;
				var value=attrs.nodeValue;
				obj[prop]=value=="true" ? true :value=="false" ? false :value;
			}
			obj.nodeParent=nodeParent;
			if (childCount > 0)obj.isDirectory=true;
			obj.hasChild=childCount > 0;
			source.push(obj);
		}
		for (var i=0;i < childCount;i++){
			var node=list[i];
			this.parseXml(node,source,obj,false);
		}
	}

	/**
	*@private
	*处理数据项的打开状态。
	*/
	__proto.parseOpenStatus=function(oldSource,newSource){
		for (var i=0,n=newSource.length;i < n;i++){
			var newItem=newSource[i];
			if (newItem.isDirectory){
				for (var j=0,m=oldSource.length;j < m;j++){
					var oldItem=oldSource[j];
					if (oldItem.isDirectory && this.isSameParent(oldItem,newItem)&& newItem.label==oldItem.label){
						newItem.isOpen=oldItem.isOpen;
						break ;
					}
				}
			}
		}
	}

	/**
	*@private
	*判断两个项对象在树结构中的父节点是否相同。
	*@param item1 项对象。
	*@param item2 项对象。
	*@return 如果父节点相同值为true，否则值为false。
	*/
	__proto.isSameParent=function(item1,item2){
		if (item1.nodeParent==null && item2.nodeParent==null)return true;
		else if (item1.nodeParent==null || item2.nodeParent==null)return false
		else {
			if (item1.nodeParent.label==item2.nodeParent.label)return this.isSameParent(item1.nodeParent,item2.nodeParent);
			else return false;
		}
	}

	/**
	*更新项列表，显示指定键名的数据项。
	*@param key 键名。
	*/
	__proto.filter=function(key){
		if (Boolean(key)){
			var result=[];
			this.getFilterSource(this._source,result,key);
			this._list.array=result;
			}else {
			this._list.array=this.getArray();
		}
	}

	/**
	*@private
	*获取数据源中指定键名的值。
	*/
	__proto.getFilterSource=function(array,result,key){
		key=key.toLocaleLowerCase();
		var item;
		for(var $each_item in array){
			item=array[$each_item];
			if (!item.isDirectory && String(item.label).toLowerCase().indexOf(key)>-1){
				item.x=0;
				result.push(item);
			}
			if (item.child && item.child.length > 0){
				this.getFilterSource(item.child,result,key);
			}
		}
	}

	/**
	*每一项之间的间隔距离（以像素为单位）。
	*/
	__getset(0,__proto,'spaceBottom',function(){
		return this._list.spaceY;
		},function(value){
		this._list.spaceY=value;
	});

	/**
	*数据源发生变化后，是否保持之前打开状态，默认为true。
	*<p><b>取值：</b>
	*<li>true：保持之前打开状态。</li>
	*<li>false：不保持之前打开状态。</li>
	*</p>
	*/
	__getset(0,__proto,'keepStatus',function(){
		return this._keepStatus;
		},function(value){
		this._keepStatus=value;
	});

	/**
	*此对象包含的<code>List</code>实例的单元格渲染器。
	*<p><b>取值：</b>
	*<ol>
	*<li>单元格类对象。</li>
	*<li> UI 的 JSON 描述。</li>
	*</ol></p>
	*/
	__getset(0,__proto,'itemRender',function(){
		return this._list.itemRender;
		},function(value){
		this._list.itemRender=value;
	});

	/**
	*列表数据源，只包含当前可视节点数据。
	*/
	__getset(0,__proto,'array',function(){
		return this._list.array;
		},function(value){
		if (this._keepStatus && this._list.array && value){
			this.parseOpenStatus(this._list.array,value);
		}
		this._source=value;
		this._list.array=this.getArray();
	});

	/**
	*单元格鼠标事件处理器。
	*<p>默认返回参数（e:Event,index:int）。</p>
	*/
	__getset(0,__proto,'mouseHandler',function(){
		return this._list.mouseHandler;
		},function(value){
		this._list.mouseHandler=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		Laya.superSet(Box,this,'dataSource',value);
	});

	/**
	*数据源，全部节点数据。
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
	});

	/**滚动条*/
	__getset(0,__proto,'scrollBar',function(){
		return this._list.scrollBar;
	});

	/**
	*此对象包含的<code>List</code>实例对象。
	*/
	__getset(0,__proto,'list',function(){
		return this._list;
	});

	/**
	*滚动条皮肤。
	*/
	__getset(0,__proto,'scrollBarSkin',function(){
		return this._list.vScrollBarSkin;
		},function(value){
		this._list.vScrollBarSkin=value;
	});

	/**
	*<code>Tree</code> 实例的渲染处理器。
	*/
	__getset(0,__proto,'renderHandler',function(){
		return this._renderHandler;
		},function(value){
		this._renderHandler=value;
	});

	/**
	*表示当前选择的项索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._list.selectedIndex;
		},function(value){
		this._list.selectedIndex=value;
	});

	/**
	*左侧缩进距离（以像素为单位）。
	*/
	__getset(0,__proto,'spaceLeft',function(){
		return this._spaceLeft;
		},function(value){
		this._spaceLeft=value;
	});

	/**
	*当前选中的项对象的数据源。
	*/
	__getset(0,__proto,'selectedItem',function(){
		return this._list.selectedItem;
		},function(value){
		this._list.selectedItem=value;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Box,this,'width',value);
		this._list.width=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Box,this,'height',value);
		this._list.height=value;
	});

	/**
	*xml结构的数据源。
	*/
	__getset(0,__proto,'xml',null,function(value){
		var arr=[];
		this.parseXml(value.childNodes[0],arr,null,true);
		this.array=arr;
	});

	/**
	*表示选择的树节点项的<code>path</code>属性值。
	*/
	__getset(0,__proto,'selectedPath',function(){
		if (this._list.selectedItem){
			return this._list.selectedItem.path;
		}
		return null;
	});

	return Tree;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/ViewStack.as=======94.998782/94.998782
/**
*<code>ViewStack</code> 类用于视图堆栈类，用于视图的显示等设置处理。
*/
//class laya.ui.ViewStack extends laya.ui.Box
var ViewStack=(function(_super){
	function ViewStack(){
		/**@private */
		this._items=null;
		/**@private */
		this._selectedIndex=0;
		ViewStack.__super.call(this);
		this._setIndexHandler=Handler.create(this,this.setIndex,null,false);
	}

	__class(ViewStack,'laya.ui.ViewStack',_super);
	var __proto=ViewStack.prototype;
	Laya.imps(__proto,{"laya.ui.IItem":true})
	/**
	*批量设置视图对象。
	*@param views 视图对象数组。
	*/
	__proto.setItems=function(views){
		this.removeChildren();
		var index=0;
		for (var i=0,n=views.length;i < n;i++){
			var item=views[i];
			if (item){
				item.name="item"+index;
				this.addChild(item);
				index++;
			}
		}
		this.initItems();
	}

	/**
	*添加视图。
	*@internal 添加视图对象，并设置此视图对象的<code>name</code> 属性。
	*@param view 需要添加的视图对象。
	*/
	__proto.addItem=function(view){
		view.name="item"+this._items.length;
		this.addChild(view);
		this.initItems();
	}

	__proto._afterInited=function(){
		this.initItems();
	}

	/**
	*初始化视图对象集合。
	*/
	__proto.initItems=function(){
		this._items=[];
		for (var i=0;i < 10000;i++){
			var item=this.getChildByName("item"+i);
			if (item==null){
				break ;
			}
			this._items.push(item);
			item.visible=(i==this._selectedIndex);
		}
	}

	/**
	*@private
	*通过对象的索引设置项对象的 <code>selected</code> 属性值。
	*@param index 需要设置的对象的索引。
	*@param selected 表示对象的选中状态。
	*/
	__proto.setSelect=function(index,selected){
		if (this._items && index >-1 && index < this._items.length){
			this._items[index].visible=selected;
		}
	}

	/**
	*@private
	*设置属性<code>selectedIndex</code>的值。
	*@param index 选中项索引值。
	*/
	__proto.setIndex=function(index){
		this.selectedIndex=index;
	}

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string')){
			this.selectedIndex=parseInt(value);
			}else {
			for (var prop in this._dataSource){
				if (this.hasOwnProperty(prop)){
					this[prop]=this._dataSource[prop];
				}
			}
		}
	});

	/**
	*表示当前视图索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this.setSelect(this._selectedIndex,false);
			this._selectedIndex=value;
			this.setSelect(this._selectedIndex,true);
		}
	});

	/**
	*获取或设置当前选择的项对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._items.indexOf(value);
	});

	/**
	*视图集合数组。
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
	});

	/**
	*索引设置处理器。
	*<p>默认回调参数：index:int</p>
	*/
	__getset(0,__proto,'setIndexHandler',function(){
		return this._setIndexHandler;
		},function(value){
		this._setIndexHandler=value;
	});

	return ViewStack;
})(Box)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/d3/core/MeshTerrainSprite3D.as=======94.998528/94.998528
/**
*<code>TerrainMeshSprite3D</code> 类用于创建网格。
*/
//class laya.d3.core.MeshTerrainSprite3D extends laya.d3.core.MeshSprite3D
var MeshTerrainSprite3D=(function(_super){
	function MeshTerrainSprite3D(mesh,heightMap,name){
		/**@private */
		this._minX=NaN;
		/**@private */
		this._minZ=NaN;
		/**@private */
		this._cellSize=null;
		/**@private */
		this._heightMap=null;
		MeshTerrainSprite3D.__super.call(this,mesh,name);
		this._heightMap=heightMap;
		this._cellSize=new Vector2();
	}

	__class(MeshTerrainSprite3D,'laya.d3.core.MeshTerrainSprite3D',_super);
	var __proto=MeshTerrainSprite3D.prototype;
	/**
	*@private
	*/
	__proto._disableRotation=function(){
		var rotation=this.transform.rotation;
		rotation.elements[0]=0;
		rotation.elements[1]=0;
		rotation.elements[2]=0;
		rotation.elements[3]=1;
		this.transform.rotation=rotation;
	}

	/**
	*@private
	*/
	__proto._getScaleX=function(){
		var worldMat=this.transform.worldMatrix;
		var worldMatE=worldMat.elements;
		var m11=worldMatE[0];
		var m12=worldMatE[1];
		var m13=worldMatE[2];
		return Math.sqrt((m11 *m11)+(m12 *m12)+(m13 *m13));
	}

	/**
	*@private
	*/
	__proto._getScaleZ=function(){
		var worldMat=this.transform.worldMatrix;
		var worldMatE=worldMat.elements;
		var m31=worldMatE[8];
		var m32=worldMatE[9];
		var m33=worldMatE[10];
		return Math.sqrt((m31 *m31)+(m32 *m32)+(m33 *m33));
	}

	/**
	*@private
	*/
	__proto._initCreateFromMesh=function(heightMapWidth,heightMapHeight){
		this._heightMap=HeightMap.creatFromMesh(this.meshFilter.sharedMesh,heightMapWidth,heightMapHeight,this._cellSize);
		var boundingBox=this.meshFilter.sharedMesh.boundingBox;
		var min=boundingBox.min;
		var max=boundingBox.max;
		this._minX=min.x;
		this._minZ=min.z;
	}

	/**
	*@private
	*/
	__proto._initCreateFromMeshHeightMap=function(texture,minHeight,maxHeight){
		var _$this=this;
		var boundingBox=this.meshFilter.sharedMesh.boundingBox;
		if (texture.loaded){
			this._heightMap=HeightMap.createFromImage(texture,minHeight,maxHeight);
			this._computeCellSize(boundingBox);
			}else {
			texture.once("loaded",null,function(){
				_$this._heightMap=HeightMap.createFromImage(texture,minHeight,maxHeight);
				_$this._computeCellSize(boundingBox);
			});
		};
		var min=boundingBox.min;
		var max=boundingBox.max;
		this._minX=min.x;
		this._minZ=min.z;
	}

	/**
	*@private
	*/
	__proto._computeCellSize=function(boundingBox){
		var min=boundingBox.min;
		var max=boundingBox.max;
		var minX=min.x;
		var minZ=min.z;
		var maxX=max.x;
		var maxZ=max.z;
		var widthSize=maxX-minX;
		var heightSize=maxZ-minZ;
		this._cellSize.elements[0]=widthSize / (this._heightMap.width-1);
		this._cellSize.elements[1]=heightSize / (this._heightMap.height-1);
	}

	/**
	*@private
	*/
	__proto._update=function(state){
		this._disableRotation();
		_super.prototype._update(state);
	}

	/**
	*获取地形高度。
	*@param x X轴坐标。
	*@param z Z轴坐标。
	*/
	__proto.getHeight=function(x,z){
		MeshTerrainSprite3D._tempVector3.elements[0]=x;
		MeshTerrainSprite3D._tempVector3.elements[1]=0;
		MeshTerrainSprite3D._tempVector3.elements[2]=z;
		this._disableRotation();
		var worldMat=this.transform.worldMatrix;
		worldMat.invert(MeshTerrainSprite3D._tempMatrix4x4);
		Vector3.transformCoordinate(MeshTerrainSprite3D._tempVector3,MeshTerrainSprite3D._tempMatrix4x4,MeshTerrainSprite3D._tempVector3);
		x=MeshTerrainSprite3D._tempVector3.elements[0];
		z=MeshTerrainSprite3D._tempVector3.elements[2];
		var c=(x-this._minX)/ this._cellSize.x;
		var d=(z-this._minZ)/ this._cellSize.y;
		var row=Math.floor(d);
		var col=Math.floor(c);
		var s=c-col;
		var t=d-row;
		var uy=NaN;
		var vy=NaN;
		var worldMatE=worldMat.elements;
		var m21=worldMatE[4];
		var m22=worldMatE[5];
		var m23=worldMatE[6];
		var scaleY=Math.sqrt((m21 *m21)+(m22 *m22)+(m23 *m23));
		var translateY=worldMatE[13];
		var h01=this._heightMap.getHeight(row,col+1);
		var h10=this._heightMap.getHeight((row+1),col);
		if (isNaN(h01)|| isNaN(h10))
			return NaN;
		if (s+t <=1.0){
			var h00=this._heightMap.getHeight(row,col);
			if (isNaN(h00))
				return NaN;
			uy=h01-h00;
			vy=h10-h00;
			return (h00+s *uy+t *vy)*scaleY+translateY;
			}else {
			var h11=this._heightMap.getHeight((row+1),col+1);
			if (isNaN(h11))
				return NaN;
			uy=h10-h11;
			vy=h01-h11;
			return (h11+(1.0-s)*uy+(1.0-t)*vy)*scaleY+translateY;
		}
	}

	/**
	*获取地形X轴最小位置。
	*@return 地形X轴最小位置。
	*/
	__getset(0,__proto,'minX',function(){
		var worldMat=this.transform.worldMatrix;
		var worldMatE=worldMat.elements;
		return this._minX *this._getScaleX()+worldMatE[12];
	});

	/**
	*获取地形X轴长度。
	*@return 地形X轴长度。
	*/
	__getset(0,__proto,'width',function(){
		return (this._heightMap.width-1)*this._cellSize.x *this._getScaleX();
	});

	/**
	*获取地形Z轴最小位置。
	*@return 地形X轴最小位置。
	*/
	__getset(0,__proto,'minZ',function(){
		var worldMat=this.transform.worldMatrix;
		var worldMatE=worldMat.elements;
		return this._minZ *this._getScaleZ()+worldMatE[14];
	});

	/**
	*获取地形Z轴长度。
	*@return 地形Z轴长度。
	*/
	__getset(0,__proto,'depth',function(){
		return (this._heightMap.height-1)*this._cellSize.y *this._getScaleZ();
	});

	MeshTerrainSprite3D.createFromMesh=function(mesh,heightMapWidth,heightMapHeight,name){
		var meshTerrainSprite3D=new MeshTerrainSprite3D(mesh,null,name);
		if (mesh.loaded)
			meshTerrainSprite3D._initCreateFromMesh(heightMapWidth,heightMapHeight);
		else
		mesh.once("loaded",meshTerrainSprite3D,meshTerrainSprite3D._initCreateFromMesh,[heightMapWidth,heightMapHeight]);
		return meshTerrainSprite3D;
	}

	MeshTerrainSprite3D.createFromMeshAndHeightMap=function(mesh,texture,minHeight,maxHeight,name){
		var meshTerrainSprite3D=new MeshTerrainSprite3D(mesh,null,name);
		if (mesh.loaded)
			meshTerrainSprite3D._initCreateFromMeshHeightMap(texture,minHeight,maxHeight);
		else
		mesh.once("loaded",meshTerrainSprite3D,meshTerrainSprite3D._initCreateFromMeshHeightMap,[texture,minHeight,maxHeight]);
		return meshTerrainSprite3D;
	}

	__static(MeshTerrainSprite3D,
	['_tempVector3',function(){return this._tempVector3=new Vector3();},'_tempMatrix4x4',function(){return this._tempMatrix4x4=new Matrix4x4();}
	]);
	return MeshTerrainSprite3D;
})(MeshSprite3D)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/CheckBox.as=======94.998131/94.998131
/**
*<code>CheckBox</code> 组件显示一个小方框，该方框内可以有选中标记。
*<code>CheckBox</code> 组件还可以显示可选的文本标签，默认该标签位于 CheckBox 右侧。
*<p><code>CheckBox</code> 使用 <code>dataSource</code>赋值时的的默认属性是：<code>selected</code>。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>CheckBox</code> 实例。</caption>
*package
*{
	*import laya.ui.CheckBox;
	*import laya.utils.Handler;
	*public class CheckBox_Example
	*{
		*public function CheckBox_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/check.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var checkBox:CheckBox=new CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。
			*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
			*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
			*checkBox.clickHandler=new Handler(this,onClick,[checkBox]);//设置 checkBox 的点击事件处理器。
			*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
			*}
		*private function onClick(checkBox:CheckBox):void
		*{
			*trace("输出选中状态: checkBox.selected = "+checkBox.selected);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load("resource/ui/check.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var checkBox:laya.ui.CheckBox=new laya.ui.CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的类的实例对象 checkBox ,传入它的皮肤skin和标签label。
	*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
	*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
	*checkBox.clickHandler=new laya.utils.Handler(this,this.onClick,[checkBox],false);//设置 checkBox 的点击事件处理器。
	*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
	*}
*function onClick(checkBox)
*{
	*console.log("checkBox.selected = ",checkBox.selected);
	*}
*@example
*import CheckBox=laya.ui.CheckBox;
*import Handler=laya.utils.Handler;
*class CheckBox_Example{
	*constructor()
	*{
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/check.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete()
	*{
		*var checkBox:CheckBox=new CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。
		*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
		*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
		*checkBox.clickHandler=new Handler(this,this.onClick,[checkBox]);//设置 checkBox 的点击事件处理器。
		*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
		*}
	*private onClick(checkBox:CheckBox):void
	*{
		*console.log("输出选中状态: checkBox.selected = "+checkBox.selected);
		*}
	*}
*/
//class laya.ui.CheckBox extends laya.ui.Button
var CheckBox=(function(_super){
	/**
	*创建一个新的 <code>CheckBox</code> 组件实例。
	*@param skin 皮肤资源地址。
	*@param label 文本标签的内容。
	*/
	function CheckBox(skin,label){
		(label===void 0)&& (label="");
		CheckBox.__super.call(this,skin,label);
	}

	__class(CheckBox,'laya.ui.CheckBox',_super);
	var __proto=CheckBox.prototype;
	/**@inheritDoc */
	__proto.preinitialize=function(){
		laya.ui.UIComponent.prototype.preinitialize.call(this);
		this.toggle=true;
		this._autoSize=false;
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.createText();
		this._text.align="left";
		this._text.valign="top";
		this._text.width=0;
	}

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='boolean'))this.selected=value;
		else if ((typeof value=='string'))this.selected=value==="true";
		else Laya.superSet(Button,this,'dataSource',value);
	});

	return CheckBox;
})(Button)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/FontClip.as=======94.998124/94.998124
/**
*字体切片，简化版的位图字体，只需设置一个切片图片和文字内容即可使用，效果同位图字体
*使用方式：设置位图字体皮肤skin，设置皮肤对应的字体内容sheet（如果多行，可以使用空格换行），示例：
*fontClip.skin="font1.png";//设置皮肤
*fontClip.sheet="abc123 456";//设置皮肤对应的内容，空格换行。此皮肤为2行5列（显示时skin会被等分为2行5列），第一行对应的文字为"abc123"，第二行为"456"
*fontClip.value="a1326";//显示"a1326"文字
*/
//class laya.ui.FontClip extends laya.ui.Clip
var FontClip=(function(_super){
	function FontClip(skin,sheet){
		/**数值*/
		this._valueArr=null;
		/**文字内容数组**/
		this._indexMap=null;
		/**位图字体内容**/
		this._sheet=null;
		/**@private */
		this._direction="horizontal";
		/**X方向间隙*/
		this._spaceX=0;
		/**Y方向间隙*/
		this._spaceY=0;
		/**@private水平对齐方式*/
		this._align="left";
		/**@private显示文字宽*/
		this._wordsW=0;
		/**@private显示文字高*/
		this._wordsH=0;
		FontClip.__super.call(this);
		if (skin)this.skin=skin;
		if (sheet)this.sheet=sheet;
	}

	__class(FontClip,'laya.ui.FontClip',_super);
	var __proto=FontClip.prototype;
	__proto.createChildren=function(){
		this._bitmap=new AutoBitmap();
		this.on("loaded",this,this._onClipLoaded);
	}

	/**
	*资源加载完毕
	*/
	__proto._onClipLoaded=function(){
		this.callLater(this.changeValue);
	}

	/**渲染数值*/
	__proto.changeValue=function(){
		if (!this._sources)return;
		if (!this._valueArr)return;
		this.graphics.clear(true);
		var texture;
		texture=this._sources[0];
		if (!texture)return;
		var isHorizontal=(this._direction==="horizontal");
		if (isHorizontal){
			this._wordsW=this._valueArr.length *(texture.sourceWidth+this.spaceX);
			this._wordsH=texture.sourceHeight;
			}else{
			this._wordsW=texture.sourceWidth;
			this._wordsH=(texture.sourceHeight+this.spaceY)*this._valueArr.length;
		};
		var dX=0;
		if (this._width){
			switch(this._align){
				case "center":
					dX=0.5 *(this._width-this._wordsW);
					break ;
				case "right":
					dX=this._width-this._wordsW;
					break ;
				default :
					dX=0;
				}
		}
		for (var i=0,sz=this._valueArr.length;i < sz;i++){
			var index=this._indexMap[this._valueArr.charAt(i)];
			if (!this.sources[index])continue ;
			texture=this.sources[index];
			if (isHorizontal)this.graphics.drawImage(texture,dX+i *(texture.sourceWidth+this.spaceX),0,texture.sourceWidth,texture.sourceHeight);
			else this.graphics.drawImage(texture,0+dX,i *(texture.sourceHeight+this.spaceY),texture.sourceWidth,texture.sourceHeight);
		}
		if (!this._width){
			this.resetLayoutX();
			this.callLater(this.changeSize);
		}
		if (!this._height){
			this.resetLayoutY();
			this.callLater(this.changeSize);
		}
	}

	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._valueArr=null;
		this._indexMap=null;
		this.graphics.clear(true);
		this.removeSelf();
		this.off("loaded",this,this._onClipLoaded);
		_super.prototype.destroy.call(this,destroyChild);
	}

	/**
	*设置位图字体内容，空格代表换行。比如"abc123 456"，代表第一行对应的文字为"abc123"，第二行为"456"
	*/
	__getset(0,__proto,'sheet',function(){
		return this._sheet;
		},function(value){
		value+="";
		this._sheet=value;
		var arr=value.split(" ");
		this._clipX=String(arr[0]).length;
		this.clipY=arr.length;
		this._indexMap={};
		for (var i=0;i < this._clipY;i++){
			var line=arr[i].split("");
			for (var j=0,n=line.length;j < n;j++){
				this._indexMap[line[j]]=i *this._clipX+j;
			}
		}
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Clip,this,'height',value);
		this.callLater(this.changeValue);
	});

	/**
	*布局方向。
	*<p>默认值为"horizontal"。</p>
	*<p><b>取值：</b>
	*<li>"horizontal"：表示水平布局。</li>
	*<li>"vertical"：表示垂直布局。</li>
	*</p>
	*/
	__getset(0,__proto,'direction',function(){
		return this._direction;
		},function(value){
		this._direction=value;
		this.callLater(this.changeValue);
	});

	/**
	*设置位图字体的显示内容
	*/
	__getset(0,__proto,'value',function(){
		if (!this._valueArr)return "";
		return this._valueArr;
		},function(value){
		value+="";
		this._valueArr=value;
		this.callLater(this.changeValue);
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Clip,this,'width',value);
		this.callLater(this.changeValue);
	});

	/**X方向文字间隙*/
	__getset(0,__proto,'spaceX',function(){
		return this._spaceX;
		},function(value){
		this._spaceX=value;
		if (this._direction==="horizontal")this.callLater(this.changeValue);
	});

	/**Y方向文字间隙*/
	__getset(0,__proto,'spaceY',function(){
		return this._spaceY;
		},function(value){
		this._spaceY=value;
		if (!(this._direction==="horizontal"))this.callLater(this.changeValue);
	});

	/**水平对齐方式*/
	__getset(0,__proto,'align',function(){
		return this._align;
		},function(v){
		this._align=v;
		this.callLater(this.changeValue);
	});

	__getset(0,__proto,'measureWidth',function(){
		return this._wordsW;
	});

	__getset(0,__proto,'measureHeight',function(){
		return this._wordsH;
	});

	return FontClip;
})(Clip)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/HScrollBar.as=======94.998113/94.998113
/**
*使用 <code>HScrollBar</code> （水平 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。
*@example <caption>以下示例代码，创建了一个 <code>HScrollBar</code> 实例。</caption>
*package
*{
	*import laya.ui.HScrollBar;
	*import laya.utils.Handler;
	*public class HScrollBar_Example
	*{
		*private var hScrollBar:HScrollBar;
		*public function HScrollBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*hScrollBar=new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
			*hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
			*hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
			*hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
			*hScrollBar.changeHandler=new Handler(this,onChange);//设置 hScrollBar 的滚动变化处理器。
			*Laya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滚动条的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var hScrollBar;
*var res=["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*console.log("资源加载完成！");
	*hScrollBar=new laya.ui.HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
	*hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
	*hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
	*hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
	*hScrollBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 hScrollBar 的滚动变化处理器。
	*Laya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。
	*}
*function onChange(value)
*{
	*console.log("滚动条的位置： value="+value);
	*}
*@example
*import HScrollBar=laya.ui.HScrollBar;
*import Handler=laya.utils.Handler;
*class HScrollBar_Example {
	*private hScrollBar:HScrollBar;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.hScrollBar=new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
		*this.hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
		*this.hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
		*this.hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
		*this.hScrollBar.changeHandler=new Handler(this,this.onChange);//设置 hScrollBar 的滚动变化处理器。
		*Laya.stage.addChild(this.hScrollBar);//将此 hScrollBar 对象添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滚动条的位置： value="+value);
		*}
	*}
*/
//class laya.ui.HScrollBar extends laya.ui.ScrollBar
var HScrollBar=(function(_super){
	function HScrollBar(){
		HScrollBar.__super.call(this);;
	}

	__class(HScrollBar,'laya.ui.HScrollBar',_super);
	var __proto=HScrollBar.prototype;
	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.slider.isVertical=false;
	}

	return HScrollBar;
})(ScrollBar)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/HSlider.as=======94.998109/94.998109
/**
*使用 <code>HSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p> <code>HSlider</code> 控件采用水平方向。滑块轨道从左向右扩展，而标签位于轨道的顶部或底部。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>HSlider</code> 实例。</caption>
*package
*{
	*import laya.ui.HSlider;
	*import laya.utils.Handler;
	*public class HSlider_Example
	*{
		*private var hSlider:HSlider;
		*public function HSlider_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/hslider.png","resource/ui/hslider$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*hSlider=new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
			*hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
			*hSlider.min=0;//设置 hSlider 最低位置值。
			*hSlider.max=10;//设置 hSlider 最高位置值。
			*hSlider.value=2;//设置 hSlider 当前位置值。
			*hSlider.tick=1;//设置 hSlider 刻度值。
			*hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
			*hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
			*hSlider.changeHandler=new Handler(this,onChange);//设置 hSlider 位置变化处理器。
			*Laya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滑块的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800,"canvas");//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var hSlider;
*var res=["resource/ui/hslider.png","resource/ui/hslider$bar.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*console.log("资源加载完成！");
	*hSlider=new laya.ui.HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
	*hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
	*hSlider.min=0;//设置 hSlider 最低位置值。
	*hSlider.max=10;//设置 hSlider 最高位置值。
	*hSlider.value=2;//设置 hSlider 当前位置值。
	*hSlider.tick=1;//设置 hSlider 刻度值。
	*hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
	*hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
	*hSlider.changeHandler=new laya.utils.Handler(this,onChange);//设置 hSlider 位置变化处理器。
	*Laya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。
	*}
*function onChange(value)
*{
	*console.log("滑块的位置： value="+value);
	*}
*@example
*import Handler=laya.utils.Handler;
*import HSlider=laya.ui.HSlider;
*class HSlider_Example {
	*private hSlider:HSlider;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/hslider.png","resource/ui/hslider$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.hSlider=new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
		*this.hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
		*this.hSlider.min=0;//设置 hSlider 最低位置值。
		*this.hSlider.max=10;//设置 hSlider 最高位置值。
		*this.hSlider.value=2;//设置 hSlider 当前位置值。
		*this.hSlider.tick=1;//设置 hSlider 刻度值。
		*this.hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
		*this.hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
		*this.hSlider.changeHandler=new Handler(this,this.onChange);//设置 hSlider 位置变化处理器。
		*Laya.stage.addChild(this.hSlider);//把 hSlider 添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滑块的位置： value="+value);
		*}
	*}
*
*@see laya.ui.Slider
*/
//class laya.ui.HSlider extends laya.ui.Slider
var HSlider=(function(_super){
	/**
	*创建一个 <code>HSlider</code> 类实例。
	*@param skin 皮肤。
	*/
	function HSlider(skin){
		HSlider.__super.call(this,skin);
		this.isVertical=false;
	}

	__class(HSlider,'laya.ui.HSlider',_super);
	return HSlider;
})(Slider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Radio.as=======94.998108/94.998108
/**
*<code>Radio</code> 控件使用户可在一组互相排斥的选择中做出一种选择。
*用户一次只能选择 <code>Radio</code> 组中的一个成员。选择未选中的组成员将取消选择该组中当前所选的 <code>Radio</code> 控件。
*@see laya.ui.RadioGroup
*/
//class laya.ui.Radio extends laya.ui.Button
var Radio=(function(_super){
	function Radio(skin,label){
		/**@private */
		this._value=null;
		(label===void 0)&& (label="");
		Radio.__super.call(this,skin,label);
	}

	__class(Radio,'laya.ui.Radio',_super);
	var __proto=Radio.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._value=null;
	}

	/**@inheritDoc */
	__proto.preinitialize=function(){
		laya.ui.UIComponent.prototype.preinitialize.call(this);
		this.toggle=false;
		this._autoSize=false;
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.createText();
		this._text.align="left";
		this._text.valign="top";
		this._text.width=0;
		this.on("click",this,this.onClick);
	}

	/**
	*@private
	*对象的<code>Event.CLICK</code>事件侦听处理函数。
	*/
	__proto.onClick=function(e){
		this.selected=true;
	}

	/**
	*获取或设置 <code>Radio</code> 关联的可选用户定义值。
	*/
	__getset(0,__proto,'value',function(){
		return this._value !=null ? this._value :this.label;
		},function(obj){
		this._value=obj;
	});

	return Radio;
})(Button)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/VScrollBar.as=======94.998085/94.998085
/**
*
*使用 <code>VScrollBar</code> （垂直 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。
*
*@example <caption>以下示例代码，创建了一个 <code>VScrollBar</code> 实例。</caption>
*package
*{
	*import laya.ui.vScrollBar;
	*import laya.ui.VScrollBar;
	*import laya.utils.Handler;
	*public class VScrollBar_Example
	*{
		*private var vScrollBar:VScrollBar;
		*public function VScrollBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*vScrollBar=new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
			*vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
			*vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
			*vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
			*vScrollBar.changeHandler=new Handler(this,onChange);//设置 vScrollBar 的滚动变化处理器。
			*Laya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滚动条的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var vScrollBar;
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*vScrollBar=new laya.ui.VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
	*vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
	*vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
	*vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
	*vScrollBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 vScrollBar 的滚动变化处理器。
	*Laya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。
	*}
*function onChange(value){
	*console.log("滚动条的位置： value="+value);
	*}
*@example
*import VScrollBar=laya.ui.VScrollBar;
*import Handler=laya.utils.Handler;
*class VScrollBar_Example {
	*private vScrollBar:VScrollBar;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*this.vScrollBar=new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
		*this.vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
		*this.vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
		*this.vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
		*this.vScrollBar.changeHandler=new Handler(this,this.onChange);//设置 vScrollBar 的滚动变化处理器。
		*Laya.stage.addChild(this.vScrollBar);//将此 vScrollBar 对象添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滚动条的位置： value="+value);
		*}
	*}
*/
//class laya.ui.VScrollBar extends laya.ui.ScrollBar
var VScrollBar=(function(_super){
	function VScrollBar(){
		VScrollBar.__super.call(this);;
	}

	__class(VScrollBar,'laya.ui.VScrollBar',_super);
	return VScrollBar;
})(ScrollBar)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/TextInput.as=======94.998083/94.998083
/**
*<code>TextInput</code> 类用于创建显示对象以显示和输入文本。
*
*@example <caption>以下示例代码，创建了一个 <code>TextInput</code> 实例。</caption>
*package
*{
	*import laya.display.Stage;
	*import laya.ui.TextInput;
	*import laya.utils.Handler;
	*public class TextInput_Example
	*{
		*public function TextInput_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var textInput:TextInput=new TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
			*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
			*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
			*textInput.color="#008fff";//设置 textInput 的文本颜色。
			*textInput.font="Arial";//设置 textInput 的文本字体。
			*textInput.bold=true;//设置 textInput 的文本显示为粗体。
			*textInput.fontSize=30;//设置 textInput 的字体大小。
			*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
			*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
			*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
			*textInput.width=300;//设置 textInput 的宽度。
			*textInput.height=200;//设置 textInput 的高度。
			*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/input.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var textInput=new laya.ui.TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
	*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
	*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
	*textInput.color="#008fff";//设置 textInput 的文本颜色。
	*textInput.font="Arial";//设置 textInput 的文本字体。
	*textInput.bold=true;//设置 textInput 的文本显示为粗体。
	*textInput.fontSize=30;//设置 textInput 的字体大小。
	*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
	*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
	*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
	*textInput.width=300;//设置 textInput 的宽度。
	*textInput.height=200;//设置 textInput 的高度。
	*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
	*}
*@example
*import Stage=laya.display.Stage;
*import TextInput=laya.ui.TextInput;
*import Handler=laya.utils.Handler;
*class TextInput_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var textInput:TextInput=new TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
		*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
		*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
		*textInput.color="#008fff";//设置 textInput 的文本颜色。
		*textInput.font="Arial";//设置 textInput 的文本字体。
		*textInput.bold=true;//设置 textInput 的文本显示为粗体。
		*textInput.fontSize=30;//设置 textInput 的字体大小。
		*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
		*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
		*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
		*textInput.width=300;//设置 textInput 的宽度。
		*textInput.height=200;//设置 textInput 的高度。
		*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
		*}
	*}
*/
//class laya.ui.TextInput extends laya.ui.Label
var TextInput=(function(_super){
	function TextInput(text){
		/**@private */
		this._bg=null;
		/**@private */
		this._skin=null;
		TextInput.__super.call(this);
		(text===void 0)&& (text="");
		this.text=text;
		this.skin=this.skin;
	}

	__class(TextInput,'laya.ui.TextInput',_super);
	var __proto=TextInput.prototype;
	/**@inheritDoc */
	__proto.preinitialize=function(){
		this.mouseEnabled=true;
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy();
		this._bg=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._tf=new Input());
		this._tf.padding=Styles.inputLabelPadding;
		this._tf.on("input",this,this._onInput);
		this._tf.on("enter",this,this._onEnter);
		this._tf.on("blur",this,this._onBlur);
		this._tf.on("focus",this,this._onFocus);
	}

	/**
	*@private
	*/
	__proto._onFocus=function(){
		this.event("focus",this);
	}

	/**
	*@private
	*/
	__proto._onBlur=function(){
		this.event("blur",this);
	}

	/**
	*@private
	*/
	__proto._onInput=function(){
		this.event("input",this);
	}

	/**
	*@private
	*/
	__proto._onEnter=function(){
		this.event("enter",this);
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this.width=128;
		this.height=22;
	}

	__proto._skinLoaded=function(){
		this._bg || (this.graphics=this._bg=new AutoBitmap());
		this._bg.source=Loader.getRes(this._skin);
		this._width && (this._bg.width=this._width);
		this._height && (this._bg.height=this._height);
		this.event("loaded");
	}

	/**选中输入框内的文本。*/
	__proto.select=function(){
		(this._tf).select();
	}

	__proto.setSelection=function(startIndex,endIndex){
		(this._tf).setSelection(startIndex,endIndex);
	}

	/**
	*当前文本内容字符串。
	*@see laya.display.Text.text
	*/
	__getset(0,__proto,'text',_super.prototype._$get_text,function(value){
		if (this._tf.text !=value){
			value=value+"";
			this._tf.text=value;
			this.event("change");
		}
	});

	/**
	*表示此对象包含的文本背景 <code>AutoBitmap</code> 组件实例。
	*/
	__getset(0,__proto,'bg',function(){
		return this._bg;
		},function(value){
		this.graphics=this._bg=value;
	});

	/**
	*设置原生input输入框的y坐标偏移。
	*/
	__getset(0,__proto,'inputElementYAdjuster',function(){
		return (this._tf).inputElementYAdjuster;
		},function(value){
		(this._tf).inputElementYAdjuster=value;
	});

	/**
	*<p>指示当前是否是文本域。</p>
	*值为true表示当前是文本域，否则不是文本域。
	*/
	__getset(0,__proto,'multiline',function(){
		return (this._tf).multiline;
		},function(value){
		(this._tf).multiline=value;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (this._skin&&!Loader.getRes(this._skin)){
				Laya.loader.load(this._skin,Handler.create(this,this._skinLoaded),null,"image",1);
				}else{
				this._skinLoaded();
			}
		}
	});

	/**
	*<p>当前实例的背景图（ <code>AutoBitmap</code> ）实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg && this._bg.sizeGrid ? this._bg.sizeGrid.join(","):null;
		},function(value){
		this._bg || (this.graphics=this._bg=new AutoBitmap());
		this._bg.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**
	*设置原生input输入框的x坐标偏移。
	*/
	__getset(0,__proto,'inputElementXAdjuster',function(){
		return (this._tf).inputElementXAdjuster;
		},function(value){
		(this._tf).inputElementXAdjuster=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Label,this,'width',value);
		this._bg && (this._bg.width=value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Label,this,'height',value);
		this._bg && (this._bg.height=value);
	});

	/**
	*设置可编辑状态。
	*/
	__getset(0,__proto,'editable',function(){
		return (this._tf).editable;
		},function(value){
		(this._tf).editable=value;
	});

	/**限制输入的字符。*/
	__getset(0,__proto,'restrict',function(){
		return (this._tf).restrict;
		},function(pattern){
		(this._tf).restrict=pattern;
	});

	/**
	*@copy laya.display.Input#prompt
	*/
	__getset(0,__proto,'prompt',function(){
		return (this._tf).prompt;
		},function(value){
		(this._tf).prompt=value;
	});

	/**
	*@copy laya.display.Input#promptColor
	*/
	__getset(0,__proto,'promptColor',function(){
		return (this._tf).promptColor;
		},function(value){
		(this._tf).promptColor=value;
	});

	/**
	*@copy laya.display.Input#maxChars
	*/
	__getset(0,__proto,'maxChars',function(){
		return (this._tf).maxChars;
		},function(value){
		(this._tf).maxChars=value;
	});

	/**
	*@copy laya.display.Input#focus
	*/
	__getset(0,__proto,'focus',function(){
		return (this._tf).focus;
		},function(value){
		(this._tf).focus=value;
	});

	/**
	*@copy laya.display.Input#type
	*/
	__getset(0,__proto,'type',function(){
		return (this._tf).type;
		},function(value){
		(this._tf).type=value;
	});

	/**
	*@copy laya.display.Input#asPassword
	*/
	__getset(0,__proto,'asPassword',function(){
		return (this._tf).asPassword;
		},function(value){
		(this._tf).asPassword=value;
	});

	return TextInput;
})(Label)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/VSlider.as=======94.998082/94.998082
/**
*使用 <code>VSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p> <code>VSlider</code> 控件采用垂直方向。滑块轨道从下往上扩展，而标签位于轨道的左右两侧。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>VSlider</code> 实例。</caption>
*package
*{
	*import laya.ui.HSlider;
	*import laya.ui.VSlider;
	*import laya.utils.Handler;
	*public class VSlider_Example
	*{
		*private var vSlider:VSlider;
		*public function VSlider_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*vSlider=new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
			*vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
			*vSlider.min=0;//设置 vSlider 最低位置值。
			*vSlider.max=10;//设置 vSlider 最高位置值。
			*vSlider.value=2;//设置 vSlider 当前位置值。
			*vSlider.tick=1;//设置 vSlider 刻度值。
			*vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
			*vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
			*vSlider.changeHandler=new Handler(this,onChange);//设置 vSlider 位置变化处理器。
			*Laya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滑块的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var vSlider;
*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*vSlider=new laya.ui.VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
	*vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
	*vSlider.min=0;//设置 vSlider 最低位置值。
	*vSlider.max=10;//设置 vSlider 最高位置值。
	*vSlider.value=2;//设置 vSlider 当前位置值。
	*vSlider.tick=1;//设置 vSlider 刻度值。
	*vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
	*vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
	*vSlider.changeHandler=new laya.utils.Handler(this,onChange);//设置 vSlider 位置变化处理器。
	*Laya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。
	*}
*function onChange(value){
	*console.log("滑块的位置： value="+value);
	*}
*@example
*import HSlider=laya.ui.HSlider;
*import VSlider=laya.ui.VSlider;
*import Handler=laya.utils.Handler;
*class VSlider_Example {
	*private vSlider:VSlider;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.vSlider=new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
		*this.vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
		*this.vSlider.min=0;//设置 vSlider 最低位置值。
		*this.vSlider.max=10;//设置 vSlider 最高位置值。
		*this.vSlider.value=2;//设置 vSlider 当前位置值。
		*this.vSlider.tick=1;//设置 vSlider 刻度值。
		*this.vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
		*this.vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
		*this.vSlider.changeHandler=new Handler(this,this.onChange);//设置 vSlider 位置变化处理器。
		*Laya.stage.addChild(this.vSlider);//把 vSlider 添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滑块的位置： value="+value);
		*}
	*}
*@see laya.ui.Slider
*/
//class laya.ui.VSlider extends laya.ui.Slider
var VSlider=(function(_super){
	function VSlider(){
		VSlider.__super.call(this);;
	}

	__class(VSlider,'laya.ui.VSlider',_super);
	return VSlider;
})(Slider)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/utils/GraphicAnimation.as=======94.997694/94.997694
/**
*Graphics动画解析器
*@private
*/
//class laya.utils.GraphicAnimation extends laya.display.FrameAnimation
var GraphicAnimation=(function(_super){
	var GraphicNode;
	function GraphicAnimation(){
		/**@private */
		this.animationList=null;
		/**@private */
		this.animationDic=null;
		/**@private */
		this._nodeList=null;
		/**@private */
		this._nodeDefaultProps=null;
		/**@private */
		this._gList=null;
		/**@private */
		this._nodeIDAniDic={};
		/**@private */
		this._rootNode=null;
		/**@private */
		this._nodeGDic=null;
		GraphicAnimation.__super.call(this);
	}

	__class(GraphicAnimation,'laya.utils.GraphicAnimation',_super);
	var __proto=GraphicAnimation.prototype;
	/**@private */
	__proto._parseNodeList=function(uiView){
		if (!this._nodeList)this._nodeList=[];
		this._nodeDefaultProps[uiView.compId]=uiView.props;
		if (uiView.compId)this._nodeList.push(uiView.compId);
		var childs=uiView.child;
		if (childs){
			var i=0,len=childs.length;
			for (i=0;i < len;i++){
				this._parseNodeList(childs[i]);
			}
		}
	}

	/**@private */
	__proto._calGraphicData=function(aniData){
		this._setUp(null,aniData);
		this._createGraphicData();
	}

	/**@private */
	__proto._createGraphicData=function(){
		var gList=[];
		var i=0,len=this.count;
		var animationDataNew=this._usedFrames;
		if (!animationDataNew)animationDataNew=[];
		var preGraphic;
		for (i=0;i < len;i++){
			if (animationDataNew[i] || !preGraphic){
				preGraphic=this._createFrameGraphic(i);
			}
			gList.push(preGraphic);
		}
		this._gList=gList;
	}

	/**@private */
	__proto._createFrameGraphic=function(frame){
		var g=new Graphics();
		if (!GraphicAnimation._rootMatrix)GraphicAnimation._rootMatrix=new Matrix();
		this._updateNodeGraphic(this._rootNode,frame,GraphicAnimation._rootMatrix,g);
		return g;
	}

	__proto._updateNodeGraphic=function(node,frame,parentTransfrom,g,alpha){
		(alpha===void 0)&& (alpha=1);
		var tNodeG;
		tNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);
		if (!tNodeG.resultTransform)
			tNodeG.resultTransform=new Matrix();
		var tResultTransform;
		tResultTransform=tNodeG.resultTransform;
		Matrix.mul(tNodeG.transform,parentTransfrom,tResultTransform);
		var tTex;
		var tGraphicAlpha=tNodeG.alpha *alpha;
		if (tGraphicAlpha < 0.01)return;
		if (tNodeG.skin){
			tTex=this._getTextureByUrl(tNodeG.skin);
			if (tTex){
				if (tResultTransform._checkTransform()){
					g.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tResultTransform,tGraphicAlpha);
					tNodeG.resultTransform=null;
					}else {
					g.drawTexture(tTex,tResultTransform.tx,tResultTransform.ty,tNodeG.width,tNodeG.height,null,tGraphicAlpha);
				}
			}
		};
		var childs=node.child;
		if (!childs)return;
		var i=0,len=0;
		len=childs.length;
		for (i=0;i < len;i++){
			this._updateNodeGraphic(childs[i],frame,tResultTransform,g,tGraphicAlpha);
		}
	}

	__proto._updateNoChilds=function(tNodeG,g){
		if (!tNodeG.skin)return;
		var tTex=this._getTextureByUrl(tNodeG.skin);
		if (!tTex)return;
		var tTransform=tNodeG.transform;
		tTransform._checkTransform();
		var onlyTranslate=false;
		onlyTranslate=!tTransform._bTransform;
		if (!onlyTranslate){
			g.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tTransform.clone(),tNodeG.alpha);
			}else {
			g.drawTexture(tTex,tTransform.tx,tTransform.ty,tNodeG.width,tNodeG.height,null,tNodeG.alpha);
		}
	}

	__proto._updateNodeGraphic2=function(node,frame,g){
		var tNodeG;
		tNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);
		if (!node.child){
			this._updateNoChilds(tNodeG,g);
			return;
		};
		var tTransform=tNodeG.transform;
		tTransform._checkTransform();
		var onlyTranslate=false;
		onlyTranslate=!tTransform._bTransform;
		var hasTrans=false;
		hasTrans=onlyTranslate && (tTransform.tx !=0 || tTransform.ty !=0);
		var ifSave=false;
		ifSave=(tTransform._bTransform)|| tNodeG.alpha !=1;
		if (ifSave)g.save();
		if (tNodeG.alpha !=1)g.alpha(tNodeG.alpha);
		if (!onlyTranslate)g.transform(tTransform.clone());
		else if (hasTrans)g.translate(tTransform.tx,tTransform.ty);
		var childs=node.child;
		var tTex;
		if (tNodeG.skin){
			tTex=this._getTextureByUrl(tNodeG.skin);
			if (tTex){
				g.drawImage(tTex,0,0,tNodeG.width,tNodeG.height);
			}
		}
		if (childs){
			var i=0,len=0;
			len=childs.length;
			for (i=0;i < len;i++){
				this._updateNodeGraphic2(childs[i],frame,g);
			}
		}
		if (ifSave){
			g.restore();
			}else {
			if (!onlyTranslate){
				g.transform(tTransform.clone().invert());
				}else if (hasTrans){
				g.translate(-tTransform.tx,-tTransform.ty);
			}
		}
	}

	/**@private */
	__proto._calculateKeyFrames=function(node){
		_super.prototype._calculateKeyFrames.call(this,node);
		this._nodeIDAniDic[node.target]=node;
	}

	/**@private */
	__proto.getNodeDataByID=function(nodeID){
		return this._nodeIDAniDic[nodeID];
	}

	/**@private */
	__proto._getParams=function(obj,params,frame,obj2){
		var rst=GraphicAnimation._temParam;
		rst.length=params.length;
		var i=0,len=params.length;
		for (i=0;i < len;i++){
			rst[i]=this._getObjVar(obj,params[i][0],frame,params[i][1],obj2);
		}
		return rst;
	}

	/**@private */
	__proto._getObjVar=function(obj,key,frame,noValue,obj2){
		if (obj.hasOwnProperty(key)){
			var vArr=obj[key];
			if (frame >=vArr.length)frame=vArr.length-1;
			return obj[key][frame];
		}
		if (obj2.hasOwnProperty(key)){
			return obj2[key];
		}
		return noValue;
	}

	__proto._getNodeGraphicData=function(nodeID,frame,rst){
		if (!rst)
			rst=new GraphicNode();
		if (!rst.transform){
			rst.transform=new Matrix();
			}else {
			rst.transform.identity();
		};
		var node=this.getNodeDataByID(nodeID);
		if (!node)return rst;
		var frameData=node.frames;
		var params=this._getParams(frameData,GraphicAnimation._drawTextureCmd,frame,this._nodeDefaultProps[nodeID]);
		var url=params[0];
		var width=NaN,height=NaN;
		var px=params[5],py=params[6];
		var aX=params[13],aY=params[14];
		var sx=params[7],sy=params[8];
		var rotate=params[9];
		var skewX=params[11],skewY=params[12]
		width=params[3];
		height=params[4];
		if (width==0 || height==0)url=null;
		if (width==-1)width=0;
		if (height==-1)height=0;
		var tex;
		rst.skin=url;
		rst.width=width;
		rst.height=height;
		if (url){
			tex=this._getTextureByUrl(url);
			if (tex){
				if (!width)
					width=tex.sourceWidth;
				if (!height)
					height=tex.sourceHeight;
				}else {
				console.warn("lost skin:",url,",you may load pics first");
			}
		}
		rst.alpha=params[10];
		var m=rst.transform;
		if (aX !=0){
			px=aX *width;
		}
		if (aY !=0){
			py=aY *height;
		}
		if (px !=0 || py !=0){
			m.translate(-px,-py);
		};
		var tm=null;
		if (rotate || sx!==1 || sy!==1 || skewX || skewY){
			tm=GraphicAnimation._tempMt;
			tm.identity();
			tm._bTransform=true;
			var skx=(rotate-skewX)*0.0174532922222222;
			var sky=(rotate+skewY)*0.0174532922222222;
			var cx=Math.cos(sky);
			var ssx=Math.sin(sky);
			var cy=Math.sin(skx);
			var ssy=Math.cos(skx);
			tm.a=sx *cx;
			tm.b=sx *ssx;
			tm.c=-sy *cy;
			tm.d=sy *ssy;
			tm.tx=tm.ty=0;
		}
		if (tm){
			m=Matrix.mul(m,tm,m);
		}
		m.translate(params[1],params[2]);
		return rst;
	}

	/**@private */
	__proto._getTextureByUrl=function(url){
		return Loader.getRes(url);
	}

	/**@private */
	__proto.setAniData=function(uiView,aniName){
		if (uiView.animations){
			this._nodeDefaultProps={};
			this._nodeGDic={};
			if (this._nodeList)this._nodeList.length=0;
			this._rootNode=uiView;
			this._parseNodeList(uiView);
			var aniDic={};
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAniO;
			for (i=0;i < len;i++){
				tAniO=animations[i];
				this._labels=null;
				if (aniName && aniName !=tAniO.name){
					continue ;
				}
				if (!tAniO)
					continue ;
				try {
					this._calGraphicData(tAniO);
					}catch (e){
					console.warn("parse animation fail:"+tAniO.name+",empty animation created");
					this._gList=[];
				};
				var frameO={};
				frameO.interval=1000 / tAniO["frameRate"];
				frameO.frames=this._gList;
				frameO.labels=this._labels;
				frameO.name=tAniO.name;
				anilist.push(frameO);
				aniDic[tAniO.name]=frameO;
			}
			this.animationList=anilist;
			this.animationDic=aniDic;
		}
		GraphicAnimation._temParam.length=0;
	}

	__proto.parseByData=function(aniData){
		var rootNode,aniO;
		rootNode=aniData.nodeRoot;
		aniO=aniData.aniO;
		delete aniData.nodeRoot;
		delete aniData.aniO;
		this._nodeDefaultProps={};
		this._nodeGDic={};
		if (this._nodeList)this._nodeList.length=0;
		this._rootNode=rootNode;
		this._parseNodeList(rootNode);
		this._labels=null;
		try {
			this._calGraphicData(aniO);
			}catch (e){
			console.warn("parse animation fail:"+aniO.name+",empty animation created");
			this._gList=[];
		};
		var frameO=aniData;
		frameO.interval=1000 / aniO["frameRate"];
		frameO.frames=this._gList;
		frameO.labels=this._labels;
		frameO.name=aniO.name;
		return frameO;
	}

	/**@private */
	__proto.setUpAniData=function(uiView){
		if (uiView.animations){
			var aniDic={};
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAniO;
			for (i=0;i < len;i++){
				tAniO=animations[i];
				if (!tAniO)continue ;
				var frameO={};
				frameO.name=tAniO.name;
				frameO.aniO=tAniO;
				frameO.nodeRoot=uiView;
				anilist.push(frameO);
				aniDic[tAniO.name]=frameO;
			}
			this.animationList=anilist;
			this.animationDic=aniDic;
		}
	}

	/**@private */
	__proto._clear=function(){
		this.animationList=null;
		this.animationDic=null;
		this._gList=null;
		this._nodeGDic=null;
	}

	GraphicAnimation.parseAnimationByData=function(animationObject){
		if (!GraphicAnimation._I)GraphicAnimation._I=new GraphicAnimation();
		var rst;
		rst=GraphicAnimation._I.parseByData(animationObject);
		GraphicAnimation._I._clear();
		return rst;
	}

	GraphicAnimation.parseAnimationData=function(aniData){
		if (!GraphicAnimation._I)GraphicAnimation._I=new GraphicAnimation();
		GraphicAnimation._I.setUpAniData(aniData);
		var rst;
		rst={};
		rst.animationList=GraphicAnimation._I.animationList;
		rst.animationDic=GraphicAnimation._I.animationDic;
		GraphicAnimation._I._clear();
		return rst;
	}

	GraphicAnimation._temParam=[];
	GraphicAnimation._I=null;
	GraphicAnimation._rootMatrix=null;
	__static(GraphicAnimation,
	['_drawTextureCmd',function(){return this._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]];},'_tempMt',function(){return this._tempMt=new Matrix();}
	]);
	GraphicAnimation.__init$=function(){
		//class GraphicNode
		GraphicNode=(function(){
			function GraphicNode(){
				this.skin=null;
				this.transform=null;
				this.resultTransform=null;
				this.width=NaN;
				this.height=NaN;
				this.alpha=1;
			}
			__class(GraphicNode,'');
			return GraphicNode;
		})()
	}

	return GraphicAnimation;
})(FrameAnimation)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Winput.as=======94.997350/94.997350
//class wlb.dream.displays.coms.Winput extends laya.display.Input
var Winput=(function(_super){
	function Winput(){
		Winput.__super.call(this);
		this.on("input",this,this.onInput);
	}

	__class(Winput,'wlb.dream.displays.coms.Winput',_super);
	var __proto=Winput.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.IdisplayObject":true})
	__proto.onInput=function(){
		this.event("change");
	}

	__proto.addToParent=function(parent){
		parent.addDisplay(this);
	}

	__proto.addAtParent=function(parent,index){
		parent.addDisplayAt(this,index);
	}

	__proto.setTextFormat=function(font,fontSize,color){
		this.font=font;
		this.fontSize=fontSize;
		this.color=color;
	}

	__getset(0,__proto,'maxscrollY',function(){
		return this._textHeight-this._height
	});

	__getset(0,__proto,'childIndex',function(){
		if(this.parent)return this.parent.getChildIndex(this);
		return-1;
	});

	__getset(0,__proto,'maxscrollX',function(){
		return this._textWidth-this._width
	});

	__getset(0,__proto,'isPassword',function(){
		return this.type=="password";
		},function(value){
		this.type=value?"password":"text";
	});

	__getset(0,__proto,'text',_super.prototype._$get_text,function(value){
		if(this._text==value)return;
		Laya.superSet(Input,this,'text',value);
	});

	__getset(0,__proto,'numLines',function(){
		return this.lines.length;
	});

	return Winput;
})(Input)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/charts/Kchart.as=======94.996184/94.996184
//class org.coms.charts.Kchart extends org.coms.components.Kcomponent
var Kchart=(function(_super){
	function Kchart(parent,xpos,ypos,data){
		this._data=null;
		this._chartHolder=null;
		this._maximum=100;
		this._minimum=0;
		this._autoScale=true;
		this._maxLabel=null;
		this._minLabel=null;
		this._showScaleLabels=false;
		this._labelPrecision=0;
		this._panel=null;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		this._data=data;
		Kchart.__super.call(this,parent,xpos,ypos);
	}

	__class(Kchart,'org.coms.charts.Kchart',_super);
	var __proto=Kchart.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(200,100);
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._panel=new Kpanel(this);
		this._chartHolder=new Sprite
		this._panel.content.addChild(this._chartHolder);
		this._maxLabel=new Klabel();
		this._minLabel=new Klabel();
	}

	/**
	*Graphs the numeric data in the chart. Override in subclasses.
	*/
	__proto.drawChart=function(){}
	/**
	*Gets the highest value of the numbers in the data array.
	*/
	__proto.getMaxValue=function(){
		if(!this._autoScale)return this._maximum;
		var maxValue=Number.NEGATIVE_INFINITY;
		for(var i=0;i < this._data.length;i++){
			if(this._data[i] !=null){
				maxValue=Math.max(this._data[i],maxValue);
			}
		}
		return maxValue;
	}

	/**
	*Gets the lowest value of the numbers in the data array.
	*/
	__proto.getMinValue=function(){
		if(!this._autoScale)return this._minimum;
		var minValue=Number.POSITIVE_INFINITY;
		for(var i=0;i < this._data.length;i++){
			if(this._data[i] !=null){
				minValue=Math.min(this._data[i],minValue);
			}
		}
		return minValue;
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._panel.size(this.width,this.height);
		this._panel.drawNow();
		this._chartHolder.graphics.clear();
		if(this._data !=null){
			this.drawChart();
			var mult=Math.pow(10,this._labelPrecision);
			var maxVal=Math.round(this.maximum *mult)/ mult;
			this._maxLabel.text=maxVal.toString();
			this._maxLabel.drawNow();
			this._maxLabel.x=0;
			this._maxLabel.y=0;
			var minVal=Math.round(this.minimum *mult)/ mult;
			this._minLabel.text=minVal.toString();
			this._minLabel.drawNow();
			this._minLabel.x=0;
			this._minLabel.y=this.height-this._minLabel.height;
		}
	}

	/**
	*Sets/gets whether or not labels for max and min graph values will be shown.
	*Note:these labels will be to the left of the x position of the chart. Chart position may need adjusting.
	*/
	__getset(0,__proto,'showScaleLabels',function(){
		return this._showScaleLabels;
		},function(value){
		this._showScaleLabels=value;
		if(this._showScaleLabels){
			this.addChild(this._maxLabel);
			this.addChild(this._minLabel);
		}
		else{
			if(this.contains(this._maxLabel))this.removeChild(this._maxLabel);
			if(this.contains(this._minLabel))this.removeChild(this._minLabel);
		}
	});

	/**
	*Sets/gets the data array.
	*/
	__getset(0,__proto,'data',function(){
		return this._data;
		},function(value){
		this._data=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the maximum value of the graph. Only used if autoScale is false.
	*/
	__getset(0,__proto,'maximum',function(){
		if(this._autoScale)return this.getMaxValue();
		return this._maximum;
		},function(value){
		this._maximum=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the amount of decimal places shown in the scale labels.
	*/
	__getset(0,__proto,'labelPrecision',function(){
		return this._labelPrecision;
		},function(value){
		this._labelPrecision=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the minimum value of the graph. Only used if autoScale is false.
	*/
	__getset(0,__proto,'minimum',function(){
		if(this._autoScale)return this.getMinValue();
		return this._minimum;
		},function(value){
		this._minimum=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the color of the grid lines.
	*/
	__getset(0,__proto,'gridColor',function(){
		return this._panel.gridColor;
		},function(value){
		this._panel.gridColor=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets whether or not the grid will be shown.
	*/
	__getset(0,__proto,'showGrid',function(){
		return this._panel.showGrid;
		},function(value){
		this._panel.showGrid=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets whether the graph will automatically set its own max and min values based on the data values.
	*/
	__getset(0,__proto,'autoScale',function(){
		return this._autoScale;
		},function(value){
		this._autoScale=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the size of the grid.
	*/
	__getset(0,__proto,'gridSize',function(){
		return this._panel.gridSize;
		},function(value){
		this._panel.gridSize=value;
		this.drawAsyn();
	});

	return Kchart;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KcheckBox.as=======94.996179/94.996179
//class org.coms.components.KcheckBox extends org.coms.components.Kcomponent
var KcheckBox=(function(_super){
	function KcheckBox(parent,xpos,ypos,label,defaultHandler){
		this._back=null;
		this._tick=null;
		// protected var _unSelectedfilters:Array;
		this._label=null;
		this._labelText="";
		this._selected=false;
		this.isTog=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(label===void 0)&& (label="");
		this._labelText=label;
		KcheckBox.__super.call(this,parent,xpos,ypos);
		if(defaultHandler !=null){
			this.on("click",this,defaultHandler);
		}
	}

	__class(KcheckBox,'org.coms.components.KcheckBox',_super);
	var __proto=KcheckBox.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
	}

	/**
	*Creates the children for this component
	*/
	__proto.addChildren=function(){
		this._back=new Sprite();
		this.addChild(this._back);
		this._tick=new Wtick;
		this._tick.visible=false;
		this.addChild(this._tick);
		this._label=new Klabel(this,0,0,this._labelText);
		this.size(100,30);
		this.drawNow();
		this.on("click",this,this.onClick);
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		var color=Kstyle.BUTTON_DOWN;
		this._back.graphics.clear();
		this._back.graphics.drawRect(0,0,this._height,this._height,color);
		this._tick.size(this._height ,this._height);
		this._label.text=this._labelText;
		this._label.drawNow();
		this._label.x=this._height+2;
		this._label.y=(this._height-this._label.height)/ 2;
		this._width=this._label.width+this._label.x;
	}

	/**
	*Internal click handler.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onClick=function(){
		if(this.isTog)return;
		this.selected=!this._selected;
	}

	/**
	*Sets / gets the label text shown on this CheckBox.
	*/
	__getset(0,__proto,'label',function(){
		return this._labelText;
		},function(str){
		this._labelText=str;
		this.drawAsyn();
	});

	/**
	*Sets / gets the selected state of this CheckBox.
	*/
	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(s){
		this._selected=s;
		this._tick.visible=this._selected;
		this.event("Selected",this._selected);
	});

	/**
	*Sets/gets whether this component will be enabled or not.
	*/
	__getset(0,__proto,'enabled',_super.prototype._$get_enabled,function(value){
		Laya.superSet(Kcomponent,this,'enabled',value);
	});

	return KcheckBox;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KcomboBox.as=======94.996177/94.996177
//class org.coms.components.KcomboBox extends org.coms.components.Kcomponent
var KcomboBox=(function(_super){
	function KcomboBox(parent,xpos,ypos,defaultLabel,items){
		this._defaultLabel="";
		// protected var _dropDownButton:KpushButton;
		this._items=null;
		this._labelButton=null;
		this._list=null;
		this._numVisibleItems=6;
		this._open=false;
		this._listContainer=null;
		this._openPosition="bottom";
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(defaultLabel===void 0)&& (defaultLabel="");
		this._listContainer=Wstage.stage;
		this._defaultLabel=defaultLabel;
		this._items=items;
		this.on("removed",this,this.onRemovedFromStage);
		KcomboBox.__super.call(this,parent,xpos,ypos);
	}

	__class(KcomboBox,'org.coms.components.KcomboBox',_super);
	var __proto=KcomboBox.prototype;
	/**
	*Initilizes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(100,20);
		this.setLabelButtonLabel();
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._list=new KList(null,0,0,this._items);
		this._list.autoHideScrollBar=true;
		this._list.on("select",this,this.onSelect);
		this._labelButton=new KpushButton(this,0,0,"",this.onDropDown.bind(this));
	}

	/**
	*Determines what to use for the main button label and sets it.
	*/
	__proto.setLabelButtonLabel=function(){
		if(this.selectedItem==null){
			this._labelButton.label=this._defaultLabel;
		}
		else if((typeof this.selectedItem=='string')){
			this._labelButton.label=this.selectedItem;
		}
		else if(this.selectedItem.hasOwnProperty("label")&& (typeof this.selectedItem.label=='string')){
			this._labelButton.label=this.selectedItem.label;
		}
		else{
			this._labelButton.label=this.selectedItem.toString();
		}
	}

	///////////////////////////////////
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._labelButton.size(this._width,this._height);
		this._labelButton.drawNow();
		this._list.size(this._width,this._numVisibleItems *this._list.listItemHeight);
	}

	/**
	*Adds an item to the list.
	*@param item The item to add. Can be a string or an object containing a string property named label.
	*/
	__proto.addItem=function(item){
		this._list.addItem(item);
	}

	/**
	*Adds an item to the list at the specified index.
	*@param item The item to add. Can be a string or an object containing a string property named label.
	*@param index The index at which to add the item.
	*/
	__proto.addItemAt=function(item,index){
		this._list.addItemAt(item,index);
	}

	/**
	*Removes the referenced item from the list.
	*@param item The item to remove. If a string,must match the item containing that string. If an object,must be a reference to the exact same object.
	*/
	__proto.removeItem=function(item){
		this._list.removeItem(item);
	}

	/**
	*Removes the item from the list at the specified index
	*@param index The index of the item to remove.
	*/
	__proto.removeItemAt=function(index){
		this._list.removeItemAt(index);
	}

	/**
	*Removes all items from the list.
	*/
	__proto.removeAll=function(){
		this._list.removeAll();
	}

	/**
	*Called when one of the top buttons is pressed. Either opens or closes the list.
	*/
	__proto.onDropDown=function(){
		this.isOpen=!this._open;
	}

	/**
	*Called when the mouse is clicked somewhere outside of the combo box when the list is open. Closes the list.
	*/
	__proto.onStageClick=function(e){
		if(e.target==this._labelButton)return;
		var xy=this._list.localToGlobal(new Point);
		var rect=Rectangle.TEMP;
		if(rect.setTo(xy.x,xy.y,this._list.width,this._list.height).contains(this.event.stageX,this.event.stageY))return;
		this.isOpen=false;
	}

	/**
	*Called when an item in the list is selected. Displays that item in the label button.
	*/
	__proto.onSelect=function(){
		this.isOpen=false;
		this.setLabelButtonLabel();
		this.event("select");
	}

	/**
	*Called when the component is removed from the stage.
	*/
	__proto.onRemovedFromStage=function(event){
		this.isOpen=false;
	}

	/**
	*Sets / gets the index of the selected list item.
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._list.selectedIndex;
		},function(value){
		this._list.selectedIndex=value;
		this.setLabelButtonLabel();
	});

	/**
	*Sets / gets the item in the list,if it exists.
	*/
	__getset(0,__proto,'selectedItem',function(){
		return this._list.selectedItem;
		},function(item){
		this._list.selectedItem=item;
		this.setLabelButtonLabel();
	});

	/**
	*Sets/gets the rollover background color of list items.
	*/
	__getset(0,__proto,'rolloverColor',function(){
		return this._list.rolloverColor;
		},function(value){
		this._list.rolloverColor=value;
	});

	/**
	*Sets/gets the selected background color of list items.
	*/
	__getset(0,__proto,'selectedColor',function(){
		return this._list.selectedColor;
		},function(value){
		this._list.selectedColor=value;
	});

	/**
	*Sets the height of each list item.
	*/
	__getset(0,__proto,'listItemHeight',function(){
		return this._list.listItemHeight;
		},function(value){
		this._list.listItemHeight=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the number of visible items in the drop down list. i.e. the height of the list.
	*/
	__getset(0,__proto,'numVisibleItems',function(){
		return this._numVisibleItems;
		},function(value){
		this._numVisibleItems=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the default background color of list items.
	*/
	__getset(0,__proto,'defaultColor',function(){
		return this._list.defaultColor;
		},function(value){
		this._list.defaultColor=value;
	});

	/**
	*Sets / gets the position the list will open on:top or bottom.
	*/
	__getset(0,__proto,'openPosition',function(){
		return this._openPosition;
		},function(value){
		this._openPosition=value;
	});

	/**
	*Sets / gets the label that will be shown if no item is selected.
	*/
	__getset(0,__proto,'defaultLabel',function(){
		return this._defaultLabel;
		},function(value){
		this._defaultLabel=value;
		this.setLabelButtonLabel();
	});

	/**
	*Sets / gets the list of items to be shown.
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
		},function(value){
		this._list.items=this._items=value;
	});

	/**
	*Sets / gets the class used to render list items. Must extend ListItem.
	*/
	__getset(0,__proto,'listItemClass',function(){
		return this._list.listItemClass;
		},function(value){
		this._list.listItemClass=value;
	});

	/**
	*Sets / gets whether the scrollbar will auto hide when there is nothing to scroll.
	*/
	__getset(0,__proto,'autoHideScrollBar',function(){
		return this._list.autoHideScrollBar;
		},function(value){
		this._list.autoHideScrollBar=value;
		this.drawAsyn();
	});

	/**
	*Gets whether or not the combo box is currently open.
	*/
	__getset(0,__proto,'isOpen',function(){
		return this._open;
		},function(value){
		if(this._open==value)return;
		this._open=value;
		if(this._open){
			var point=new Point();
			if(this._openPosition=="bottom"){
				point.y=this._height;
			}
			else{
				point.y=-this._numVisibleItems *this._list.listItemHeight;
			}
			point=this.localToGlobal(point);
			point=this._listContainer.globalToLocal(point);
			this._list.move(point.x,point.y);
			this._listContainer.addChild(this._list);
			Wstage.stage.on("click",this,this.onStageClick);
		}
		else{
			if(this._listContainer.contains(this._list))this._listContainer.removeChild(this._list);
			Wstage.stage.off("click",this,this.onStageClick);
		}
	});

	// _dropDownButton.label="+";
	__getset(0,__proto,'listContainer',function(){
		return this._listContainer;
		},function(value){
		this._listContainer=value||Wstage.stage;
		this.isOpen=false;
	});

	KcomboBox.TOP="top";
	KcomboBox.BOTTOM="bottom";
	return KcomboBox;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KscrollBar.as=======94.996173/94.996173
//class org.coms.components.KscrollBar extends org.coms.components.Kcomponent
var KscrollBar=(function(_super){
	var ScrollSlider;
	function KscrollBar(orientation,parent,xpos,ypos,defaultHandler){
		this.DELAY_TIME=500;
		this.REPEAT_TIME=100;
		this.UP="up";
		this.DOWN="down";
		this._autoHide=false;
		this._upButton=null;
		this._downButton=null;
		this._scrollSlider=null;
		this._orientation=null;
		this._lineSize=1;
		// protected var _repeatTimer:Timer;
		this._direction=null;
		this._shouldRepeat=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		this._orientation=orientation;
		KscrollBar.__super.call(this,parent,xpos,ypos);
		if(defaultHandler !=null){
			this.on("change",this,defaultHandler);
		}
	}

	__class(KscrollBar,'org.coms.components.KscrollBar',_super);
	var __proto=KscrollBar.prototype;
	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._scrollSlider=new ScrollSlider(this._orientation,this,0,10,this.onChange.bind(this));
		this._upButton=new KpushButton(this,0,0,"");
		this._upButton.on("mousedown",this,this.onUpClick.bind(this));
		this._upButton.size(20,20);
		var upArrow=new Ktriangle();
		upArrow.mouseEnabled=false;
		upArrow.pos(10,10);
		this._upButton.addChild(upArrow);
		this._downButton=new KpushButton(this,0,0,"");
		this._downButton.on("mousedown",this,this.onDownClick.bind(this));
		this._downButton.size(20,20);
		var downArrow=new Ktriangle
		downArrow.pos(10,10);
		downArrow.mouseEnabled=false;
		this._downButton.addChild(downArrow);
		if(this._orientation=="vertical"){
			upArrow.rotation=180;
			downArrow.rotation=0;
		}
		else{
			upArrow.rotation=90;
			downArrow.rotation=270;
		}
	}

	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		if(this._orientation=="horizontal"){
			this.size(100,10);
		}
		else{
			this.size(10,100);
		}
	}

	/**
	*Convenience method to set the three main parameters in one shot.
	*@param min The minimum value of the slider.
	*@param max The maximum value of the slider.
	*@param value The value of the slider.
	*/
	__proto.setSliderParams=function(min,max,value){
		this._scrollSlider.setSliderParams(min,max,value);
	}

	/**
	*Sets the percentage of the size of the thumb button.
	*/
	__proto.setThumbPercent=function(value){
		this._scrollSlider.setThumbPercent(value);
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		if(this._orientation=="vertical"){
			this._scrollSlider.x=0;
			this._scrollSlider.y=20;
			this._upButton.size(this._width,20);
			this._downButton.size(this._width,20);
			this._scrollSlider.size(this._width,this._height-20*2);
			this._downButton.x=0;
			this._downButton.y=this._height-20;
		}
		else{
			this._scrollSlider.x=20;
			this._scrollSlider.y=0;
			this._scrollSlider.size(this._width-20*2,this._height);
			this._upButton.size(20,this._height);
			this._downButton.size(20,this._height);
			this._downButton.x=this._width-20;
			this._downButton.y=0;
		}
		this._scrollSlider.drawNow();
		if(this._autoHide){
			this.visible=this._scrollSlider.thumbPercent < 1.0;
		}
		else{
			this.visible=true;
		}
	}

	///////////////////////////////////
	__proto.onUpClick=function(){
		this.goUp();
		this._shouldRepeat=true;
		this._direction=this.UP;
		Laya.timer.once(500,this,this.onDelayComplete);
		this.stage.on("mouseup",this,this.onMouseGoUp);
	}

	__proto.goUp=function(){
		this._scrollSlider.value-=this._lineSize;
		this.event("change");
	}

	__proto.onDownClick=function(){
		this.goDown();
		this._shouldRepeat=true;
		this._direction=this.DOWN;
		Laya.timer.once(500,this,this.onDelayComplete);
		this.stage.on("mouseup",this,this.onMouseGoUp);
	}

	__proto.goDown=function(){
		this._scrollSlider.value+=this._lineSize;
		this.event("change");
	}

	__proto.onMouseGoUp=function(){
		Laya.timer.clear(this,this.onDelayComplete);
		Laya.timer.clear(this,this.onRepeat);
		this._shouldRepeat=false;
	}

	__proto.onChange=function(){
		this.event("change");
	}

	__proto.onDelayComplete=function(){
		if(this._shouldRepeat){
			Laya.timer.loop(100,this,this.onRepeat);
		}
	}

	__proto.onRepeat=function(){
		if(this._direction==this.UP){
			this.goUp();
		}
		else{
			this.goDown();
		}
	}

	/**
	*Sets / gets the amount the value will change when up or down buttons are pressed.
	*/
	__getset(0,__proto,'lineSize',function(){
		return this._lineSize;
		},function(value){
		this._lineSize=value;
	});

	/**
	*Sets / gets whether the scrollbar will auto hide when there is nothing to scroll.
	*/
	__getset(0,__proto,'autoHide',function(){
		return this._autoHide;
		},function(value){
		this._autoHide=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the current value of this scroll bar.
	*/
	__getset(0,__proto,'value',function(){
		return this._scrollSlider.value;
		},function(v){
		this._scrollSlider.value=v;
	});

	/**
	*Sets / gets the amount the value will change when the back is clicked.
	*/
	__getset(0,__proto,'pageSize',function(){
		return this._scrollSlider.pageSize;
		},function(value){
		this._scrollSlider.pageSize=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the minimum value of this scroll bar.
	*/
	__getset(0,__proto,'minimum',function(){
		return this._scrollSlider.minimum;
		},function(v){
		this._scrollSlider.minimum=v;
	});

	/**
	*Sets / gets the maximum value of this scroll bar.
	*/
	__getset(0,__proto,'maximum',function(){
		return this._scrollSlider.maximum;
		},function(v){
		this._scrollSlider.maximum=v;
	});

	KscrollBar.SIZEWH=20;
	KscrollBar.__init$=function(){
		/**
		*Helper class for the slider portion of the scroll bar.
		*/
		//class ScrollSlider extends org.coms.components.Kslider
		ScrollSlider=(function(_super){
			function ScrollSlider(orientation,parent,xpos,ypos,defaultHandler){
				this._thumbPercent=1.0;
				this._pageSize=1;
				(xpos===void 0)&& (xpos=0);
				(ypos===void 0)&& (ypos=0);
				ScrollSlider.__super.call(this,orientation,parent,xpos,ypos);
				if(defaultHandler !=null){
					this.on("change",this,defaultHandler);
				}
			}
			__class(ScrollSlider,'',_super);
			var __proto=ScrollSlider.prototype;
			/**
			*Initializes the component.
			*/
			__proto.initCom=function(){
				_super.prototype.initCom.call(this);
				this.setSliderParams(1,1,0);
				this.backClick=true;
			}
			/**
			*Draws the handle of the slider.
			*/
			__proto.drawHandle=function(){
				var size=NaN;
				if(this._orientation=="horizontal"){
					size=Math.round(this._width *this._thumbPercent);
					size=Math.max(this._height,size);
					this._handle.size(size,this._height);
				}
				else{
					size=Math.round(this._height *this._thumbPercent);
					size=Math.max(this._width,size);
					this._handle.size(this._width ,size);
				}
				this.positionHandle();
			}
			/**
			*Adjusts position of handle when value,maximum or minimum have changed.
			*TODO:Should also be called when slider is resized.
			*/
			__proto.positionHandle=function(){
				var range=NaN;
				if(this._orientation=="horizontal"){
					range=this.width-this._handle.width;
					var off=Math.max(1,(this._max-this._min)*range);
					this._handle.x=(this._value-this._min)/ off;
				}
				else{
					range=this.height-this._handle.height;
					off=Math.max(1,(this._max-this._min)*range);
					this._handle.y=(this._value-this._min)/off;
				}
			}
			/**
			*Sets the percentage of the size of the thumb button.
			*/
			__proto.setThumbPercent=function(value){
				this._thumbPercent=Math.min(isNaN(value)?0:value,1.0);
				this.drawAsyn();
			}
			/**
			*Handler called when user clicks the background of the slider,causing the handle to move to that point. Only active if backClick is true.
			*@param event The MouseEvent passed by the system.
			*/
			__proto.onBackClick=function(){
				if(this._orientation=="horizontal"){
					if(this.mouseX < this._handle.x){
						if(this._max > this._min){
							this._value-=this._pageSize;
						}
						else{
							this._value+=this._pageSize;
						}
						this.correctValue();
					}
					else{
						if(this._max > this._min){
							this._value+=this._pageSize;
						}
						else{
							this._value-=this._pageSize;
						}
						this.correctValue();
					}
					this.positionHandle();
				}
				else{
					if(this.mouseY < this._handle.y){
						if(this._max > this._min){
							this._value-=this._pageSize;
						}
						else{
							this._value+=this._pageSize;
						}
						this.correctValue();
					}
					else{
						if(this._max > this._min){
							this._value+=this._pageSize;
						}
						else{
							this._value-=this._pageSize;
						}
						this.correctValue();
					}
					this.positionHandle();
				}
				this.event("change");
			}
			/**
			*Internal mouseMove handler for when the handle is being moved.
			*@param event The MouseEvent passed by the system.
			*/
			__proto.onSlide=function(){
				var oldValue=this._value;
				if(this._orientation=="horizontal"){
					this._handle.x=this._oldX+this.mouseX-this._startMouseX;
					this._handle.x=Math.min(this._width-this._handle.width,Math.max(0,this._handle.x));
					if(this._width==this._handle.width){
						this._value=this._min;
					}
					else{
						this._value=this._handle.x / (this._width-this._handle.width)*(this._max-this._min)+this._min;
					}
				}
				else{
					this._handle.y=this._oldY+this.mouseY-this._startMouseY;
					this._handle.y=Math.min(this._height-this._handle.height,Math.max(0,this._handle.y));
					if(this._height==this._handle.height){
						this._value=this._min;
					}
					else{
						this._value=this._handle.y / (this._height-this._handle.height)*(this._max-this._min)+this._min;
					}
				}
				if(this._value !=oldValue){
					this.event("change");
				}
			}
			/**
			*Sets / gets the amount the value will change when the back is clicked.
			*/
			__getset(0,__proto,'pageSize',function(){
				return this._pageSize;
				},function(value){
				this._pageSize=value;
				this.drawAsyn();
			});
			__getset(0,__proto,'thumbPercent',function(){
				return this._thumbPercent;
			});
			return ScrollSlider;
		})(Kslider)
	}

	return KscrollBar;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Kslider.as=======94.996171/94.996171
//class org.coms.components.Kslider extends org.coms.components.Kcomponent
var Kslider=(function(_super){
	function Kslider(orientation,parent,xpos,ypos,defaultHandler){
		this._handle=null;
		this._back=null;
		this._backClick=true;
		this._value=0;
		this._max=100;
		this._min=0;
		this._orientation=null;
		this._tick=0.01;
		this._startMouseX=0;
		this._startMouseY=0;
		this._oldY=0;
		this._oldX=0;
		(orientation===void 0)&& (orientation="horizontal");
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		this._orientation=orientation;
		Kslider.__super.call(this,parent,xpos,ypos);
		if(defaultHandler !=null){
			this.on("change",this,defaultHandler);
		}
	}

	__class(Kslider,'org.coms.components.Kslider',_super);
	var __proto=Kslider.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		if(this._orientation=="horizontal"){
			this.size(100,10);
		}
		else{
			this.size(10,100);
		}
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._back=new Sprite();
		this.addChild(this._back);
		this._handle=new KpushButton();
		this._handle.on("mousedown",this,this.onDrag);
		this.addChild(this._handle);
	}

	/**
	*Draws the back of the slider.
	*/
	__proto.drawBack=function(){
		this._back.graphics.clear();
		this._back.graphics.drawRect(0,0,this._width,this._height,Kstyle.TEXT_BACKGROUND);
		if(this._backClick){
			this._back.on("mousedown",this,this.onBackClick);
		}
		else{
			this._back.off("mousedown",this,this.onBackClick);
		}
	}

	/**
	*Draws the handle of the slider.
	*/
	__proto.drawHandle=function(){
		if(this._orientation=="horizontal"){
			this._handle.size(this._height,this._height);
		}
		else{
			this._handle.size(this._width,this._width);
		}
		this.positionHandle();
	}

	/**
	*Adjusts value to be within minimum and maximum.
	*/
	__proto.correctValue=function(){
		if(this._max > this._min){
			this._value=Math.min(this._value,this._max);
			this._value=Math.max(this._value,this._min);
		}
		else{
			this._value=Math.max(this._value,this._max);
			this._value=Math.min(this._value,this._min);
		}
	}

	/**
	*Adjusts position of handle when value,maximum or minimum have changed.
	*TODO:Should also be called when slider is resized.
	*/
	__proto.positionHandle=function(){
		var range=NaN;
		if(this._orientation=="horizontal"){
			range=this._width-this._height;
			this._handle.x=(this._value-this._min)/ (this._max-this._min)*range;
		}
		else{
			range=this._height-this._width;
			this._handle.y=this._height-this._width-(this._value-this._min)/ (this._max-this._min)*range;
		}
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this.drawBack();
		this.drawHandle();
	}

	/**
	*Convenience method to set the three main parameters in one shot.
	*@param min The minimum value of the slider.
	*@param max The maximum value of the slider.
	*@param value The value of the slider.
	*/
	__proto.setSliderParams=function(min,max,value){
		this.minimum=min;
		this.maximum=max;
		this.value=value;
	}

	/**
	*Handler called when user clicks the background of the slider,causing the handle to move to that point. Only active if backClick is true.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onBackClick=function(){
		if(this._orientation=="horizontal"){
			this._handle.x=this.mouseX-this._height / 2;
			this._handle.x=Math.max(this._handle.x,0);
			this._handle.x=Math.min(this._handle.x,this._width-this._height);
			this._value=this._handle.x / (this.width-this._height)*(this._max-this._min)+this._min;
		}
		else{
			this._handle.y=this.mouseY-this._width / 2;
			this._handle.y=Math.max(this._handle.y,0);
			this._handle.y=Math.min(this._handle.y,this._height-this._width);
			this._value=(this._height-this._width-this._handle.y)/ (this.height-this._width)*(this._max-this._min)+this._min;
		}
		this.event("change");
	}

	/**
	*Internal mouseDown handler. Starts dragging the handle.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onDrag=function(){
		this.stage.on("mouseup",this,this.onDrop);
		this.stage.on("mousemove",this,this.onSlide);
		this._startMouseX=this.mouseX;
		this._startMouseY=this.mouseY;
		this._oldY=this._handle.y;
		this._oldX=this._handle.x;
	}

	/**
	*Internal mouseUp handler. Stops dragging the handle.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onDrop=function(){
		this.stage.off("mouseup",this,this.onDrop);
		this.stage.off("mousemove",this,this.onSlide);
	}

	/**
	*Internal mouseMove handler for when the handle is being moved.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onSlide=function(){
		var oldValue=this._value;
		if(this._orientation=="horizontal"){
			this._handle.x=this._oldX+this.mouseX-this._startMouseX;
			this._handle.x=Math.min(this._width-this._height,Math.max(0,this._handle.x));
			this._value=this._handle.x / (this.width-this._height)*(this._max-this._min)+this._min;
		}
		else{
			this._handle.y=this._oldY+this.mouseY-this._startMouseY;
			this._handle.y=Math.min(this._height-this._width,Math.max(0,this._handle.y));
			this._value=(this._height-this._width-this._handle.y)/ (this.height-this._width)*(this._max-this._min)+this._min;
		}
		if(this._value !=oldValue){
			this.event("change");
		}
	}

	/**
	*Sets / gets the current value of this slider.
	*/
	__getset(0,__proto,'value',function(){
		return Math.round(this._value / this._tick)*this._tick;
		},function(v){
		this._value=v;
		this.correctValue();
		this.positionHandle();
	});

	/**
	*Sets / gets whether or not a click on the background of the slider will move the handler to that position.
	*/
	__getset(0,__proto,'backClick',function(){
		return this._backClick;
		},function(b){
		this._backClick=b;
		this.drawAsyn();
	});

	/**
	*Gets the value of the slider without rounding it per the tick value.
	*/
	__getset(0,__proto,'rawValue',function(){
		return this._value;
	});

	/**
	*Gets / sets the maximum value of this slider.
	*/
	__getset(0,__proto,'maximum',function(){
		return this._max;
		},function(m){
		this._max=m;
		this.correctValue();
		this.positionHandle();
	});

	/**
	*Gets / sets the minimum value of this slider.
	*/
	__getset(0,__proto,'minimum',function(){
		return this._min;
		},function(m){
		this._min=m;
		this.correctValue();
		this.positionHandle();
	});

	/**
	*Gets / sets the tick value of this slider. This round the value to the nearest multiple of this number.
	*/
	__getset(0,__proto,'tick',function(){
		return this._tick;
		},function(t){
		this._tick=t;
	});

	Kslider.HORIZONTAL="horizontal";
	Kslider.VERTICAL="vertical";
	return Kslider;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KinputText.as=======94.996166/94.996166
//class org.coms.components.KinputText extends org.coms.components.Kcomponent
var KinputText=(function(_super){
	function KinputText(parent,xpos,ypos,text,defaultHandler){
		this._back=null;
		this._password=false;
		this._text="";
		this._tf=null;
		this._titleTf=null;
		this._hasTip=false;
		this._defaultText='';
		this._startX=NaN;
		this._startValue=NaN;
		this._callBack=null;
		this._unitNum=1;
		// _tf.tabEnabled=value;
		this._step=0;
		this._min=NaN;
		this._max=NaN;
		this._isMouseCtrlNumber=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(text===void 0)&& (text="");
		this.text=text;
		KinputText.__super.call(this,parent,xpos,ypos);
		if(defaultHandler !=null){
			this.on("change",this,defaultHandler);
		}
	}

	__class(KinputText,'org.coms.components.KinputText',_super);
	var __proto=KinputText.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(100,16);
	}

	/**
	*Creates and adds child display objects.
	*/
	__proto.addChildren=function(){
		this._back=new Sprite();
		this.addChild(this._back);
		this._tf=new Winput;
		this._tf.setTextFormat(Kstyle.fontName,Kstyle.fontSize,Kstyle.INPUT_TEXT);
		this._tf.on("focus",this,this.onFocusIn);
		this._tf.on("blur",this,this.onFocusOut);
		this.addChild(this._tf);
		this._tf.on("change",this,this.onChange);
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._back.graphics.clear();
		this._back.graphics.drawRect(0,0,this._width,this._height,Kstyle.TEXT_BACKGROUND);
		if(this._text !=null){
			this._tf.text=this._text;
		}
		else{
			this._tf.text="";
		}
		this._tf.width=this._width-4;
		if(this._tf.text==""){
			this._tf.text="";
			this._tf.height=this._height;
		}
		else{
			this._tf.height=this._height;
		}
		this._tf.x=2;
		this._tf.y=this._height-this._tf.height>>1;
		if(this._titleTf){
			this._titleTf.x=-this._titleTf.width;
			this._titleTf.y=this._height-this._titleTf.height>>1;
		}
	}

	/**
	*Internal change handler.
	*@param event The Event passed by the system.
	*/
	__proto.onChange=function(){
		this.text=this._tf.text;
		this.event("change");
	}

	__proto.setMinMax=function(min,max){
		this._min=min;
		this._max=max;
		var v=Math.min(this._max,Math.max(this._min,Number(this.text)));
		var vStr=v+'';
		if(vStr!=this.text){
			this.text=vStr;
		}
	}

	/**
	*设置文本是否是只填数字
	*@param isNumber
	*@param isMouseCtrlNumber 是否利用鼠标控制数值大小
	*@params callBack 鼠标修改数值时回调 (格式function(value:Number):void{});
	*/
	__proto.setNumberText=function(restrict,isMouseCtrlNumber,callBack,unitNum,min,max,step){
		(restrict===void 0)&& (restrict="");
		(isMouseCtrlNumber===void 0)&& (isMouseCtrlNumber=true);
		(unitNum===void 0)&& (unitNum=1);
		(min===void 0)&& (min=-100000);
		(max===void 0)&& (max=100000);
		(step===void 0)&& (step=3);
		this._min=min;
		this._max=max;
		this._step=step;
		this._unitNum=unitNum;
		this._callBack=callBack||function (__params){
		};
		if(restrict){
			this.restrict=restrict;
		}
		this._isMouseCtrlNumber=isMouseCtrlNumber;
		if(this._isMouseCtrlNumber){
			this._tf.on("mousedown",this,this.downHd);
		}
		else{
			this._tf.off("mousedown",this,this.downHd);
		}
	}

	__proto.formatValue=function(value){
		var v=Math.min(this._max,Math.max(this._min,value));
		var vStr=v+'';
		if(vStr!=this.text){
			this.text=vStr;
		}
		this._callBack(v);
	}

	__proto.onFocusOut=function(){
		if(this._isMouseCtrlNumber){
			this.formatValue(Number(this.text));
		}
		WkeyCtrlManager.instance.runLock.subLock();
	}

	__proto.onFocusIn=function(){
		WkeyCtrlManager.instance.runLock.addLock();
		this.event("focus");
	}

	__proto.upHd=function(){
		Wstage.stage.off("mouseup",this,this.upHd);
		WasynManager.instance.clearFrameLoop(this,this.changeValueHd);
		WasynManager.instance.clearFrameLoop(this,this.delayCheck);
	}

	__proto.downHd=function(){
		WasynManager.instance.frameLoop(this,this.delayCheck,30);
		Wstage.stage.on("mouseup",this,this.upHd);
	}

	__proto.delayCheck=function(){
		WasynManager.instance.clearFrameLoop(this,this.delayCheck);
		WasynManager.instance.frameLoop(this,this.changeValueHd,2);
		this._startX=this.mouseX;
		this._startValue=Number(this.text);
	}

	__proto.changeValueHd=function(){
		var nowValue=this._startValue+Math.floor((this.mouseX-this._startX)/this._step)*this._unitNum;
		this.formatValue(nowValue);
	}

	__proto.addStageHd=function(){
		WtipManager.instance.addTip(this,"Update");
	}

	__proto.removeStageHd=function(){
		WtipManager.instance.removeTip(this);
	}

	/**
	*Sets/gets whether this component is enabled or not.
	*/
	__getset(0,__proto,'enabled',_super.prototype._$get_enabled,function(value){
		Laya.superSet(Kcomponent,this,'enabled',value);
	});

	/**
	*Gets / sets the maximum number of characters that can be shown in this InputText.
	*/
	__getset(0,__proto,'maxChars',function(){
		return this._tf.maxChars;
		},function(max){
		this._tf.maxChars=max;
	});

	/**
	*Gets / sets the text shown in this InputText.
	*/
	__getset(0,__proto,'text',function(){
		return this._text;
		},function(t){
		this._text=t;
		if(this._text==null)this._text="";
		this.drawAsyn();
	});

	__getset(0,__proto,'tipData',function(){
		return this._text;
	},_super.prototype._$set_tipData);

	/**
	*Returns a reference to the internal text field in the component.
	*/
	__getset(0,__proto,'textField',function(){
		return this._tf;
	});

	/**
	*Gets / sets the list of characters that are allowed in this TextInput.
	*/
	__getset(0,__proto,'restrict',function(){
		return this._tf.restrict;
		},function(str){
		this._tf.restrict=str;
	});

	/**
	*Gets / sets whether or not this input text will show up as password (asterisks).
	*/
	__getset(0,__proto,'password',function(){
		return this._password;
		},function(b){
		this._tf.isPassword=this._password=b;
		this.drawAsyn();
	});

	__getset(0,__proto,'title',null,function(value){
		if(this._titleTf==null){
			this._titleTf=new WtextField();
			this._titleTf.align="left"
			this._titleTf.setTextFormat(TextFormat.once(Kstyle.fontName,Kstyle.fontSize,Kstyle.INPUT_TEXT));
			this.addChild(this._titleTf);
		}
		this._titleTf.text=value;
		this.drawAsyn();
	});

	__getset(0,__proto,'hasTip',function(){
		return this._hasTip;
		},function(value){
		if(this._hasTip==value)return;
		this._hasTip=value;
		if(value){
			this.on("display",this,this.addStageHd);
			this.on("undisplay",this,this.removeStageHd);
		}
		else{
			this.off("display",this,this.addStageHd);
			this.off("undisplay",this,this.removeStageHd);
			WtipManager.instance.removeTip(this);
		}
	});

	__getset(0,__proto,'defaultText',function(){
		return this._defaultText;
		},function(value){
		this._tf.prompt=this._defaultText=value;
		this.drawAsyn();
	});

	KinputText.Restrict_Number="0-9 \\- \\.";
	KinputText.Restrict_Binary="0-1";
	KinputText.Restrict_Hexadecimal="0-9 A-F a-f";
	return KinputText;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Klabel.as=======94.996165/94.996165
//class org.coms.components.Klabel extends org.coms.components.Kcomponent
var Klabel=(function(_super){
	function Klabel(parent,xpos,ypos,text){
		this._labelAutoSize=true;
		this._text="";
		this._tf=null;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(text===void 0)&& (text="");
		this.text=text;
		Klabel.__super.call(this,parent,xpos,ypos);
	}

	__class(Klabel,'org.coms.components.Klabel',_super);
	var __proto=Klabel.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.mouseEnabled=false;
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._height=18;
		this._tf=new WtextField
		this._tf.height=this._height;
		this._tf.mouseEnabled=false;
		this._tf.setTextFormat(TextFormat.once(Kstyle.fontName,Kstyle.fontSize,Kstyle.LABEL_TEXT));
		this._tf.text=this._text;
		this.addChild(this._tf);
		this.labelAutoSize=true;
		this.drawNow();
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._tf.text=this._text;
		if(this._labelAutoSize){
			this._width=this._tf.width;
			this.event("resize");
		}
		else{
			this._tf.width=this._width;
		}
		this._height=this._tf.height;
	}

	/**
	*Gets / sets the text of this Label.
	*/
	__getset(0,__proto,'text',function(){
		return this._text;
		},function(t){
		this._text=t;
		if(this._text==null)this._text="";
		this.drawAsyn();
	});

	/**
	*Gets / sets whether or not this Label will autosize.
	*/
	__getset(0,__proto,'labelAutoSize',function(){
		return this._labelAutoSize;
		},function(b){
		this._labelAutoSize=this._tf.autoSize=b;
	});

	/**
	*Gets the internal TextField of the label if you need to do further customization of it.
	*/
	__getset(0,__proto,'textField',function(){
		return this._tf;
	});

	return Klabel;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KList.as=======94.996164/94.996164
;
//class org.coms.components.KList extends org.coms.components.Kcomponent
var KList=(function(_super){
	function KList(parent,xpos,ypos,items,itemClass){
		this._items=null;
		this._itemHolder=null;
		this._panel=null;
		this._listItemHeight=20;
		this._listItemClassChange=false;
		this._scrollbar=null;
		this._selectedIndex=-1;
		this._hasTip=true;
		this.listItemGlobalData=null;
		///////////////////////////////////
		this._selectedListItem=null;
		this._listItemClass=KlistItem;
		this._defaultColor=Kstyle.LIST_DEFAULT;
		this._selectedColor=Kstyle.LIST_SELECTED;
		this._rolloverColor=Kstyle.LIST_ROLLOVER;
		this._tipType="Update";
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KList.__super.call(this,parent,xpos,ypos);
		this._listItemClass=itemClass||KlistItem;
		if(items !=null){
			this._items=items;
		}
		else{
			this._items=[];
		}
	}

	__class(KList,'org.coms.components.KList',_super);
	var __proto=KList.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.ItipTarget":true})
	/**
	*Initilizes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(100,100);
		this.on("mousewheel",this,this.onMouseWheel);
		this.on("resize",this,this.onResize);
		this.makeListItemsAsyn();
		this.on("added",this,this.addStageHd);
		this.on("removed",this,this.removeStageHd);
	}

	__proto.addStageHd=function(){
		if(this.hasTip){
			WtipManager.instance.addTip(this,this._tipType);
		}
	}

	__proto.removeStageHd=function(){
		if(this.hasTip){
			WtipManager.instance.removeTip(this);
		}
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._panel=new Kpanel(this,0,0);
		this._panel.color=this._defaultColor;
		this._itemHolder=new Wsprite();
		this._panel.content.addChild(this._itemHolder);
		this._scrollbar=new KVScrollBar(this,0,0,this.onScroll.bind(this));
		this._scrollbar.setSliderParams(0,0,0);
	}

	/**
	*Creates all the list items based on data.
	*/
	__proto.makeListItemsAsyn=function(){
		WasynManager.instance.frameOnce(this,this.maskListItems);
	}

	__proto.maskListItems=function(){
		var item;
		if(this._listItemClassChange){
			while(this._itemHolder.numChildren > 0){
				item=(this._itemHolder.getChildAt(0));
				item.off("click",this,this.onSelect);
				this._itemHolder.removeChildAt(0);
				if(Object(item).hasOwnProperty('listItemGlobalData')){
					item['listItemGlobalData']=null;
				}
			}
			this._listItemClassChange=false;
		};
		var oldNumItems=this._itemHolder.numChildren;
		var numItems=Math.ceil(this._height / this._listItemHeight);
		numItems=Math.min(numItems,this._items.length);
		var i=0;
		if(numItems<oldNumItems){
			for(i=oldNumItems-1;i>=numItems;i--){
				item=(this._itemHolder.getChildAt(i));
				item.off("click",this,this.onSelect);
				this._itemHolder.removeChildAt(i);
				if(Object(item).hasOwnProperty('listItemGlobalData')){
					item['listItemGlobalData']=null;
				}
			}
		}
		else{
			for(i=oldNumItems;i < numItems;i++){
				if(Laya.__isClass(this._listItemClass)){
					item=new this._listItemClass();
				}
				else if((typeof this._listItemClass=='function')){
					item=this._listItemClass();
				}
				if(Object(item).hasOwnProperty('listItemGlobalData')){
					item['listItemGlobalData']=this.listItemGlobalData;
				}
				item.addToParent(this._itemHolder);
				item.on("click",this,this.onSelect);
			}
		}
		for(i=0;i<numItems;i++){
			item=(this._itemHolder.getChildAt(i));
			item.pos(0,i*this._listItemHeight);
			item.size(this.width-10,this._listItemHeight);
		}
		this.fillItems();
		this.drawAsyn();
	}

	__proto.fillItems=function(){
		var offset=Math.floor(this._scrollbar.value);
		var numItems=this._itemHolder.numChildren;
		var itemLen=this._items.length;
		for(var i=0;i < numItems;i++){
			var item=this._itemHolder.getChildAt(i);
			if(offset+i < itemLen){
				item.listItemData=this._items[offset+i];
			}
			else{
				item.listItemData=null;
			}
			if(offset+i==this._selectedIndex){
				item.selected=true;
			}
			else{
				item.selected=false;
			}
		}
	}

	/**
	*If the selected item is not in view,scrolls the list to make the selected item appear in the view.
	*/
	__proto.scrollToSelection=function(){
		var numItems=Math.ceil(this._height / this._listItemHeight);
		if(this._selectedIndex !=-1){
			var minValue=this._scrollbar.value;
			var maxValue=minValue+numItems-1;
			if(this._selectedIndex<minValue)
				this._scrollbar.value=this._selectedIndex;
			else if(this._selectedIndex>=maxValue){
				this._scrollbar.value=this._selectedIndex-numItems+2;
			}
		}
		else{
		}
		this.fillItems();
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this.updateScroll();
	}

	__proto.updateScroll=function(){
		this._panel.size(this._width,this._height);
		this._panel.color=this._defaultColor;
		this._panel.drawNow();
		this._scrollbar.x=this._width-20;
		var contentHeight=this._items.length *this._listItemHeight;
		this._scrollbar.setThumbPercent(this._height / contentHeight);
		var pageSize=Math.floor(this._height / this._listItemHeight);
		this._scrollbar.maximum=Math.max(0,this._items.length-pageSize);
		this._scrollbar.pageSize=pageSize;
		this._scrollbar.size(20,this._height);
		this._scrollbar.drawNow();
	}

	/**
	*Adds an item to the list.
	*@param item The item to add. Can be a string or an object containing a string property named label.
	*/
	__proto.addItem=function(item){
		this._items.push(item);
		this.drawAsyn();
		this.makeListItemsAsyn();
	}

	/**
	*Adds an item to the list at the specified index.
	*@param item The item to add. Can be a string or an object containing a string property named label.
	*@param index The index at which to add the item.
	*/
	__proto.addItemAt=function(item,index){
		index=Math.max(0,index);
		index=Math.min(this._items.length,index);
		this._items.splice(index,0,item);
		this.drawAsyn();
		this.fillItems();
	}

	/**
	*Removes the referenced item from the list.
	*@param item The item to remove. If a string,must match the item containing that string. If an object,must be a reference to the exact same object.
	*/
	__proto.removeItem=function(item){
		var index=this._items.indexOf(item);
		this.removeItemAt(index);
	}

	/**
	*Removes the item from the list at the specified index
	*@param index The index of the item to remove.
	*/
	__proto.removeItemAt=function(index){
		if(index < 0 || index >=this._items.length)return;
		this._items.splice(index,1);
		this.drawAsyn();
		this.fillItems();
	}

	/**
	*Removes all items from the list.
	*/
	__proto.removeAll=function(){
		this._items.length=0;
		this.drawAsyn();
		this.fillItems();
	}

	/**
	*Called when a user selects an item in the list.
	*/
	__proto.onSelect=function(e){
		var item=e.currentTarget;
		var offset=this._scrollbar.value;
		for(var i=0;i < this._itemHolder.numChildren;i++){
			if(this._itemHolder.getChildAt(i)==item)this._selectedIndex=i+offset;
			(this._itemHolder.getChildAt(i)).selected=false;
		}
		item.selected=true;
		this._selectedListItem=item;
		this.event("select");
	}

	/**
	*Called when the user scrolls the scroll bar.
	*/
	__proto.onScroll=function(event){
		this.fillItems();
	}

	/**
	*Called when the mouse wheel is scrolled over the component.
	*/
	__proto.onMouseWheel=function(event){
		event.stopPropagation();
		this._scrollbar.value-=event.delta;
		this.fillItems();
	}

	__proto.onResize=function(event){
		this.makeListItemsAsyn();
	}

	__proto.size=function(w,h){
		return game.dream.gameUI.WgameUI.prototype.size.call(this,w,Math.max(0,h));
	}

	/**
	*Sets / gets the item in the list,if it exists.
	*/
	__getset(0,__proto,'selectedItem',function(){
		if(this._selectedIndex >=0 && this._selectedIndex < this._items.length){
			return this._items[this._selectedIndex];
		}
		return null;
		},function(item){
		var index=this._items.indexOf(item);
		this.selectedIndex=index;
	});

	/**
	*Sets/gets the rollover background color of list items.
	*/
	__getset(0,__proto,'rolloverColor',function(){
		return this._rolloverColor;
		},function(value){
		this._rolloverColor=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the selected background color of list items.
	*/
	__getset(0,__proto,'selectedColor',function(){
		return this._selectedColor;
		},function(value){
		this._selectedColor=value;
		this.drawAsyn();
	});

	__getset(0,__proto,'selectedListItem',function(){
		return this._selectedListItem;
	});

	/**
	*Sets / gets the index of the selected list item.
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if(value >=0 && value < this._items.length){
			this._selectedIndex=value;
		}
		else{
			this._selectedIndex=-1;
		}
		this.scrollToSelection();
		this.event("select");
	});

	__getset(0,__proto,'scrollbar',function(){
		return this._scrollbar;
	});

	/**
	*Sets the height of each list item.
	*/
	__getset(0,__proto,'listItemHeight',function(){
		return this._listItemHeight;
		},function(value){
		this._listItemHeight=value;
		this.makeListItemsAsyn();
		this.drawAsyn();
	});

	/**
	*Sets/gets the default background color of list items.
	*/
	__getset(0,__proto,'defaultColor',function(){
		return this._defaultColor;
		},function(value){
		this._defaultColor=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets the list of items to be shown.
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
		},function(value){
		if(value && !((value instanceof Array))){
			var tempArr=[];
			var o;
			for(var $each_o in value){
				o=value[$each_o];
				tempArr.push(o);
			}
			value=tempArr;
		}
		this._items=value||[];
		this.drawAsyn();
		this.makeListItemsAsyn();
		this.selectedIndex=this.selectedIndex;
	});

	/**
	*Sets / gets the class used to render list items. Must extend ListItem.
	*/
	__getset(0,__proto,'listItemClass',function(){
		return this._listItemClass;
		},function(value){
		this._listItemClass=value;
		this._listItemClassChange=true;
		this.makeListItemsAsyn();
		this.drawAsyn();
	});

	/**
	*Sets / gets whether the scrollbar will auto hide when there is nothing to scroll.
	*/
	__getset(0,__proto,'autoHideScrollBar',function(){
		return this._scrollbar.autoHide;
		},function(value){
		this._scrollbar.autoHide=value;
	});

	__getset(0,__proto,'tipData',function(){
		var mouseIndex=this.mouseIndex;
		if(mouseIndex>=0)
			return this._items[mouseIndex];
		else
		return null;
	},_super.prototype._$set_tipData);

	/**
	*获取鼠标当前位置所在索引
	*@return
	*
	*/
	__getset(0,__proto,'mouseIndex',function(){
		var mouseIndex=Math.floor(this.mouseY/this._listItemHeight+this._scrollbar.value);
		if(mouseIndex>=0&&mouseIndex<this._items.length)
			return mouseIndex;
		else
		return-1;
	});

	__getset(0,__proto,'itemLength',function(){
		return this._items.length;
	});

	__getset(0,__proto,'visibleNum',function(){
		return this._itemHolder.numChildren;
	});

	__getset(0,__proto,'tipType',function(){
		return this._tipType;
		},function(value){
		this._tipType=value;
	});

	__getset(0,__proto,'hasTip',function(){
		return this._hasTip;
		},function(value){
		if(this._hasTip==value)return;
		this._hasTip=value;
		if(this._hasTip){
			if(this.stage){
				WtipManager.instance.addTip(this,this._tipType);
			}
		}
		else{
			WtipManager.instance.removeTip(this);
		}
	});

	return KList;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KlistItem.as=======94.996163/94.996163
//class org.coms.components.KlistItem extends org.coms.components.Kcomponent
var KlistItem=(function(_super){
	function KlistItem(parent,xpos,ypos,data){
		this._data=null;
		this._label=null;
		this._defaultColor='#ffffff';
		this._selectedColor='#dddddd';
		this._rolloverColor='#eeeeee';
		this._selected=false;
		this._mouseOver=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		this._data=data;
		KlistItem.__super.call(this,parent,xpos,ypos);
	}

	__class(KlistItem,'org.coms.components.KlistItem',_super);
	var __proto=KlistItem.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.coms.IlistItem":true})
	/**
	*Initilizes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.defaultColor=Kstyle.LIST_DEFAULT;
		this.selectedColor=Kstyle.LIST_SELECTED;
		this.rolloverColor=Kstyle.LIST_ROLLOVER;
		this.on("mouseover",this,this.onMouseOver);
		this.size(100,20);
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._label=new Klabel(this,5,0);
		this._label.drawNow();
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this.graphics.clear();
		var color;
		if(this._selected){
			color=(this._selectedColor);
		}
		else if(this._mouseOver){
			color=(this._rolloverColor);
		}
		else{
			color=(this._defaultColor);
		}
		this.graphics.drawRect(0,0,this.width,this.height,color);
		if(this._data==null){
			this._label.text="";
		}
		else{
			this._label.text=this.getLabel();
		}
		this._label.y=(this._height-20)>>1;
	}

	__proto.getLabel=function(){
		return this._data.toString();
	}

	/**
	*Called when the user rolls the mouse over the item. Changes the background color.
	*/
	__proto.onMouseOver=function(){
		this.on("mouseout",this,this.onMouseOut);
		this._mouseOver=true;
		this.drawAsyn();
	}

	/**
	*Called when the user rolls the mouse off the item. Changes the background color.
	*/
	__proto.onMouseOut=function(){
		this.off("mouseout",this,this.onMouseOut);
		this._mouseOver=false;
		this.drawAsyn();
	}

	/**
	*Sets/gets the string that appears in this item.
	*/
	__getset(0,__proto,'listItemData',function(){
		return this._data;
		},function(value){
		this._data=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets whether or not this item is selected.
	*/
	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(value){
		this._selected=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the default background color of list items.
	*/
	__getset(0,__proto,'defaultColor',function(){
		return this._defaultColor;
		},function(value){
		this._defaultColor=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the rollover background color of list items.
	*/
	__getset(0,__proto,'rolloverColor',function(){
		return this._rolloverColor;
		},function(value){
		this._rolloverColor=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the selected background color of list items.
	*/
	__getset(0,__proto,'selectedColor',function(){
		return this._selectedColor;
		},function(value){
		this._selectedColor=value;
		this.drawAsyn();
	});

	return KlistItem;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Kpanel.as=======94.996159/94.996159
//class org.coms.components.Kpanel extends org.coms.components.Kcomponent
var Kpanel=(function(_super){
	function Kpanel(parent,xpos,ypos){
		this._mask=null;
		this._background=null;
		this._color='';
		this._shadow=true;
		this._gridSize=10;
		this._showGrid=false;
		this._gridColor='#d0d0d0';
		/**
		*Container for content added to this panel. This is masked,so best to add children to content,rather than directly to the panel.
		*/
		this.content=null;
		this._useMask=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		Kpanel.__super.call(this,parent,xpos,ypos);
	}

	__class(Kpanel,'org.coms.components.Kpanel',_super);
	var __proto=Kpanel.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(100,100);
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._background=new Sprite();
		laya.display.Node.prototype.addChild.call(this,this._background);
		this._mask=new Sprite();
		this._mask.mouseEnabled=false;
		this.content=new Sprite();
		laya.display.Node.prototype.addChild.call(this,this.content);
	}

	/**
	*Overridden to add new child to content.
	*/
	__proto.addChild=function(child){
		this.content.addChild(child);
		return child;
	}

	__proto.removeChild=function(child){
		return this.content.removeChild(child);
	}

	/**
	*Access to super.addChild
	*/
	__proto.addRawChild=function(child){
		laya.display.Node.prototype.addChild.call(this,child);
		return child;
	}

	__proto.removeRawChild=function(child){
		laya.display.Node.prototype.removeChild.call(this,child);
		return child;
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._background.graphics.clear();
		var fillCoor;
		if(!this._color){
			fillCoor=Kstyle.PANEL;
		}
		else{
			fillCoor=(this._color);
		}
		this._background.graphics.drawRect(0,0,this._width,this._height,fillCoor);
		this.drawGrid();
		if(this._useMask){
			this._mask.graphics.clear();
			this._mask.graphics.drawRect(0,0,this._width,this._height,'#ff0000');
			this._mask.size(this._width,this._height);
		}
	}

	__proto.drawGrid=function(){
		if(!this._showGrid)return;
		for(var i=0;i < this._width;i+=this._gridSize){
			this._background.graphics.drawLine(i,0,i,this._height,this._gridColor);
		}
		for(i=0;i < this._height;i+=this._gridSize){
			this._background.graphics.drawLine(0,i,this._width,i,this._gridColor);
		}
	}

	/**
	*Gets / sets whether or not this Panel will have an inner shadow.
	*/
	// }
	__getset(0,__proto,'shadow',function(){
		return this._shadow;
		},function(b){
		this._shadow=b;
	});

	/**
	*Sets / gets the size of the grid.
	*/
	__getset(0,__proto,'gridSize',function(){
		return this._gridSize;
		},function(value){
		this._gridSize=value;
		this.drawAsyn();
	});

	/**
	*Gets / sets the backgrond color of this panel.
	*/
	__getset(0,__proto,'color',function(){
		return this._color;
		},function(c){
		this._color=c;
		this.drawAsyn();
	});

	__getset(0,__proto,'useMask',function(){
		return this._useMask;
		},function(value){
		if(this._useMask==value)return;
		this._useMask=value;
		if(this._useMask){
			this.content.mask=this._mask;
		}
		else{
			this.content.mask=null;
		}
		this.drawAsyn();
	});

	__getset(0,__proto,'editContainer',function(){
		return this.content;
	});

	/**
	*Sets / gets the color of the grid lines.
	*/
	__getset(0,__proto,'gridColor',function(){
		return this._gridColor;
		},function(value){
		this._gridColor=value;
		this.drawAsyn();
	});

	/**
	*Sets / gets whether or not the grid will be shown.
	*/
	__getset(0,__proto,'showGrid',function(){
		return this._showGrid;
		},function(value){
		this._showGrid=value;
		this.drawAsyn();
	});

	return Kpanel;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KpushButton.as=======94.996157/94.996157
//class org.coms.components.KpushButton extends org.coms.components.Kcomponent
var KpushButton=(function(_super){
	function KpushButton(parent,xpos,ypos,label,defaultHandler){
		// protected var _back:Sprite;
		this._face=null;
		this._label=null;
		this._labelText="";
		this._over=false;
		this._down=false;
		this._selected=false;
		this._toggle=false;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(label===void 0)&& (label="");
		KpushButton.__super.call(this,parent,xpos,ypos);
		if(defaultHandler !=null){
			this.on("click",this,defaultHandler);
		}
		this.label=label;
	}

	__class(KpushButton,'org.coms.components.KpushButton',_super);
	var __proto=KpushButton.prototype;
	/**
	*Initializes the component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.size(100,20);
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._face=new Sprite();
		this._face.mouseEnabled=false;
		this.addChild(this._face);
		this._label=new Klabel();
		this.addChild(this._label);
		this.on("mousedown",this,this.onMouseGoDown);
		this.on("mouseover",this,this.onMouseOver);
	}

	/**
	*Draws the face of the button,color based on state.
	*/
	__proto.drawFace=function(){
		this._face.graphics.clear();
		var fillColor;
		if(this._toggle){
			fillColor=(this._selected?Kstyle.LIST_SELECTED:Kstyle.BUTTON_FACE);
			this._label.textField.color=this._selected?'#8FC31F':Kstyle.LABEL_TEXT;
		}
		else{
			if(this._down){
				fillColor=(Kstyle.BUTTON_DOWN);
			}
			else if(this._over){
				fillColor=(Kstyle.BUTTON_OVER);
			}
			else{
				fillColor=(Kstyle.BUTTON_FACE);
			}
		}
		this._face.graphics.drawRect(0,0,this._width ,this._height,fillColor);
	}

	__proto.settextColor=function(value){
		this._label.textField.color=value;
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this.drawFace();
		this._label.text=this._labelText;
		this._label.drawNow();
		if(this._label.width > this._width-4){
			this._label.autoSize=false;
			this._label.width=this._width-4;
		}
		else{
			this._label.autoSize=true;
		}
		this._label.drawNow();
		this._label.move(this._width / 2-this._label.width / 2,this._height / 2-this._label.height / 2);
	}

	/**
	*Internal mouseOver handler.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseOver=function(){
		this._over=true;
		this.on("mouseout",this,this.onMouseOut);
		this.drawFace();
	}

	/**
	*Internal mouseOut handler.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseOut=function(){
		this._over=false;
		this.drawFace();
		this.off("mouseout",this,this.onMouseOut);
	}

	/**
	*Internal mouseOut handler.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseGoDown=function(){
		this._down=true;
		this.drawFace();
		Wstage.stage.on("mouseup",this,this.onMouseGoUp);
	}

	/**
	*Internal mouseUp handler.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseGoUp=function(){
		this._down=false;
		this.drawFace();
		Wstage.stage.off("mouseup",this,this.onMouseGoUp);
	}

	__getset(0,__proto,'toggle',function(){
		return this._toggle;
		},function(value){
		this._toggle=value;
	});

	/**
	*Sets / gets the label text shown on this Pushbutton.
	*/
	__getset(0,__proto,'label',function(){
		return this._labelText;
		},function(str){
		this._labelText=str;
		this.drawNow();
	});

	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(value){
		if(!this._toggle){
			value=false;
		}
		this._selected=value;
		this.drawFace();
	});

	return KpushButton;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Kwindow.as=======94.996152/94.996152
//class org.coms.components.Kwindow extends org.coms.components.Kcomponent
var Kwindow=(function(_super){
	function Kwindow(parent,xpos,ypos,title,panelClass){
		this._title=null;
		this._titleBar=null;
		this._titleLabel=null;
		this._panel=null;
		this._titleColor='';
		this._shadow=true;
		this._draggable=true;
		this._minimizeButton=null;
		this._hasMinimizeButton=false;
		this._hasSetSizeBtn=false;
		this._minimized=false;
		this._hasCloseButton=false;
		this._closeButton=null;
		this._fullButton=null;
		this._hasFullButton=false;
		this._isFullWindow=false;
		this._setSizeBtn=null;
		// protected var _grips:Sprite;
		this._panelClass=null;
		this._dragRect=null;
		this._startMouseX=NaN;
		this._startMouseY=NaN;
		this._oldWidth=NaN;
		this._oldHeight=NaN;
		this._oldX=NaN;
		this._oldY=NaN;
		this._oldW=NaN;
		this._oldH=NaN;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		(title===void 0)&& (title="Window");
		this._panelClass=panelClass||Kpanel;
		this._title=title;
		Kwindow.__super.call(this,parent,xpos,ypos);
	}

	__class(Kwindow,'org.coms.components.Kwindow',_super);
	var __proto=Kwindow.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.Ipanel":true})
	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		this._titleBar=new Kpanel();
		this._titleBar.on("mousedown",this,this.onMouseGoDown);
		this._titleBar.height=20;
		laya.display.Node.prototype.addChild.call(this,this._titleBar);
		this._titleLabel=new Klabel(this._titleBar.content,5,1,this._title);
		this.titleColor=Kstyle.PANELTITLE;
		if(Laya.__isClass(this._panelClass)){
			this._panel=new this._panelClass;
		}
		else{
			this._panel=this._panelClass;
		}
		this._panel.y=20;
		this._panel.visible=!this._minimized;
		laya.display.Node.prototype.addChild.call(this,this._panel);
		this._minimizeButton=new Ktriangle();
		this._minimizeButton.x=10;
		this._minimizeButton.y=10;
		this._minimizeButton.mouseEnabled=true;
		this._minimizeButton.on("click",this,this.onMinimize);
		this._closeButton=new KpushButton(null,80,0,"X",this.onClose.bind(this));
		this._closeButton.size(20,20);
		this._fullButton=new KpushButton(null,60,0,'[]',this.onFullChange.bind(this));
		this._fullButton.size(20,20);
		this.initSize();
	}

	__proto.onFullChange=function(e){
		this.isFullWindow=!this._isFullWindow;
	}

	__proto.initSize=function(){
		this.size(100,100);
	}

	/**
	*Overridden to add new child to content.
	*/
	__proto.addChild=function(child){
		this.content.addChild(child);
		return child;
	}

	/**
	*Overridden to add new child to content.
	*/
	__proto.addChildAt=function(child,index){
		return this.content.addChildAt(child,index);
	}

	__proto.removeChild=function(child){
		this.content.removeChild(child);
		return child;
	}

	/**
	*Access to super.addChild
	*/
	__proto.addRawChild=function(child){
		laya.display.Node.prototype.addChild.call(this,child);
		return child;
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		this._titleBar.color=this._titleColor;
		this._titleBar.width=this.width;
		this._titleBar.drawNow();
		this._titleLabel.x=this._hasMinimizeButton ? 20 :5;
		this._closeButton.x=this._width-20;
		this._closeButton.y=0;
		this._fullButton.x=this._width-40;
		this._fullButton.y=0;
		if(this._setSizeBtn){
			this._setSizeBtn.x=this._width-this._setSizeBtn.width;
			this._setSizeBtn.y=this._height-this._setSizeBtn.height;
		}
		this._panel.size(this._width,this._height-20);
	}

	/**
	*Internal mouseDown handler. Starts a drag.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseGoDown=function(){
		if(this._draggable){
			this.startDrag(this._dragRect);
			this.stage.on("mouseup",this,this.onMouseGoUp);
		}
		this.event("select",this);
	}

	/**
	*Internal mouseUp handler. Stops the drag.
	*@param event The MouseEvent passed by the system.
	*/
	__proto.onMouseGoUp=function(){
		this.stopDrag();
		this.stage.off("mouseup",this,this.onMouseGoUp);
	}

	__proto.onMinimize=function(){
		this.minimized=!this.minimized;
	}

	__proto.onClose=function(){
		this.event("close");
	}

	__proto.setSizeDownHd=function(){
		this._oldWidth=this._width;
		this._oldHeight=this._height;
		this._startMouseX=this.mouseX;
		this._startMouseY=this.mouseY;
		Wstage.stage.on("mouseup",this,this.setSizeUpHd);
		WasynManager.instance.frameLoop(this,this.setSizeframeHd);
	}

	__proto.setSizeframeHd=function(){
		this.size(Math.max(50,this._oldWidth+this.mouseX-this._startMouseX),Math.max(50,this._oldHeight+this.mouseY-this._startMouseY));
	}

	__proto.setSizeUpHd=function(){
		Wstage.stage.off("mouseup",this,this.setSizeUpHd);
		WasynManager.instance.clearFrameLoop(this,this.setSizeframeHd);
	}

	__proto.hide=function(){
		this.onClose();
	}

	__proto.show=function(parent){}
	/**
	*Gets / sets the title shown in the title bar.
	*/
	__getset(0,__proto,'title',function(){
		return this._title;
		},function(t){
		this._title=t;
		this._titleLabel.text=this._title;
	});

	/**
	*Gets / sets whether or not this Window will have a drop shadow.
	*/
	// }
	__getset(0,__proto,'shadow',function(){
		return this._shadow;
		},function(b){
		this._shadow=b;
	});

	/**
	*Sets / gets whether or not the window will be draggable by the title bar.
	*/
	// _titleBar.useHandCursor=_draggable;
	__getset(0,__proto,'draggable',function(){
		return this._draggable;
		},function(b){
		this._draggable=b;
	});

	__getset(0,__proto,'isShow',function(){
		return this.stage!=null;
	});

	/**
	*Gets / sets the background color of this panel.
	*/
	__getset(0,__proto,'titleColor',function(){
		return this._titleColor;
		},function(c){
		this._titleColor=c;
		this.drawAsyn();
	});

	/**
	*Container for content added to this panel. This is just a reference to the content of the internal Panel,which is masked,so best to add children to content,rather than directly to the window.
	*/
	__getset(0,__proto,'content',function(){
		return this._panel
	});

	/**
	*Gets the height of the component. A minimized window's height will only be that of its title bar.
	*/
	__getset(0,__proto,'height',function(){
		if(this._panel.parent){
			return Laya.superGet(Kcomponent,this,'height');
		}
		else{
			return 20;
		}
	},_super.prototype._$set_height);

	/**
	*Gets / sets whether or not the window will show a minimize button that will toggle the window open and closed. A closed window will only show the title bar.
	*/
	__getset(0,__proto,'hasMinimizeButton',function(){
		return this._hasMinimizeButton;
		},function(b){
		this._hasMinimizeButton=b;
		if(this._hasMinimizeButton){
			laya.display.Node.prototype.addChild.call(this,this._minimizeButton);
		}
		else if(this.contains(this._minimizeButton)){
			laya.display.Node.prototype.removeChild.call(this,this._minimizeButton);
		}
		this.drawAsyn();
	});

	/**
	*Gets / sets whether the window is closed. A closed window will only show its title bar.
	*/
	__getset(0,__proto,'minimized',function(){
		return this._minimized;
		},function(value){
		this._minimized=value;
		if(this._minimized){
			if(this._panel.parent)laya.display.Node.prototype.removeChild.call(this,this._panel);
			this._minimizeButton.rotation=-90;
		}
		else{
			if(!this._panel.parent)laya.display.Node.prototype.addChildAt.call(this,this._panel,0);
			this._minimizeButton.rotation=0;
		}
		this.event("resize",this);
		this.event("minimize");
	});

	/**
	*Sets / gets whether or not the window will display a close button.
	*Close button merely dispatches a CLOSE event when clicked. It is up to the developer to handle this event.
	*/
	__getset(0,__proto,'hasCloseButton',function(){
		return this._hasCloseButton;
		},function(value){
		this._hasCloseButton=value;
		if(this._hasCloseButton){
			this._titleBar.content.addChild(this._closeButton);
		}
		else if(this._titleBar.content.contains(this._closeButton)){
			this._titleBar.content.removeChild(this._closeButton);
		}
		this.drawAsyn();
	});

	/**
	*Returns a reference to the title bar for customization.
	*/
	__getset(0,__proto,'titleBar',function(){
		return this._titleBar;
		},function(value){
		this._titleBar=value;
	});

	// }
	__getset(0,__proto,'editContainer',function(){
		return this._panel;
	});

	__getset(0,__proto,'dragRect',function(){
		return this._dragRect;
		},function(value){
		this._dragRect=value;
	});

	__getset(0,__proto,'hasSetSizeBtn',function(){
		return this._hasSetSizeBtn;
		},function(value){
		this._hasSetSizeBtn=value;
		if(value){
			if(this._setSizeBtn==null){
				this._setSizeBtn=new KpushButton(null,0,0,"+");
				this._setSizeBtn.on("mousedown",this,this.setSizeDownHd);
				this._setSizeBtn.size(10,10);
			}
			laya.display.Node.prototype.addChild.call(this,this._setSizeBtn);
		}
		else{
			if(this._setSizeBtn){
				laya.display.Node.prototype.removeChild.call(this,this._setSizeBtn);
			}
		}
	});

	__getset(0,__proto,'isFullWindow',function(){
		return this._isFullWindow;
		},function(value){
		this._isFullWindow=value;
		if(this._isFullWindow){
			this._fullButton.label='] [';
			this._oldX=this.x;
			this._oldY=this.y;
			this._oldW=this._width;
			this._oldH=this._height;
			this.left=this.right=this.bottom=this.top=0;
		}
		else{
			this._fullButton.label='[ ]';
			this.left=this.right=this.bottom=this.top=NaN;
			this.size(this._oldW,this._oldH);
			this.move(this._oldX,this._oldY);
		}
	});

	__getset(0,__proto,'hasFullButton',function(){
		return this._hasFullButton;
		},function(value){
		this._hasFullButton=value;
		if(this._hasFullButton){
			this._titleBar.content.addChild(this._fullButton);
		}
		else if(this._titleBar.content.contains(this._fullButton)){
			this._titleBar.content.removeChild(this._fullButton);
		}
		this.drawAsyn();
	});

	Kwindow.MINIMIZE="minimize";
	return Kwindow;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/Wtick.as=======94.996046/94.996046
/**
*打钩图标
*@author Administrator
*
*/
//class org.coms.components.Wtick extends wlb.dream.displays.Wpanel
var Wtick=(function(_super){
	function Wtick(){
		Wtick.__super.call(this);
	}

	__class(Wtick,'org.coms.components.Wtick',_super);
	var __proto=Wtick.prototype;
	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this.graphics.clear();
		var halfH=this._height >>1;
		var halfW=this._width >>1;
		var off=this._height*0.2;
		this.graphics.drawLines(0,0,[off,halfH,halfW,this._height-off,this.width-off,off],'#cc8888',2);
	}

	return Wtick;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WtreeItem.as=======94.996043/94.996043
//class tool.dream.displays.WtreeItem extends wlb.dream.displays.Wpanel
var WtreeItem=(function(_super){
	function WtreeItem(){
		this._nodeInfo=null;
		this._minimizeButton=null;
		this._selected=false;
		this._mouseOverShape=null;
		WtreeItem.__super.call(this);
		this._mouseOverShape=new Sprite;
		this._mouseOverShape.mouseEnabled=false;
		this._mouseOverShape.visible=false;
		this.addChild(this._mouseOverShape);
		this._minimizeButton=new Ktriangle();
		this._minimizeButton.pos(10,10);
		this._minimizeButton.addToParent(this);
		this._minimizeButton.on("mousewheel",this,this.closeSonHd);
		this._minimizeButton.on("click",this,this.onMinimize);
		this.on("mouseover",this,this.rollOver);
		this.on("mouseout",this,this.rollOut);
	}

	__class(WtreeItem,'tool.dream.displays.WtreeItem',_super);
	var __proto=WtreeItem.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.coms.IlistItem":true})
	__proto.rollOut=function(event){
		this._mouseOverShape.visible=false;
	}

	__proto.rollOver=function(event){
		if(this._selected==false)
			this._mouseOverShape.visible=true;
	}

	__proto.closeSonHd=function(event){
		this.parent.event("Tree_Change",WtreeEvent.once(this._nodeInfo,event.delta<0,2));
	}

	__proto.onMinimize=function(e){
		this.parent.event("Tree_Change",WtreeEvent.once(this._nodeInfo,!this._nodeInfo.isOpen,1));
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._mouseOverShape.graphics.drawRect(0,0,this.width,this._height,Kstyle.LIST_ROLLOVER);
		this.graphics.clear();
		if(this._selected){
			this.graphics.drawRect(0,0,this.width,this._height,Kstyle.LIST_SELECTED);
		};
		var tempX=-this.x+10;
		if(tempX<0){
			this.graphics.drawLine(-10,this._height*0.5,this._minimizeButton.visible?0:20,this._height*0.5,'#000000',2);
		}
		while(tempX<0){
			this.graphics.drawLine(tempX,0,tempX,this._height,'#000000',2);
			tempX+=20;
		}
		this._minimizeButton.y=this._height>>1;
	}

	__getset(0,__proto,'listItemData',function(){
		return this._nodeInfo;
		},function(value){
		this._nodeInfo=value;
		if(this._nodeInfo){
			var data=this._nodeInfo.data;
			if(this._nodeInfo.isTreeNode&&this._nodeInfo.childNum>0){
				this._minimizeButton.rotation=this._nodeInfo.isOpen?0:-90;
				this._minimizeButton.visible=true;
			}
			else{
				this._minimizeButton.visible=false;
			}
			this.visible=true
		}
		else{
			this.visible=false;
		}
	});

	__getset(0,__proto,'selected',null,function(value){
		this._selected=value;
		this.drawAsyn();
		if(this._selected)
			this._mouseOverShape.visible=false;
	});

	__getset(0,__proto,'enabled',null,function(value){
	});

	return WtreeItem;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/measures/WmeasureXYWH.as=======94.996036/94.996036
/**
*绘制xywh组件
*@author wulongbin
*
*/
//class tool.dream.displays.measures.WmeasureXYWH extends wlb.dream.displays.Wpanel
var WmeasureXYWH=(function(_super){
	function WmeasureXYWH(){
		this._leftTf=null;
		this._rightTf=null;
		this.lineColor='#ff0000';
		this.lineThickness=1;
		this.fillColor='#0';
		this.fillAlpha=0.1;
		this.textColor='#ffffff';
		WmeasureXYWH.__super.call(this);
		this.init();
	}

	__class(WmeasureXYWH,'tool.dream.displays.measures.WmeasureXYWH',_super);
	var __proto=WmeasureXYWH.prototype;
	__proto.init=function(){
		this.mouseEnabled=false;
		this._leftTf=new WtextField;
		this._leftTf.setTextFormat(TextFormat.once(null,14,this.textColor));
		this._leftTf.autoSize="left";
		this._leftTf.x=10;
		this._leftTf.y=2;
		this.addChild(this._leftTf);
		this._rightTf=new WtextField;
		this._rightTf.setTextFormat(TextFormat.once(null,14,this.textColor));
		this._rightTf.autoSize="left";
		this.addChild(this._rightTf);
		this.alpha=0.5;
	}

	__proto.setStyle2=function(lineColor,lineThickness,fillColor,fillAlpha,textColor){
		(fillColor===void 0)&& (fillColor='#000000');
		(fillAlpha===void 0)&& (fillAlpha=0.1);
		(textColor===void 0)&& (textColor='#000000');
		this.lineColor=lineColor;
		this.lineThickness=lineThickness;
		this.fillAlpha=fillAlpha;
		this.fillColor=fillColor;
		this.textColor=textColor;
		this._leftTf.color=this._rightTf.color=textColor;
		this.drawAsyn();
	}

	__proto.setRect=function(x1,y1,w,h){
		this.x=x1;
		this.y=y1;
		this._width=w;
		this._height=h;
	}

	__proto.setRect2=function(x1,y1,x2,y2){
		this.x=Math.min(x1,x2);
		this.y=Math.min(y1,y2);
		this._width=Math.abs(x1-x2);
		this._height=Math.abs(y1-y2);
	}

	__proto.drawNow=function(){
		this._leftTf.text=(this.x).toFixed(0)+"×"+(this.y).toFixed(0);
		this._rightTf.text=(this._width).toFixed(0)+"×"+(this._height).toFixed(0);
		this._rightTf.x=Math.max(60,this._width-this._rightTf.width);
		this._rightTf.y=Math.max(20,this._height-this._rightTf.height);
		this.graphics.clear();
		this.graphics.drawRect(0,0,this.width,this.height,this.fillColor,this.lineColor,this.lineThickness);
	}

	__getset(0,__proto,'x',_super.prototype._$get_x,function(value){
		Laya.superSet(Wpanel,this,'x',value);
		this.drawAsyn();
	});

	__getset(0,__proto,'y',_super.prototype._$get_y,function(value){
		Laya.superSet(Wpanel,this,'y',value);
		this.drawAsyn();
	});

	return WmeasureXYWH;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/measures/WmeasureTool.as=======94.996035/94.996035
/**
*测量工具
*@author wulongbin
*
*/
//class tool.dream.displays.measures.WmeasureTool extends wlb.dream.displays.Wpanel
var WmeasureTool=(function(_super){
	function WmeasureTool(){
		this._targetDisplayContainer=null;
		this._meau=null;
		this._startX=NaN;
		this._startY=NaN;
		this._testBool=false;
		this._measureItem=null;
		this._alignTarget=null;
		this._modeType="xy";
		WmeasureTool._instance=this;
		WmeasureTool.__super.call(this);
		this.init();
	}

	__class(WmeasureTool,'tool.dream.displays.measures.WmeasureTool',_super);
	var __proto=WmeasureTool.prototype;
	__proto.init=function(){
		var _$this=this;
		this._meau=new Wmeau(null,150,150);
		this._meau.setGridAndItem(150,30);
		this._meau.addMeauItem("矩形测量",this,function(){_$this.modeType="xywh"});
		this._meau.addMeauItem("XY测量",this,function(){_$this.modeType="xy"});
		this._meau.addMeauItem("清除测量",this,this.clearHd);
		this._meau.addMeauItem("临时隐藏或开启",this,function(){
			_$this.visible=!_$this.visible;
			if(_$this.visible){
				_$this.addListenerForTarget();
			}
			else{
				_$this.removeListenerForTarget();
			}
		});
		this._measureItem=new WmeasureXYWH;
		this._meau.addMeauItem("退出",this,this.exitHd);
		this.on("added",this,this.addHd);
		this.on("removed",this,this.removeHd);
	}

	__proto.clearHd=function(){
		for(var i=this.numChildren-1;i>-1;i--){
			this.removeChildAt(i);
		}
	}

	__proto.exitHd=function(){
		this.visible=true;
		for(var i=this.numChildren-1;i>-1;i--){
			this.removeChildAt(i);
		}
		this.removeSelf();
		this.targetDisplayContainer=null;
	}

	__proto.addHd=function(event){
		this.targetDisplayContainer=this.parent;
	}

	__proto.removeHd=function(event){
		this.visible=true;
		for(var i=this.numChildren-1;i>-1;i--){
			this.removeChildAt(i);
		}
		this.targetDisplayContainer=null;
	}

	__proto.popMeauHd=function(event){
		event.stopPropagation();
		if(this._meau.parent){
			this.removeMeauHd();
		}
		else{
			this._meau.pos(this.stage.mouseX,this.stage.mouseY);
			Wstage.stage.on("click",this,this.removeMeauHd);
			Wstage.stage.addChild(this._meau);
		}
	}

	__proto.removeMeauHd=function(event){
		Wstage.stage.off("click",this,this.removeMeauHd);
		Wstage.stage.removeChild(this._meau);
	}

	__proto.resizeHd=function(event){
		this.size(Wstage.stageWidth,Wstage.stageHeight);
	}

	__proto.drawNow=function(){
		var point=this.globalToLocal(new Point);
		switch(this._modeType){
			case "xywh":
				this.graphics.clear();
				this.alpha=0.5;
				this.graphics.drawRect(point.x,point.y,this.width,this.height,'#0000ff');
				break ;
			case "xy":
				this.graphics.clear();
				this.alpha=0.5;
				this.graphics.drawRect(point.x,point.y,this.width,this.height,'#0000ff');
				for(var i=this.numChildren-1;i>-1;i--){
					var target=this.getChildAt(i);
					if(target)
						target.size(this._width,this._height);
				}
				break ;
			}
	}

	__proto.addListenerForTarget=function(){
		if(!this._targetDisplayContainer)return;
		switch(this._modeType){
			case "xywh":
				this._measureItem=new WmeasureXYWH;
				this.addChild(this._measureItem);
				this.mouseEnabled=true;
				this.mouseThrough=false;
				WasynManager.instance.frameLoop(this,this.measureFrameHd);
				this._targetDisplayContainer.on("mousedown",this,this.measureDownHd);
				this._targetDisplayContainer.on("mouseup",this,this.measureUpHd);
				break ;
			case "xy":
				this.mouseEnabled=true;
				this.mouseThrough=true;
				Wstage.stage.on("mousedown",this,this.showTargetXYHd);
				WasynManager.instance.frameLoop(this,this.algnXYFrameHd);
				this._targetDisplayContainer.on("mousedown",this,this.alignXYDownHd);
				this._targetDisplayContainer.on("mouseup",this,this.alignXYUpHd);
				break ;
			}
	}

	__proto.removeListenerForTarget=function(){
		if(!this._targetDisplayContainer)return;
		switch(this._modeType){
			case "xywh":
				WasynManager.instance.clearFrameLoop(this,this.measureFrameHd);
				this._targetDisplayContainer.off("mousedown",this,this.measureDownHd);
				this._targetDisplayContainer.off("mouseup",this,this.measureUpHd);
				break ;
			case "xy":
				WasynManager.instance.clearFrameLoop(this,this.algnXYFrameHd);
				Wstage.stage.off("mousedown",this,this.showTargetXYHd);
				this._targetDisplayContainer.off("mousedown",this,this.alignXYDownHd);
				this._targetDisplayContainer.off("mouseup",this,this.alignXYUpHd);
				break ;
			}
	}

	__proto.showTargetXYHd=function(event){
		if(event.ctrlKey){
			if((WstageDisplayListView.instance.currentDisplay instanceof laya.display.Sprite )){
				(WstageDisplayListView.instance.currentDisplay).addChild(this);
			}
			return;
		};
		var target=this.findTarget(event.target);
		if(target&&!((target instanceof tool.dream.displays.measures.WmeasureTool ))){
			var measure=new WmeasureXY("x");
			measure.x=target.x;
			measure.size(this._width,this._height);
			this.addChild(measure);
			measure=new WmeasureXY("x");
			measure.x=target.x+target.width;
			measure.size(this._width,this._height);
			this.addChild(measure);
			measure=new WmeasureXY("y");
			measure.y=target.y;
			measure.size(this._width,this._height);
			this.addChild(measure);
			measure=new WmeasureXY("y");
			measure.y=target.y+target.height;
			measure.size(this._width,this._height);
			this.addChild(measure);
		}
		else{
			measure=new WmeasureXY("x");
			measure.x=this.mouseX;
			measure.size(this._width,this._height);
			this.addChild(measure);
			measure=new WmeasureXY("y");
			measure.y=this.mouseY;
			measure.size(this._width,this._height);
			this.addChild(measure);
		}
	}

	__proto.findTarget=function(target){
		while(target&&target.parent!=this._targetDisplayContainer){
			target=target.parent;
		}
		return target;
	}

	__proto.measureDownHd=function(event){
		if(!this._measureItem.parent){
			this.addChild(this._measureItem);
		}
		this._testBool=true;
		this._startX=this.mouseX;
		this._startY=this.mouseY;
	}

	__proto.measureFrameHd=function(){
		if(this._testBool){
			this._measureItem.setRect2(this._startX,this._startY,this.mouseX,this.mouseY);
		}
		else{
			this._measureItem.setRect2(this.mouseX,this.mouseY,this.mouseX,this.mouseY);
		}
	}

	__proto.measureUpHd=function(event){
		this._measureItem=new WmeasureXYWH;
		this.addChild(this._measureItem);
		this._testBool=false;
	}

	__proto.alignXYDownHd=function(event){
		this._alignTarget=this.findTarget(event.target);
		if(this._alignTarget){
			if(!this._measureItem.parent){
				this.addChild(this._measureItem);
			}
			this._startX=this._alignTarget.x;
			this._startY=this._alignTarget.y;
			this._measureItem.setRect(this._alignTarget.x,this._alignTarget.y,this._alignTarget.width,this._alignTarget.height);
		}
	}

	__proto.algnXYFrameHd=function(){
		if(!this._alignTarget)return;
		if(this._startX!=this._alignTarget.x||this._startY!=this._alignTarget.y){
			var left=this._alignTarget.x;
			var top=this._alignTarget.y;
			var right=this._alignTarget.width+left;
			var bottom=this._alignTarget.height+top;
			var minOffLeft=Number.MAX_VALUE,targetLeft=this._alignTarget.x;
			var minOffTop=Number.MAX_VALUE,targetTop=this._alignTarget.y;
			var minOffRight=Number.MAX_VALUE,targetRight=NaN;
			var minOffBottom=Number.MAX_VALUE,targetBottom=NaN;
			var tempNum=NaN;
			var measureXY;
			for(var i=this.numChildren-1;i>=0;i--){
				measureXY=this.getChildAt(i);
				if(measureXY){
					if(measureXY.type=="x"){
						tempNum=Math.abs(measureXY.x-left);
						if(tempNum<minOffLeft){
							minOffLeft=tempNum;
							targetLeft=measureXY.x;
						}
						tempNum=Math.abs(measureXY.x-right);
						if(tempNum<minOffRight){
							minOffRight=tempNum;
							targetRight=measureXY.x;
						}
					}
					else{
						tempNum=Math.abs(measureXY.y-top);
						if(tempNum<minOffTop){
							minOffTop=tempNum;
							targetTop=measureXY.y;
						}
						tempNum=Math.abs(measureXY.y-bottom);
						if(tempNum<minOffBottom){
							minOffBottom=tempNum;
							targetBottom=measureXY.y;
						}
					}
				}
			}
			if(minOffRight<minOffLeft){
				targetLeft=targetRight-this._alignTarget.width;
				minOffLeft=minOffRight;
			}
			if(minOffBottom<minOffTop){
				targetTop=targetBottom-this._alignTarget.height;
				minOffTop=minOffBottom;
			}
			this._measureItem.setRect(minOffLeft<20?targetLeft:this._alignTarget.x,minOffTop<20?targetTop:this._alignTarget.y,this._alignTarget.width,this._alignTarget.height);
		}
	}

	__proto.alignXYUpHd=function(event){
		if(!this._alignTarget)return;
		this._measureItem.removeSelf();
		this._alignTarget.x=this._measureItem.x;
		this._alignTarget.y=this._measureItem.y;
		this._alignTarget=null;
	}

	__proto.show=function(parent){
		var target=(parent||Wstage.stage);
		target.addChild(this);
	}

	__proto.hide=function(){
		this.exitHd();
	}

	__getset(0,__proto,'targetDisplayContainer',function(){
		return this._targetDisplayContainer;
		},function(value){
		if(this._targetDisplayContainer){
			this.removeListenerForTarget();
			this._targetDisplayContainer.off("rightclick",this,this.popMeauHd);
			Wstage.stage.off("resize",this,this.resizeHd);
		}
		this._targetDisplayContainer=value;
		if(this._targetDisplayContainer){
			this.addListenerForTarget();
			this._targetDisplayContainer.on("rightclick",this,this.popMeauHd);
			Wstage.stage.on("resize",this,this.resizeHd);
			this.size(Wstage.stageWidth,Wstage.stageHeight);
		}
	});

	__getset(0,__proto,'modeType',function(){
		return this._modeType;
		},function(value){
		if(this._modeType==value)return;
		this.removeListenerForTarget();
		this._modeType=value;
		this.clearHd();
		this.addListenerForTarget();
		this.drawAsyn();
	});

	__getset(1,WmeasureTool,'instance',function(){
		return WmeasureTool._instance||new WmeasureTool
	},wlb.dream.displays.Wpanel._$SET_instance);

	WmeasureTool.ModeType_XYWH="xywh";
	WmeasureTool.ModeType_XY="xy";
	WmeasureTool._instance=null;
	return WmeasureTool;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/measures/WmeasureXY.as=======94.996034/94.996034
//class tool.dream.displays.measures.WmeasureXY extends wlb.dream.displays.Wpanel
var WmeasureXY=(function(_super){
	function WmeasureXY(type,lineColor){
		this._type=null;
		this._lineColor='#ffff00';
		(type===void 0)&& (type="x");
		(lineColor===void 0)&& (lineColor='#00ff00');
		this._type=type;
		this._lineColor=lineColor;
		WmeasureXY.__super.call(this);
		this.init();
	}

	__class(WmeasureXY,'tool.dream.displays.measures.WmeasureXY',_super);
	var __proto=WmeasureXY.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.ItipTarget":true})
	__proto.init=function(){
		this.on("added",this,this.addToStageHd);
		this.on("removed",this,this.removeFromStageHd);
		this.on("rightclick",this,this.removeThisHd);
	}

	__proto.removeThisHd=function(event){
		event.stopPropagation();
		this.removeSelf();
	}

	__proto.addToStageHd=function(event){
		WmouseDownUpEvent.listenerKeyByFunc(this,this,null,null,this.mouseMoveHd);
		WtipManager.instance.addTip(this,"Update");
	}

	// }
	__proto.mouseMoveHd=function(e){
		if(this.parent){
			if(this._type=="x"){
				this.pos((this.parent).mouseX,0);
			}
			else{
				this.pos(0,(this.parent).mouseY);
			}
		}
	}

	__proto.removeFromStageHd=function(event){
		WtipManager.instance.removeTip(this);
		WmouseDownUpEvent.removeListener(this.mouseMoveHd);
	}

	// }
	__proto.size=function(w,h){
		this.graphics.clear();
		if(this._type=="x"){
			_super.prototype.size.call(this,2,h);
			this.graphics.drawLine(0,0,0,this._height,this._lineColor,2);
		}
		else{
			_super.prototype.size.call(this,w,2);
			this.graphics.drawLine(0,0,this._width,0,this._lineColor,2);
		}
		return this;
	}

	__getset(0,__proto,'tipData',function(){
		return this._type+":"+this[this._type];
	});

	__getset(0,__proto,'type',function(){
		return this._type;
	});

	return WmeasureXY;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/WsearchInput.as=======94.996030/94.996030
//class wlb.dream.displays.coms.WsearchInput extends org.coms.components.Kcomponent
var WsearchInput=(function(_super){
	function WsearchInput(listShowMode,listItemClass,listClass){
		this._list=null;
		this._input=null;
		this._datas=null;
		this._searchFunc=null;
		this._listShowMode=null;
		this._listHeight=150;
		// protected var _isListenKeyboard:Boolean=false;
		this._listItemClass=null;
		this._listClass=null;
		this.isLayoutTop=false;
		(listShowMode===void 0)&& (listShowMode="Show_Out");
		this._listItemClass=listItemClass;
		this._listClass=listClass;
		WsearchInput.__super.call(this);
		this.listShowMode=listShowMode;
	}

	__class(WsearchInput,'wlb.dream.displays.coms.WsearchInput',_super);
	var __proto=WsearchInput.prototype;
	Laya.imps(__proto,{"wlb.dream.keyManagers.IkeyControl":true,"org.coms.components.IinputText":true})
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._input=new KinputText(this);
		this._datas={};
		this._input.on("change",this,this.changeInputHd);
		this._input.on("focus",this,this.focusInHd);
		if(this._listClass!=null){
			this._list=new this._listClass;
		}
		else{
			this._list=new KList(null,0,0,null,this._listItemClass);
		}
		this._list.on("click",this,this.chooseItemHd);
		this.size(150,300);
	}

	__proto.dispatchChange=function(){
		this.event("Input_Change");
	}

	__proto.focusInHd=function(event){
		this.showList=true;
		this.showAllItems();
		Wstage.stage.on("click",this,this.focusOutHd);
	}

	__proto.focusOutHd=function(event){
		var target=event.target;
		var isFind=false;
		while(target){
			if(target==this||target==this._list){
				isFind=true;
				break ;
			}
			target=target.parent;
		}
		if(!isFind){
			Wstage.stage.off("click",this,this.focusOutHd);
			this.showList=false;
			WasynManager.instance.frameOnce(this,this.dispatchChange);
		}
	}

	__proto.chooseItemHd=function(event){
		if(this._list.selectedIndex>=0){
			this._input.text=this._list.items[this._list.selectedIndex];
			WasynManager.instance.frameOnce(this,this.dispatchChange);
		}
	}

	__proto.setSearch=function(datas,searchFunc){
		this._datas=datas||{};
		this._searchFunc=searchFunc||this.autoSearch;
		var oldText=this._input.text;
		this._input.text="";
		WasynManager.instance.clearFrameOnce(this,this.updateList);
		this.updateList();
		this._list.selectedIndex=-1;
		this._input.text=oldText;
	}

	__proto.search=function(value){
		this._input.text=value;
		this.changeInputHd();
	}

	__proto.autoSearch=function(input,item){
		return item.search(new RegExp(input,"i"))>=0;
	}

	__proto.drawNow=function(){
		game.dream.gameUI.WgameUI.prototype.drawNow.call(this);
		if(this._listShowMode=="Show_Int"){
			this._input.size(this._width,30);
			this._list.size(this._width,Math.max(1,this._height-30));
			this._list.pos(0,30);
		}
		else{
			this._input.size(this._width,this._height);
			this._list.size(this._width,this._listHeight);
			var xy=this.localToGlobal(new Point(0,this.isLayoutTop?-this._list.height:this._height));
			if(xy.y+this._listHeight>Wstage.stageHeight){
				xy.y=Wstage.stageHeight-this._listHeight-this._height;
			}
			this._list.pos(xy.x,xy.y);
		}
	}

	__proto.changeInputHd=function(e){
		WasynManager.instance.frameOnce(this,this.updateList,12);
	}

	__proto.updateList=function(){
		var results=[];
		var inputText=this._input.text;
		var item;
		if(inputText){
			var $each_item;
			for($each_item in this._datas){
				item=this._datas[$each_item];
				if(this._searchFunc(inputText,item+'')){
					results.push(item);
				}
			}
			this._list.items=results;
		}
		else this.showAllItems()
	}

	__proto.showAllItems=function(){
		var results=[];
		var item;
		var $each_item;
		for($each_item in this._datas){
			item=this._datas[$each_item];
			results.push(item);
		}
		this._list.items=results;
	}

	__proto.updateListXY=function(){
		var xy=this.localToGlobal(Point.TEMP.setTo(0,this.isLayoutTop?-this._list.height:this._height));
		this._list.pos(xy.x,xy.y);
	}

	__proto.focusKey=function(focus){}
	__proto.pressKey=function(keyCode,isPress){
		if(isPress)return;
		switch(keyCode){
			case 38:
				if(this._list.selectedIndex>=0){
					this._list.selectedIndex--;
					this._input.text=this._list.items[this._list.selectedIndex];
				}
				break ;
			case 40:
				if(this._list.selectedIndex<this._list.itemLength-1){
					this._list.selectedIndex++;
					this._input.text=this._list.items[this._list.selectedIndex];
				}
				break ;
			}
	}

	__getset(0,__proto,'hasTip',null,function(value){
		this._input.hasTip=value;
	});

	__getset(0,__proto,'showList',function(){
		return this._list.stage!=null;
		},function(value){
		if(this._listShowMode=="Show_Int")return;
		if(value){
			if(this._list.parent==null){
				Wstage.stage.addChild(this._list);
			}
			this.updateListXY();
			WasynManager.instance.frameLoop(this,this.updateListXY,2);
			this.event("open");
		}
		else{
			Wstage.stage.off("click",this,this.focusOutHd);
			WasynManager.instance.clearFrameLoop(this,this.updateListXY);
			if(this._list.parent){
				this._list.removeSelf();
			}
			this.event("close");
		}
	});

	__getset(0,__proto,'listShowMode',function(){
		return this._listShowMode;
		},function(value){
		this._listShowMode=value;
		if(this._listShowMode=="Show_Int"){
			if(!this._list.displayedInStage)
				this.addChild(this._list);
			}else{
			WasynManager.instance.clearFrameLoop(this,this.updateListXY);
			if(this._list.displayedInStage)
				this._list.removeSelf();
		}
	});

	__getset(0,__proto,'input',function(){
		return this._input;
	});

	__getset(0,__proto,'text',function(){
		return this._input.text;
		},function(value){
		this._input.text=value;
	});

	__getset(0,__proto,'listHeight',function(){
		return this._listHeight;
		},function(value){
		this._listHeight=value;
		this.drawAsyn();
	});

	__getset(0,__proto,'list',function(){
		return this._list;
	});

	__getset(0,__proto,'textField',function(){
		return this._input.textField;
	});

	__getset(0,__proto,'restrict',null,function(value){
		this._input.restrict=value;
	});

	WsearchInput.Show_Int="Show_Int";
	WsearchInput.Show_Out="Show_Out";
	return WsearchInput;
})(Kcomponent)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WlistScrollV.as=======94.996022/94.996022
//class tool.dream.displays.WlistScrollV extends wlb.dream.displays.Wpanel
var WlistScrollV=(function(_super){
	function WlistScrollV(list,scrollV,w,h){
		this._list=null;
		this._scrollV=null;
		this._updateWidth=false;
		//用于扩展水平滚动
		this._scrollHHeight=0;
		(w===void 0)&& (w=200);
		(h===void 0)&& (h=200);
		this._list=list;
		this._scrollV=scrollV||new KVScrollBar;
		WlistScrollV.__super.call(this);
		this.size(w,h);
		this.init();
	}

	__class(WlistScrollV,'tool.dream.displays.WlistScrollV',_super);
	var __proto=WlistScrollV.prototype;
	__proto.init=function(){
		this._list.addToParent(this);
		this._list.on("change",this,this.listChangeHd);
		this.on("mousewheel",this,this.wheelHd)
		this._scrollV.addToParent(this);
		this._scrollV.on("change",this,this.scrollChangeHd);
	}

	__proto.scrollChangeHd=function(event){
		this._list.scrollValue=this._scrollV.value;
	}

	__proto.listChangeHd=function(event){
		this._scrollV.setSliderParams(0,this._list.maxScrollValue,this._list.scrollValue);
		this._scrollV.setThumbPercent(Math.max(0.2,this._list.height/(this._list.maxScrollValue+this._list.height)));
	}

	__proto.wheelHd=function(event){
		this._list.scrollValue-=event.delta*20;
	}

	__proto.drawNow=function(){
		this.graphics.clear();
		this.graphics.drawRect(0,0,this._width,this._height,'#333333');
		this._list.size(this._width-20,this._height-this._scrollHHeight);
		if(this._updateWidth)
			this._list.setGridAndItem(this._list.width,this._list.gridHeight);
		this._scrollV.size(20,this._height-this._scrollHHeight);
		this._scrollV.pos(this._width-20,0);
	}

	__getset(0,__proto,'list',function(){
		return this._list;
	});

	__getset(0,__proto,'updateWidth',function(){
		return this._updateWidth;
		},function(value){
		this._updateWidth=value;
		this.drawAsyn();
	});

	return WlistScrollV;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WminMap.as=======94.996021/94.996021
/**
*地图映射组件
*@author wulongbin
*
*/
//class tool.dream.displays.WminMap extends wlb.dream.displays.Wpanel
var WminMap=(function(_super){
	function WminMap(){
		this._viewX=NaN;
		this._viewY=NaN;
		this._viewWidth=NaN;
		this._viewHeight=NaN;
		this._mapWidth=NaN;
		this._mapHeight=NaN;
		this._ratioWidth=NaN;
		this._ratioHeight=NaN;
		this._dragSprite=null;
		this._dragWidth=NaN;
		this._dragHeight=NaN;
		this._callBack=null;
		this._thickness=2;
		this._dragColor='#ff0000';
		this._mapBgColor='#888888';
		this._mapColor='#0000ff';
		WminMap.__super.call(this);
		this.init();
	}

	__class(WminMap,'tool.dream.displays.WminMap',_super);
	var __proto=WminMap.prototype;
	__proto.init=function(){
		this.size(100,100);
		this._dragHeight=this._dragWidth=this._viewX=this._viewY=this._viewWidth=this._viewHeight=this._mapWidth=this._mapHeight=0;
		this._ratioWidth=this._ratioHeight=1;
		this._dragSprite=new Sprite();
		this.addChild(this._dragSprite);
		this.canDrag=true;
	}

	__proto.asynUpdateRatio=function(){
		WasynManager.instance.frameOnce(this,this.nowUpdateRadio);
	}

	__proto.nowUpdateRadio=function(){
		this._ratioWidth=this._mapWidth<=0?1:this._width/this._mapWidth;
		this._ratioHeight=this._mapHeight<=0?1:this._height/this._mapHeight;
		this.drawAsyn();
	}

	__proto.size=function(w,h){
		_super.prototype.size.call(this,w,h);
		this.asynUpdateRatio();
		return this;
	}

	__proto.drawNow=function(){
		this.graphics.clear();
		this.alpha=0.5;
		this.graphics.drawRect(0,0,this._width,this._height,this._mapBgColor,this._mapBgColor,this._thickness);
		this._dragSprite.graphics.clear();
		this._dragWidth=this._viewWidth*this._ratioWidth;
		this._dragHeight=this._viewHeight*this._ratioHeight;
		this._dragSprite.graphics.drawRect(0,0,this._dragWidth,this._dragHeight,'',this._dragColor,this._thickness);
		this._dragSprite.size(this._dragWidth,this._dragHeight);
		this.viewTo(this._viewX,this._viewY);
	}

	__proto.viewTo=function(viewX,viewY){
		this._viewX=Math.min(this._mapWidth,Math.max(0,viewX));
		this._viewY=Math.min(this._mapHeight,Math.max(0,viewY));
		this._dragSprite.x=viewX*this._ratioWidth;
		this._dragSprite.y=viewY*this._ratioHeight;
	}

	__proto.setViewAndMapSize=function(viewWidth,viewHeight,mapWidth,mapHeight){
		this._mapWidth=mapWidth;
		this._mapHeight=mapHeight;
		this._viewWidth=Math.min(this._mapWidth,viewWidth);
		this._viewHeight=Math.min(this._mapWidth,viewHeight);
		this.asynUpdateRatio();
	}

	__proto.donwHd=function(){
		this._dragSprite.startDrag(new Rectangle(0,0,Math.ceil(this._width-this._dragWidth),Math.ceil(this._height-this._dragHeight)));
		Wstage.stage.on("mouseup",this,this.upHd);
		WasynManager.instance.frameLoop(this,this.frameHd);
	}

	__proto.frameHd=function(){
		var viewX=this._dragSprite.x/this._ratioWidth;
		var viewY=this._dragSprite.y/this._ratioHeight;
		this.viewTo(viewX,viewY);
		if(this._callBack!=null){
			this._callBack(viewX,viewY);
		}
	}

	__proto.upHd=function(){
		this._dragSprite.stopDrag();
		Wstage.stage.off("mouseup",this,this.upHd);
		WasynManager.instance.clearFrameLoop(this,this.frameHd);
	}

	__getset(0,__proto,'canDrag',null,function(bool){
		if(bool){
			this._dragSprite.on("mousedown",this,this.donwHd);
		}
		else{
			this._dragSprite.off("mousedown",this,this.donwHd);
		}
	});

	/**
	*格式 function(viewX:Number,viewY:Number):void
	*@param value
	*
	*/
	__getset(0,__proto,'callBack',function(){
		return this._callBack;
		},function(value){
		this._callBack=value;
	});

	return WminMap;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditProty.as=======94.995992/94.995992
//class tool.dream.protyEdits.WeditProty extends wlb.dream.displays.Wpanel
var WeditProty=(function(_super){
	function WeditProty(){
		this._label=null;
		this._bg=null;
		this._com=null;
		this.Com_X=100;
		this._protyEditInfo=null;
		this._isShowLabel=false;
		this._editObj=null;
		this._bgColor=null;
		this._selected=false;
		this.container=null;
		WeditProty.__super.call(this);
		this.init();
	}

	__class(WeditProty,'tool.dream.protyEdits.WeditProty',_super);
	var __proto=WeditProty.prototype;
	Laya.imps(__proto,{"tool.dream.protyEdits.IeditProty":true})
	__proto.init=function(){
		this._bg=new Wsprite;
		this.addChild(this._bg);
		this._label=new WtextField;
		this._label.setTextFormat(TextFormat.once('',16,'#f98ca5'));
		this._label.x=2;
		this._label.width=96;
		this._label.height=28;
		this._label.mouseEnabled=false;
		this.addChild(this._label);
		this._isShowLabel=true;
		this.on("added",this,this.addToStageHd);
		this.on("removed",this,this.removeFromStageHd);
	}

	__proto.addToStageHd=function(event){
		var _$this=this;
		WcopyPasteMnger.instance.registeCP(this._bg,function(value){
			if(_$this._protyEditInfo.isOnlyReady==false){
				_$this._protyEditInfo.setFunc(_$this._editObj,value);
			}
			},function(){
			return _$this._protyEditInfo.getFunc(_$this._editObj);
		});
	}

	__proto.removeFromStageHd=function(event){
		WcopyPasteMnger.instance.removeCP(this._bg);
	}

	__proto.drawNow=function(){
		if(this._protyEditInfo==null)return;
		this._label.y=this._height-this._label.height>>1;
		this.updateBG();
		if(this._com){
			this._com.pos(this.Com_X+2,2);
			this._com.size(this._width-this.Com_X-4,this._height-4);
		}
	}

	/**
	*更新背景
	*
	*/
	__proto.updateBG=function(){
		this._bg.graphics.clear();
		this._bg.graphics.drawRect(0,0,this._width-1,this._height-1,this._bgColor,'#000000',1);
		if(this._isShowLabel){
			this._bg.graphics.drawLine(this.Com_X,0,this.Com_X,this._height,'#000000',1);
		}
	}

	__proto.setContainer=function(container){
		this.container=container;
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		this._editObj=editObj;
		this._protyEditInfo=protyEidtInfo;
		this._label.text=protyEidtInfo.protyName;
		this._label.y=this._height-this._label.height>>1;
		if(protyEidtInfo.des){
			WtipManager.instance.addTipForDisplay(this._label,protyEidtInfo.des);
		}
		this.bgColor=!this._protyEditInfo.editProtyBGColor?Kstyle.PANEL:this._protyEditInfo.editProtyBGColor
	}

	__proto.upDate=function(){}
	__proto.setFocus=function(){}
	__proto.dispose=function(){
		WtipManager.instance.removeTip(this._label);
		WeditProtyMnger.instance.returnObj(this._protyEditInfo.protyEditType,this);
		this._editObj=null;
		this._protyEditInfo=null;
		this.removeSelf();
	}

	__proto.size=function(w,h){
		return _super.prototype.size.call(this,w,h);
	}

	__getset(0,__proto,'propertyName',function(){
		return this._protyEditInfo.protyName;
	});

	__getset(0,__proto,'isShowLabel',function(){
		return this._isShowLabel;
		},function(value){
		if(this._isShowLabel==value)return;
		this._isShowLabel=value;
		if(this._isShowLabel){
			this.addChild(this._label);
			this.Com_X=100;
		}
		else{
			this.Com_X=0;
			this.removeChild(this._label);
		}
		this.drawAsyn();
	});

	__getset(0,__proto,'editObj',function(){
		return this._editObj;
		},function(value){
		this._editObj=value;
	});

	__getset(0,__proto,'bgColor',function(){
		return this._bgColor;
		},function(value){
		if(this._bgColor==value)return;
		this._bgColor=value;
		this.drawAsyn();
	});

	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(value){
		if(this._selected==value)return;
		this._selected=value;
	});

	WeditProty.Com_Height=30;
	WeditProty.Com_Width=150;
	return WeditProty;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditProtyContain.as=======94.995985/94.995985
;
//class tool.dream.protyEdits.WeditProtyContain extends wlb.dream.displays.Wpanel
var WeditProtyContain=(function(_super){
	var WeditObjContext;
	function WeditProtyContain(){
		this.UIHeight=60;
		this._parents=null;
		this._protyEdits=null;
		this._protyEditArray=null;
		this._layoutEditArray=null;
		this._editObj=null;
		this._currentEditObj=null;
		this._isUpdating=false;
		this._containerLength=NaN;
		this._searchTf=null;
		this._param=null;
		this._showSearch=true;
		this._selectedProty=null;
		this._backBtn=null;
		this._addBtn=null;
		this._removeBtn=null;
		this._scroll=null;
		this._isDynamic=false;
		WeditProtyContain.__super.call(this);
		this._protyEdits={};
		this._protyEditArray=[];
		this._layoutEditArray=[];
		this._width=200;
		this._height=500;
		this._addBtn=new KpushButton(this,0,0,"+",this.onAdd.bind(this));
		this._addBtn.enabled=false;
		this._addBtn.size(30,30);
		this._removeBtn=new KpushButton(this,30,0,"-",this.onRemove.bind(this));
		this._removeBtn.enabled=false;
		this._removeBtn.size(30,30);
		this._backBtn=new KpushButton(this,0,0,"<",this.onBack.bind(this));
		this._backBtn.enabled=false;
		this._backBtn.size(60,30);
		this._searchTf=new KinputText(this,0,30);
		this._searchTf.size(this._width,30);
		this._searchTf.on("change",this,this.searchProtyHd);
		this._scroll=new KscrollPane(this,0,this.UIHeight);
		this.on("added",this,this.addStageHd);
		this.on("removed",this,this.removeStageHd);
		this.on("EditObj_Change",this,this.onChangeEditObj);
	}

	__class(WeditProtyContain,'tool.dream.protyEdits.WeditProtyContain',_super);
	var __proto=WeditProtyContain.prototype;
	__proto.onRemove=function(e){
		if(this._selectedProty==null)return;
		delete this._currentEditObj[this._selectedProty.propertyName];
		this.currentEditObj=this._currentEditObj;
	}

	__proto.onAdd=function(e){
		var _$this=this;
		WaddJsonItemWin.instance.eidtNewNode(function(data){
			_$this._currentEditObj[data.key]=data.data;
			_$this.currentEditObj=_$this._currentEditObj;
		});
	}

	__proto.onChangeEditObj=function(event){
		this.pushEditObj(event.obj,null ,event.parentObj,event.key,event.isUpdate);
	}

	__proto.onBack=function(e){
		this.prevObj();
	}

	__proto.searchProtyHd=function(event){
		this.layoutAsyn();
	}

	__proto.removeStageHd=function(event){
		this.isUpdating=false;
		this.off("mouseover",this,this.focusInHd);
		this.off("mouseout",this,this.focusOutHd);
	}

	__proto.addStageHd=function(event){
		this.isUpdating=true;
		this.on("mouseover",this,this.focusInHd);
		this.on("mouseout",this,this.focusOutHd);
	}

	__proto.focusOutHd=function(){
		this.isUpdating=true;
	}

	__proto.focusInHd=function(){
		this.isUpdating=false;
	}

	__proto.updateView=function(__params){
		var params=arguments;
		var i=0;
		var len=params.length;
		if(len>0){
			this.updateViewByType(params[0]);
		}
		else{
			var proEdit;
			for(var $each_proEdit in this._layoutEditArray){
				proEdit=this._layoutEditArray[$each_proEdit];
				proEdit.upDate();
			}
		}
	}

	__proto.updateBackBtn=function(){
		var len=this._parents.length;
		this._backBtn.enabled=len>1;
		var label="";
		for(var i=0;i<len;i++){
			label+="<";
		}
		this._backBtn.label=label;
	}

	__proto.drawNow=function(){
		this._backBtn.x=this._width-this._backBtn.width;
		this._searchTf.size(this._width,30);
		this._scroll.size(this._width,this._height-this.UIHeight);
		var tempW=this._width-10;
		var proEdit;
		for(var $each_proEdit in this._protyEditArray){
			proEdit=this._protyEditArray[$each_proEdit];
			proEdit.width=tempW;
		}
	}

	__proto.updateViewByType=function(type){
		var protyEdits=this._protyEdits [type];
		if(protyEdits==null)return;
		var proEdit;
		for(var $each_proEdit in protyEdits){
			proEdit=protyEdits[$each_proEdit];
			proEdit.upDate();
		}
	}

	__proto.layoutAsyn=function(){
		WasynManager.instance.frameOnce(this,this.layoutNow,12);
	}

	__proto.layoutNow=function(){
		var $each_editProty;
		for($each_editProty in this._layoutEditArray){
			editProty=this._layoutEditArray[$each_editProty];
			this._scroll.removeChild(editProty);
		}
		this._containerLength=0;
		this._layoutEditArray.length=0;
		var searchTxt=this._searchTf.text;
		if(searchTxt&&this._showSearch){
			var editProty;
			for(var $each_editProty in this._protyEditArray){
				editProty=this._protyEditArray[$each_editProty];
				if(editProty.propertyName.search(new RegExp(searchTxt,"i"))>=0){
					this._layoutEditArray.push(editProty);
				}
			}
		}
		else{
			this._layoutEditArray=this._protyEditArray.concat();
		};
		var tempW=this._width-10;
		var $each_editProty;
		for($each_editProty in this._layoutEditArray){
			editProty=this._layoutEditArray[$each_editProty];
			editProty.pos(0,this._containerLength);
			editProty.size(tempW,30);
			this._containerLength+=editProty.height;
			this._scroll.addChild(editProty);
		}
	}

	__proto.dispose=function(){
		this.setEditObj(null,null);
	}

	__proto.prevObj=function(){
		if(this._parents.length>1){
			this.currentEditObj=this.popEditObj();
		}
	}

	__proto.setEditObj=function(value,param,editObjInfo){
		if(this._editObj==value)return;
		this.clearEditObj();
		this._scroll.scrollVH(0,0);
		this._param=param;
		this._editObj=value;
		if(this._editObj){
			this.pushEditObj(this._editObj,param,null,"",false,editObjInfo);
		}
		else{
			this.currentEditObj=null;
		}
	}

	__proto.clearAll=function(){
		this.selectedProty=null;
		this.isUpdating=false;
		var proEdits;
		for(var $each_proEdits in this._protyEdits){
			proEdits=this._protyEdits[$each_proEdits];
			var proEdit;
			for(var $each_proEdit in proEdits){
				proEdit=proEdits[$each_proEdit];
				proEdit.off("mousedown",this,this.onSelect);
				proEdit.dispose();
			}
		}
		this._protyEdits={};;
		this._protyEditArray=[];
		this._layoutEditArray=[];
	}

	__proto.createAll=function(){
		this.isUpdating=true;
		this._containerLength=0;
		this._searchTf.text="";
		this.createEditProtys();
		this.layoutNow();
		this._height=this._containerLength;
		this.updateView();
	}

	__proto.addEditProty=function(type,display){
		display.on("mousedown",this,this.onSelect);
		var protyEdits=this._protyEdits [type];
		if(!protyEdits){
			protyEdits=new Array;
			this._protyEdits[type]=protyEdits;
		}
		protyEdits.push(display);
		this._protyEditArray.push(display);
	}

	__proto.onSelect=function(e){
		this.selectedProty=e.currentTarget;
	}

	__proto.createEditProtys=function(){
		WeditProtyMnger.instance.createEditProtys(this,this._currentEditObj,this._param,this._parents[this._parents.length-1].editObjInfo);
	}

	__proto.pushEditObj=function(obj,param,parent,key,isUpdate,editObjInfo){
		(key===void 0)&& (key="");
		(isUpdate===void 0)&& (isUpdate=false);
		var context=new WeditObjContext(parent,key,obj,param,editObjInfo);
		context.isUpdate=isUpdate;
		this._parents.push(context);
		this.currentEditObj=obj;
	}

	__proto.popEditObj=function(){
		var context=this._parents.pop();
		context.isUpdate=false;
		this._param=this._parents[this._parents.length-1].param;
		return this._parents[this._parents.length-1].obj;
	}

	__proto.clearEditObj=function(){
		var context;
		for(var $each_context in this._parents){
			context=this._parents[$each_context];
			context.isUpdate=false;
		}
		this._parents=new Array;
	}

	__getset(0,__proto,'isUpdating',function(){
		return this._isUpdating;
		},function(value){
		if(this._isUpdating==value)return;
		this._isUpdating=value;
		if(this._isUpdating){
			WasynManager.instance.frameLoop(this,this.updateView,30);
		}
		else{
			WasynManager.instance.clearFrameLoop(this,this.updateView);
		}
	});

	__getset(0,__proto,'isDynamic',function(){
		return this._isDynamic;
		},function(value){
		this._isDynamic=value;
		this._removeBtn.enabled=this._addBtn.enabled=value;
	});

	__getset(0,__proto,'editObj',function(){
		return this._editObj;
	});

	__getset(0,__proto,'selectedProty',function(){
		return this._selectedProty;
		},function(value){
		if(this._selectedProty){
			this._selectedProty.selected=false;
		}
		this._selectedProty=value;
		if(this._selectedProty){
			this._selectedProty.selected=true;
			if(this._selectedProty.selected==false){
				this._selectedProty=null;
			}
		}
	});

	__getset(0,__proto,'showSearch',function(){
		return this._showSearch;
		},function(value){
		if(this._showSearch==value)return;
		this._showSearch=value;
		if(this._showSearch){
			this.addChild(this._searchTf);
		}
		else{
			this.removeChild(this._searchTf);
		}
		this.layoutAsyn();
	});

	__getset(0,__proto,'currentEditObj',function(){
		return this._currentEditObj;
		},function(value){
		this.isDynamic=false;
		if(this._currentEditObj){
			this.clearAll();
		}
		this._currentEditObj=value;
		if(this._currentEditObj){
			this.createAll();
		}
		this.updateBackBtn();
	});

	WeditProtyContain.__init$=function(){
		/*namespace*/;
		/*namespace*/
		/*namespace*/
		//class WeditObjContext
		WeditObjContext=(function(){
			function WeditObjContext(parentObj,key,obj,param,editObjInfo){
				this._isUpdate=false;
				this.parentObj=null;
				this.key=null;
				this.obj=null;
				this.param=null;
				this.editObjInfo=null;
				this.param=param;
				this.parentObj=parentObj;
				this.key=key;
				this.obj=obj;
				this.editObjInfo=editObjInfo;
			}
			__class(WeditObjContext,'');
			var __proto=WeditObjContext.prototype;
			__proto.update=function(){
				this.parentObj[this.key]=this.obj;
			}
			__getset(0,__proto,'isUpdate',function(){
				return this._isUpdate;
				},function(value){
				if(this._isUpdate==value)return;
				this._isUpdate=value;
				if(this._isUpdate){
					WasynManager.instance.frameLoop(this,this.update,2);
				}
				else{
					WasynManager.instance.clearFrameLoop(this,this.update);
				}
			});
			return WeditObjContext;
		})()
	}

	return WeditProtyContain;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/WlistV.as=======94.995946/94.995946
;
/**
*list组件
*@author wulongbin
*
*/
//class wlb.dream.displays.coms.WlistV extends wlb.dream.displays.Wpanel
var WlistV=(function(_super){
	function WlistV(cla,w,h){
		this._gridWidth=50;
		this._gridHeight=50;
		this._itemWidth=40;
		this._itemHeight=40;
		this._items=null;
		this._listItems=null;
		this._listItemLength=0;
		this._scrollIndex=0;
		this._maxScrollIndex=0;
		this._maxScrollValue=0;
		this._itemLength=0;
		this._selectedIndex=-1;
		this._enableFunc=null;
		this._itemPool=null;
		this._mouseRollOverItem=null;
		this._col=0;
		this._row=0;
		this._scrollRect=null;
		this._scrollValue=0;
		(w===void 0)&& (w=200);
		(h===void 0)&& (h=200);
		WlistV.__super.call(this);
		this._items=[];
		this._itemPool=new WobjectPool(cla);
		this._listItems=new Array;
		this._scrollRect=new Rectangle(0,0,w,h);
		this.size(w,h);
	}

	__class(WlistV,'wlb.dream.displays.coms.WlistV',_super);
	var __proto=WlistV.prototype;
	__proto.size=function(w,h){
		this._width=w;
		this._height=h;
		this._scrollRect.width=w;
		this._scrollRect.height=h;
		this.scrollRect=this._scrollRect
		this.createItemsAsyn();
		return this;
	}

	/**
	*
	*@param gridW 网格宽高
	*@param gridH
	*@param itemW 子项宽高
	*@param itemH
	*
	*/
	__proto.setGridAndItem=function(gridW,gridH,itemW,itemH){
		(itemW===void 0)&& (itemW=NaN);
		(itemH===void 0)&& (itemH=NaN);
		this._gridWidth=gridW;
		this._gridHeight=gridH;
		this._itemWidth=itemW||gridW;
		this._itemHeight=itemH||gridH;
		this.createItemsAsyn();
	}

	__proto.createItemsAsyn=function(){
		this._col=(this._width/this._gridWidth);
		this._row=(this._height/this._gridHeight);
		this._row++;
		this.updateScrollData();
		WasynManager.instance.callLater(this,this.createItemsNow);
	}

	__proto.createItemsNow=function(){
		this._listItemLength=this._col*this._row;
		var i=0;
		var oldItems=this._listItems;
		var oldLength=oldItems.length;
		this._listItems=[];
		var col=0;
		var row=0;
		if(this._listItemLength>oldLength){
			for(i=0;i<oldLength;i++){
				this._listItems[i]=oldItems[i];
			}
			for(i=oldLength;i<this._listItemLength;i++){
				this._listItems[i]=this.createItem();
				this._listItems[i].addToParent(this);
				col=i%this._col;
				row=Math.floor(i/this._col);
				this._listItems[i].x=col*this._gridWidth;
				this._listItems[i].y=row*this._gridHeight;
			}
		}
		else{
			for(i=0;i<this._listItemLength;i++){
				this._listItems[i]=oldItems[i];
			}
			for(i=this._listItemLength;i<oldLength;i++){
				oldItems[i].listItemData=null;
				oldItems[i].removeSelf();
				this.createItem(false,oldItems[i]);
			}
		}
		this.drawAsyn();
	}

	__proto.createItem=function(isCreate,item){
		(isCreate===void 0)&& (isCreate=true);
		if(isCreate){
			item=this._itemPool.getObject();
			item.on("mousedown",this,this.mouseDownHd);
			item.on("mouseover",this,this.rollOverItemHd);
			item.on("mouseout",this,this.rollOutItemHd);
			if(Laya.__typeof(item,'game.dream.gameUI.IgameUI'))
				(item).clearLayout();
			return item;
		}
		else{
			item.off("mousedown",this,this.mouseDownHd);
			item.off("mouseover",this,this.rollOverItemHd);
			item.off("mouseout",this,this.rollOutItemHd);
			this._itemPool.returnObject(item);
			return null;
		}
	}

	__proto.rollOutItemHd=function(e){
		this._mouseRollOverItem=null;
	}

	__proto.rollOverItemHd=function(e){
		this._mouseRollOverItem=e.currentTarget;
	}

	__proto.mouseDownHd=function(e){
		var listItem=e.currentTarget;
		if(listItem==null)return;
		this.selectedIndex=this._items.indexOf(listItem.listItemData);
	}

	__proto.updateScrollData=function(){
		this._maxScrollIndex=Math.max(0,Math.ceil(this._itemLength/this._col)-this._row+1);
		this._maxScrollValue=this._maxScrollIndex*this._gridHeight;
		WasynManager.instance.callLater(this,this.changeScrollData);
	}

	__proto.changeScrollData=function(){
		this._scrollRect.y=this._scrollValue;
		this.scrollRect=this._scrollRect;
		this.event("change");
	}

	__proto.drawNow=function(){
		var i=0;
		var col=0;
		var row=0;
		var index=0;
		var tempX=(this._gridWidth-this._itemWidth)*0.5;
		var tempY=(this._gridHeight-this._itemHeight)*0.5;
		var item;
		var startIndex=this._scrollIndex*this._col;
		for(;i<this._listItemLength;i++){
			index=startIndex+i;
			item=this._listItems[i];
			col=index%this._col;
			row=Math.floor(index/this._col);
			item.x=tempX+col*this._gridWidth;
			item.y=tempY+row*this._gridHeight;
			if(index<this._itemLength){
				item.listItemData=this._items[index];
				if(this._enableFunc!=null){
					item.enabled=this._enableFunc(this._items[index]);
				}
				else item.enabled=true;
			}
			else{
				item.listItemData=null;
				item.enabled=false;
			}
			item.size(this._itemWidth,this._itemHeight);
			item.selected=index==this._selectedIndex;
		}
	}

	__proto.nextSelectIndex=function(){
		var i=this._selectedIndex+1;
		var len=this._items.length;
		for(;i<len;i++){
			if(this._enableFunc!=null){
				if(this._enableFunc(this._items[i])){
					this.selectedIndex=i;
					break ;
				}
			}
			else{
				this.selectedIndex=i;
				break ;
			}
		}
	}

	__proto.prevSelectIndex=function(){
		var i=this._selectedIndex-1;
		for(;i>=0;i--){
			if(this._enableFunc!=null){
				if(this._enableFunc(this._items[i])){
					this.selectedIndex=i;
					break ;
				}
			}
			else{
				this.selectedIndex=i;
				break ;
			}
		}
	}

	/**
	*将可见区域移动至选择项
	*
	*/
	__proto.viewToSelect=function(){
		if(this._selectedIndex==-1)return;
		var viewLength=this._listItemLength-this._col-1;
		if(this._selectedIndex<this._scrollIndex){
			this.scrollIndex=Math.max(0,this._selectedIndex);
		}
		else if(this._selectedIndex>=this._scrollIndex+viewLength){
			this.scrollIndex=this._selectedIndex-viewLength;
		}
		this.viewToScrollIndex();
	}

	/**
	*将可见区域对齐
	*
	*/
	__proto.viewToScrollIndex=function(){
		this.scrollValue=this._scrollIndex*this._gridHeight;
	}

	__getset(0,__proto,'items',function(){
		return this._items;
		},function(value){
		this._items=value||[];
		this._itemLength=this._items.length;
		this.updateScrollData();
		this._selectedIndex=-1;
		this.scrollValue=this.scrollValue;
		this.drawAsyn();
	});

	/**
	*设置过滤器，格式function(data:Object):Boolean
	*@param value
	*
	*/
	__getset(0,__proto,'enableFunc',null,function(value){
		this._enableFunc=value;
		this.drawAsyn();
	});

	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		value=Math.max(-1,Math.min(this._itemLength-1,value));
		if(this._selectedIndex!=value){
			if(this._enableFunc!=null&&value>=0){
				if(this._enableFunc(this._items[value])){
					this._selectedIndex=value;
				}
				else{
					this._selectedIndex=-1;
				}
			}
			else{
				this._selectedIndex=value;
			}
			this.drawAsyn();
		}
		this.event("select");
	});

	__getset(0,__proto,'scrollIndex',function(){
		return this._scrollIndex;
		},function(value){
		if(this._scrollIndex==value)return;
		this._scrollIndex=Math.max(0,Math.min(value,this._maxScrollIndex));
		this.scrollValue=this._scrollIndex*this._gridHeight
		this.drawAsyn();
	});

	__getset(0,__proto,'scrollValue',function(){
		return this._scrollRect.y;
		},function(value){
		value=Math.max(0,Math.min(value,this._maxScrollValue));
		if(value==this._scrollValue)return;
		this._scrollValue=value;
		this.scrollIndex=Math.floor(this._scrollValue/this._gridHeight);
		WasynManager.instance.callLater(this,this.changeScrollData);
	});

	__getset(0,__proto,'maxScrollIndex',function(){
		return this._maxScrollIndex;
	});

	__getset(0,__proto,'maxScrollValue',function(){
		return this._maxScrollValue;
	});

	__getset(0,__proto,'selectedItem',function(){
		if(this._selectedIndex!=-1){
			return this._items[this._selectedIndex];
		}
		else{
			return null;
		}
		},function(data){
		this.selectedIndex=this._items.indexOf(data);
	});

	__getset(0,__proto,'itemLength',function(){
		return this._itemLength;
	});

	/**
	*可见行数
	*@return
	*
	*/
	__getset(0,__proto,'visibleRow',function(){
		return this._row-1;
	});

	__getset(0,__proto,'gridHeight',function(){
		return this._gridHeight;
	});

	/**
	*获取鼠标当前经过的listItem
	*@return
	*
	*/
	__getset(0,__proto,'mouseRollOverItem',function(){
		return this._mouseRollOverItem;
	});

	WlistV.__init$=function(){
		/*namespace*/;
		/*namespace*/;
		/*namespace*/;;
	}

	return WlistV;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/WmenuItem.as=======94.995944/94.995944
//class wlb.dream.displays.coms.WmenuItem extends wlb.dream.displays.Wpanel
var WmenuItem=(function(_super){
	function WmenuItem(){
		this._data=null;
		this._label=null;
		WmenuItem.__super.call(this);
		this._label=new KpushButton(this,0,0);
	}

	__class(WmenuItem,'wlb.dream.displays.coms.WmenuItem',_super);
	var __proto=WmenuItem.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.coms.IlistItem":true})
	__proto.drawNow=function(){
		this._label.size(this._width,this._height);
	}

	__getset(0,__proto,'listItemData',function(){
		return this._data;
		},function(value){
		this._data=value;
		if(this._data){
			this._label.label=this._data.text;
		}
		else{
			this._label.label=""
		}
	});

	__getset(0,__proto,'selected',null,function(value){
	});

	__getset(0,__proto,'enabled',null,function(value){
		this._label.enabled=value;
	});

	return WmenuItem;
})(Wpanel)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WautoTip.as=======94.995901/94.995901
/**
*默认tip样式组件
*@author wulongbin
*
*/
//class wlb.dream.tip.WautoTip extends wlb.dream.displays.Wpanel
var WautoTip=(function(_super){
	function WautoTip(){
		this._tf=null;
		WautoTip.__super.call(this);
		this.init();
	}

	__class(WautoTip,'wlb.dream.tip.WautoTip',_super);
	var __proto=WautoTip.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.Itip":true})
	__proto.init=function(){
		this._tf=new WtextField();
		this._tf.mouseEnabled=false;
		this._tf.color=Kstyle.INPUT_TEXT;
		this._tf.wordWrap=true;
		this._tf.pos(2,2);
		this.addChild(this._tf);
	}

	__proto.setTipInfo=function(value){
		if(value){
			this.text=String(value.tipData);
		}
		else
		this.text="";
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this.graphics.clear();
		this.graphics.drawRect(0,0,this._width,this._height,Kstyle.BACKGROUND);
	}

	__getset(0,__proto,'tipInfo',function(){
		return this.text;
	});

	__getset(0,__proto,'text',function(){
		return this._tf.text;
		},function(value){
		if(value.length >100){
			this._tf.align='left';
			this._tf.wordWrap=true;
			this._tf.text=value;
			this._tf.width=800;
			this._tf.height=this._tf.textHeight+4;
		}
		else{
			this._tf.autoSize='left';
			this._tf.wordWrap=false;
			this._tf.text=value;
		}
		this.size(this._tf.width+2,this._tf.height+4);
	});

	return WautoTip;
})(Wpanel)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Dialog.as=======93.999350/93.999350
/**
*<code>Dialog</code> 组件是一个弹出对话框，实现对话框弹出，拖动，模式窗口功能。
*可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭等
*通过设置zOrder属性，可以更改弹出的层次
*通过设置popupEffect和closeEffect可以设置弹出效果和关闭效果，如果不想有任何弹出关闭效果，可以设置前述属性为空
*
*@example <caption>以下示例代码，创建了一个 <code>Dialog</code> 实例。</caption>
*package
*{
	*import laya.ui.Dialog;
	*import laya.utils.Handler;
	*public class Dialog_Example
	*{
		*private var dialog:Dialog_Instance;
		*public function Dialog_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/btn_close.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*dialog=new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
			*dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
			*dialog.show();//显示 dialog。
			*dialog.closeHandler=new Handler(this,onClose);//设置 dialog 的关闭函数处理器。
			*}
		*private function onClose(name:String):void
		*{
			*if (name==Dialog.CLOSE)
			*{
				*trace("通过点击 name 为"+name+"的组件，关闭了dialog。");
				*}
			*}
		*}
	*}
*import laya.ui.Button;
*import laya.ui.Dialog;
*import laya.ui.Image;
*class Dialog_Instance extends Dialog
*{
	*function Dialog_Instance():void
	*{
		*var bg:Image=new Image("resource/ui/bg.png");
		*bg.sizeGrid="40,10,5,10";
		*bg.width=150;
		*bg.height=250;
		*addChild(bg);
		*var image:Image=new Image("resource/ui/image.png");
		*addChild(image);
		*var button:Button=new Button("resource/ui/btn_close.png");
		*button.name=Dialog.CLOSE;//设置button的name属性值。
		*button.x=0;
		*button.y=0;
		*addChild(button);
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var dialog;
*Laya.loader.load("resource/ui/btn_close.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*(function (_super){//新建一个类Dialog_Instance继承自laya.ui.Dialog。
	*function Dialog_Instance(){
		*Dialog_Instance.__super.call(this);//初始化父类
		*var bg=new laya.ui.Image("resource/ui/bg.png");//新建一个 Image 类的实例 bg 。
		*bg.sizeGrid="10,40,10,5";//设置 bg 的网格信息。
		*bg.width=150;//设置 bg 的宽度。
		*bg.height=250;//设置 bg 的高度。
		*this.addChild(bg);//将 bg 添加到显示列表。
		*var image=new laya.ui.Image("resource/ui/image.png");//新建一个 Image 类的实例 image 。
		*this.addChild(image);//将 image 添加到显示列表。
		*var button=new laya.ui.Button("resource/ui/btn_close.png");//新建一个 Button 类的实例 bg 。
		*button.name=laya.ui.Dialog.CLOSE;//设置 button 的 name 属性值。
		*button.x=0;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
		*button.y=0;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
		*this.addChild(button);//将 button 添加到显示列表。
		*};
	*Laya.class(Dialog_Instance,"mypackage.dialogExample.Dialog_Instance",_super);//注册类Dialog_Instance。
	*})(laya.ui.Dialog);
*function loadComplete(){
	*console.log("资源加载完成！");
	*dialog=new mypackage.dialogExample.Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
	*dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
	*dialog.show();//显示 dialog。
	*dialog.closeHandler=new laya.utils.Handler(this,onClose);//设置 dialog 的关闭函数处理器。
	*}
*function onClose(name){
	*if (name==laya.ui.Dialog.CLOSE){
		*console.log("通过点击 name 为"+name+"的组件，关闭了dialog。");
		*}
	*}
*@example
*import Dialog=laya.ui.Dialog;
*import Handler=laya.utils.Handler;
*class Dialog_Example {
	*private dialog:Dialog_Instance;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/btn_close.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.dialog=new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
		*this.dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
		*this.dialog.show();//显示 dialog。
		*this.dialog.closeHandler=new Handler(this,this.onClose);//设置 dialog 的关闭函数处理器。
		*}
	*private onClose(name:string):void {
		*if (name==Dialog.CLOSE){
			*console.log("通过点击 name 为"+name+"的组件，关闭了dialog。");
			*}
		*}
	*}
*import Button=laya.ui.Button;
*class Dialog_Instance extends Dialog {
	*Dialog_Instance():void {
		*var bg:laya.ui.Image=new laya.ui.Image("resource/ui/bg.png");
		*bg.sizeGrid="40,10,5,10";
		*bg.width=150;
		*bg.height=250;
		*this.addChild(bg);
		*var image:laya.ui.Image=new laya.ui.Image("resource/ui/image.png");
		*this.addChild(image);
		*var button:Button=new Button("resource/ui/btn_close.png");
		*button.name=Dialog.CLOSE;//设置button的name属性值。
		*button.x=0;
		*button.y=0;
		*this.addChild(button);
		*}
	*}
*/
//class laya.ui.Dialog extends laya.ui.View
var Dialog=(function(_super){
	function Dialog(){
		/**
		*一个布尔值，指定对话框是否居中弹。
		*<p>如果值为true，则居中弹出，否则，则根据对象坐标显示，默认为true。</p>
		*/
		this.popupCenter=true;
		/**
		*对话框被关闭时会触发的回调函数处理器。
		*<p>回调函数参数为用户点击的按钮名字name:String。</p>
		*/
		this.closeHandler=null;
		/**
		*弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null
		*全局默认弹出效果可以通过manager.popupEffect修改
		*/
		this.popupEffect=null;
		/**
		*关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null
		*全局默认关闭效果可以通过manager.closeEffect修改
		*/
		this.closeEffect=null;
		/**组名称*/
		this.group=null;
		/**是否是模式窗口*/
		this.isModal=false;
		/**@private */
		this._dragArea=null;
		Dialog.__super.call(this);
	}

	__class(Dialog,'laya.ui.Dialog',_super);
	var __proto=Dialog.prototype;
	/**@inheritDoc */
	__proto.initialize=function(){
		this.popupEffect=Dialog.manager.popupEffectHandler;
		this.closeEffect=Dialog.manager.closeEffectHandler;
		this._dealDragArea();
		this.on("click",this,this._onClick);
	}

	/**@private */
	__proto._dealDragArea=function(){
		var dragTarget=this.getChildByName("drag");
		if (dragTarget){
			this.dragArea=dragTarget._x+","+dragTarget._y+","+dragTarget.width+","+dragTarget.height;
			dragTarget.removeSelf();
		}
	}

	/**
	*@private (protected)
	*对象的 <code>Event.CLICK</code> 点击事件侦听处理函数。
	*/
	__proto._onClick=function(e){
		var btn=e.target;
		if (btn){
			switch (btn.name){
				case "close":
				case "cancel":
				case "sure":
				case "no":
				case "ok":
				case "yes":
					this.close(btn.name);
					break ;
				}
		}
	}

	/**
	*显示对话框（以非模式窗口方式显示）。
	*@param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.show=function(closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=true);
		this._open(false,closeOther,showEffect);
	}

	/**
	*显示对话框（以模式窗口方式显示）。
	*@param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.popup=function(closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=true);
		this._open(true,closeOther,showEffect);
	}

	/**@private */
	__proto._open=function(modal,closeOther,showEffect){
		Dialog.manager.lock(false);
		this.isModal=modal;
		Dialog.manager.open(this,closeOther,showEffect);
	}

	/**打开完成后，调用此方法（如果有弹出动画，则在动画完成后执行）*/
	__proto.onOpened=function(){}
	/**
	*关闭对话框。
	*@param type 如果是点击默认关闭按钮触发，则传入关闭按钮的名字(name)，否则为null。
	*@param showEffect 是否显示关闭效果
	*/
	__proto.close=function(type,showEffect){
		(showEffect===void 0)&& (showEffect=true);
		Dialog.manager.close(this,type,showEffect);
	}

	/**关闭完成后，调用此方法（如果有关闭动画，则在动画完成后执行）
	*@param type 如果是点击默认关闭按钮触发，则传入关闭按钮的名字(name)，否则为null。
	*/
	__proto.onClosed=function(type){}
	/**@private */
	__proto._onMouseDown=function(e){
		var point=this.getMousePoint();
		if (this._dragArea.contains(point.x,point.y))this.startDrag();
		else this.stopDrag();
	}

	/**
	*用来指定对话框的拖拽区域。默认值为"0,0,0,0"。
	*<p><b>格式：</b>构成一个矩形所需的 x,y,width,heith 值，用逗号连接为字符串。
	*例如："0,0,100,200"。
	*</p>
	*
	*@see #includeExamplesSummary 请参考示例
	*/
	__getset(0,__proto,'dragArea',function(){
		if (this._dragArea)return this._dragArea.toString();
		return null;
		},function(value){
		if (value){
			var a=UIUtils.fillArray([0,0,0,0],value,Number);
			this._dragArea=new Rectangle(a[0],a[1],a[2],a[3]);
			this.on("mousedown",this,this._onMouseDown);
			}else {
			this._dragArea=null;
			this.off("mousedown",this,this._onMouseDown);
		}
	});

	/**
	*弹出框的显示状态；如果弹框处于显示中，则为true，否则为false;
	*/
	__getset(0,__proto,'isPopup',function(){
		return this.parent !=null;
	});

	__getset(0,__proto,'zOrder',_super.prototype._$get_zOrder,function(value){
		Laya.superSet(View,this,'zOrder',value);
		Dialog.manager._checkMask();
	});

	/**对话框管理容器，所有的对话框都在该容器内，并且受管理器管，可以自定义自己的管理器，来更改窗口管理的流程。
	*任意对话框打开和关闭，都会触发管理类的open和close事件*/
	__getset(1,Dialog,'manager',function(){
		return Dialog._manager=Dialog._manager|| new DialogManager();
		},function(value){
		Dialog._manager=value;
	});

	Dialog.setLockView=function(view){
		Dialog.manager.setLockView(view);
	}

	Dialog.lock=function(value){
		Dialog.manager.lock(value);
	}

	Dialog.closeAll=function(){
		Dialog.manager.closeAll();
	}

	Dialog.getDialogsByGroup=function(group){
		return Dialog.manager.getDialogsByGroup(group);
	}

	Dialog.closeByGroup=function(group){
		return Dialog.manager.closeByGroup(group);
	}

	Dialog.CLOSE="close";
	Dialog.CANCEL="cancel";
	Dialog.SURE="sure";
	Dialog.NO="no";
	Dialog.OK="ok";
	Dialog.YES="yes";
	Dialog._manager=null;
	return Dialog;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/battle/BattleViewUI.as=======93.999282/93.999282
//class ui.battle.BattleViewUI extends laya.ui.View
var BattleViewUI=(function(_super){
	function BattleViewUI(){
		this.showAni=null;
		this.hideAni=null;
		this.hpsmall=null;
		this.aimBg=null;
		this.rightArea=null;
		this.box_sansha=null;
		this.head01=null;
		this.head02=null;
		this.img_baotou=null;
		this.name02=null;
		this.name01=null;
		this.txt_multiKill=null;
		this.txt_yiXue=null;
		this.txt_fuchou=null;
		this.shouleiBtn=null;
		this.changeBtn=null;
		this.downBtn=null;
		this.fireBtn=null;
		this.bg_slk=null;
		this.btn_sl=null;
		this.qiang1=null;
		this.qiang2=null;
		this.huanqiangBtn=null;
		this.box_fight=null;
		this.pro_hp=null;
		this.txt_baotou=null;
		this.txt_dead=null;
		this.txt_killNum=null;
		this.txt_blueskill=null;
		this.txt_redskill=null;
		this.txt_daojishi=null;
		this.hpSmallImg=null;
		this.rightBtn=null;
		this.leftBtn=null;
		BattleViewUI.__super.call(this);
	}

	__class(BattleViewUI,'ui.battle.BattleViewUI',_super);
	var __proto=BattleViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(BattleViewUI.uiView);
	}

	BattleViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"bottom":0},"child":[{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Image","props":{"y":360,"x":640,"var":"aimBg","top":0,"skin":"battle/aimBG2.png","right":0,"left":0,"bottom":0,"anchorY":0.5,"anchorX":0.5}},{"type":"Sprite","props":{"y":0,"x":0,"width":1280,"var":"rightArea","height":720}},{"type":"Box","props":{"x":60,"width":205,"height":202,"bottom":60},"child":[{"type":"Image","props":{"visible":false,"skin":"shooting/130.png","alpha":0.4}},{"type":"Image","props":{"y":23,"x":101,"visible":false,"skin":"shooting/129.png","scaleY":0.4,"scaleX":0.4,"anchorY":0.5,"anchorX":0.5}},{"type":"Image","props":{"y":177,"x":101,"visible":false,"skin":"shooting/129.png","scaleY":0.4,"scaleX":0.4,"rotation":180,"anchorY":0.5,"anchorX":0.5}}]},{"type":"Box","props":{"y":150,"width":466,"visible":false,"var":"box_sansha","height":167,"centerX":1},"child":[{"type":"Box","props":{"y":0,"x":-29,"alpha":1},"compId":79,"child":[{"type":"Image","props":{"x":66,"width":385,"skin":"shooting/bg_sha.png","sizeGrid":"0,0,67,0","height":143}},{"type":"Image","props":{"y":116,"x":29,"width":461,"skin":"shooting/bg_sansha.png","height":44}},{"type":"Image","props":{"y":15,"x":83,"width":56,"var":"head01","skin":"shooting/101.png","height":56}},{"type":"Image","props":{"y":15,"x":374,"width":56,"var":"head02","skin":"shooting/101.png","height":56}},{"type":"Image","props":{"y":43,"x":310,"width":108,"skin":"shooting/136.png","scaleX":-1,"rotation":12,"height":42}},{"type":"Image","props":{"y":25,"x":320,"width":42,"var":"img_baotou","skin":"shooting/icon_baotou.png","height":45}},{"type":"Text","props":{"y":77,"x":326,"width":113,"var":"name02","height":16,"fontSize":12,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"right"}},{"type":"Text","props":{"y":77,"x":76,"width":113,"var":"name01","height":16,"fontSize":12,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"left"}},{"type":"Text","props":{"y":117,"width":514,"var":"txt_multiKill","strokeColor":"#f8a30d","stroke":2,"height":38,"fontSize":26,"font":"Microsoft YaHei","color":"#f8dfea","bold":false,"align":"center"}},{"type":"Text","props":{"y":-7,"x":392,"width":48,"var":"txt_yiXue","strokeColor":"#f80c7d","stroke":2,"height":36,"fontSize":20,"font":"Microsoft YaHei","color":"#e2b1c7","bold":false,"align":"right"}},{"type":"Text","props":{"y":-7,"x":448,"width":43,"var":"txt_fuchou","strokeColor":"#f80c7d","stroke":2,"height":36,"fontSize":20,"font":"Microsoft YaHei","color":"#e2b1c7","bold":false,"align":"right"}}]},{"type":"Image","props":{"y":88,"x":227,"visible":false,"skin":"shooting/show_3.png","scaleY":2,"scaleX":2,"name":"show","anchorY":0.5,"anchorX":0.5,"alpha":0},"compId":80},{"type":"Image","props":{"y":33,"x":-13,"visible":false,"skin":"shooting/hide_5.png","name":"hide","alpha":0},"compId":81}]},{"type":"Box","props":{"width":400,"right":20,"height":268,"bottom":10},"child":[{"type":"Box","props":{"y":164,"x":282,"width":112,"var":"shouleiBtn","height":112},"child":[{"type":"Image","props":{"y":10,"x":10,"width":300,"skin":"shooting/135.png","scaleY":0.3,"scaleX":0.3,"height":300}}]},{"type":"Box","props":{"y":162,"x":-10,"width":112,"var":"changeBtn","height":112},"child":[{"type":"Image","props":{"y":13,"x":10,"width":300,"skin":"shooting/132.png","scaleY":0.3,"scaleX":0.3,"height":300}}]},{"type":"Box","props":{"y":4,"x":141,"width":112,"var":"downBtn","height":112},"child":[{"type":"Image","props":{"y":12,"x":11,"width":300,"skin":"shooting/133.png","scaleY":0.3,"scaleX":0.3,"height":300}}]},{"type":"Box","props":{"y":100,"x":105,"width":180,"var":"fireBtn","height":180},"child":[{"type":"Image","props":{"y":20,"x":20,"skin":"shooting/134.png","scaleY":0.4,"scaleX":0.4}}]},{"type":"Box","props":{"y":-146,"x":286,"width":105,"height":309},"child":[{"type":"Image","props":{"y":272,"x":50.5,"width":101,"visible":false,"var":"bg_slk","skin":"shooting/bg_shangla.png","scaleY":1,"height":272,"anchorY":1,"anchorX":0.5}},{"type":"Box","props":{"y":270,"x":2,"width":97,"var":"btn_sl","height":63},"child":[{"type":"Image","props":{"y":0,"x":15.5,"width":68,"visible":false,"skin":"shooting/114.png","height":38,"alpha":0.4}},{"type":"Image","props":{"y":20,"x":50.5,"width":27,"visible":false,"skin":"shooting/128.png","rotation":90,"height":43,"anchorY":0.5,"anchorX":0.5}}]}]}]},{"type":"Box","props":{"y":0,"right":0},"child":[{"type":"Image","props":{"y":0,"x":0,"width":208,"skin":"shooting/bg_12.png","height":61}},{"type":"Image","props":{"y":70,"x":47,"width":161,"skin":"shooting/bg_12.png","height":61}},{"type":"Image","props":{"y":73,"x":93,"width":104,"var":"qiang1","skin":"shooting/137.png","height":49}},{"type":"Image","props":{"y":12,"x":13,"width":167,"var":"qiang2","skin":"shooting/136.png","height":36}},{"type":"Box","props":{"y":1,"x":0,"width":211,"var":"huanqiangBtn","height":128},"child":[{"type":"Image","props":{"y":27,"x":86,"width":170,"skin":"shooting/icon_huan.png","scaleY":0.4,"scaleX":0.4,"height":171}}]}]},{"type":"Box","props":{"y":0,"x":0,"var":"box_fight"},"child":[{"type":"Image","props":{"width":252,"top":0,"skin":"shooting/114.png","left":0,"height":67,"alpha":0.4}},{"type":"Image","props":{"width":540,"top":0,"skin":"shooting/bg_12.png","scaleX":-1,"left":795,"height":89}},{"type":"Image","props":{"y":16,"x":265,"skin":"shooting/122.png"}},{"type":"Image","props":{"y":16,"x":356,"skin":"shooting/121.png"}},{"type":"Image","props":{"y":16,"x":430,"skin":"shooting/120.png"}},{"type":"Image","props":{"y":25,"x":68,"width":165,"var":"pro_hp","skin":"shooting/101.png","height":11}},{"type":"Image","props":{"y":23,"x":66,"width":169,"skin":"shooting/bg_bar.png","sizeGrid":"5,5,5,5","height":15}},{"type":"Text","props":{"y":25,"x":309,"width":50,"var":"txt_baotou","valign":"middle","text":"0","height":28,"fontSize":30,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":25,"x":398,"width":50,"var":"txt_dead","text":"0","height":28,"fontSize":30,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":25,"x":474,"width":50,"var":"txt_killNum","text":"0","height":28,"fontSize":30,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":3,"x":566,"width":50,"var":"txt_blueskill","text":"0","height":35,"fontSize":38,"color":"#497fe0","bold":false,"align":"center"}},{"type":"Text","props":{"y":7,"x":633,"width":50,"text":"VS","height":35,"fontSize":28,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":3,"x":692,"width":50,"var":"txt_redskill","text":"0","height":35,"fontSize":38,"color":"#fd035d","bold":false,"align":"center"}},{"type":"Text","props":{"y":42,"x":599,"width":117,"var":"txt_daojishi","text":"10:00","height":35,"fontSize":36,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":14,"x":11,"width":50,"text":"HP","height":35,"fontSize":30,"color":"#FFFFFF","bold":true,"align":"center"}}]},{"type":"Image","props":{"var":"hpSmallImg","top":0,"skin":"shooting/hp_small.png","sizeGrid":"80,80,80,80","right":0,"left":0,"bottom":0},"compId":83},{"type":"Box","props":{"y":237,"x":1191,"width":80,"var":"rightBtn","height":180},"child":[{"type":"Image","props":{"y":87.60000054125692,"width":388,"skin":"shooting/129.png","scaleY":0.4,"scaleX":0.4,"rotation":90,"right":-50,"anchorY":0.5,"anchorX":0.5}}]},{"type":"Box","props":{"y":237,"x":37,"width":80,"var":"leftBtn","height":180},"child":[{"type":"Image","props":{"y":87.6000016237706,"x":40.20000623785231,"width":388,"skin":"shooting/129.png","scaleY":0.4,"scaleX":0.4,"rotation":270,"anchorY":0.5,"anchorX":0.5}}]}]}],"animations":[{"nodes":[{"target":80,"keyframes":{"y":[{"value":88,"tweenMethod":"linearNone","tween":true,"target":80,"key":"y","index":0}],"x":[{"value":227,"tweenMethod":"linearNone","tween":true,"target":80,"key":"x","index":0}],"visible":[{"value":true,"tweenMethod":"linearNone","tween":false,"target":80,"key":"visible","index":0}],"skin":[{"value":"shooting/show_1.png","tweenMethod":"linearNone","tween":false,"target":80,"key":"skin","index":0},{"value":"shooting/show_2.png","tweenMethod":"linearNone","tween":false,"target":80,"key":"skin","index":1},{"value":"shooting/show_3.png","tweenMethod":"linearNone","tween":false,"target":80,"key":"skin","index":2}],"scaleY":[{"value":2,"tweenMethod":"linearNone","tween":true,"target":80,"key":"scaleY","index":0}],"scaleX":[{"value":2,"tweenMethod":"linearNone","tween":true,"target":80,"key":"scaleX","index":0}],"anchorY":[{"value":0.5,"tweenMethod":"linearNone","tween":true,"target":80,"key":"anchorY","index":0}],"anchorX":[{"value":0.5,"tweenMethod":"linearNone","tween":true,"target":80,"key":"anchorX","index":0}],"alpha":[{"value":1,"tweenMethod":"linearNone","tween":true,"target":80,"key":"alpha","index":0},{"value":0,"tweenMethod":"linearNone","tween":true,"target":80,"key":"alpha","index":3}]}},{"target":79,"keyframes":{"alpha":[{"value":0,"tweenMethod":"linearNone","tween":true,"target":79,"key":"alpha","index":0},{"value":0,"tweenMethod":"linearNone","tween":true,"target":79,"label":null,"key":"alpha","index":2},{"value":1,"tweenMethod":"linearNone","tween":true,"target":79,"key":"alpha","index":4}]}}],"name":"showAni","id":1,"frameRate":12,"action":0},{"nodes":[{"target":81,"keyframes":{"visible":[{"value":true,"tweenMethod":"linearNone","tween":false,"target":81,"key":"visible","index":0},{"value":true,"tweenMethod":"linearNone","tween":false,"target":81,"key":"visible","index":5}],"skin":[{"value":"shooting/hide_1.png","tweenMethod":"linearNone","tween":false,"target":81,"key":"skin","index":0},{"value":"shooting/hide_2.png","tweenMethod":"linearNone","tween":false,"target":81,"key":"skin","index":1},{"value":"shooting/hide_3.png","tweenMethod":"linearNone","tween":false,"target":81,"key":"skin","index":2},{"value":"shooting/hide_4.png","tweenMethod":"linearNone","tween":false,"target":81,"key":"skin","index":3},{"value":"shooting/hide_5.png","tweenMethod":"linearNone","tween":false,"target":81,"key":"skin","index":4}],"alpha":[{"value":1,"tweenMethod":"linearNone","tween":true,"target":81,"key":"alpha","index":0},{"value":0,"tweenMethod":"linearNone","tween":true,"target":81,"key":"alpha","index":5}]}},{"target":79,"keyframes":{"alpha":[{"value":1,"tweenMethod":"linearNone","tween":true,"target":79,"key":"alpha","index":0},{"value":0,"tweenMethod":"linearNone","tween":true,"target":79,"key":"alpha","index":5}]}}],"name":"hideAni","id":2,"frameRate":12,"action":0},{"nodes":[{"target":83,"keyframes":{"alpha":[{"value":1,"tweenMethod":"linearNone","tween":true,"target":83,"key":"alpha","index":0},{"value":0,"tweenMethod":"linearNone","tween":true,"target":83,"key":"alpha","index":10},{"value":1,"tweenMethod":"linearNone","tween":true,"target":83,"key":"alpha","index":20}]}}],"name":"hpsmall","id":3,"frameRate":24,"action":0}]};
	return BattleViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/battle/CrossAimUI.as=======93.999281/93.999281
//class ui.battle.CrossAimUI extends laya.ui.View
var CrossAimUI=(function(_super){
	function CrossAimUI(){
		this.upIcon=null;
		this.downIcon=null;
		this.rightIcon=null;
		this.leftIcon=null;
		this.smallCircle=null;
		this.bigCircle=null;
		CrossAimUI.__super.call(this);
	}

	__class(CrossAimUI,'ui.battle.CrossAimUI',_super);
	var __proto=CrossAimUI.prototype;
	__proto.createChildren=function(){
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(CrossAimUI.uiView);
	}

	CrossAimUI.uiView={"type":"View","props":{"width":400,"height":400},"child":[{"type":"Box","props":{"width":57,"height":69,"centerY":0.5,"centerX":0.5},"child":[{"type":"Image","props":{"y":6,"x":26,"var":"upIcon","skin":"battle/cross.png","scaleY":0.2,"scaleX":0.2}},{"type":"Image","props":{"y":63,"x":31,"var":"downIcon","skin":"battle/cross.png","scaleY":0.2,"scaleX":0.2,"rotation":180}},{"type":"Image","props":{"y":32,"x":59,"var":"rightIcon","skin":"battle/cross.png","scaleY":0.2,"scaleX":0.2,"rotation":90}},{"type":"Image","props":{"y":37,"x":-2,"var":"leftIcon","skin":"battle/cross.png","scaleY":0.2,"scaleX":0.2,"rotation":-90}},{"type":"Image","props":{"y":35,"x":28,"var":"smallCircle","skin":"battle/smallCircle.png","scaleY":0.2,"scaleX":0.2,"anchorY":0.5,"anchorX":0.5}},{"type":"Image","props":{"y":-16,"x":-23,"var":"bigCircle","skin":"battle/bigCircle.png","scaleY":0.4,"scaleX":0.4}}]}]};
	return CrossAimUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/component/ItemUI.as=======93.999278/93.999278
//class ui.component.ItemUI extends laya.ui.View
var ItemUI=(function(_super){
	function ItemUI(){
		ItemUI.__super.call(this);;
	}

	__class(ItemUI,'ui.component.ItemUI',_super);
	var __proto=ItemUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		View.regComponent("gameUIViews.component.TipsComponent",TipsComponent);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(ItemUI.uiView);
	}

	ItemUI.uiView={"type":"View","props":{"width":110,"height":150,"itemId":"${itemId}","ItemId":"${id}"},"child":[{"type":"Image","props":{"y":0,"x":0,"width":110,"skin":"comp/blank.png","sizeGrid":"1,1,1,1","height":150}},{"type":"Image","props":{"y":0,"x":0,"width":110,"height":110,"skin":"${quality}","ItemId":"${id}"}},{"type":"Image","props":{"y":5,"x":5,"width":100,"height":100,"skin":"${skin}"}},{"type":"Label","props":{"y":111,"x":1,"width":108,"height":30,"fontSize":30,"color":"#dbec19","align":"center","text":"${name}"}},{"type":"Text","props":{"y":84,"x":8,"width":95,"height":20,"fontSize":20,"color":"#ead915","align":"right","text":"${num}"}},{"type":"Script","props":{"dbName":"Item","runtime":"gameUIViews.component.TipsComponent","layoutType":"${tipsType}","id":"${itemId}"}}]};
	return ItemUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_bag/BagViewUI.as=======93.999268/93.999268
//class ui.s_bag.BagViewUI extends laya.ui.View
var BagViewUI$1=(function(_super){
	function BagViewUI(){
		this.txt_nickName=null;
		this.img_myhead=null;
		this.btn_back=null;
		this.mytab=null;
		this.mystack=null;
		BagViewUI.__super.call(this);
	}

	__class(BagViewUI,'ui.s_bag.BagViewUI',_super,'BagViewUI$1');
	var __proto=BagViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(BagViewUI.uiView);
	}

	BagViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"cacheAsBitmap":true,"bottom":0},"child":[{"type":"Image","props":{"top":0,"skin":"shooting/6.jpg","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Box","props":{"x":0,"width":270,"height":530,"centerY":-9},"child":[{"type":"Image","props":{"y":0,"width":274,"skin":"shooting/116.png","sizeGrid":"36,45,55,0","left":0,"height":535}},{"type":"Image","props":{"y":4,"x":225,"width":45,"skin":"shooting/114.png","height":526},"child":[{"type":"Sprite","props":{"y":70,"x":-1},"child":[{"type":"Rect","props":{"y":280,"width":46,"lineWidth":1,"height":96,"fillColor":"#494646"}},{"type":"Rect","props":{"width":46,"lineWidth":1,"height":304,"fillColor":"#f6f4f4"}}]},{"type":"Text","props":{"y":8,"x":8,"width":34,"text":"1","height":56,"fontSize":50,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":379,"x":7,"width":34,"text":"3","height":56,"fontSize":50,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":190,"x":7,"width":34,"text":"2","height":56,"fontSize":50,"color":"#000000","bold":false}}]},{"type":"Image","props":{"y":418,"width":114,"skin":"shooting/105.png","rotation":90,"left":110,"height":5}},{"type":"Image","props":{"y":437,"x":26,"width":58,"skin":"shooting/icon_lei.png","height":71}},{"type":"List","props":{"y":17,"x":0,"spaceY":25,"repeatY":4},"child":[{"type":"Box","props":{"renderType":"render"},"child":[{"type":"Image","props":{"y":-4,"x":6,"width":126,"skin":"shooting/136.png","height":48}},{"type":"Image","props":{"y":77,"width":220,"skin":"shooting/105.png","left":0,"height":5}},{"type":"ProgressBar","props":{"x":0,"width":151,"skin":"shooting/progress_2.png","sizeGrid":"6,5,6,5","height":12,"centerY":22}},{"type":"Text","props":{"y":42,"x":169,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":40,"x":201,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]},{"type":"Image","props":{"y":437,"x":144,"width":58,"skin":"shooting/icon_lei.png","height":71}}]},{"type":"Box","props":{"y":1,"right":20},"child":[{"type":"Image","props":{"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"x":172,"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"y":5,"x":20,"skin":"shooting/108.png"}},{"type":"Image","props":{"y":5,"x":192,"skin":"shooting/109.png"}},{"type":"Text","props":{"y":16,"x":70,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":16,"x":240,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}}]},{"type":"Box","props":{"x":30,"width":340,"height":89,"bottom":2},"child":[{"type":"Text","props":{"y":30,"x":166,"width":93,"var":"txt_nickName","text":"隔壁的老王","height":24,"fontSize":16,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":74,"x":166,"text":"lv.00","fontSize":14,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":74,"x":245,"text":"0/0  EXP","fontSize":14,"color":"#FFFFFF","bold":false}},{"type":"ProgressBar","props":{"y":54,"x":163,"width":197,"skin":"shooting/progress_1.png","sizeGrid":"6,5,6,5","height":16}},{"type":"Image","props":{"y":53,"x":259,"width":7,"skin":"loading/102.png","height":19}},{"type":"Image","props":{"y":21,"x":78,"width":64,"var":"img_myhead","skin":"shooting/115.png","height":64}},{"type":"Image","props":{"y":11,"x":-109,"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":87}},{"type":"Image","props":{"y":33,"x":-2,"skin":"shooting/icon_duanwei.png"}}]},{"type":"Image","props":{"top":100,"skin":"shooting/icon_arrow.png","left":290}},{"type":"Box","props":{"y":-7,"x":10},"child":[{"type":"Image","props":{"y":13,"x":52,"width":131,"skin":"shooting/bg_roomlist.png","sizeGrid":"10,30,10,30","height":49,"alpha":0.3}},{"type":"Text","props":{"y":17,"x":69,"width":97,"valign":"middle","text":"背包","height":41,"fontSize":26,"font":"Arial","color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Box","props":{"y":12,"x":0,"width":70,"var":"btn_back","height":52},"child":[{"type":"Image","props":{"skin":"shooting/128.png"}}]}]},{"type":"Box","props":{"width":638,"right":-5,"height":590,"centerY":-2},"child":[{"type":"Image","props":{"y":0,"x":10,"width":55,"skin":"shooting/114.png","height":586},"child":[{"type":"Sprite","props":{"y":0,"x":-1},"child":[{"type":"Rect","props":{"x":1,"width":55,"lineWidth":1,"height":96,"fillColor":"#6e6a6a"}},{"type":"Rect","props":{"y":79,"width":55,"lineWidth":1,"height":200,"fillColor":"#f6f4f4"}},{"type":"Rect","props":{"y":257,"width":55,"lineWidth":1,"height":200,"fillColor":"#494646"}},{"type":"Image","props":{"y":20,"x":10,"width":37,"skin":"shooting/icon_X.png","height":42}}]},{"type":"Image","props":{"y":107,"x":7,"skin":"shooting/icon_bag.png"}},{"type":"Image","props":{"y":289,"x":12,"skin":"shooting/icon_ren.png"}},{"type":"Text","props":{"y":155,"x":13,"wordWrap":true,"width":25,"text":"背包","leading":15,"height":97,"fontSize":24,"font":"Microsoft YaHei","color":"#000000","bold":true}},{"type":"Text","props":{"y":342,"x":14,"wordWrap":true,"width":25,"text":"角色","leading":15,"height":97,"fontSize":24,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true}}]},{"type":"Tab","props":{"y":0,"x":73,"width":557,"var":"mytab","selectedIndex":0,"height":50},"child":[{"type":"Button","props":{"width":80,"stateNum":2,"skin":"shooting/btn_tab.png","name":"item0","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"全部","height":50}},{"type":"Button","props":{"x":80,"width":110,"stateNum":2,"skin":"shooting/btn_tab.png","name":"item1","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"狙击枪","height":50}},{"type":"Button","props":{"x":190,"width":106,"stateNum":2,"skin":"shooting/btn_tab.png","name":"item2","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"连狙枪","height":50}},{"type":"Button","props":{"x":296,"width":106,"stateNum":2,"skin":"shooting/btn_tab.png","name":"item3","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"突击枪","height":50}},{"type":"Button","props":{"x":402,"width":106,"stateNum":2,"skin":"shooting/btn_tab.png","name":"item4","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"重机枪","height":50}}]},{"type":"ViewStack","props":{"y":62,"x":73,"width":558,"var":"mystack","height":518},"child":[{"type":"List","props":{"width":555,"spaceY":20,"spaceX":15,"repeatY":3,"repeatX":2,"name":"item0","height":518},"child":[{"type":"Box","props":{"y":0,"x":0,"width":270,"renderType":"render","height":156},"child":[{"type":"Image","props":{"width":270,"skin":"shooting/114.png","height":156,"alpha":0.5}},{"type":"Image","props":{"y":7,"x":234,"width":29,"skin":"shooting/icon_yes.png","height":31}},{"type":"Image","props":{"skin":"shooting/137.png","centerY":0.5,"centerX":0.5}},{"type":"Image","props":{"y":-2,"x":-2,"width":275,"skin":"shooting/kuang.png","sizeGrid":"6,6,6,6","height":160}},{"type":"Text","props":{"y":8,"x":10,"wordWrap":true,"width":69,"text":"M40A1 0/0","height":47,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":116,"x":214,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":131,"x":249,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]},{"type":"List","props":{"width":555,"spaceY":20,"spaceX":15,"repeatY":3,"repeatX":2,"name":"item1","height":518},"child":[{"type":"Box","props":{"y":0,"x":0,"width":270,"renderType":"render","height":156},"child":[{"type":"Image","props":{"width":270,"skin":"shooting/114.png","height":156,"alpha":0.5}},{"type":"Image","props":{"y":7,"x":234,"width":29,"skin":"shooting/icon_yes.png","height":31}},{"type":"Image","props":{"skin":"shooting/136.png","centerY":0.5,"centerX":0.5}},{"type":"Image","props":{"y":-2,"x":-2,"width":275,"skin":"shooting/kuang.png","sizeGrid":"6,6,6,6","height":160}},{"type":"Text","props":{"y":8,"x":10,"wordWrap":true,"width":69,"text":"M40A1 0/0","height":47,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":116,"x":214,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":131,"x":249,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]},{"type":"List","props":{"width":555,"spaceY":20,"spaceX":15,"repeatY":3,"repeatX":2,"name":"item2","height":518},"child":[{"type":"Box","props":{"y":0,"x":0,"width":270,"renderType":"render","height":156},"child":[{"type":"Image","props":{"width":270,"skin":"shooting/114.png","height":156,"alpha":0.5}},{"type":"Image","props":{"y":7,"x":234,"width":29,"skin":"shooting/icon_yes.png","height":31}},{"type":"Image","props":{"skin":"shooting/137.png","centerY":0.5,"centerX":0.5}},{"type":"Image","props":{"y":-2,"x":-2,"width":275,"skin":"shooting/kuang.png","sizeGrid":"6,6,6,6","height":160}},{"type":"Text","props":{"y":8,"x":10,"wordWrap":true,"width":69,"text":"M40A1 0/0","height":47,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":116,"x":214,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":131,"x":249,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]},{"type":"List","props":{"width":555,"spaceY":20,"spaceX":15,"repeatY":3,"repeatX":2,"name":"item3","height":518},"child":[{"type":"Box","props":{"y":0,"x":0,"width":270,"renderType":"render","height":156},"child":[{"type":"Image","props":{"width":270,"skin":"shooting/114.png","height":156,"alpha":0.5}},{"type":"Image","props":{"y":7,"x":234,"width":29,"skin":"shooting/icon_yes.png","height":31}},{"type":"Image","props":{"skin":"shooting/136.png","centerY":0.5,"centerX":0.5}},{"type":"Image","props":{"y":-2,"x":-2,"width":275,"skin":"shooting/kuang.png","sizeGrid":"6,6,6,6","height":160}},{"type":"Text","props":{"y":8,"x":10,"wordWrap":true,"width":69,"text":"M40A1 0/0","height":47,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":116,"x":214,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":131,"x":249,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]},{"type":"List","props":{"width":555,"spaceY":20,"spaceX":15,"repeatY":3,"repeatX":2,"name":"item4","height":518},"child":[{"type":"Box","props":{"y":0,"x":0,"width":270,"renderType":"render","height":156},"child":[{"type":"Image","props":{"y":7,"x":234,"width":29,"skin":"shooting/icon_yes.png","height":31}},{"type":"Image","props":{"width":270,"skin":"shooting/114.png","height":156,"alpha":0.5}},{"type":"Image","props":{"skin":"shooting/137.png","centerY":0.5,"centerX":0.5}},{"type":"Image","props":{"y":-2,"x":-2,"width":275,"skin":"shooting/kuang.png","sizeGrid":"6,6,6,6","height":160}},{"type":"Text","props":{"y":8,"x":10,"wordWrap":true,"width":69,"text":"M40A1 0/0","height":47,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":116,"x":214,"text":"0","fontSize":30,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":131,"x":249,"text":"%","fontSize":15,"color":"#FFFFFF","bold":false}}]}]}]}]}]}]};
	return BagViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_hall/HallUI.as=======93.999267/93.999267
//class ui.s_hall.HallUI extends laya.ui.View
var HallUI=(function(_super){
	function HallUI(){
		this.model=null;
		this.txt_roomId=null;
		this.btn_local=null;
		this.btn_autoMatch=null;
		this.btn_pk=null;
		this.btn_email=null;
		this.btn_bag=null;
		this.img_myhead=null;
		this.txt_nickName=null;
		HallUI.__super.call(this);
	}

	__class(HallUI,'ui.s_hall.HallUI',_super);
	var __proto=HallUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(HallUI.uiView);
	}

	HallUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"cacheAsBitmap":true,"bottom":0},"child":[{"type":"Image","props":{"top":0,"skin":"shooting/6.png","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Image","props":{"width":371,"var":"model","skin":"comp/blank.png","height":496,"centerY":1,"centerX":-297}},{"type":"Image","props":{"x":0,"width":1280,"skin":"comp/blank.png","height":74,"bottom":-1}},{"type":"Image","props":{"y":0,"x":0,"width":1285,"skin":"comp/blank.png","height":74}},{"type":"Image","props":{"width":425,"skin":"shooting/bg_roomlist.png","right":30,"height":51,"bottom":13},"child":[{"type":"TextInput","props":{"y":10,"x":47,"width":479,"var":"txt_roomId","promptColor":"#FFFFFF","prompt":"请输入roomID，加入房间，否则创建房间","height":30,"fontSize":18,"color":"#FFFFFF"}}]},{"type":"Box","props":{"x":-1,"centerY":-9},"child":[{"type":"Image","props":{"width":147,"skin":"shooting/116.png","sizeGrid":"36,45,55,0","height":424}},{"type":"List","props":{"y":25,"x":15,"spaceY":25,"repeatY":4},"child":[{"type":"Box","props":{"renderType":"render"},"child":[{"type":"Image","props":{"x":48,"skin":"shooting/115.png"}},{"type":"Image","props":{"y":17,"skin":"shooting/113.png"}},{"type":"Text","props":{"y":18,"x":8,"width":19,"valign":"middle","text":"1","strokeColor":"#534e4e","stroke":3,"height":23,"fontSize":24,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"center"}}]}]}]},{"type":"Box","props":{"right":30,"centerY":-16},"child":[{"type":"Image","props":{"y":176,"x":472,"var":"btn_local","skin":"shooting/5.jpg"}},{"type":"Image","props":{"x":472,"var":"btn_autoMatch","skin":"shooting/4.jpg"}},{"type":"Image","props":{"y":276,"x":1,"skin":"shooting/3.jpg"}},{"type":"Image","props":{"var":"btn_pk","skin":"shooting/2.jpg"}},{"type":"Image","props":{"y":312,"x":215,"skin":"shooting/103.png"}}]},{"type":"Box","props":{"y":3,"x":35},"child":[{"type":"Image","props":{"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"x":172,"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"y":5,"x":20,"skin":"shooting/108.png"}},{"type":"Image","props":{"y":5,"x":192,"skin":"shooting/109.png"}},{"type":"Text","props":{"y":16,"x":70,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":16,"x":240,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}}]},{"type":"Box","props":{"y":0,"right":20},"child":[{"type":"Image","props":{"y":5,"x":405,"skin":"shooting/110.png"}},{"type":"Image","props":{"y":6,"x":20,"var":"btn_email","skin":"shooting/106.png"}},{"type":"Image","props":{"y":6,"x":219,"var":"btn_bag","skin":"shooting/107.png"}},{"type":"Image","props":{"width":3,"skin":"shooting/105.png","height":60}},{"type":"Image","props":{"x":190,"width":3,"skin":"shooting/105.png","height":60}},{"type":"Image","props":{"x":350,"width":3,"skin":"shooting/105.png","height":60}},{"type":"Image","props":{"y":13,"x":56,"skin":"shooting/cir.png","scaleY":0.5,"scaleX":0.5}},{"type":"Text","props":{"y":16,"x":76,"width":105,"text":"邮件（000）","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true}},{"type":"Text","props":{"y":16,"x":286,"width":42,"text":"背包","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true}}]},{"type":"Box","props":{"x":0,"width":340,"height":89,"bottom":2},"child":[{"type":"Image","props":{"y":53,"x":309,"width":7,"skin":"loading/102.png","height":19}},{"type":"Image","props":{"y":21,"x":128,"width":64,"var":"img_myhead","skin":"shooting/115.png","height":64}},{"type":"Image","props":{"x":-50,"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":83,"bottom":-8}},{"type":"Image","props":{"y":33,"x":48,"skin":"shooting/icon_duanwei.png"}},{"type":"Text","props":{"y":30,"x":216,"width":93,"var":"txt_nickName","text":"隔壁的老王","height":24,"fontSize":16,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":74,"x":216,"text":"lv.00","fontSize":14,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":74,"x":295,"text":"0/0  EXP","fontSize":14,"color":"#FFFFFF","bold":false}},{"type":"ProgressBar","props":{"y":54,"x":213,"width":197,"skin":"shooting/progress_1.png","sizeGrid":"6,5,6,5","height":16}}]}]}]};
	return HallUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_loading/LoadingViewUI.as=======93.999266/93.999266
//class ui.s_loading.LoadingViewUI extends laya.ui.View
var LoadingViewUI=(function(_super){
	function LoadingViewUI(){
		this.bg_img=null;
		this.pro=null;
		this.pro_guang=null;
		this.txt_pro=null;
		LoadingViewUI.__super.call(this);
	}

	__class(LoadingViewUI,'ui.s_loading.LoadingViewUI',_super);
	var __proto=LoadingViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(LoadingViewUI.uiView);
	}

	LoadingViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"bottom":0},"child":[{"type":"Image","props":{"var":"bg_img","top":0,"skin":"loading/1.jpg","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"ProgressBar","props":{"width":1147,"var":"pro","value":0,"skin":"loading/progress.png","sizeGrid":"8,8,8,8","height":36,"centerX":0.5,"bottom":134},"child":[{"type":"Image","props":{"y":17,"x":0,"var":"pro_guang","skin":"loading/102.png","anchorY":0.5,"anchorX":0.5}},{"type":"Text","props":{"y":6,"x":536,"var":"txt_pro","text":"00%","strokeColor":"#000000","stroke":5,"fontSize":24,"color":"#FFFFFF","bold":true}}]},{"type":"Label","props":{"width":1085,"text":"抵制不良游戏   拒绝盗版游戏   注意自我保护   谨防受骗上当   适度游戏益脑   沉迷游戏伤身   合理安排时间   享受健康生活","height":24,"fontSize":20,"font":"Microsoft YaHei","color":"#b5a6a6","centerX":0.5,"bottom":30,"bold":true}},{"type":"Label","props":{"width":1142,"text":"游戏加载启动中，请稍后 . . .","height":31,"fontSize":24,"font":"Microsoft YaHei","color":"#FFFFFF","centerX":0.5,"bottom":100,"bold":true}}]}]};
	return LoadingViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_match/MatchViewUI.as=======93.999265/93.999265
//class ui.s_match.MatchViewUI extends laya.ui.View
var MatchViewUI=(function(_super){
	function MatchViewUI(){
		this.txt_roomId=null;
		this.head02=null;
		this.ready02=null;
		this.txt_name2=null;
		this.btn_back=null;
		this.head01=null;
		this.txt_name1=null;
		this.btn_invite=null;
		this.btn_ready=null;
		this.btn_start=null;
		MatchViewUI.__super.call(this);
	}

	__class(MatchViewUI,'ui.s_match.MatchViewUI',_super);
	var __proto=MatchViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(MatchViewUI.uiView);
	}

	MatchViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"cacheAsBitmap":true,"bottom":0},"child":[{"type":"Image","props":{"top":0,"skin":"shooting/6.jpg","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Image","props":{"width":401,"skin":"shooting/bg_roomlist.png","left":895,"height":51,"bottom":70},"child":[{"type":"TextInput","props":{"y":10,"x":35,"width":329,"var":"txt_roomId","promptColor":"#FFFFFF","prompt":"roomid","height":30,"fontSize":18,"color":"#FFFFFF"}}]},{"type":"Image","props":{"width":621,"top":80,"skin":"shooting/127.png","height":484,"centerX":-9}},{"type":"Box","props":{"y":2,"right":22},"child":[{"type":"Image","props":{"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"x":172,"width":168,"skin":"shooting/104.png","sizeGrid":"12,22,12,22","height":58}},{"type":"Image","props":{"y":5,"x":20,"skin":"shooting/108.png"}},{"type":"Image","props":{"y":5,"x":192,"skin":"shooting/109.png"}},{"type":"Text","props":{"y":16,"x":70,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":16,"x":240,"width":81,"text":"00000","height":24,"fontSize":18,"font":"Microsoft YaHei","color":"#FFFFFF","bold":false}}]},{"type":"Box","props":{"width":315,"top":80,"right":15},"child":[{"type":"Image","props":{"y":111,"x":0,"skin":"shooting/bg_red.png"}},{"type":"Image","props":{"x":11,"width":304,"skin":"shooting/bg_redGeren.png","height":104}},{"type":"Image","props":{"width":80,"var":"head02","top":10,"skin":"shooting/101.png","right":10,"height":80}},{"type":"Image","props":{"y":51,"x":166,"skin":"shooting/icon_duanwei.png"}},{"type":"Image","props":{"y":122,"x":27,"width":29,"var":"ready02","skin":"shooting/icon_yes.png","height":31}},{"type":"Text","props":{"y":57,"x":80,"width":58,"text":"黄金VI","height":32,"fontSize":22,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"left"}},{"type":"Text","props":{"y":14,"x":12,"width":194,"var":"txt_name2","overflow":"hidden","height":32,"fontSize":20,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"right"}}]},{"type":"Box","props":{"y":-9,"x":5},"child":[{"type":"Image","props":{"y":15,"x":50,"width":228,"skin":"shooting/bg_roomlist.png","sizeGrid":"10,30,10,30","height":53}},{"type":"Text","props":{"y":19,"x":115,"width":97,"valign":"middle","text":"房间列表","height":41,"fontSize":26,"font":"Arial","color":"#FFFFFF","bold":false,"alpha":0.8,"align":"center"}},{"type":"Box","props":{"y":12,"x":0,"width":70,"var":"btn_back","height":52},"child":[{"type":"Image","props":{"skin":"shooting/128.png"}}]}]},{"type":"Box","props":{"x":15,"top":80},"child":[{"type":"Image","props":{"top":112,"skin":"shooting/bg_blue.png","left":-2}},{"type":"Image","props":{"y":0,"x":0,"skin":"shooting/bg_blueGeren.png"}},{"type":"Image","props":{"y":11,"x":11,"width":80,"var":"head01","skin":"shooting/101.png","height":80}},{"type":"Image","props":{"y":40,"x":103,"skin":"shooting/icon_duanwei2.png"}},{"type":"Image","props":{"y":52,"x":143,"skin":"shooting/icon_duanwei.png"}},{"type":"Image","props":{"y":121,"x":19,"skin":"shooting/icon_host.png"}},{"type":"Text","props":{"y":57,"x":180,"width":58,"text":"黄金VI","height":32,"fontSize":22,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"left"}},{"type":"Text","props":{"y":10,"x":106,"width":181,"var":"txt_name1","overflow":"hidden","height":32,"fontSize":20,"font":"Microsoft YaHei","color":"#FFFFFF","bold":true,"align":"left"}}]},{"type":"Box","props":{"centerX":-24,"bottom":83},"child":[{"type":"Image","props":{"width":440,"skin":"shooting/bg_bottom.png","height":80}},{"type":"Text","props":{"y":24,"x":1,"width":435,"valign":"middle","text":"废 弃 工 厂","height":48,"fontSize":28,"color":"#ddd7d7","bold":true,"align":"center"}}]},{"type":"Box","props":{"y":652,"x":976,"width":300,"var":"btn_invite","height":60},"child":[{"type":"Button","props":{"x":42,"width":218,"stateNum":2,"skin":"shooting/btn_red.png","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"邀 请 好 友","height":42,"centerY":0},"child":[{"type":"Image","props":{"y":6,"x":209,"width":29,"skin":"shooting/icon_arrow2.png","rotation":90,"height":23}}]}]},{"type":"Box","props":{"width":200,"var":"btn_ready","height":60,"centerX":0.5,"bottom":0},"child":[{"type":"Button","props":{"y":9,"x":20,"width":160,"stateNum":1,"skin":"shooting/btn_start.png","mouseEnabled":true,"labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"准 备","height":42}}]},{"type":"Box","props":{"width":200,"var":"btn_start","height":60,"centerX":0.5,"bottom":0},"child":[{"type":"Button","props":{"y":9,"x":20,"width":160,"stateNum":2,"skin":"shooting/btn_start.png","labelSize":25,"labelColors":"#FFFFFF","labelBold":true,"labelAlign":"center","label":"开 始 游 戏","height":42}}]}]}]};
	return MatchViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_victory/VictoryViewUI.as=======93.999264/93.999264
//class ui.s_victory.VictoryViewUI extends laya.ui.View
var VictoryViewUI=(function(_super){
	function VictoryViewUI(){
		this.head01=null;
		this.mvp01=null;
		this.name01=null;
		this.baotou01=null;
		this.dead01=null;
		this.kills01=null;
		this.name02=null;
		this.head02=null;
		this.baotou02=null;
		this.dead02=null;
		this.kills02=null;
		this.mvp02=null;
		this.btn_back=null;
		this.img_victory=null;
		this.bluskill=null;
		this.redskill=null;
		VictoryViewUI.__super.call(this);
	}

	__class(VictoryViewUI,'ui.s_victory.VictoryViewUI',_super);
	var __proto=VictoryViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(VictoryViewUI.uiView);
	}

	VictoryViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"cacheAsBitmap":true,"bottom":0},"child":[{"type":"Image","props":{"top":0,"skin":"shooting/12.jpg","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Box","props":{"x":0,"centerY":-36},"child":[{"type":"Image","props":{"y":209,"x":528,"width":70,"skin":"shooting/124.png","scaleY":1.5,"scaleX":1.5,"height":69}},{"type":"Image","props":{"y":41,"x":404,"width":139,"var":"head01","skin":"shooting/101.png","height":139}},{"type":"Image","props":{"y":227,"skin":"shooting/122.png","scaleY":1.5,"scaleX":1.5}},{"type":"Image","props":{"y":227,"x":160,"skin":"shooting/121.png","scaleY":1.5,"scaleX":1.5}},{"type":"Image","props":{"x":321,"width":143,"var":"mvp01","skin":"shooting/123.png","height":76}},{"type":"Image","props":{"y":227,"x":319,"skin":"shooting/120.png","scaleY":1.5,"scaleX":1.5}},{"type":"Text","props":{"y":94,"x":8,"width":339,"var":"name01","text":"我是小苹果","height":32,"fontSize":32,"color":"#FFFFFF","bold":true,"align":"right"}},{"type":"Text","props":{"y":136,"x":319,"text":"lv.00","fontSize":24,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":241,"x":87,"width":52,"var":"baotou01","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":241,"x":247,"width":52,"var":"dead01","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":241,"x":407,"width":52,"var":"kills01","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":248,"x":545,"width":76,"text":"00.00","height":28,"fontSize":26,"color":"#FFFFFF","bold":true,"align":"center"}}]},{"type":"Box","props":{"right":0,"centerY":14},"child":[{"type":"Text","props":{"y":181,"x":1,"width":307,"var":"name02","text":"我是小苹果","height":32,"fontSize":32,"color":"#FFFFFF","bold":true,"align":"right"}},{"type":"Text","props":{"y":229,"x":285,"width":48.9140625,"text":"lv.00","height":24,"fontSize":24,"color":"#FFFFFF","bold":false}},{"type":"Image","props":{"y":147,"x":365,"width":139,"var":"head02","skin":"shooting/101.png","height":139}},{"type":"Image","props":{"x":528,"width":70,"skin":"shooting/124.png","scaleY":1.5,"scaleX":1.5,"height":69}},{"type":"Image","props":{"y":18,"skin":"shooting/122.png","scaleY":1.5,"scaleX":1.5}},{"type":"Image","props":{"y":18,"x":160,"skin":"shooting/121.png","scaleY":1.5,"scaleX":1.5}},{"type":"Image","props":{"y":18,"x":319,"skin":"shooting/120.png","scaleY":1.5,"scaleX":1.5}},{"type":"Text","props":{"y":32,"x":87,"width":52,"var":"baotou02","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":32,"x":247,"width":52,"var":"dead02","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":32,"x":407,"width":52,"var":"kills02","text":"0","height":52,"fontSize":45,"color":"#FFFFFF","bold":false,"align":"center"}},{"type":"Text","props":{"y":39,"x":549,"width":58,"text":"00.00","height":26,"fontSize":26,"color":"#FFFFFF","bold":true,"align":"center"}},{"type":"Image","props":{"y":103,"x":290,"width":143,"var":"mvp02","skin":"shooting/123.png","height":76}}]},{"type":"Box","props":{"y":5,"x":10},"child":[{"type":"Box","props":{"y":8,"x":0,"width":60,"var":"btn_back","height":52},"child":[{"type":"Image","props":{"skin":"shooting/128.png"}}]},{"type":"Image","props":{"y":9,"x":48,"width":140,"skin":"shooting/bg_roomlist.png","sizeGrid":"10,30,10,30","height":53}},{"type":"Text","props":{"y":13,"x":73,"width":97,"valign":"middle","text":"返 回","height":41,"fontSize":26,"font":"Arial","color":"#FFFFFF","bold":false,"alpha":0.8,"align":"center"}}]},{"type":"Box","props":{"top":68,"centerX":0.5},"child":[{"type":"Image","props":{"y":0,"x":219,"var":"img_victory","skin":"shooting/119.png"}},{"type":"Text","props":{"y":19,"width":195,"var":"bluskill","text":"0","strokeColor":"#424360","stroke":12,"height":68,"fontSize":68,"color":"#FFFFFF","bold":true,"align":"center"}},{"type":"Text","props":{"y":19,"x":386,"width":195,"var":"redskill","text":"0","strokeColor":"#602221","stroke":12,"height":68,"fontSize":68,"color":"#FFFFFF","bold":true,"align":"center"}}]}]}]};
	return VictoryViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/src/ui/s_vs/VsViewUI.as=======93.999263/93.999263
//class ui.s_vs.VsViewUI extends laya.ui.View
var VsViewUI=(function(_super){
	function VsViewUI(){
		this.head01=null;
		this.txt_name1=null;
		this.pro1=null;
		this.head02=null;
		this.txt_name2=null;
		this.pro2=null;
		VsViewUI.__super.call(this);
	}

	__class(VsViewUI,'ui.s_vs.VsViewUI',_super);
	var __proto=VsViewUI.prototype;
	__proto.createChildren=function(){
		View.regComponent("Text",Text);
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(VsViewUI.uiView);
	}

	VsViewUI.uiView={"type":"View","props":{"width":1280,"top":0,"right":0,"left":0,"height":720,"cacheAsBitmap":true,"bottom":0},"child":[{"type":"Image","props":{"top":0,"skin":"shooting/vs_bg.png","right":0,"left":0,"bottom":0}},{"type":"Box","props":{"top":0,"right":0,"left":0,"bottom":0},"child":[{"type":"Box","props":{"x":-15,"bottom":0},"child":[{"type":"Image","props":{"y":0,"x":0,"width":656,"skin":"shooting/vs_blue.png","height":369}},{"type":"Image","props":{"y":159,"x":30,"width":80,"var":"head01","skin":"shooting/101.png","height":80}},{"type":"Text","props":{"y":193,"x":132,"width":320,"var":"txt_name1","text":"我是小苹果","fontSize":22,"color":"#FFFFFF","bold":true,"align":"left"}},{"type":"Text","props":{"y":223,"x":227,"text":"lv.00","fontSize":16,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":207,"x":360,"width":80,"var":"pro1","text":"0%","height":22,"fontSize":22,"color":"#FFFFFF","bold":true,"align":"right"}}]},{"type":"Box","props":{"y":-5,"right":-5},"child":[{"type":"Image","props":{"y":0,"x":0,"width":623,"skin":"shooting/vs_red.png","height":350}},{"type":"Image","props":{"y":246,"x":526,"width":80,"var":"head02","skin":"shooting/101.png","height":80}},{"type":"Text","props":{"y":283,"x":172,"width":320,"var":"txt_name2","text":"我是小苹果","height":22,"fontSize":22,"color":"#FFFFFF","bold":true,"align":"right"}},{"type":"Text","props":{"y":313,"x":372,"text":"lv.00","fontSize":16,"color":"#FFFFFF","bold":false}},{"type":"Text","props":{"y":297,"x":168,"width":80,"var":"pro2","text":"0%","height":22,"fontSize":22,"color":"#FFFFFF","bold":true,"align":"left"}}]}]}]};
	return VsViewUI;
})(View)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/HBox.as=======93.997960/93.997960
/**
*<code>HBox</code> 是一个水平布局容器类。
*/
//class laya.ui.HBox extends laya.ui.LayoutBox
var HBox=(function(_super){
	function HBox(){
		HBox.__super.call(this);;
	}

	__class(HBox,'laya.ui.HBox',_super);
	var __proto=HBox.prototype;
	/**@inheritDoc */
	__proto.sortItem=function(items){
		if (items)items.sort(function(a,b){return a.x-b.x;});
	}

	/**@inheritDoc */
	__proto.changeItems=function(){
		this._itemChanged=false;
		var items=[];
		var maxHeight=0;
		for (var i=0,n=this.numChildren;i < n;i++){
			var item=this.getChildAt(i);
			if (item&&item.layoutEnabled){
				items.push(item);
				maxHeight=this._height?this._height:Math.max(maxHeight,item.height *item.scaleY);
			}
		}
		this.sortItem(items);
		var left=0;
		for (i=0,n=items.length;i < n;i++){
			item=items[i];
			item.x=left;
			left+=item.width *item.scaleX+this._space;
			if (this._align=="top"){
				item.y=0;
				}else if (this._align=="middle"){
				item.y=(maxHeight-item.height *item.scaleY)*0.5;
				}else if (this._align=="bottom"){
				item.y=maxHeight-item.height *item.scaleY;
			}
		}
		this.changeSize();
	}

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		if (this._height !=value){
			Laya.superSet(LayoutBox,this,'height',value);
			this.callLater(this.changeItems);
		}
	});

	HBox.NONE="none";
	HBox.TOP="top";
	HBox.MIDDLE="middle";
	HBox.BOTTOM="bottom";
	return HBox;
})(LayoutBox)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/VBox.as=======93.997932/93.997932
/**
*<code>VBox</code> 是一个垂直布局容器类。
*/
//class laya.ui.VBox extends laya.ui.LayoutBox
var VBox=(function(_super){
	function VBox(){
		VBox.__super.call(this);;
	}

	__class(VBox,'laya.ui.VBox',_super);
	var __proto=VBox.prototype;
	/**@inheritDoc */
	__proto.changeItems=function(){
		this._itemChanged=false;
		var items=[];
		var maxWidth=0;
		for (var i=0,n=this.numChildren;i < n;i++){
			var item=this.getChildAt(i);
			if (item&&item.layoutEnabled){
				items.push(item);
				maxWidth=this._width?this._width:Math.max(maxWidth,item.width *item.scaleX);
			}
		}
		this.sortItem(items);
		var top=0;
		for (i=0,n=items.length;i < n;i++){
			item=items[i];
			item.y=top;
			top+=item.height *item.scaleY+this._space;
			if (this._align=="left"){
				item.x=0;
				}else if (this._align=="center"){
				item.x=(maxWidth-item.width *item.scaleX)*0.5;
				}else if (this._align=="right"){
				item.x=maxWidth-item.width *item.scaleX;
			}
		}
		this.changeSize();
	}

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		if (this._width !=value){
			Laya.superSet(LayoutBox,this,'width',value);
			this.callLater(this.changeItems);
		}
	});

	VBox.NONE="none";
	VBox.LEFT="left";
	VBox.CENTER="center";
	VBox.RIGHT="right";
	return VBox;
})(LayoutBox)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/RadioGroup.as=======93.997924/93.997924
/**
*<code>RadioGroup</code> 控件定义一组 <code>Radio</code> 控件，这些控件相互排斥；
*因此，用户每次只能选择一个 <code>Radio</code> 控件。
*
*@example <caption>以下示例代码，创建了一个 <code>RadioGroup</code> 实例。</caption>
*package
*{
	*import laya.ui.Radio;
	*import laya.ui.RadioGroup;
	*import laya.utils.Handler;
	*public class RadioGroup_Example
	*{
		*public function RadioGroup_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/radio.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var radioGroup:RadioGroup=new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
			*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
			*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
			*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
			*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
			*radioGroup.selectHandler=new Handler(this,onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
			*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的单选按钮索引: index= ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/radio.png"],laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*var radioGroup=new laya.ui.RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
	*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
	*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
	*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
	*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
	*radioGroup.selectHandler=new laya.utils.Handler(this,onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
	*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
	*}
*function onSelect(index){
	*console.log("当前选择的单选按钮索引: index= ",index);
	*}
*@example
*import Radio=laya.ui.Radio;
*import RadioGroup=laya.ui.RadioGroup;
*import Handler=laya.utils.Handler;
*class RadioGroup_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/radio.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var radioGroup:RadioGroup=new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
		*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
		*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
		*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
		*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
		*radioGroup.selectHandler=new Handler(this,this.onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
		*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的单选按钮索引: index= ",index);
		*}
	*}
*/
//class laya.ui.RadioGroup extends laya.ui.UIGroup
var RadioGroup=(function(_super){
	function RadioGroup(){
		RadioGroup.__super.call(this);;
	}

	__class(RadioGroup,'laya.ui.RadioGroup',_super);
	var __proto=RadioGroup.prototype;
	/**@inheritDoc */
	__proto.createItem=function(skin,label){
		return new Radio(skin,label);
	}

	return RadioGroup;
})(UIGroup)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/Tab.as=======93.997921/93.997921
/**
*<code>Tab</code> 组件用来定义选项卡按钮组。 *
*@internal <p>属性：<code>selectedIndex</code> 的默认值为-1。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Tab</code> 实例。</caption>
*package
*{
	*import laya.ui.Tab;
	*import laya.utils.Handler;
	*public class Tab_Example
	*{
		*public function Tab_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/tab.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var tab:Tab=new Tab();//创建一个 Tab 类的实例对象 tab 。
			*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
			*tab.labels="item0,item1,item2";//设置 tab 的标签集。
			*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
			*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
			*tab.selectHandler=new Handler(this,onSelect);//设置 tab 的选择项发生改变时执行的处理器。
			*Laya.stage.addChild(tab);//将 tab 添到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的表情页索引: index= ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/tab.png"],laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*var tab=new laya.ui.Tab();//创建一个 Tab 类的实例对象 tab 。
	*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
	*tab.labels="item0,item1,item2";//设置 tab 的标签集。
	*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
	*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
	*tab.selectHandler=new laya.utils.Handler(this,onSelect);//设置 tab 的选择项发生改变时执行的处理器。
	*Laya.stage.addChild(tab);//将 tab 添到显示列表。
	*}
*function onSelect(index){
	*console.log("当前选择的标签页索引: index= ",index);
	*}
*@example
*import Tab=laya.ui.Tab;
*import Handler=laya.utils.Handler;
*class Tab_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/tab.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var tab:Tab=new Tab();//创建一个 Tab 类的实例对象 tab 。
		*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
		*tab.labels="item0,item1,item2";//设置 tab 的标签集。
		*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
		*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
		*tab.selectHandler=new Handler(this,this.onSelect);//设置 tab 的选择项发生改变时执行的处理器。
		*Laya.stage.addChild(tab);//将 tab 添到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的表情页索引: index= ",index);
		*}
	*}
*/
//class laya.ui.Tab extends laya.ui.UIGroup
var Tab=(function(_super){
	function Tab(){
		Tab.__super.call(this);;
	}

	__class(Tab,'laya.ui.Tab',_super);
	var __proto=Tab.prototype;
	/**
	*@private
	*@inheritDoc
	*/
	__proto.createItem=function(skin,label){
		return new Button(skin,label);
	}

	return Tab;
})(UIGroup)


	//file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/TextArea.as=======93.997211/93.997211
/**
*<code>TextArea</code> 类用于创建显示对象以显示和输入文本。
*@example <caption>以下示例代码，创建了一个 <code>TextArea</code> 实例。</caption>
*package
*{
	*import laya.ui.TextArea;
	*import laya.utils.Handler;
	*public class TextArea_Example
	*{
		*public function TextArea_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var textArea:TextArea=new TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
			*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
			*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
			*textArea.color="#008fff";//设置 textArea 的文本颜色。
			*textArea.font="Arial";//设置 textArea 的字体。
			*textArea.bold=true;//设置 textArea 的文本显示为粗体。
			*textArea.fontSize=20;//设置 textArea 的文本字体大小。
			*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
			*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
			*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
			*textArea.width=300;//设置 textArea 的宽度。
			*textArea.height=200;//设置 textArea 的高度。
			*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/input.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var textArea=new laya.ui.TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
	*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
	*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
	*textArea.color="#008fff";//设置 textArea 的文本颜色。
	*textArea.font="Arial";//设置 textArea 的字体。
	*textArea.bold=true;//设置 textArea 的文本显示为粗体。
	*textArea.fontSize=20;//设置 textArea 的文本字体大小。
	*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
	*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
	*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
	*textArea.width=300;//设置 textArea 的宽度。
	*textArea.height=200;//设置 textArea 的高度。
	*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
	*}
*@example
*import TextArea=laya.ui.TextArea;
*import Handler=laya.utils.Handler;
*class TextArea_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var textArea:TextArea=new TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
		*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
		*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
		*textArea.color="#008fff";//设置 textArea 的文本颜色。
		*textArea.font="Arial";//设置 textArea 的字体。
		*textArea.bold=true;//设置 textArea 的文本显示为粗体。
		*textArea.fontSize=20;//设置 textArea 的文本字体大小。
		*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
		*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
		*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
		*textArea.width=300;//设置 textArea 的宽度。
		*textArea.height=200;//设置 textArea 的高度。
		*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
		*}
	*}
*/
//class laya.ui.TextArea extends laya.ui.TextInput
var TextArea=(function(_super){
	function TextArea(text){
		/**@private */
		this._vScrollBar=null;
		/**@private */
		this._hScrollBar=null;
		(text===void 0)&& (text="");
		TextArea.__super.call(this,text);
	}

	__class(TextArea,'laya.ui.TextArea',_super);
	var __proto=TextArea.prototype;
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._vScrollBar && this._vScrollBar.destroy();
		this._hScrollBar && this._hScrollBar.destroy();
		this._vScrollBar=null;
		this._hScrollBar=null;
	}

	__proto.initialize=function(){
		this.width=180;
		this.height=150;
		this._tf.wordWrap=true;
		this.multiline=true;
	}

	__proto.onVBarChanged=function(e){
		if (this._tf.scrollY !=this._vScrollBar.value){
			this._tf.scrollY=this._vScrollBar.value;
		}
	}

	__proto.onHBarChanged=function(e){
		if (this._tf.scrollX !=this._hScrollBar.value){
			this._tf.scrollX=this._hScrollBar.value;
		}
	}

	__proto.changeScroll=function(){
		var vShow=this._vScrollBar && this._tf.maxScrollY > 0;
		var hShow=this._hScrollBar && this._tf.maxScrollX > 0;
		var showWidth=vShow ? this._width-this._vScrollBar.width :this._width;
		var showHeight=hShow ? this._height-this._hScrollBar.height :this._height;
		var padding=this._tf.padding || Styles.labelPadding;
		this._tf.width=showWidth;
		this._tf.height=showHeight;
		if (this._vScrollBar){
			this._vScrollBar.x=this._width-this._vScrollBar.width-padding[2];
			this._vScrollBar.y=padding[1];
			this._vScrollBar.height=this._height-(hShow ? this._hScrollBar.height :0)-padding[1]-padding[3];
			this._vScrollBar.scrollSize=1;
			this._vScrollBar.thumbPercent=showHeight / Math.max(this._tf.textHeight,showHeight);
			this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY);
			this._vScrollBar.visible=vShow;
		}
		if (this._hScrollBar){
			this._hScrollBar.x=padding[0];
			this._hScrollBar.y=this._height-this._hScrollBar.height-padding[3];
			this._hScrollBar.width=this._width-(vShow ? this._vScrollBar.width :0)-padding[0]-padding[2];
			this._hScrollBar.scrollSize=Math.max(showWidth *0.033,1);
			this._hScrollBar.thumbPercent=showWidth / Math.max(this._tf.textWidth,showWidth);
			this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX);
			this._hScrollBar.visible=hShow;
		}
	}

	/**滚动到某个位置*/
	__proto.scrollTo=function(y){
		this.commitMeasure();
		this._tf.scrollY=y;
	}

	/**垂直滚动值*/
	__getset(0,__proto,'scrollY',function(){
		return this._tf.scrollY;
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(TextInput,this,'width',value);
		this.callLater(this.changeScroll);
	});

	/**水平滚动条实体*/
	__getset(0,__proto,'hScrollBar',function(){
		return this._hScrollBar;
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(TextInput,this,'height',value);
		this.callLater(this.changeScroll);
	});

	/**水平滚动最大值*/
	__getset(0,__proto,'maxScrollX',function(){
		return this._tf.maxScrollX;
	});

	/**垂直滚动条皮肤*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._vScrollBar ? this._vScrollBar.skin :null;
		},function(value){
		if (this._vScrollBar==null){
			this.addChild(this._vScrollBar=new VScrollBar());
			this._vScrollBar.on("change",this,this.onVBarChanged);
			this._vScrollBar.target=this._tf;
			this.callLater(this.changeScroll);
		}
		this._vScrollBar.skin=value;
	});

	/**水平滚动条皮肤*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._hScrollBar ? this._hScrollBar.skin :null;
		},function(value){
		if (this._hScrollBar==null){
			this.addChild(this._hScrollBar=new HScrollBar());
			this._hScrollBar.on("change",this,this.onHBarChanged);
			this._hScrollBar.mouseWheelEnable=false;
			this._hScrollBar.target=this._tf;
			this.callLater(this.changeScroll);
		}
		this._hScrollBar.skin=value;
	});

	/**垂直滚动条实体*/
	__getset(0,__proto,'vScrollBar',function(){
		return this._vScrollBar;
	});

	/**垂直滚动最大值*/
	__getset(0,__proto,'maxScrollY',function(){
		return this._tf.maxScrollY;
	});

	/**水平滚动值*/
	__getset(0,__proto,'scrollX',function(){
		return this._tf.scrollX;
	});

	return TextArea;
})(TextInput)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/charts/KlineChart.as=======93.994918/93.994918
//class org.coms.charts.KlineChart extends org.coms.charts.Kchart
var KlineChart=(function(_super){
	function KlineChart(parent,xpos,ypos,data){
		this._lineWidth=1;
		this._lineColor='#ffffff';
		this.lines=[];
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KlineChart.__super.call(this,parent,xpos,ypos,data);
	}

	__class(KlineChart,'org.coms.charts.KlineChart',_super);
	var __proto=KlineChart.prototype;
	/**
	*Graphs the numeric data in the chart.
	*/
	__proto.drawChart=function(){
		var border=2;
		var lineWidth=(this._width-border)/ (this._data.length-1);
		var chartHeight=this._height-border;
		this._chartHolder.x=0;
		this._chartHolder.y=this._height;
		var xpos=border;
		var max=this.getMaxValue();
		var min=this.getMinValue();
		var scale=chartHeight / (max-min);
		this.lines.length=0;
		this.lines.push(xpos,(this._data[0]-min)*-scale);
		xpos+=lineWidth;
		for(var i=1;i < this._data.length;i++){
			if(this._data[i] !=null){
				this.lines.push(xpos,(this._data[i]-min)*-scale);
			}
			xpos+=lineWidth;
		}
		this._chartHolder.graphics.clear();
		this._chartHolder.graphics.drawLines(0,0,this.lines,this._lineColor,this._lineWidth);
	}

	/**
	*Sets/gets the width of the line in the graph.
	*/
	__getset(0,__proto,'lineWidth',function(){
		return this._lineWidth;
		},function(value){
		this._lineWidth=value;
		this.drawAsyn();
	});

	/**
	*Sets/gets the color of the line in the graph.
	*/
	__getset(0,__proto,'lineColor',function(){
		return this._lineColor;
		},function(value){
		this._lineColor=value;
		this.drawAsyn();
	});

	return KlineChart;
})(Kchart)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KHScrollBar.as=======93.994899/93.994899
/**
*Constructor
*@param parent The parent DisplayObjectContainer on which to add this ScrollBar.
*@param xpos The x position to place this component.
*@param ypos The y position to place this component.
*@param defaultHandler The event handling function to handle the default event for this component (change in this case).
*/
//class org.coms.components.KHScrollBar extends org.coms.components.KscrollBar
var KHScrollBar=(function(_super){
	function KHScrollBar(parent,xpos,ypos,defaultHandler){
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KHScrollBar.__super.call(this,"horizontal",parent,xpos,ypos,defaultHandler);
	}

	__class(KHScrollBar,'org.coms.components.KHScrollBar',_super);
	return KHScrollBar;
})(KscrollBar)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KHSlider.as=======93.994893/93.994893
//class org.coms.components.KHSlider extends org.coms.components.Kslider
var KHSlider=(function(_super){
	/**
	*Constructor
	*@param parent The parent DisplayObjectContainer on which to add this HSlider.
	*@param xpos The x position to place this component.
	*@param ypos The y position to place this component.
	*@param defaultHandler The event handling function to handle the default event for this component.
	*/
	function KHSlider(parent,xpos,ypos,defaultHandler){
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KHSlider.__super.call(this,"horizontal",parent,xpos,ypos,defaultHandler);
	}

	__class(KHSlider,'org.coms.components.KHSlider',_super);
	return KHSlider;
})(Kslider)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KVScrollBar.as=======93.994866/93.994866
//class org.coms.components.KVScrollBar extends org.coms.components.KscrollBar
var KVScrollBar=(function(_super){
	/**
	*Constructor
	*@param parent The parent DisplayObjectContainer on which to add this ScrollBar.
	*@param xpos The x position to place this component.
	*@param ypos The y position to place this component.
	*@param defaultHandler The event handling function to handle the default event for this component (change in this case).
	*/
	function KVScrollBar(parent,xpos,ypos,defaultHandler){
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KVScrollBar.__super.call(this,"vertical",parent,xpos,ypos,defaultHandler);
	}

	__class(KVScrollBar,'org.coms.components.KVScrollBar',_super);
	return KVScrollBar;
})(KscrollBar)


	//file:///H:/work/sniper/WLBLaya/src/org/coms/components/KscrollPane.as=======93.994865/93.994865
;
//class org.coms.components.KscrollPane extends org.coms.components.Kpanel
var KscrollPane=(function(_super){
	function KscrollPane(parent,xpos,ypos){
		this._vScrollbar=null;
		this._hScrollbar=null;
		this._corner=null;
		this._dragContent=true;
		this._minMap=null;
		this.viewW=0;
		this.viewH=0;
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		KscrollPane.__super.call(this,parent,xpos,ypos);
	}

	__class(KscrollPane,'org.coms.components.KscrollPane',_super);
	var __proto=KscrollPane.prototype;
	/**
	*Initializes this component.
	*/
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.on("resize",this,this.onResize);
		this.on("mousewheel",this,this.wheelHd);
		this.on("mouseout",this,this.rollOutHd);
		this.on("mouseover",this,this.rollOverHd);
		this.size(100,100);
	}

	__proto.rollOverHd=function(){
		this.updateScroll();
		Wstage.stage.on("keydown",this,this.keyStatusHd);
		Wstage.stage.on("keyup",this,this.keyStatusHd);
		this.keyStatusHd();
	}

	__proto.rollOutHd=function(){
		Wstage.stage.off("keydown",this,this.keyStatusHd);
		Wstage.stage.off("keyup",this,this.keyStatusHd);
		this.keyStatusHd();
	}

	__proto.wheelHd=function(event){
		event.stopPropagation();
		this._vScrollbar.value-=event.delta*10;
		this.onScroll();
	}

	__proto.keyStatusHd=function(event){
		if(WkeyCtrlManager.instance.isPess(32)){
			if(!this._minMap.parent){
				this._minMap.pos(this.mouseX,this.mouseY);
				this.addRawChild(this._minMap);
			}
		}
		else{
			if(this._minMap.parent){
				this.removeRawChild(this._minMap);
			}
		}
	}

	/**
	*Creates and adds the child display objects of this component.
	*/
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this._vScrollbar=new KVScrollBar(null,this.width-20,0,this.onScroll.bind(this));
		this._hScrollbar=new KHScrollBar(null,0,this.height-20,this.onScroll.bind(this));
		this.addRawChild(this._vScrollbar);
		this.addRawChild(this._hScrollbar);
		this._minMap=new WminMap();
		this._minMap.callBack=this.scrollVH.bind(this);
		this._minMap.size(100,100);
	}

	///////////////////////////////////
	__proto.drawAsyn=function(){
		game.dream.gameUI.WgameUI.prototype.drawAsyn.call(this);
	}

	/**
	*Draws the visual ui of the component.
	*/
	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._minMap.x=this._width-this._minMap.width;
		this._minMap.y=this._height-this._minMap.height;
		this.updateScroll();
	}

	__proto.updateScroll=function(){
		this.viewW=this._width-20;
		this.viewH=this._height-20;
		var rect=this.content.getSelfBounds();
		var rectW=rect.x+rect.width;
		var rectH=rect.y+rect.height;
		this._minMap.setViewAndMapSize(this.viewW ,this.viewH,rectW,rectH);
		var vPercent=this.viewH / rectH;
		var hPercent=this.viewW / rectW;
		this._vScrollbar.x=this.viewW;
		this._hScrollbar.y=this.viewH;
		this._vScrollbar.size(20,this.viewH);
		this._hScrollbar.size(this.viewW,20);
		this._mask.size(this.viewW,this.viewH);
		this._vScrollbar.setThumbPercent(vPercent);
		this._vScrollbar.maximum=Math.max(0,rectH-this.viewH);
		this._vScrollbar.pageSize=this.viewH;
		this._hScrollbar.setThumbPercent(hPercent);
		this._hScrollbar.maximum=Math.max(0,rectW-this.viewW);
		this._hScrollbar.pageSize=this.viewW;
		this._mask.pos(this._hScrollbar.value,this._vScrollbar.value);
		this.content.pos(-this._hScrollbar.value,-this._vScrollbar.value);
		this._minMap.viewTo(this._hScrollbar.value,this._vScrollbar.value);
	}

	/**
	*Updates the scrollbars when content is changed. Needs to be done manually.
	*/
	__proto.update=function(){
		this.drawAsyn();
	}

	__proto.onScroll=function(event){
		this._mask.pos(this._hScrollbar.value,this._vScrollbar.value);
		this.content.pos(-this._hScrollbar.value,-this._vScrollbar.value);
	}

	__proto.onResize=function(event){
		this.drawAsyn();
	}

	__proto.scrollOffVH=function(offX,offY){
		this._hScrollbar.value+=offX;
		this._vScrollbar.value+=offY;
		this.onScroll();
	}

	__proto.scrollVH=function(x,y){
		this._hScrollbar.value=x;
		this._vScrollbar.value=y;
		this.onScroll();
	}

	/**
	*Sets / gets whether the scrollbar will auto hide when there is nothing to scroll.
	*/
	__getset(0,__proto,'autoHideScrollBar',function(){
		return this._vScrollbar.autoHide;
		},function(value){
		this._vScrollbar.autoHide=value;
		this._hScrollbar.autoHide=value;
	});

	__getset(0,__proto,'vScrollbar',function(){
		return this._vScrollbar;
	});

	__getset(0,__proto,'hScrollbar',function(){
		return this._hScrollbar;
	});

	__getset(0,__proto,'scrollV',function(){
		return this._vScrollbar.value;
		},function(value){
		this._vScrollbar.value=value;
		this.onScroll();
	});

	__getset(0,__proto,'scrollH',function(){
		return this._hScrollbar.value;
		},function(value){
		this._hScrollbar.value=value;
		this.onScroll();
	});

	KscrollPane.__init$=function(){
		/*namespace*/
	}

	return KscrollPane;
})(Kpanel)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/LogItem.as=======93.994843/93.994843
//class tool.dream.displays.LogItem extends org.coms.components.KlistItem
var LogItem=(function(_super){
	function LogItem(){
		LogItem.__super.call(this);;
	}

	__class(LogItem,'tool.dream.displays.LogItem',_super);
	return LogItem;
})(KlistItem)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WcommandCmdItem.as=======93.994834/93.994834
//class tool.dream.displays.WcommandCmdItem extends org.coms.components.KlistItem
var WcommandCmdItem=(function(_super){
	function WcommandCmdItem(parent,xpos,ypos,data){
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		WcommandCmdItem.__super.call(this,parent,xpos,ypos,data);
	}

	__class(WcommandCmdItem,'tool.dream.displays.WcommandCmdItem',_super);
	return WcommandCmdItem;
})(KlistItem)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/displayViews/WstageDisplayListView.as=======93.994833/93.994833
/**
*显示列表
*@author Administrator
*
*/
//class tool.dream.displays.displayViews.WstageDisplayListView extends org.coms.components.Kwindow
var WstageDisplayListView=(function(_super){
	function WstageDisplayListView(){
		this._displayTree=null;
		this._displayScrollTree=null;
		this._childRect=null;
		this._isMouseOver=false;
		this._propertyContain=null;
		this._nameLabel=null;
		this._xLabel=null;
		this._yLabel=null;
		this._widthLabel=null;
		this._heightLabel=null;
		this._mouseXLabel=null;
		this._mouseYLabel=null;
		this._alphaLabel=null;
		this._visiableLabel=null;
		this._mouseEnableLabel=null;
		this._mouseChildrenLabel=null;
		this._importImageBtn=null;
		this._measureBtn=null;
		this._plug=null;
		this._plugs=[];
		this._autoPlug=null;
		this._plugCom=null;
		WstageDisplayListView._instance=this;
		WstageDisplayListView.__super.call(this,null,0,0,"显示列表");
	}

	__class(WstageDisplayListView,'tool.dream.displays.displayViews.WstageDisplayListView',_super);
	var __proto=WstageDisplayListView.prototype;
	__proto.addChildren=function(){
		_super.prototype.addChildren.call(this);
		this.hasMinimizeButton=true;
		this.hasCloseButton=true;
		this.hasSetSizeBtn=true;
		this._propertyContain=new Sprite;
		this.addChild(this._propertyContain);
		this._nameLabel=new Klabel(this._propertyContain,5,0);
		this._xLabel=new Klabel(this._propertyContain,5,20);
		this._yLabel=new Klabel(this._propertyContain,105,20);
		this._mouseEnableLabel=new Klabel(this._propertyContain,205,20);
		this._widthLabel=new Klabel(this._propertyContain,5,40);
		this._heightLabel=new Klabel(this._propertyContain,105,40);
		this._mouseChildrenLabel=new Klabel(this._propertyContain,205,40);
		this._mouseXLabel=new Klabel(this._propertyContain,5,60);
		this._mouseYLabel=new Klabel(this._propertyContain,105,60);
		this._alphaLabel=new Klabel(this._propertyContain ,5,80);
		this._visiableLabel=new Klabel(this._propertyContain ,105,80);
		this._importImageBtn=new KpushButton(this._propertyContain,200,60,"导出位图",this.onimportIamge)
		this._measureBtn=new KpushButton(this._propertyContain,200,80,"开启测量",this.onOpenMeasure)
		this._plugCom=new KcomboBox(this.titleBar,200,0,"选择插件");
		this._plugCom.on("select",this,this.onSelectPlug);
		this._plugCom.size(150,20);
		this._displayTree=new Wtree(WdisplayTreeItem,null,WdisplayTreeNodeInfo);
		this._displayTree.setGridAndItem(100,20,100,20);
		this._displayTree.on("click",this,this.currentDisplayChangeHd);
		this._displayScrollTree=new WtreeScroll(this._displayTree);
		this._displayScrollTree.y=0;
		this._displayScrollTree.updateWidth=true;
		this.addChild(this._displayScrollTree);
		this._childRect=new WmeasureDisplay
		this._childRect.mouseEnabled=false;
		this._childRect.setStyle2('#00ff00',2,'#ccff00',0.2,'#00ff00');
		this.on("mousedown",this,this.cancleEventHd);
		this.on("added",this,this.addToStageHd);
		this.on("removed",this,this.removeStageHd);
		this.on("mouseout",this,this.rollOutHd);
		this.on("mouseover",this,this.rollOverHd);
		this.on("close",this,this.closeHd);
		this.size(Math.min(450,Wstage.stageWidth),Math.min(600,Wstage.stageHeight));
		this._autoPlug=new WstageDisplayListPlug();
		this.registerPlug(this._autoPlug);
		this._plugCom.selectedIndex=0;
	}

	__proto.onOpenMeasure=function(e){
		WmeasureTool.instance.show(this.currentDisplay);
	}

	__proto.onSelectPlug=function(event){
		this.plug=this._plugCom.selectedItem||this._autoPlug;
	}

	__proto.registerPlug=function(plug){
		plug.displayTree=this._displayTree;
		this._plugs.push(plug);
		this._plugCom.items=this._plugs;
	}

	__proto.onimportIamge=function(e){
		this._plug.importImage();
	}

	__proto.currentDisplayChangeHd=function(event){
		if(event.ctrlKey){
			WeditObjMnger.popNewEditObjWin(this._displayTree.selectedItem);
		}
		else{
			this.currentDisplay=this._displayTree.selectedItem;
		}
	}

	__proto.closeHd=function(event){
		this.hide();
	}

	__proto.cancleEventHd=function(event){
		event.stopPropagation();
	}

	__proto.rollOverHd=function(event){
		this._isMouseOver=true;
	}

	__proto.rollOutHd=function(event){
		this._isMouseOver=false;
	}

	__proto.removeStageHd=function(){
		WasynManager.instance.clearFrameLoop(this,this.update);
		this._plug.addListener();
		if(this._childRect.stage){
			WpopManager.instance.removeWindow(this._childRect);
		}
		this.currentDisplay=null;
	}

	__proto.addToStageHd=function(){
		this.currentDisplay=this._plug.stage;
		this._plug.addListener();
		WasynManager.instance.frameLoop(this,this.update,5);
	}

	__proto.update=function(){
		if(this._isMouseOver){
			var data;
			if(this._displayTree.mouseRollOverItem && this._displayTree.mouseRollOverItem.listItemData){
				data=this._displayTree.mouseRollOverItem.listItemData.data;
			}
			this.updateChildInfo(data);
		}
		else{
			this.updateChildInfo(null);
		}
	}

	__proto.updateChildInfo=function(child){
		this._plug.overDisplay=child;
		child=child;
		this._childRect.target=child;
		try{
			if(child){
				this._nameLabel.text=String(child)+"["+this._nameLabel.name+"]";
				this._xLabel.text="x:"+(child.x).toFixed(2);
				this._yLabel.text="y:"+(child.y).toFixed(2);
				if((child instanceof laya.display.Sprite )){
					this._mouseEnableLabel.text="mouseEnabled:"+(child).mouseEnabled;
					this._mouseChildrenLabel.text="mouseThrough:"+(child).mouseThrough;
				}
				else{
					this._mouseEnableLabel.text=this._mouseChildrenLabel.text="";
				}
				this._widthLabel.text="width:"+(child.width).toFixed(2);
				this._heightLabel.text="height:"+(child.height).toFixed(2);
				this._mouseXLabel.text="scaleX:"+(child.scaleX).toFixed(2);
				this._mouseYLabel.text="scaleY:"+(child.scaleY).toFixed(2);
				this._alphaLabel.text="alpha:"+(child.alpha).toFixed(2);
				this._visiableLabel.text="visible:"+child.visible;
			}
			else{
				this._mouseEnableLabel.text=this._mouseChildrenLabel.text="";
				this._visiableLabel.text="";
				this._nameLabel.text="";
				this._xLabel.text="";
				this._yLabel.text="";
				this._widthLabel.text="";
				this._heightLabel.text="";
				this._mouseXLabel.text="";
				this._mouseYLabel.text="";
				this._alphaLabel.text="";
			}
		}
		catch(e){
			WlogUtil.log(e,Wsystem.Log_Error);
		}
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._displayScrollTree.size(this._width,Math.max(this._height-130,100));
		this._propertyContain.y=this._displayScrollTree.height;
	}

	__proto.hide=function(){
		WpopManager.instance.removeWindow(this);
	}

	__proto.show=function(parent){
		this.pos(Wstage.stageWidth-this._width,0);
		WpopManager.instance.popWindow(this,Wsystem.Pop_StageDisplayListView);
	}

	__getset(0,__proto,'currentDisplay',function(){
		return this._plug.currentDisplay;
		},function(value){
		if(this._plug.currentDisplay==value)return;
		this._plug.currentDisplay=value;
		this._measureBtn.enabled=(this.currentDisplay instanceof laya.display.Sprite );
		this._displayTree.treeData=this._plug.stage;
		this._displayTree.selectedItem=this._plug.currentDisplay;
		this._displayTree.viewToSelect();
	});

	__getset(0,__proto,'plug',function(){
		return this._plug;
		},function(value){
		if(this._plug==value)return;
		if(this._plug){
			this._plug.overDisplay=null;
			this._plug.removeListener();
		}
		this._plug=value;
		WdisplayTreeItem.plug=this._plug;
		WdisplayTreeNodeInfo.plug=this._plug;
		this._displayTree.checkTreeFunc=this._plug.checkTree.bind(this._plug);
		this._displayTree.treeData=this._plug.stage;
		if(this._plug){
			if(this.stage){
				this._plug.addListener();
			}
		}
	});

	__getset(1,WstageDisplayListView,'instance',function(){
		return WstageDisplayListView._instance||new WstageDisplayListView;
	},org.coms.components.Kwindow._$SET_instance);

	WstageDisplayListView._instance=null;
	return WstageDisplayListView;
})(Kwindow)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WchartItem.as=======93.994829/93.994829
//class tool.dream.displays.WchartItem extends org.coms.components.KpushButton
var WchartItem=(function(_super){
	function WchartItem(chartName,frameFunc,updateFrameNum,showTotalFrame,index){
		this.chartName=null;
		this.frameFunc=null;
		this.updateFrameNum=0;
		this.showTotalFrame=0;
		this.index=0;
		this._cumulative=0;
		this._data=null;
		this._lineChart=null;
		this._isShowChart=false;
		this._nowFrame=0;
		WchartItem.__super.call(this);
		this.chartName=chartName;
		this.frameFunc=frameFunc;
		this.updateFrameNum=updateFrameNum;
		this.showTotalFrame=showTotalFrame;
		this.index=index;
		this.on("mousedown",this,this.downHd);
		this._lineChart=new KlineChart(null,0,0);
		this._lineChart.showScaleLabels=true;
		this._lineChart.size(200,100);
		WmouseDownUpEvent.listenerKeyByFunc(this._lineChart,null,this.moveDownChartHd,this.moveUpChartHd);
		this._data=[];
	}

	__class(WchartItem,'tool.dream.displays.WchartItem',_super);
	var __proto=WchartItem.prototype;
	__proto.moveDownChartHd=function(e){
		this._lineChart.startDrag();
	}

	__proto.moveUpChartHd=function(e){
		this._lineChart.stopDrag();
	}

	__proto.updateView=function(){
		var num=this.frameFunc();
		this._cumulative+=num;
		if(this._isShowChart)
			this._data.push(num);
		this._nowFrame++;
		if(this._nowFrame>=this.updateFrameNum){
			if(this.chartName=="FPS"){
				this._cumulative=1000/this._cumulative*this.updateFrameNum
			}
			else{
				this._cumulative=this._cumulative/this.updateFrameNum;
			}
			this.label=this.chartName+":"+this._cumulative.toFixed(2);
			this._cumulative=0;
			this._nowFrame=0;
			if(this._isShowChart)
				this.updateChartView();
		}
	}

	__proto.updateChartView=function(){
		if(this._data.length>this.showTotalFrame){
			this._data.splice(0,this._data.length-this.showTotalFrame);
		}
		this._lineChart.data=this._data;
	}

	__proto.downHd=function(){
		this.isShowChart=!this.isShowChart;
	}

	__getset(0,__proto,'isShowChart',function(){
		return this._isShowChart;
		},function(value){
		this._isShowChart=value;
		if(value){
			this._lineChart.pos(Wstage.stageWidth-this._lineChart.width-200,this.index*100+10);
			WpopManager.instance.popWindow(this._lineChart,Wsystem.Pop_Debug);
		}
		else{
			WpopManager.instance.removeWindow(this._lineChart);
		}
	});

	return WchartItem;
})(KpushButton)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WyesORno.as=======93.994826/93.994826
//class tool.dream.displays.WyesORno extends org.coms.components.Kwindow
var WyesORno=(function(_super){
	function WyesORno(){
		this._noBtn=null;
		this._yesBtn=null;
		this._okFunc=null;
		this._noFunc=null;
		WyesORno.__super.call(this);
	}

	__class(WyesORno,'tool.dream.displays.WyesORno',_super);
	var __proto=WyesORno.prototype;
	Laya.imps(__proto,{"wlb.dream.keyManagers.IkeyControl":true})
	__proto.initCom=function(){
		org.coms.components.Kcomponent.prototype.initCom.call(this);
		this.hasCloseButton=true;
		this.createNoAndOk();
	}

	//todo:.................
	__proto.onClose=function(){
		_super.prototype.onClose.call(this);
		this.noDownHd();
	}

	//................
	__proto.initSize=function(){
		this.size(200,50);
	}

	__proto.removedHd=function(){
		game.dream.gameUI.WgameUI.prototype.removedHd.call(this);
		WkeyCtrlManager.instance.popKeyCtrl(this);
	}

	__proto.addedHd=function(){
		game.dream.gameUI.WgameUI.prototype.addedHd.call(this);
		WkeyCtrlManager.instance.pushKeyCtrl(this);
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		if(this._yesBtn.visible&&this._noBtn.visible){
			this._yesBtn.pos(this._width*0.25-this._yesBtn.width*0.5,this._height-45);
			this._noBtn.pos(this._width*0.75-this._yesBtn.width*0.5,this._height-45);
		}
		else if(this._yesBtn.visible){
			this._yesBtn.pos(this._width-this._yesBtn.width>>1,this._height-45);
		}
	}

	__proto.createNoAndOk=function(yestitle,notitle){
		(yestitle===void 0)&& (yestitle="确定");
		(notitle===void 0)&& (notitle="取消");
		this._yesBtn=new KpushButton(this,0,0,yestitle,this.yesDownHd.bind(this));
		this._yesBtn.size(60,20);
		this._noBtn=new KpushButton(this,0,0,notitle,this.noDownHd.bind(this));
		this._noBtn.size(60,20);
	}

	__proto.noDownHd=function(){
		this.hide();
		if(this._noFunc!=null){
			this._noFunc();
		}
		this._okFunc=this._noFunc=null;
	}

	__proto.yesDownHd=function(){
		this.hide();
		if(this._okFunc!=null){
			this.okFunc();
		}
		this.event("ok");
		this._okFunc=this._noFunc=null;
	}

	__proto.okFunc=function(){
		this._okFunc();
	}

	__proto.hide=function(){
		WpopManager.instance.removeWindow(this);
	}

	__proto.setOkAndNoFunc=function(okFunc,noFunc){
		this._noFunc=noFunc;
		this._okFunc=okFunc;
		this._yesBtn.visible=this._okFunc!=null;
		this._noBtn.visible=this._yesBtn.visible&&this._noFunc!=null;
		this.drawAsyn();
	}

	__proto.focusKey=function(focus){}
	__proto.pressKey=function(keyCode,isPress){
		if(isPress){
			switch(keyCode){
				case 13:
					this.yesDownHd();
					break ;
				case 27:
					this.noDownHd();
					break ;
				}
		}
	}

	return WyesORno;
})(Kwindow)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WanalysisMngerView.as=======93.994825/93.994825
//class tool.dream.displays.WanalysisMngerView extends org.coms.components.Kwindow
var WanalysisMngerView=(function(_super){
	function WanalysisMngerView(){
		this._mngerList=null;
		this._sourceList=null;
		this._mngerNameArr=null;
		this._currentMnger=null;
		WanalysisMngerView.__super.call(this,null,0,0,"资源库");
		this.initView();
	}

	__class(WanalysisMngerView,'tool.dream.displays.WanalysisMngerView',_super);
	var __proto=WanalysisMngerView.prototype;
	__proto.initView=function(){
		this.hasCloseButton=true;
		this.hasMinimizeButton=true;
		this.hasFullButton=true;
		this._mngerList=new WsearchInput("Show_Int");
		this._mngerList.list.listItemHeight=30;
		this._mngerList.on("Input_Change",this,this.chooseMngerHd);
		this._mngerList.input.defaultText='配置列表'
		this.addChild(this._mngerList);
		this._sourceList=new WsearchInput("Show_Int");
		this._sourceList.list.listItemHeight=30;
		this._sourceList.x=150;
		this._sourceList.input.defaultText='条目列表'
		this._sourceList.on("Input_Change",this,this.chooseSourceHd);
		this.addChild(this._sourceList);
		this.size(400,320);
		this.on("added",this,this.addToStageHd);
	}

	__proto.onClose=function(){
		_super.prototype.onClose.call(this);
		this.hide();
	}

	__proto.chooseSourceHd=function(event){
		if(this._currentMnger==null||!this._sourceList.list.selectedItem)return;
		var info=this._currentMnger.getByID(this._sourceList.list.selectedItem);
		if(info){
			WeditObjMnger.popNewEditObjWin(info);
		}
	}

	__proto.chooseMngerHd=function(event){
		var libName=this._mngerList.text;
		this._currentMnger=Table.I.get(libName);
		if(this._currentMnger==null)return;
		var sourceArr=[];
		var data;
		for(var $each_data in this._currentMnger){
			data=this._currentMnger[$each_data];
			sourceArr.push(data.id);
		}
		this._sourceList.setSearch(sourceArr);
	}

	__proto.addToStageHd=function(event){
		this.flushMngerList();
		this._sourceList.setSearch({});
	}

	__proto.flushMngerList=function(){
		this._mngerNameArr=[];
		var lib=Table.I['_sheets'];
		for(var key in lib){
			this._mngerNameArr.push(key);
		}
		this._mngerList.setSearch(this._mngerNameArr);
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._mngerList.size(this._width>>1,this._height-20);
		this._sourceList.x=this._mngerList.width;
		this._sourceList.size(this._width>>1,this._height-20);
	}

	__proto.hide=function(){
		WpopManager.instance.removeWindow(this);
	}

	__proto.show=function(parent){
		WpopManager.instance.popWindow(this,Wsystem.Pop_Command,2);
	}

	__getset(1,WanalysisMngerView,'instance',function(){
		if(WanalysisMngerView._instance==null){
			WanalysisMngerView._instance=WclassMnger.instance.createInstance("Cla_AnalysisMnger",WanalysisMngerView);
		}
		return WanalysisMngerView._instance;
	},org.coms.components.Kwindow._$SET_instance);

	WanalysisMngerView._instance=null;
	return WanalysisMngerView;
})(Kwindow)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WcommandWin.as=======93.994822/93.994822
/**
*命令面板工具
*@author wulongbin
*
*/
//class tool.dream.displays.WcommandWin extends org.coms.components.Kwindow
var WcommandWin=(function(_super){
	var WcmdInfo;
	function WcommandWin(){
		this._inputTextHeight=30;
		this._commandInput=null;
		this._resultTf=null;
		this._lockBtn=null;
		this._okBtn=null;
		this._isLock=false;
		this._historyNum=1000;
		this._commands=[];
		this._cmds={};
		this._logType="";
		this._logTypeChange=false;
		this.showFunc=null;
		// }
		this._oldLogNum=0;
		this._updateScroll=false;
		WcommandWin.__super.call(this,null,0,0,"日志");
		this.initView();
	}

	__class(WcommandWin,'tool.dream.displays.WcommandWin',_super);
	var __proto=WcommandWin.prototype;
	Laya.imps(__proto,{"wlb.dream.keyManagers.IkeyControl":true})
	__proto.initView=function(){
		this.hasMinimizeButton=true;
		this.hasCloseButton=true;
		this.hasSetSizeBtn=true;
		this.size(400,300);
		this._commandInput=new WsearchInput("Show_Out",WcommandCmdItem);
		this._commandInput.isLayoutTop=true;
		this.addChild(this._commandInput);
		this._okBtn=new KpushButton(this,0,0,"OK",this.onOK);
		this._okBtn.size(60,30);
		this._commandInput.textField.on("focus",this,this.focusInHd);
		this._commandInput.textField.on("blur",this,this.focusOutHd);
		this._resultTf=new KList(this,0,30,null,LogItem);
		this._lockBtn=new KcheckBox(this._panel,this._width-20,this._height-30,"",this.lockHd.bind(this));
		this._lockBtn.size(10,10);
		WtipManager.instance.addTipForDisplay(this._lockBtn,"锁屏");
		this.initCommands();
		this.on("added",this,this.addStageHd);
		this.on("removed",this,this.removeStageHd);
	}

	__proto.onOK=function(e){
		this.runCommand(this._commandInput.text);
	}

	__proto.focusOutHd=function(){
		WkeyCtrlManager.instance.popKeyCtrl(this);
	}

	__proto.focusInHd=function(){
		this._commandInput.setSearch(this._commands);
		WkeyCtrlManager.instance.pushKeyCtrl(this);
	}

	__proto.lockHd=function(e){
		this._isLock=this._lockBtn.selected;
	}

	__proto.addStageHd=function(event){
		WasynManager.instance.frameLoop(this,this.updateView ,2);
		this.updateView();
	}

	__proto.updateView=function(){
		if(this._oldLogNum !=WlogUtil.logNum||this._logTypeChange){
			this._logTypeChange=false;
			this._oldLogNum=WlogUtil.logNum;
			var logs;
			if(this._logType){
				logs=[];
				var str;
				for(var $each_str in WlogUtil.logs){
					str=WlogUtil.logs[$each_str];
					if(str.indexOf(this._logType)>=0){
						logs.push(str);
					}
				}
			}
			else{
				logs=WlogUtil.logs;
			}
			this._resultTf.items=logs;
			if(!this._isLock && this._resultTf.selectedIndex==-1){
				this._resultTf.updateScroll();
				this._resultTf.scrollbar.value=this._resultTf.scrollbar.maximum;
			}
		}
	}

	__proto.removeStageHd=function(e){
		WasynManager.instance.clearFrameLoop(this,this.updateView);
	}

	// }
	__proto.initCommands=function(){
		this.registCommand("showInstance",function(str){
			WlogUtil.log("没有该类"+str+"!");
		},"className::instance 查看单例属性对象");
	}

	__proto.registCommand=function(name,func,des){
		(des===void 0)&& (des="");
		name="@"+name;
		this._cmds[name]=func;
		this._commands.push(new WcmdInfo(name,des));
	}

	__proto.onClose=function(){
		this.hide();
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._commandInput.size(this._width-60,this._inputTextHeight);
		this._okBtn.size(60,this._inputTextHeight);
		this._okBtn.x=this._commandInput.width;
		this._resultTf.size(this._width,this._height-20-this._inputTextHeight);
		this._lockBtn.pos(this._width-20,this._height-this._inputTextHeight);
	}

	// _setSizeBtn.pos(_width-10,_height-_inputTextHeight);
	__proto.pressKey=function(keyCode,isPress){
		if(isPress)return;
		if(keyCode==13){
			var cmdStr=this._commandInput.text;
			this._commandInput.textField.setSelection(0,/*no*/this.int.MAX_VALUE);
			this.runCommand(this._commandInput.text);
		}
	}

	__proto.runCommand=function(cmd){
		if(cmd==""){
			this.logType="";
			return;
		}
		if(cmd.charAt(0)=="@"){
			var arr=cmd.split(" ");
			var api=arr[0];
			arr.shift();
			try{
				this._cmds[api].apply(null,arr);
			}
			catch(e){
				WlogUtil.log("指令错误："+e.message,Wsystem.Log_Error);
			}
		}
		else{
			this.logType=cmd;
		}
	}

	__proto.focusKey=function(focus){
		if(focus){
			this.stage.focus=this._commandInput.textField;
		}
	}

	__proto.show=function(parent){
		if(this.showFunc!=null){
			this.showFunc(true);
		}
		else{
			WpopManager.instance.popWindow(this,Wsystem.Pop_Command,2);
		}
	}

	__proto.hide=function(){
		if(this.showFunc!=null){
			this.showFunc(false);
		}
		else{
			WpopManager.instance.removeWindow(this);
		}
	}

	__getset(0,__proto,'logType',function(){
		return this._logType;
		},function(value){
		if(this._logType==value)return;
		this._logType=value;
		this._logTypeChange=true;
	});

	__getset(1,WcommandWin,'instance',function(){
		return WcommandWin._instance||(WcommandWin._instance=new WcommandWin);
	},org.coms.components.Kwindow._$SET_instance);

	WcommandWin._instance=null;
	WcommandWin.__init$=function(){
		//class WcmdInfo
		WcmdInfo=(function(){
			function WcmdInfo(name,des){
				this.name=null;
				this.des=null;
				this.name=name;
				this.des=des;
			}
			__class(WcmdInfo,'');
			var __proto=WcmdInfo.prototype;
			__proto.toString=function(){
				return this.name;
			}
			return WcmdInfo;
		})()
	}

	return WcommandWin;
})(Kwindow)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WdebugView.as=======93.994820/93.994820
/**
*debug调试工具
*@author wulongbin
*
*/
//class tool.dream.displays.WdebugView extends org.coms.components.Kwindow
var WdebugView=(function(_super){
	function WdebugView(){
		this.MaxHeight=150;
		this.InitHeight=50;
		this.ButtonHeight=30;
		this._chartItems=null;
		this._funcContain=null;
		this._funcBtns=null;
		this._isAwayShow=true;
		WdebugView.__super.call(this,null,0,0,"调试");
		this.initFps();
	}

	__class(WdebugView,'tool.dream.displays.WdebugView',_super);
	var __proto=WdebugView.prototype;
	__proto.initFps=function(){
		var _$this=this;
		this._chartItems=new Array;
		this.hasMinimizeButton=true;
		this._funcContain=new Wsprite;
		this.addChild(this._funcContain);
		var lastTime=this.getTimer();
		this.registerChart("FPS",function(){
			var tempTime=_$this.getTimer();
			var offTime=tempTime-lastTime;
			lastTime=tempTime;
			return offTime;
		},Wstage.frameRate,100);
		WasynManager.instance.frameLoop(this,this.frameHd);
		this.on("mouseover",this,this.overHd);
		this.on("mouseout",this,this.outHd);
		this._funcBtns=new Array;
		this.registerFuncBtnForPanel("显示列表",WstageDisplayListView.instance);
		this.registerFuncBtnForPanel("日志命令",WcommandWin.instance);
		this.registerFuncBtnForPanel("资源列表",WanalysisMngerView.instance);
		this.registerFuncBtnForPanel('测量对齐',WmeasureTool.instance);
		this.minimized=true;
	}

	// }
	__proto.layoutNow=function(){
		game.dream.gameUI.WgameUI.prototype.layoutNow.call(this);
	}

	// }
	__proto.registerChart=function(name,callBack,updateFrame,showTotalFrame){
		var chartItem=new WchartItem(name,callBack,updateFrame,showTotalFrame,this._chartItems.length);
		chartItem.size(this._width,30);
		chartItem.y=30*this._chartItems.length;
		this._chartItems.push(chartItem);
		this.addChild(chartItem);
		this.asynLayout();
	}

	__proto.registerFuncBtnForPanel=function(name,panel){
		var display=new KcheckBox(null,0,0,name);
		display.on("click",this,function(e){
			if(!display.selected){
				panel.hide();
			}
			else{
				panel.show();
			}
		});
		panel.on("added",this,function(){
			display.selected=true;
		});
		panel.on("removed",this,function(){
			display.selected=false;
		});
		this.registerFuncDis(display);
	}

	__proto.registerFuncBtn=function(name,callBack,isCheck,selected){
		(isCheck===void 0)&& (isCheck=false);
		(selected===void 0)&& (selected=false);
		var display;
		if(isCheck){
			display=new KcheckBox(null,0,0,name,callBack);
			(display).selected=selected;
		}
		else{
			display=new KpushButton(null,0,0,name,callBack);
		}
		this.registerFuncDis(display);
	}

	__proto.registerFuncDis=function(display){
		this._funcContain.addChild(display);
		display.x=0;
		display.y=this._funcBtns.length*this.ButtonHeight;
		display.height=this.ButtonHeight;
		this._funcBtns.push(display);
		this.asynLayout();
	}

	__proto.asynLayout=function(){
		WasynManager.instance.frameOnce(this,this.nowLayout);
	}

	__proto.nowLayout=function(){
		this.InitHeight=this._chartItems.length*30+20;
		this._funcContain.y=this._chartItems.length*30;
		this.MaxHeight=this.InitHeight+this._funcBtns.length*30;
		this.size(this._width,this.InitHeight);
	}

	__proto.outHd=function(event){
		if(this._minimized)this.alpha=0.3;
		this.height=this.MaxHeight;
	}

	// WasynManager.instance.to(this,0.5,{height:MaxHeight,ease:WtweenEase.eashSlow,type:1});
	__proto.overHd=function(event){
		this.height=this.MaxHeight;
		if(this._minimized)this.alpha=1;
	}

	// WasynManager.instance.to(this,0.5,{height:MaxHeight,ease:WtweenEase.eashFast,type:1});
	__proto.frameHd=function(){
		var chartItem;
		for(var $each_chartItem in this._chartItems){
			chartItem=this._chartItems[$each_chartItem];
			chartItem.updateView();
		}
	}

	__proto.fixMemory=function(num){
		return (num/WdebugView.Z20).toFixed(2);
	}

	__proto.show=function(parent){
		this.x=0;
		WpopManager.instance.popWindow(this,Wsystem.Pop_Debug,0);
	}

	__proto.hide=function(){
		WpopManager.instance.removeWindow(this);
	}

	__proto.getTimer=function(){
		return Browser.now();
	}

	__getset(0,__proto,'isAutoSize',function(){
		return this._isAwayShow;
		},function(value){
		this._isAwayShow=value;
		if(value){
			this.on("mouseover",this,this.overHd);
			this.on("mouseout",this,this.outHd);
		}
		else{
			this.on("mouseover",this,this.overHd);
			this.on("mouseout",this,this.outHd);
		}
	});

	__getset(1,WdebugView,'instance',function(){
		if(WdebugView._instance==null){
			WdebugView._instance=new (WclassMnger.instance.getClass("Cla_DebugView",WdebugView));
		}
		return WdebugView._instance;
	},org.coms.components.Kwindow._$SET_instance);

	WdebugView._instance=null;
	__static(WdebugView,
	['Z10',function(){return this.Z10=1<<10;},'Z20',function(){return this.Z20=1<<20;}
	]);
	return WdebugView;
})(Kwindow)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WvectorItem.as=======93.994777/93.994777
//class tool.dream.protyEdits.WvectorItem extends org.coms.components.KlistItem
var WvectorItem=(function(_super){
	function WvectorItem(parent,xpos,ypos,data){
		(xpos===void 0)&& (xpos=0);
		(ypos===void 0)&& (ypos=0);
		WvectorItem.__super.call(this,parent,xpos,ypos,data);
	}

	__class(WvectorItem,'tool.dream.protyEdits.WvectorItem',_super);
	return WvectorItem;
})(KlistItem)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/displayViews/WdisplayTreeItem.as=======93.994729/93.994729
//class tool.dream.displays.displayViews.WdisplayTreeItem extends tool.dream.displays.WtreeItem
var WdisplayTreeItem=(function(_super){
	function WdisplayTreeItem(){
		this._label=null;
		WdisplayTreeItem.__super.call(this);
		this._label=new Klabel;
		this._label.x=20;
		this.addChild(this._label);
	}

	__class(WdisplayTreeItem,'tool.dream.displays.displayViews.WdisplayTreeItem',_super);
	var __proto=WdisplayTreeItem.prototype;
	__getset(0,__proto,'listItemData',_super.prototype._$get_listItemData,function(value){
		Laya.superSet(WtreeItem,this,'listItemData',value);
		if(this._nodeInfo){
			this._label.text="["+this._nodeInfo.key+"]"+wlb.getClassName(this._nodeInfo.data)+(WdisplayTreeItem.plug.getListItemLabel(this._nodeInfo.data));
		}
		else{
			this._label.text="";
		}
	});

	__getset(0,__proto,'label',function(){
		return this._label.text;
	});

	__getset(0,__proto,'width',function(){
		return this._label.width+20;
	},_super.prototype._$set_width);

	WdisplayTreeItem.plug=null;
	return WdisplayTreeItem;
})(WtreeItem)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/measures/WmeasureDisplay.as=======93.994715/93.994715
//class tool.dream.displays.measures.WmeasureDisplay extends tool.dream.displays.measures.WmeasureXYWH
var WmeasureDisplay=(function(_super){
	function WmeasureDisplay(){
		this._target=null;
		this._centerPointShape=null;
		WmeasureDisplay.__super.call(this);
	}

	__class(WmeasureDisplay,'tool.dream.displays.measures.WmeasureDisplay',_super);
	var __proto=WmeasureDisplay.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._centerPointShape=new Shape;
		this._centerPointShape.graphics.drawLine(-10,0,10,0,'#000000',2);
		this._centerPointShape.graphics.drawLine(0,10,0,-10,'#000000',2);
		this.addChild(this._centerPointShape);
	}

	__getset(0,__proto,'target',function(){
		return this._target;
		},function(value){
		this._target=value;
		if(this._target && this._target.parent && (value instanceof laya.display.Sprite )){
			WpopManager.instance.popWindow(this,Wsystem.Pop_StageDisplayListView-1);
			var stageXY=this._target.localToGlobal(WonceUtil.getPoint(0,0));
			var rect=this._target.getSelfBounds();
			var gobalX=rect.x+stageXY.x;
			var gobalY=rect.y+stageXY.y;
			this._centerPointShape.x=rect.x;
			this._centerPointShape.y=rect.y;
			if((this._target instanceof laya.display.Stage )){
				WasynManager.instance.to(this,4,{x:0,y:0,width:Wstage.stageWidth,height:Wstage.stageHeight});
			}
			else{
				WasynManager.instance.to(this,4,{x:gobalX,y:gobalY,width:rect.width,height:rect.height});
			}
		}
		else{
			WpopManager.instance.removeWindow(this);
		}
	});

	return WmeasureDisplay;
})(WmeasureXYWH)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/jsonEdits/WjsonEditItem.as=======93.994702/93.994702
//class tool.dream.jsonEdits.WjsonEditItem extends tool.dream.displays.WtreeItem
var WjsonEditItem=(function(_super){
	function WjsonEditItem(){
		this._keyTf=null;
		this._valueTf=null;
		this._returnValue=null;
		WjsonEditItem.__super.call(this);
		this._keyTf=new WtextField;
		this._keyTf.autoSize="left";
		this._keyTf.mouseEnabled=false;
		this._keyTf.pos(20,0);
		this._keyTf.addToParent(this);
		this._valueTf=new KinputText(this,120,0);
		this._valueTf.size(120,30);
		this.on("added",this,this.addToStageHd);
		this.on("removed",this,this.removeFromStageHd);
	}

	__class(WjsonEditItem,'tool.dream.jsonEdits.WjsonEditItem',_super);
	var __proto=WjsonEditItem.prototype;
	__proto.addToStageHd=function(event){
		var _$this=this;
		if(event.target==this){
			WcopyPasteMnger.instance.registeCP(this,function(value){
				_$this._nodeInfo.parent.data[_$this._nodeInfo.key]=_$this._nodeInfo.data=value;
				_$this.listItemData=value;
				},function(){
				return _$this._nodeInfo.data;
			});
		}
	}

	__proto.removeFromStageHd=function(event){
		if(event.target==this){
			WcopyPasteMnger.instance.removeCP(this);
		}
	}

	__proto.changeValueHd=function(event){
		if(this._returnValue!=null)
			this._nodeInfo.parent.data[this._nodeInfo.key]=this._nodeInfo.data=this._returnValue(this._valueTf.text);
	}

	__proto.detailValueHd=function(event){
		WeditObjMnger.popNewEditObjWin(this._nodeInfo.data);
	}

	__proto.returnStr=function(value){
		return value;
	}

	__proto.returnNum=function(value){
		return Number(value);
	}

	__proto.returnBoolean=function(value){
		return value=="true";
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._keyTf.y=this._height-this._keyTf.height>>1;
	}

	__getset(0,__proto,'listItemData',_super.prototype._$get_listItemData,function(value){
		Laya.superSet(WtreeItem,this,'listItemData',value);
		if(this._nodeInfo){
			var data=this._nodeInfo.data;
			this._valueTf.visible=this._keyTf.visible=true;
			if(this._nodeInfo.isTreeNode){
				this._valueTf.text=String(data.constructor);
				this._valueTf.textField.off("blur",this,this.changeValueHd);
				this._returnValue=null;
			}
			else{
				this._valueTf.text=String(this._nodeInfo.parent?this._nodeInfo.parent.data[this._nodeInfo.key]:this._nodeInfo.data);
				if((typeof data=='number')){
					this._returnValue=this.returnNum;
				}
				else if((typeof data=='boolean')){
					this._returnValue=this.returnBoolean;
				}
				else if((typeof data=='string')){
					this._returnValue=this.returnStr;
				}
				else{
					this._returnValue=null;
				}
			}
			if(this._nodeInfo.parent&&(this._nodeInfo.parent).keyToName[this._nodeInfo.key]){
				this._keyTf.text=(this._nodeInfo.parent).keyToName[this._nodeInfo.key];
			}
			else{
				this._keyTf.text=this._nodeInfo.key;
			}
			this._valueTf.x=this._keyTf.x+this._keyTf.width+5;
			if(this._returnValue==null){
				this._valueTf.textField.on("click",this,this.detailValueHd);
			}
			else{
				this._valueTf.textField.on("blur",this,this.changeValueHd);
			}
		}
		else{
			this._valueTf.textField.off("click",this,this.detailValueHd);
			this._valueTf.textField.off("blur",this,this.changeValueHd);
			this._valueTf.visible=this._keyTf.visible=false;
			this._keyTf.text="";
			this._valueTf.text="";
			this._returnValue=null;
		}
	});

	__getset(0,__proto,'width',function(){
		return this._valueTf.x+this._valueTf.width;
	},_super.prototype._$set_width);

	return WjsonEditItem;
})(WtreeItem)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WtreeScroll.as=======93.994683/93.994683
//class tool.dream.displays.WtreeScroll extends tool.dream.displays.WlistScrollV
var WtreeScroll=(function(_super){
	function WtreeScroll(list,scrollV,w,h){
		this._scrollH=null;
		this._tree=null;
		(w===void 0)&& (w=200);
		(h===void 0)&& (h=200);
		this._tree=list;
		WtreeScroll.__super.call(this,list,scrollV,w,h);
	}

	__class(WtreeScroll,'tool.dream.displays.WtreeScroll',_super);
	var __proto=WtreeScroll.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._scrollH=new KHScrollBar(this,0,0,this.scrollHChangeHd);
		this._scrollHHeight=20;
		this._tree.on("Tree_ContainerResize",this,this.updateScrollHd);
	}

	__proto.updateScrollHd=function(event){
		this._scrollH.setThumbPercent((this._width-20)/this._tree.containerWidth);
		this._scrollH.setSliderParams(0,this._tree.containerWidth-(this._width-20),this._tree.containerX);
	}

	__proto.scrollHChangeHd=function(e){
		this._tree.containerX=this._scrollH.value;
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._scrollH.size(this._width,this._scrollHHeight);
		this._scrollH.pos(0,this._height-this._scrollHHeight);
	}

	__getset(0,__proto,'containerX',function(){
		return this._tree.containerX;
		},function(value){
		this._tree.containerX=value;
		this.updateScrollHd();
	});

	return WtreeScroll;
})(WlistScrollV)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WstringProty.as=======93.994627/93.994627
//class tool.dream.protyEdits.WstringProty extends tool.dream.protyEdits.WeditProty
var WstringProty=(function(_super){
	function WstringProty(){
		this._input=null;
		WstringProty.__super.call(this);
	}

	__class(WstringProty,'tool.dream.protyEdits.WstringProty',_super);
	var __proto=WstringProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._com=this._input=new KinputText(this,100,5);
		this._input.hasTip=true;
		this._input.textField.on("blur",this,this.outHd);
		this.size(200,30);
	}

	__proto.outHd=function(){
		if(this._protyEditInfo){
			this._protyEditInfo.setFunc(this._editObj,this._input.text);
			this.upDate();
		}
	}

	__proto.setFocus=function(){
		if(Wstage.stage.focus!=this._input.textField)
			Wstage.stage.focus=this._input.textField;
	}

	__proto.upDate=function(){
		this._input.text=this._protyEditInfo.getFunc(this._editObj);
		WasynManager.instance.clearFrameOnce(this._input,this._input.drawNow);
		this._input.drawNow();
	}

	return WstringProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WbitmapDataProty.as=======93.994625/93.994625
//class tool.dream.protyEdits.WbitmapDataProty extends tool.dream.protyEdits.WeditProty
var WbitmapDataProty=(function(_super){
	function WbitmapDataProty(){
		this._bitmap=null;
		this._operatorMeau=null;
		this._oldBitmap=null;
		this._oldBitmapContain=null;
		WbitmapDataProty.__super.call(this);
		this._bitmap=new Image;
		this._bitmap.x=this.Com_X;
		this._bitmap.y=0;
		this.addChild(this._bitmap);
		this._oldBitmapContain=new Kwindow(null,0,0,"位图",KscrollPane);
		this._oldBitmapContain.on("close",this,this.closeHd);
		this._oldBitmapContain.left=200;
		this._oldBitmapContain.right=200;
		this._oldBitmapContain.top=200;
		this._oldBitmapContain.bottom=200;
		this._oldBitmapContain.hasCloseButton=true;
		this._oldBitmap=new Image;
		this._operatorMeau=new Wmeau(null,100,100);
		this._operatorMeau.setGridAndItem(100,25,100,25);
		this._operatorMeau.addMeauItem("查看原图",this,this.checkOldBitmapHd);
		this._operatorMeau.addMeauItem("查看详细信息",this,this.detailInfoHd);
		this.on("rightClick",this,this.popMeauHd)
		this.size(200,100);
	}

	__class(WbitmapDataProty,'tool.dream.protyEdits.WbitmapDataProty',_super);
	var __proto=WbitmapDataProty.prototype;
	__proto.popMeauHd=function(event){
		event.stopPropagation();
		this._operatorMeau.pos(Wstage.stage.mouseX,Wstage.stage.mouseY);
		WpopManager.instance.popWindow(this._operatorMeau,Wsystem.Pop_EditObjWin);
		Wstage.stage.on("click",this,this.removeMeauHd);
	}

	__proto.removeMeauHd=function(event){
		WpopManager.instance.removeWindow(this._operatorMeau);
		Wstage.stage.off("click",this,this.removeMeauHd);
	}

	__proto.closeHd=function(event){
		WpopManager.instance.removeWindow(this._oldBitmapContain);
	}

	__proto.checkOldBitmapHd=function(){
		this._oldBitmap.source=this._protyEditInfo.getFunc(this._editObj);
		this._oldBitmapContain.addChild(this._oldBitmap);
		WpopManager.instance.popWindow(this._oldBitmapContain,Wsystem.Pop_EditObjWin,1);
	}

	__proto.detailInfoHd=function(){
		WeditObjMnger.popNewEditObjWin(this._protyEditInfo.getFunc(this._editObj));
	}

	__proto.size=function(w,h){
		return _super.prototype.size.call(this,w,100);
	}

	__proto.upDate=function(){
		this._bitmap.source=this._protyEditInfo.getFunc(this._editObj);
		this._bitmap.width=100;
		this._bitmap.height=100;
	}

	__proto.dispose=function(){
		_super.prototype.dispose.call(this);
		this._bitmap.source=null;
	}

	return WbitmapDataProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WboolProty.as=======93.994624/93.994624
//class tool.dream.protyEdits.WboolProty extends tool.dream.protyEdits.WeditProty
var WboolProty=(function(_super){
	function WboolProty(){
		this._check=null;
		WboolProty.__super.call(this);
	}

	__class(WboolProty,'tool.dream.protyEdits.WboolProty',_super);
	var __proto=WboolProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._com=this._check=new KcheckBox(this,100,5);
		this._check.on("click",this,this.setValueHd);
		this.size(200,30);
	}

	__proto.setValueHd=function(event){
		this._protyEditInfo.setFunc(this._editObj,this._check.selected);
		this.upDate();
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._check.pos(this.Com_X+2,this._height-25>>1);
		this._check.size(25,25);
	}

	__proto.upDate=function(){
		this._check.selected=this._protyEditInfo.getFunc(this._editObj);
		this._check.label=this._check.selected?"true":"false";
	}

	return WboolProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WbuttonProty.as=======93.994623/93.994623
//class tool.dream.protyEdits.WbuttonProty extends tool.dream.protyEdits.WeditProty
var WbuttonProty=(function(_super){
	function WbuttonProty(){
		this._btn=null;
		WbuttonProty.__super.call(this);
		this._com=this._btn=new KpushButton(this,this.Com_X,5,"click");
		this._btn.on("mousedown",this,this.downHd);
		this.size(200,30);
	}

	__class(WbuttonProty,'tool.dream.protyEdits.WbuttonProty',_super);
	var __proto=WbuttonProty.prototype;
	__proto.downHd=function(event){
		this._protyEditInfo.setFunc(this._editObj,null);
	}

	return WbuttonProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WdragXYProty.as=======93.994622/93.994622
//class tool.dream.protyEdits.WdragXYProty extends tool.dream.protyEdits.WeditProty
var WdragXYProty=(function(_super){
	function WdragXYProty(){
		this._value=null;
		this._dragXY=null;
		this._dragXYProtyInfo=null;
		WdragXYProty.__super.call(this);
	}

	__class(WdragXYProty,'tool.dream.protyEdits.WdragXYProty',_super);
	var __proto=WdragXYProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._dragXY=new WdragXY();
		this._dragXY.updateXY=this.change;
		this._value=new WtextField;
		this._value.setTextFormat(TextFormat.once('',16,Kstyle.LABEL_TEXT));
		this.addChild(this._value);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		this._dragXYProtyInfo=protyEidtInfo;
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._value.pos(this.Com_X+2,2);
		this._value.size(this._width-this.Com_X-4,this._height-4);
	}

	__proto.change=function(){
		this._dragXYProtyInfo.setFunc(this._editObj,{x:this._dragXY.x,y:this._dragXY.y});
		this.upDate();
	}

	__proto.upDate=function(){
		var value=this._dragXYProtyInfo.getFunc(this._editObj);
		this._dragXY.x=value.x;
		this._dragXY.y=value.y;
		this._value.text="("+value.x+","+value.y+")";
	}

	__proto.dispose=function(){
		this._dragXY.removeSelf();
		_super.prototype.dispose.call(this);
	}

	__getset(0,__proto,'selected',_super.prototype._$get_selected,function(value){
		Laya.superSet(WeditProty,this,'selected',value);
		if(this.selected){
			try{
				switch(this._dragXYProtyInfo.parentType){
					case "parent":
						(this._editObj).parent.addChild(this._dragXY);
						break ;
					case "self":
						(this._editObj).addChild(this._dragXY);
						break ;
					case "stage":
						Wstage.stage.addChild(this._dragXY);
						break ;
					case "call":
						this._editObj[this._dragXYProtyInfo.callParent]().addChild(this._dragXY);
						break ;
					case "property":
						this._editObj[this._dragXYProtyInfo.callParent].addChild(this._dragXY);
						break ;
					}
				}catch(e){
				WlogUtil.log(e.message,Wsystem.Log_Error);
			}
		}
		else{
			this._dragXY.removeSelf();
		}
	});

	return WdragXYProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WenumProty.as=======93.994614/93.994614
//class tool.dream.protyEdits.WenumProty extends tool.dream.protyEdits.WeditProty
var WenumProty=(function(_super){
	function WenumProty(){
		this._input=null;
		this._enumIsFunc=false;
		this._enumProtyInfo=null;
		WenumProty.__super.call(this);
	}

	__class(WenumProty,'tool.dream.protyEdits.WenumProty',_super);
	var __proto=WenumProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._com=this._input=new WsearchInput();
		this._input.hasTip=true;
		this._input.addToParent(this);
		this._input.pos(this.Com_X,5);
		this._input.size(150,30);
		this.size(200,30);
	}

	__proto.outHd=function(event){
		var list=this._input.list;
		if(list.selectedIndex>=0)
			this._protyEditInfo.setFunc(this._editObj,list.items[list.selectedIndex]);
		else
		this._protyEditInfo.setFunc(this._editObj,this._input.text);
		this.upDate();
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		this._enumProtyInfo=protyEidtInfo;
		if((typeof this._enumProtyInfo.enums=='function')){
			this._enumIsFunc=true;
		}
		else{
			this._enumIsFunc=false;
			this._input.setSearch(this._enumProtyInfo.enums);
		}
		this._input.on("open",this,this.openInputListHd);
		this._input.on("Input_Change",this,this.outHd);
	}

	__proto.openInputListHd=function(event){
		if(this._enumIsFunc){
			this._input.setSearch(this._enumProtyInfo.enums());
		}
		this._input.list.selectedIndex=-1;
	}

	__proto.upDate=function(){
		this._input.text=this._protyEditInfo.getFunc(this._editObj);
		WasynManager.instance.clearFrameOnce(this._input,this._input.drawNow);
		this._input.drawNow();
	}

	__proto.dispose=function(){
		this._enumProtyInfo=null;
		this._enumIsFunc=false;
		this._input.off("open",this,this.openInputListHd);
		this._input.off("Input_Change",this,this.outHd);
		this._input.showList=false;
		this._input.setSearch({});
		_super.prototype.dispose.call(this);
	}

	__proto.setFocus=function(){
		if(Wstage.stage.focus!=this._input.textField)
			Wstage.stage.focus=this._input.textField;
		this._input.showList=true;
	}

	return WenumProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WlabelProty.as=======93.994612/93.994612
//class tool.dream.protyEdits.WlabelProty extends tool.dream.protyEdits.WeditProty
var WlabelProty=(function(_super){
	function WlabelProty(){
		this._value=null;
		WlabelProty.__super.call(this);
	}

	__class(WlabelProty,'tool.dream.protyEdits.WlabelProty',_super);
	var __proto=WlabelProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._value=new WtextField;
		this._value.setTextFormat(TextFormat.once(null,16,Kstyle.LABEL_TEXT));
		this.addChild(this._value);
		this.size(200,30);
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._value.pos(this.Com_X+2,2);
		this._value.size(this._width-this.Com_X-4,this._height-4);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		if((protyEidtInfo.labelColor)){
			this._value.color=protyEidtInfo.labelColor;
		}
		else{
			this._value.color=Kstyle.LABEL_TEXT;
		}
	}

	__proto.upDate=function(){
		this._value.text=this._protyEditInfo.getFunc(this._editObj)||" ";
	}

	__getset(0,__proto,'selected',_super.prototype._$get_selected,function(value){
	});

	return WlabelProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WlayoutGameUIProty.as=======93.994611/93.994611
/**
*专用于gameUI组件布局属性设置
*@author wlb
*
*/
//class tool.dream.protyEdits.WlayoutGameUIProty extends tool.dream.protyEdits.WeditProty
var WlayoutGameUIProty=(function(_super){
	function WlayoutGameUIProty(){
		this._leftCheck=null;
		this._rightCheck=null;
		this._topCheck=null;
		this._bottomCheck=null;
		this._centerHCheck=null;
		this._centerVCheck=null;
		this._leftInput=null;
		this._rightInput=null;
		this._topInput=null;
		this._bottomInput=null;
		this._centerHInput=null;
		this._centerVInput=null;
		this._toLeft=null;
		this._toRight=null;
		this._toTop=null;
		this._toBottom=null;
		this._toCenterV=null;
		this._toCenterH=null;
		WlayoutGameUIProty.__super.call(this);
		this._leftCheck=this.createCheck(this.Com_X+20,5,this.leftCheckHd);
		this._centerHCheck=this.createCheck(this.Com_X+60,5,this.centerHCheckHd);
		this._rightCheck=this.createCheck(this.Com_X+100,5,this.rightCheckHd);
		this._topCheck=this.createCheck(this.Com_X,25,this.topCheckHd);
		this._centerVCheck=this.createCheck(this.Com_X,60,this.centerVCheckHd);
		this._bottomCheck=this.createCheck(this.Com_X,95,this.bottomCheckHd);
		this._leftInput=this.createInput(this.Com_X+10,125,this.setLeftHd);
		this._centerHInput=this.createInput(this.Com_X+55,125,this.setCenterHHd);
		this._rightInput=this.createInput(this.Com_X+100,125,this.setRightHd);
		this._topInput=this.createInput(this.Com_X+120,25,this.setTopHd);
		this._centerVInput=this.createInput(this.Com_X+120,60,this.setCenterVHd);
		this._bottomInput=this.createInput(this.Com_X+120,95,this.setBottomHd);
		this.size(200,150);
	}

	__class(WlayoutGameUIProty,'tool.dream.protyEdits.WlayoutGameUIProty',_super);
	var __proto=WlayoutGameUIProty.prototype;
	__proto.size=function(w,h){
		return _super.prototype.size.call(this,w,150);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		var info=protyEidtInfo;
		var layoutNames=info.layoutNames;
		this._toLeft=layoutNames[0];
		this._toRight=layoutNames[1];
		this._toTop=layoutNames[2];
		this._toBottom=layoutNames[3];
		this._toCenterV=layoutNames[4];
		this._toCenterH=layoutNames[5];
	}

	__proto.createCheck=function(x,y,callBack){
		var check=new KcheckBox(this,x,y,"",callBack);
		check.size(20,20);
		return check;
	}

	__proto.createInput=function(x,y,callBack){
		var input=new KinputText(this,x,y);
		input.size(40,25);
		input.setNumberText("0-9 \\- \\.",true,callBack);
		input.textField.on("focus",this,callBack);
		return input;
	}

	__proto.setLeftHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toLeft]=Number(this._leftInput.text);
		}
		else{
			gameUI[this._toLeft]=data;
		}
	}

	__proto.setRightHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toRight]=Number(this._rightInput.text);
		}
		else{
			gameUI[this._toRight]=data;
		}
	}

	__proto.setTopHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toTop]=Number(this._topInput.text);
		}
		else{
			gameUI[this._toTop]=data;
		}
	}

	__proto.setBottomHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toBottom]=Number(this._bottomInput.text);
		}
		else{
			gameUI[this._toBottom]=data;
		}
	}

	__proto.setCenterHHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toCenterH]=Number(this._centerHInput.text);
		}
		else{
			gameUI[this._toCenterH]=data;
		}
	}

	__proto.setCenterVHd=function(data){
		var gameUI=this._editObj;
		if((data instanceof laya.events.Event )){
			gameUI[this._toCenterV]=Number(this._centerVInput.text);
		}
		else{
			gameUI[this._toCenterV]=data;
		}
	}

	__proto.leftCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toLeft]=this._leftCheck.selected?gameUI.x:NaN;
	}

	__proto.rightCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toRight]=this._rightCheck.selected?gameUI.parent.width-gameUI.x-gameUI.width:NaN;
	}

	__proto.topCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toTop]=this._topCheck.selected?gameUI.y:NaN;
	}

	__proto.bottomCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toBottom]=this._bottomCheck.selected?gameUI.parent.height-gameUI.y-gameUI.height:NaN;
	}

	__proto.centerHCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toCenterH]=this._centerHCheck.selected?(gameUI.width-gameUI.parent.width)*0.5+gameUI.x:NaN;
	}

	__proto.centerVCheckHd=function(e){
		var gameUI=this._editObj;
		gameUI[this._toCenterV]=this._centerVCheck.selected?(gameUI.height-gameUI.parent.height)*0.5+gameUI.y:NaN;
	}

	__proto.upDate=function(){
		var gameUI=this._editObj;
		this._leftInput.text=String(gameUI[this._toLeft]);
		this._rightInput.text=String(gameUI[this._toRight]);
		this._topInput.text=String(gameUI[this._toTop]);
		this._bottomInput.text=String(gameUI[this._toBottom]);
		this._centerHInput.text=String(gameUI[this._toCenterH]);
		this._centerVInput.text=String(gameUI[this._toCenterV]);
		this._leftCheck.selected=!isNaN(gameUI[this._toLeft]);
		this._rightCheck.selected=!isNaN(gameUI[this._toRight]);
		this._topCheck.selected=!isNaN(gameUI[this._toTop]);
		this._bottomCheck.selected=!isNaN(gameUI[this._toBottom]);
		this._centerHCheck.selected=!isNaN(gameUI[this._toCenterH]);
		this._centerVCheck.selected=!isNaN(gameUI[this._toCenterV]);
	}

	return WlayoutGameUIProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WobjectProty.as=======93.994609/93.994609
//class tool.dream.protyEdits.WobjectProty extends tool.dream.protyEdits.WeditProty
var WobjectProty=(function(_super){
	function WobjectProty(){
		this._typeList=null;
		this._input=null;
		this._isJsonString=false;
		WobjectProty.__super.call(this);
	}

	__class(WobjectProty,'tool.dream.protyEdits.WobjectProty',_super);
	var __proto=WobjectProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._input=new KinputText(this,100,0);
		this._input.hasTip=true;
		this._input.textField.on("blur",this,this.outHd);
		this._input.textField.on("focus",this,this.inHd);
		this.size(200,30);
		this._typeList=new KcomboBox(this,100,0,"",["String","Number","Boolean","Object",]);
		this._typeList.size(60,30);
	}

	// }
	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		this._typeList.selectedItem="Object";
	}

	__proto.onEdit=function(event){
		this.container.event("EditObj_Change",WeditProtyEvent.once(this._editObj[ this._protyEditInfo.protyName]));
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		var tempW=this._width-100-this._typeList.width;
		this._input.size(tempW,this._height);
		this._typeList.x=this._width-this._typeList.width;
	}

	__proto.outHd=function(event){
		var text=this._input.text;
		switch(this._typeList.selectedItem){
			case "Boolean":
				this._protyEditInfo.setFunc(this._editObj,Boolean(text));
				break ;
			case "Number":
				this._protyEditInfo.setFunc(this._editObj,Number(text));
				break ;
			case "String":
				this._protyEditInfo.setFunc(this._editObj,text);
				break ;
			}
	}

	__proto.inHd=function(event){
		if(this._typeList.selectedItem=="Object"){
			this.container.event("EditObj_Change",WeditProtyEvent.once(this._protyEditInfo.getFunc(this._editObj),this._editObj,this._protyEditInfo.protyName,this._protyEditInfo.isUpdateObject));
		}
	}

	__proto.upDate=function(){
		this._input.text=String(this._protyEditInfo.getFunc(this._editObj));
	}

	// }
	__proto.setFocus=function(){
		if(Wstage.stage.focus!=this._input.textField)
			Wstage.stage.focus=this._input.textField;
	}

	//
	__getset(0,__proto,'isJsonString',function(){
		return this._isJsonString;
	});

	return WobjectProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WsliderProty.as=======93.994608/93.994608
//class tool.dream.protyEdits.WsliderProty extends tool.dream.protyEdits.WeditProty
var WsliderProty=(function(_super){
	function WsliderProty(){
		this._slider
		WsliderProty.__super.call(this);
	}

	__class(WsliderProty,'tool.dream.protyEdits.WsliderProty',_super);
	var __proto=WsliderProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._com=this._slider=new KHSlider(this,100);
		this._com.on("change",this,this.onChange);
		this.size(200,30);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		var sliderInfo=protyEidtInfo;
		this._slider.setSliderParams(sliderInfo.minValue,sliderInfo.maxValue,0);
	}

	__proto.onChange=function(event){
		this._protyEditInfo.setFunc(this._editObj,this._slider.value);
		this.upDate();
	}

	__proto.upDate=function(){
		this._slider.value=this._protyEditInfo.getFunc(this._editObj);
	}

	return WsliderProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WvectorsProty.as=======93.994605/93.994605
//class tool.dream.protyEdits.WvectorsProty extends tool.dream.protyEdits.WeditProty
var WvectorsProty=(function(_super){
	function WvectorsProty(){
		this._array=null;
		this._vetorsProtyInfo=null;
		this._list=null;
		this._listScrollV=null;
		this._addBtn=null;
		this._removeBtn=null;
		this._isLockUpdate=false;
		WvectorsProty.__super.call(this);
	}

	__class(WvectorsProty,'tool.dream.protyEdits.WvectorsProty',_super);
	var __proto=WvectorsProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
		this._list=new WlistV(this.getItemClass(),230,60);
		this._list.setGridAndItem(230,30);
		this._listScrollV=new WlistScrollV(this._list,null);
		this._listScrollV.updateWidth=true;
		this.addChild(this._listScrollV);
		this._list.on("doubleclick",this,this.doubleClickeditHd);
		this._list.on("click",this,this.onSelected);
		this._addBtn=new KpushButton(this,0,0,"+",this.addHd);
		this._removeBtn=new KpushButton(this,0,0,"-",this.removeHd);
		this.size(200,210);
	}

	__proto.getItemClass=function(){
		return WvectorItem;
	}

	__proto.size=function(w,h){
		return _super.prototype.size.call(this,w,210);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		_super.prototype.initEdit.call(this,editObj,protyEidtInfo);
		this._isLockUpdate=false;
		this._vetorsProtyInfo=protyEidtInfo;
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._listScrollV.pos(this.Com_X,0);
		this._listScrollV.size(this._width-this.Com_X,this._height-30);
		this._addBtn.pos(this.Com_X,this._height-30);
		this._addBtn.size(50,30);
		this._removeBtn.pos(this.Com_X+50,this._height-30);
		this._removeBtn.size(50,30);
	}

	__proto.updateList=function(){
		if(this._vetorsProtyInfo.sortName){
			this._array.sortOn(this._vetorsProtyInfo.sortName,Array.NUMERIC);
		};
		var oldSelect=this._list.selectedIndex;
		this._list.items=this._array;
		this._list.selectedIndex=oldSelect<this._array.length?oldSelect:-1;
	}

	__proto.dispose=function(){
		WasynManager.instance.clearFrameLoop(this,this.updateToEditObj);
		_super.prototype.dispose.call(this);
	}

	__proto.addHd=function(e){
		var _$this=this;
		if(this._vetorsProtyInfo.createNewItem==null)return;
		var newItem=this._vetorsProtyInfo.createNewItem();
		var isTopClass=false;
		if((typeof newItem=='number')){
			isTopClass=true;
		}
		else if((typeof newItem=='string')){
			isTopClass=true;
		}
		else if((typeof newItem=='boolean')){
			isTopClass=true;
		}
		if(isTopClass){
			newItem=new WtopClass(newItem);
		}
		if(this._vetorsProtyInfo.isChooseCreate){
			WlistAlert.alert(newItem,"选择",function(item){
				if(item !=null){
					_$this._array.push(_$this._vetorsProtyInfo.addItem(_$this._editObj,item));
					_$this.updateList();
				}
			});
		}
		else{
			WeditObjMnger.popNewEditObjWin(newItem,null,function(){
				_$this._array.push(_$this._vetorsProtyInfo.addItem(_$this._editObj,isTopClass?newItem.value:newItem));
				_$this.updateList();
			});
		}
	}

	__proto.removeHd=function(e){
		if(this._vetorsProtyInfo.removeItem==null)return;
		if(this._list.selectedIndex>=0){
			var item=this._array[this._list.selectedIndex];
			if(item==null)return;
			this._array.splice(this._list.selectedIndex,1);
			this._vetorsProtyInfo.removeItem(this._editObj,item);
			this.updateList();
		}
	}

	__proto.onSelected=function(e){
		if(this._list.selectedIndex>=0){
			var obj=this._array[this._list.selectedIndex];
			if(this._vetorsProtyInfo.selectedItemFunc!=null){
				this._vetorsProtyInfo.selectedItemFunc(this._editObj,obj);
			}
		}
	}

	__proto.doubleClickeditHd=function(e){
		if(this._list.selectedIndex>=0){
			var obj=this._array[this._list.selectedIndex];
			this.setEditObj(obj,this.editCallBck);
		}
	}

	__proto.editCallBck=function(value){
		this._isLockUpdate=false;
	}

	__proto.setEditObj=function(obj,okFunction){
		WeditObjMnger.popNewEditObjWin(obj,null,okFunction);
		if(this._protyEditInfo.isUpdateObject){
			this._isLockUpdate=true;
			WasynManager.instance.frameLoop(this,this.updateToEditObj,5);
		}
	}

	__proto.updateToEditObj=function(){
		this._protyEditInfo.setFunc(this._editObj,this._array);
	}

	__proto.upDate=function(){
		if(this._isLockUpdate)return;
		this._array=new Array;
		var target=this._protyEditInfo.getFunc(this._editObj);
		var obj
		if((target instanceof Array)){
			this._array=(target).concat();
		}
		else if((target instanceof Dictionary)){
			var $each_obj;
			for($each_obj in target){
				obj=target[$each_obj];
				this._array.push(obj);
			}
		}
		else if(target){
			var $each_obj;
			for($each_obj in target){
				obj=target[$each_obj];
				this._array.push(obj);
			}
		}
		this.updateList();
	}

	return WvectorsProty;
})(WeditProty)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wmeau.as=======93.994533/93.994533
/**
*菜单组件
*@author wulongbin
*
*/
//class wlb.dream.displays.coms.Wmeau extends wlb.dream.displays.coms.WlistV
var Wmeau=(function(_super){
	function Wmeau(cla,w,h){
		this._clickType=null;
		this._target=null;
		this.prePopMeau=null;
		(w===void 0)&& (w=200);
		(h===void 0)&& (h=200);
		Wmeau.__super.call(this,cla||WmenuItem,w,h);
		this.clickType="click";
	}

	__class(Wmeau,'wlb.dream.displays.coms.Wmeau',_super);
	var __proto=Wmeau.prototype;
	__proto.clearMeau=function(){
		this._items.length=0;
		this.items=this._items;
	}

	__proto.addMeauItem=function(text,call,callBack){
		this._items.push({text:text,call:call,callBack:callBack});
		this.items=this._items;
	}

	__proto.clickCallback=function(e){
		var display=e.target;
		while(display){
			if(Laya.__typeof(display,'wlb.dream.displays.coms.IlistItem')||display==this){
				break ;
			}
			display=display.parent;
		};
		var item=display;
		if(item&&item.listItemData){
			var func=item.listItemData.callBack;
			func.call(item.listItemData.call);
		}
	}

	__proto.popMeau=function(e){
		this.pos(Wstage.stage.mouseX,Wstage.stage.mouseY);
		if(this.prePopMeau!=null){
			this.prePopMeau(this);
		}
		WpopManager.instance.popWindow(this);
		Wstage.stage.on("click",this,this.removeMeau);
	}

	__proto.removeMeau=function(e){
		Wstage.stage.off("click",this,this.removeMeau);
		WpopManager.instance.removeWindow(this);
	}

	__getset(0,__proto,'clickType',function(){
		return this._clickType;
		},function(value){
		if(this._clickType){
			this.off(this._clickType,this,this.clickCallback);
		}
		this._clickType=value;
		if(this._clickType){
			this.on(this._clickType,this,this.clickCallback);
		}
	});

	__getset(0,__proto,'target',function(){
		return this._target;
		},function(value){
		if(this._target){
			this._target.off("rightclick",this,this.popMeau);
			Wstage.stage.off("click",this,this.removeMeau);
		}
		this._target=value;
		this._target.on("rightclick",this,this.popMeau);
	});

	return Wmeau;
})(WlistV)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as=======93.994526/93.994526
;
/**
*树组件
*@author wulongbin
*
*/
//class wlb.dream.displays.coms.Wtree extends wlb.dream.displays.coms.WlistV
var Wtree=(function(_super){
	function Wtree(itemCla,checkTreeFunc,treeNodeInfoCla){
		this._treeNodeInfoCla=null;
		this._topNode=null;
		this._treeData=null;
		this._checkTreeFunc=null;
		this._selectNode=null;
		this._containerX=0;
		this._containerWidth=0;
		this._selectListItem=null;
		this._nowIndex=0;
		this._scrollEndIndex=0;
		this._itemIndex=0;
		this._tempX=NaN;
		this._tempY=NaN;
		Wtree.__super.call(this,itemCla);
		this._treeNodeInfoCla=treeNodeInfoCla||WtreeNodeInfo;
		this.checkTreeFunc=checkTreeFunc;
		this.on("Tree_Change",this,this.changeHd);
		this.treeData=null;
	}

	__class(Wtree,'wlb.dream.displays.coms.Wtree',_super);
	var __proto=Wtree.prototype;
	__proto.autoCheckTree=function(data){
		var type=typeof(data);
		return type=='object'||type=='array';
	}

	// return true;
	__proto.changeHd=function(event){
		switch(event.level){
			case 1:
				event.isOpen?this.openTreeNode(event.nodeInfo):this.closeTreeNode(event.nodeInfo);
				break ;
			case 2:
				event.isOpen?this.openSon(event.nodeInfo):this.closeSon(event.nodeInfo);
				break ;
			case 3:
				event.isOpen?this.openAll(event.nodeInfo):this.closeAll(event.nodeInfo);
				break ;
			}
	}

	/**
	*树始终显示一列
	*
	*/
	__proto.createItemsAsyn=function(){
		/*no*/this._col=1;
		/*no*/this._row=Math.floor(this._height/this._gridHeight);
		/*no*/this._row++;
		WasynManager.instance.frameOnce(this,this.createItemsNow);
	}

	/**
	*
	*@param gridW 该参数无效
	*@param gridH
	*@param itemW 该参数无效
	*@param itemH
	*
	*/
	__proto.setGridAndItem=function(gridW,gridH,itemW,itemH){
		(itemW===void 0)&& (itemW=NaN);
		(itemH===void 0)&& (itemH=NaN);
		_super.prototype.setGridAndItem.call(this,this._width,gridH,this._width,itemH);
	}

	__proto.size=function(w,h){
		this._gridWidth=w;
		this._itemWidth=w;
		return _super.prototype.size.call(this,w,h);
	}

	/**
	*创建树节点
	*@param key
	*@param value
	*@param floor
	*@param parent
	*@return
	*
	*/
	__proto.createTreeNode=function(key,value,parent){
		var _$this=this;
		var isTreeNode=this._checkTreeFunc(value);
		var newNodeInfo=new this._treeNodeInfoCla(key,value);
		newNodeInfo.floor=parent?parent.floor+1:0;
		newNodeInfo.parent=parent;
		newNodeInfo.isTreeNode=isTreeNode;
		newNodeInfo.isOpen=false;
		if(isTreeNode){
			newNodeInfo.createChildNode(function(childKey,childValue){
				newNodeInfo.children.push(_$this.createTreeNode(childKey,childValue,newNodeInfo));
			});
		}
		return newNodeInfo;
	}

	/**
	*根据数据添加节点
	*@param parent
	*@param data
	*@param key
	*
	*/
	__proto.addNodeByData=function(parent,data,key){
		var newNode=this.createTreeNode(key,data,parent);
		this.addNode(parent,newNode);
	}

	/**
	*添加节点
	*@param parent 父节点
	*@param newNode 子节点 根据newNode.key来确定位置
	*
	*/
	__proto.addNode=function(parent,newNode){
		if(parent.hasNode(newNode))return;
		newNode.isTreeNode=this._checkTreeFunc(newNode.data);
		newNode.parent=parent;
		newNode.floor=parent.floor+1;
		var index=this._items.indexOf(parent);
		if(index>=0){
			index+=parent.addNode(newNode)+1;
			var newItems=[];
			if(index<=this._selectedIndex)
				this._selectedIndex+=newNode.showItemNum;
			this.flushScrollInfo();
		}
		else{
			parent.addNode(newNode);
		}
	}

	/**
	*移除节点，顶节点无法移除
	*@param node
	*
	*/
	__proto.removeNode=function(node){
		if(node!=this._topNode){
			var index=this._items.indexOf(node);
			if(index>=0){
				var oldSelect=this._selectedIndex;
				node.parent.removeNode(node);
				this.flushScrollInfo();
				this._selectedIndex=-1;
				this.selectedIndex=oldSelect;
			}
			else{
				node.parent.removeNode(node);
			}
		}
	}

	/**
	*全部展开
	*
	*/
	__proto.openAll=function(nodeInfo){
		if(this._topNode==null)return;
		this._selectNode=null;
		this.selectedIndex=-1;
		var func=function (node){
			if(node.isTreeNode){
				node.isOpen=true;
				var i=0;
				var children=node.children;
				var len=children.length;
				for(;i<len;i++){
					func(children[i]);
				}
			}
		};
		nodeInfo=nodeInfo||this._topNode;
		func(nodeInfo);
		this.flushScrollInfo();
	}

	/**
	*全部关闭
	*
	*/
	__proto.closeAll=function(nodeInfo){
		if(this._topNode==null)return;
		this._selectNode=null;
		this.selectedIndex=-1;
		var func=function (node){
			if(node.isTreeNode){
				node.isOpen=false;
				var i=0;
				var children=node.children;
				var len=children.length;
				for(;i<len;i++){
					func(children[i]);
				}
			}
		};
		nodeInfo=nodeInfo||this._topNode;
		func(nodeInfo);
		this.flushScrollInfo();
	}

	__proto.openSon=function(nodeInfo){
		this._selectNode=null;
		this.selectedIndex=-1;
		var i=0;
		var children=nodeInfo.children;
		var len=children.length;
		for(;i<len;i++){
			if(children[i].isTreeNode){
				children[i].isOpen=true;
			}
		}
		this.flushScrollInfo();
	}

	__proto.closeSon=function(nodeInfo){
		this._selectNode=null;
		this.selectedIndex=-1;
		var i=0;
		var children=nodeInfo.children;
		var len=children.length;
		for(;i<len;i++){
			if(children[i].isTreeNode){
				children[i].isOpen=false;
			}
		}
		this.flushScrollInfo();
	}

	/**
	*打开子项
	*@param treeNode
	*
	*/
	__proto.openTreeNode=function(treeNode){
		var index=this._items.indexOf(treeNode);
		if(index>=0){
			var childNum=treeNode.childNum;
			if(index<this._selectedIndex)
				this._selectedIndex+=childNum;
			index++;
			treeNode.isOpen=true;
			this.flushScrollInfo();
		}
	}

	/**
	*合并子项
	*@param treeNode
	*
	*/
	__proto.closeTreeNode=function(treeNode){
		var index=this._items.indexOf(treeNode);
		if(index>=0){
			treeNode.isOpen=false;
			var childNum=treeNode.childNum;
			if(this._selectedIndex>index){
				if(this._selectedIndex<index+childNum){
					this._selectedIndex=-1;
					this._selectNode=null;
				}
				else{
					this._selectedIndex-=childNum;
				}
			}
			this.flushScrollInfo();
		}
	}

	__proto.flushScrollInfo=function(){
		this._items.length=0;
		if(this._topNode){
			this._topNode.getShowItems(this._items);
		}
		this._itemLength=this._items.length;
		this.updateScrollData();
		this.scrollValue=this.scrollValue;
		this.drawAsyn();
		this.event("change");
	}

	__proto.createItemsNow=function(){
		_super.prototype.createItemsNow.call(this);
		this.flushScrollInfo();
	}

	__proto.drawAsyn=function(){
		wlb.dream.displays.Wpanel.prototype.drawAsyn.call(this);
	}

	/**
	*树状布局
	*
	*/
	__proto.drawNow=function(){
		this._tempX=(this._gridWidth-this._itemWidth)*0.5;
		this._tempY=(this._gridHeight-this._itemHeight)*0.5;
		this._nowIndex=0;
		this._itemIndex=-1;
		this._scrollEndIndex=this._scrollIndex+this._listItemLength;
		this._containerWidth=0;
		if(this._topNode)
			this.drawItem(this._topNode);
		var i=this._itemIndex+1;
		var item;
		for(;i<this._listItemLength;i++){
			item=this._listItems[i];
			item.x=this._tempX;
			item.y=this._tempY+this._nowIndex*this._gridHeight;
			item.size(this._itemWidth,this._itemHeight);
			item.listItemData=null;
			item.selected=false;
			item.enabled=false;
			this._nowIndex++;
		}
		this.event("Tree_ContainerResize");
	}

	__proto.drawItem=function(treeNode){
		var item;
		if(this._nowIndex>=this._scrollIndex&&this._nowIndex<this._scrollEndIndex){
			this._itemIndex=this._nowIndex-this._scrollIndex;
			item=this._listItems[this._itemIndex];
			item.x=this._tempX+treeNode.floor*20;
			item.y=this._tempY+this._nowIndex*this._gridHeight;
			item.listItemData=treeNode;
			if(this._enableFunc!=null){
				item.enabled=this._enableFunc(treeNode.data);
			}
			else item.enabled=true;
			item.size(this._itemWidth,this._itemHeight);
			if(treeNode==this._selectNode){
				this._selectListItem=item;
				item.selected=true;
			}
			else{
				item.selected=false;
			}
			this._containerWidth=Math.max(this._containerWidth,item.x+item.width);
		}
		this._nowIndex++;
		if(treeNode.isTreeNode&&treeNode.isOpen){
			var i=0;
			var children=treeNode.children;
			var len=children.length;
			for(;i<len;i++){
				if(this._nowIndex>=this._scrollEndIndex){
					break ;
				}
				this.drawItem(children[i]);
			}
		}
	}

	__getset(0,__proto,'topNode',function(){
		return this._topNode;
	});

	__getset(0,__proto,'containerX',function(){
		return this._containerX;
		},function(value){
		value=Math.max(0,Math.min(this._containerWidth-this._width,value));
		if(value==this._containerX)return;
		/*no*/this._scrollRect.x=this._containerX=value;
		this.scrollRect=/*no*/this._scrollRect;
	});

	__getset(0,__proto,'selectedIndex',_super.prototype._$get_selectedIndex,function(value){
		Laya.superSet(WlistV,this,'selectedIndex',value);
		this._selectNode=this._selectedIndex>=0?this._items [this._selectedIndex]:null;
	});

	/**
	*该方法无效
	*@param value
	*
	*/
	__getset(0,__proto,'items',_super.prototype._$get_items,function(value){
	});

	/**
	*获取选择节点信息
	*@return
	*
	*/
	__getset(0,__proto,'selectNode',function(){
		return this._selectNode;
	});

	/**
	*设置数据，支持数组或是动态类型对象
	*对于动态数据，以_开头命名的属性不予以遍历
	*@param value
	*
	*/
	__getset(0,__proto,'treeData',function(){
		return this._treeData;
		},function(value){
		this._treeData=value;
		if(this._treeData){
			this._topNode=this.createTreeNode("",value,null);
		}
		else{
			this._topNode=null;
		}
		this._selectedIndex=-1;
		this._maxScrollIndex=0;
		this._maxScrollValue=this._maxScrollIndex*this._gridHeight;
		this.openAll();
	});

	__getset(0,__proto,'containerWidth',function(){
		return this._containerWidth;
	});

	/**
	*获取选择显示对象
	*@return
	*
	*/
	__getset(0,__proto,'selectListItem',function(){
		return this._selectListItem;
	});

	__getset(0,__proto,'selectedItem',function(){
		if(this._selectNode)
			return this._selectNode.data;
		else
		return null;
		},function(data){
		var i=0;
		var len=this._items.length;
		for(;i<len;i++){
			if((this._items [i]).data==data){
				this.selectedIndex=i;
				return;
			}
		}
		this.selectedIndex=-1;
	});

	__getset(0,__proto,'checkTreeFunc',function(){
		return this._checkTreeFunc;
		},function(value){
		this._checkTreeFunc=value||this.autoCheckTree;
	});

	return Wtree;
})(WlistV)


	//file:///H:/work/sniper/WLBLaya/src/wlb/dream/tip/WupdateTip.as=======93.994438/93.994438
/**
*实时更新信息tip组件
*@author wulongbin
*
*/
//class wlb.dream.tip.WupdateTip extends wlb.dream.tip.WautoTip
var WupdateTip=(function(_super){
	function WupdateTip(){
		this._tipInfo=null;
		WupdateTip.__super.call(this);
	}

	__class(WupdateTip,'wlb.dream.tip.WupdateTip',_super);
	var __proto=WupdateTip.prototype;
	Laya.imps(__proto,{"wlb.dream.tip.Itip":true})
	__proto.setTipInfo=function(value){
		this._tipInfo=value;
		if(this._tipInfo){
			WasynManager.instance.frameLoop(this,this.frameHd,2);
		}
		else{
			WasynManager.instance.clearFrameLoop(this,this.frameHd);
		}
	}

	__proto.frameHd=function(){
		this.text=String(this._tipInfo.tipData);
	}

	return WupdateTip;
})(WautoTip)


	//file:///H:/work/sniper/sniper/client/src/ui/battle/BProgressBarUI.as=======92.999180/92.999180
//class ui.battle.BProgressBarUI extends laya.ui.Dialog
var BProgressBarUI=(function(_super){
	function BProgressBarUI(){
		this.labCount=null;
		this.valCount=null;
		this.labNext=null;
		BProgressBarUI.__super.call(this);
	}

	__class(BProgressBarUI,'ui.battle.BProgressBarUI',_super);
	var __proto=BProgressBarUI.prototype;
	__proto.createChildren=function(){
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(BProgressBarUI.uiView);
	}

	BProgressBarUI.uiView={"type":"Dialog","props":{},"child":[{"type":"Image","props":{"y":-84,"x":-50,"skin":"battle/taskBg.png"}},{"type":"Label","props":{"y":-71,"x":33,"width":155,"var":"labCount","text":"当前关卡进度","height":21,"fontSize":24,"font":"Microsoft YaHei","color":"#e2cd7d","align":"left"}},{"type":"Label","props":{"y":-71,"x":169,"width":135,"var":"valCount","text":"(50/60)","height":15,"fontSize":24,"font":"Microsoft YaHei","color":"#50c52b","align":"center"}},{"type":"Label","props":{"y":-43,"x":33,"width":135,"var":"labNext","text":"挑战Boss","height":15,"fontSize":24,"font":"Microsoft YaHei","color":"#d9d21f","align":"left"}}]};
	return BProgressBarUI;
})(Dialog)


	//file:///H:/work/sniper/sniper/client/src/ui/loading/LoadingUI.as=======92.999116/92.999116
//class ui.loading.LoadingUI extends laya.ui.Dialog
var LoadingUI=(function(_super){
	function LoadingUI(){
		this.pb=null;
		this.pbText=null;
		LoadingUI.__super.call(this);
	}

	__class(LoadingUI,'ui.loading.LoadingUI',_super);
	var __proto=LoadingUI.prototype;
	__proto.createChildren=function(){
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(LoadingUI.uiView);
	}

	LoadingUI.uiView={"type":"Dialog","props":{"width":720,"height":1080},"child":[{"type":"Image","props":{"y":0,"x":0,"width":720,"skin":"comp/blank.png","height":1080}},{"type":"ProgressBar","props":{"y":1005,"x":35,"width":650,"var":"pb","skin":"comp/progress.png","sizeGrid":"0,2,0,2","height":40}},{"type":"Label","props":{"y":1005,"x":275,"width":170,"var":"pbText","text":"100%","height":40,"fontSize":40,"color":"#000000","align":"center"}}]};
	return LoadingUI;
})(Dialog)


	//file:///H:/work/sniper/sniper/client/src/ui/tips/TipsUI.as=======92.999102/92.999102
//class ui.tips.TipsUI extends laya.ui.Dialog
var TipsUI=(function(_super){
	function TipsUI(){
		this.bg=null;
		this.blockSpt=null;
		this.btn_close=null;
		TipsUI.__super.call(this);
	}

	__class(TipsUI,'ui.tips.TipsUI',_super);
	var __proto=TipsUI.prototype;
	__proto.createChildren=function(){
		laya.ui.UIComponent.prototype.createChildren.call(this);
		this.createView(TipsUI.uiView);
	}

	TipsUI.uiView={"type":"Dialog","props":{"width":200},"child":[{"type":"Image","props":{"y":2,"x":0,"width":200,"var":"bg","skin":"comp/blank.png","sizeGrid":"1,1,1,1","height":176}},{"type":"Sprite","props":{"y":0,"x":0,"width":157,"var":"blockSpt","height":95}},{"type":"Button","props":{"y":1,"x":171,"var":"btn_close","stateNum":3,"skin":"comp/btn_close.png"}}]};
	return TipsUI;
})(Dialog)


	//file:///H:/work/sniper/sniper/client/src/view/BattleView.as=======92.999026/92.999026
//class view.BattleView extends ui.battle.BattleViewUI
var BattleView=(function(_super){
	function BattleView(){
		this._isAim=false;
		// private var _lastLeftMousePos:Point=new Point();
		this.leftRocker=null;
		this.rightRocker=null;
		this.leftArea=null;
		this.radian=0;
		//public var cross:CrossAim ;
		this.camera=null;
		/**是否正在进行换枪动画1：Tween**/
		this._isHuanQiang1=false;
		/**是否正在进行换枪动画2：Tween**/
		this._isHuanQiang2=false;
		/**当前血量值**/
		this._curHP=NaN;
		/**最大血量值**/
		this._maxHP=NaN;
		/**倒计时事件：S/单位**/
		this._curTime=600;
		/**摄像机移动幅度限制-左侧限制*/
		this._cameraL=null;
		/**摄像机移动幅度限制-右侧限制*/
		this._cameraR=null;
		/**是否正在播放血量提示红色动画:避免重复播放**/
		this._isPlaySmallHp=false;
		this._selfOpSprite=null;
		/**
		*手雷上拉框效果
		*/
		this._clickNum=0;
		this.leftTouchID=NaN;
		// }
		this.startFaceAngle=NaN;
		this.startGunAngleY=NaN;
		this.rightTouchID=NaN;
		// public var speed:Number=10;
		this.faceAngle=NaN;
		this.fireTouchID=NaN;
		this._lastRightMousePos=new Point();
		this.centerPoint=new Vector2;
		this._outHitAllInfo=[];
		this.targetPoint3D=new Vector3;
		this.res=new Quaternion();
		this._vectorL=new Vector2();
		this._vectorR=new Vector2();
		BattleView.__super.call(this);
		this['onShoot']=this.onShoot.bind(this);
	}

	__class(BattleView,'view.BattleView',_super);
	var __proto=BattleView.prototype;
	__proto.initialize=function(){
		var _$this=this;
		this.img_baotou.visible=false;
		this.hideAni.visible=false;
		this.showAni.visible=false;
		this.box_sansha.visible=false;
		this.hpSmallImg.visible=false;
		laya.ui.UIComponent.prototype.initialize.call(this);
		if(PageManager.I().vs){
			PageManager.I().vs.dispo();
		}
		this.fireBtn.on("mousedown",this,this.onRequestFireStart);
		this.shouleiBtn.on("click",this,this.onRequestShoulei);
		this.huanqiangBtn.on("click",this,this.onRequestChangeGun);
		this.downBtn.on("click",this,this.onRequestSquat);
		this.leftBtn.on("click",this,this.onLeft);
		this.rightBtn.on("click",this,this.onRight);
		this.changeBtn.on("click",this,this.onChangeBullet);
		this.stage.on("keydown",this,this.onKeyDown);
		this.stage.on("keyup",this,this.onKeyUp);
		EventCenter.on(GameEvent.TIME_DAOJISHI,this,this.onBroadTime);
		this.btn_sl.on("click",this,this.onShangLa);
		this.txt_daojishi.text="10:00";
		BattleCount.I.data.on("redKillNum",this,function(data){
			console.log("battledata redKillNum = "+data);
			PageManager.I().blueScore=data;
			_$this.txt_blueskill.text=data+"";
		});
		BattleCount.I.data.on("blueKillNum",this,function(data){
			console.log("battledata blueKillNum = "+data);
			PageManager.I().redScore=data;
			_$this.txt_redskill.text=data+"";
		});
		BattleCount.I.data.on("selfCurrenHP",this,function(data){
			console.log("battledata selfCurrenHP="+data);
			_$this._curHP=data;
			_$this.updateHP();
		});
		BattleCount.I.data.on("selfMaxHP",this,function(data){
			console.log("battledata selfMaxHP="+data);
			_$this._maxHP=data;
			_$this.updateHP();
		});
		BattleCount.I.data.on("headShotNum",this,function(data){
			console.log("battledata headShotNum="+data);
			PageManager.I().baotouNum=data;
			_$this.txt_baotou.text=data+"";
			_$this.img_baotou.visible=true;
		});
		BattleCount.I.data.on("selfKillNum",this,function(data){
			console.log("battledata selfKillNum="+data);
			PageManager.I().killNum=data;
			_$this.txt_killNum.text=data+"";
		});
		BattleCount.I.data.on("selfDeadNum",this,function(data){
			console.log("battledata selfDeadNum="+data);
			PageManager.I().deadNum=data;
			_$this.txt_dead.text=data+"";
		});
		BattleCount.I.data.on("firstBlood",this,function(data){
			console.log("battledata firstBlood="+data);
			if(data==PageManager.I().myUserId)_$this.txt_yiXue.text="一血";
			else _$this.txt_yiXue.text="";
		});
		BattleCount.I.data.on("revenge",this,function(data){
			console.log("revenge="+data);
			if(data!=PageManager.I().myUserId)this.txt_fuchou.text="复仇";
			else this.txt_fuchou.text="";
		});
		BattleCount.I.data.on("multiKill",this,function(data){
			console.log("multiKill="+data);
			if(data==0)_$this.txt_multiKill.text="";
			else _$this.txt_multiKill.text=data+"连杀";
			if(parseInt(_$this.txt_redskill.text)!=0||parseInt(_$this.txt_blueskill.text)!=0){
				_$this.txt_yiXue.text="";
			}
		});
		BattleCount.I.data.on("kill",this,function(id1,id2){
			console.log("kill="+_$this.data);
			var roomMsg=PageManager.I().roomMsg;
			if(id1==PageManager.I().myUserId){
				_$this.box_sansha.visible=true;
				_$this.showAni.visible=true;
				_$this.showAni.play(0,false);
				_$this.showAni.on("complete",this,function(){
					_$this.img_baotou.visible=false;
					_$this.showAni.visible=false;
					FSGame.fsm.timer.once(3000,this,_$this.onShowAniCom);
				});
				for(var i=0;i<roomMsg.length;i++){
					if(roomMsg[i].userid==id1){
						_$this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[i].headUrl.substr(roomMsg[i].headUrl.indexOf('//')+2);
						_$this.name01.text=roomMsg[i].nickName;
					}
					else{
						_$this.head02.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[i].headUrl.substr(roomMsg[i].headUrl.indexOf('//')+2);
						_$this.name02.text=roomMsg[1].nickName;
					}
				}
			}
			else{
				_$this.box_sansha.visible=true;
				_$this.showAni.visible=true;
				_$this.showAni.play(0,false);
				_$this.showAni.on("complete",this,function(){
					_$this.img_baotou.visible=false;
					_$this.showAni.visible=false;
					FSGame.fsm.timer.once(3000,this,_$this.onShowAniCom);
				});
				for(i=0;i<roomMsg.length;i++){
					if(roomMsg[i].userid==id1){
						_$this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[i].headUrl.substr(roomMsg[i].headUrl.indexOf('//')+2);
						_$this.name01.text=roomMsg[i].nickName;
					}
					else{
						_$this.head02.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[i].headUrl.substr(roomMsg[i].headUrl.indexOf('//')+2);
						_$this.name02.text=roomMsg[1].nickName;
					}
				}
			}
		});
		BattleCount.I.data.on("reloadTime",this,function(data){
			console.log("reloadTime="+data);
			var cd=new CD("res/cd.png","shooting/bg_cd.png",data);
			cd.pos(Laya.stage.width/2+10,Laya.stage.height/2);
			cd.drawPlay();
			Laya.stage.addChild(cd);
		});
		this.leftRocker=new Rocker();
		this.leftRocker.setSkin("res/rocker/control_base.png","res/rocker/control_knob.png");
		this.leftRocker.initRocker(new RockerExtendLeft(this.leftRocker),true,0);
		this.rightRocker=new Rocker();
		this.rightRocker.setSkin("res/rocker/control_base.png","res/rocker/control_knob.png");
		this.rightRocker.initRocker(new RockerExtendRight(this.rightRocker),true,1);
		this.leftArea=new Sprite();
		this.leftArea.size(Laya.stage.width,Laya.stage.height);
		this.rightArea.on("mousedown",this,this.onRightTouchDown);
		this.fireBtn.zOrder=9999999;
		CrossAim.I.centerX=CrossAim.I.centerY=0;
		this.addChild(CrossAim.I);
		CrossAim.I.isStandMode=true;
		EventCenter.on('createSelf',this,this.onCreateSelf);
		Laya.stage.on("resize",this,this.onResize);
	}

	// fireBtn.visible=false;
	__proto.onShowAniCom=function(){
		this.hideAni.visible=true;
		this.hideAni.play(0,false);
		this.hideAni.on("complete",this,function(){
			this.hideAni.visible=false;
			this.showAni.visible=false;
			this.box_sansha.visible=false;
			this.txt_fuchou.text="";
			this.txt_yiXue.text="";
		});
	}

	__proto.onResize=function(){
		GameSystem.centerPoint.x=Laya.stage.width*0.5*Laya.stage.clientScaleX;
		GameSystem.centerPoint.y=Laya.stage.height*0.5*Laya.stage.clientScaleY;
	}

	/**
	*更新自己的血量条进度
	*/
	__proto.updateHP=function(){
		var _$this=this;
		if(this._curHP>=0){
			this.pro_hp.scaleX=(parseInt(this._curHP*100+"")/100)/(parseInt(this._maxHP*100+"")/100);
			if(this._curHP>0&&this.pro_hp.scaleX<=0.3&&!this._isPlaySmallHp){
				this._isPlaySmallHp=true;
				this.hpsmall.visible=true;
				this.hpSmallImg.visible=true;
				this.hpsmall.play(0,true);
				FSGame.fsm.timer.once(5000,this,function(){
					_$this.hpsmall.stop();
					_$this.hpsmall.visible=false;
					_$this.hpSmallImg.visible=false;
					_$this._isPlaySmallHp=false;
				});
			}
			else{
				this.hpsmall.stop();
				this.hpsmall.visible=false;
				this.hpSmallImg.visible=false;
				this._isPlaySmallHp=false;
			}
		}
	}

	__proto.onShangLa=function(){
		this._clickNum++
		if(this._clickNum%2==0){
			this.btn_sl.scaleX=1;
			this.bg_slk.visible=false;
		}
		else{
			this.btn_sl.scaleX=-1;
			this.bg_slk.visible=true;
		}
	}

	__proto.onRequestSquat=function(){
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opSquatMsg();
	}

	__proto.onRight=function(){
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opMove(1);
	}

	__proto.onLeft=function(){
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opMove(-1);
	}

	/**
	*右上角换枪动作
	*/
	__proto.onRequestChangeGun=function(){
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opChangeGun();
	}

	__proto.onChangeBullet=function(){
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opChangeBullet();
	}

	__proto.onCreateSelf=function(sniper){
		this._selfOpSprite=GameSniper.room.selfOPSprite;
		sniper.on("onAim",this,this.onAim);
		sniper.on("onFire",this,this.onFire);
		sniper.on("onChangeGun",this,this.onBeginChangeGun);
		this.camera=(GameSystem.scene.camera).camera;
		GameSystem.centerPoint.x=Laya.stage.width*0.5*Laya.stage.clientScaleX;
		GameSystem.centerPoint.y=Laya.stage.height*0.5*Laya.stage.clientScaleY;
		FSGame.fsm.timer.frameLoop(1,this,this.onLoop);
		FSGame.fsm.timer.loop(1000,this,this.onTimeDaoJiShi);
		var scene=sniper.scene;
		if(sniper.groupID==11){
			this._cameraL=scene.redCamera[0];
			this._cameraR=scene.redCamera[1];
			}else if(sniper.groupID==12){
			this._cameraL=scene.blueCamera[0];
			this._cameraR=scene.blueCamera[1];
		}
		BattleCount.I.setMaxRoleHP(sniper,sniper.extend.attributeData.maxHp);
		BattleCount.I.setCurrentRoleHP(sniper,sniper.extend.attributeData.maxHp);
	}

	/**
	*倒计时
	*/
	__proto.onTimeDaoJiShi=function(){
		if(FSGame.room.isOwner){
			this._curTime--;
			var timeMsg=new TimeMsg();
			timeMsg.time=this._curTime;
			FSGame.connect.broadcast(timeMsg);
		}
	}

	/**
	*倒计时广播回调
	*/
	__proto.onBroadTime=function(msg){
		if(msg.time>=0){
			var min=String(parseInt(msg.time / 60+""));
			var sec=String(msg.time % 60);
			this.txt_daojishi.text=(parseInt(min)>=10?min:"0"+min)+":"+(parseInt(sec)>=10?sec:"0"+sec);
		}
		else{
			this.txt_daojishi.text="00:00";
			FSGame.fsm.timer.clear(this,this.onTimeDaoJiShi);
			EventCenter.event(GameEvent.PAGE_VICTORY);
			var victoryMsg=new VictoryMsg();
			victoryMsg.userId=PageManager.I().myUserId;
			victoryMsg.baotouNum=PageManager.I().baotouNum;
			victoryMsg.deadNum=PageManager.I().deadNum;
			victoryMsg.killNum=PageManager.I().killNum;
			FSGame.connect.broadcast(victoryMsg);
			FSGame.fsm.timer.clear(this,this.onLoop);
			SceneManager$1.I.destroyCurrentScene();
			this.dispo();
		}
	}

	__proto.onLoop=function(){
		this.camera.viewportPointToRay(GameSystem.centerPoint,GameSystem.cameraRay);
		SniperObj.CheckShoot(GameSystem.scene.node,GameSystem.cameraRay,500,this.onShoot);
	}

	__proto.onShoot=function(owner,part){
		CrossAim.I.isLockEnemy=owner!=null;
		if(part){
			part.position.cloneTo(this.targetPoint3D);
		}
		else{
			Vector3.normalize(GameSystem.cameraRay.direction,OnceTool.tempVector3);
			Vector3.scale(OnceTool.tempVector3,1000,this.targetPoint3D);
		}
		if(part){
			this._selfOpSprite.opAimTarget(this.targetPoint3D.x,this.targetPoint3D.y,this.targetPoint3D.z);
		}
	}

	__proto.onFire=function(bool){
		CrossAim.I.fire(bool);
	}

	__proto.onAim=function(value){
		this.isAim=value;
	}

	/**
	*开始换枪调用
	*@param curGun 当前使用的枪
	*@param changeGun 即将要换的枪
	*/
	__proto.onBeginChangeGun=function(curGun,changeGun){
		var po1=new Point(this.qiang1.x,this.qiang1.y);
		var po2=new Point(this.qiang2.x,this.qiang2.y);
		if(!this._isHuanQiang1){
			this._isHuanQiang1=true;
			FSGame.fsm.tween.to(this.qiang1,{x:po2.x,y:po2.y},300,Ease.backOut,Handler.create(this,function(){
				this._isHuanQiang1=false;
			}));
		}
		if(!this._isHuanQiang2){
			this._isHuanQiang2=true;
			FSGame.fsm.tween.to(this.qiang2,{x:po1.x,y:po1.y},300,Ease.backOut,Handler.create(this,function(){
				this._isHuanQiang2=false;
			}));
		}
		if((GameSystem.hero).isAim){
			if(changeGun.gunData.aimSight){
				this.aimBg.skin=changeGun.gunData.aimSight;
				}else{
				this.aimBg.skin=changeGun.gunData.sight;
			}
		}
	}

	__proto.onKeyUp=function(e){
		if(e.keyCode==32){
			this._selfOpSprite.opFire(false,0,this.targetPoint3D,(GameSystem.hero).cameraFaceAngle);
		}
		else
		if(e.keyCode==65||e.keyCode==68){
			this._selfOpSprite.opKey(e.keyCode,false);
		}
	}

	__proto.onKeyDown=function(e){
		if(e.keyCode==32){
			this._selfOpSprite.opFire(true,0,this.targetPoint3D,(GameSystem.hero).cameraFaceAngle);
		}
		else if(e.keyCode==65||e.keyCode==68){
			this._selfOpSprite.opKey(e.keyCode,true);
		}
	}

	__proto.onLeftTouchDown=function(e){
		if(GameSystem.hero.isDead){
			return;
		}
		this.leftTouchID=e.touchId;
		this.stage.on("mousemove",this,this.onLeftLoop);
		this.stage.on("mouseup",this,this.onLeftTouchUp);
		var p=e.touches?e.touches[0]:e;
		this._selfOpSprite.opMouseClick(e.stageX,e.stageY,1,1);
	}

	__proto.onLeftTouchUp=function(e){
		if(this.leftTouchID !=e.touchId){
			return;
		}
		this.stage.off("mouseup",this,this.onLeftTouchUp);
		this.stage.off("mousemove",this,this.onLeftLoop);
		this._selfOpSprite.opMouseClick(0,0,1,3);
	}

	__proto.onLeftLoop=function(e){
		if(this.leftTouchID !=e.touchId){
			return;
		}
		if(GameSystem.hero.isDead){
			return;
		}
		this._selfOpSprite.opMouseClick(e.stageX,e.stageY,1,2);
	}

	__proto.onRightTouchDown=function(e){
		this.rightTouchID=e.touchId;
		this._selfOpSprite.opMouseClick(e.stageX,e.stageY,2,1);
		this.stage.on("mouseup",this,this.onRightTouchUp);
		this.stage.on("mousemove",this,this.onRightTouchMove);
		var sniper=GameSystem.hero;
		this._lastRightMousePos.setTo(e.stageX,e.stageY);
		this.startGunAngleY=sniper.gunAngleY;
		this.startFaceAngle=sniper.cameraFaceAngle;
	}

	__proto.onRightTouchUp=function(e){
		if(this.rightTouchID !=e.touchId){
			return;
		}
		this.stage.off("mousemove",this,this.onRightTouchMove);
		this.stage.off("mouseup",this,this.onRightTouchUp);
		this._selfOpSprite.opMouseClick(0,0,2,3);
	}

	__proto.onRightTouchMove=function(e){
		if(this.rightTouchID !=e.touchId){
			console.log("rightTouchID != e.touchId");
			return;
		}
		if(!GameSystem.scene){
			return;
		};
		var intervalX=(e.stageX-this._lastRightMousePos.x)/10;
		var intervalY=(e.stageY-this._lastRightMousePos.y)/10;
		var sniper=GameSystem.hero;
		var step=1;
		var _curCamera=(GameSystem.scene.camera).camera;
		var _cameraP=new Vector2(_curCamera.transform.forward.x,_curCamera.transform.forward.z);
		this._vectorL.x=this._cameraL.x-_curCamera.transform.position.x;
		this._vectorL.y=this._cameraL.z-_curCamera.transform.position.z;
		this._vectorR.x=this._cameraR.x-_curCamera.transform.position.x;
		this._vectorR.y=this._cameraR.z-_curCamera.transform.position.z;
		var lRes=Utils$1.vector2Cross(this._vectorL,_cameraP);
		var rRes=Utils$1.vector2Cross(this._vectorR,_cameraP);
		step=sniper.isAim?step/sniper.ratio:step;
		this.startFaceAngle=this.startFaceAngle-step*intervalX;
		if(sniper.isAim){
			this._selfOpSprite.opMouseClick(e.stageX,e.stageY,2,2);
		}
		(sniper.avatar).rotateCamera(0,-step*intervalX);
		(sniper.avatar).getCameraPitchYPR(OnceTool.tempVector3);
		OnceTool.tempVector3.y+=step*intervalY*MathUtils.PI1_180;
		var tmpAngleY=this.startGunAngleY+step*intervalY;
		if(OnceTool.tempVector3.y>-0.57 &&OnceTool.tempVector3.y<-0.15){
			sniper.setGunAngleY(this.startGunAngleY);
			this.startGunAngleY=tmpAngleY;
			(sniper.avatar).rotateCamera(step*intervalY,0);
		}
		this._lastRightMousePos.setTo(e.stageX,e.stageY);
	}

	__proto.onRequestFireStart=function(e){
		if(GameSystem.hero.isDead){
			return;
		}
		console.log("onRequestFireStart");
		this.fireTouchID=e.touchId;
		var hero=(GameSystem.hero);
		if (!hero.curGun){
			return;
		}
		console.log("onRequestFireStart OK");
		this._selfOpSprite.opFire(true,0,this.targetPoint3D,hero.cameraFaceAngle);
		this.stage.on("mouseup",this,this.onFireEnd);
		this.stage.on("mouseout",this,this.onFireEnd);
	}

	// });
	__proto.onRequestShoulei=function(){
		var _$this=this;
		if(GameSystem.hero.isDead){
			return;
		}
		(GameSystem.hero).CheckAllShoot(GameSystem.scene.node,GameSystem.cameraRay,100,Handler.create(this,function(target,parts){
			_$this.targetPoint3D.x=1000;
			if(parts!=null){
				for (var i=0,len=parts.length;i < len;i++){
					var rayCast=parts[i];
					var sprite3D=rayCast.sprite3D;
					var canColl=true;
					while(sprite3D){
						if((sprite3D instanceof laya.game.client.plugins.character.CharacterSprite3D )){
							if(sprite3D==this.node){
								canColl=false;
							}
							break ;
						}
						sprite3D=sprite3D.parent;
					}
					if(canColl){
						_$this.targetPoint3D=rayCast.position;
						break ;
					}
				}
			}
			(GameSystem.hero.avatar).getCameraYPR(OnceTool.tempVector3);
			_$this._selfOpSprite.opFire(true,1,_$this.targetPoint3D,OnceTool.tempVector3.x);
		}));
	}

	__proto.onFireEnd=function(e){
		if(e.touchId==this.fireTouchID){
			this.stage.off("mouseup",this,this.onFireEnd);
			this.stage.off("mouseout",this,this.onFireEnd);
			this._selfOpSprite.opFire(false,0,this.targetPoint3D,(GameSystem.hero).cameraFaceAngle);
		}
	}

	__proto.onRequestAim=function(){
		this._selfOpSprite.opAim(!this.isAim);
	}

	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	__getset(0,__proto,'isAim',function(){
		return this._isAim;
		},function(value){
		if(this._isAim==value)
			return;
		this._isAim=value;
		if(value){
			if((GameSystem.hero).curGun.gunData.aimSight){
				this.aimBg.skin=(GameSystem.hero).curGun.gunData.aimSight;
				var width=this.aimBg.width *Laya.stage.height/Laya.stage.designHeight;
				this.aimBg.width=width;
				this.aimBg.pivotX=Math.floor(width/2);
			}
		}
		else{
			if((GameSystem.hero).curGun.gunData.sight){
				this.aimBg.skin=(GameSystem.hero).curGun.gunData.sight;
			}
		}
	});

	return BattleView;
})(BattleViewUI)


	//file:///H:/work/sniper/sniper/client/src/view/CrossAim.as=======92.999024/92.999024
//class view.CrossAim extends ui.battle.CrossAimUI
var CrossAim=(function(_super){
	function CrossAim(){
		this._isStandMode=false;
		this._isLockEnemy=false;
		this.continueFireNum=0;
		this.isFire=false;
		this.curoff=0;
		this.targetOff=0;
		CrossAim.__super.call(this);
		this.upIcon.visible=this.downIcon.visible=this.leftIcon.visible=this.rightIcon.visible=false;
	}

	__class(CrossAim,'view.CrossAim',_super);
	var __proto=CrossAim.prototype;
	__proto.fire=function(bool){
		this.isFire=bool;
		if(bool){
			if(this.continueFireNum<5){
				this.continueFireNum++;
			}
		}
		else{
			this.continueFireNum=0;
		}
		this.targetOff=this.continueFireNum*3;
		Laya.timer.frameLoop(1,this,this.onLoop);
	}

	__proto.onLoop=function(){
		if(this.curoff<this.targetOff){
			this.curoff++;
			if(this.curoff==this.targetOff){
				this.targetOff=0;
			}
		}
		else{
			this.curoff--;
			if(this.curoff==0){
				Laya.timer.clear(this,this.onLoop);
			}
		}
		this.upIcon.y=6-this.curoff;
		this.downIcon.y=63+this.curoff;
		this.rightIcon.x=59+this.curoff;
		this.leftIcon.x=-2-this.curoff;
	}

	__getset(0,__proto,'isStandMode',function(){
		return this._isStandMode;
		},function(value){
		if(this._isStandMode==value)return;
		this._isStandMode=value;
		this.upIcon.visible=this.downIcon.visible=this.leftIcon.visible=this.rightIcon.visible=value;
		this.bigCircle.visible=!value;
	});

	__getset(0,__proto,'isLockEnemy',function(){
		return this._isLockEnemy;
		},function(value){
		if(this._isLockEnemy==value)return;
		this._isLockEnemy=value;
		if(value){
			this.upIcon.skin=this.downIcon.skin=this.rightIcon.skin=this.leftIcon.skin='battle/cross2.png';
			this.smallCircle.skin='battle/smallCircle2.png';
			this.bigCircle.skin='battle/bigCircle2.png';
		}
		else{
			this.upIcon.skin=this.downIcon.skin=this.rightIcon.skin=this.leftIcon.skin='battle/cross.png';
			this.smallCircle.skin='battle/smallCircle.png';
			this.bigCircle.skin='battle/bigCircle.png';
		}
	});

	__static(CrossAim,
	['I',function(){return this.I=new CrossAim();}
	]);
	return CrossAim;
})(CrossAimUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/HallView.as=======92.999000/92.999000
/**
*大厅
*@author CuiXueying
*/
//class view.page.HallView extends ui.s_hall.HallUI
var HallView=(function(_super){
	function HallView(){
		this.url=["res/character/sniper/LayaScene_model/Skin1.lh","res/model/LayaScene_model/awmui.lh"];
		this.actionArr=["idle4","idle_4","idle_2"];
		this.curIndex=0;
		this._role=null;
		this._light=null;
		this._$7__scene=null;
		this._lastRightMousePos=new Point();
		HallView.__super.call(this);
		this.initData();
	}

	__class(HallView,'view.page.HallView',_super);
	var __proto=HallView.prototype;
	/**
	*初始化信息
	*/
	__proto.initData=function(){
		if(Sniper.isJoin){
			this.txt_roomId.text=Sniper.roomid;
		};
		var headUrl=PageManager.I().myHeadUrl;
		this.img_myhead.skin='http://picproxy.layabox.com/picproxy/test?'+headUrl.substr(headUrl.indexOf('//')+2);
		this.txt_nickName.text=PageManager.I().myNickName;
		this.btn_pk.on("click",this,this.onClickPK);
		this.btn_bag.on("click",this,this.onBag);
		this.btn_autoMatch.on("click",this,this.onAutoMatch);
		Laya.loader.create(this.url,Handler.create(this,this.onLoaded));
		this.btn_local.on("click",this,this.onClickLocal);
	}

	__proto.onLoaded=function(){
		var _$this=this;
		this._$7__scene=new Scene3D();
		var camera=new Camera();
		this._light=new DirectionLight();
		this._light.transform.rotationEuler=new Vector3(0,0.5,0);
		this._light.color=new Vector3(1.5,1.5,1.5);
		camera.viewport=new Viewport(this.x,this.y,this.width *Laya.stage.clientScaleX,(this.height-80)*Laya.stage.clientScaleY);
		camera.transform.position=new Vector3(0,0,1.3);
		this._role=Laya.loader.getRes(this.url[0].url);
		var gun=Laya.loader.getRes(this.url[1].url);
		this._role.transform.rotationEuler=new Vector3(0,0.5,0);
		this._role.addChild(gun);
		var animator=this._role.getChildAt(0).getComponent(Animator);
		animator.linkSprite3DToAvatarNode("Bip001 R Hand",gun);
		Laya.stage.on("mousedown",this,function(e){
			Laya.stage.on("mouseup",this,_$this.onMouseUp);
			Laya.stage.on("mouseout",this,_$this.onMouseOut);
			Laya.stage.on("mousemove",this,_$this.onMouseMove);
			_$this._lastRightMousePos.setTo(e.stageX,e.stageY);
		});
		Laya.stage.on("resize",this,function(e){
			var scaleHeight=720/Laya.stage.height;
			_$this._role.transform.position=new Vector3(-0.7*scaleHeight,-1.5,0);
		});
		this._role.transform.position=new Vector3(-0.7,-1.5,0);
		this._$7__scene.addChild(camera);
		this._$7__scene.addChild(this._light);
		this._$7__scene.addChild(this._role);
		this.model.addChild(this._$7__scene);
		Laya.timer.once(1,this,function(){
			animator.crossFade("idle_2",0.05,0);
			animator.crossFade("idle_2",0.05,1);
		})
	}

	//})
	__proto.onMouseUp=function(e){
		Laya.stage.off("mousemove",this,this.onMouseMove);
	}

	__proto._$7_onMouseOut=function(e){
		Laya.stage.off("mousemove",this,this.onMouseMove);
	}

	__proto.onMouseMove=function(e){
		var intervalX=(e.stageX-this._lastRightMousePos.x)/ 2;
		OnceTool.tempVector3.toDefault();
		OnceTool.tempVector3.y=intervalX*MathUtils.PI1_180;
		this._role.transform.rotate(OnceTool.tempVector3);
		this._lastRightMousePos.setTo(e.stageX,e.stageY);
	}

	__proto.onAutoMatch=function(){
		return;
		GameSniper.setRoomConnect(GameSniper.netRoom,GameSniper.layaConnect);
		if(!PageManager.I().isFreeMatch){
			PageManager.I().isFreeMatch=true;
			FSGame.room.match();
		}
	}

	/**
	*PK模式
	*/
	__proto.onClickPK=function(){
		return;
		GameSniper.setRoomConnect(GameSniper.netRoom,GameSniper.layaConnect);
		console.log("点击对战模式按钮！");
		PageManager.I().isFreeMatch=false;
		if(Sniper.isJoin){
			this.txt_roomId.text=Sniper.roomid;
		}
		if(this.txt_roomId.text==""){
			this.createRoom();
		}
		else{
			FSGame.room.joinRoom(this.txt_roomId.text);
		}
	}

	/**
	*单机模式
	*
	*/
	__proto.onClickLocal=function(){
		GameSniper.setRoomConnect(GameSniper.localRoom,GameSniper.localConnect);
		this.createRoom();
	}

	/**
	*背包按钮
	*/
	__proto.onBag=function(){
		this.dispo();
		EventCenter.event(GameEvent.PAGE_BAG);
	}

	/**
	*销毁函数
	*/
	__proto.dispo=function(){
		this._$7__scene && this._$7__scene.removeSelf();
		this.removeChildren();
		this.removeSelf();
	}

	/**
	*创建房间
	*/
	__proto.createRoom=function(){
		FSGame.room.createRoom();
	}

	return HallView;
})(HallUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/LoadingView.as=======92.998997/92.998997
/**
*加载页面
*@author CuiXueying
*/
//class view.page.LoadingView extends ui.s_loading.LoadingViewUI
var LoadingView=(function(_super){
	function LoadingView(){
		LoadingView.__super.call(this);
		this.initData();
	}

	__class(LoadingView,'view.page.LoadingView',_super);
	var __proto=LoadingView.prototype;
	/**
	*初始化数据
	*/
	__proto.initData=function(){
		this.pro_guang.x=0;
	}

	/**
	*模拟Loading条加载
	*/
	__proto.update=function(v){
		console.log(v);
		this.pro.value=parseInt(v*100+"")/100;
		this.txt_pro.text=parseInt(this.pro.value*100+"")+"%";
		this.pro_guang.x=this.pro.width*this.pro.value;
		if(this.pro.value>=1){
			this.dispo();
			EventCenter.event(GameEvent.PAGE_HALL);
		}
	}

	/**
	*销毁函数
	*/
	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	return LoadingView;
})(LoadingViewUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/MatchView.as=======92.998995/92.998995
//class view.page.MatchView extends ui.s_match.MatchViewUI
var MatchView=(function(_super){
	function MatchView(){
		MatchView.__super.call(this);
		this.initData();
	}

	__class(MatchView,'view.page.MatchView',_super);
	var __proto=MatchView.prototype;
	/**
	*初始化信息
	*/
	__proto.initData=function(){
		this.btn_start.disabled=true;
		this.btn_invite.on("click",this,this.onInvide);
		this.btn_start.on("click",this,this.onStartGame);
		this.btn_ready.on("click",this,this.onReady);
		this.btn_back.on("click",this,this.onBack);
		this.updateInfo();
	}

	/**
	*离开房间
	*/
	__proto.onBack=function(){
		var _$this=this;
		if(FSGame.connect.isLocalMode){
			this.dispo();
			EventCenter.event(GameEvent.PAGE_HALL);
		}
		else{
			FSGame.connect.leaveRoom(1,function(){
				alert("成功退出房间！");
				PageManager.I().isFreeMatch=false;
				FSGame.room.isEnterRoom=false;
				_$this.dispo();
				EventCenter.event(GameEvent.PAGE_HALL);
			});
		}
	}

	__proto.onReady=function(){
		this.btn_ready.disabled=true;
		var gameStatMsg=new GameStatMsg();
		gameStatMsg.readyStat=true;
		FSGame.connect.broadcast(gameStatMsg);
	}

	/**
	*房主开始游戏广播
	*/
	__proto.onStartGame=function(){
		console.log("点击开始游戏按钮！");
		if(PageManager.I().isFreeMatch){
			var gameStatMsg=new GameStatMsg();
			gameStatMsg.gameStat=true;
			FSGame.connect.broadcast(gameStatMsg);
		}
		else{
			if(this.ready02.visible||FSGame.connect.isLocalMode){
				var gameStatMsg=new GameStatMsg();
				gameStatMsg.gameStat=true;
				FSGame.connect.broadcast(gameStatMsg);
			}
			else{
				alert("房间成员还未准备好，请稍后开始！");
			}
		}
	}

	/**
	*房间ID赋值
	*/
	__proto.updateInfo=function(){
		this.ready02.visible=false;
		this.txt_roomId.text=FSGame.room.roomID;
		if(PageManager.I().isFreeMatch||FSGame.connect.isLocalMode){
			this.btn_start.disabled=false;
			this.btn_start.visible=true;
			this.btn_ready.visible=false;
		}
		else{
			FSGame.room.isOwner?this.btn_ready.visible=false:this.btn_start.visible=false;
		}
	}

	/**
	*修改房间成员信息
	*/
	__proto.updateMsg=function(){
		var roomMsg=PageManager.I().roomMsg;
		if(roomMsg.length==1){
			this.txt_name1.text=roomMsg[0].nickName;
			this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[0].headUrl.substr(roomMsg[0].headUrl.indexOf('//')+2);
			this.txt_name2.text="";
			this.head02.skin="shooting/101.png";
		}
		if(roomMsg.length==2){
			this.txt_name1.text=roomMsg[0].nickName;
			this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[0].headUrl.substr(roomMsg[0].headUrl.indexOf('//')+2);
			this.txt_name2.text=roomMsg[1].nickName;
			this.head02.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[1].headUrl.substr(roomMsg[1].headUrl.indexOf('//')+2);
		}
	}

	__proto.onInvide=function(){
		var market=LayaBoxMarketH5.getInstance();
		var canShare=market.canShareAndFeed();
		if(canShare){
			market.enterShareAndFeed(JSON.stringify({link:"http://game.layabox.com/3221?url=http://10.10.20.14:8899/index.html&roomid="+this.txt_roomId.text,desc:"点击链接，一起打枪吧！",imgsrc:"",title:"打枪"}),function(){
				console.log("***分享成功！");
			});
		}
	}

	/**
	*匹配
	*/
	__proto.onMatch=function(){
		FSGame.room.match();
	}

	/**
	*销毁函数
	*/
	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	MatchView.roomId=null;
	return MatchView;
})(MatchViewUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/VictoryView.as=======92.998993/92.998993
//class view.page.VictoryView extends ui.s_victory.VictoryViewUI
var VictoryView=(function(_super){
	function VictoryView(){
		VictoryView.__super.call(this);
		this.initData();
	}

	__class(VictoryView,'view.page.VictoryView',_super);
	var __proto=VictoryView.prototype;
	__proto.initData=function(){
		EventCenter.on(GameEvent.VICTORY_MSG,this,this.onVictoryMsg);
		var roomMsg=PageManager.I().roomMsg;
		this.redskill.text=PageManager.I().redScore+"";
		this.bluskill.text=PageManager.I().blueScore+"";
		if(!FSGame.connect.isLocalMode){
			this.name01.text=roomMsg[0].nickName;
			this.name02.text=roomMsg[1].nickName;
			this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[0].headUrl.substr(roomMsg[0].headUrl.indexOf('//')+2);
			this.head02.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[1].headUrl.substr(roomMsg[1].headUrl.indexOf('//')+2);
		}
		if(PageManager.I().blueScore>=PageManager.I().redScore){
			if(FSGame.room.isOwner)this.img_victory.skin="shooting/119.png";
			else this.img_victory.skin="shooting/118.png";
			this.mvp01.visible=true;
			this.mvp02.visible=false;
		}
		else{
			if(FSGame.room.isOwner)this.img_victory.skin="shooting/118.png";
			else this.img_victory.skin="shooting/119.png";
			this.mvp01.visible=false;
			this.mvp02.visible=true;
		}
		this.btn_back.on("click",this,this.onClickBack);
	}

	/**
	*结算信息广播回调-对方的信息设置========================自动匹配和创建加入的进入顺序不一样，可优化
	*/
	__proto.onVictoryMsg=function(msg){
		var roomMsg=PageManager.I().roomMsg;
		if(msg.userId!=PageManager.I().myUserId){
			if(FSGame.room.isOwner){
				this.blueMsgSet(PageManager.I().baotouNum,PageManager.I().deadNum,PageManager.I().killNum);
				this.redMsgSet(msg.baotouNum,msg.deadNum,msg.killNum);
			}
			else{
				this.blueMsgSet(msg.baotouNum,msg.deadNum,msg.killNum);
				this.redMsgSet(PageManager.I().baotouNum,PageManager.I().deadNum,PageManager.I().killNum);
			}
		}
	}

	__proto.blueMsgSet=function(baotouNum,deadNum,killNum){
		this.baotou01.text=baotouNum+"";
		this.dead01.text=deadNum+"";
		this.kills01.text=killNum+"";
	}

	__proto.redMsgSet=function(baotouNum,deadNum,killNum){
		this.baotou02.text=baotouNum+"";
		this.dead02.text=deadNum+"";
		this.kills02.text=killNum+"";
	}

	__proto.onClickBack=function(){
		var _$this=this;
		if(FSGame.connect.isLocalMode){
			this.dispo();
			EventCenter.event(GameEvent.PAGE_HALL);
		}
		else{
			FSGame.connect.leaveRoom(1,function(){
				console.log("成功退出房间！");
				PageManager.I().isFreeMatch=false;
				FSGame.room.isEnterRoom=false;
				_$this.dispo();
				EventCenter.event(GameEvent.PAGE_HALL);
			});
		}
	}

	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	return VictoryView;
})(VictoryViewUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/VsView.as=======92.998991/92.998991
//class view.page.VsView extends ui.s_vs.VsViewUI
var VsView=(function(_super){
	function VsView(){
		/**是否已经创建场景**/
		this.isCreateScene=false;
		VsView.__super.call(this);
		this.initData();
	}

	__class(VsView,'view.page.VsView',_super);
	var __proto=VsView.prototype;
	__proto.initData=function(){
		if(!FSGame.connect.isLocalMode){
			var roomMsg=PageManager.I().roomMsg;
			this.txt_name1.text=roomMsg[0].nickName;
			this.txt_name2.text=roomMsg[1].nickName;
			this.head01.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[0].headUrl.substr(roomMsg[0].headUrl.indexOf('//')+2);
			this.head02.skin='http://picproxy.layabox.com/picproxy/test?'+roomMsg[1].headUrl.substr(roomMsg[1].headUrl.indexOf('//')+2);
		};
		var field="url";
		var fakePercent=0.6;
		var fakeTime=5000;
		var realTime=10;
		GLoaderManager.I.loadres([
		{url:"res/effect/LayaScene_model/Effect_jizhong.lh",clas:Sprite3D },
		{url:"res/effect/LayaScene_model/Effect_qiangkou.lh",clas:Sprite3D },
		{url:"res/effect/LayaScene_model/posui.lh",clas:Sprite3D },
		{url:"res/model/LayaScene_model/bullet1.lh",clas:Sprite3D },
		{url:"battle/aimBG.png" },
		{url:"res/character/sniper/LayaScene_model/Skin.lh",clas:Sprite3D },
		{url:"res/model/LayaScene_model/awm.lh",clas:Sprite3D },
		{url:"res/model/LayaScene_model/m16.lh",clas:Sprite3D },
		{url:"res/scenes/LayaScene_Sniper_maps0402/Sniper_maps0402.ls",clas:Scene3DNodeExtend}],Handler.create(this,this._onProgress,null,false),Handler.create(this,this._onCom),fakePercent,fakeTime,realTime,field);
	}

	__proto._onProgress=function(v){
		var curValue=parseInt(v*100+"");
		var vsProMsg=new VsProMsg();
		vsProMsg.userid=PageManager.I().myUserId;
		vsProMsg.value=curValue;
		FSGame.connect.broadcast(vsProMsg);
	}

	/**
	*广播回调：加载进度同步信息
	*/
	__proto.updatePro=function(msg){
		var userId=msg.userid;
		var value=msg.value;
		if(userId==PageManager.I().myUserId){
			FSGame.room.isOwner? this.pro1.text=value+"%":this.pro2.text=value+"%";
		}
		else{
			FSGame.room.isOwner?this.pro2.text=value+"%":this.pro1.text=value+"%";
		}
		if(FSGame.connect.isLocalMode){
			if (parseInt(this.pro1.text)>=100){
				this._compileShader();
				FSGame.connect.broadcast(new LoadSceneMsg);
				if (Laya.stage.contains(PageManager.I().match)){
					PageManager.I().match.dispo();
				}
				console.log("***(ready go ! ! ! ) ***");
			}
		}
		else{
			if(parseInt(this.pro1.text)>=100&&parseInt(this.pro2.text)>=100){
				this._compileShader();
				if(FSGame.room.isOwner){
					FSGame.connect.broadcast(new LoadSceneMsg);
				}
				if(Laya.stage.contains(PageManager.I().match)){
					PageManager.I().match.dispo();
				}
				console.log("***(ready go ! ! ! ) ***");
			}
		}
	}

	__proto._onCom=function(){}
	__proto._compileShader=function(){
		console.log("***战斗页面资源加载完毕***");
		Shader3D.compileShader("BLINNPHONG",0,15,4,2);
		Shader3D.compileShader("BLINNPHONG",0,11,6,2);
		Shader3D.compileShader("BLINNPHONG",0,15,4,3);
		Shader3D.compileShader("BLINNPHONG",0,15,4,18);
		Shader3D.compileShader("BLINNPHONG",0,3,6,2);
		Shader3D.compileShader("BLINNPHONG",0,47,4,2);
		Shader3D.compileShader("BLINNPHONG",0,47,4,6);
		Shader3D.compileShader("BLINNPHONG",0,43,6,2);
		Shader3D.compileShader("BLINNPHONG",0,11,6,18);
		Shader3D.compileShader("BLINNPHONG",0,11,6,3);
		Shader3D.compileShader("BLINNPHONG",0,47,4,22);
		Shader3D.compileShader("BLINNPHONG",0,35,0,34);
		Shader3D.compileShader("SkyBox",0,0,0,0);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69239048,6);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69239560,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69238920,6);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,2097312,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,33587328,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,2097288,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69206160,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,8,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,33587200,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,4194960,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69206152,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,32776,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,8,14);
		Shader3D.compileShader("PARTICLESHURIKEN",0,1,69214344,14);
		Shader3D.compileShader("PBRStandard",0,0,0,1024);
		Shader3D.compileShader("PBRStandard",0,0,0,22);
		Shader3D.compileShader("Trail",0,1,8,2);
	}

	/**
	*销毁函数
	*/
	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	return VsView;
})(VsViewUI)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/Walert.as=======92.993501/92.993501
//class tool.dream.displays.Walert extends tool.dream.displays.WyesORno
var Walert=(function(_super){
	function Walert(){
		this._tf=null;
		Walert.__super.call(this);
	}

	__class(Walert,'tool.dream.displays.Walert',_super);
	var __proto=Walert.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.Ipanel":true})
	__proto.addChildren=function(){
		org.coms.components.Kwindow.prototype.addChildren.call(this);
		this._tf=new WtextField();
		this._tf.setTextFormat(TextFormat.once(Kstyle.fontName,Kstyle.fontSize,Kstyle.LABEL_TEXT));
		this._tf.autoSize="left";
		this._tf.addToParent(this._panel);
		this._tf.pos(10,10);
		this._tf.size(10,10);
		this.hasCloseButton=true;
	}

	__proto.onClose=function(){
		_super.prototype.onClose.call(this);
		WtipManager.instance.removeTip(this._tf);
		this.hide();
	}

	__proto.show=function(parent){
		WpopManager.instance.popWindow(this,Wsystem.Pop_Alert,2|1);
	}

	__proto.alert=function(text,title,okFunc,noFunc){
		(title===void 0)&& (title="warn");
		this.title=title;
		this.text=text;
		this.setOkAndNoFunc(okFunc,noFunc);
		this.show();
	}

	__getset(0,__proto,'text',null,function(value){
		this._tf.wordWrap=false;
		this._tf.text=value;
		if(this._tf.textWidth>400){
			this._tf.wordWrap=true;
			this._tf.size(400,300);
		}
		else{
			this._tf.size(this._tf.textWidth,this._tf.textHeight);
		}
		this.size(Math.max(150,Math.min(400,this._tf.width+4)),Math.min(430,Math.max(this._tf.height+50,100)));
		this._tf.pos((this._width-this._tf.width)>>1,(this._height-50-this._tf.height)>>1);
		WtipManager.instance.addTipForDisplay(this._tf,this._tf.text);
	});

	__getset(1,Walert,'instance',function(){
		return Walert._instance||(Walert._instance=new Walert);
	},tool.dream.displays.WyesORno._$SET_instance);

	Walert.alert=function(text,title,okFunc,noFunc){
		(title===void 0)&& (title="warn");
		var win=new Walert();
		win.alert(text,title,okFunc,noFunc);
	}

	Walert._instance=null;
	return Walert;
})(WyesORno)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WlistAlert.as=======92.993491/92.993491
//class tool.dream.displays.WlistAlert extends tool.dream.displays.WyesORno
var WlistAlert=(function(_super){
	function WlistAlert(){
		this._list=null;
		WlistAlert.__super.call(this);
	}

	__class(WlistAlert,'tool.dream.displays.WlistAlert',_super);
	var __proto=WlistAlert.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.Ipanel":true})
	__proto.addChildren=function(){
		org.coms.components.Kwindow.prototype.addChildren.call(this);
		this._list=new WsearchInput("Show_Int");
		this._list.list.listItemHeight=30;
		this.addChild(this._list);
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._list.size(this._width,this._height-50);
	}

	__proto.okFunc=function(){
		this._okFunc(this._list.list.selectedItem);
	}

	__proto.show=function(parent){
		WpopManager.instance.popWindow(this,Wsystem.Pop_Alert,2|1);
	}

	__proto.alert=function(data,title,okFunc,noFunc){
		(title===void 0)&& (title="warn");
		this.title=title;
		this.data=data;
		this.setOkAndNoFunc(okFunc,noFunc);
		this.size(200,200);
		this.show();
	}

	__getset(0,__proto,'data',null,function(value){
		this._list.setSearch(value);
	});

	__getset(1,WlistAlert,'instance',function(){
		return WlistAlert._instance||(WlistAlert._instance=new WlistAlert);
	},tool.dream.displays.WyesORno._$SET_instance);

	WlistAlert.alert=function(data,title,okFunc,noFunc){
		(title===void 0)&& (title="warn");
		var win=new WlistAlert();
		win.alert(data,title,okFunc,noFunc);
	}

	WlistAlert._instance=null;
	return WlistAlert;
})(WyesORno)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/jsonEdits/WaddJsonItemWin.as=======92.993486/92.993486
//class tool.dream.jsonEdits.WaddJsonItemWin extends tool.dream.displays.WyesORno
var WaddJsonItemWin=(function(_super){
	function WaddJsonItemWin(){
		this._typeList=null;
		this._keyTf=null;
		this._valueTf=null;
		this._result=null;
		WaddJsonItemWin.__super.call(this);
	}

	__class(WaddJsonItemWin,'tool.dream.jsonEdits.WaddJsonItemWin',_super);
	var __proto=WaddJsonItemWin.prototype;
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.title="新增节点";
		this.hasCloseButton=true;
		this.size(300,120);
		this._keyTf=new KinputText(this,40,5,"");
		this._keyTf.size(150,30)
		this._keyTf.textField.on("blur",this,this.keyChangeHd);
		this._keyTf.title="key:"
		this._valueTf=new KinputText(this,40,40,"");
		this._valueTf.size(150,30)
		this._valueTf.textField.on("blur",this,this.valueChangeHd);
		this._valueTf.title="value:";
		this._typeList=new KcomboBox(this,190,40,"",["String","Number","Boolean","Object","Array","*"]);
		this._typeList.on("select",this,this.selectTypeHd);
		this._typeList.size(100,30);
		this.on("close",this,this.closeHd);
	}

	__proto.closeHd=function(event){
		this.hide();
	}

	__proto.eidtNewNode=function(okFunction){
		this._result={};
		this._typeList.selectedIndex=0;
		this._keyTf.text="";
		this._valueTf.text="";
		this.setOkAndNoFunc(okFunction);
		this.show();
	}

	__proto.valueChangeHd=function(event){
		switch(this._typeList.selectedIndex){
			case 0:
				this._result.data=this._valueTf.text;
				break ;
			case 1:
				this._result.data=Number(this._valueTf.text);
				break ;
			case 2:
				this._result.data=this._valueTf.text=="true";
				break ;
			}
	}

	__proto.keyChangeHd=function(event){
		this._result.key=this._keyTf.text;
	}

	__proto.selectTypeHd=function(event){
		switch(this._typeList.selectedIndex){
			case 0:
				this._valueTf.enabled=true;
				this._result.data="";
				this._valueTf.text=String(this._result.data);
				break ;
			case 1:
				this._valueTf.enabled=true;
				this._result.data=0;
				this._valueTf.text=String(this._result.data);
				break ;
			case 2:
				this._valueTf.enabled=true;
				this._result.data=true;
				this._valueTf.text=String(this._result.data);
				break ;
			case 3:
				this._valueTf.enabled=false;
				this._result.data={};
				this._valueTf.text="";
				break ;
			case 4:
				this._valueTf.enabled=false;
				this._result.data=[];
				this._valueTf.text="";
				break ;
			case 5:
				this._valueTf.enabled=false;
				this._result.data=null;
				this._valueTf.text="null";
				break ;
			}
	}

	__proto.show=function(parent){
		WpopManager.instance.popWindow(this,Wsystem.Pop_EditObjWin,1|2);
	}

	__proto.yesDownHd=function(){
		if(!this._keyTf.text){
			Walert.alert("关键字不能为空！");
			return;
		}
		WpopManager.instance.removeWindow(this);
		if(this._okFunc!=null){
			this._okFunc(this._result);
		}
		this.event("ok");
		this._result=null;
	}

	__proto.noDownHd=function(){
		_super.prototype.noDownHd.call(this);
		this._result=null;
	}

	__getset(1,WaddJsonItemWin,'instance',function(){
		return WaddJsonItemWin._instance || (WaddJsonItemWin._instance=new WaddJsonItemWin);
	},tool.dream.displays.WyesORno._$SET_instance);

	WaddJsonItemWin._instance=null;
	return WaddJsonItemWin;
})(WyesORno)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/jsonEdits/WjsonEditWin.as=======92.993484/92.993484
//class tool.dream.jsonEdits.WjsonEditWin extends tool.dream.displays.WyesORno
var WjsonEditWin=(function(_super){
	function WjsonEditWin(){
		this._newJsonItem=null;
		this._tree=null;
		this._listScrollV=null;
		this._addNodeBtn=null;
		this._deleteNodeBtn=null;
		this._typeList=null;
		this._openAllBtn=null;
		this._closeAllBtn=null;
		this._currentNode=null;
		WjsonEditWin.__super.call(this);
	}

	__class(WjsonEditWin,'tool.dream.jsonEdits.WjsonEditWin',_super);
	var __proto=WjsonEditWin.prototype;
	Laya.imps(__proto,{"wlb.dream.displays.Ipanel":true})
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.title="Json编辑器"
		this.size(400,540);
		this._newJsonItem=new WaddJsonItemWin();
		this._addNodeBtn=new KpushButton(this,0,0,"新增",this.addNodeHd);
		this._addNodeBtn.enabled=false;
		this._addNodeBtn.size(70,30);
		this._deleteNodeBtn=new KpushButton(this,70,0,"删除",this.deleteNodeHd);
		this._deleteNodeBtn.enabled=false;
		this._deleteNodeBtn.size(70,30);
		this._typeList=new KcomboBox(this,140,0,"类型",["String","Number","Boolean"]);
		this._typeList.on("select",this,this.selectTypeHd);
		this._typeList.enabled=false;
		this._typeList.size(120,30);
		this._openAllBtn=new KpushButton(this,260,0,"展开",this.openAllHd);
		this._openAllBtn.size(70,30);
		this._closeAllBtn=new KpushButton(this,330,0,"合并",this.closeAllHd);
		this._closeAllBtn.size(70,30);
		this._tree=new Wtree(WjsonEditItem,null,WjsonNodeInfo);
		this._tree.setGridAndItem(390,30);
		this._tree.on("select",this,this.selectNodeHd);
		this._listScrollV=new WtreeScroll(this._tree);
		this._listScrollV.size(this._width,this._height-50);
		this._listScrollV.pos(0,30);
		this.addChild(this._listScrollV);
		this.hasCloseButton=true;
		this.on("close",this,this.closeHd);
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._listScrollV.size(this._width,this._height-80);
	}

	__proto.closeHd=function(event){
		this.noDownHd();
	}

	__proto.show=function(parent){
		WpopManager.instance.popWindow(this,Wsystem.Pop_EditObjWin,2);
	}

	__proto.addNewNode=function(data){
		var newNode=new WtreeNodeInfo(data.key,data.data);
		this._tree.addNode(this._currentNode,newNode);
	}

	__proto.selectNodeHd=function(event){
		if(this._tree.selectedIndex>=0){
			this._currentNode=this._tree.items [this._tree.selectedIndex];
			var data=this._currentNode.data;
			if((typeof data=='string')){
				this._typeList.selectedIndex=0;
				this._addNodeBtn.enabled=false;
				this._typeList.enabled=true;
			}
			else if((typeof data=='number')){
				this._typeList.selectedIndex=1;
				this._addNodeBtn.enabled=false;
				this._typeList.enabled=true;
			}
			else if((typeof data=='boolean')){
				this._typeList.selectedIndex=2;
				this._addNodeBtn.enabled=false;
				this._typeList.enabled=true;
			}
			else{
				this._typeList.enabled=false;
				this._addNodeBtn.enabled=this._currentNode.isTreeNode;
			}
			this._deleteNodeBtn.enabled=this._currentNode.parent!=null;
		}
		else{
			this._currentNode=null;
			this._typeList.enabled=this._addNodeBtn.enabled=this._deleteNodeBtn.enabled=false
		}
	}

	__proto.closeAllHd=function(e){
		this._tree.closeAll();
	}

	__proto.openAllHd=function(e){
		this._tree.openAll();
	}

	__proto.selectTypeHd=function(event){
		switch(this._typeList.selectedIndex){
			case 0:
				this._currentNode.parent.data[this._currentNode.key]=this._currentNode.data=String(this._currentNode.data);
				break ;
			case 1:
				this._currentNode.parent.data[this._currentNode.key]=this._currentNode.data=Number(this._currentNode.data);
				break ;
			case 2:
				this._currentNode.parent.data[this._currentNode.key]=this._currentNode.data=Boolean(this._currentNode.data);
				break ;
			}
		this._tree.drawAsyn();
	}

	__proto.deleteNodeHd=function(e){
		this._tree.removeNode(this._currentNode);
	}

	__proto.addNodeHd=function(e){
		this._newJsonItem.eidtNewNode(this.addNewNode);
	}

	__proto.editObject=function(obj){
		this._tree.treeData=obj;
		this._addNodeBtn.visible=this._deleteNodeBtn.visible=true;
	}

	//WclassInfo.isDynamicClass(obj);
	__proto.pressKey=function(keyCode,isPress){
		if(isPress){
			_super.prototype.pressKey.call(this,keyCode,isPress);
			switch(keyCode){
				case 38:
					this._tree.selectedIndex--;
					this._tree.viewToSelect();
					break ;
				case 40:
					this._tree.selectedIndex++;
					this._tree.viewToSelect();
					break ;
				}
		}
	}

	__getset(1,WjsonEditWin,'instance',function(){
		if(WjsonEditWin._instance){
			return WjsonEditWin._instance;
		}
		else{
			WjsonEditWin._instance=new WjsonEditWin;
			return WjsonEditWin._instance;
		}
	},tool.dream.displays.WyesORno._$SET_instance);

	WjsonEditWin.editObject=function(obj,okFunc,noFunc){
		WjsonEditWin.instance.setOkAndNoFunc(okFunc,noFunc);
		WjsonEditWin._instance.editObject(obj);
		WjsonEditWin._instance.show();
	}

	WjsonEditWin._instance=null;
	return WjsonEditWin;
})(WyesORno)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WeditProtyWin.as=======92.993449/92.993449
//class tool.dream.protyEdits.WeditProtyWin extends tool.dream.displays.WyesORno
var WeditProtyWin=(function(_super){
	function WeditProtyWin(){
		this._editProtyContain=null;
		WeditProtyWin.__super.call(this);
	}

	__class(WeditProtyWin,'tool.dream.protyEdits.WeditProtyWin',_super);
	var __proto=WeditProtyWin.prototype;
	__proto.initCom=function(){
		_super.prototype.initCom.call(this);
		this.hasCloseButton=true;
		this._editProtyContain=new WeditProtyContain();
		this.addChild(this._editProtyContain);
	}

	__proto.initSize=function(){
		this.size(300,Math.min(500,Wstage.stageHeight));
	}

	__proto.drawNow=function(){
		_super.prototype.drawNow.call(this);
		this._editProtyContain.size(this._width,this._height-50);
	}

	__proto.setOkAndNoFunc=function(okFunc,noFunc){
		_super.prototype.setOkAndNoFunc.call(this,okFunc,noFunc);
		this._yesBtn.visible=true;
	}

	__proto.onClose=function(){
		_super.prototype.onClose.call(this);
		this.noDownHd();
	}

	__proto.yesDownHd=function(){
		if(this._okFunc!=null){
			if(this._okFunc.length>0)
				this._okFunc(this._editProtyContain.editObj);
			else
			this._okFunc();
		}
		this.event("ok");
		this._okFunc=this._noFunc=null;
		this.hide();
	}

	__proto.hide=function(){
		_super.prototype.hide.call(this);
		this._editProtyContain.setEditObj(null,null);
	}

	__proto.setEditObj=function(value,param){
		this._editProtyContain.setEditObj(value,param);
	}

	return WeditProtyWin;
})(WyesORno)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WnumberProty.as=======92.993245/92.993245
//class tool.dream.protyEdits.WnumberProty extends tool.dream.protyEdits.WstringProty
var WnumberProty=(function(_super){
	function WnumberProty(){
		this._restrictType=10;
		this._numLength=-1;
		this._showColor=false;
		this._colorShape=null;
		WnumberProty.__super.call(this);
		this['inputCallback']=this.inputCallback.bind(this);
	}

	__class(WnumberProty,'tool.dream.protyEdits.WnumberProty',_super);
	var __proto=WnumberProty.prototype;
	__proto.init=function(){
		_super.prototype.init.call(this);
	}

	__proto.initEdit=function(editObj,protyEidtInfo){
		tool.dream.protyEdits.WeditProty.prototype.initEdit.call(this,editObj,protyEidtInfo);
		this._restrictType=protyEidtInfo.restrictType;
		this._numLength=protyEidtInfo.numLength;
		this._showColor=protyEidtInfo.showColor;
		if(this._showColor){
			if(this._colorShape==null){
				this._colorShape=new Sprite();
				this._colorShape.on("click",this,this.onPopColorPick);
			}
			this._colorShape.y=5;
			this._colorShape.x=this._input.x+this._input.width+2;
			this.addChild(this._colorShape);
		}
		if(this._restrictType==10)
			this._input.setNumberText("0-9 \\- \\.",true,this.inputCallback);
		else if(this._restrictType==2)
		this._input.setNumberText("0-1",true,this.inputCallback);
		else if(this._restrictType==16)
		this._input.setNumberText("0-9 A-F a-f",true,this.inputCallback);
	}

	__proto.onPopColorPick=function(event){
		var p=new Point(0,30);
		p=this.localToGlobal(p);
	}

	// WcolorPickUper.instance.showColor(_protyEditInfo.getFunc(_editObj),inputCallback,p.x,p.y);
	__proto.drawNow=function(){
		tool.dream.protyEdits.WeditProty.prototype.drawNow.call(this);
		if(this._colorShape){
			this._colorShape.x=this._width-this._colorShape.width-4;
		}
	}

	__proto.inputCallback=function(num){
		this._protyEditInfo.setFunc(this._editObj,num);
	}

	__proto.outHd=function(){
		if(this._protyEditInfo==null)return;
		if(this._restrictType==10)
			this._protyEditInfo.setFunc(this._editObj,this._input.text);
		else if(this._restrictType==16)
		this._protyEditInfo.setFunc(this._editObj,parseInt(this._input.text,16));
		else if(this._restrictType==2)
		this._protyEditInfo.setFunc(this._editObj,parseInt(this._input.text,2));
		this.upDate();
	}

	__proto.upDate=function(){
		var num=this._protyEditInfo.getFunc(this._editObj);
		var numText="";
		if(this._restrictType==10)
			numText=String(num);
		else if(this._restrictType==16)
		numText=num.toString(16);
		else if(this._restrictType==2)
		numText=num.toString(2);
		if(this._numLength>0){
			numText=WstringUtil.addZeroToStr(this._numLength,numText);
		}
		this._input.text=numText;
		WasynManager.instance.clearFrameOnce(this._input,this._input.drawNow);
		this._input.drawNow();
		if(this._showColor){
			this._colorShape.graphics.clear();
			this._colorShape.graphics.drawRect(0,0,20,20,'#'+num.toString(1),'#000000',2);
		}
	}

	__proto.dispose=function(){
		if(this._colorShape&&this._colorShape.parent){
			this.removeChild(this._colorShape);
		}
		tool.dream.protyEdits.WeditProty.prototype.dispose.call(this);
	}

	return WnumberProty;
})(WstringProty)


	//file:///H:/work/sniper/WLBLaya/src/tool/dream/protyEdits/WfunctionProty.as=======92.993244/92.993244
//class tool.dream.protyEdits.WfunctionProty extends tool.dream.protyEdits.WbuttonProty
var WfunctionProty=(function(_super){
	function WfunctionProty(){
		WfunctionProty.__super.call(this);
	}

	__class(WfunctionProty,'tool.dream.protyEdits.WfunctionProty',_super);
	var __proto=WfunctionProty.prototype;
	__proto.downHd=function(event){
		var callBack=this._protyEditInfo.getCallFunction(this._editObj);
		if(callBack.length==0){
			callBack();
		}
		else{
			var params=[];
			for(var i=0;i<callBack.length;i++){
				params.push("");
			}
			WjsonEditWin.editObject(params,function(){
				try{
					var voidStr=callBack.apply(null,params);
				}
				catch(e){
					voidStr=e.getStackTrace();
				}
				if(voidStr){
					Walert.alert(voidStr,"result");
				}
			});
		}
	}

	return WfunctionProty;
})(WbuttonProty)


	//file:///H:/work/sniper/sniper/client/src/gameUIViews/view/battle/BProgressBar.as=======91.999011/91.999011
//class gameUIViews.view.battle.BProgressBar extends ui.battle.BProgressBarUI
var BProgressBar=(function(_super){
	function BProgressBar(){
		this._max=100;
		this._cur=0;
		this.callBack=null;
		BProgressBar.__super.call(this);
		BProgressBar.instance=this;
		this.setProgress(0);
	}

	__class(BProgressBar,'gameUIViews.view.battle.BProgressBar',_super);
	var __proto=BProgressBar.prototype;
	/**
	*设置回调
	*@param callBack 用来外部控制打开boss出现的警告特效
	*
	*/
	__proto.setCallBack=function(callBack){
		this.callBack=callBack;
	}

	/**
	*设置进度
	*@param value
	*
	*/
	__proto.setProgress=function(value){
		this._cur+=value;
		if(this._cur > this.max){
			this._cur=this.max;
		}
		this.valCount.text=Math.floor(this._cur / this.max *100)+"/100";
		return;
	}

	// }
	__proto.setProgress2=function(value,max,callBack){
		this.max=max;
		this.setProgress(value);
		this.setCallBack(callBack);
	}

	__proto.isFull=function(){
		return this._cur >=this.max;
	}

	__proto.createBoss=function(){}
	__proto.clear=function(){
		this._cur=0;
		/*no*/this.timer.clear(this,this.createBoss);
	}

	// this.progressBar.visible=false;
	__proto.showProgress=function(){
		this.setProgress(0);
	}

	__proto.self=function(){
		return this;
	}

	/**
	*设置进度最大值
	*@param value
	*
	*/
	__getset(0,__proto,'max',function(){
		return this._max;
		},function(value){
		this._max=value;
	});

	BProgressBar.getInstance=function(){
		return BProgressBar.instance=BProgressBar.instance|| new BProgressBar();
	}

	BProgressBar.instance=null;
	return BProgressBar;
})(BProgressBarUI)


	//file:///H:/work/sniper/sniper/client/src/view/gameUI/Loading.as=======91.998855/91.998855
/**
*...
*@author
*/
//class view.gameUI.Loading extends ui.loading.LoadingUI
var Loading=(function(_super){
	function Loading(){
		this.callback=null;
		Loading.__super.call(this);
	}

	__class(Loading,'view.gameUI.Loading',_super);
	var __proto=Loading.prototype;
	__proto.loadres=function(urls,field,fakePercent,fakeTime,realTime){
		(field===void 0)&& (field="url");
		(fakePercent===void 0)&& (fakePercent=0.7);
		(fakeTime===void 0)&& (fakeTime=2000);
		(realTime===void 0)&& (realTime=10);
		GLoaderManager.I.loadres(urls,Handler.create(this,this._onProgress,null,false),Handler.create(this,this._onCom),fakePercent,fakeTime,realTime,field);
	}

	__proto.setValue=function(value){
		this.pb.value=value;
		this.pbText.text=Math.floor((value)*100)+'%';
	}

	__proto._onProgress=function(v){
		this.setValue(v);
	}

	__proto._onCom=function(){
		this.callback && this.callback.run();
	}

	__getset(1,Loading,'I',function(){
		return Loading._instance=Loading._instance|| new Loading();
	},ui.loading.LoadingUI._$SET_I);

	Loading._instance=null;
	return Loading;
})(LoadingUI)


	//file:///H:/work/sniper/sniper/client/src/view/page/BagView.as=======0.000000/0.000000
/**
*背包页面
*@author CuiXueying
*
*/
//class view.page.BagView extends ui.s_bag.BagViewUI
var BagView$1=(function(_super){
	function BagView(){
		BagView.__super.call(this);
		this.initData();
	}

	__class(BagView,'view.page.BagView',_super,'BagView$1');
	var __proto=BagView.prototype;
	/**
	*初始化类数据
	*/
	__proto.initData=function(){
		var headUrl=PageManager.I().myHeadUrl;
		this.img_myhead.skin='http://picproxy.layabox.com/picproxy/test?'+headUrl.substr(headUrl.indexOf('//')+2);
		this.txt_nickName.text=PageManager.I().myNickName;
		this.mytab.selectHandler=this.mystack.setIndexHandler;
		this.btn_back.on("click",this,this.onBack);
	}

	/**
	*返回大厅页面
	*/
	__proto.onBack=function(){
		this.dispo();
		EventCenter.event(GameEvent.PAGE_HALL);
	}

	/**
	*销毁函数
	*/
	__proto.dispo=function(){
		this.removeChildren();
		this.removeSelf();
	}

	return BagView;
})(BagViewUI$1)


	Laya.__init([LoaderManager,EventDispatcher,Avatar3D,Alias,Sprite3DUtil,SceneUtils,View,JoinInfo,Shake,WebGLContext2D,ShaderCompile,Render,Timer,Script$1,DataDecoder,Earcut,WcommandWin,Path,GraphicAnimation,Avatar2DUtil,KscrollBar,KscrollPane,WeditProtyMnger,WpopManager,WlistV,WcopyPasteMnger,BitmapFactory,WeditProtyContain,Wtween,WstateInfo,RankListInfo]);
	new Sniper();

})(window,document,Laya);


/*
1 file:///H:/work/sniper/WLBLaya/src/wlb/dream/utils/WstateInfo.as (122):warning:EO This variable is not defined.
2 file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Scene.as (43):warning:GameConfig.sceneRoot This variable is not defined.
3 file:///H:/work/sniper/sniper/client/libs/laya/src/laya/display/Scene.as (43):warning:GameConfig.sceneRoot This variable is not defined.
4 file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/DialogManager.as (112):warning:timer.callLater This variable is not defined.
5 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (21):warning:_w This variable is not defined.
6 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (22):warning:_h This variable is not defined.
7 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (35):warning:_source This variable is not defined.
8 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (36):warning:_w This variable is not defined.
9 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (37):warning:_h This variable is not defined.
10 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (63):warning:memorySize This variable is not defined.
11 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (65):warning:memorySize This variable is not defined.
12 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (78):warning:_w This variable is not defined.
13 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (79):warning:_h This variable is not defined.
14 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (117):warning:completeCreate This variable is not defined.
15 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (126):warning:_source This variable is not defined.
16 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (127):warning:_source This variable is not defined.
17 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (127):warning:dispose This variable is not defined.
18 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (128):warning:_source This variable is not defined.
19 file:///H:/work/sniper/WLBLaya/src/wlb/dream/bimaps/ColorBitmap.as (129):warning:memorySize This variable is not defined.
20 file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/View.as (106):warning:GameConfig.sceneRoot This variable is not defined.
21 file:///H:/work/sniper/sniper/client/libs/laya/src/laya/ui/View.as (106):warning:GameConfig.sceneRoot This variable is not defined.
22 file:///H:/work/sniper/WLBLaya/src/tool/dream/displays/WcommandWin.as (202):warning:int.MAX_VALUE This variable is not defined.
23 file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as (79):warning:_col This variable is not defined.
24 file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as (80):warning:_row This variable is not defined.
25 file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as (81):warning:_row This variable is not defined.
26 file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as (500):warning:_scrollRect.x This variable is not defined.
27 file:///H:/work/sniper/WLBLaya/src/wlb/dream/displays/coms/Wtree.as (501):warning:_scrollRect This variable is not defined.
28 file:///H:/work/sniper/sniper/client/src/gameUIViews/view/battle/BProgressBar.as (112):warning:timer.clear This variable is not defined.
*/
if (typeof define === 'function' && define.amd){
	define('laya.core', ['require', "exports"], function(require, exports) {
        'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        for (var i in Laya) {
			var o = Laya[i];
            o && o.__isclass && (exports[i] = o);
        }
    });
}